module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=121)}([function(e,t){e.exports=require("vscode")},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),s=r(34),a=r(48),u=r(49),c=r(123);class l{constructor(){this.leaderDefault="\\",this.cursorTypeMap={line:o.TextEditorCursorStyle.Line,block:o.TextEditorCursorStyle.Block,underline:o.TextEditorCursorStyle.Underline,"line-thin":o.TextEditorCursorStyle.LineThin,"block-outline":o.TextEditorCursorStyle.BlockOutline,"underline-thin":o.TextEditorCursorStyle.UnderlineThin},this.handleKeys=[],this.useSystemClipboard=!1,this.useCtrlKeys=!1,this.overrideCopy=!0,this.textwidth=80,this.hlsearch=!1,this.ignorecase=!0,this.smartcase=!0,this.autoindent=!0,this.sneak=!1,this.sneakUseIgnorecaseAndSmartcase=!1,this.surround=!0,this.easymotion=!1,this.easymotionMarkerBackgroundColor="",this.easymotionMarkerForegroundColorOneChar="#ff0000",this.easymotionMarkerForegroundColorTwoChar="#ffa500",this.easymotionMarkerWidthPerChar=8,this.easymotionMarkerHeight=14,this.easymotionMarkerFontFamily="Consolas",this.easymotionMarkerFontSize="14",this.easymotionMarkerFontWeight="normal",this.easymotionMarkerYOffset=0,this.easymotionKeys="hklyuiopnm,qwertzxcvbasdgjf;",this.easymotionJumpToAnywhereRegex="\\b[A-Za-z0-9]|[A-Za-z0-9]\\b|_.|#.|[a-z][A-Z]",this.autoSwitchInputMethod={enable:!1,defaultIM:"",obtainIMCmd:"",switchIMCmd:""},this.timeout=1e3,this.showcmd=!0,this.showmodename=!0,this.leader=this.leaderDefault,this.history=50,this.incsearch=!0,this.startInInsertMode=!1,this.statusBarColorControl=!1,this.statusBarColors={normal:"#005f5f",insert:"#5f0000",visual:"#5f00af",visualline:"#005f87",visualblock:"#86592d",replace:"#000000"},this.debug={loggingLevel:"error"},this.searchHighlightColor="rgba(150, 150, 255, 0.3)",this.iskeyword="/\\()\"':,.;<>~!@#$%^&*|+=[]{}`?-",this.boundKeyCombinations=[],this.visualstar=!1,this.mouseSelectionGoesIntoVisualMode=!0,this.changeWordIncludesWhitespace=!1,this.foldfix=!1,this.disableExtension=!1,this.enableNeovim=!1,this.neovimPath="nvim",this.substituteGlobalFlag=!1,this.whichwrap="",this.wrapKeys={},this.cursorStylePerMode={normal:void 0,insert:void 0,visual:void 0,visualline:void 0,visualblock:void 0,replace:void 0},this.insertModeKeyBindings=[],this.insertModeKeyBindingsNonRecursive=[],this.normalModeKeyBindings=[],this.normalModeKeyBindingsNonRecursive=[],this.visualModeKeyBindings=[],this.visualModeKeyBindingsNonRecursive=[],this.reload()}reload(){let e=s.Globals.isTesting?s.Globals.mockConfiguration:this.getConfiguration("vim");for(const t in this){let r=e[t];null!=r&&(r.constructor.name===Object.name&&(r=this.unproxify(r)),this[t]=r)}this.leader=u.Notation.NormalizeKey(this.leader,this.leaderDefault);const t=[this.insertModeKeyBindings,this.insertModeKeyBindingsNonRecursive,this.normalModeKeyBindings,this.normalModeKeyBindingsNonRecursive,this.visualModeKeyBindings,this.visualModeKeyBindingsNonRecursive];for(const e of t)for(let t of e)t.before&&t.before.forEach((e,r)=>t.before[r]=u.Notation.NormalizeKey(e,this.leader)),t.after&&t.after.forEach((e,r)=>t.after[r]=u.Notation.NormalizeKey(e,this.leader));this.wrapKeys={};for(const e of this.whichwrap.split(","))this.wrapKeys[e]=!0;this.boundKeyCombinations=[];for(let e of c.contributes.keybindings){if(-1!==e.when.indexOf("listFocus"))continue;let t=e.key;"darwin"===process.platform?t=e.mac||t:"linux"===process.platform&&(t=e.linux||t),this.boundKeyCombinations.push({key:u.Notation.NormalizeKey(t,this.leader),command:e.command})}for(const e of this.boundKeyCombinations){let t=!0,r=this.handleKeys[e.key];void 0!==r?t=r:this.useCtrlKeys||"C-"!==e.key.slice(1,3)||(t=!("<C-c>"!==e.key||!this.overrideCopy)),o.commands.executeCommand("setContext",`vim.use${e.key}`,t)}o.commands.executeCommand("setContext","vim.overrideCopy",this.overrideCopy),o.commands.executeCommand("setContext","vim.overrideCtrlC",this.overrideCopy||this.useCtrlKeys)}unproxify(e){let t={};for(const r in e){let n=e[r];null!=n&&(t[r]=n)}return t}getConfiguration(e=""){let t=void 0,r=o.window.activeTextEditor;return r&&(t=r.document.uri),o.workspace.getConfiguration(e,t)}cursorStyleFromString(e){return this.cursorTypeMap[e]}get editorCursorStyle(){return this.cursorStyleFromString(this.editorCursorStyleRaw)}set editorCursorStyle(e){}get disableExt(){return this.disableExtension}set disableExt(e){this.disableExtension=e,this.getConfiguration("vim").update("disableExtension",e,o.ConfigurationTarget.Global)}getCursorStyleForMode(e){let t=this.cursorStylePerMode[e.toLowerCase()];if(t)return this.cursorStyleFromString(t)}}function d(e){return function(t,r){Object.defineProperty(t,r,{get:function(){if(void 0!==this["_"+r])return this["_"+r];let t=this.getConfiguration("editor").get(e.settingName,e.defaultValue);return e.map&&void 0!==t&&(t=e.map.get(t)),t},set:function(t){this["_"+r]=t,void 0===t||s.Globals.isTesting||a.taskQueue.enqueueTask(()=>i(this,void 0,void 0,function*(){if(e.map)for(let[r,n]of e.map.entries())if(t===n){t=r;break}yield this.getConfiguration("editor").update(e.settingName,t,o.ConfigurationTarget.Global)}),"config")},enumerable:!0,configurable:!0})}}n([d({settingName:"tabSize",defaultValue:8})],l.prototype,"tabstop",void 0),n([d({settingName:"cursorStyle",defaultValue:"line"})],l.prototype,"editorCursorStyleRaw",void 0),n([d({settingName:"insertSpaces",defaultValue:!1})],l.prototype,"expandtab",void 0),n([d({settingName:"lineNumbers",defaultValue:!0,map:new Map([["on",!0],["off",!1],["relative",!1],["interval",!1]])})],l.prototype,"number",void 0),n([d({settingName:"lineNumbers",defaultValue:!1,map:new Map([["on",!1],["off",!1],["relative",!0],["interval",!1]])})],l.prototype,"relativenumber",void 0),t.configuration=new l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21),i=r(0),o=r(1),s=r(50),a=r(5);class u{constructor(e,t){this._line=e,this._character=t}static NewBOLDiff(e=0,t=0){const r=new u(e,t);return r._isBOLDiff=!0,r}addDiff(e){if(this._isBOLDiff||e._isBOLDiff)throw new Error("johnfn hasn't done this case yet and doesnt want to");return new u(this._line+e._line,this._character+e._character)}addPosition(e,{boundsCheck:t=!0}={}){let r=this.isBOLDiff()?0:this.character+e.character,n=this.line+e.line;return t&&(r<0&&(r=0),n<0&&(n=0)),new c(n,r)}get line(){return this._line}get character(){return this._character}isBOLDiff(){return this._isBOLDiff}toString(){return this._isBOLDiff?"[ Diff: BOL ]":`[ Diff: ${this._line} ${this._character} ]`}}t.PositionDiff=u;class c extends i.Position{constructor(e,t){super(e,t),this._nonWordCharRegex=this.makeWordRegex(c.NonWordCharacters),this._nonBigWordCharRegex=this.makeWordRegex(c.NonBigWordCharacters),this._sentenceEndRegex=/[\.!\?]{1}([ \n\t]+|$)/g,this._nonFileNameRegex=this.makeWordRegex(c.NonFileCharacters)}toString(){return`[${this.line}, ${this.character}]`}static FromVSCodePosition(e){return new c(e.line,e.character)}static EarlierOf(e,t){return e.line<t.line?e:e.line===t.line&&e.character<t.character?e:t}isEarlierThan(e){return this.line<e.line||this.line===e.line&&this.character<e.character}static*IterateDocument(e,t=!0){let r,n;if(t)for(r=e.line;r<a.TextEditor.getLineCount();r++){n=r===e.line?e.character:0;const t=a.TextEditor.getLineAt(new c(r,0)).text;for(;n<t.length;n++)yield{line:t,char:t[n],pos:new c(r,n)}}else for(r=e.line;r>=0;r--){const t=a.TextEditor.getLineAt(new c(r,0)).text;for(n=r===e.line?e.character:t.length-1;n>=0;n--)yield{line:t,char:t[n],pos:new c(r,n)}}}static*IterateBlock(e,t){for(let r=e.line;r<=t.line;r++){const n=a.TextEditor.getLineAt(new c(r,0)).text;for(let i=e.character;i<t.character+1;i++)yield{line:n,char:n[i],pos:new c(r,i)}}}static*IterateSelection(e,t){for(let r=e.line;r<=t.line;r++){const n=a.TextEditor.getLineAt(new c(r,0)).text;if(r===e.line)for(let t=e.character;t<n.length+1;t++)yield{line:n,char:n[t],pos:new c(r,t)};else if(r===t.line)for(let e=0;e<t.character+1;e++)yield{line:n,char:n[e],pos:new c(r,e)};else for(let e=0;e<n.length+1;e++)yield{line:n,char:n[e],pos:new c(r,e)}}}static*IterateLine(e,t={reverse:!1}){const{reverse:r}=t,n=e.cursorStartPosition,i=e.cursorPosition,o=s.VisualBlockMode.getTopLeftPosition(n,i),u=s.VisualBlockMode.getBottomRightPosition(n,i),l=e.desiredColumn===Number.POSITIVE_INFINITY,d=r?u.line:o.line,h=r?o.line:u.line;for(let e=d;r?e>=h:e<=h;r?e--:e++){const t=a.TextEditor.getLineAt(new c(e,0)).text,r=l?t.length+1:Math.min(t.length,u.character+1);yield{line:t.substring(o.character,r),start:new c(e,o.character),end:new c(e,r)}}}static*IterateWords(e){const t=a.TextEditor.getLineAt(e).text;let r=e.getCurrentWordEnd(!0);for(;;){const n=t.substring(e.character,r.character+1);if(yield{start:e,end:r,word:n},r.getRight().isLineEnd())return;r=(e=e.getWordRight()).getCurrentWordEnd(!0)}}static LaterOf(e,t){return c.EarlierOf(e,t)===e?t:e}subtract(e){return new u(this.line-e.line,this.character-e.character)}add(e,{boundsCheck:t=!0}={}){let r=this.character+e.character,n=this.line+e.line;return e.isBOLDiff()&&(r=e.character),t&&(r<0&&(r=0),n<0&&(n=0),n>=a.TextEditor.getLineCount()-1&&(n=a.TextEditor.getLineCount()-1)),new c(n,r)}setLocation(e,t){return new c(e,t)}getLeftTabStop(){if(!this.isLineBeginning()){let e=a.TextEditor.getIndentationLevel(a.TextEditor.getLineAt(this).text),t=i.window.activeTextEditor.options.tabSize;return new c(this.line,e%t>0?Math.max(0,this.character-e%t):Math.max(0,this.character-t))}return this}getLeft(e=1){let t=Math.max(this.character-e,0);return t!==this.character?new c(this.line,t):this}getLeftThroughLineBreaks(e=!0){return this.isLineBeginning()?0===this.line?this:e?this.getUp(0).getLineEnd():this.getUp(0).getLineEnd().getLeft():this.getLeft()}getRightThroughLineBreaks(e=!1){return this.isAtDocumentEnd()?this:this.isLineEnd()?this.getDown(0):!e&&this.getRight().isLineEnd()?this.getDown(0):this.getRight()}getRight(e=1){return this.isLineEnd()?this:new c(this.line,this.character+e)}getDown(e){if(this.getDocumentEnd().line!==this.line){let t=this.line+1,r=c.getLineLength(t);return new c(t,Math.min(r,e))}return this}getUp(e){if(this.getDocumentBegin().line!==this.line){let t=this.line-1,r=c.getLineLength(t);return new c(t,Math.min(r,e))}return this}getDownByCount(e=0,{boundsCheck:t=!0}={}){const r=t?Math.min(a.TextEditor.getLineCount()-1,this.line+e):this.line+e;return new c(r,this.character)}getUpByCount(e=0){return new c(Math.max(0,this.line-e),this.character)}getLeftByCount(e=0){return new c(this.line,Math.max(0,this.character-e))}getRightByCount(e=0){return new c(this.line,Math.min(a.TextEditor.getLineAt(this).text.length-1,this.character+e))}getWordLeft(e=!1){return this.getWordLeftWithRegex(this._nonWordCharRegex,e)}getBigWordLeft(e=!1){return this.getWordLeftWithRegex(this._nonBigWordCharRegex,e)}getFilePathLeft(e=!1){return this.getWordLeftWithRegex(this._nonFileNameRegex,e)}getWordRight(e=!1){return this.getWordRightWithRegex(this._nonWordCharRegex,e)}getBigWordRight(e=!1){return this.getWordRightWithRegex(this._nonBigWordCharRegex)}getFilePathRight(e=!1){return this.getWordRightWithRegex(this._nonFileNameRegex,e)}getLastWordEnd(){return this.getLastWordEndWithRegex(this._nonWordCharRegex)}getLastBigWordEnd(){return this.getLastWordEndWithRegex(this._nonBigWordCharRegex)}getCurrentWordEnd(e=!1){return this.getCurrentWordEndWithRegex(this._nonWordCharRegex,e)}getCurrentBigWordEnd(e=!1){return this.getCurrentWordEndWithRegex(this._nonBigWordCharRegex,e)}getSectionBoundary(e){let t=this;if(e.forward&&t.line===a.TextEditor.getLineCount()-1||!e.forward&&0===t.line)return t.getFirstLineNonBlankChar();for(t=e.forward?t.getDown(0):t.getUp(0);!a.TextEditor.getLineAt(t).text.startsWith(e.boundary);)if(e.forward){if(t.line===a.TextEditor.getLineCount()-1)break;t=t.getDown(0)}else{if(0===t.line)break;t=t.getUp(0)}return t.getFirstLineNonBlankChar()}getCurrentParagraphEnd(e=!1){let t=this;for(;t.isLineBlank(e)&&!a.TextEditor.isLastLine(t);)t=t.getDown(0);for(;!t.isLineBlank(e)&&t.line<a.TextEditor.getLineCount()-1;)t=t.getDown(0);return t.getLineEnd()}getCurrentParagraphBeginning(e=!1){let t=this;for(;t.isLineBlank(e)&&!a.TextEditor.isFirstLine(t);)t=t.getUp(0);for(;t.line>0&&!t.isLineBlank(e);)t=t.getUp(0);return t.getLineBegin()}isLineBlank(e=!1){let t=a.TextEditor.getLineAt(this).text;return""===(e?t.trim():t)}isLineWhite(){return this.isLineBlank(!0)}getSentenceBegin(e){return e.forward?this.getNextSentenceBeginWithRegex(this._sentenceEndRegex,!1):this.getPreviousSentenceBeginWithRegex(this._sentenceEndRegex,!1)}getCurrentSentenceEnd(){return this.getCurrentSentenceEndWithRegex(this._sentenceEndRegex,!1)}getLineBegin(){return new c(this.line,0)}getLineBeginRespectingIndent(){return o.configuration.autoindent?this.getFirstLineNonBlankChar():this.getLineBegin()}getPreviousLineBegin(){return 0===this.line?this.getLineBegin():new c(this.line-1,0)}getNextLineBegin(){return this.line>=a.TextEditor.getLineCount()-1?this.getLineEnd():new c(this.line+1,0)}getLineEnd(){return new c(this.line,c.getLineLength(this.line))}getLineEndIncludingEOL(){return new c(this.line,c.getLineLength(this.line)+1)}getDocumentBegin(){return new c(0,0)}getLeftIfEOL(){return this.character===c.getLineLength(this.line)?this.getLeft():this}advancePositionByText(e){const t=(e.match(/\n/g)||[]).length;return new c(this.line+t,0===t?this.character+e.length:e.length-(e.lastIndexOf("\n")+1))}getDocumentEnd(){let e=a.TextEditor.getLineCount(),t=e>0?e-1:0,r=c.getLineLength(t);return new c(t,r)}isValid(){try{let e=a.TextEditor.getLineCount()||1;if(this.line>=e)return!1;let t=c.getLineLength(this.line);if(this.character>t+1)return!1}catch(e){return!1}return!0}isLineBeginning(){return 0===this.character}isLineEnd(){return this.character>=c.getLineLength(this.line)}isFirstWordOfLine(){return c.getFirstNonBlankCharAtLine(this.line)===this.character}isAtDocumentBegin(){return 0===this.line&&this.isLineBeginning()}isAtDocumentEnd(){return this.line===a.TextEditor.getLineCount()-1&&this.isLineEnd()}isInLeadingWhitespace(e=!1){return e?/^\s*$/.test(a.TextEditor.getText(new i.Range(this.getLineBegin(),this))):/^\s+$/.test(a.TextEditor.getText(new i.Range(this.getLineBegin(),this)))}static getFirstNonBlankCharAtLine(e){return a.TextEditor.readLineAt(e).match(/^\s*/)[0].length}getFirstLineNonBlankChar(){return new c(this.line,c.getFirstNonBlankCharAtLine(this.line))}static getLineLength(e){return a.TextEditor.readLineAt(e).length}makeWordRegex(e){let t=e&&n.escapeRegExp(e).replace(/-/g,"\\-"),r=[];return r.push(`([^\\s${t}]+)`),r.push(`[${t}]+`),r.push("$^"),new RegExp(r.join("|"),"g")}getAllPositions(e,t){let r=[],n=t.exec(e);for(;n;)r.push(n.index),n.index===t.lastIndex&&t.lastIndex++,n=t.exec(e);return r}getAllEndPositions(e,t){let r=[],n=t.exec(e);for(;n;)n[0].length&&r.push(n.index+n[0].length-1),n.index===t.lastIndex&&t.lastIndex++,n=t.exec(e);return r}getWordLeftWithRegex(e,t=!1){for(let r=this.line;r>=0;r--){let o=this.getAllPositions(a.TextEditor.getLineAt(new i.Position(r,0)).text,e),s=n.find(o.reverse(),e=>e<this.character&&!t||e<=this.character&&t||r!==this.line);if(void 0!==s)return new c(r,s)}return new c(0,0).getLineBegin()}getWordRightWithRegex(e,t=!1){for(let r=this.line;r<a.TextEditor.getLineCount();r++){let o=this.getAllPositions(a.TextEditor.getLineAt(new i.Position(r,0)).text,e),s=n.find(o,e=>e>this.character&&!t||e>=this.character&&t||r!==this.line);if(void 0!==s)return new c(r,s)}return new c(a.TextEditor.getLineCount()-1,0).getLineEnd()}getLastWordEndWithRegex(e){for(let t=this.line;t<a.TextEditor.getLineCount();t++){let r=this.getAllEndPositions(a.TextEditor.getLineAt(new i.Position(t,0)).text,e),o=n.findIndex(r,e=>e>=this.character||t!==this.line),s=0;if(-1===o?s=r[r.length-1]:o>0&&(s=r[o-1]),void 0!==s)return new c(t,s)}return new c(a.TextEditor.getLineCount()-1,0).getLineEnd()}getCurrentWordEndWithRegex(e,t){for(let r=this.line;r<a.TextEditor.getLineCount();r++){let o=this.getAllEndPositions(a.TextEditor.getLineAt(new i.Position(r,0)).text,e),s=n.find(o,e=>e>this.character&&!t||e>=this.character&&t||r!==this.line);if(void 0!==s)return new c(r,s)}return new c(a.TextEditor.getLineCount()-1,0).getLineEnd()}getPreviousSentenceBeginWithRegex(e,t){let r=this.getCurrentParagraphBeginning();for(let o=this.line;o>=r.line;o--){let r=this.getAllEndPositions(a.TextEditor.getLineAt(new i.Position(o,0)).text,e),s=n.find(r.reverse(),e=>e<this.character&&!t&&new c(o,e).getRightThroughLineBreaks().compareTo(this)||e<=this.character&&t||o!==this.line);if(void 0!==s)return new c(o,s).getRightThroughLineBreaks()}return r.line+1===this.line||r.line===this.line?r:new c(r.line+1,0)}getNextSentenceBeginWithRegex(e,t){let r=this.getCurrentParagraphEnd();for(let o=this.line;o<=r.line;o++){let r=this.getAllEndPositions(a.TextEditor.getLineAt(new i.Position(o,0)).text,e),s=n.find(r,e=>e>this.character&&!t||e>=this.character&&t||o!==this.line);if(void 0!==s)return new c(o,s).getRightThroughLineBreaks()}return this.getFirstNonWhitespaceInParagraph(r,t)}getCurrentSentenceEndWithRegex(e,t){let r=this.getCurrentParagraphEnd();for(let o=this.line;o<=r.line;o++){let r=this.getAllPositions(a.TextEditor.getLineAt(new i.Position(o,0)).text,e),s=n.find(r,e=>e>this.character&&!t||e>=this.character&&t||o!==this.line);if(void 0!==s)return new c(o,s)}return this.getFirstNonWhitespaceInParagraph(r,t)}getFirstNonWhitespaceInParagraph(e,t){if(a.TextEditor.getLineAt(new i.Position(this.line,0)).text)return e;for(let r=this.line;r<=e.line;r++){let e=this.getAllPositions(a.TextEditor.getLineAt(new i.Position(r,0)).text,/\S/g),o=n.find(e,e=>e>this.character&&!t||e>=this.character&&t||r!==this.line);if(void 0!==o)return new c(r,o)}throw new Error("This should never happen...")}findHelper(e,t,r){const n=a.TextEditor.getLineAt(this);let i=this.character;for(;t&&-1!==i;)i=r>0?n.text.indexOf(e,i+r):n.text.lastIndexOf(e,i+r),t--;if(i>-1)return new c(this.line,i)}tilForwards(e,t=1){const r=this.findHelper(e,t,1);return r?new c(this.line,r.character-1):null}tilBackwards(e,t=1){const r=this.findHelper(e,t,-1);return r?new c(this.line,r.character+1):null}findForwards(e,t=1){const r=this.findHelper(e,t,1);return r?new c(this.line,r.character):null}findBackwards(e,t=1){const r=this.findHelper(e,t,-1);return r||null}}c.NonWordCharacters=o.configuration.iskeyword,c.NonBigWordCharacters="",c.NonFileCharacters="\"'`;<>{}[]()",t.Position=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);var i,o;!function(e){e[e.Normal=0]="Normal",e[e.Insert=1]="Insert",e[e.Visual=2]="Visual",e[e.VisualBlock=3]="VisualBlock",e[e.VisualLine=4]="VisualLine",e[e.SearchInProgressMode=5]="SearchInProgressMode",e[e.CommandlineInProgress=6]="CommandlineInProgress",e[e.Replace=7]="Replace",e[e.EasyMotionMode=8]="EasyMotionMode",e[e.EasyMotionInputMode=9]="EasyMotionInputMode",e[e.SurroundInputMode=10]="SurroundInputMode",e[e.Disabled=11]="Disabled"}(i=t.ModeName||(t.ModeName={})),function(e){e[e.Block=0]="Block",e[e.Line=1]="Line",e[e.LineThin=2]="LineThin",e[e.Underline=3]="Underline",e[e.TextDecoration=4]="TextDecoration",e[e.Native=5]="Native"}(o=t.VSCodeVimCursorType||(t.VSCodeVimCursorType={}));class s{constructor(e,t,r,n=!1){this.name=e,this.cursorType=r,this.isVisualMode=n,this._statusBarText=t,this._isActive=!1}get friendlyName(){return i[this.name]}get isActive(){return this._isActive}set isActive(e){this._isActive=e}getStatusBarText(e){return this._statusBarText.toLocaleUpperCase()}getStatusBarCommandText(e){return e.recordedState.commandString}static translateCursor(e){return this._cursorMap.get(e)}}s._cursorMap=new Map([[o.Block,n.TextEditorCursorStyle.Block],[o.Line,n.TextEditorCursorStyle.Line],[o.LineThin,n.TextEditorCursorStyle.LineThin],[o.Underline,n.TextEditorCursorStyle.Underline],[o.TextDecoration,n.TextEditorCursorStyle.LineThin],[o.Native,n.TextEditorCursorStyle.Block]]),t.Mode=s},function(e,t,r){"use strict";Object.defineProperty(t,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(t,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(t,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(t,"configs",{value:r(135)})},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(2),s=r(1);class a{static get isActive(){return null!=i.window.activeTextEditor}static insert(e,t,r){return n(this,void 0,void 0,function*(){return void 0===r&&(r=1===e.length),r?yield i.commands.executeCommand("default:type",{text:e}):yield i.window.activeTextEditor.edit(r=>{t||(t=o.Position.FromVSCodePosition(i.window.activeTextEditor.selection.active)),r.insert(t,e)}),!0})}static insertAt(e,t){return n(this,void 0,void 0,function*(){return i.window.activeTextEditor.edit(r=>{r.insert(t,e)})})}static delete(e){return n(this,void 0,void 0,function*(){return i.window.activeTextEditor.edit(t=>{t.delete(e)})})}static getDocumentVersion(){return i.window.activeTextEditor.document.version}static getDocumentName(){return i.window.activeTextEditor.document.fileName}static deleteDocument(){return n(this,void 0,void 0,function*(){const e=new i.Position(0,0),t=i.window.activeTextEditor.document.lineCount-1,r=i.window.activeTextEditor.document.lineAt(t).range.end,n=new i.Range(e,r);return i.window.activeTextEditor.edit(e=>{e.delete(n)})})}static replace(e,t){return n(this,void 0,void 0,function*(){return i.window.activeTextEditor.edit(r=>{r.replace(e,t)})})}static replaceText(e,t,r,n,i){const o={type:"replaceText",text:t,start:r,end:n};i&&(o.diff=i),e.recordedState.transformations.push(o)}static readLine(){const e=i.window.activeTextEditor.selection.active.line;return i.window.activeTextEditor.document.lineAt(e).text}static readLineAt(e){if(null===e&&(e=i.window.activeTextEditor.selection.active.line),e>=i.window.activeTextEditor.document.lineCount)throw new RangeError;return i.window.activeTextEditor.document.lineAt(e).text}static getLineCount(){return i.window.activeTextEditor.document.lineCount}static getLineAt(e){return i.window.activeTextEditor.document.lineAt(e)}static getCharAt(e){return a.getLineAt(e).text[e.character]}static getLineMaxColumn(e){if(e<0||e>a.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return a.readLineAt(e).length}static getSelection(){return i.window.activeTextEditor.selection}static getText(e){return i.window.activeTextEditor.document.getText(e)}static getWord(e){let t=e,r=e.getRight();const n=a.getText(new i.Range(t,r));r=(t=this.whitespaceRegExp.test(n)?e.getWordRight():e.getWordLeft(!0)).getCurrentWordEnd(!0).getRight();const o=a.getText(new i.Range(t,r));if(!this.whitespaceRegExp.test(o))return o}static isFirstLine(e){return 0===e.line}static isLastLine(e){return e.line===i.window.activeTextEditor.document.lineCount-1}static getIndentationLevel(e){let t=s.configuration.tabstop,r=0,n=e.match(/^\s*/);n&&(r=n[0].length);let i=0;if(!(r>=0))return-1;for(const n of e.substring(0,r))switch(n){case"\t":i+=t;break;case" ":i+=1}return i}static setIndentationLevel(e,t){let r=s.configuration.tabstop;t<0&&(t=0);let n="";s.configuration.expandtab?n+=new Array(t+1).join(" "):(t/r>0&&(n+=new Array(Math.floor(t/r)+1).join("\t")),n+=new Array(t%r+1).join(" "));let i=0,o=e.match(/^\s*/);return o&&(i=o[0].length),n+e.substring(i,e.length)}static getPositionAt(e){const t=i.window.activeTextEditor.document.positionAt(e);return new o.Position(t.line,t.character)}static getOffsetAt(e){return i.window.activeTextEditor.document.offsetAt(e)}}a.whitespaceRegExp=new RegExp("^ *$"),t.TextEditor=a},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(30);class s{constructor(){this.left=[],this.right=[]}addToken(e){if(e.type!==o.TokenType.Comma)if(this.separator){if(this.right.length>0)switch(e.type){case o.TokenType.Offset:case o.TokenType.Plus:case o.TokenType.Minus:break;default:throw Error("Trailing characters")}this.right.push(e)}else{if(this.left.length>0)switch(e.type){case o.TokenType.Offset:case o.TokenType.Plus:case o.TokenType.Minus:break;default:throw Error("Trailing characters")}this.left.push(e)}else this.separator=e}get isEmpty(){return 0===this.left.length&&0===this.right.length&&!this.separator}toString(){return this.left.toString()+this.separator.content+this.right.toString()}execute(e,t){if(!this.isEmpty){var r=0===this.right.length?this.left:this.right,n=this.lineRefToPosition(e,r,t);t.cursorPosition=t.cursorPosition.setLocation(n.line,n.character),t.cursorStartPosition=t.cursorPosition}}lineRefToPosition(e,t,r){let n,s=0,a=void 0;const u=t[0];switch(u.type){case o.TokenType.Percent:return new i.Position(e.document.lineCount-1,0);case o.TokenType.Dollar:n=e.document.lineCount-1;break;case o.TokenType.Plus:case o.TokenType.Minus:case o.TokenType.Dot:n=e.selection.active.line,a=u.type===o.TokenType.Dot?void 0:u.type;break;case o.TokenType.LineNumber:n=Number.parseInt(u.content,10)-1;break;case o.TokenType.SelectionFirstLine:n=Math.min.apply(null,e.selections.map(e=>e.start.isBeforeOrEqual(e.end)?e.start.line:e.end.line));break;case o.TokenType.SelectionLastLine:n=Math.max.apply(null,e.selections.map(e=>e.start.isAfter(e.end)?e.start.line:e.end.line));break;case o.TokenType.Mark:n=r.historyTracker.getMark(u.content).position.line,s=r.historyTracker.getMark(u.content).position.character;break;default:throw new Error("Not Implemented")}for(let e=1;e<t.length;++e){let r=t[e];switch(a){case o.TokenType.Plus:switch(r.type){case o.TokenType.Minus:case o.TokenType.Plus:n+=1,s=0,a=r.type;break;case o.TokenType.Offset:n+=Number.parseInt(r.content,10),s=0,a=void 0;break;default:throw Error("Trailing characters")}break;case o.TokenType.Minus:switch(r.type){case o.TokenType.Minus:case o.TokenType.Plus:n-=1,s=0,a=r.type;break;case o.TokenType.Offset:n-=Number.parseInt(r.content,10),s=0,a=void 0;break;default:throw Error("Trailing characters")}break;case void 0:switch(r.type){case o.TokenType.Minus:case o.TokenType.Plus:a=r.type;break;default:throw Error("Trailing characters")}}}switch(a){case o.TokenType.Plus:n+=1,s=0;break;case o.TokenType.Minus:n-=1,s=0}return n=Math.max(0,n),n=Math.min(e.document.lineCount-1,n),new i.Position(n,s)}}t.LineRange=s;t.CommandLine=class{constructor(){this.range=new s}get isEmpty(){return this.range.isEmpty&&!this.command}toString(){return":"+this.range.toString()+" "+this.command.toString()}execute(e,t){return n(this,void 0,void 0,function*(){this.command?this.range.isEmpty?yield this.command.execute(t):yield this.command.executeWithRange(t,this.range):this.range.execute(e,t)})}};t.CommandBase=class{constructor(){this.neovimCapable=!1}get activeTextEditor(){return i.window.activeTextEditor}get name(){return this._name}get arguments(){return this._arguments}executeWithRange(e,t){throw new Error("Not implemented!")}}},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";class n extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ${e.toString().split("\n")[0]}\n`),Error.captureStackTrace(this,n)}}e.exports=(e=>{if(e.length>2)throw new n(e);function t(e={}){this.options=e}function r(e){return new t(e)}return t.prototype.transform=e,r.Format=t,r})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.start=0,this.pos=0,this.input=e}next(){if(this.isAtEof)return this.pos=this.input.length,n.EOF;let e=this.input[this.pos];return this.pos++,e}nextWord(e=[" ","\t"]){if(this.skipRun(e),this.isAtEof)return this.pos=this.input.length,n.EOF;let t="",r=void 0;for(;!this.isAtEof&&(r=this.next())!==n.EOF&&-1===e.indexOf(r);)t+=r;return r&&-1!==e.indexOf(r)&&this.backup(),this.ignore(),t}get isAtEof(){return this.pos>=this.input.length}ignore(){this.start=this.pos}emit(){let e=this.input.substring(this.start,this.pos);return this.ignore(),e}remaining(){for(;!this.isAtEof;)this.next();return this.emit()}backup(){this.pos--}skip(e){if(!this.isAtEof){for(var t=this.next();!this.isAtEof&&t===e;)t=this.next();this.backup(),this.ignore()}}skipRun(e){if(!this.isAtEof){for(;!this.isAtEof;){var t=this.next();if(-1===e.indexOf(t))break}this.backup(),this.ignore()}}skipWhiteSpace(){if(this.isAtEof)return;let e=null;for(;!this.isAtEof&&(" "===(e=this.next())||"\t"===e););e!==n.EOF&&" "!==e&&"\t"!==e&&this.backup(),this.ignore()}expect(e){if(!this.input.substring(this.pos).startsWith(e))throw new Error("Unexpected character.");this.pos+=e.length}expectOneOf(e){let t=e.filter(e=>this.input.substr(this.pos).startsWith(e));if(1!==t.length){if(t.length>1)throw new Error("Too many matches.");throw new Error("Unexpected character.")}this.pos+=t[0].length}}n.EOF="__EOF__",t.Scanner=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(49);class o{constructor(){this.isMotion=!1,this.isJump=!1,this.canBeRepeatedWithDot=!1,this.mustBeFirstKey=!1,this.isOperator=!1,this.keysPressed=[]}doesActionApply(e,t){return-1!==this.modes.indexOf(e.currentMode)&&(!!o.CompareKeypressSequence(this.keys,t)&&!(this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length-t.length>0))}couldActionApply(e,t){if(-1===this.modes.indexOf(e.currentMode))return!1;const r=(o.is2DArray(this.keys)?this.keys:[this.keys]).map(e=>e.slice(0,t.length));return!!o.CompareKeypressSequence(r,t)&&!(this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length-t.length>0)}static CompareKeypressSequence(e,t){if(o.is2DArray(e)){for(const r of e)if(o.CompareKeypressSequence(r,t))return!0;return!1}if(e.length!==t.length)return!1;const r=/^[0-9]$/,s=/^[a-zA-Z]$/;for(let o=0,a=0;o<e.length;o++,a++){const u=e[o],c=t[a];if("<any>"!==u&&("<any>"!==c&&("<number>"!==u||!r.test(c))&&("<number>"!==c||!r.test(u))&&("<alpha>"!==u||!s.test(c))&&("<alpha>"!==c||!s.test(u))&&("<character>"!==u||i.Notation.IsControlKey(c))&&("<character>"!==c||i.Notation.IsControlKey(u))&&!("<leader>"===u&&c===n.configuration.leader||"<leader>"===c&&u===n.configuration.leader))){if(u===n.configuration.leader)return!1;if(c===n.configuration.leader)return!1;if(u!==c)return!1}}return!0}toString(){return this.keys.join("")}static is2DArray(e){return Array.isArray(e[0])}}var s;t.BaseAction=o,function(e){e[e.WaitingOnKeys=0]="WaitingOnKeys",e[e.NoPossibleMatch=1]="NoPossibleMatch"}(s=t.KeypressState||(t.KeypressState={}));class a{static getRelevantAction(e,t){let r=!1;var n=a.actionMap.get(t.currentMode)||[];for(const i of n){const n=new i;if(n.doesActionApply(t,e))return n.keysPressed=t.recordedState.actionKeys.slice(0),n;n.couldActionApply(t,e)&&(r=!0)}return r?s.WaitingOnKeys:s.NoPossibleMatch}}a.actionMap=new Map,t.Actions=a,t.RegisterAction=function(e){const t=new e;for(const n of t.modes){var r=a.actionMap.get(n);r||(r=[],a.actionMap.set(n,r)),void 0!==t.keys&&r.push(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(124),o=r(219);t.logger=i.createLogger({level:n.configuration.debug.loggingLevel,format:i.format.simple(),transports:[new o.ConsoleForElectron]})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);class i{get start(){return this._start}get stop(){return this._stop}constructor(e,t){this._start=e,this._stop=t}static FromVSCodeSelection(e){return new i(n.Position.FromVSCodePosition(e.start),n.Position.FromVSCodePosition(e.end))}static*IterateRanges(e){for(let t=0;t<e.length;t++)yield{i:t,range:e[t],start:e[t]._start,stop:e[t]._stop}}static FromIMovement(e){return new i(e.start,e.stop)}getRight(e=1){return new i(this._start.getRight(e),this._stop.getRight(e))}getDown(e=1){return new i(this._start.getDownByCount(e),this._stop.getDownByCount(e))}equals(e){return this._start.isEqual(e._start)&&this._stop.isEqual(e._stop)}withNewStop(e){return new i(this._start,e)}withNewStart(e){return new i(e,this._stop)}toString(){return`[ ${this.start.toString()} | ${this.stop.toString()}]`}overlaps(e){return this.start.isBefore(e.stop)&&e.start.isBefore(this.stop)}add(e){return new i(this.start.add(e),this.stop.add(e))}}t.Range=i},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(18),o=r(22),s=r(25),a=r(63);var u;!function(e){e[e.AscertainFromCurrentMode=0]="AscertainFromCurrentMode",e[e.CharacterWise=1]="CharacterWise",e[e.LineWise=2]="LineWise",e[e.BlockWise=3]="BlockWise"}(u=t.RegisterMode||(t.RegisterMode={}));class c{static isValidRegister(e){return e in c.registers||c.isValidLowercaseRegister(e)||c.isValidUppercaseRegister(e)}static isValidRegisterForMacro(e){return/^[a-zA-Z0-9]+$/.test(e)}static put(e,t,r){const n=t.recordedState.registerName;if(!c.isValidRegister(n))throw new Error(`Invalid register ${n}`);c.isBlackHoleRegister(n)||(t.isMultiCursor?c.isValidUppercaseRegister(n)?c.appendMulticursorRegister(e,n,t,r):c.putMulticursorRegister(e,n,t,r):c.isValidUppercaseRegister(n)?c.appendNormalRegister(e,n,t):c.putNormalRegister(e,n,t))}static isBlackHoleRegister(e){return"_"===e}static isClipboardRegister(e){const t=c.registers[e];return t&&t.isClipboardRegister}static isValidLowercaseRegister(e){return/^[a-z]+$/.test(e)}static isValidUppercaseRegister(e){return/^[A-Z]+$/.test(e)}static putMulticursorRegister(e,t,r,n){0===n&&(c.registers[t.toLowerCase()]={text:[],registerMode:r.effectiveRegisterMode,isClipboardRegister:c.isClipboardRegister(t)});let i=c.registers[t.toLowerCase()];if(Array.isArray(i.text)||(i.text=[]),i.text.push(e),n===r.allCursors.length-1){if(i.isClipboardRegister){let e="";for(const t of i.text)e+=t+"\n";e=e.replace(/\n$/,""),a.Clipboard.Copy(e)}c.processNumberedRegister(i.text,r)}}static appendMulticursorRegister(e,t,r,n){let i=c.registers[t.toLowerCase()];if(0===n){let e=!1;"string"==typeof i.text?e=!0:i.text.length!==r.allCursors.length&&(e=!0),e&&(c.registers[t.toLowerCase()]={text:Array(r.allCursors.length).fill(""),registerMode:r.effectiveRegisterMode,isClipboardRegister:c.isClipboardRegister(t)},i=c.registers[t.toLowerCase()])}let o=r.effectiveRegisterMode;i.registerMode===u.CharacterWise&&o===u.CharacterWise?i.text[n]+=e:(i.text[n]+="\n"+e,i.registerMode=o)}static putNormalRegister(e,t,r){c.isClipboardRegister(t)&&a.Clipboard.Copy(e.toString()),c.registers[t.toLowerCase()]={text:e,registerMode:r.effectiveRegisterMode,isClipboardRegister:c.isClipboardRegister(t)},c.processNumberedRegister(e,r)}static appendNormalRegister(e,t,r){let n=c.registers[t.toLowerCase()],i=r.effectiveRegisterMode;if(n.text instanceof Array)if(n.registerMode===u.CharacterWise&&i===u.CharacterWise)for(let t=0;t<n.text.length;t++)n.text[t]+=e;else{for(let t=0;t<n.text.length;t++)n.text[t]+="\n"+e;n.registerMode=i}else"string"==typeof n.text&&(n.registerMode===u.CharacterWise&&i===u.CharacterWise?n.text=n.text+e:(n.text+="\n"+e,n.registerMode=i))}static putByKey(e,t='"',r=u.AscertainFromCurrentMode){if(!c.isValidRegister(t))throw new Error(`Invalid register ${t}`);c.isClipboardRegister(t)&&a.Clipboard.Copy(e.toString()),c.isBlackHoleRegister(t)||(c.registers[t]={text:e,registerMode:r||u.AscertainFromCurrentMode,isClipboardRegister:c.isClipboardRegister(t)})}static processNumberedRegister(e,t){const r=t.recordedState.operator||t.recordedState.command;if(r instanceof o.YankOperator||r instanceof i.CommandYankFullLine){t.recordedState.actionsRun.find(e=>e instanceof i.CommandRegister)||(c.registers[0].text=e,c.registers[0].registerMode=t.effectiveRegisterMode)}else if(r instanceof o.DeleteOperator&&!t.isRecordingMacro&&!t.isReplayingMacro){for(let e=9;e>1;e--)c.registers[String(e)].text=c.registers[String(e-1)].text,c.registers[String(e)].registerMode=c.registers[String(e-1)].registerMode;c.registers[1].text=e,c.registers[1].registerMode=t.effectiveRegisterMode}}static get(e){return n(this,void 0,void 0,function*(){const t=e.recordedState.registerName;return c.getByKey(t,e)})}static getByKey(e,t){return n(this,void 0,void 0,function*(){if(!c.isValidRegister(e))throw new Error(`Invalid register ${e}`);let r=e.toLowerCase();if(c.registers[r]||(c.registers[r]={text:"",registerMode:u.CharacterWise,isClipboardRegister:!1}),c.isClipboardRegister(e)){let n,i=a.Clipboard.Paste();return i=i.replace(/\r\n/g,"\n"),t&&t.isMultiCursor?(n=i.split("\n")).length!==t.allCursors.length&&(n=i):n=i,c.registers[r].text=n,c.registers[e]}{let e,n=c.registers[r].text;return{text:e=n instanceof s.RecordedState?n:t&&t.isMultiCursor&&"object"==typeof n?n.length===t.allCursors.length?n:n.join("\n"):"object"==typeof n?n.join("\n"):n,registerMode:c.registers[r].registerMode,isClipboardRegister:c.registers[r].isClipboardRegister}}})}static has(e){return void 0!==c.registers[e]}static getKeys(){return Object.keys(c.registers)}}c.registers={'"':{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1},".":{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1},"*":{text:"",registerMode:u.CharacterWise,isClipboardRegister:!0},"+":{text:"",registerMode:u.CharacterWise,isClipboardRegister:!0},_:{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1},0:{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1},1:{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1},2:{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1},3:{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1},4:{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1},5:{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1},6:{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1},7:{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1},8:{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1},9:{text:"",registerMode:u.CharacterWise,isClipboardRegister:!1}},t.Register=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.E32=32]="E32",e[e.E35=35]="E35",e[e.E37=37]="E37",e[e.E208=208]="E208",e[e.E348=348]="E348",e[e.E444=444]="E444",e[e.E486=486]="E486",e[e.E488=488]="E488",e[e.E492=492]="E492"}(t.ErrorCode||(t.ErrorCode={})),t.ErrorMessage={32:"No file name",35:"No previous regular expression",37:"No write since last change (add ! to override)",208:"Error writing to file",348:"No string under cursor",444:"Cannot close last window",486:"Pattern not found",488:"Trailing characters",492:"Not an editor command"};class n extends Error{constructor(e,t){super(),this._code=e,this._message=t}static fromCode(e){if(t.ErrorMessage[e])return new n(e,t.ErrorMessage[e]);throw new Error("unknown error code: "+e)}get code(){return this._code}get message(){return this._message}toString(){return"E"+this.code.toString()+": "+this.message}}t.VimError=n},function(e,t,r){"use strict";const n=t.format=r(10);function i(e,t){t=t||e,Object.defineProperty(n,e,{get:()=>r(139)(`./${t}.js`),configurable:!0})}t.levels=r(51),i("align"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),a=r(25),u=r(70),c=r(36),l=r(63),d=r(64),h=r(110),f=r(43),p=r(111),m=r(2),g=r(14),v=r(260),y=r(1),x=r(3),w=r(50),b=r(15),C=r(65),_=r(5),M=r(112),S=r(12),E=r(12),k=r(44),A=r(22);t.DocumentContentChangeAction=class extends E.BaseAction{constructor(){super(...arguments),this.contentChanges=[]}exec(e,t){return o(this,void 0,void 0,function*(){if(0===this.contentChanges.length)return t;let r;r=""===this.contentChanges[0].textDiff.text&&1===this.contentChanges[0].textDiff.rangeLength?this.contentChanges[0].textDiff.range.end:this.contentChanges[0].textDiff.range.start;let n,i,o=e;for(let a=0;a<this.contentChanges.length;a++){let u=this.contentChanges[a].textDiff;if(u.range.start.line<r.line){let e=u.range.end.line-u.range.start.line+1,t=u.text.split("\n").length;r=r.with(r.line+t-e);continue}if(u.range.start.line===r.line?(n=e.with(e.line,e.character+u.range.start.character-r.character),i=u.range.end.line===r.line?e.with(e.line,e.character+u.range.end.character-r.character):e.with(e.line+u.range.end.line-r.line,u.range.end.character)):(n=e.with(e.line+u.range.start.line-r.line,u.range.start.character),i=e.with(e.line+u.range.end.line-r.line,u.range.end.character)),n.isAfter(o))continue;let c,l=u.text.split("\n").length;(c=1===l?n.with(n.line,n.character+u.text.length):new s.Position(n.line+l-1,u.text.split("\n").pop().length)).isAfter(o)&&(o=c),t.editor.selection=new s.Selection(n,i),n.isEqual(i)?yield _.TextEditor.insert(u.text,m.Position.FromVSCodePosition(n)):yield _.TextEditor.replace(t.editor.selection,u.text)}if(n&&i){const e=this.contentChanges[this.contentChanges.length-1];t.cursorStartPosition=m.Position.FromVSCodePosition(n).advancePositionByText(e.textDiff.text).add(e.positionDiff),t.cursorPosition=m.Position.FromVSCodePosition(i).advancePositionByText(e.textDiff.text).add(e.positionDiff)}return t.currentMode=x.ModeName.Insert,t})}};class P extends E.BaseAction{constructor(){super(...arguments),this.isCompleteAction=!0,this.isJump=!1,this.multicursorIndex=void 0,this.runsOnceForEachCountPrefix=!1,this.canBeRepeatedWithDot=!1}runsOnceForEveryCursor(){return!0}exec(e,t){return o(this,void 0,void 0,function*(){throw new Error("Not implemented!")})}execCount(e,t){return o(this,void 0,void 0,function*(){let r=this.runsOnceForEachCountPrefix&&t.recordedState.count||1;if(!this.runsOnceForEveryCursor()){for(let n=0;n<r;n++)t=yield this.exec(e,t);for(const e of t.recordedState.transformations)M.isTextTransformation(e)&&void 0===e.cursorIndex&&(e.cursorIndex=0);return t}let n=[];const i=t.allCursors.map(e=>new g.Range(e.start,e.stop)).sort((e,t)=>e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>t.start.character?1:-1);let o=0;for(const{start:e,stop:s}of i){this.multicursorIndex=o++,t.cursorPosition=s,t.cursorStartPosition=e;for(let e=0;e<r;e++)t=yield this.exec(s,t);n.push(new g.Range(t.cursorStartPosition,t.cursorPosition));for(const e of t.recordedState.transformations)M.isTextTransformation(e)&&void 0===e.cursorIndex&&(e.cursorIndex=this.multicursorIndex)}return t.allCursors=n,t})}}t.BaseCommand=P;let R=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Insert,x.ModeName.Visual,x.ModeName.VisualBlock,x.ModeName.VisualLine,x.ModeName.SearchInProgressMode,x.ModeName.CommandlineInProgress,x.ModeName.Replace,x.ModeName.EasyMotionMode,x.ModeName.EasyMotionInputMode,x.ModeName.SurroundInputMode],this.keys=["<ExtensionDisable>"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Disabled,t})}};R=i([S.RegisterAction],R);let N=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Disabled],this.keys=["<ExtensionEnable>"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Normal,t})}};N=i([S.RegisterAction],N);let T=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.keys=["<number>"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){const e=parseInt(this.keysPressed[0],10);return t.recordedState.count=10*t.recordedState.count+e,t})}doesActionApply(e,t){const r="0"===t[0];return super.doesActionApply(e,t)&&(r&&e.recordedState.count>0||!r)}couldActionApply(e,t){const r="0"===t[0];return super.couldActionApply(e,t)&&(r&&e.recordedState.count>0||!r)}};T=i([S.RegisterAction],T),t.CommandNumber=T;let L=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=['"',"<character>"],this.isCompleteAction=!1}exec(e,t){return o(this,void 0,void 0,function*(){const e=this.keysPressed[1];return t.recordedState.registerName=e,t})}doesActionApply(e,t){const r=t[1];return super.doesActionApply(e,t)&&b.Register.isValidRegister(r)}couldActionApply(e,t){const r=t[1];return super.couldActionApply(e,t)&&b.Register.isValidRegister(r)}};L=i([S.RegisterAction],L),t.CommandRegister=L;let F=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.SearchInProgressMode],this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}exec(e,t){return o(this,void 0,void 0,function*(){t.recordedState.registerName=this.keysPressed[1];const e=yield b.Register.get(t);let r;if(e.text instanceof Array)r=e.text.join("\n");else if(e.text instanceof a.RecordedState){let t=[];for(let r of e.text.actionsRun)t=t.concat(r.keysPressed);r=t.join("\n")}else r=e.text;return e.registerMode===b.RegisterMode.LineWise&&(r+="\n"),t.globalState.searchState.searchString+=r,t})}};F=i([S.RegisterAction],F);let B=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=[["q","<alpha>"],["q","<number>"],["q",'"']]}exec(e,t){return o(this,void 0,void 0,function*(){const e=this.keysPressed[1];if(t.recordedMacro=new a.RecordedState,t.recordedMacro.registerName=e.toLocaleLowerCase(),!/^[A-Z]+$/.test(e)||!b.Register.has(e)){let t=new a.RecordedState;t.registerName=e,b.Register.putByKey(t,e)}return t.isRecordingMacro=!0,t})}doesActionApply(e,t){const r=this.keysPressed[1];return super.doesActionApply(e,t)&&b.Register.isValidRegisterForMacro(r)}couldActionApply(e,t){const r=this.keysPressed[1];return super.couldActionApply(e,t)&&b.Register.isValidRegisterForMacro(r)}};B=i([S.RegisterAction],B);let O=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=["q"]}exec(e,t){return o(this,void 0,void 0,function*(){let e=(yield b.Register.getByKey(t.recordedMacro.registerName)).text;return e.actionsRun=e.actionsRun.concat(t.recordedMacro.actionsRun),t.isRecordingMacro=!1,t})}doesActionApply(e,t){return super.doesActionApply(e,t)&&e.isRecordingMacro}couldActionApply(e,t){return super.couldActionApply(e,t)&&e.isRecordingMacro}};O=i([S.RegisterAction],O),t.CommandQuitRecordMacro=O;let I=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=["@","<character>"],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,function*(){const e=this.keysPressed[1];return t.recordedState.transformations.push({type:"macro",register:e,replay:"contentChange"}),t})}doesActionApply(e,t){const r=t[1];return super.doesActionApply(e,t)&&b.Register.isValidRegisterForMacro(r)}couldActionApply(e,t){const r=t[1];return super.couldActionApply(e,t)&&b.Register.isValidRegisterForMacro(r)}};I=i([S.RegisterAction],I);let D=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=["@","@"],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){let e=t.historyTracker.lastInvokedMacro;return e&&t.recordedState.transformations.push({type:"macro",register:e.registerName,replay:"contentChange"}),t})}};D=i([S.RegisterAction],D);let j=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock,x.ModeName.Normal,x.ModeName.SearchInProgressMode,x.ModeName.SurroundInputMode,x.ModeName.EasyMotionMode,x.ModeName.EasyMotionInputMode],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode!==x.ModeName.Normal||t.isMultiCursor?(t.currentMode!==x.ModeName.Visual&&t.currentMode!==x.ModeName.VisualLine&&t.currentMode!==x.ModeName.EasyMotionMode&&(t.allCursors=t.allCursors.map(e=>e.withNewStop(e.stop.getLeft()))),t.currentMode===x.ModeName.SearchInProgressMode&&t.globalState.searchState&&(t.cursorPosition=t.globalState.searchState.searchCursorStartPosition),t.currentMode===x.ModeName.Normal&&t.isMultiCursor&&(t.isMultiCursor=!1),t.currentMode===x.ModeName.EasyMotionMode&&(t.easyMotion.clearDecorations(),t.currentMode=x.ModeName.Normal),t.currentMode===x.ModeName.SurroundInputMode&&(t.surround=void 0),t.currentMode=x.ModeName.Normal,t.isMultiCursor||(t.allCursors=[t.allCursors[0]]),t):(yield s.commands.executeCommand("closeReferenceSearchEditor"),t)})}};j=i([S.RegisterAction],j);let V=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Replace],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}exec(e,t){return o(this,void 0,void 0,function*(){const r=t.replaceState.timesToRepeat;let n="";for(let e=1;e<r;e++)n+=t.replaceState.newChars.join("");return t.recordedState.transformations.push({type:"insertText",text:n,position:e,diff:new m.PositionDiff(0,-1)}),t.currentMode=x.ModeName.Normal,t})}};V=i([S.RegisterAction],V);let W=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Replace],this.keys=["<insert>"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Insert,t})}};W=i([S.RegisterAction],W);class $ extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.runsOnceForEachCountPrefix=!1}exec(e,t){return o(this,void 0,void 0,function*(){let e=t.recordedState.count||1;return t.postponedCodeViewChanges.push({command:"editorScroll",args:{to:this.to,by:this.by,value:e,revealCursor:!0,select:[x.ModeName.Visual,x.ModeName.VisualBlock,x.ModeName.VisualLine].indexOf(t.currentMode)>=0}}),t})}}let H=class extends ${constructor(){super(...arguments),this.keys=["<C-e>"],this.to="down",this.by="line"}};H=i([S.RegisterAction],H);let U=class extends ${constructor(){super(...arguments),this.keys=["<C-y>"],this.to="up",this.by="line"}};U=i([S.RegisterAction],U);let q=class extends ${constructor(){super(...arguments),this.keys=["<C-b>"],this.to="up",this.by="page"}};q=i([S.RegisterAction],q);let z=class extends ${constructor(){super(...arguments),this.keys=["<C-f>"],this.to="down",this.by="page"}};z=i([S.RegisterAction],z);let K=class extends ${constructor(){super(...arguments),this.keys=["<C-d>"],this.to="down",this.by="halfPage"}exec(e,t){return o(this,void 0,void 0,function*(){let e=0,r=s.window.activeTextEditor,n=t.cursorStartPosition.character,i=r.visibleRanges[0].start.line;e=t.cursorPosition.line-i;let o=t.recordedState.count||1;yield s.commands.executeCommand("editorScroll",{to:this.to,by:this.by,value:o,revealCursor:!1,select:[x.ModeName.Visual,x.ModeName.VisualBlock,x.ModeName.VisualLine].indexOf(t.currentMode)>=0});let a=r.visibleRanges[0].start.line,u=new m.Position(a+e,n);return t.cursorPosition=u,t})}};K=i([S.RegisterAction],K);let J=class extends ${constructor(){super(...arguments),this.keys=["<C-u>"],this.to="up",this.by="halfPage"}exec(e,t){return o(this,void 0,void 0,function*(){let e=0,r=s.window.activeTextEditor,n=t.cursorStartPosition.character,i=r.visibleRanges[0].start.line;e=t.cursorPosition.line-i;let o=t.recordedState.count||1;yield s.commands.executeCommand("editorScroll",{to:this.to,by:this.by,value:o,revealCursor:!1,select:[x.ModeName.Visual,x.ModeName.VisualBlock,x.ModeName.VisualLine].indexOf(t.currentMode)>=0});let a=r.visibleRanges[0].start.line,u=new m.Position(a+e,n);return t.cursorPosition=u,t})}};J=i([S.RegisterAction],J);let G=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=[["i"],["<insert>"]]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Insert,t})}doesActionApply(e,t){let r=!0;for(const t of e.recordedState.actionsRun)if(!(t instanceof T)){r=!1;break}return!(0!==e.recordedState.actionsRun.length&&!r)&&super.couldActionApply(e,t)}};G=i([S.RegisterAction],G),t.CommandInsertAtCursor=G;let Y=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["R"]}exec(e,t){return o(this,void 0,void 0,function*(){let r=t.recordedState.count||1;return t.currentMode=x.ModeName.Replace,t.replaceState=new u.ReplaceState(e,r),t})}};Y=i([S.RegisterAction],Y);let Q=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Insert],this.keys=["<insert>"]}exec(e,t){return o(this,void 0,void 0,function*(){let r=t.recordedState.count||1;return t.currentMode=x.ModeName.Replace,t.replaceState=new u.ReplaceState(e,r),t})}};Q=i([S.RegisterAction],Q);let Z=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Replace],this.keys=["<character>"],this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,function*(){const r=this.keysPressed[0],n=t.replaceState;return"<BS>"===r?(e.isBeforeOrEqual(n.replaceCursorStartPosition)?(t.cursorPosition=e.getLeft(),t.cursorStartPosition=e.getLeft()):e.line>n.replaceCursorStartPosition.line||e.character>n.originalChars.length?t.recordedState.transformations.push({type:"deleteText",position:e}):t.recordedState.transformations.push({type:"replaceText",text:n.originalChars[e.character-1],start:e.getLeft(),end:e,diff:new m.PositionDiff(0,-1)}),n.newChars.pop()):(e.isLineEnd()||"\n"===r?t.recordedState.transformations.push({type:"insertText",text:r,position:e}):t.recordedState.transformations.push({type:"replaceText",text:r,start:e,end:e.getRight(),diff:new m.PositionDiff(0,1)}),n.newChars.push(r)),t})}};Z=i([S.RegisterAction],Z);let X=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.SearchInProgressMode],this.keys=[["<character>"],["<up>"],["<down>"],["<C-h>"]],this.isJump=!0}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}exec(e,t){return o(this,void 0,void 0,function*(){const e=this.keysPressed[0],r=t.globalState.searchState,n=t.globalState.searchStatePrevious;if("<BS>"===e||"<shift+BS>"===e||"<C-h>"===e)r.searchString=r.searchString.slice(0,-1);else{if("\n"===e){if(t.currentMode=t.globalState.searchState.previousMode,""===r.searchString&&n.length>0&&(r.searchString=n[n.length-1].searchString),0!==t.globalState.searchStatePrevious.length){let e=t.globalState.searchStatePrevious;r.searchString!==e[e.length-1].searchString&&(e.push(r),t.globalState.addNewSearchHistoryItem(r.searchString))}else t.globalState.searchStatePrevious.push(r),t.globalState.addNewSearchHistoryItem(r.searchString);return t.globalState.searchStatePrevious.length>y.configuration.history&&t.globalState.searchStatePrevious.splice(0,1),t.globalState.searchStateIndex=t.globalState.searchStatePrevious.length-1,t.cursorPosition=r.getNextSearchMatchPosition(t.cursorPosition).pos,t}if("<up>"===e)t.globalState.searchStateIndex-=1,t.globalState.searchStateIndex=Math.max(t.globalState.searchStateIndex,0),void 0!==n[t.globalState.searchStateIndex]&&(r.searchString=n[t.globalState.searchStateIndex].searchString);else if("<down>"===e){if(t.globalState.searchStateIndex+=1,t.globalState.searchStateIndex>t.globalState.searchStatePrevious.length-1)return r.searchString="",t.globalState.searchStateIndex=t.globalState.searchStatePrevious.length,t;void 0!==n[t.globalState.searchStateIndex]&&(r.searchString=n[t.globalState.searchStateIndex].searchString)}else r.searchString+=this.keysPressed[0]}return t})}};X=i([S.RegisterAction],X);let ee=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.SearchInProgressMode],this.keys=["<Esc>"]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Normal,t.globalState.searchState=void 0,t})}};ee=i([S.RegisterAction],ee);let te=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.SearchInProgressMode],this.keys=["<C-v>"]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}exec(e,t){return o(this,void 0,void 0,function*(){const e=t.globalState.searchState,r=l.Clipboard.Paste();return e.searchString+=r,t})}};te=i([S.RegisterAction],te);let re=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.SearchInProgressMode],this.keys=["<D-v>"]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}exec(e,t){return o(this,void 0,void 0,function*(){const e=t.globalState.searchState,r=l.Clipboard.Paste();return e.searchString+=r,t})}};re=i([S.RegisterAction],re);let ne=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock,x.ModeName.Insert,x.ModeName.Normal],this.keys=["<copy>"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){let e="";if(t.currentMode===x.ModeName.Visual||t.currentMode===x.ModeName.Normal)e=t.allCursors.map(e=>{const r=m.Position.EarlierOf(e.start,e.stop),n=m.Position.LaterOf(e.start,e.stop);return t.editor.document.getText(new s.Range(r,n.getRight()))}).join("\n");else if(t.currentMode===x.ModeName.VisualLine)e=t.allCursors.map(e=>t.editor.document.getText(new s.Range(m.Position.EarlierOf(e.start.getLineBegin(),e.stop.getLineBegin()),m.Position.LaterOf(e.start.getLineEnd(),e.stop.getLineEnd())))).join("\n");else if(t.currentMode===x.ModeName.VisualBlock)for(const{line:r}of m.Position.IterateLine(t))e+=r+"\n";else t.currentMode===x.ModeName.Insert&&(e=t.editor.selections.map(e=>t.editor.document.getText(new s.Range(e.start,e.end))).join("\n"));return l.Clipboard.Copy(e),t.currentMode=x.ModeName.Normal,t})}};ne=i([S.RegisterAction],ne);let ie=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.keys=["<D-a>"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.cursorStartPosition=new m.Position(0,t.desiredColumn),t.cursorPosition=new m.Position(_.TextEditor.getLineCount()-1,t.desiredColumn),t.currentMode=x.ModeName.VisualLine,t})}};function oe(e,t,r,n){const i=_.TextEditor.getWord(e),o=r===C.SearchDirection.Backward?t.cursorPosition.getWordLeft(!0):t.cursorPosition;return ae({needle:i,vimState:t,direction:r,isExact:n,searchStartCursorPosition:o})}function se(e,t){const r=_.TextEditor.getSelection(),n=new m.Position(r.end.line,r.end.character),i=_.TextEditor.getText(r.with(r.start,n));e.currentMode=x.ModeName.Normal;const o=t===C.SearchDirection.Backward?e.lastVisualSelectionStart.getLeft():e.lastVisualSelectionEnd.getRight();return ae({needle:i,vimState:e,direction:t,isExact:!1,searchStartCursorPosition:o})}function ae(e){const{needle:t,vimState:r,isExact:n}=e;if(void 0===t||0===t.length)return r;const i=n?`\\b${t}\\b`:t;return r.globalState.searchState=new C.SearchState(e.direction,r.cursorPosition,i,{isRegex:n},r.currentMode),r.cursorPosition=r.globalState.searchState.getNextSearchMatchPosition(e.searchStartCursorPosition).pos,r.globalState.hl=!0,r}ie=i([S.RegisterAction],ie);let ue=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["*"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return oe(e,t,C.SearchDirection.Forward,!0)})}};ue=i([S.RegisterAction],ue);let ce=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=["g","*"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return oe(e,t,C.SearchDirection.Forward,!1)})}};ce=i([S.RegisterAction],ce);let le=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Visual,x.ModeName.VisualLine],this.keys=["*"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return y.configuration.visualstar?se(t,C.SearchDirection.Forward):oe(e,t,C.SearchDirection.Forward,!0)})}};le=i([S.RegisterAction],le);let de=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["#"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return oe(e,t,C.SearchDirection.Backward,!0)})}};de=i([S.RegisterAction],de);let he=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=["g","#"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return oe(e,t,C.SearchDirection.Backward,!1)})}};he=i([S.RegisterAction],he);let fe=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Visual,x.ModeName.VisualLine],this.keys=["#"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return y.configuration.visualstar?se(t,C.SearchDirection.Backward):oe(e,t,C.SearchDirection.Backward,!0)})}};fe=i([S.RegisterAction],fe);let pe=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.keys=["/"],this.isMotion=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return t.globalState.searchState=new C.SearchState(C.SearchDirection.Forward,t.cursorPosition,"",{isRegex:!0},t.currentMode),t.currentMode=x.ModeName.SearchInProgressMode,t.globalState.searchStateIndex=t.globalState.searchStatePrevious.length,t.globalState.hl=!0,t})}};pe=i([S.RegisterAction],pe),t.CommandSearchForwards=pe;let me=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.keys=["?"],this.isMotion=!0,this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return t.globalState.searchState=new C.SearchState(C.SearchDirection.Backward,t.cursorPosition,"",{isRegex:!0},t.currentMode),t.currentMode=x.ModeName.SearchInProgressMode,t.globalState.searchStateIndex=t.globalState.searchStatePrevious.length,t.globalState.hl=!0,t})}};me=i([S.RegisterAction],me),t.CommandSearchBackwards=me;let ge=class extends P{constructor(){super(...arguments),this.keys=["m","<character>"],this.modes=[x.ModeName.Normal]}exec(e,t){return o(this,void 0,void 0,function*(){const r=this.keysPressed[1];return t.historyTracker.addMark(e,r),t})}};ge=i([S.RegisterAction],ge),t.MarkCommand=ge;let ve=n=class extends P{constructor(e){super(),this.keys=["p"],this.modes=[x.ModeName.Normal],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0,this.multicursorIndex=e}static GetText(e,t){return o(this,void 0,void 0,function*(){const r=yield b.Register.get(e);if(e.isMultiCursor){if(void 0===t)throw new Error("No multi-cursor index when calling PutCommand#getText");if(e.isMultiCursor&&"object"==typeof r.text)return r.text[t]}return r.text})}exec(e,t,r=!1,i=!1){return o(this,void 0,void 0,function*(){const o=yield b.Register.get(t),s=r?e:e.getRight();if(o.text instanceof a.RecordedState)return t.recordedState.transformations.push({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"}),t;if("object"==typeof o.text&&t.currentMode===x.ModeName.VisualBlock)return yield this.execVisualBlockPaste(o.text,e,t,r);let u,c,l=yield n.GetText(t,this.multicursorIndex),d=new m.PositionDiff(0,0);const h=t.cursorStartPosition.isAtDocumentBegin(),f=t.cursorPosition.isAtDocumentEnd();if(o.registerMode===b.RegisterMode.CharacterWise)u=l,c=s;else if(t.currentMode===x.ModeName.Visual&&o.registerMode===b.RegisterMode.LineWise)u="\n"+l+"\n",c=s;else if(t.currentMode===x.ModeName.VisualLine&&o.registerMode===b.RegisterMode.LineWise){u=(!h&&f?"\n":"")+l+(f?"":"\n"),c=s}else{if(i){let t=_.TextEditor.getIndentationLevel(_.TextEditor.getLineAt(e).text),r=_.TextEditor.getIndentationLevel(l.split("\n")[0]);l=l.split("\n").map(e=>{let n=_.TextEditor.getIndentationLevel(e)-r+t;return _.TextEditor.setIndentationLevel(e,n)}).join("\n")}r?(u=l+"\n",c=s.getLineBegin()):(u="\n"+l,c=s.getLineEnd())}if(t.currentMode===x.ModeName.Visual||t.currentMode===x.ModeName.VisualLine||t.currentMode===x.ModeName.VisualBlock){t.lastVisualMode=t.currentMode,t.lastVisualSelectionStart=c;let e=u;t.currentMode===x.ModeName.VisualLine&&"\n"===u[u.length-1]&&(e=u.substring(0,u.length-1)),t.lastVisualSelectionEnd=c.advancePositionByText(e)}const p=l.split("\n").length-1,g=_.TextEditor.getLineAt(e).text.length;if(t.currentMode===x.ModeName.VisualLine&&o.registerMode===b.RegisterMode.LineWise){const e=[...l].filter(e=>"\n"===e).length;d=m.PositionDiff.NewBOLDiff(-e-(f?0:1))}else if(o.registerMode===b.RegisterMode.LineWise){const e=l.match(/^\s*/);let t=0;e&&(t=e[0].length),d=r?m.PositionDiff.NewBOLDiff(-p-1,t):m.PositionDiff.NewBOLDiff(g>0?1:-p,t)}else-1===l.indexOf("\n")?e.isLineEnd()||(d=r?new m.PositionDiff(0,-1):new m.PositionDiff(0,u.length)):d=e.isLineEnd()?m.PositionDiff.NewBOLDiff(-p,e.character):r?m.PositionDiff.NewBOLDiff(-p,e.character):new m.PositionDiff(0,1);return t.recordedState.transformations.push({type:"insertText",text:u,position:c,diff:d}),t.currentRegisterMode=o.registerMode,t})}execVisualBlockPaste(e,t,r,n){return o(this,void 0,void 0,function*(){n&&(t=t.getRight());let i=Math.max(0,e.length-(_.TextEditor.getLineCount()-t.line)+1);i>0&&(yield _.TextEditor.insertAt(Array(i).join("\n"),new m.Position(_.TextEditor.getLineCount()-1,_.TextEditor.getLineAt(new m.Position(_.TextEditor.getLineCount()-1,0)).text.length)));for(let r=t.line;r<t.line+e.length;r++){const n=e[r-t.line],i=new m.Position(r,Math.min(t.character,_.TextEditor.getLineAt(new m.Position(r,0)).text.length));yield _.TextEditor.insertAt(n,i)}return r.currentRegisterMode=b.RegisterMode.AscertainFromCurrentMode,r})}execCount(e,t){const r=e=>super[e];return o(this,void 0,void 0,function*(){const i=yield r("execCount").call(this,e,t);if(t.effectiveRegisterMode===b.RegisterMode.LineWise&&t.recordedState.count>0){const e=(yield n.GetText(t,this.multicursorIndex)).split("\n").length*t.recordedState.count;i.recordedState.transformations.push({type:"moveCursor",diff:new m.PositionDiff(1-e,0),cursorIndex:this.multicursorIndex})}return i})}};ve=n=i([S.RegisterAction],ve),t.PutCommand=ve;let ye=class extends P{constructor(){super(...arguments),this.keys=["g","p"],this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,function*(){return yield(new ve).exec(e,t)})}execCount(e,t){const r=e=>super[e];return o(this,void 0,void 0,function*(){const n=yield b.Register.get(t);let i;if(n.text instanceof a.RecordedState)return t.recordedState.transformations.push({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"}),t;i="object"==typeof n.text?n.text.length*t.recordedState.count:n.text.split("\n").length;const o=yield r("execCount").call(this,e,t);if(t.effectiveRegisterMode===b.RegisterMode.LineWise){const t=_.TextEditor.getLineAt(e).text.length>0&&i>1;o.recordedState.transformations.push({type:"moveCursor",diff:m.PositionDiff.NewBOLDiff(1+(t?1:0),0),cursorIndex:this.multicursorIndex})}return o})}};ye=i([S.RegisterAction],ye),t.GPutCommand=ye;let xe=class extends P{constructor(){super(...arguments),this.keys=["]","p"],this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,function*(){return yield(new ve).exec(e,t,!1,!0)})}execCount(e,t){const r=e=>super[e];return o(this,void 0,void 0,function*(){return yield r("execCount").call(this,e,t)})}};xe=i([S.RegisterAction],xe),t.PutWithIndentCommand=xe;let we=class extends P{constructor(){super(...arguments),this.keys=[["p"],["P"]],this.modes=[x.ModeName.Visual,x.ModeName.VisualLine],this.runsOnceForEachCountPrefix=!0}exec(e,t,r=!1){return o(this,void 0,void 0,function*(){let e=t.cursorStartPosition,r=t.cursorPosition;const n=t.currentMode===x.ModeName.VisualLine;e.isAfter(r)&&([e,r]=[r,e]);let i=t.currentMode;if((yield b.Register.get(t)).registerMode===b.RegisterMode.LineWise){const n=yield b.Register.getByKey(t.recordedState.registerName);let o=yield new A.DeleteOperator(this.multicursorIndex).run(t,e,r,!0);const s=yield b.Register.getByKey(t.recordedState.registerName);b.Register.putByKey(n.text,t.recordedState.registerName,n.registerMode);let a=o.currentMode;return o.currentMode=i,(o=yield(new ve).exec(e,o,!0)).currentMode=a,b.Register.putByKey(s.text,t.recordedState.registerName,s.registerMode),o}let o=yield new ve(this.multicursorIndex).exec(e,t,!0);return o.currentRegisterMode=n?b.RegisterMode.LineWise:b.RegisterMode.CharacterWise,o.recordedState.registerName=y.configuration.useSystemClipboard?"*":'"',(o=yield new A.YankOperator(this.multicursorIndex).run(o,e,r)).currentRegisterMode=b.RegisterMode.CharacterWise,(o=yield new A.DeleteOperator(this.multicursorIndex).run(o,e,r.getLeftIfEOL(),!1)).currentRegisterMode=b.RegisterMode.AscertainFromCurrentMode,o})}};we=i([S.RegisterAction],we),t.PutCommandVisual=we;let be=class extends P{constructor(){super(...arguments),this.keys=["P"],this.modes=[x.ModeName.Normal],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,function*(){const r=new ve;return r.multicursorIndex=this.multicursorIndex,yield r.exec(e,t,!0)})}};be=i([S.RegisterAction],be),t.PutBeforeCommand=be;let Ce=class extends P{constructor(){super(...arguments),this.keys=["g","P"],this.modes=[x.ModeName.Normal]}exec(e,t){return o(this,void 0,void 0,function*(){const r=yield(new ve).exec(e,t,!0),n=yield b.Register.get(t);let i;if(n.text instanceof a.RecordedState)return t.recordedState.transformations.push({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"}),t;if(i="object"==typeof n.text?n.text.length*t.recordedState.count:n.text.split("\n").length,t.effectiveRegisterMode===b.RegisterMode.LineWise){const t=_.TextEditor.getLineAt(e).text.length>0&&i>1;r.recordedState.transformations.push({type:"moveCursor",diff:m.PositionDiff.NewBOLDiff(1+(t?1:0),0),cursorIndex:this.multicursorIndex})}return r})}};Ce=i([S.RegisterAction],Ce),t.GPutBeforeCommand=Ce;let _e=class extends P{constructor(){super(...arguments),this.keys=["[","p"],this.modes=[x.ModeName.Normal]}exec(e,t){return o(this,void 0,void 0,function*(){const r=yield(new ve).exec(e,t,!0,!0);return t.effectiveRegisterMode===b.RegisterMode.LineWise&&(r.cursorPosition=r.cursorPosition.getPreviousLineBegin().getFirstLineNonBlankChar()),r})}};_e=i([S.RegisterAction],_e),t.PutBeforeWithIndentCommand=_e;let Me=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.keys=[":"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode===x.ModeName.Normal?t.recordedState.count?t.currentCommandlineText=`.,.+${t.recordedState.count-1}`:t.currentCommandlineText="":t.currentCommandlineText="'<,'>",t.statusBarCursorCharacterPos=t.currentCommandlineText.length,k.commandLine.previousMode=t.currentMode,t.currentMode=x.ModeName.CommandlineInProgress,k.commandLine.commandlineHistoryIndex=k.commandLine.historyEntries.length,t})}};Me=i([S.RegisterAction],Me);let Se=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.CommandlineInProgress],this.keys=[["<character>"],["<up>"],["<down>"],["<left>"],["<right>"],["<C-h>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}exec(e,t){return o(this,void 0,void 0,function*(){const e=this.keysPressed[0];if("<BS>"===e||"<shift+BS>"===e||"<C-h>"===e){if(0===t.statusBarCursorCharacterPos)return t;t.currentCommandlineText=t.currentCommandlineText.slice(0,t.statusBarCursorCharacterPos-1)+t.currentCommandlineText.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=Math.max(t.statusBarCursorCharacterPos-1,0)}else{if("\n"===e)return yield k.commandLine.Run(t.currentCommandlineText,t),t.currentMode=x.ModeName.Normal,t;if("<up>"===e)k.commandLine.commandlineHistoryIndex-=1,k.commandLine.commandlineHistoryIndex=Math.max(k.commandLine.commandlineHistoryIndex,0),void 0!==k.commandLine.historyEntries[k.commandLine.commandlineHistoryIndex]&&(t.currentCommandlineText=k.commandLine.historyEntries[k.commandLine.commandlineHistoryIndex]),t.statusBarCursorCharacterPos=t.currentCommandlineText.length;else if("<down>"===e){if(k.commandLine.commandlineHistoryIndex+=1,k.commandLine.commandlineHistoryIndex>k.commandLine.historyEntries.length-1)return k.commandLine.previousMode===x.ModeName.Normal?t.currentCommandlineText="":t.currentCommandlineText="'<,'>",k.commandLine.commandlineHistoryIndex=k.commandLine.historyEntries.length,t.statusBarCursorCharacterPos=t.currentCommandlineText.length,t;void 0!==k.commandLine.historyEntries[k.commandLine.commandlineHistoryIndex]&&(t.currentCommandlineText=k.commandLine.historyEntries[k.commandLine.commandlineHistoryIndex]),t.statusBarCursorCharacterPos=t.currentCommandlineText.length}else if("<right>"===e)t.statusBarCursorCharacterPos=Math.min(t.statusBarCursorCharacterPos+1,t.currentCommandlineText.length);else if("<left>"===e)t.statusBarCursorCharacterPos=Math.max(t.statusBarCursorCharacterPos-1,0);else{let e=t.currentCommandlineText.split("");e.splice(t.statusBarCursorCharacterPos,0,this.keysPressed[0]),t.currentCommandlineText=e.join(""),t.statusBarCursorCharacterPos+=1}}return t})}};Se=i([S.RegisterAction],Se);let Ee=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.CommandlineInProgress],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Normal,t})}};Ee=i([S.RegisterAction],Ee);let ke=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.CommandlineInProgress],this.keys=["<C-v>"]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}exec(e,t){return o(this,void 0,void 0,function*(){const e=l.Clipboard.Paste();let r=t.currentCommandlineText.split("");return r.splice(t.statusBarCursorCharacterPos,0,e),t.currentCommandlineText=r.join(""),t.statusBarCursorCharacterPos+=e.length,t})}};ke=i([S.RegisterAction],ke);let Ae=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.CommandlineInProgress],this.keys=["<D-v>"]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}exec(e,t){return o(this,void 0,void 0,function*(){const e=l.Clipboard.Paste();let r=t.currentCommandlineText.split("");return r.splice(t.statusBarCursorCharacterPos,0,e),t.currentCommandlineText=r.join(""),t.statusBarCursorCharacterPos+=e.length,t})}};Ae=i([S.RegisterAction],Ae);let Pe=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.keys=["q",":"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){return t.recordedState.transformations.push({type:"showCommandHistory"}),t.currentMode===x.ModeName.Normal?t.currentCommandlineText="":t.currentCommandlineText="'<,'>",t.currentMode=x.ModeName.Normal,t})}};Pe=i([S.RegisterAction],Pe);let Re=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["."]}exec(e,t){return o(this,void 0,void 0,function*(){return t.recordedState.transformations.push({type:"dot"}),t})}};Re=i([S.RegisterAction],Re);class Ne extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,function*(){return yield s.commands.executeCommand(this.commandName),t.currentMode=x.ModeName.Normal,t})}}let Te=class extends Ne{constructor(){super(...arguments),this.keys=["z","c"],this.commandName="editor.fold",this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,function*(){let e=t.recordedState.count||1;return yield s.commands.executeCommand("editor.fold",{levels:e,direction:"up"}),t.allCursors=yield c.getCursorsAfterSync(),t})}};Te=i([S.RegisterAction],Te);let Le=class extends Ne{constructor(){super(...arguments),this.keys=["z","M"],this.commandName="editor.foldAll"}};Le=i([S.RegisterAction],Le);let Fe=class extends Ne{constructor(){super(...arguments),this.keys=["z","o"],this.commandName="editor.unfold",this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,function*(){let e=t.recordedState.count||1;return yield s.commands.executeCommand("editor.unfold",{levels:e,direction:"down"}),t})}};Fe=i([S.RegisterAction],Fe);let Be=class extends Ne{constructor(){super(...arguments),this.keys=["z","R"],this.commandName="editor.unfoldAll"}};Be=i([S.RegisterAction],Be);let Oe=class extends Ne{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["z","C"],this.commandName="editor.foldRecursively"}};Oe=i([S.RegisterAction],Oe);let Ie=class extends Ne{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["z","O"],this.commandName="editor.unfoldRecursively"}};Ie=i([S.RegisterAction],Ie);let De=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.keys=["z","z"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,function*(){return t.editor.revealRange(new s.Range(t.cursorPosition,t.cursorPosition),s.TextEditorRevealType.InCenter),t})}};De=i([S.RegisterAction],De);let je=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.keys=["z","."]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,function*(){return t.editor.revealRange(new s.Range(t.cursorPosition,t.cursorPosition),s.TextEditorRevealType.InCenter),t.cursorPosition=t.cursorPosition.getFirstLineNonBlankChar(),t})}};je=i([S.RegisterAction],je);let Ve=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["z","t"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,function*(){return t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"top"}}),t})}};Ve=i([S.RegisterAction],Ve);let We=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.keys=["z","\n"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,function*(){return t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"top"}}),t.cursorPosition=t.cursorPosition.getFirstLineNonBlankChar(),t})}};We=i([S.RegisterAction],We);let $e=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["z","b"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,function*(){return t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"bottom"}}),t})}};$e=i([S.RegisterAction],$e);let He=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.keys=["z","-"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}exec(e,t){return o(this,void 0,void 0,function*(){return t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"bottom"}}),t.cursorPosition=t.cursorPosition.getFirstLineNonBlankChar(),t})}};He=i([S.RegisterAction],He);let Ue=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Visual,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.keys=["o"],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return[t.cursorStartPosition,t.cursorPosition]=[t.cursorPosition,t.cursorStartPosition],t})}};Ue=i([S.RegisterAction],Ue);let qe=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["u"],this.mustBeFirstKey=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){const e=yield t.historyTracker.goBackHistoryStep();return void 0!==e&&(t.allCursors=e.map(e=>new g.Range(e,e))),t.alteredHistory=!0,t})}};qe=i([S.RegisterAction],qe);let ze=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["U"],this.mustBeFirstKey=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){const e=yield t.historyTracker.goBackHistoryStepsOnLine();return void 0!==e&&(t.allCursors=e.map(e=>new g.Range(e,e))),t.alteredHistory=!0,t})}};ze=i([S.RegisterAction],ze);let Ke=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["<C-r>"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){const e=yield t.historyTracker.goForwardHistoryStep();return void 0!==e&&(t.allCursors=e.map(e=>new g.Range(e,e))),t.alteredHistory=!0,t})}};Ke=i([S.RegisterAction],Ke);let Je=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["D"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!0}exec(e,t){return o(this,void 0,void 0,function*(){return e.isLineEnd()?t:yield new A.DeleteOperator(this.multicursorIndex).run(t,e,e.getLineEnd().getLeft())})}};Je=i([S.RegisterAction],Je);let Ge=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["Y"]}exec(e,t){return o(this,void 0,void 0,function*(){const r=(t.recordedState.count||1)-1,n=e.getLineBegin(),i=new m.Position(e.line+r,0).getLineEnd().getLeft();return t.currentRegisterMode=b.RegisterMode.LineWise,yield(new A.YankOperator).run(t,n,i)})}};Ge=i([S.RegisterAction],Ge),t.CommandYankFullLine=Ge;let Ye=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["C"],this.runsOnceForEachCountPrefix=!1,this.mustBeFirstKey=!0}exec(e,t){return o(this,void 0,void 0,function*(){let r=t.recordedState.count||1;return(new A.ChangeOperator).run(t,e,e.getDownByCount(Math.max(0,r-1)).getLineEnd().getLeft())})}};Ye=i([S.RegisterAction],Ye);let Qe=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["S"],this.runsOnceForEachCountPrefix=!1}exec(e,t){return o(this,void 0,void 0,function*(){return new A.ChangeOperator(this.multicursorIndex).runRepeat(t,e,t.recordedState.count||1)})}doesActionApply(e,t){return super.doesActionApply(e,t)&&!y.configuration.sneak}couldActionApply(e,t){return super.couldActionApply(e,t)&&!y.configuration.sneak}};Qe=i([S.RegisterAction],Qe);let Ze=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Visual],this.keys=["v"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Normal,t})}};Ze=i([S.RegisterAction],Ze);let Xe=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.VisualLine,x.ModeName.VisualBlock],this.keys=["v"],this.isCompleteAction=!1}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Visual,t})}};Xe=i([S.RegisterAction],Xe);let et=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["g","v"]}exec(e,t){return o(this,void 0,void 0,function*(){return void 0!==t.lastVisualSelectionEnd&&void 0!==t.lastVisualSelectionStart&&void 0!==t.lastVisualMode&&t.lastVisualSelectionEnd.line<=_.TextEditor.getLineCount()-1&&(t.currentMode=t.lastVisualMode,t.cursorStartPosition=t.lastVisualSelectionStart,t.cursorPosition=t.lastVisualSelectionEnd.getLeft()),t})}};function tt(e,t){const r=e.globalState.searchState;if(!r||""===r.searchString)return e;const n=new C.SearchState(t,e.cursorPosition,r.searchString,{isRegex:!0},e.currentMode);let i={start:e.cursorPosition,end:e.cursorPosition,match:!1};return i=n.getSearchMatchRangeOf(e.cursorPosition),e.currentMode===x.ModeName.Visual&&e.cursorPosition.isEqual(i.end.getLeftThroughLineBreaks())&&(i.match=!1),i.match||(i=n.getNextSearchMatchRange(e.cursorPosition,1)).match?(e.cursorStartPosition=e.currentMode===x.ModeName.Normal?i.start:e.cursorPosition,e.cursorPosition=i.end.getLeftThroughLineBreaks(),s.window.activeTextEditor.selection=new s.Selection(e.cursorStartPosition,e.cursorPosition),e.currentMode=x.ModeName.Visual,e):e}et=i([S.RegisterAction],et);let rt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualBlock],this.keys=["g","n"]}exec(e,t){return o(this,void 0,void 0,function*(){return tt(t,C.SearchDirection.Forward)})}};rt=i([S.RegisterAction],rt);let nt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualBlock],this.keys=["g","N"]}exec(e,t){return o(this,void 0,void 0,function*(){return tt(t,C.SearchDirection.Backward)})}};nt=i([S.RegisterAction],nt);let it=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=["<C-v>"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.VisualBlock,t})}};it=i([S.RegisterAction],it);let ot=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.VisualBlock],this.keys=["<C-v>"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Normal,t})}};ot=i([S.RegisterAction],ot);let st=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualBlock],this.keys=["V"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.VisualLine,t})}};st=i([S.RegisterAction],st);let at=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.VisualLine],this.keys=["V"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Normal,t})}};at=i([S.RegisterAction],at);let ut=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual],this.keys=["g","f"],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){let r="";if(t.currentMode===x.ModeName.Visual){const e=_.TextEditor.getSelection(),t=new m.Position(e.end.line,e.end.character+1);r=_.TextEditor.getText(e.with(e.start,t))}else{const t=e.getFilePathLeft(!0),n=e.getFilePathRight(),i=new s.Range(t,n);r=_.TextEditor.getText(i).trim()}const n=r.match(/(.*?(?=:[0-9]+)|.*):?([0-9]*)$/);if(n){const e=n[1],t=parseInt(n[2],10);new d.FileCommand({name:e,lineNumber:t,createFileIfNotExists:!1}).execute()}return t})}};ut=i([S.RegisterAction],ut);let ct=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=[["g","d"],["<C-]>"]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){const e=t.editor;return yield s.commands.executeCommand("editor.action.goToDeclaration"),e===t.editor&&(t.cursorPosition=m.Position.FromVSCodePosition(t.editor.selection.start)),t})}};ct=i([S.RegisterAction],ct);let lt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["g",";"],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){const e=t.historyTracker.changelistIndex,r=t.historyTracker.getChangePositionAtindex(e-1),n=t.historyTracker.getChangePositionAtindex(e);return void 0!==r?(t.cursorPosition=r[0],t.historyTracker.changelistIndex=e-1):void 0!==n&&(t.cursorPosition=n[0]),t})}};lt=i([S.RegisterAction],lt);let dt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["g",","],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){const e=t.historyTracker.changelistIndex,r=t.historyTracker.getChangePositionAtindex(e+1),n=t.historyTracker.getChangePositionAtindex(e);return void 0!==r?(t.cursorPosition=r[0],t.historyTracker.changelistIndex=e+1):void 0!==n&&(t.cursorPosition=n[0]),t})}};dt=i([S.RegisterAction],dt);let ht=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=[["`","."],["'","."]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){const e=t.historyTracker.getLastHistoryStartPosition();return void 0!==e&&(t.cursorPosition=e[0]),t})}};ht=i([S.RegisterAction],ht);let ft=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["g","i"]}exec(e,t){return o(this,void 0,void 0,function*(){const e=t.historyTracker.getLastChangeEndPosition();return void 0!==e&&(t.cursorPosition=e,t.currentMode=x.ModeName.Insert),t})}};ft=i([S.RegisterAction],ft);let pt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["I"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Insert,t.cursorPosition=e.getFirstLineNonBlankChar(),t})}};pt=i([S.RegisterAction],pt),t.CommandInsertAtFirstCharacter=pt;let mt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.mustBeFirstKey=!0,this.keys=["g","I"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Insert,t.cursorPosition=e.getLineBegin(),t})}};mt=i([S.RegisterAction],mt);let gt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["a"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Insert,t.cursorPosition=e.getRight(),t})}doesActionApply(e,t){let r=!0;for(const t of e.recordedState.actionsRun)if(!(t instanceof T)){r=!1;break}return!(0!==e.recordedState.actionsRun.length&&!r)&&super.couldActionApply(e,t)}};gt=i([S.RegisterAction],gt),t.CommandInsertAfterCursor=gt;let vt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["A"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode=x.ModeName.Insert,t.cursorPosition=e.getLineEnd(),t})}};vt=i([S.RegisterAction],vt),t.CommandInsertAtLineEnd=vt;let yt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["O"]}runsOnceForEveryCursor(){return!1}execCount(e,t){return o(this,void 0,void 0,function*(){t.currentMode=x.ModeName.Insert;let e=t.recordedState.count||1;const r=m.Position.FromVSCodePosition(s.window.activeTextEditor.selection.active).getRight();s.window.activeTextEditor.selection=new s.Selection(r,r);for(let t=0;t<e;t++)yield s.commands.executeCommand("editor.action.insertLineBefore");t.allCursors=yield c.getCursorsAfterSync();for(let r=0;r<e;r++){const e=new m.Position(t.allCursors[0].start.line+r,t.allCursors[0].start.character);t.allCursors.push(new g.Range(e,e))}return t.allCursors=t.allCursors.reverse(),t.isFakeMultiCursor=!0,t.isMultiCursor=!0,t})}};yt=i([S.RegisterAction],yt);let xt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["o"]}runsOnceForEveryCursor(){return!1}execCount(e,t){return o(this,void 0,void 0,function*(){t.currentMode=x.ModeName.Insert;let e=t.recordedState.count||1;for(let t=0;t<e;t++)yield s.commands.executeCommand("editor.action.insertLineAfter");t.allCursors=yield c.getCursorsAfterSync();for(let r=1;r<e;r++){const e=new m.Position(t.allCursors[0].start.line-r,t.allCursors[0].start.character);t.allCursors.push(new g.Range(e,e)),t.recordedState.transformations.push({type:"insertText",text:_.TextEditor.setIndentationLevel("",e.character),position:e,cursorIndex:r,manuallySetCursorPositions:!0})}return t.allCursors=t.allCursors.reverse(),t.isFakeMultiCursor=!0,t.isMultiCursor=!0,t})}};xt=i([S.RegisterAction],xt);let wt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=[["<C-o>"],["<C-t>"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){return t.globalState.jumpTracker.jumpBack(e,t)})}};wt=i([S.RegisterAction],wt);let bt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["<C-i>"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){return t.globalState.jumpTracker.jumpForward(e,t)})}};bt=i([S.RegisterAction],bt);let Ct=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["`","`"],this.isJump=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){const e=t.editor;return yield s.commands.executeCommand("workbench.action.navigateLast"),e===t.editor&&(t.cursorPosition=m.Position.FromVSCodePosition(t.editor.selection.start)),t})}};Ct=i([S.RegisterAction],Ct);let _t=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["'","'"],this.isJump=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){const e=t.editor;if(yield s.commands.executeCommand("workbench.action.navigateLast"),e===t.editor){const e=m.Position.FromVSCodePosition(t.editor.selection.start);t.cursorPosition=e.getFirstLineNonBlankChar()}return t})}};_t=i([S.RegisterAction],_t);let Mt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=[["<C-w>","q"],["<C-w>","<C-q>"],["<C-w>","c"],["<C-w>","<C-c>"]]}exec(e,t){return o(this,void 0,void 0,function*(){return new f.QuitCommand({}).execute(),t})}};Mt=i([S.RegisterAction],Mt);let St=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=[["<C-w>","o"],["<C-w>","<C-o>"]]}exec(e,t){return o(this,void 0,void 0,function*(){return new h.OnlyCommand({}).execute(),t})}};St=i([S.RegisterAction],St);let Et=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=[["<C-w>","l"],["<C-w>","<right>"],["<C-w l>"],["<C-w>","<C-l>"]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateRight",args:{}}),t})}};Et=i([S.RegisterAction],Et);let kt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=[["<C-w>","j"],["<C-w>","<down>"],["<C-w j>"],["<C-w>","<C-j>"]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateDown",args:{}}),t})}};kt=i([S.RegisterAction],kt);let At=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=[["<C-w>","k"],["<C-w>","<up>"],["<C-w k>"],["<C-w>","<C-k>"]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateUp",args:{}}),t})}};At=i([S.RegisterAction],At);let Pt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=[["<C-w>","h"],["<C-w>","<left>"],["<C-w h>"],["<C-w>","<C-h>"]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateLeft",args:{}}),t})}};Pt=i([S.RegisterAction],Pt);let Rt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=[["<C-w>","<C-w>"],["<C-w>","w"]],this.isJump=!0}exec(e,t){return o(this,void 0,void 0,function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateEditorGroups",args:{}}),t})}};Rt=i([S.RegisterAction],Rt);class Nt extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.runsOnceForEachCountPrefix=!0}}let Tt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=[["<C-w>","v"],["<C-w>","<C-v>"]]}exec(e,t){return o(this,void 0,void 0,function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.splitEditor",args:{}}),t})}};Tt=i([S.RegisterAction],Tt);let Lt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual,x.ModeName.VisualLine],this.keys=["<C-w>","="]}exec(e,t){return o(this,void 0,void 0,function*(){return t.postponedCodeViewChanges.push({command:"workbench.action.evenEditorWidths",args:{}}),t})}};Lt=i([S.RegisterAction],Lt);let Ft=class extends Nt{constructor(){super(...arguments),this.keys=[["g","t"],["<C-pagedown>"]],this.runsOnceForEachCountPrefix=!1}exec(e,t){return o(this,void 0,void 0,function*(){return t.recordedState.count>0?new p.TabCommand({tab:p.Tab.Absolute,count:t.recordedState.count-1}).execute():new p.TabCommand({tab:p.Tab.Next,count:1}).execute(),t})}};Ft=i([S.RegisterAction],Ft);let Bt=class extends Nt{constructor(){super(...arguments),this.keys=[["g","T"],["<C-pageup>"]],this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,function*(){return new p.TabCommand({tab:p.Tab.Previous,count:1}).execute(),t})}};Bt=i([S.RegisterAction],Bt);let Ot=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["x"],this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,function*(){if(_.TextEditor.getLineAt(e).text.length<1)return t;let r=t.recordedState.count||1;const n=yield new A.DeleteOperator(this.multicursorIndex).run(t,e,e.getRightByCount(r-1));return n.currentMode=x.ModeName.Normal,n})}};Ot=i([S.RegisterAction],Ot);let It=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["<Del>"],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}execCount(e,t){return o(this,void 0,void 0,function*(){return 0!==t.recordedState.count?(t.recordedState.count=Math.floor(t.recordedState.count/10),t.recordedState.actionKeys=t.recordedState.count.toString().split(""),t.recordedState.commandList=t.recordedState.count.toString().split(""),this.isCompleteAction=!1,t):yield(new Ot).execCount(e,t)})}};It=i([S.RegisterAction],It);let Dt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["X"],this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,function*(){if(0===e.character)return t;let r=t.recordedState.count||1;return yield new A.DeleteOperator(this.multicursorIndex).run(t,e.getLeftByCount(r),e.getLeft())})}};Dt=i([S.RegisterAction],Dt);let jt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["J"],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!1}firstNonWhitespaceIndex(e){for(let t=0,r=e.length;t<r;t++){let r=e.charCodeAt(t);if(32!==r&&9!==r)return t}return-1}execJoinLines(e,t,r,n){return o(this,void 0,void 0,function*(){n=n-1||1;let i,o,s,a,u=0;e.isEqual(t)||e.line===t.line?t.line+1<_.TextEditor.getLineCount()?(o=0,s=(i=t.line)+n,a=_.TextEditor.getLineMaxColumn(s)):(i=t.line,o=0,s=t.line,a=_.TextEditor.getLineMaxColumn(s)):(i=e.line,o=0,s=t.line,a=_.TextEditor.getLineMaxColumn(s));let c=_.TextEditor.getLineAt(e).text;for(let e=i+1;e<=s;e++){let t=_.TextEditor.getLineAt(new m.Position(e,0)).text,r=this.firstNonWhitespaceIndex(t);if(r>=0){let e=!0;""!==c&&" "!==c.charAt(c.length-1)&&"\t"!==c.charAt(c.length-1)||(e=!1);let n=t.substr(r);")"===n.charAt(0)&&(e=!1),c+=(e?" ":"")+n,u=e?n.length+1:n.length}else""===c||" "===c.charAt(c.length-1)||"\t"===c.charAt(c.length-1)?u+=0:(c+=" ",u+=1)}let l=new m.Position(i,o),d=new m.Position(s,a);return l.isEqual(d)||(e.isEqual(t)?r.recordedState.transformations.push({type:"replaceText",text:c,start:l,end:d,diff:new m.PositionDiff(0,c.length-u-t.character)}):(r.recordedState.transformations.push({type:"replaceText",text:c,start:l,end:d,manuallySetCursorPositions:!0}),r.cursorPosition=new m.Position(e.line,c.length-u),r.cursorStartPosition=r.cursorPosition,r.currentMode=x.ModeName.Normal)),r})}execCount(e,t){return o(this,void 0,void 0,function*(){let e=t.recordedState.count||1,r=[],n=0;const i=t.allCursors.map(e=>new g.Range(e.start,e.stop)).sort((e,t)=>e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>t.start.character?1:-1);for(const{start:o,stop:s}of i){this.multicursorIndex=n++,t.cursorPosition=s,t.cursorStartPosition=o,t=yield this.execJoinLines(o,s,t,e),r.push(new g.Range(t.cursorStartPosition,t.cursorPosition));for(const e of t.recordedState.transformations)M.isTextTransformation(e)&&void 0===e.cursorIndex&&(e.cursorIndex=this.multicursorIndex)}return t.allCursors=r,t})}};jt=i([S.RegisterAction],jt);let Vt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Visual,x.ModeName.VisualLine],this.keys=["J"]}exec(e,t){return o(this,void 0,void 0,function*(){let e=new jt,r=m.Position.FromVSCodePosition(t.editor.selection.start),n=m.Position.FromVSCodePosition(t.editor.selection.end);return r.isAfter(n)&&([r,n]=[n,r]),t.currentRegisterMode=b.RegisterMode.CharacterWise,t=yield e.execJoinLines(r,n,t,1)})}};Vt=i([S.RegisterAction],Vt);let Wt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["g","J"],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,function*(){if(e.line===_.TextEditor.getLineCount()-1)return t;let r=_.TextEditor.getLineAt(e).text,n=_.TextEditor.getLineAt(e.getNextLineBegin()).text,i=r+(n=n.substring(e.getNextLineBegin().getFirstLineNonBlankChar().character)),o=yield new A.DeleteOperator(this.multicursorIndex).run(t,e.getLineBegin(),n.length>0?e.getNextLineBegin().getLineEnd().getLeft():e.getLineEnd());return t.recordedState.transformations.push({type:"insertText",text:i,position:e,diff:new m.PositionDiff(0,-n.length)}),o.cursorPosition=new m.Position(e.line,r.length),o})}};Wt=i([S.RegisterAction],Wt);let $t=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Visual],this.keys=["g","J"]}exec(e,t){return o(this,void 0,void 0,function*(){let e=new Wt,r=m.Position.FromVSCodePosition(t.editor.selection.start),n=m.Position.FromVSCodePosition(t.editor.selection.end);if(r.line===n.line)return t;r.isAfter(n)&&([r,n]=[n,r]);for(let i=r.line;i<n.line;i++)t=yield e.exec(r,t);return t})}};$t=i([S.RegisterAction],$t);let Ht=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["r","<character>"],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!1}exec(e,t){return o(this,void 0,void 0,function*(){let r=t.recordedState.count||1;const n=this.keysPressed[1];if(["<BS>","<SHIFT+BS>"].indexOf(n.toUpperCase())>=0)return t;if(e.character+r>e.getLineEnd().character)return t;let i=new m.Position(e.line,e.character+r);return i.character>_.TextEditor.getLineAt(i).text.length?t:(i.character>_.TextEditor.getLineAt(i).text.length&&(i=new m.Position(i.line,i.character+1)),"<tab>"===n?(t.recordedState.transformations.push({type:"deleteRange",range:new g.Range(e,i)}),t.recordedState.transformations.push({type:"tab",cursorIndex:this.multicursorIndex,diff:new m.PositionDiff(0,-1)})):t.recordedState.transformations.push({type:"replaceText",text:n.repeat(r),start:e,end:i,diff:new m.PositionDiff(0,r-1)}),t)})}execCount(e,t){const r=e=>super[e];return o(this,void 0,void 0,function*(){return r("execCount").call(this,e,t)})}};Ht=i([S.RegisterAction],Ht);let Ut=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Visual,x.ModeName.VisualLine],this.keys=["r","<character>"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){const e=this.keysPressed[1];let r=1,n=t.cursorStartPosition,i=t.cursorPosition;i.isBeforeOrEqual(n)&&([n,i]=[i,n]);const o=_.TextEditor.getLineAt(i).text.length;o<=0&&(r=0),i=new m.Position(i.line,Math.min(i.character,o>0?o-1:0));for(var s=n.line;s<=i.line;s++){const o=_.TextEditor.getLineAt(new m.Position(s,0)).text;n.line===i.line?t.recordedState.transformations.push({type:"replaceText",text:Array(i.character-n.character+2).join(e),start:n,end:new m.Position(i.line,i.character+1),manuallySetCursorPositions:!0}):s===n.line?t.recordedState.transformations.push({type:"replaceText",text:Array(o.length-n.character+1).join(e),start:n,end:new m.Position(n.line,o.length),manuallySetCursorPositions:!0}):s===i.line?t.recordedState.transformations.push({type:"replaceText",text:Array(i.character+1+r).join(e),start:new m.Position(i.line,0),end:new m.Position(i.line,i.character+r),manuallySetCursorPositions:!0}):t.recordedState.transformations.push({type:"replaceText",text:Array(o.length+1).join(e),start:new m.Position(s,0),end:new m.Position(s,o.length),manuallySetCursorPositions:!0})}return t.cursorPosition=n,t.cursorStartPosition=n,t.currentMode=x.ModeName.Normal,t})}};Ut=i([S.RegisterAction],Ut);let qt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.VisualBlock],this.keys=["r","<character>"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){const e=this.keysPressed[1];for(const{start:r,end:n}of m.Position.IterateLine(t))n.isBeforeOrEqual(r)||t.recordedState.transformations.push({type:"replaceText",text:Array(n.character-r.character+1).join(e),start:r,end:n,manuallySetCursorPositions:!0});const r=w.VisualBlockMode.getTopLeftPosition(t.cursorPosition,t.cursorStartPosition);return t.allCursors=[new g.Range(r,r)],t.currentMode=x.ModeName.Normal,t})}};qt=i([S.RegisterAction],qt);let zt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.VisualBlock],this.keys=["x"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){for(const{start:e,end:r}of m.Position.IterateLine(t))t.recordedState.transformations.push({type:"deleteRange",range:new g.Range(e,r),manuallySetCursorPositions:!0});const e=w.VisualBlockMode.getTopLeftPosition(t.cursorPosition,t.cursorStartPosition);return t.allCursors=[new g.Range(e,e)],t.currentMode=x.ModeName.Normal,t})}};zt=i([S.RegisterAction],zt);let Kt=class extends zt{constructor(){super(...arguments),this.modes=[x.ModeName.VisualBlock],this.keys=["d"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}};Kt=i([S.RegisterAction],Kt);let Jt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.VisualBlock],this.keys=["D"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){for(const{start:e}of m.Position.IterateLine(t))t.recordedState.transformations.push({type:"deleteRange",range:new g.Range(e,e.getLineEnd()),manuallySetCursorPositions:!0});const e=w.VisualBlockMode.getTopLeftPosition(t.cursorPosition,t.cursorStartPosition);return t.allCursors=[new g.Range(e,e)],t.currentMode=x.ModeName.Normal,t})}};Jt=i([S.RegisterAction],Jt);let Gt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.VisualBlock],this.keys=["I"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){t.currentMode=x.ModeName.Insert,t.isMultiCursor=!0,t.isFakeMultiCursor=!0;for(const{line:e,start:r}of m.Position.IterateLine(t))""===e&&0!==r.character||t.allCursors.push(new g.Range(r,r));return t.allCursors=t.allCursors.slice(1),t})}};Gt=i([S.RegisterAction],Gt);let Yt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.VisualBlock],this.keys=[["c"],["s"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){for(const{start:e,end:r}of m.Position.IterateLine(t))t.recordedState.transformations.push({type:"deleteRange",range:new g.Range(e,r),manuallySetCursorPositions:!0});t.currentMode=x.ModeName.Insert,t.isMultiCursor=!0,t.isFakeMultiCursor=!0;for(const{start:e}of m.Position.IterateLine(t))t.allCursors.push(new g.Range(e,e));return t.allCursors=t.allCursors.slice(1),t})}};Yt=i([S.RegisterAction],Yt);let Qt=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.VisualBlock],this.keys=[["C"],["S"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){for(const{start:e}of m.Position.IterateLine(t))t.recordedState.transformations.push({type:"deleteRange",range:new g.Range(e,e.getLineEnd()),collapseRange:!0});t.currentMode=x.ModeName.Insert,t.isMultiCursor=!0,t.isFakeMultiCursor=!0;for(const{end:e}of m.Position.IterateLine(t))t.allCursors.push(new g.Range(e,e));return t.allCursors=t.allCursors.slice(1),t})}};Qt=i([S.RegisterAction],Qt);class Zt extends P{runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){t.currentMode=x.ModeName.Insert,t.isMultiCursor=!0,t.isFakeMultiCursor=!0;let e=m.Position.FromVSCodePosition(t.editor.selection.start),r=m.Position.FromVSCodePosition(t.editor.selection.end);e.isAfter(r)&&([e,r]=[r,e]),t.allCursors=[];for(let n=e.line;n<=r.line;n++){const i=_.TextEditor.getLineAt(new m.Position(n,0));""!==i.text.trim()&&t.allCursors.push(this.getCursorRangeForLine(i,e,r))}return t})}}let Xt=class extends Zt{constructor(){super(...arguments),this.modes=[x.ModeName.VisualLine],this.keys=["I"]}getCursorRangeForLine(e){const t=new m.Position(e.lineNumber,e.firstNonWhitespaceCharacterIndex);return new g.Range(t,t)}};Xt=i([S.RegisterAction],Xt),t.ActionGoToInsertVisualLineMode=Xt;let er=class extends Zt{constructor(){super(...arguments),this.modes=[x.ModeName.VisualLine],this.keys=["A"]}getCursorRangeForLine(e){const t=new m.Position(e.lineNumber,e.range.end.character);return new g.Range(t,t)}};er=i([S.RegisterAction],er),t.ActionGoToInsertVisualLineModeAppend=er;let tr=class extends Zt{constructor(){super(...arguments),this.modes=[x.ModeName.Visual],this.keys=["I"]}getCursorRangeForLine(e,t,r){const n=e.lineNumber===t.line?t:new m.Position(e.lineNumber,e.firstNonWhitespaceCharacterIndex);return new g.Range(n,n)}};tr=i([S.RegisterAction],tr),t.ActionGoToInsertVisualMode=tr;let rr=class extends Zt{constructor(){super(...arguments),this.modes=[x.ModeName.Visual],this.keys=["A"]}getCursorRangeForLine(e,t,r){const n=e.lineNumber===r.line?r:new m.Position(e.lineNumber,e.range.end.character);return new g.Range(n,n)}};rr=i([S.RegisterAction],rr),t.ActionGoToInsertVisualModeAppend=rr;let nr=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.VisualBlock],this.keys=["A"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){t.currentMode=x.ModeName.Insert,t.isMultiCursor=!0,t.isFakeMultiCursor=!0;for(const{line:e,end:r}of m.Position.IterateLine(t))""===e.trim()&&t.recordedState.transformations.push({type:"replaceText",text:_.TextEditor.setIndentationLevel(e,r.character),start:new m.Position(r.line,0),end:new m.Position(r.line,r.character)}),t.allCursors.push(new g.Range(r,r));return t.allCursors=t.allCursors.slice(1),t})}};nr=i([S.RegisterAction],nr);let ir=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Visual,x.ModeName.VisualLine],this.keys=["X"]}exec(e,t){return o(this,void 0,void 0,function*(){return t.currentMode===x.ModeName.Visual?yield new A.DeleteOperator(this.multicursorIndex).run(t,t.cursorStartPosition.getLineBegin(),t.cursorPosition.getLineEnd()):yield new A.DeleteOperator(this.multicursorIndex).run(t,e.getLineBegin(),e.getLineEnd())})}};ir=i([S.RegisterAction],ir);let or=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Visual],this.keys=["C"]}exec(e,t){return o(this,void 0,void 0,function*(){return yield new A.DeleteOperator(this.multicursorIndex).run(t,t.cursorStartPosition.getLineBegin(),t.cursorPosition.getLineEndIncludingEOL())})}};or=i([S.RegisterAction],or);let sr=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Visual],this.keys=["R"]}exec(e,t){return o(this,void 0,void 0,function*(){return yield new A.DeleteOperator(this.multicursorIndex).run(t,t.cursorStartPosition.getLineBegin(),t.cursorPosition.getLineEndIncludingEOL())})}};sr=i([S.RegisterAction],sr);let ar=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["s"],this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,function*(){const r=yield(new A.ChangeOperator).run(t,e,e);return r.currentMode=x.ModeName.Insert,r})}doesActionApply(e,t){return super.doesActionApply(e,t)&&!y.configuration.sneak&&!e.recordedState.operator}couldActionApply(e,t){return super.couldActionApply(e,t)&&!y.configuration.sneak&&!e.recordedState.operator}};ar=i([S.RegisterAction],ar);let ur=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["~"],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!0}exec(e,t){return o(this,void 0,void 0,function*(){return yield(new A.ToggleCaseOperator).run(t,t.cursorPosition,t.cursorPosition),t.cursorPosition=t.cursorPosition.getRight(),t})}};ur=i([S.RegisterAction],ur);class cr extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.canBeRepeatedWithDot=!0}exec(e,t){return o(this,void 0,void 0,function*(){const r=_.TextEditor.getLineAt(e).text,n=r[e.character].match(/\s/)?e:e.getWordLeft(!0);for(let{start:i,end:o,word:s}of m.Position.IterateWords(n))for("-"===r[i.character-1]&&/\d/.test(r[i.character])&&(s=r[(i=i.getLeft()).character]+s);;){const r=v.NumericString.parse(s);if(null!==r&&e.character<i.character+r.prefix.length+r.value.toString().length)return t.cursorPosition=yield this.replaceNum(r,this.offset*(t.recordedState.count||1),i,o),t.cursorPosition=t.cursorPosition.getLeftByCount(r.suffix.length),t;if(null===r)break;s=s.slice(r.prefix.length+r.value.toString().length),i=new m.Position(i.line,i.character+r.prefix.length+r.value.toString().length)}return t})}replaceNum(e,t,r,n){return o(this,void 0,void 0,function*(){const i=e.toString().length;e.value+=t;const o=e.toString(),a=new s.Range(r,n.getRight());return i===o.length?yield _.TextEditor.replace(a,o):(yield _.TextEditor.delete(a),yield _.TextEditor.insertAt(o,r),n=new m.Position(n.line,n.character+(o.length-i))),n})}}let lr=class extends cr{constructor(){super(...arguments),this.keys=["<C-a>"],this.offset=1}};lr=i([S.RegisterAction],lr);let dr=class extends cr{constructor(){super(...arguments),this.keys=["<C-x>"],this.offset=-1}};dr=i([S.RegisterAction],dr);let hr=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal],this.keys=["g","h"]}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){return yield s.commands.executeCommand("editor.action.showHover"),t})}};hr=i([S.RegisterAction],hr);let fr=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual],this.keys=[["<D-d>"],["g","b"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){return yield s.commands.executeCommand("editor.action.addSelectionToNextFindMatch"),t.allCursors=yield c.getCursorsAfterSync(),t.allCursors=t.allCursors.map(e=>e.withNewStop(e.stop.getLeft())),t.currentMode=x.ModeName.Visual,t})}};fr=i([S.RegisterAction],fr);let pr=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Insert],this.keys=["<D-d>"],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){return s.window.activeTextEditor.selections=s.window.activeTextEditor.selections.map((e,t)=>{const r=m.Position.FromVSCodePosition(e.active);if(0===t)return new s.Selection(r.getWordLeft(!1),r.getLeft().getCurrentWordEnd(!0).getRight());{const e=m.Position.FromVSCodePosition(s.window.activeTextEditor.selections[0].active),t=e.getLeft().getCurrentWordEnd(!0).getRight().character-e.getWordLeft(!1).character,n=r.getLeftByCount(t);return new s.Selection(n,r)}}),yield s.commands.executeCommand("editor.action.addSelectionToNextFindMatch"),t.allCursors=yield c.getCursorsAfterSync(),t})}};pr=i([S.RegisterAction],pr);let mr=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual],this.keys=[["<D-alt+down>"],["<C-alt+down>"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){return yield s.commands.executeCommand("editor.action.insertCursorBelow"),t.allCursors=yield c.getCursorsAfterSync(),t})}};mr=i([S.RegisterAction],mr);let gr=class extends P{constructor(){super(...arguments),this.modes=[x.ModeName.Normal,x.ModeName.Visual],this.keys=[["<D-alt+up>"],["<C-alt+up>"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){return yield s.commands.executeCommand("editor.action.insertCursorAbove"),t.allCursors=yield c.getCursorsAfterSync(),t})}};gr=i([S.RegisterAction],gr)},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("child_process")},function(e,t,r){(function(e){var n;(function(){var i,o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="__lodash_hash_undefined__",c=500,l="__lodash_placeholder__",d=1,h=2,f=4,p=1,m=2,g=1,v=2,y=4,x=8,w=16,b=32,C=64,_=128,M=256,S=512,E=30,k="...",A=800,P=16,R=1,N=2,T=1/0,L=9007199254740991,F=1.7976931348623157e308,B=NaN,O=4294967295,I=O-1,D=O>>>1,j=[["ary",_],["bind",g],["bindKey",v],["curry",x],["curryRight",w],["flip",S],["partial",b],["partialRight",C],["rearg",M]],V="[object Arguments]",W="[object Array]",$="[object AsyncFunction]",H="[object Boolean]",U="[object Date]",q="[object DOMException]",z="[object Error]",K="[object Function]",J="[object GeneratorFunction]",G="[object Map]",Y="[object Number]",Q="[object Null]",Z="[object Object]",X="[object Proxy]",ee="[object RegExp]",te="[object Set]",re="[object String]",ne="[object Symbol]",ie="[object Undefined]",oe="[object WeakMap]",se="[object WeakSet]",ae="[object ArrayBuffer]",ue="[object DataView]",ce="[object Float32Array]",le="[object Float64Array]",de="[object Int8Array]",he="[object Int16Array]",fe="[object Int32Array]",pe="[object Uint8Array]",me="[object Uint8ClampedArray]",ge="[object Uint16Array]",ve="[object Uint32Array]",ye=/\b__p \+= '';/g,xe=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39);/g,Ce=/[&<>"']/g,_e=RegExp(be.source),Me=RegExp(Ce.source),Se=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,ke=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pe=/^\w*$/,Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,Te=RegExp(Ne.source),Le=/^\s+|\s+$/g,Fe=/^\s+/,Be=/\s+$/,Oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ie=/\{\n\/\* \[wrapped with (.+)\] \*/,De=/,? & /,je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$e=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,qe=/^\[object .+?Constructor\]$/,ze=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ge=/($^)/,Ye=/['\n\r\u2028\u2029\\]/g,Qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ze="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xe="[\\ud800-\\udfff]",et="["+Ze+"]",tt="["+Qe+"]",rt="\\d+",nt="[\\u2700-\\u27bf]",it="[a-z\\xdf-\\xf6\\xf8-\\xff]",ot="[^\\ud800-\\udfff"+Ze+rt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",st="\\ud83c[\\udffb-\\udfff]",at="[^\\ud800-\\udfff]",ut="(?:\\ud83c[\\udde6-\\uddff]){2}",ct="[\\ud800-\\udbff][\\udc00-\\udfff]",lt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",dt="(?:"+it+"|"+ot+")",ht="(?:"+lt+"|"+ot+")",ft="(?:"+tt+"|"+st+")"+"?",pt="[\\ufe0e\\ufe0f]?"+ft+("(?:\\u200d(?:"+[at,ut,ct].join("|")+")[\\ufe0e\\ufe0f]?"+ft+")*"),mt="(?:"+[nt,ut,ct].join("|")+")"+pt,gt="(?:"+[at+tt+"?",tt,ut,ct,Xe].join("|")+")",vt=RegExp("[']","g"),yt=RegExp(tt,"g"),xt=RegExp(st+"(?="+st+")|"+gt+pt,"g"),wt=RegExp([lt+"?"+it+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[et,lt,"$"].join("|")+")",ht+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[et,lt+dt,"$"].join("|")+")",lt+"?"+dt+"+(?:['](?:d|ll|m|re|s|t|ve))?",lt+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt,mt].join("|"),"g"),bt=RegExp("[\\u200d\\ud800-\\udfff"+Qe+"\\ufe0e\\ufe0f]"),Ct=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_t=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Mt=-1,St={};St[ce]=St[le]=St[de]=St[he]=St[fe]=St[pe]=St[me]=St[ge]=St[ve]=!0,St[V]=St[W]=St[ae]=St[H]=St[ue]=St[U]=St[z]=St[K]=St[G]=St[Y]=St[Z]=St[ee]=St[te]=St[re]=St[oe]=!1;var Et={};Et[V]=Et[W]=Et[ae]=Et[ue]=Et[H]=Et[U]=Et[ce]=Et[le]=Et[de]=Et[he]=Et[fe]=Et[G]=Et[Y]=Et[Z]=Et[ee]=Et[te]=Et[re]=Et[ne]=Et[pe]=Et[me]=Et[ge]=Et[ve]=!0,Et[z]=Et[K]=Et[oe]=!1;var kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},At=parseFloat,Pt=parseInt,Rt="object"==typeof global&&global&&global.Object===Object&&global,Nt="object"==typeof self&&self&&self.Object===Object&&self,Tt=Rt||Nt||Function("return this")(),Lt=t&&!t.nodeType&&t,Ft=Lt&&"object"==typeof e&&e&&!e.nodeType&&e,Bt=Ft&&Ft.exports===Lt,Ot=Bt&&Rt.process,It=function(){try{var e=Ft&&Ft.require&&Ft.require("util").types;return e||Ot&&Ot.binding&&Ot.binding("util")}catch(e){}}(),Dt=It&&It.isArrayBuffer,jt=It&&It.isDate,Vt=It&&It.isMap,Wt=It&&It.isRegExp,$t=It&&It.isSet,Ht=It&&It.isTypedArray;function Ut(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function qt(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function zt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Kt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Jt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Gt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function Yt(e,t){return!!(null==e?0:e.length)&&sr(e,t,0)>-1}function Qt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Zt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Xt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function er(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function tr(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function rr(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var nr=lr("length");function ir(e,t,r){var n;return r(e,function(e,r,i){if(t(e,r,i))return n=r,!1}),n}function or(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function sr(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):or(e,ur,r)}function ar(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function ur(e){return e!=e}function cr(e,t){var r=null==e?0:e.length;return r?fr(e,t)/r:B}function lr(e){return function(t){return null==t?i:t[e]}}function dr(e){return function(t){return null==e?i:e[t]}}function hr(e,t,r,n,i){return i(e,function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)}),r}function fr(e,t){for(var r,n=-1,o=e.length;++n<o;){var s=t(e[n]);s!==i&&(r=r===i?s:r+s)}return r}function pr(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function mr(e){return function(t){return e(t)}}function gr(e,t){return Zt(t,function(t){return e[t]})}function vr(e,t){return e.has(t)}function yr(e,t){for(var r=-1,n=e.length;++r<n&&sr(t,e[r],0)>-1;);return r}function xr(e,t){for(var r=e.length;r--&&sr(t,e[r],0)>-1;);return r}var wr=dr({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),br=dr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Cr(e){return"\\"+kt[e]}function _r(e){return bt.test(e)}function Mr(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function Sr(e,t){return function(r){return e(t(r))}}function Er(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==l||(e[r]=l,o[i++]=r)}return o}function kr(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function Ar(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function Pr(e){return _r(e)?function(e){var t=xt.lastIndex=0;for(;xt.test(e);)++t;return t}(e):nr(e)}function Rr(e){return _r(e)?function(e){return e.match(xt)||[]}(e):function(e){return e.split("")}(e)}var Nr=dr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Tr=function e(t){var r,n=(t=null==t?Tt:Tr.defaults(Tt.Object(),t,Tr.pick(Tt,_t))).Array,Qe=t.Date,Ze=t.Error,Xe=t.Function,et=t.Math,tt=t.Object,rt=t.RegExp,nt=t.String,it=t.TypeError,ot=n.prototype,st=Xe.prototype,at=tt.prototype,ut=t["__core-js_shared__"],ct=st.toString,lt=at.hasOwnProperty,dt=0,ht=(r=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",ft=at.toString,pt=ct.call(tt),mt=Tt._,gt=rt("^"+ct.call(lt).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xt=Bt?t.Buffer:i,bt=t.Symbol,kt=t.Uint8Array,Rt=xt?xt.allocUnsafe:i,Nt=Sr(tt.getPrototypeOf,tt),Lt=tt.create,Ft=at.propertyIsEnumerable,Ot=ot.splice,It=bt?bt.isConcatSpreadable:i,nr=bt?bt.iterator:i,dr=bt?bt.toStringTag:i,Lr=function(){try{var e=jo(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Fr=t.clearTimeout!==Tt.clearTimeout&&t.clearTimeout,Br=Qe&&Qe.now!==Tt.Date.now&&Qe.now,Or=t.setTimeout!==Tt.setTimeout&&t.setTimeout,Ir=et.ceil,Dr=et.floor,jr=tt.getOwnPropertySymbols,Vr=xt?xt.isBuffer:i,Wr=t.isFinite,$r=ot.join,Hr=Sr(tt.keys,tt),Ur=et.max,qr=et.min,zr=Qe.now,Kr=t.parseInt,Jr=et.random,Gr=ot.reverse,Yr=jo(t,"DataView"),Qr=jo(t,"Map"),Zr=jo(t,"Promise"),Xr=jo(t,"Set"),en=jo(t,"WeakMap"),tn=jo(tt,"create"),rn=en&&new en,nn={},on=ds(Yr),sn=ds(Qr),an=ds(Zr),un=ds(Xr),cn=ds(en),ln=bt?bt.prototype:i,dn=ln?ln.valueOf:i,hn=ln?ln.toString:i;function fn(e){if(Aa(e)&&!va(e)&&!(e instanceof vn)){if(e instanceof gn)return e;if(lt.call(e,"__wrapped__"))return hs(e)}return new gn(e)}var pn=function(){function e(){}return function(t){if(!ka(t))return{};if(Lt)return Lt(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function mn(){}function gn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=O,this.__views__=[]}function yn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function wn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function bn(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new wn;++t<r;)this.add(e[t])}function Cn(e){var t=this.__data__=new xn(e);this.size=t.size}function _n(e,t){var r=va(e),n=!r&&ga(e),i=!r&&!n&&ba(e),o=!r&&!n&&!i&&Oa(e),s=r||n||i||o,a=s?pr(e.length,nt):[],u=a.length;for(var c in e)!t&&!lt.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zo(c,u))||a.push(c);return a}function Mn(e){var t=e.length;return t?e[bi(0,t-1)]:i}function Sn(e,t){return us(ro(e),Fn(t,0,e.length))}function En(e){return us(ro(e))}function kn(e,t,r){(r===i||fa(e[t],r))&&(r!==i||t in e)||Tn(e,t,r)}function An(e,t,r){var n=e[t];lt.call(e,t)&&fa(n,r)&&(r!==i||t in e)||Tn(e,t,r)}function Pn(e,t){for(var r=e.length;r--;)if(fa(e[r][0],t))return r;return-1}function Rn(e,t,r,n){return jn(e,function(e,i,o){t(n,e,r(e),o)}),n}function Nn(e,t){return e&&no(t,iu(t),e)}function Tn(e,t,r){"__proto__"==t&&Lr?Lr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Ln(e,t){for(var r=-1,o=t.length,s=n(o),a=null==e;++r<o;)s[r]=a?i:Xa(e,t[r]);return s}function Fn(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function Bn(e,t,r,n,o,s){var a,u=t&d,c=t&h,l=t&f;if(r&&(a=o?r(e,n,o,s):r(e)),a!==i)return a;if(!ka(e))return e;var p=va(e);if(p){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&lt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!u)return ro(e,a)}else{var m=$o(e),g=m==K||m==J;if(ba(e))return Yi(e,u);if(m==Z||m==V||g&&!o){if(a=c||g?{}:Uo(e),!u)return c?function(e,t){return no(e,Wo(e),t)}(e,function(e,t){return e&&no(t,ou(t),e)}(a,e)):function(e,t){return no(e,Vo(e),t)}(e,Nn(a,e))}else{if(!Et[m])return o?e:{};a=function(e,t,r){var n,i,o,s=e.constructor;switch(t){case ae:return Qi(e);case H:case U:return new s(+e);case ue:return function(e,t){var r=t?Qi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case ce:case le:case de:case he:case fe:case pe:case me:case ge:case ve:return Zi(e,r);case G:return new s;case Y:case re:return new s(e);case ee:return(o=new(i=e).constructor(i.source,$e.exec(i))).lastIndex=i.lastIndex,o;case te:return new s;case ne:return n=e,dn?tt(dn.call(n)):{}}}(e,m,u)}}s||(s=new Cn);var v=s.get(e);if(v)return v;if(s.set(e,a),La(e))return e.forEach(function(n){a.add(Bn(n,t,r,n,e,s))}),a;if(Pa(e))return e.forEach(function(n,i){a.set(i,Bn(n,t,r,i,e,s))}),a;var y=p?i:(l?c?To:No:c?ou:iu)(e);return zt(y||e,function(n,i){y&&(n=e[i=n]),An(a,i,Bn(n,t,r,i,e,s))}),a}function On(e,t,r){var n=r.length;if(null==e)return!n;for(e=tt(e);n--;){var o=r[n],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function In(e,t,r){if("function"!=typeof e)throw new it(a);return is(function(){e.apply(i,r)},t)}function Dn(e,t,r,n){var i=-1,s=Yt,a=!0,u=e.length,c=[],l=t.length;if(!u)return c;r&&(t=Zt(t,mr(r))),n?(s=Qt,a=!1):t.length>=o&&(s=vr,a=!1,t=new bn(t));e:for(;++i<u;){var d=e[i],h=null==r?d:r(d);if(d=n||0!==d?d:0,a&&h==h){for(var f=l;f--;)if(t[f]===h)continue e;c.push(d)}else s(t,h,n)||c.push(d)}return c}fn.templateSettings={escape:Se,evaluate:Ee,interpolate:ke,variable:"",imports:{_:fn}},fn.prototype=mn.prototype,fn.prototype.constructor=fn,gn.prototype=pn(mn.prototype),gn.prototype.constructor=gn,vn.prototype=pn(mn.prototype),vn.prototype.constructor=vn,yn.prototype.clear=function(){this.__data__=tn?tn(null):{},this.size=0},yn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yn.prototype.get=function(e){var t=this.__data__;if(tn){var r=t[e];return r===u?i:r}return lt.call(t,e)?t[e]:i},yn.prototype.has=function(e){var t=this.__data__;return tn?t[e]!==i:lt.call(t,e)},yn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tn&&t===i?u:t,this},xn.prototype.clear=function(){this.__data__=[],this.size=0},xn.prototype.delete=function(e){var t=this.__data__,r=Pn(t,e);return!(r<0||(r==t.length-1?t.pop():Ot.call(t,r,1),--this.size,0))},xn.prototype.get=function(e){var t=this.__data__,r=Pn(t,e);return r<0?i:t[r][1]},xn.prototype.has=function(e){return Pn(this.__data__,e)>-1},xn.prototype.set=function(e,t){var r=this.__data__,n=Pn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},wn.prototype.clear=function(){this.size=0,this.__data__={hash:new yn,map:new(Qr||xn),string:new yn}},wn.prototype.delete=function(e){var t=Io(this,e).delete(e);return this.size-=t?1:0,t},wn.prototype.get=function(e){return Io(this,e).get(e)},wn.prototype.has=function(e){return Io(this,e).has(e)},wn.prototype.set=function(e,t){var r=Io(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},bn.prototype.add=bn.prototype.push=function(e){return this.__data__.set(e,u),this},bn.prototype.has=function(e){return this.__data__.has(e)},Cn.prototype.clear=function(){this.__data__=new xn,this.size=0},Cn.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Cn.prototype.get=function(e){return this.__data__.get(e)},Cn.prototype.has=function(e){return this.__data__.has(e)},Cn.prototype.set=function(e,t){var r=this.__data__;if(r instanceof xn){var n=r.__data__;if(!Qr||n.length<o-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new wn(n)}return r.set(e,t),this.size=r.size,this};var jn=so(Kn),Vn=so(Jn,!0);function Wn(e,t){var r=!0;return jn(e,function(e,n,i){return r=!!t(e,n,i)}),r}function $n(e,t,r){for(var n=-1,o=e.length;++n<o;){var s=e[n],a=t(s);if(null!=a&&(u===i?a==a&&!Ba(a):r(a,u)))var u=a,c=s}return c}function Hn(e,t){var r=[];return jn(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function Un(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=qo),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?Un(a,t-1,r,n,i):Xt(i,a):n||(i[i.length]=a)}return i}var qn=ao(),zn=ao(!0);function Kn(e,t){return e&&qn(e,t,iu)}function Jn(e,t){return e&&zn(e,t,iu)}function Gn(e,t){return Gt(t,function(t){return Ma(e[t])})}function Yn(e,t){for(var r=0,n=(t=zi(t,e)).length;null!=e&&r<n;)e=e[ls(t[r++])];return r&&r==n?e:i}function Qn(e,t,r){var n=t(e);return va(e)?n:Xt(n,r(e))}function Zn(e){return null==e?e===i?ie:Q:dr&&dr in tt(e)?function(e){var t=lt.call(e,dr),r=e[dr];try{e[dr]=i;var n=!0}catch(e){}var o=ft.call(e);return n&&(t?e[dr]=r:delete e[dr]),o}(e):function(e){return ft.call(e)}(e)}function Xn(e,t){return e>t}function ei(e,t){return null!=e&&lt.call(e,t)}function ti(e,t){return null!=e&&t in tt(e)}function ri(e,t,r){for(var o=r?Qt:Yt,s=e[0].length,a=e.length,u=a,c=n(a),l=1/0,d=[];u--;){var h=e[u];u&&t&&(h=Zt(h,mr(t))),l=qr(h.length,l),c[u]=!r&&(t||s>=120&&h.length>=120)?new bn(u&&h):i}h=e[0];var f=-1,p=c[0];e:for(;++f<s&&d.length<l;){var m=h[f],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?vr(p,g):o(d,g,r))){for(u=a;--u;){var v=c[u];if(!(v?vr(v,g):o(e[u],g,r)))continue e}p&&p.push(g),d.push(m)}}return d}function ni(e,t,r){var n=null==(e=ts(e,t=zi(t,e)))?e:e[ls(_s(t))];return null==n?i:Ut(n,e,r)}function ii(e){return Aa(e)&&Zn(e)==V}function oi(e,t,r,n,o){return e===t||(null==e||null==t||!Aa(e)&&!Aa(t)?e!=e&&t!=t:function(e,t,r,n,o,s){var a=va(e),u=va(t),c=a?W:$o(e),l=u?W:$o(t),d=(c=c==V?Z:c)==Z,h=(l=l==V?Z:l)==Z,f=c==l;if(f&&ba(e)){if(!ba(t))return!1;a=!0,d=!1}if(f&&!d)return s||(s=new Cn),a||Oa(e)?Po(e,t,r,n,o,s):function(e,t,r,n,i,o,s){switch(r){case ue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ae:return!(e.byteLength!=t.byteLength||!o(new kt(e),new kt(t)));case H:case U:case Y:return fa(+e,+t);case z:return e.name==t.name&&e.message==t.message;case ee:case re:return e==t+"";case G:var a=Mr;case te:var u=n&p;if(a||(a=kr),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;n|=m,s.set(e,t);var l=Po(a(e),a(t),n,i,o,s);return s.delete(e),l;case ne:if(dn)return dn.call(e)==dn.call(t)}return!1}(e,t,c,r,n,o,s);if(!(r&p)){var g=d&&lt.call(e,"__wrapped__"),v=h&&lt.call(t,"__wrapped__");if(g||v){var y=g?e.value():e,x=v?t.value():t;return s||(s=new Cn),o(y,x,r,n,s)}}return!!f&&(s||(s=new Cn),function(e,t,r,n,o,s){var a=r&p,u=No(e),c=u.length,l=No(t).length;if(c!=l&&!a)return!1;for(var d=c;d--;){var h=u[d];if(!(a?h in t:lt.call(t,h)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var m=!0;s.set(e,t),s.set(t,e);for(var g=a;++d<c;){h=u[d];var v=e[h],y=t[h];if(n)var x=a?n(y,v,h,t,e,s):n(v,y,h,e,t,s);if(!(x===i?v===y||o(v,y,r,n,s):x)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var w=e.constructor,b=t.constructor;w!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b)&&(m=!1)}return s.delete(e),s.delete(t),m}(e,t,r,n,o,s))}(e,t,r,n,oi,o))}function si(e,t,r,n){var o=r.length,s=o,a=!n;if(null==e)return!s;for(e=tt(e);o--;){var u=r[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=r[o])[0],l=e[c],d=u[1];if(a&&u[2]){if(l===i&&!(c in e))return!1}else{var h=new Cn;if(n)var f=n(l,d,c,e,t,h);if(!(f===i?oi(d,l,p|m,n,h):f))return!1}}return!0}function ai(e){return!(!ka(e)||(t=e,ht&&ht in t))&&(Ma(e)?gt:qe).test(ds(e));var t}function ui(e){return"function"==typeof e?e:null==e?Ru:"object"==typeof e?va(e)?pi(e[0],e[1]):fi(e):ju(e)}function ci(e){if(!Qo(e))return Hr(e);var t=[];for(var r in tt(e))lt.call(e,r)&&"constructor"!=r&&t.push(r);return t}function li(e){if(!ka(e))return function(e){var t=[];if(null!=e)for(var r in tt(e))t.push(r);return t}(e);var t=Qo(e),r=[];for(var n in e)("constructor"!=n||!t&&lt.call(e,n))&&r.push(n);return r}function di(e,t){return e<t}function hi(e,t){var r=-1,i=xa(e)?n(e.length):[];return jn(e,function(e,n,o){i[++r]=t(e,n,o)}),i}function fi(e){var t=Do(e);return 1==t.length&&t[0][2]?Xo(t[0][0],t[0][1]):function(r){return r===e||si(r,e,t)}}function pi(e,t){return Jo(e)&&Zo(t)?Xo(ls(e),t):function(r){var n=Xa(r,e);return n===i&&n===t?eu(r,e):oi(t,n,p|m)}}function mi(e,t,r,n,o){e!==t&&qn(t,function(s,a){if(ka(s))o||(o=new Cn),function(e,t,r,n,o,s,a){var u=rs(e,r),c=rs(t,r),l=a.get(c);if(l)kn(e,r,l);else{var d=s?s(u,c,r+"",e,t,a):i,h=d===i;if(h){var f=va(c),p=!f&&ba(c),m=!f&&!p&&Oa(c);d=c,f||p||m?va(u)?d=u:wa(u)?d=ro(u):p?(h=!1,d=Yi(c,!0)):m?(h=!1,d=Zi(c,!0)):d=[]:Na(c)||ga(c)?(d=u,ga(u)?d=Ua(u):ka(u)&&!Ma(u)||(d=Uo(c))):h=!1}h&&(a.set(c,d),o(d,c,n,s,a),a.delete(c)),kn(e,r,d)}}(e,t,a,r,mi,n,o);else{var u=n?n(rs(e,a),s,a+"",e,t,o):i;u===i&&(u=s),kn(e,a,u)}},ou)}function gi(e,t){var r=e.length;if(r)return zo(t+=t<0?r:0,r)?e[t]:i}function vi(e,t,r){var n=-1;return t=Zt(t.length?t:[Ru],mr(Oo())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(hi(e,function(e,r,i){return{criteria:Zt(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var u=Xi(i[n],o[n]);if(u){if(n>=a)return u;var c=r[n];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,r)})}function yi(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=Yn(e,s);r(a,s)&&Ei(o,zi(s,e),a)}return o}function xi(e,t,r,n){var i=n?ar:sr,o=-1,s=t.length,a=e;for(e===t&&(t=ro(t)),r&&(a=Zt(e,mr(r)));++o<s;)for(var u=0,c=t[o],l=r?r(c):c;(u=i(a,l,u,n))>-1;)a!==e&&Ot.call(a,u,1),Ot.call(e,u,1);return e}function wi(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;zo(i)?Ot.call(e,i,1):Di(e,i)}}return e}function bi(e,t){return e+Dr(Jr()*(t-e+1))}function Ci(e,t){var r="";if(!e||t<1||t>L)return r;do{t%2&&(r+=e),(t=Dr(t/2))&&(e+=e)}while(t);return r}function _i(e,t){return os(es(e,t,Ru),e+"")}function Mi(e){return Mn(fu(e))}function Si(e,t){var r=fu(e);return us(r,Fn(t,0,r.length))}function Ei(e,t,r,n){if(!ka(e))return e;for(var o=-1,s=(t=zi(t,e)).length,a=s-1,u=e;null!=u&&++o<s;){var c=ls(t[o]),l=r;if(o!=a){var d=u[c];(l=n?n(d,c,u):i)===i&&(l=ka(d)?d:zo(t[o+1])?[]:{})}An(u,c,l),u=u[c]}return e}var ki=rn?function(e,t){return rn.set(e,t),e}:Ru,Ai=Lr?function(e,t){return Lr(e,"toString",{configurable:!0,enumerable:!1,value:ku(t),writable:!0})}:Ru;function Pi(e){return us(fu(e))}function Ri(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=n(o);++i<o;)s[i]=e[i+t];return s}function Ni(e,t){var r;return jn(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function Ti(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=D){for(;n<i;){var o=n+i>>>1,s=e[o];null!==s&&!Ba(s)&&(r?s<=t:s<t)?n=o+1:i=o}return i}return Li(e,t,Ru,r)}function Li(e,t,r,n){t=r(t);for(var o=0,s=null==e?0:e.length,a=t!=t,u=null===t,c=Ba(t),l=t===i;o<s;){var d=Dr((o+s)/2),h=r(e[d]),f=h!==i,p=null===h,m=h==h,g=Ba(h);if(a)var v=n||m;else v=l?m&&(n||f):u?m&&f&&(n||!p):c?m&&f&&!p&&(n||!g):!p&&!g&&(n?h<=t:h<t);v?o=d+1:s=d}return qr(s,I)}function Fi(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r],a=t?t(s):s;if(!r||!fa(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Bi(e){return"number"==typeof e?e:Ba(e)?B:+e}function Oi(e){if("string"==typeof e)return e;if(va(e))return Zt(e,Oi)+"";if(Ba(e))return hn?hn.call(e):"";var t=e+"";return"0"==t&&1/e==-T?"-0":t}function Ii(e,t,r){var n=-1,i=Yt,s=e.length,a=!0,u=[],c=u;if(r)a=!1,i=Qt;else if(s>=o){var l=t?null:_o(e);if(l)return kr(l);a=!1,i=vr,c=new bn}else c=t?[]:u;e:for(;++n<s;){var d=e[n],h=t?t(d):d;if(d=r||0!==d?d:0,a&&h==h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),u.push(d)}else i(c,h,r)||(c!==u&&c.push(h),u.push(d))}return u}function Di(e,t){return null==(e=ts(e,t=zi(t,e)))||delete e[ls(_s(t))]}function ji(e,t,r,n){return Ei(e,t,r(Yn(e,t)),n)}function Vi(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?Ri(e,n?0:o,n?o+1:i):Ri(e,n?o+1:0,n?i:o)}function Wi(e,t){var r=e;return r instanceof vn&&(r=r.value()),er(t,function(e,t){return t.func.apply(t.thisArg,Xt([e],t.args))},r)}function $i(e,t,r){var i=e.length;if(i<2)return i?Ii(e[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=e[o],u=-1;++u<i;)u!=o&&(s[o]=Dn(s[o]||a,e[u],t,r));return Ii(Un(s,1),t,r)}function Hi(e,t,r){for(var n=-1,o=e.length,s=t.length,a={};++n<o;){var u=n<s?t[n]:i;r(a,e[n],u)}return a}function Ui(e){return wa(e)?e:[]}function qi(e){return"function"==typeof e?e:Ru}function zi(e,t){return va(e)?e:Jo(e,t)?[e]:cs(qa(e))}var Ki=_i;function Ji(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:Ri(e,t,r)}var Gi=Fr||function(e){return Tt.clearTimeout(e)};function Yi(e,t){if(t)return e.slice();var r=e.length,n=Rt?Rt(r):new e.constructor(r);return e.copy(n),n}function Qi(e){var t=new e.constructor(e.byteLength);return new kt(t).set(new kt(e)),t}function Zi(e,t){var r=t?Qi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Xi(e,t){if(e!==t){var r=e!==i,n=null===e,o=e==e,s=Ba(e),a=t!==i,u=null===t,c=t==t,l=Ba(t);if(!u&&!l&&!s&&e>t||s&&a&&c&&!u&&!l||n&&a&&c||!r&&c||!o)return 1;if(!n&&!s&&!l&&e<t||l&&r&&o&&!n&&!s||u&&r&&o||!a&&o||!c)return-1}return 0}function eo(e,t,r,i){for(var o=-1,s=e.length,a=r.length,u=-1,c=t.length,l=Ur(s-a,0),d=n(c+l),h=!i;++u<c;)d[u]=t[u];for(;++o<a;)(h||o<s)&&(d[r[o]]=e[o]);for(;l--;)d[u++]=e[o++];return d}function to(e,t,r,i){for(var o=-1,s=e.length,a=-1,u=r.length,c=-1,l=t.length,d=Ur(s-u,0),h=n(d+l),f=!i;++o<d;)h[o]=e[o];for(var p=o;++c<l;)h[p+c]=t[c];for(;++a<u;)(f||o<s)&&(h[p+r[a]]=e[o++]);return h}function ro(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function no(e,t,r,n){var o=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var u=t[s],c=n?n(r[u],e[u],u,r,e):i;c===i&&(c=e[u]),o?Tn(r,u,c):An(r,u,c)}return r}function io(e,t){return function(r,n){var i=va(r)?qt:Rn,o=t?t():{};return i(r,e,Oo(n,2),o)}}function oo(e){return _i(function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&Ko(r[0],r[1],a)&&(s=o<3?i:s,o=1),t=tt(t);++n<o;){var u=r[n];u&&e(t,u,n,s)}return t})}function so(e,t){return function(r,n){if(null==r)return r;if(!xa(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=tt(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function ao(e){return function(t,r,n){for(var i=-1,o=tt(t),s=n(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===r(o[u],u,o))break}return t}}function uo(e){return function(t){var r=_r(t=qa(t))?Rr(t):i,n=r?r[0]:t.charAt(0),o=r?Ji(r,1).join(""):t.slice(1);return n[e]()+o}}function co(e){return function(t){return er(Mu(gu(t).replace(vt,"")),e,"")}}function lo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=pn(e.prototype),n=e.apply(r,t);return ka(n)?n:r}}function ho(e){return function(t,r,n){var o=tt(t);if(!xa(t)){var s=Oo(r,3);t=iu(t),r=function(e){return s(o[e],e,o)}}var a=e(t,r,n);return a>-1?o[s?t[a]:a]:i}}function fo(e){return Ro(function(t){var r=t.length,n=r,o=gn.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new it(a);if(o&&!u&&"wrapper"==Fo(s))var u=new gn([],!0)}for(n=u?n:r;++n<r;){var c=Fo(s=t[n]),l="wrapper"==c?Lo(s):i;u=l&&Go(l[0])&&l[1]==(_|x|b|M)&&!l[4].length&&1==l[9]?u[Fo(l[0])].apply(u,l[3]):1==s.length&&Go(s)?u[c]():u.thru(s)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&va(n))return u.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}})}function po(e,t,r,o,s,a,u,c,l,d){var h=t&_,f=t&g,p=t&v,m=t&(x|w),y=t&S,b=p?i:lo(e);return function g(){for(var v=arguments.length,x=n(v),w=v;w--;)x[w]=arguments[w];if(m)var C=Bo(g),_=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(x,C);if(o&&(x=eo(x,o,s,m)),a&&(x=to(x,a,u,m)),v-=_,m&&v<d){var M=Er(x,C);return bo(e,t,po,g.placeholder,r,x,M,c,l,d-v)}var S=f?r:this,E=p?S[e]:e;return v=x.length,c?x=function(e,t){for(var r=e.length,n=qr(t.length,r),o=ro(e);n--;){var s=t[n];e[n]=zo(s,r)?o[s]:i}return e}(x,c):y&&v>1&&x.reverse(),h&&l<v&&(x.length=l),this&&this!==Tt&&this instanceof g&&(E=b||lo(E)),E.apply(S,x)}}function mo(e,t){return function(r,n){return function(e,t,r,n){return Kn(e,function(e,i,o){t(n,r(e),i,o)}),n}(r,e,t(n),{})}}function go(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=Oi(r),n=Oi(n)):(r=Bi(r),n=Bi(n)),o=e(r,n)}return o}}function vo(e){return Ro(function(t){return t=Zt(t,mr(Oo())),_i(function(r){var n=this;return e(t,function(e){return Ut(e,n,r)})})})}function yo(e,t){var r=(t=t===i?" ":Oi(t)).length;if(r<2)return r?Ci(t,e):t;var n=Ci(t,Ir(e/Pr(t)));return _r(t)?Ji(Rr(n),0,e).join(""):n.slice(0,e)}function xo(e){return function(t,r,o){return o&&"number"!=typeof o&&Ko(t,r,o)&&(r=o=i),t=Va(t),r===i?(r=t,t=0):r=Va(r),function(e,t,r,i){for(var o=-1,s=Ur(Ir((t-e)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=e,e+=r;return a}(t,r,o=o===i?t<r?1:-1:Va(o),e)}}function wo(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Ha(t),r=Ha(r)),e(t,r)}}function bo(e,t,r,n,o,s,a,u,c,l){var d=t&x;t|=d?b:C,(t&=~(d?C:b))&y||(t&=~(g|v));var h=[e,t,o,d?s:i,d?a:i,d?i:s,d?i:a,u,c,l],f=r.apply(i,h);return Go(e)&&ns(f,h),f.placeholder=n,ss(f,e,t)}function Co(e){var t=et[e];return function(e,r){if(e=Ha(e),r=null==r?0:qr(Wa(r),292)){var n=(qa(e)+"e").split("e");return+((n=(qa(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var _o=Xr&&1/kr(new Xr([,-0]))[1]==T?function(e){return new Xr(e)}:Bu;function Mo(e){return function(t){var r=$o(t);return r==G?Mr(t):r==te?Ar(t):function(e,t){return Zt(t,function(t){return[t,e[t]]})}(t,e(t))}}function So(e,t,r,o,s,u,c,d){var h=t&v;if(!h&&"function"!=typeof e)throw new it(a);var f=o?o.length:0;if(f||(t&=~(b|C),o=s=i),c=c===i?c:Ur(Wa(c),0),d=d===i?d:Wa(d),f-=s?s.length:0,t&C){var p=o,m=s;o=s=i}var S=h?i:Lo(e),E=[e,t,r,o,s,p,m,u,c,d];if(S&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<(g|v|_),s=n==_&&r==x||n==_&&r==M&&e[7].length<=t[8]||n==(_|M)&&t[7].length<=t[8]&&r==x;if(!o&&!s)return e;n&g&&(e[2]=t[2],i|=r&g?0:y);var a=t[3];if(a){var u=e[3];e[3]=u?eo(u,a,t[4]):a,e[4]=u?Er(e[3],l):t[4]}(a=t[5])&&(u=e[5],e[5]=u?to(u,a,t[6]):a,e[6]=u?Er(e[5],l):t[6]),(a=t[7])&&(e[7]=a),n&_&&(e[8]=null==e[8]?t[8]:qr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(E,S),e=E[0],t=E[1],r=E[2],o=E[3],s=E[4],!(d=E[9]=E[9]===i?h?0:e.length:Ur(E[9]-f,0))&&t&(x|w)&&(t&=~(x|w)),t&&t!=g)k=t==x||t==w?function(e,t,r){var o=lo(e);return function s(){for(var a=arguments.length,u=n(a),c=a,l=Bo(s);c--;)u[c]=arguments[c];var d=a<3&&u[0]!==l&&u[a-1]!==l?[]:Er(u,l);return(a-=d.length)<r?bo(e,t,po,s.placeholder,i,u,d,i,i,r-a):Ut(this&&this!==Tt&&this instanceof s?o:e,this,u)}}(e,t,d):t!=b&&t!=(g|b)||s.length?po.apply(i,E):function(e,t,r,i){var o=t&g,s=lo(e);return function t(){for(var a=-1,u=arguments.length,c=-1,l=i.length,d=n(l+u),h=this&&this!==Tt&&this instanceof t?s:e;++c<l;)d[c]=i[c];for(;u--;)d[c++]=arguments[++a];return Ut(h,o?r:this,d)}}(e,t,r,o);else var k=function(e,t,r){var n=t&g,i=lo(e);return function t(){return(this&&this!==Tt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return ss((S?ki:ns)(k,E),e,t)}function Eo(e,t,r,n){return e===i||fa(e,at[r])&&!lt.call(n,r)?t:e}function ko(e,t,r,n,o,s){return ka(e)&&ka(t)&&(s.set(t,e),mi(e,t,i,ko,s),s.delete(t)),e}function Ao(e){return Na(e)?i:e}function Po(e,t,r,n,o,s){var a=r&p,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var d=-1,h=!0,f=r&m?new bn:i;for(s.set(e,t),s.set(t,e);++d<u;){var g=e[d],v=t[d];if(n)var y=a?n(v,g,d,t,e,s):n(g,v,d,e,t,s);if(y!==i){if(y)continue;h=!1;break}if(f){if(!rr(t,function(e,t){if(!vr(f,t)&&(g===e||o(g,e,r,n,s)))return f.push(t)})){h=!1;break}}else if(g!==v&&!o(g,v,r,n,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Ro(e){return os(es(e,i,ys),e+"")}function No(e){return Qn(e,iu,Vo)}function To(e){return Qn(e,ou,Wo)}var Lo=rn?function(e){return rn.get(e)}:Bu;function Fo(e){for(var t=e.name+"",r=nn[t],n=lt.call(nn,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function Bo(e){return(lt.call(fn,"placeholder")?fn:e).placeholder}function Oo(){var e=fn.iteratee||Nu;return e=e===Nu?ui:e,arguments.length?e(arguments[0],arguments[1]):e}function Io(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Do(e){for(var t=iu(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Zo(i)]}return t}function jo(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return ai(r)?r:i}var Vo=jr?function(e){return null==e?[]:(e=tt(e),Gt(jr(e),function(t){return Ft.call(e,t)}))}:$u,Wo=jr?function(e){for(var t=[];e;)Xt(t,Vo(e)),e=Nt(e);return t}:$u,$o=Zn;function Ho(e,t,r){for(var n=-1,i=(t=zi(t,e)).length,o=!1;++n<i;){var s=ls(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&Ea(i)&&zo(s,i)&&(va(e)||ga(e))}function Uo(e){return"function"!=typeof e.constructor||Qo(e)?{}:pn(Nt(e))}function qo(e){return va(e)||ga(e)||!!(It&&e&&e[It])}function zo(e,t){var r=typeof e;return!!(t=null==t?L:t)&&("number"==r||"symbol"!=r&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function Ko(e,t,r){if(!ka(r))return!1;var n=typeof t;return!!("number"==n?xa(r)&&zo(t,r.length):"string"==n&&t in r)&&fa(r[t],e)}function Jo(e,t){if(va(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Ba(e))||Pe.test(e)||!Ae.test(e)||null!=t&&e in tt(t)}function Go(e){var t=Fo(e),r=fn[t];if("function"!=typeof r||!(t in vn.prototype))return!1;if(e===r)return!0;var n=Lo(r);return!!n&&e===n[0]}(Yr&&$o(new Yr(new ArrayBuffer(1)))!=ue||Qr&&$o(new Qr)!=G||Zr&&"[object Promise]"!=$o(Zr.resolve())||Xr&&$o(new Xr)!=te||en&&$o(new en)!=oe)&&($o=function(e){var t=Zn(e),r=t==Z?e.constructor:i,n=r?ds(r):"";if(n)switch(n){case on:return ue;case sn:return G;case an:return"[object Promise]";case un:return te;case cn:return oe}return t});var Yo=ut?Ma:Hu;function Qo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function Zo(e){return e==e&&!ka(e)}function Xo(e,t){return function(r){return null!=r&&r[e]===t&&(t!==i||e in tt(r))}}function es(e,t,r){return t=Ur(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=Ur(i.length-t,0),a=n(s);++o<s;)a[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(a),Ut(e,this,u)}}function ts(e,t){return t.length<2?e:Yn(e,Ri(t,0,-1))}function rs(e,t){if("__proto__"!=t)return e[t]}var ns=as(ki),is=Or||function(e,t){return Tt.setTimeout(e,t)},os=as(Ai);function ss(e,t,r){var n=t+"";return os(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Oe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return zt(j,function(r){var n="_."+r[0];t&r[1]&&!Yt(e,n)&&e.push(n)}),e.sort()}(function(e){var t=e.match(Ie);return t?t[1].split(De):[]}(n),r)))}function as(e){var t=0,r=0;return function(){var n=zr(),o=P-(n-r);if(r=n,o>0){if(++t>=A)return arguments[0]}else t=0;return e.apply(i,arguments)}}function us(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var s=bi(r,o),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var cs=function(e){var t=aa(e,function(e){return r.size===c&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Re,function(e,r,n,i){t.push(n?i.replace(Ve,"$1"):r||e)}),t});function ls(e){if("string"==typeof e||Ba(e))return e;var t=e+"";return"0"==t&&1/e==-T?"-0":t}function ds(e){if(null!=e){try{return ct.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function hs(e){if(e instanceof vn)return e.clone();var t=new gn(e.__wrapped__,e.__chain__);return t.__actions__=ro(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var fs=_i(function(e,t){return wa(e)?Dn(e,Un(t,1,wa,!0)):[]}),ps=_i(function(e,t){var r=_s(t);return wa(r)&&(r=i),wa(e)?Dn(e,Un(t,1,wa,!0),Oo(r,2)):[]}),ms=_i(function(e,t){var r=_s(t);return wa(r)&&(r=i),wa(e)?Dn(e,Un(t,1,wa,!0),i,r):[]});function gs(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Wa(r);return i<0&&(i=Ur(n+i,0)),or(e,Oo(t,3),i)}function vs(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=Wa(r),o=r<0?Ur(n+o,0):qr(o,n-1)),or(e,Oo(t,3),o,!0)}function ys(e){return null!=e&&e.length?Un(e,1):[]}function xs(e){return e&&e.length?e[0]:i}var ws=_i(function(e){var t=Zt(e,Ui);return t.length&&t[0]===e[0]?ri(t):[]}),bs=_i(function(e){var t=_s(e),r=Zt(e,Ui);return t===_s(r)?t=i:r.pop(),r.length&&r[0]===e[0]?ri(r,Oo(t,2)):[]}),Cs=_i(function(e){var t=_s(e),r=Zt(e,Ui);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?ri(r,i,t):[]});function _s(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ms=_i(Ss);function Ss(e,t){return e&&e.length&&t&&t.length?xi(e,t):e}var Es=Ro(function(e,t){var r=null==e?0:e.length,n=Ln(e,t);return wi(e,Zt(t,function(e){return zo(e,r)?+e:e}).sort(Xi)),n});function ks(e){return null==e?e:Gr.call(e)}var As=_i(function(e){return Ii(Un(e,1,wa,!0))}),Ps=_i(function(e){var t=_s(e);return wa(t)&&(t=i),Ii(Un(e,1,wa,!0),Oo(t,2))}),Rs=_i(function(e){var t=_s(e);return t="function"==typeof t?t:i,Ii(Un(e,1,wa,!0),i,t)});function Ns(e){if(!e||!e.length)return[];var t=0;return e=Gt(e,function(e){if(wa(e))return t=Ur(e.length,t),!0}),pr(t,function(t){return Zt(e,lr(t))})}function Ts(e,t){if(!e||!e.length)return[];var r=Ns(e);return null==t?r:Zt(r,function(e){return Ut(t,i,e)})}var Ls=_i(function(e,t){return wa(e)?Dn(e,t):[]}),Fs=_i(function(e){return $i(Gt(e,wa))}),Bs=_i(function(e){var t=_s(e);return wa(t)&&(t=i),$i(Gt(e,wa),Oo(t,2))}),Os=_i(function(e){var t=_s(e);return t="function"==typeof t?t:i,$i(Gt(e,wa),i,t)}),Is=_i(Ns);var Ds=_i(function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,Ts(e,r)});function js(e){var t=fn(e);return t.__chain__=!0,t}function Vs(e,t){return t(e)}var Ws=Ro(function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return Ln(t,e)};return!(t>1||this.__actions__.length)&&n instanceof vn&&zo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:Vs,args:[o],thisArg:i}),new gn(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(o)});var $s=io(function(e,t,r){lt.call(e,r)?++e[r]:Tn(e,r,1)});var Hs=ho(gs),Us=ho(vs);function qs(e,t){return(va(e)?zt:jn)(e,Oo(t,3))}function zs(e,t){return(va(e)?Kt:Vn)(e,Oo(t,3))}var Ks=io(function(e,t,r){lt.call(e,r)?e[r].push(t):Tn(e,r,[t])});var Js=_i(function(e,t,r){var i=-1,o="function"==typeof t,s=xa(e)?n(e.length):[];return jn(e,function(e){s[++i]=o?Ut(t,e,r):ni(e,t,r)}),s}),Gs=io(function(e,t,r){Tn(e,r,t)});function Ys(e,t){return(va(e)?Zt:hi)(e,Oo(t,3))}var Qs=io(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});var Zs=_i(function(e,t){if(null==e)return[];var r=t.length;return r>1&&Ko(e,t[0],t[1])?t=[]:r>2&&Ko(t[0],t[1],t[2])&&(t=[t[0]]),vi(e,Un(t,1),[])}),Xs=Br||function(){return Tt.Date.now()};function ea(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,So(e,_,i,i,i,i,t)}function ta(e,t){var r;if("function"!=typeof t)throw new it(a);return e=Wa(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var ra=_i(function(e,t,r){var n=g;if(r.length){var i=Er(r,Bo(ra));n|=b}return So(e,n,t,r,i)}),na=_i(function(e,t,r){var n=g|v;if(r.length){var i=Er(r,Bo(na));n|=b}return So(t,n,e,r,i)});function ia(e,t,r){var n,o,s,u,c,l,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new it(a);function m(t){var r=n,s=o;return n=o=i,d=t,u=e.apply(s,r)}function g(e){var r=e-l;return l===i||r>=t||r<0||f&&e-d>=s}function v(){var e=Xs();if(g(e))return y(e);c=is(v,function(e){var r=t-(e-l);return f?qr(r,s-(e-d)):r}(e))}function y(e){return c=i,p&&n?m(e):(n=o=i,u)}function x(){var e=Xs(),r=g(e);if(n=arguments,o=this,l=e,r){if(c===i)return function(e){return d=e,c=is(v,t),h?m(e):u}(l);if(f)return c=is(v,t),m(l)}return c===i&&(c=is(v,t)),u}return t=Ha(t)||0,ka(r)&&(h=!!r.leading,s=(f="maxWait"in r)?Ur(Ha(r.maxWait)||0,t):s,p="trailing"in r?!!r.trailing:p),x.cancel=function(){c!==i&&Gi(c),d=0,n=l=o=c=i},x.flush=function(){return c===i?u:y(Xs())},x}var oa=_i(function(e,t){return In(e,1,t)}),sa=_i(function(e,t,r){return In(e,Ha(t)||0,r)});function aa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(a);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(aa.Cache||wn),r}function ua(e){if("function"!=typeof e)throw new it(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}aa.Cache=wn;var ca=Ki(function(e,t){var r=(t=1==t.length&&va(t[0])?Zt(t[0],mr(Oo())):Zt(Un(t,1),mr(Oo()))).length;return _i(function(n){for(var i=-1,o=qr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return Ut(e,this,n)})}),la=_i(function(e,t){var r=Er(t,Bo(la));return So(e,b,i,t,r)}),da=_i(function(e,t){var r=Er(t,Bo(da));return So(e,C,i,t,r)}),ha=Ro(function(e,t){return So(e,M,i,i,i,t)});function fa(e,t){return e===t||e!=e&&t!=t}var pa=wo(Xn),ma=wo(function(e,t){return e>=t}),ga=ii(function(){return arguments}())?ii:function(e){return Aa(e)&&lt.call(e,"callee")&&!Ft.call(e,"callee")},va=n.isArray,ya=Dt?mr(Dt):function(e){return Aa(e)&&Zn(e)==ae};function xa(e){return null!=e&&Ea(e.length)&&!Ma(e)}function wa(e){return Aa(e)&&xa(e)}var ba=Vr||Hu,Ca=jt?mr(jt):function(e){return Aa(e)&&Zn(e)==U};function _a(e){if(!Aa(e))return!1;var t=Zn(e);return t==z||t==q||"string"==typeof e.message&&"string"==typeof e.name&&!Na(e)}function Ma(e){if(!ka(e))return!1;var t=Zn(e);return t==K||t==J||t==$||t==X}function Sa(e){return"number"==typeof e&&e==Wa(e)}function Ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=L}function ka(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Aa(e){return null!=e&&"object"==typeof e}var Pa=Vt?mr(Vt):function(e){return Aa(e)&&$o(e)==G};function Ra(e){return"number"==typeof e||Aa(e)&&Zn(e)==Y}function Na(e){if(!Aa(e)||Zn(e)!=Z)return!1;var t=Nt(e);if(null===t)return!0;var r=lt.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ct.call(r)==pt}var Ta=Wt?mr(Wt):function(e){return Aa(e)&&Zn(e)==ee};var La=$t?mr($t):function(e){return Aa(e)&&$o(e)==te};function Fa(e){return"string"==typeof e||!va(e)&&Aa(e)&&Zn(e)==re}function Ba(e){return"symbol"==typeof e||Aa(e)&&Zn(e)==ne}var Oa=Ht?mr(Ht):function(e){return Aa(e)&&Ea(e.length)&&!!St[Zn(e)]};var Ia=wo(di),Da=wo(function(e,t){return e<=t});function ja(e){if(!e)return[];if(xa(e))return Fa(e)?Rr(e):ro(e);if(nr&&e[nr])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[nr]());var t=$o(e);return(t==G?Mr:t==te?kr:fu)(e)}function Va(e){return e?(e=Ha(e))===T||e===-T?(e<0?-1:1)*F:e==e?e:0:0===e?e:0}function Wa(e){var t=Va(e),r=t%1;return t==t?r?t-r:t:0}function $a(e){return e?Fn(Wa(e),0,O):0}function Ha(e){if("number"==typeof e)return e;if(Ba(e))return B;if(ka(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ka(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Le,"");var r=Ue.test(e);return r||ze.test(e)?Pt(e.slice(2),r?2:8):He.test(e)?B:+e}function Ua(e){return no(e,ou(e))}function qa(e){return null==e?"":Oi(e)}var za=oo(function(e,t){if(Qo(t)||xa(t))no(t,iu(t),e);else for(var r in t)lt.call(t,r)&&An(e,r,t[r])}),Ka=oo(function(e,t){no(t,ou(t),e)}),Ja=oo(function(e,t,r,n){no(t,ou(t),e,n)}),Ga=oo(function(e,t,r,n){no(t,iu(t),e,n)}),Ya=Ro(Ln);var Qa=_i(function(e,t){e=tt(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&Ko(t[0],t[1],o)&&(n=1);++r<n;)for(var s=t[r],a=ou(s),u=-1,c=a.length;++u<c;){var l=a[u],d=e[l];(d===i||fa(d,at[l])&&!lt.call(e,l))&&(e[l]=s[l])}return e}),Za=_i(function(e){return e.push(i,ko),Ut(au,i,e)});function Xa(e,t,r){var n=null==e?i:Yn(e,t);return n===i?r:n}function eu(e,t){return null!=e&&Ho(e,t,ti)}var tu=mo(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),e[t]=r},ku(Ru)),ru=mo(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),lt.call(e,t)?e[t].push(r):e[t]=[r]},Oo),nu=_i(ni);function iu(e){return xa(e)?_n(e):ci(e)}function ou(e){return xa(e)?_n(e,!0):li(e)}var su=oo(function(e,t,r){mi(e,t,r)}),au=oo(function(e,t,r,n){mi(e,t,r,n)}),uu=Ro(function(e,t){var r={};if(null==e)return r;var n=!1;t=Zt(t,function(t){return t=zi(t,e),n||(n=t.length>1),t}),no(e,To(e),r),n&&(r=Bn(r,d|h|f,Ao));for(var i=t.length;i--;)Di(r,t[i]);return r});var cu=Ro(function(e,t){return null==e?{}:function(e,t){return yi(e,t,function(t,r){return eu(e,r)})}(e,t)});function lu(e,t){if(null==e)return{};var r=Zt(To(e),function(e){return[e]});return t=Oo(t),yi(e,r,function(e,r){return t(e,r[0])})}var du=Mo(iu),hu=Mo(ou);function fu(e){return null==e?[]:gr(e,iu(e))}var pu=co(function(e,t,r){return t=t.toLowerCase(),e+(r?mu(t):t)});function mu(e){return _u(qa(e).toLowerCase())}function gu(e){return(e=qa(e))&&e.replace(Je,wr).replace(yt,"")}var vu=co(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),yu=co(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),xu=uo("toLowerCase");var wu=co(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});var bu=co(function(e,t,r){return e+(r?" ":"")+_u(t)});var Cu=co(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),_u=uo("toUpperCase");function Mu(e,t,r){return e=qa(e),(t=r?i:t)===i?function(e){return Ct.test(e)}(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.match(je)||[]}(e):e.match(t)||[]}var Su=_i(function(e,t){try{return Ut(e,i,t)}catch(e){return _a(e)?e:new Ze(e)}}),Eu=Ro(function(e,t){return zt(t,function(t){t=ls(t),Tn(e,t,ra(e[t],e))}),e});function ku(e){return function(){return e}}var Au=fo(),Pu=fo(!0);function Ru(e){return e}function Nu(e){return ui("function"==typeof e?e:Bn(e,d))}var Tu=_i(function(e,t){return function(r){return ni(r,e,t)}}),Lu=_i(function(e,t){return function(r){return ni(e,r,t)}});function Fu(e,t,r){var n=iu(t),i=Gn(t,n);null!=r||ka(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Gn(t,iu(t)));var o=!(ka(r)&&"chain"in r&&!r.chain),s=Ma(e);return zt(i,function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=ro(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Xt([this.value()],arguments))})}),e}function Bu(){}var Ou=vo(Zt),Iu=vo(Jt),Du=vo(rr);function ju(e){return Jo(e)?lr(ls(e)):function(e){return function(t){return Yn(t,e)}}(e)}var Vu=xo(),Wu=xo(!0);function $u(){return[]}function Hu(){return!1}var Uu=go(function(e,t){return e+t},0),qu=Co("ceil"),zu=go(function(e,t){return e/t},1),Ku=Co("floor");var Ju,Gu=go(function(e,t){return e*t},1),Yu=Co("round"),Qu=go(function(e,t){return e-t},0);return fn.after=function(e,t){if("function"!=typeof t)throw new it(a);return e=Wa(e),function(){if(--e<1)return t.apply(this,arguments)}},fn.ary=ea,fn.assign=za,fn.assignIn=Ka,fn.assignInWith=Ja,fn.assignWith=Ga,fn.at=Ya,fn.before=ta,fn.bind=ra,fn.bindAll=Eu,fn.bindKey=na,fn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return va(e)?e:[e]},fn.chain=js,fn.chunk=function(e,t,r){t=(r?Ko(e,t,r):t===i)?1:Ur(Wa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,u=n(Ir(o/t));s<o;)u[a++]=Ri(e,s,s+=t);return u},fn.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},fn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Xt(va(r)?ro(r):[r],Un(t,1))},fn.cond=function(e){var t=null==e?0:e.length,r=Oo();return e=t?Zt(e,function(e){if("function"!=typeof e[1])throw new it(a);return[r(e[0]),e[1]]}):[],_i(function(r){for(var n=-1;++n<t;){var i=e[n];if(Ut(i[0],this,r))return Ut(i[1],this,r)}})},fn.conforms=function(e){return function(e){var t=iu(e);return function(r){return On(r,e,t)}}(Bn(e,d))},fn.constant=ku,fn.countBy=$s,fn.create=function(e,t){var r=pn(e);return null==t?r:Nn(r,t)},fn.curry=function e(t,r,n){var o=So(t,x,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},fn.curryRight=function e(t,r,n){var o=So(t,w,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},fn.debounce=ia,fn.defaults=Qa,fn.defaultsDeep=Za,fn.defer=oa,fn.delay=sa,fn.difference=fs,fn.differenceBy=ps,fn.differenceWith=ms,fn.drop=function(e,t,r){var n=null==e?0:e.length;return n?Ri(e,(t=r||t===i?1:Wa(t))<0?0:t,n):[]},fn.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?Ri(e,0,(t=n-(t=r||t===i?1:Wa(t)))<0?0:t):[]},fn.dropRightWhile=function(e,t){return e&&e.length?Vi(e,Oo(t,3),!0,!0):[]},fn.dropWhile=function(e,t){return e&&e.length?Vi(e,Oo(t,3),!0):[]},fn.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&Ko(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=Wa(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:Wa(n))<0&&(n+=o),n=r>n?0:$a(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},fn.filter=function(e,t){return(va(e)?Gt:Hn)(e,Oo(t,3))},fn.flatMap=function(e,t){return Un(Ys(e,t),1)},fn.flatMapDeep=function(e,t){return Un(Ys(e,t),T)},fn.flatMapDepth=function(e,t,r){return r=r===i?1:Wa(r),Un(Ys(e,t),r)},fn.flatten=ys,fn.flattenDeep=function(e){return null!=e&&e.length?Un(e,T):[]},fn.flattenDepth=function(e,t){return null!=e&&e.length?Un(e,t=t===i?1:Wa(t)):[]},fn.flip=function(e){return So(e,S)},fn.flow=Au,fn.flowRight=Pu,fn.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},fn.functions=function(e){return null==e?[]:Gn(e,iu(e))},fn.functionsIn=function(e){return null==e?[]:Gn(e,ou(e))},fn.groupBy=Ks,fn.initial=function(e){return null!=e&&e.length?Ri(e,0,-1):[]},fn.intersection=ws,fn.intersectionBy=bs,fn.intersectionWith=Cs,fn.invert=tu,fn.invertBy=ru,fn.invokeMap=Js,fn.iteratee=Nu,fn.keyBy=Gs,fn.keys=iu,fn.keysIn=ou,fn.map=Ys,fn.mapKeys=function(e,t){var r={};return t=Oo(t,3),Kn(e,function(e,n,i){Tn(r,t(e,n,i),e)}),r},fn.mapValues=function(e,t){var r={};return t=Oo(t,3),Kn(e,function(e,n,i){Tn(r,n,t(e,n,i))}),r},fn.matches=function(e){return fi(Bn(e,d))},fn.matchesProperty=function(e,t){return pi(e,Bn(t,d))},fn.memoize=aa,fn.merge=su,fn.mergeWith=au,fn.method=Tu,fn.methodOf=Lu,fn.mixin=Fu,fn.negate=ua,fn.nthArg=function(e){return e=Wa(e),_i(function(t){return gi(t,e)})},fn.omit=uu,fn.omitBy=function(e,t){return lu(e,ua(Oo(t)))},fn.once=function(e){return ta(2,e)},fn.orderBy=function(e,t,r,n){return null==e?[]:(va(t)||(t=null==t?[]:[t]),va(r=n?i:r)||(r=null==r?[]:[r]),vi(e,t,r))},fn.over=Ou,fn.overArgs=ca,fn.overEvery=Iu,fn.overSome=Du,fn.partial=la,fn.partialRight=da,fn.partition=Qs,fn.pick=cu,fn.pickBy=lu,fn.property=ju,fn.propertyOf=function(e){return function(t){return null==e?i:Yn(e,t)}},fn.pull=Ms,fn.pullAll=Ss,fn.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?xi(e,t,Oo(r,2)):e},fn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?xi(e,t,i,r):e},fn.pullAt=Es,fn.range=Vu,fn.rangeRight=Wu,fn.rearg=ha,fn.reject=function(e,t){return(va(e)?Gt:Hn)(e,ua(Oo(t,3)))},fn.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=Oo(t,3);++n<o;){var s=e[n];t(s,n,e)&&(r.push(s),i.push(n))}return wi(e,i),r},fn.rest=function(e,t){if("function"!=typeof e)throw new it(a);return _i(e,t=t===i?t:Wa(t))},fn.reverse=ks,fn.sampleSize=function(e,t,r){return t=(r?Ko(e,t,r):t===i)?1:Wa(t),(va(e)?Sn:Si)(e,t)},fn.set=function(e,t,r){return null==e?e:Ei(e,t,r)},fn.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Ei(e,t,r,n)},fn.shuffle=function(e){return(va(e)?En:Pi)(e)},fn.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&Ko(e,t,r)?(t=0,r=n):(t=null==t?0:Wa(t),r=r===i?n:Wa(r)),Ri(e,t,r)):[]},fn.sortBy=Zs,fn.sortedUniq=function(e){return e&&e.length?Fi(e):[]},fn.sortedUniqBy=function(e,t){return e&&e.length?Fi(e,Oo(t,2)):[]},fn.split=function(e,t,r){return r&&"number"!=typeof r&&Ko(e,t,r)&&(t=r=i),(r=r===i?O:r>>>0)?(e=qa(e))&&("string"==typeof t||null!=t&&!Ta(t))&&!(t=Oi(t))&&_r(e)?Ji(Rr(e),0,r):e.split(t,r):[]},fn.spread=function(e,t){if("function"!=typeof e)throw new it(a);return t=null==t?0:Ur(Wa(t),0),_i(function(r){var n=r[t],i=Ji(r,0,t);return n&&Xt(i,n),Ut(e,this,i)})},fn.tail=function(e){var t=null==e?0:e.length;return t?Ri(e,1,t):[]},fn.take=function(e,t,r){return e&&e.length?Ri(e,0,(t=r||t===i?1:Wa(t))<0?0:t):[]},fn.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?Ri(e,(t=n-(t=r||t===i?1:Wa(t)))<0?0:t,n):[]},fn.takeRightWhile=function(e,t){return e&&e.length?Vi(e,Oo(t,3),!1,!0):[]},fn.takeWhile=function(e,t){return e&&e.length?Vi(e,Oo(t,3)):[]},fn.tap=function(e,t){return t(e),e},fn.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new it(a);return ka(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ia(e,t,{leading:n,maxWait:t,trailing:i})},fn.thru=Vs,fn.toArray=ja,fn.toPairs=du,fn.toPairsIn=hu,fn.toPath=function(e){return va(e)?Zt(e,ls):Ba(e)?[e]:ro(cs(qa(e)))},fn.toPlainObject=Ua,fn.transform=function(e,t,r){var n=va(e),i=n||ba(e)||Oa(e);if(t=Oo(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:ka(e)&&Ma(o)?pn(Nt(e)):{}}return(i?zt:Kn)(e,function(e,n,i){return t(r,e,n,i)}),r},fn.unary=function(e){return ea(e,1)},fn.union=As,fn.unionBy=Ps,fn.unionWith=Rs,fn.uniq=function(e){return e&&e.length?Ii(e):[]},fn.uniqBy=function(e,t){return e&&e.length?Ii(e,Oo(t,2)):[]},fn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?Ii(e,i,t):[]},fn.unset=function(e,t){return null==e||Di(e,t)},fn.unzip=Ns,fn.unzipWith=Ts,fn.update=function(e,t,r){return null==e?e:ji(e,t,qi(r))},fn.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:ji(e,t,qi(r),n)},fn.values=fu,fn.valuesIn=function(e){return null==e?[]:gr(e,ou(e))},fn.without=Ls,fn.words=Mu,fn.wrap=function(e,t){return la(qi(t),e)},fn.xor=Fs,fn.xorBy=Bs,fn.xorWith=Os,fn.zip=Is,fn.zipObject=function(e,t){return Hi(e||[],t||[],An)},fn.zipObjectDeep=function(e,t){return Hi(e||[],t||[],Ei)},fn.zipWith=Ds,fn.entries=du,fn.entriesIn=hu,fn.extend=Ka,fn.extendWith=Ja,Fu(fn,fn),fn.add=Uu,fn.attempt=Su,fn.camelCase=pu,fn.capitalize=mu,fn.ceil=qu,fn.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=Ha(r))==r?r:0),t!==i&&(t=(t=Ha(t))==t?t:0),Fn(Ha(e),t,r)},fn.clone=function(e){return Bn(e,f)},fn.cloneDeep=function(e){return Bn(e,d|f)},fn.cloneDeepWith=function(e,t){return Bn(e,d|f,t="function"==typeof t?t:i)},fn.cloneWith=function(e,t){return Bn(e,f,t="function"==typeof t?t:i)},fn.conformsTo=function(e,t){return null==t||On(e,t,iu(t))},fn.deburr=gu,fn.defaultTo=function(e,t){return null==e||e!=e?t:e},fn.divide=zu,fn.endsWith=function(e,t,r){e=qa(e),t=Oi(t);var n=e.length,o=r=r===i?n:Fn(Wa(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},fn.eq=fa,fn.escape=function(e){return(e=qa(e))&&Me.test(e)?e.replace(Ce,br):e},fn.escapeRegExp=function(e){return(e=qa(e))&&Te.test(e)?e.replace(Ne,"\\$&"):e},fn.every=function(e,t,r){var n=va(e)?Jt:Wn;return r&&Ko(e,t,r)&&(t=i),n(e,Oo(t,3))},fn.find=Hs,fn.findIndex=gs,fn.findKey=function(e,t){return ir(e,Oo(t,3),Kn)},fn.findLast=Us,fn.findLastIndex=vs,fn.findLastKey=function(e,t){return ir(e,Oo(t,3),Jn)},fn.floor=Ku,fn.forEach=qs,fn.forEachRight=zs,fn.forIn=function(e,t){return null==e?e:qn(e,Oo(t,3),ou)},fn.forInRight=function(e,t){return null==e?e:zn(e,Oo(t,3),ou)},fn.forOwn=function(e,t){return e&&Kn(e,Oo(t,3))},fn.forOwnRight=function(e,t){return e&&Jn(e,Oo(t,3))},fn.get=Xa,fn.gt=pa,fn.gte=ma,fn.has=function(e,t){return null!=e&&Ho(e,t,ei)},fn.hasIn=eu,fn.head=xs,fn.identity=Ru,fn.includes=function(e,t,r,n){e=xa(e)?e:fu(e),r=r&&!n?Wa(r):0;var i=e.length;return r<0&&(r=Ur(i+r,0)),Fa(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&sr(e,t,r)>-1},fn.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Wa(r);return i<0&&(i=Ur(n+i,0)),sr(e,t,i)},fn.inRange=function(e,t,r){return t=Va(t),r===i?(r=t,t=0):r=Va(r),function(e,t,r){return e>=qr(t,r)&&e<Ur(t,r)}(e=Ha(e),t,r)},fn.invoke=nu,fn.isArguments=ga,fn.isArray=va,fn.isArrayBuffer=ya,fn.isArrayLike=xa,fn.isArrayLikeObject=wa,fn.isBoolean=function(e){return!0===e||!1===e||Aa(e)&&Zn(e)==H},fn.isBuffer=ba,fn.isDate=Ca,fn.isElement=function(e){return Aa(e)&&1===e.nodeType&&!Na(e)},fn.isEmpty=function(e){if(null==e)return!0;if(xa(e)&&(va(e)||"string"==typeof e||"function"==typeof e.splice||ba(e)||Oa(e)||ga(e)))return!e.length;var t=$o(e);if(t==G||t==te)return!e.size;if(Qo(e))return!ci(e).length;for(var r in e)if(lt.call(e,r))return!1;return!0},fn.isEqual=function(e,t){return oi(e,t)},fn.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?oi(e,t,i,r):!!n},fn.isError=_a,fn.isFinite=function(e){return"number"==typeof e&&Wr(e)},fn.isFunction=Ma,fn.isInteger=Sa,fn.isLength=Ea,fn.isMap=Pa,fn.isMatch=function(e,t){return e===t||si(e,t,Do(t))},fn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,si(e,t,Do(t),r)},fn.isNaN=function(e){return Ra(e)&&e!=+e},fn.isNative=function(e){if(Yo(e))throw new Ze(s);return ai(e)},fn.isNil=function(e){return null==e},fn.isNull=function(e){return null===e},fn.isNumber=Ra,fn.isObject=ka,fn.isObjectLike=Aa,fn.isPlainObject=Na,fn.isRegExp=Ta,fn.isSafeInteger=function(e){return Sa(e)&&e>=-L&&e<=L},fn.isSet=La,fn.isString=Fa,fn.isSymbol=Ba,fn.isTypedArray=Oa,fn.isUndefined=function(e){return e===i},fn.isWeakMap=function(e){return Aa(e)&&$o(e)==oe},fn.isWeakSet=function(e){return Aa(e)&&Zn(e)==se},fn.join=function(e,t){return null==e?"":$r.call(e,t)},fn.kebabCase=vu,fn.last=_s,fn.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=Wa(r))<0?Ur(n+o,0):qr(o,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):or(e,ur,o,!0)},fn.lowerCase=yu,fn.lowerFirst=xu,fn.lt=Ia,fn.lte=Da,fn.max=function(e){return e&&e.length?$n(e,Ru,Xn):i},fn.maxBy=function(e,t){return e&&e.length?$n(e,Oo(t,2),Xn):i},fn.mean=function(e){return cr(e,Ru)},fn.meanBy=function(e,t){return cr(e,Oo(t,2))},fn.min=function(e){return e&&e.length?$n(e,Ru,di):i},fn.minBy=function(e,t){return e&&e.length?$n(e,Oo(t,2),di):i},fn.stubArray=$u,fn.stubFalse=Hu,fn.stubObject=function(){return{}},fn.stubString=function(){return""},fn.stubTrue=function(){return!0},fn.multiply=Gu,fn.nth=function(e,t){return e&&e.length?gi(e,Wa(t)):i},fn.noConflict=function(){return Tt._===this&&(Tt._=mt),this},fn.noop=Bu,fn.now=Xs,fn.pad=function(e,t,r){e=qa(e);var n=(t=Wa(t))?Pr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return yo(Dr(i),r)+e+yo(Ir(i),r)},fn.padEnd=function(e,t,r){e=qa(e);var n=(t=Wa(t))?Pr(e):0;return t&&n<t?e+yo(t-n,r):e},fn.padStart=function(e,t,r){e=qa(e);var n=(t=Wa(t))?Pr(e):0;return t&&n<t?yo(t-n,r)+e:e},fn.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Kr(qa(e).replace(Fe,""),t||0)},fn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Ko(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Va(e),t===i?(t=e,e=0):t=Va(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=Jr();return qr(e+o*(t-e+At("1e-"+((o+"").length-1))),t)}return bi(e,t)},fn.reduce=function(e,t,r){var n=va(e)?er:hr,i=arguments.length<3;return n(e,Oo(t,4),r,i,jn)},fn.reduceRight=function(e,t,r){var n=va(e)?tr:hr,i=arguments.length<3;return n(e,Oo(t,4),r,i,Vn)},fn.repeat=function(e,t,r){return t=(r?Ko(e,t,r):t===i)?1:Wa(t),Ci(qa(e),t)},fn.replace=function(){var e=arguments,t=qa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},fn.result=function(e,t,r){var n=-1,o=(t=zi(t,e)).length;for(o||(o=1,e=i);++n<o;){var s=null==e?i:e[ls(t[n])];s===i&&(n=o,s=r),e=Ma(s)?s.call(e):s}return e},fn.round=Yu,fn.runInContext=e,fn.sample=function(e){return(va(e)?Mn:Mi)(e)},fn.size=function(e){if(null==e)return 0;if(xa(e))return Fa(e)?Pr(e):e.length;var t=$o(e);return t==G||t==te?e.size:ci(e).length},fn.snakeCase=wu,fn.some=function(e,t,r){var n=va(e)?rr:Ni;return r&&Ko(e,t,r)&&(t=i),n(e,Oo(t,3))},fn.sortedIndex=function(e,t){return Ti(e,t)},fn.sortedIndexBy=function(e,t,r){return Li(e,t,Oo(r,2))},fn.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Ti(e,t);if(n<r&&fa(e[n],t))return n}return-1},fn.sortedLastIndex=function(e,t){return Ti(e,t,!0)},fn.sortedLastIndexBy=function(e,t,r){return Li(e,t,Oo(r,2),!0)},fn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=Ti(e,t,!0)-1;if(fa(e[r],t))return r}return-1},fn.startCase=bu,fn.startsWith=function(e,t,r){return e=qa(e),r=null==r?0:Fn(Wa(r),0,e.length),t=Oi(t),e.slice(r,r+t.length)==t},fn.subtract=Qu,fn.sum=function(e){return e&&e.length?fr(e,Ru):0},fn.sumBy=function(e,t){return e&&e.length?fr(e,Oo(t,2)):0},fn.template=function(e,t,r){var n=fn.templateSettings;r&&Ko(e,t,r)&&(t=i),e=qa(e),t=Ja({},t,n,Eo);var o,s,a=Ja({},t.imports,n.imports,Eo),u=iu(a),c=gr(a,u),l=0,d=t.interpolate||Ge,h="__p += '",f=rt((t.escape||Ge).source+"|"+d.source+"|"+(d===ke?We:Ge).source+"|"+(t.evaluate||Ge).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Mt+"]")+"\n";e.replace(f,function(t,r,n,i,a,u){return n||(n=i),h+=e.slice(l,u).replace(Ye,Cr),r&&(o=!0,h+="' +\n__e("+r+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),h+="';\n";var m=t.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(ye,""):h).replace(xe,"$1").replace(we,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Su(function(){return Xe(u,p+"return "+h).apply(i,c)});if(g.source=h,_a(g))throw g;return g},fn.times=function(e,t){if((e=Wa(e))<1||e>L)return[];var r=O,n=qr(e,O);t=Oo(t),e-=O;for(var i=pr(n,t);++r<e;)t(r);return i},fn.toFinite=Va,fn.toInteger=Wa,fn.toLength=$a,fn.toLower=function(e){return qa(e).toLowerCase()},fn.toNumber=Ha,fn.toSafeInteger=function(e){return e?Fn(Wa(e),-L,L):0===e?e:0},fn.toString=qa,fn.toUpper=function(e){return qa(e).toUpperCase()},fn.trim=function(e,t,r){if((e=qa(e))&&(r||t===i))return e.replace(Le,"");if(!e||!(t=Oi(t)))return e;var n=Rr(e),o=Rr(t);return Ji(n,yr(n,o),xr(n,o)+1).join("")},fn.trimEnd=function(e,t,r){if((e=qa(e))&&(r||t===i))return e.replace(Be,"");if(!e||!(t=Oi(t)))return e;var n=Rr(e);return Ji(n,0,xr(n,Rr(t))+1).join("")},fn.trimStart=function(e,t,r){if((e=qa(e))&&(r||t===i))return e.replace(Fe,"");if(!e||!(t=Oi(t)))return e;var n=Rr(e);return Ji(n,yr(n,Rr(t))).join("")},fn.truncate=function(e,t){var r=E,n=k;if(ka(t)){var o="separator"in t?t.separator:o;r="length"in t?Wa(t.length):r,n="omission"in t?Oi(t.omission):n}var s=(e=qa(e)).length;if(_r(e)){var a=Rr(e);s=a.length}if(r>=s)return e;var u=r-Pr(n);if(u<1)return n;var c=a?Ji(a,0,u).join(""):e.slice(0,u);if(o===i)return c+n;if(a&&(u+=c.length-u),Ta(o)){if(e.slice(u).search(o)){var l,d=c;for(o.global||(o=rt(o.source,qa($e.exec(o))+"g")),o.lastIndex=0;l=o.exec(d);)var h=l.index;c=c.slice(0,h===i?u:h)}}else if(e.indexOf(Oi(o),u)!=u){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+n},fn.unescape=function(e){return(e=qa(e))&&_e.test(e)?e.replace(be,Nr):e},fn.uniqueId=function(e){var t=++dt;return qa(e)+t},fn.upperCase=Cu,fn.upperFirst=_u,fn.each=qs,fn.eachRight=zs,fn.first=xs,Fu(fn,(Ju={},Kn(fn,function(e,t){lt.call(fn.prototype,t)||(Ju[t]=e)}),Ju),{chain:!1}),fn.VERSION="4.17.11",zt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){fn[e].placeholder=fn}),zt(["drop","take"],function(e,t){vn.prototype[e]=function(r){r=r===i?1:Ur(Wa(r),0);var n=this.__filtered__&&!t?new vn(this):this.clone();return n.__filtered__?n.__takeCount__=qr(r,n.__takeCount__):n.__views__.push({size:qr(r,O),type:e+(n.__dir__<0?"Right":"")}),n},vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),zt(["filter","map","takeWhile"],function(e,t){var r=t+1,n=r==R||3==r;vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Oo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),zt(["head","last"],function(e,t){var r="take"+(t?"Right":"");vn.prototype[e]=function(){return this[r](1).value()[0]}}),zt(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");vn.prototype[e]=function(){return this.__filtered__?new vn(this):this[r](1)}}),vn.prototype.compact=function(){return this.filter(Ru)},vn.prototype.find=function(e){return this.filter(e).head()},vn.prototype.findLast=function(e){return this.reverse().find(e)},vn.prototype.invokeMap=_i(function(e,t){return"function"==typeof e?new vn(this):this.map(function(r){return ni(r,e,t)})}),vn.prototype.reject=function(e){return this.filter(ua(Oo(e)))},vn.prototype.slice=function(e,t){e=Wa(e);var r=this;return r.__filtered__&&(e>0||t<0)?new vn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=Wa(t))<0?r.dropRight(-t):r.take(t-e)),r)},vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},vn.prototype.toArray=function(){return this.take(O)},Kn(vn.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=fn[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);o&&(fn.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,u=t instanceof vn,c=a[0],l=u||va(t),d=function(e){var t=o.apply(fn,Xt([e],a));return n&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,f=!!this.__actions__.length,p=s&&!h,m=u&&!f;if(!s&&l){t=m?t:new vn(this);var g=e.apply(t,a);return g.__actions__.push({func:Vs,args:[d],thisArg:i}),new gn(g,h)}return p&&m?e.apply(this,a):(g=this.thru(d),p?n?g.value()[0]:g.value():g)})}),zt(["pop","push","shift","sort","splice","unshift"],function(e){var t=ot[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);fn.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(va(i)?i:[],e)}return this[r](function(r){return t.apply(va(r)?r:[],e)})}}),Kn(vn.prototype,function(e,t){var r=fn[t];if(r){var n=r.name+"";(nn[n]||(nn[n]=[])).push({name:t,func:r})}}),nn[po(i,v).name]=[{name:"wrapper",func:i}],vn.prototype.clone=function(){var e=new vn(this.__wrapped__);return e.__actions__=ro(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ro(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ro(this.__views__),e},vn.prototype.reverse=function(){if(this.__filtered__){var e=new vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=va(e),n=t<0,i=r?e.length:0,o=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=qr(t,e+s);break;case"takeRight":e=Ur(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=n?a:s-1,l=this.__iteratees__,d=l.length,h=0,f=qr(u,this.__takeCount__);if(!r||!n&&i==u&&f==u)return Wi(e,this.__actions__);var p=[];e:for(;u--&&h<f;){for(var m=-1,g=e[c+=t];++m<d;){var v=l[m],y=v.iteratee,x=v.type,w=y(g);if(x==N)g=w;else if(!w){if(x==R)continue e;break e}}p[h++]=g}return p},fn.prototype.at=Ws,fn.prototype.chain=function(){return js(this)},fn.prototype.commit=function(){return new gn(this.value(),this.__chain__)},fn.prototype.next=function(){this.__values__===i&&(this.__values__=ja(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},fn.prototype.plant=function(e){for(var t,r=this;r instanceof mn;){var n=hs(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},fn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof vn){var t=e;return this.__actions__.length&&(t=new vn(this)),(t=t.reverse()).__actions__.push({func:Vs,args:[ks],thisArg:i}),new gn(t,this.__chain__)}return this.thru(ks)},fn.prototype.toJSON=fn.prototype.valueOf=fn.prototype.value=function(){return Wi(this.__wrapped__,this.__actions__)},fn.prototype.first=fn.prototype.head,nr&&(fn.prototype[nr]=function(){return this}),fn}();Tt._=Tr,(n=function(){return Tr}.call(t,r,t,e))===i||(e.exports=n)}).call(this)}).call(this,r(35)(e))},function(e,t,r){"use strict";var n,i,o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=r(0),u=r(2),c=r(14),l=r(1),d=r(3),h=r(15),f=r(5),p=r(12),m=r(18),g=r(66);class v extends p.BaseAction{constructor(e){super(),this.canBeRepeatedWithDot=!0,this.isOperator=!0,this.multicursorIndex=void 0,this.multicursorIndex=e}doesActionApply(e,t){return!!this.doesRepeatedOperatorApply(e,t)||-1!==this.modes.indexOf(e.currentMode)&&(!!p.BaseAction.CompareKeypressSequence(this.keys,t)&&(!(this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length-t.length>0)&&!(this instanceof v&&e.recordedState.operator)))}couldActionApply(e,t){return-1!==this.modes.indexOf(e.currentMode)&&(!!p.BaseAction.CompareKeypressSequence(this.keys.slice(0,t.length),t)&&(!(this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length-t.length>0)&&!(this instanceof v&&e.recordedState.operator)))}doesRepeatedOperatorApply(e,t){const r=e.recordedState.actionsRun.filter(e=>!(e instanceof m.CommandNumber)),n=r[r.length-1];return this.isOperator&&1===t.length&&n&&-1!==this.modes.indexOf(e.currentMode)&&n.constructor===this.constructor&&p.BaseAction.CompareKeypressSequence(n.keysPressed.slice(-1),t)}run(e,t,r){throw new Error("You need to override this!")}runRepeat(e,t,r){return e.currentRegisterMode=h.RegisterMode.LineWise,this.run(e,t.getLineBegin(),t.getDownByCount(Math.max(0,r-1)).getLineEnd())}}t.BaseOperator=v;let y=class extends v{constructor(){super(...arguments),this.keys=["d"],this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine]}delete(e,t,r,n,i,o=!0){return s(this,void 0,void 0,function*(){n===h.RegisterMode.LineWise&&(e=e.getLineBegin(),t=t.getLineEnd());const s=(t=new u.Position(t.line,t.character+1)).line===f.TextEditor.getLineCount()-1;i.currentMode!==d.ModeName.VisualBlock&&t.character===f.TextEditor.getLineAt(t).text.length+1&&(t=t.getDown(0));let l=i.editor.document.getText(new a.Range(e,t));s&&0!==e.line&&n===h.RegisterMode.LineWise&&(e=e.getPreviousLineBegin().getLineEnd()),n===h.RegisterMode.LineWise&&(l=l.endsWith("\r\n")?l.slice(0,-2):l.endsWith("\n")?l.slice(0,-1):l),o&&h.Register.put(l,i,this.multicursorIndex);let p,m=new u.PositionDiff(0,0);return r===d.ModeName.Visual&&(p=u.Position.EarlierOf(e,t)),e.character>f.TextEditor.getLineAt(e).text.length?(p=e.getLeft(),m=new u.PositionDiff(0,-1)):p=e,n===h.RegisterMode.LineWise&&(p=p.getLineBegin(),m=u.PositionDiff.NewBOLDiff()),i.recordedState.transformations.push({type:"deleteRange",range:new c.Range(e,t),diff:m}),p})}run(e,t,r,n=!0){return s(this,void 0,void 0,function*(){let i=yield this.delete(t,r,e.currentMode,e.effectiveRegisterMode,e,n);return e.currentMode=d.ModeName.Normal,e.currentMode===d.ModeName.Visual&&(e.desiredColumn=i.character),e})}};y=o([p.RegisterAction],y),t.DeleteOperator=y;let x=class extends v{constructor(){super(...arguments),this.keys=["D"],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,function*(){return e.currentRegisterMode=h.RegisterMode.LineWise,yield new y(this.multicursorIndex).run(e,t,r)})}};x=o([p.RegisterAction],x),t.DeleteOperatorVisual=x;let w=class extends v{constructor(){super(...arguments),this.keys=["y"],this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine],this.canBeRepeatedWithDot=!1}run(e,t,r){return s(this,void 0,void 0,function*(){if(e.surround)return e.surround.range=new c.Range(t,r),e.currentMode=d.ModeName.SurroundInputMode,e.cursorPosition=t,e.cursorStartPosition=t,e;const n=e.currentMode;t.isEarlierThan(r)?r=new u.Position(r.line,r.character+1):([t,r]=[r,t],r=new u.Position(r.line,r.character+1)),e.currentRegisterMode===h.RegisterMode.LineWise&&(t=t.getLineBegin(),r=r.getLineEnd());let i=f.TextEditor.getText(new a.Range(t,r));e.currentMode===d.ModeName.Visual&&r.character===f.TextEditor.getLineAt(r).text.length+1&&(i+="\n"),h.Register.put(i,e,this.multicursorIndex),e.currentMode=d.ModeName.Normal,e.cursorStartPosition=t;let o=!1;return e.recordedState.actionsRun.length>1&&e.recordedState.actionsRun[1]instanceof g.TextObjectMovement&&(o=!0),n!==d.ModeName.Normal||o?e.cursorPosition=t:e.allCursors=e.cursorPositionJustBeforeAnythingHappened.map(e=>new c.Range(e,e)),e})}};w=o([p.RegisterAction],w),t.YankOperator=w;let b=class extends v{constructor(){super(...arguments),this.keys=["Y"],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine,d.ModeName.VisualBlock]}run(e,t,r){return s(this,void 0,void 0,function*(){return e.currentRegisterMode=h.RegisterMode.LineWise,yield(new w).run(e,t,r)})}};b=o([p.RegisterAction],b),t.ShiftYankOperatorVisual=b;let C=class extends v{constructor(){super(...arguments),this.keys=[["x"],["<Del>"]],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,function*(){return yield new y(this.multicursorIndex).run(e,t,r)})}};C=o([p.RegisterAction],C),t.DeleteOperatorXVisual=C;let _=class extends v{constructor(){super(...arguments),this.keys=["s"],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine]}doesActionApply(e,t){return super.doesActionApply(e,t)&&!l.configuration.sneak}run(e,t,r){return s(this,void 0,void 0,function*(){return yield(new B).run(e,t,r)})}};_=o([p.RegisterAction],_),t.ChangeOperatorSVisual=_;let M=class extends v{constructor(){super(...arguments),this.keys=["="],this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine,d.ModeName.VisualBlock]}run(e,t,r){return s(this,void 0,void 0,function*(){e.editor.selection=new a.Selection(t,r),yield a.commands.executeCommand("editor.action.formatSelection");let n=e.cursorStartPosition.line;e.cursorStartPosition.isAfter(e.cursorPosition)&&(n=e.cursorPosition.line);let i=new u.Position(n,0);return e.cursorPosition=i,e.cursorStartPosition=i,e.currentMode=d.ModeName.Normal,e})}};M=o([p.RegisterAction],M),t.FormatOperator=M;let S=class extends v{constructor(){super(...arguments),this.keys=["U"],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,function*(){const n=new a.Range(t,new u.Position(r.line,r.character+1));let i=e.editor.document.getText(n);return yield f.TextEditor.replace(n,i.toUpperCase()),e.currentMode=d.ModeName.Normal,e.cursorPosition=t,e})}};S=o([p.RegisterAction],S),t.UpperCaseOperator=S;let E=class extends S{constructor(){super(...arguments),this.keys=["g","U"],this.modes=[d.ModeName.Normal]}};E=o([p.RegisterAction],E),t.UpperCaseWithMotion=E;let k=class extends v{constructor(){super(...arguments),this.keys=["U"],this.modes=[d.ModeName.VisualBlock]}run(e,t,r){return s(this,void 0,void 0,function*(){for(const{start:t,end:r}of u.Position.IterateLine(e)){const n=new a.Range(t,r);let i=e.editor.document.getText(n);yield f.TextEditor.replace(n,i.toUpperCase())}const n=t.isBefore(r)?t:r;return e.cursorPosition=n,e.cursorStartPosition=n,e.currentMode=d.ModeName.Normal,e})}};k=o([p.RegisterAction],k);let A=class extends v{constructor(){super(...arguments),this.keys=["u"],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,function*(){const n=new a.Range(t,new u.Position(r.line,r.character+1));let i=e.editor.document.getText(n);return yield f.TextEditor.replace(n,i.toLowerCase()),e.currentMode=d.ModeName.Normal,e.cursorPosition=t,e})}};A=o([p.RegisterAction],A),t.LowerCaseOperator=A;let P=class extends A{constructor(){super(...arguments),this.keys=["g","u"],this.modes=[d.ModeName.Normal]}};P=o([p.RegisterAction],P),t.LowerCaseWithMotion=P;let R=class extends v{constructor(){super(...arguments),this.keys=["u"],this.modes=[d.ModeName.VisualBlock]}run(e,t,r){return s(this,void 0,void 0,function*(){for(const{start:t,end:r}of u.Position.IterateLine(e)){const n=new a.Range(t,r);let i=e.editor.document.getText(n);yield f.TextEditor.replace(n,i.toLowerCase())}const n=t.isBefore(r)?t:r;return e.cursorPosition=n,e.cursorStartPosition=n,e.currentMode=d.ModeName.Normal,e})}};R=o([p.RegisterAction],R);let N=class extends v{constructor(){super(...arguments),this.modes=[d.ModeName.Normal],this.keys=[">"]}run(e,t,r){return s(this,void 0,void 0,function*(){return e.editor.selection=new a.Selection(t.getLineBegin(),r.getLineEnd()),yield a.commands.executeCommand("editor.action.indentLines"),e.currentMode=d.ModeName.Normal,e.cursorPosition=t.getFirstLineNonBlankChar(),e})}};N=o([p.RegisterAction],N);let T=class extends v{constructor(){super(...arguments),this.modes=[d.ModeName.Visual,d.ModeName.VisualLine],this.keys=[">"]}run(e,t,r){return s(this,void 0,void 0,function*(){if(e.isRunningDotCommand&&e.dotCommandPreviousVisualSelection&&e.cursorStartPosition.isAfter(e.cursorPosition)){const r=e.dotCommandPreviousVisualSelection.end.line-e.dotCommandPreviousVisualSelection.start.line;t=e.cursorStartPosition;const n=e.cursorStartPosition.getDownByCount(r);e.editor.selection=new a.Selection(t,n)}for(let t=0;t<(e.recordedState.count||1);t++)yield a.commands.executeCommand("editor.action.indentLines");return e.currentMode=d.ModeName.Normal,e.cursorPosition=t.getFirstLineNonBlankChar(),e})}};T=o([p.RegisterAction],T);let L=class extends v{constructor(){super(...arguments),this.modes=[d.ModeName.Normal],this.keys=["<"]}run(e,t,r){return s(this,void 0,void 0,function*(){return e.editor.selection=new a.Selection(t,r.getLineEnd()),yield a.commands.executeCommand("editor.action.outdentLines"),e.currentMode=d.ModeName.Normal,e.cursorPosition=t.getFirstLineNonBlankChar(),e})}};L=o([p.RegisterAction],L);let F=class extends v{constructor(){super(...arguments),this.modes=[d.ModeName.Visual,d.ModeName.VisualLine],this.keys=["<"]}run(e,t,r){return s(this,void 0,void 0,function*(){if(e.isRunningDotCommand&&e.dotCommandPreviousVisualSelection&&e.cursorStartPosition.isAfter(e.cursorPosition)){const r=e.dotCommandPreviousVisualSelection.end.line-e.dotCommandPreviousVisualSelection.start.line;t=e.cursorStartPosition;const n=e.cursorStartPosition.getDownByCount(r);e.editor.selection=new a.Selection(t,n)}for(let t=0;t<(e.recordedState.count||1);t++)yield a.commands.executeCommand("editor.action.outdentLines");return e.currentMode=d.ModeName.Normal,e.cursorPosition=t.getFirstLineNonBlankChar(),e})}};F=o([p.RegisterAction],F);let B=class extends v{constructor(){super(...arguments),this.keys=["c"],this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,function*(){const n=r.character===r.getLineEnd().character;return(e=yield new w(this.multicursorIndex).run(e,t,r)).currentRegisterMode=h.RegisterMode.CharacterWise,0===u.Position.getLineLength(f.TextEditor.getLineAt(t).lineNumber)&&r.line===t.line||(e=n?yield new y(this.multicursorIndex).run(e,t,r.getLeftThroughLineBreaks(),!1):yield new y(this.multicursorIndex).run(e,t,r,!1)),e.currentRegisterMode=h.RegisterMode.AscertainFromCurrentMode,e.currentMode=d.ModeName.Insert,n&&(e.cursorPosition=r.getRight()),e})}runRepeat(e,t,r){return s(this,void 0,void 0,function*(){const n=e.editor.document.getText(new a.Range(t.getLineBegin(),t.getLineBeginRespectingIndent()));return e.currentRegisterMode=h.RegisterMode.LineWise,e=yield this.run(e,t.getLineBegin(),t.getDownByCount(Math.max(0,r-1)).getLineEnd()),l.configuration.autoindent&&("plaintext"===e.editor.document.languageId?e.recordedState.transformations.push({type:"insertText",text:n,position:t.getLineBegin(),cursorIndex:this.multicursorIndex}):e.recordedState.transformations.push({type:"reindent",cursorIndex:this.multicursorIndex,diff:new u.PositionDiff(0,1)})),e})}};B=o([p.RegisterAction],B),t.ChangeOperator=B;let O=class extends v{constructor(){super(...arguments),this.keys=["y"],this.modes=[d.ModeName.VisualBlock],this.canBeRepeatedWithDot=!1}runsOnceForEveryCursor(){return!1}run(e,t,r){return s(this,void 0,void 0,function*(){let r="";for(const{line:t}of u.Position.IterateLine(e))r+=t+"\n";return h.Register.put(r,e,this.multicursorIndex),e.currentMode=d.ModeName.Normal,e.cursorPosition=t,e})}};O=o([p.RegisterAction],O),t.YankVisualBlockMode=O;let I=n=class extends v{constructor(){super(...arguments),this.keys=["~"],this.modes=[d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,function*(){const i=new a.Range(t,r.getRight());yield n.toggleCase(i);const o=t.isBefore(r)?t:r;return e.cursorPosition=o,e.cursorStartPosition=o,e.currentMode=d.ModeName.Normal,e})}static toggleCase(e){return s(this,void 0,void 0,function*(){const t=f.TextEditor.getText(e);let r="";for(var n=0;n<t.length;n++){var i=t[n];let e=i.toLocaleLowerCase();e===i&&(e=i.toLocaleUpperCase()),r+=e}yield f.TextEditor.replace(e,r)})}};I=n=o([p.RegisterAction],I),t.ToggleCaseOperator=I;let D=class extends v{constructor(){super(...arguments),this.keys=["~"],this.modes=[d.ModeName.VisualBlock]}run(e,t,r){return s(this,void 0,void 0,function*(){for(const{start:t,end:r}of u.Position.IterateLine(e)){const e=new a.Range(t,r);yield I.toggleCase(e)}const n=t.isBefore(r)?t:r;return e.cursorPosition=n,e.cursorStartPosition=n,e.currentMode=d.ModeName.Normal,e})}};D=o([p.RegisterAction],D);let j=class extends I{constructor(){super(...arguments),this.keys=["g","~"],this.modes=[d.ModeName.Normal]}};j=o([p.RegisterAction],j);let V=class extends v{constructor(){super(...arguments),this.keys=["g","c"],this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,function*(){return e.editor.selection=new a.Selection(t.getLineBegin(),r.getLineEnd()),yield a.commands.executeCommand("editor.action.commentLine"),e.cursorPosition=new u.Position(t.line,0),e.currentMode=d.ModeName.Normal,e})}};V=o([p.RegisterAction],V),t.CommentOperator=V;let W=class extends v{constructor(){super(...arguments),this.keys=["g","C"],this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine]}run(e,t,r){return s(this,void 0,void 0,function*(){const n=e.currentMode===d.ModeName.Normal?r.getRight():r;return e.editor.selection=new a.Selection(t,n),yield a.commands.executeCommand("editor.action.blockComment"),e.cursorPosition=t,e.currentMode=d.ModeName.Normal,e})}};W=o([p.RegisterAction],W),t.CommentBlockOperator=W;let $=i=class extends v{constructor(){super(...arguments),this.modes=[d.ModeName.Normal,d.ModeName.Visual,d.ModeName.VisualLine],this.keys=["g","q"]}getIndentationLevel(e){for(const t of e.split("\n")){const e=t.match(/^\s+/g),r=e?e[0].length:0;if(r!==t.length)return r}return 0}reflowParagraph(e,t){const r=l.configuration.textwidth-t-2,n=Array(t+1).join(" ");let o=[];for(const t of e.split("\n")){let e=o[o.length-1];const r=t.trim();let n;for(const r of i.CommentTypes){if(t.trim().startsWith(r.start)){n=r;break}if(e&&r.start===e.commentType.start&&!r.singleLine){if(t.trim().startsWith(r.inner)){n=r;break}if(t.trim().endsWith(r.final)){n=r;break}}}if(!n)break;if(e&&n.start===e.commentType.start)(e=o[o.length-1]).commentType.singleLine?e.content+=`\n${r.substr(e.commentType.start.length).trim()}`:r.endsWith(e.commentType.final)?r.length>e.commentType.final.length&&(e.content+=`\n${r.substr(e.commentType.inner.length,r.length-e.commentType.final.length).trim()}`):r.startsWith(e.commentType.inner)?e.content+=`\n${r.substr(e.commentType.inner.length).trim()}`:r.startsWith(e.commentType.start)&&(e.content+=`\n${r.substr(e.commentType.start.length).trim()}`);else{let e={commentType:n,content:`${r.substr(n.start.length).trim()}`,indentLevelAfterComment:0};n.singleLine&&(e.indentLevelAfterComment=r.substr(n.start.length).length-e.content.length),o.push(e)}}let s=[];for(const{commentType:e,content:t,indentLevelAfterComment:i}of o){let o;const a=Array(i+1).join(" ");o=e.singleLine?[""]:["",""];let u=0;for(const e of t.trim().split("\n")){if(""===e.trim()){for(let e=0;e<2;e++)o.push("");u=0;continue}const t=e.split(/\s+/);for(let e=0;e<t.length;e++){const n=t[e];""!==n&&(o[o.length-1].length+n.length+1<r?o[o.length-1]+=0===u&&0===e?`${n}`:` ${n}`:o.push(`${n}`))}u++}e.singleLine||o.push(""),e.singleLine&&(o.length>1&&""===o[0].trim()&&(o=o.slice(1)),o.length>1&&""===o[o.length-1].trim()&&(o=o.slice(0,-1)));for(let t=0;t<o.length;t++)e.singleLine?o[t]=`${n}${e.start}${a}${o[t]}`:0===t?o[t]=`${n}${e.start} ${o[t]}`:t===o.length-1?o[t]=`${n} ${e.final}`:o[t]=`${n} ${e.inner} ${o[t]}`;s=s.concat(o)}return s.join("\n")}run(e,t,r){return s(this,void 0,void 0,function*(){t=u.Position.EarlierOf(t,r),r=u.Position.LaterOf(t,r);let n=f.TextEditor.getText(new a.Range(t,r)),i=this.getIndentationLevel(n);return n=this.reflowParagraph(n,i),e.recordedState.transformations.push({type:"replaceText",text:n,start:t,end:r,diff:u.PositionDiff.NewBOLDiff(0,0)}),e.currentMode=d.ModeName.Normal,e})}};$.CommentTypes=[{singleLine:!1,start:"/**",inner:"*",final:"*/"},{singleLine:!1,start:"/*",inner:"*",final:"*/"},{singleLine:!1,start:"{-",inner:"-",final:"-}"},{singleLine:!0,start:"///"},{singleLine:!0,start:"//"},{singleLine:!0,start:"--"},{singleLine:!0,start:"#"},{singleLine:!0,start:";"},{singleLine:!0,start:"*"},{singleLine:!0,start:""}],$=i=o([p.RegisterAction],$)},function(e,t,r){var n=r(155),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";var n,i,o,s,a,u=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const l=r(0),d=r(67),h=r(292),f=r(293),p=r(2),m=r(1),g=r(3),v=r(15),y=r(70),x=r(68),w=r(5),b=r(12),C=r(12),_=r(22),M=r(309);function S(e){return void 0!==e.start&&void 0!==e.stop}var E;t.isIMovement=S,function(e){e[e.Concatenating=0]="Concatenating",e[e.Expanding=1]="Expanding"}(E||(E={}));class k extends b.BaseAction{constructor(e,t){super(),this.modes=[g.ModeName.Normal,g.ModeName.Visual,g.ModeName.VisualLine,g.ModeName.VisualBlock],this.isMotion=!0,this.isJump=!1,this.isRepeat=!1,this.doesntChangeDesiredColumn=!1,this.setsDesiredColumnToEOL=!1,this.minCount=1,this.maxCount=99999,this.selectionType=E.Concatenating,e&&(this.keysPressed=e),t&&(this.isRepeat=t)}execAction(e,t){return c(this,void 0,void 0,function*(){throw new Error("Not implemented!")})}execActionForOperator(e,t){return c(this,void 0,void 0,function*(){return yield this.execAction(e,t)})}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){let n=t.recordedState,i=new p.Position(0,0),o=void 0,s=new p.Position(e.line,e.character);r=this.clampCount(r);for(let a=0;a<r;a++){const u=0===a,c=a===r-1;if((i=yield this.createMovementResult(e,t,n,c))instanceof p.Position)e=i;else if(S(i)){if(o&&i.failed)return o;u&&(s=new p.Position(i.start.line,i.start.character)),e=this.adjustPosition(e,i,c),o=i}}return this.selectionType===E.Concatenating&&S(i)&&(i.start=s),i})}clampCount(e){return e=Math.max(e,this.minCount),e=Math.min(e,this.maxCount)}createMovementResult(e,t,r,n){return c(this,void 0,void 0,function*(){return r.operator&&n?yield this.execActionForOperator(e,t):yield this.execAction(e,t)})}adjustPosition(e,t,r){return r||(e=t.stop.getRightThroughLineBreaks()),e}}t.BaseMovement=k;class A extends k{constructor(){super(...arguments),this.selectionType=E.Expanding}adjustPosition(e,t,r){return r||(e=t.stop),e}}t.ExpandingSelection=A;class P extends k{constructor(){super(...arguments),this.modes=[g.ModeName.Normal,g.ModeName.Visual,g.ModeName.VisualLine],this.value=1}execAction(e,t){return c(this,void 0,void 0,function*(){if(yield l.commands.executeCommand("cursorMove",{to:this.movementType,select:t.currentMode!==g.ModeName.Normal,by:this.by,value:this.value}),t.currentMode===g.ModeName.Normal)return p.Position.FromVSCodePosition(t.editor.selection.active);{let e=p.Position.FromVSCodePosition(t.editor.selection.start),r=p.Position.FromVSCodePosition(t.editor.selection.end),n=p.Position.FromVSCodePosition(t.editor.selection.active);return e.isEqual(n)&&(e,[e,r]=[r,e],e=e.getLeft()),{start:e,stop:r}}})}execActionForOperator(e,t){return c(this,void 0,void 0,function*(){return yield l.commands.executeCommand("cursorMove",{to:this.movementType,select:!0,by:this.by,value:this.value}),{start:p.Position.FromVSCodePosition(t.editor.selection.start),stop:p.Position.FromVSCodePosition(t.editor.selection.end)}})}}class R extends P{constructor(){super(...arguments),this.doesntChangeDesiredColumn=!0}execAction(e,t){return c(this,void 0,void 0,function*(){let e=t.desiredColumn,r=t.editor.selection.active.line;if(yield l.commands.executeCommand("cursorMove",{to:this.movementType,select:t.currentMode!==g.ModeName.Normal,by:this.by,value:this.value}),t.currentMode===g.ModeName.Normal){let n=p.Position.FromVSCodePosition(t.editor.selection.active);return r!==n.line&&(n=n.setLocation(n.line,e)),n}{let e=p.Position.FromVSCodePosition(t.editor.selection.start),r=p.Position.FromVSCodePosition(t.editor.selection.end),n=p.Position.FromVSCodePosition(t.editor.selection.active);return e.isEqual(n)&&(e,[e,r]=[r,e],e=e.getLeft()),{start:e,stop:r}}})}}class N extends R{constructor(){super(...arguments),this.movementType="down",this.by="line",this.value=1}execAction(e,t){return c(this,void 0,void 0,function*(){if(e.line>=w.TextEditor.getLineCount()-1)return e;let r,n=e.line,i=e.character;const o=t.desiredColumn,s=new ge;do{const o=n!==(r=(r=yield s.execAction(e,t))instanceof p.Position?r:r.stop).line,a=i!==r.character;if(o||!a)break;i=r.character,n=r.line}while(r.line===e.line);return r.character!==o&&(r=new p.Position(r.line,o)),r})}}let T=class extends k{constructor(){super(...arguments),this.keys=["j"],this.doesntChangeDesiredColumn=!0}execAction(e,t){return c(this,void 0,void 0,function*(){return m.configuration.foldfix&&t.currentMode!==g.ModeName.VisualBlock?(new N).execAction(e,t):e.getDown(t.desiredColumn)})}execActionForOperator(e,t){return c(this,void 0,void 0,function*(){return t.currentRegisterMode=v.RegisterMode.LineWise,e.getDown(e.getLineEnd().character)})}};T=u([C.RegisterAction],T);let L=class extends T{constructor(){super(...arguments),this.keys=["<down>"]}};L=u([C.RegisterAction],L);let F=class extends k{constructor(){super(...arguments),this.keys=["k"],this.doesntChangeDesiredColumn=!0}execAction(e,t){return c(this,void 0,void 0,function*(){return m.configuration.foldfix&&t.currentMode!==g.ModeName.VisualBlock?(new B).execAction(e,t):e.getUp(t.desiredColumn)})}execActionForOperator(e,t){return c(this,void 0,void 0,function*(){return t.currentRegisterMode=v.RegisterMode.LineWise,e.getUp(e.getLineEnd().character)})}};F=u([C.RegisterAction],F);let B=class extends R{constructor(){super(...arguments),this.movementType="up",this.by="line",this.value=1}execAction(e,t){return c(this,void 0,void 0,function*(){if(0===e.line)return e;let r;const n=t.desiredColumn,i=new me;do{r=(r=yield i.execAction(e,t))instanceof p.Position?r:r.stop}while(r.line===e.line);return r.character!==n&&(r=new p.Position(r.line,n)),r})}};B=u([C.RegisterAction],B);let O=class extends F{constructor(){super(...arguments),this.keys=["<up>"]}};O=u([C.RegisterAction],O);let I=class extends k{constructor(){super(...arguments),this.modes=[g.ModeName.Replace],this.keys=[["<up>"],["<down>"],["<left>"],["<right>"]]}execAction(e,t){return c(this,void 0,void 0,function*(){let r=e;switch(this.keysPressed[0]){case"<up>":r=yield(new O).execAction(e,t);break;case"<down>":r=yield(new L).execAction(e,t);break;case"<left>":r=yield(new K).execAction(e,t);break;case"<right>":r=yield(new Y).execAction(e,t)}return t.replaceState=new y.ReplaceState(r),r})}};I=u([C.RegisterAction],I);let D=class extends I{constructor(){super(...arguments),this.keys=[["<up>"]]}};D=u([C.RegisterAction],D);let j=class extends I{constructor(){super(...arguments),this.keys=[["<down>"]]}};j=u([C.RegisterAction],j);let V=class extends I{constructor(){super(...arguments),this.keys=[["<left>"]]}};V=u([C.RegisterAction],V);let W=class extends I{constructor(){super(...arguments),this.keys=[["<right>"]]}};W=u([C.RegisterAction],W);let $=class extends k{constructor(){super(...arguments),this.keys=["n"],this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){const r=t.globalState.searchState;return r&&""!==r.searchString?(t.globalState.hl=!0,e.getRight().isEqual(e.getLineEnd())?r.getNextSearchMatchPosition(e.getRight()).pos:r.getNextSearchMatchPosition(e).pos):e})}};$=u([C.RegisterAction],$);let H=class extends k{constructor(){super(...arguments),this.keys=["N"],this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){const r=t.globalState.searchState;return r&&""!==r.searchString?(t.globalState.hl=!0,r.getNextSearchMatchPosition(e,-1).pos):e})}};H=u([C.RegisterAction],H);let U=class extends k{constructor(){super(...arguments),this.keys=["'","<character>"],this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){const e=this.keysPressed[1],r=t.historyTracker.getMark(e);return t.currentRegisterMode=v.RegisterMode.LineWise,r.position.getFirstLineNonBlankChar()})}};U=u([C.RegisterAction],U),t.MarkMovementBOL=U;let q=class extends k{constructor(){super(...arguments),this.keys=["`","<character>"],this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){const e=this.keysPressed[1];return t.historyTracker.getMark(e).position})}};q=u([C.RegisterAction],q),t.MarkMovement=q;let z=class extends k{constructor(){super(...arguments),this.keys=["h"]}execAction(e,t){return c(this,void 0,void 0,function*(){return M.shouldWrapKey(t,this.keysPressed)?e.getLeftThroughLineBreaks():e.getLeft()})}};z=u([C.RegisterAction],z),t.MoveLeft=z;let K=class extends z{constructor(){super(...arguments),this.modes=[g.ModeName.Normal,g.ModeName.Visual,g.ModeName.VisualLine,g.ModeName.VisualBlock],this.keys=["<left>"]}};K=u([C.RegisterAction],K);let J=class extends k{constructor(){super(...arguments),this.modes=[g.ModeName.Normal],this.keys=["<BS>"]}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getLeftThroughLineBreaks()})}};J=u([C.RegisterAction],J);let G=class extends k{constructor(){super(...arguments),this.keys=["l"]}execAction(e,t){return c(this,void 0,void 0,function*(){if(M.shouldWrapKey(t,this.keysPressed)){const r=t.currentMode===g.ModeName.Insert;return e.getRightThroughLineBreaks(r)}return e.getRight()})}};G=u([C.RegisterAction],G);let Y=class extends G{constructor(){super(...arguments),this.modes=[g.ModeName.Normal,g.ModeName.Visual,g.ModeName.VisualLine,g.ModeName.VisualBlock],this.keys=["<right>"]}};Y=u([C.RegisterAction],Y);let Q=class extends k{constructor(){super(...arguments),this.keys=[" "]}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getRightThroughLineBreaks()})}};Q=u([C.RegisterAction],Q);let Z=class extends k{constructor(){super(...arguments),this.keys=["+"]}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){return t.currentRegisterMode=v.RegisterMode.LineWise,e.getDownByCount(Math.max(r,1)).getFirstLineNonBlankChar()})}};Z=u([C.RegisterAction],Z);let X=class extends k{constructor(){super(...arguments),this.keys=["-"]}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){return t.currentRegisterMode=v.RegisterMode.LineWise,e.getUpByCount(Math.max(r,1)).getFirstLineNonBlankChar()})}};X=u([C.RegisterAction],X);let ee=class extends k{constructor(){super(...arguments),this.keys=["_"]}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){return e.getDownByCount(Math.max(r-1,0)).getFirstLineNonBlankChar()})}};ee=u([C.RegisterAction],ee);let te=class extends k{constructor(){super(...arguments),this.keys=["|"]}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){return new p.Position(e.line,Math.max(0,r-1))})}};te=u([C.RegisterAction],te);let re=n=class extends k{constructor(){super(...arguments),this.keys=["f","<character>"]}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){r=r||1;const i=this.keysPressed[1];let o=e.findForwards(i,r);return o?(t.recordedState.operator&&(o=o.getRight()),this.isRepeat||t.recordedState.operator&&S(o)&&o.failed||(x.VimState.lastSemicolonRepeatableMovement=new n(this.keysPressed,!0),x.VimState.lastCommaRepeatableMovement=new ne(this.keysPressed,!0)),o):{start:e,stop:e,failed:!0}})}};re=n=u([C.RegisterAction],re);let ne=i=class extends k{constructor(){super(...arguments),this.keys=["F","<character>"]}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){r=r||1;const n=this.keysPressed[1];let o=e.findBackwards(n,r);return o?(this.isRepeat||t.recordedState.operator&&S(o)&&o.failed||(x.VimState.lastSemicolonRepeatableMovement=new i(this.keysPressed,!0),x.VimState.lastCommaRepeatableMovement=new re(this.keysPressed,!0)),o):{start:e,stop:e,failed:!0}})}};ne=i=u([C.RegisterAction],ne);let ie=o=class extends k{constructor(){super(...arguments),this.keys=["t","<character>"]}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){r=r||1;const n=this.keysPressed[1];let i=e.tilForwards(n,r);return i&&this.isRepeat&&e.isEqual(i)&&1===r&&(i=e.tilForwards(n,2)),i?(t.recordedState.operator&&(i=i.getRight()),this.isRepeat||t.recordedState.operator&&S(i)&&i.failed||(x.VimState.lastSemicolonRepeatableMovement=new o(this.keysPressed,!0),x.VimState.lastCommaRepeatableMovement=new oe(this.keysPressed,!0)),i):{start:e,stop:e,failed:!0}})}};ie=o=u([C.RegisterAction],ie);let oe=s=class extends k{constructor(){super(...arguments),this.keys=["T","<character>"]}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){r=r||1;const n=this.keysPressed[1];let i=e.tilBackwards(n,r);return i&&this.isRepeat&&e.isEqual(i)&&1===r&&(i=e.tilBackwards(n,2)),i?(this.isRepeat||t.recordedState.operator&&S(i)&&i.failed||(x.VimState.lastSemicolonRepeatableMovement=new s(this.keysPressed,!0),x.VimState.lastCommaRepeatableMovement=new ie(this.keysPressed,!0)),i):{start:e,stop:e,failed:!0}})}};oe=s=u([C.RegisterAction],oe);let se=class extends k{constructor(){super(...arguments),this.keys=[";"]}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){const n=x.VimState.lastSemicolonRepeatableMovement;return n?yield n.execActionWithCount(e,t,r):e})}};se=u([C.RegisterAction],se);let ae=class extends k{constructor(){super(...arguments),this.keys=[","]}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){const n=x.VimState.lastCommaRepeatableMovement;return n?yield n.execActionWithCount(e,t,r):e})}};ae=u([C.RegisterAction],ae);let ue=class extends k{constructor(){super(...arguments),this.keys=[["$"],["<end>"],["<D-right>"]],this.setsDesiredColumnToEOL=!0}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){return e.getDownByCount(Math.max(r-1,0)).getLineEnd()})}};ue=u([C.RegisterAction],ue);let ce=class extends k{constructor(){super(...arguments),this.keys=[["0"],["<home>"],["<D-left>"]]}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getLineBegin()})}doesActionApply(e,t){return super.doesActionApply(e,t)&&0===e.recordedState.count}couldActionApply(e,t){return super.couldActionApply(e,t)&&0===e.recordedState.count}};ce=u([C.RegisterAction],ce);let le=class extends P{constructor(){super(...arguments),this.keys=["g","0"],this.movementType="wrappedLineStart"}};le=u([C.RegisterAction],le);let de=class extends P{constructor(){super(...arguments),this.keys=["g","^"],this.movementType="wrappedLineFirstNonWhitespaceCharacter"}};de=u([C.RegisterAction],de);let he=class extends P{constructor(){super(...arguments),this.keys=["g","$"],this.movementType="wrappedLineEnd"}};he=u([C.RegisterAction],he);let fe=class extends P{constructor(){super(...arguments),this.keys=["g","_"],this.movementType="wrappedLineLastNonWhitespaceCharacter"}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){r=r||1;const n=yield this.execAction(e,t),i=n;return n instanceof p.Position?n.getDownByCount(r-1):S(n)?{start:n.start,stop:n.stop.getDownByCount(r-1).getLeft()}:i.getDownByCount(r-1)})}};fe=u([C.RegisterAction],fe);let pe=class extends P{constructor(){super(...arguments),this.keys=["g","m"],this.movementType="wrappedLineColumnCenter"}};pe=u([C.RegisterAction],pe);let me=class extends P{constructor(){super(...arguments),this.modes=[g.ModeName.Insert,g.ModeName.Normal,g.ModeName.Visual],this.keys=[["g","k"],["g","<up>"]],this.movementType="up",this.by="wrappedLine",this.value=1}};me=u([C.RegisterAction],me),t.MoveUpByScreenLine=me;let ge=class extends P{constructor(){super(...arguments),this.modes=[g.ModeName.Insert,g.ModeName.Normal,g.ModeName.Visual],this.keys=[["g","j"],["g","<down>"]],this.movementType="down",this.by="wrappedLine",this.value=1}};ge=u([C.RegisterAction],ge);let ve=class extends P{constructor(){super(...arguments),this.modes=[g.ModeName.VisualLine],this.keys=[["g","k"],["g","<up>"]],this.movementType="up",this.by="line",this.value=1}};ve=u([C.RegisterAction],ve);let ye=class extends P{constructor(){super(...arguments),this.modes=[g.ModeName.VisualLine],this.keys=[["g","j"],["g","<down>"]],this.movementType="down",this.by="line",this.value=1}};ye=u([C.RegisterAction],ye);let xe=class extends k{constructor(){super(...arguments),this.modes=[g.ModeName.VisualBlock],this.keys=[["g","k"],["g","<up>"]],this.doesntChangeDesiredColumn=!0}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getUp(t.desiredColumn)})}execActionForOperator(e,t){return c(this,void 0,void 0,function*(){return t.currentRegisterMode=v.RegisterMode.LineWise,e.getUp(e.getLineEnd().character)})}};xe=u([C.RegisterAction],xe);let we=class extends k{constructor(){super(...arguments),this.modes=[g.ModeName.VisualBlock],this.keys=[["g","j"],["g","<down>"]],this.doesntChangeDesiredColumn=!0}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getDown(t.desiredColumn)})}execActionForOperator(e,t){return c(this,void 0,void 0,function*(){return t.currentRegisterMode=v.RegisterMode.LineWise,e.getDown(e.getLineEnd().character)})}};we=u([C.RegisterAction],we);let be=class extends P{constructor(){super(...arguments),this.modes=[g.ModeName.Insert,g.ModeName.Normal,g.ModeName.Visual,g.ModeName.VisualLine],this.keys=["z","h"],this.movementType="right",this.by="character",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};be=u([C.RegisterAction],be);let Ce=class extends P{constructor(){super(...arguments),this.modes=[g.ModeName.Insert,g.ModeName.Normal,g.ModeName.Visual,g.ModeName.VisualLine],this.keys=["z","l"],this.movementType="left",this.by="character",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Ce=u([C.RegisterAction],Ce);let _e=class extends P{constructor(){super(...arguments),this.modes=[g.ModeName.Insert,g.ModeName.Normal,g.ModeName.Visual,g.ModeName.VisualLine],this.keys=["z","H"],this.movementType="right",this.by="halfLine",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};_e=u([C.RegisterAction],_e);let Me=class extends P{constructor(){super(...arguments),this.modes=[g.ModeName.Insert,g.ModeName.Normal,g.ModeName.Visual,g.ModeName.VisualLine],this.keys=["z","L"],this.movementType="left",this.by="halfLine",this.value=1,this.isJump=!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Me=u([C.RegisterAction],Me);let Se=class extends P{constructor(){super(...arguments),this.keys=["H"],this.movementType="viewPortTop",this.by="line",this.value=1,this.isJump=!0}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){return this.value=r<1?1:r,yield this.execAction(e,t)})}};Se=u([C.RegisterAction],Se);let Ee=class extends P{constructor(){super(...arguments),this.keys=["L"],this.movementType="viewPortBottom",this.by="line",this.value=1,this.isJump=!0}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){return this.value=r<1?1:r,yield this.execAction(e,t)})}};Ee=u([C.RegisterAction],Ee);let ke=class extends P{constructor(){super(...arguments),this.keys=["M"],this.movementType="viewPortCenter",this.by="line",this.isJump=!0}};ke=u([C.RegisterAction],ke);let Ae=class extends k{constructor(){super(...arguments),this.keys=["^"]}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getFirstLineNonBlankChar()})}};Ae=u([C.RegisterAction],Ae);let Pe=class extends k{constructor(){super(...arguments),this.keys=["\n"]}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){return t.currentRegisterMode=v.RegisterMode.LineWise,0===r&&r++,e.getDownByCount(r).getFirstLineNonBlankChar()})}};Pe=u([C.RegisterAction],Pe);let Re=class extends k{constructor(){super(...arguments),this.keys=["g","g"],this.isJump=!0}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){return 0===r?e.getDocumentBegin().getFirstLineNonBlankChar():new p.Position(r-1,0).getFirstLineNonBlankChar()})}};Re=u([C.RegisterAction],Re);let Ne=class extends k{constructor(){super(...arguments),this.keys=["G"],this.isJump=!0}execActionWithCount(e,t,r){return c(this,void 0,void 0,function*(){let e;return e=0===r?new p.Position(w.TextEditor.getLineCount()-1,0):new p.Position(Math.min(r,w.TextEditor.getLineCount())-1,0),{start:t.cursorStartPosition,stop:e,registerMode:v.RegisterMode.LineWise}})}};Ne=u([C.RegisterAction],Ne);let Te=class extends k{constructor(){super(...arguments),this.keys=["w"]}execAction(e,t,r=!1){return c(this,void 0,void 0,function*(){if(r&&!m.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof _.ChangeOperator){if(w.TextEditor.getLineAt(e).text.length<1)return e;const t=w.TextEditor.getLineAt(e).text[e.character];return" \t".indexOf(t)>=0?e.getWordRight():e.getCurrentWordEnd(!0).getRight()}return e.getWordRight()})}execActionForOperator(e,t){return c(this,void 0,void 0,function*(){const r=yield this.execAction(e,t,!0);return r.line>e.line+1||r.line===e.line+1&&r.isFirstWordOfLine()?e.getLineEnd():r.isLineEnd()?new p.Position(r.line,r.character+1):r})}};Te=u([C.RegisterAction],Te),t.MoveWordBegin=Te;let Le=class extends k{constructor(){super(...arguments),this.keys=["W"]}execAction(e,t){return c(this,void 0,void 0,function*(){return!m.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof _.ChangeOperator?e.getCurrentBigWordEnd().getRight():e.getBigWordRight()})}};Le=u([C.RegisterAction],Le);let Fe=class extends k{constructor(){super(...arguments),this.keys=["e"]}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getCurrentWordEnd()})}execActionForOperator(e,t){return c(this,void 0,void 0,function*(){let t=e.getCurrentWordEnd();return new p.Position(t.line,t.character+1)})}};Fe=u([C.RegisterAction],Fe);let Be=class extends k{constructor(){super(...arguments),this.keys=["E"]}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getCurrentBigWordEnd()})}execActionForOperator(e,t){return c(this,void 0,void 0,function*(){return e.getCurrentBigWordEnd().getRight()})}};Be=u([C.RegisterAction],Be);let Oe=class extends k{constructor(){super(...arguments),this.keys=["g","e"]}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getLastWordEnd()})}};Oe=u([C.RegisterAction],Oe);let Ie=class extends k{constructor(){super(...arguments),this.keys=["g","E"]}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getLastBigWordEnd()})}};Ie=u([C.RegisterAction],Ie);let De=class extends k{constructor(){super(...arguments),this.keys=["b"]}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getWordLeft()})}};De=u([C.RegisterAction],De);let je=class extends k{constructor(){super(...arguments),this.keys=["B"]}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getBigWordLeft()})}};je=u([C.RegisterAction],je);let Ve=class extends k{constructor(){super(...arguments),this.keys=["("],this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getSentenceBegin({forward:!1})})}};Ve=u([C.RegisterAction],Ve);let We=class extends k{constructor(){super(...arguments),this.keys=[")"],this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getSentenceBegin({forward:!0})})}};We=u([C.RegisterAction],We);let $e=class extends k{constructor(){super(...arguments),this.keys=["}"],this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){const r=e.isLineBeginning()&&t.currentMode===g.ModeName.Normal&&t.recordedState.operator;let n=e.getCurrentParagraphEnd();return t.currentRegisterMode=r?v.RegisterMode.LineWise:v.RegisterMode.AscertainFromCurrentMode,r?n.getLeftThroughLineBreaks(!0):n})}};$e=u([C.RegisterAction],$e);let He=class extends k{constructor(){super(...arguments),this.keys=["{"],this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getCurrentParagraphBeginning()})}};He=u([C.RegisterAction],He);class Ue extends k{constructor(){super(...arguments),this.modes=[g.ModeName.Normal,g.ModeName.Visual,g.ModeName.VisualLine],this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){return e.getSectionBoundary({forward:this.forward,boundary:this.boundary})})}}let qe=class extends Ue{constructor(){super(...arguments),this.keys=["]","]"],this.boundary="{",this.forward=!0}};qe=u([C.RegisterAction],qe);let ze=class extends Ue{constructor(){super(...arguments),this.keys=["]","["],this.boundary="}",this.forward=!0}};ze=u([C.RegisterAction],ze);let Ke=class extends Ue{constructor(){super(...arguments),this.keys=["[","["],this.boundary="{",this.forward=!1}};Ke=u([C.RegisterAction],Ke);let Je=class extends Ue{constructor(){super(...arguments),this.keys=["[","]"],this.boundary="}",this.forward=!1}};Je=u([C.RegisterAction],Je);let Ge=a=class extends k{constructor(){super(...arguments),this.keys=["%"],this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){e=e.getLeftIfEOL();const t=w.TextEditor.getLineAt(e).text,r=t[e.character],n=d.PairMatcher.pairings[r],i={start:e,stop:e,failed:!0};if(!n||!n.matchesWithPercentageMotion){for(let r=e.character;r<t.length;r++)if(d.PairMatcher.pairings[t[r]]){const n=new p.Position(e.line,r);return d.PairMatcher.nextPairedChar(n,t[r])||i}return i}return d.PairMatcher.nextPairedChar(e,r)||i})}execActionForOperator(e,t){return c(this,void 0,void 0,function*(){const r=yield this.execAction(e,t);if(S(r)){if(r.failed)return r;throw new Error("Did not ever handle this case!")}return e.compareTo(r)>0?{start:r,stop:e.getRight()}:r.getRight()})}execActionWithCount(e,t,r){const n=e=>super[e];return c(this,void 0,void 0,function*(){if(Object.getPrototypeOf(this)===a.prototype){if(0===r)return t.recordedState.operator?this.execActionForOperator(e,t):this.execAction(e,t);if(r<0||r>100)return{start:e,stop:e,failed:!0};const n=Math.round(r*w.TextEditor.getLineCount()/100);return new p.Position(n-1,0).getFirstLineNonBlankChar()}return n("execActionWithCount").call(this,e,t,r)})}};Ge=a=u([C.RegisterAction],Ge);class Ye extends A{constructor(){super(...arguments),this.modes=[g.ModeName.Normal,g.ModeName.Visual,g.ModeName.VisualLine,g.ModeName.VisualBlock],this.includeSurrounding=!1,this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){const r=d.PairMatcher.pairings[this.charToMatch].match;let n=new p.Position(t.cursorStartPosition.line,t.cursorStartPosition.character);const i={start:n,stop:e,failed:!0};if(!this.includeSurrounding){const i=n.getLeftThroughLineBreaks();let o=e.getRightThroughLineBreaks();t.recordedState.operator&&(o=o.getLeftThroughLineBreaks());const s=w.TextEditor.getCharAt(i),a=w.TextEditor.getCharAt(o);s===this.charToMatch&&a===r&&(n=i,t.cursorStartPosition=i,e=o,t.cursorPosition=o)}let o,s=d.PairMatcher.nextPairedChar(n,r,t);if(void 0===s)return i;o=s.isAfterOrEqual(s.getLineEnd().getLeft())?new p.Position(s.line+1,0):new p.Position(s.line,s.character+1);let a=d.PairMatcher.nextPairedChar(e,this.charToMatch,t);return void 0===a?i:(this.includeSurrounding?t.currentMode!==g.ModeName.Visual&&(a=new p.Position(a.line,a.character+1)):(s=o,a.isInLeadingWhitespace()&&(a=a.getLineBegin()),t.currentMode===g.ModeName.Visual&&(a=a.getLeftThroughLineBreaks())),e.isBefore(s)&&(t.recordedState.operatorPositionDiff=s.subtract(e)),t.cursorStartPosition=s,{start:s,stop:a,diff:new p.PositionDiff(0,s===e?1:0)})})}}t.MoveInsideCharacter=Ye;let Qe=class extends Ye{constructor(){super(...arguments),this.keys=["i","("],this.charToMatch="("}};Qe=u([C.RegisterAction],Qe);let Ze=class extends Ye{constructor(){super(...arguments),this.keys=["i",")"],this.charToMatch="("}};Ze=u([C.RegisterAction],Ze);let Xe=class extends Ye{constructor(){super(...arguments),this.keys=["i","b"],this.charToMatch="("}};Xe=u([C.RegisterAction],Xe);let et=class extends Ye{constructor(){super(...arguments),this.keys=["a","("],this.charToMatch="(",this.includeSurrounding=!0}};et=u([C.RegisterAction],et),t.MoveAParentheses=et;let tt=class extends Ye{constructor(){super(...arguments),this.keys=["a",")"],this.charToMatch="(",this.includeSurrounding=!0}};tt=u([C.RegisterAction],tt);let rt=class extends Ye{constructor(){super(...arguments),this.keys=["a","b"],this.charToMatch="(",this.includeSurrounding=!0}};rt=u([C.RegisterAction],rt);let nt=class extends Ye{constructor(){super(...arguments),this.keys=["i","{"],this.charToMatch="{"}};nt=u([C.RegisterAction],nt);let it=class extends Ye{constructor(){super(...arguments),this.keys=["i","}"],this.charToMatch="{"}};it=u([C.RegisterAction],it);let ot=class extends Ye{constructor(){super(...arguments),this.keys=["i","B"],this.charToMatch="{"}};ot=u([C.RegisterAction],ot);let st=class extends Ye{constructor(){super(...arguments),this.keys=["a","{"],this.charToMatch="{",this.includeSurrounding=!0}};st=u([C.RegisterAction],st),t.MoveACurlyBrace=st;let at=class extends Ye{constructor(){super(...arguments),this.keys=["a","}"],this.charToMatch="{",this.includeSurrounding=!0}};at=u([C.RegisterAction],at),t.MoveAClosingCurlyBrace=at;let ut=class extends Ye{constructor(){super(...arguments),this.keys=["a","B"],this.charToMatch="{",this.includeSurrounding=!0}};ut=u([C.RegisterAction],ut);let ct=class extends Ye{constructor(){super(...arguments),this.keys=["i","<"],this.charToMatch="<"}};ct=u([C.RegisterAction],ct);let lt=class extends Ye{constructor(){super(...arguments),this.keys=["i",">"],this.charToMatch="<"}};lt=u([C.RegisterAction],lt);let dt=class extends Ye{constructor(){super(...arguments),this.keys=["a","<"],this.charToMatch="<",this.includeSurrounding=!0}};dt=u([C.RegisterAction],dt),t.MoveACaret=dt;let ht=class extends Ye{constructor(){super(...arguments),this.keys=["a",">"],this.charToMatch="<",this.includeSurrounding=!0}};ht=u([C.RegisterAction],ht);let ft=class extends Ye{constructor(){super(...arguments),this.keys=["i","["],this.charToMatch="["}};ft=u([C.RegisterAction],ft);let pt=class extends Ye{constructor(){super(...arguments),this.keys=["i","]"],this.charToMatch="["}};pt=u([C.RegisterAction],pt);let mt=class extends Ye{constructor(){super(...arguments),this.keys=["a","["],this.charToMatch="[",this.includeSurrounding=!0}};mt=u([C.RegisterAction],mt),t.MoveASquareBracket=mt;let gt=class extends Ye{constructor(){super(...arguments),this.keys=["a","]"],this.charToMatch="[",this.includeSurrounding=!0}};gt=u([C.RegisterAction],gt);class vt extends k{constructor(){super(...arguments),this.modes=[g.ModeName.Normal,g.ModeName.Visual,g.ModeName.VisualBlock],this.includeSurrounding=!1,this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){const r=w.TextEditor.getLineAt(e).text,n=new h.QuoteMatcher(this.charToMatch,r),i=n.findOpening(e.character),o=n.findClosing(i+1);if(-1===i||-1===o||o===i||o<e.character)return{start:e,stop:e,failed:!0};let s=new p.Position(e.line,i),a=new p.Position(e.line,o);return this.includeSurrounding||(s=s.getRight(),a=a.getLeft()),e.isBefore(s)&&(t.recordedState.operatorPositionDiff=s.subtract(e)),{start:s,stop:a}})}execActionForOperator(e,t){return c(this,void 0,void 0,function*(){const r=yield this.execAction(e,t);return S(r)&&(r.failed?(t.recordedState.hasRunOperator=!1,t.recordedState.actionsRun=[]):r.stop=r.stop.getRight()),r})}}t.MoveQuoteMatch=vt;let yt=class extends vt{constructor(){super(...arguments),this.keys=["i","'"],this.charToMatch="'",this.includeSurrounding=!1}};yt=u([C.RegisterAction],yt);let xt=class extends vt{constructor(){super(...arguments),this.keys=["a","'"],this.charToMatch="'",this.includeSurrounding=!0}};xt=u([C.RegisterAction],xt),t.MoveASingleQuotes=xt;let wt=class extends vt{constructor(){super(...arguments),this.keys=["i",'"'],this.charToMatch='"',this.includeSurrounding=!1}};wt=u([C.RegisterAction],wt);let bt=class extends vt{constructor(){super(...arguments),this.keys=["a",'"'],this.charToMatch='"',this.includeSurrounding=!0}};bt=u([C.RegisterAction],bt),t.MoveADoubleQuotes=bt;let Ct=class extends vt{constructor(){super(...arguments),this.keys=["i","`"],this.charToMatch="`",this.includeSurrounding=!1}};Ct=u([C.RegisterAction],Ct);let _t=class extends vt{constructor(){super(...arguments),this.keys=["a","`"],this.charToMatch="`",this.includeSurrounding=!0}};_t=u([C.RegisterAction],_t),t.MoveABacktick=_t;let Mt=class extends Ge{constructor(){super(...arguments),this.keys=["[","("]}execAction(e,t){return c(this,void 0,void 0,function*(){const t={start:e,stop:e,failed:!0},r=d.PairMatcher.nextPairedChar(e,")");return r||t})}};Mt=u([C.RegisterAction],Mt);let St=class extends Ge{constructor(){super(...arguments),this.keys=["]",")"]}execAction(e,t){return c(this,void 0,void 0,function*(){const r={start:e,stop:e,failed:!0},n=d.PairMatcher.nextPairedChar(e,"(");return n?t.recordedState.operator instanceof _.ChangeOperator||t.recordedState.operator instanceof _.DeleteOperator||t.recordedState.operator instanceof _.YankOperator?n.getLeftThroughLineBreaks():n:r})}};St=u([C.RegisterAction],St);let Et=class extends Ge{constructor(){super(...arguments),this.keys=["[","{"]}execAction(e,t){return c(this,void 0,void 0,function*(){const t={start:e,stop:e,failed:!0},r=d.PairMatcher.nextPairedChar(e,"}");return r||t})}};Et=u([C.RegisterAction],Et);let kt=class extends Ge{constructor(){super(...arguments),this.keys=["]","}"]}execAction(e,t){return c(this,void 0,void 0,function*(){const r={start:e,stop:e,failed:!0},n=d.PairMatcher.nextPairedChar(e,"{");return n?t.recordedState.operator instanceof _.ChangeOperator||t.recordedState.operator instanceof _.DeleteOperator||t.recordedState.operator instanceof _.YankOperator?n.getLeftThroughLineBreaks():n:r})}};kt=u([C.RegisterAction],kt);class At extends A{constructor(){super(...arguments),this.modes=[g.ModeName.Normal,g.ModeName.Visual,g.ModeName.VisualBlock],this.includeTag=!1,this.isJump=!0}execAction(e,t){return c(this,void 0,void 0,function*(){const r=w.TextEditor.getText(),n=w.TextEditor.getOffsetAt(e),i=new f.TagMatcher(r,n,t),o=new p.Position(t.cursorStartPosition.line,t.cursorStartPosition.character),s=i.findOpening(this.includeTag),a=i.findClosing(this.includeTag);if(void 0===s||void 0===a)return{start:o,stop:e,failed:!0};let u=s>=0?w.TextEditor.getPositionAt(s):o,c=a>=0?w.TextEditor.getPositionAt(a):e;return t.currentMode!==g.ModeName.Visual&&t.currentMode!==g.ModeName.SurroundInputMode||(c=c.getLeftThroughLineBreaks()),e.isAfter(c)?t.recordedState.transformations.push({type:"moveCursor",diff:c.subtract(e)}):e.isBefore(u)&&t.recordedState.transformations.push({type:"moveCursor",diff:u.subtract(e)}),t.cursorStartPosition=u,{start:u,stop:c}})}}let Pt=class extends At{constructor(){super(...arguments),this.keys=["i","t"],this.includeTag=!1}};Pt=u([C.RegisterAction],Pt),t.MoveInsideTag=Pt;let Rt=class extends At{constructor(){super(...arguments),this.keys=["a","t"],this.includeTag=!0}};Rt=u([C.RegisterAction],Rt),t.MoveAroundTag=Rt;class Nt extends k{constructor(){super(...arguments),this.modes=[g.ModeName.Insert]}execAction(e,t){return c(this,void 0,void 0,function*(){t.recordedState.actionsRun=[t.recordedState.actionsRun.shift(),t.recordedState.actionsRun.pop()];let r=e;switch(this.keys[0]){case"<up>":r=yield(new O).execAction(e,t);break;case"<down>":r=yield(new L).execAction(e,t);break;case"<left>":r=yield new K(this.keysPressed).execAction(e,t);break;case"<right>":r=yield new Y(this.keysPressed).execAction(e,t)}return t.replaceState=new y.ReplaceState(r),r})}}t.ArrowsInInsertMode=Nt;let Tt=class extends Nt{constructor(){super(...arguments),this.keys=["<up>"]}};Tt=u([C.RegisterAction],Tt);let Lt=class extends Nt{constructor(){super(...arguments),this.keys=["<down>"]}};Lt=u([C.RegisterAction],Lt);let Ft=class extends Nt{constructor(){super(...arguments),this.keys=["<left>"]}};Ft=u([C.RegisterAction],Ft);let Bt=class extends Nt{constructor(){super(...arguments),this.keys=["<right>"]}};Bt=u([C.RegisterAction],Bt)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21),i=r(1),o=r(3),s=r(18),a=r(22);class u{constructor(){this.commandList=[],this.actionKeys=[],this.actionsRun=[],this.hasRunOperator=!1,this.hasRunSurround=!1,this.surroundKeys=[],this.surroundKeyIndexStart=0,this.isInsertion=!1,this.transformations=[],this.count=0,this.registerName=i.configuration.useSystemClipboard?"*":'"'}get commandString(){let e="";for(const t of this.commandList)t===i.configuration.leader?e+="<leader>":e+=t;return e}get commandWithoutCountPrefix(){return this.commandList.join("").replace(/^[0-9]+/g,"")}resetCommandList(){this.commandList=[]}get operator(){return n.filter(this.actionsRun,e=>e instanceof a.BaseOperator).reverse()[0]}get operators(){return n.filter(this.actionsRun,e=>e instanceof a.BaseOperator).reverse()}get command(){return n.filter(this.actionsRun,e=>e instanceof s.BaseCommand).reverse()[0]}get hasRunAMovement(){return n.filter(this.actionsRun,e=>e.isMotion).length>0}clone(){const e=new u;return e.actionKeys=this.actionKeys.slice(0),e.actionsRun=this.actionsRun.slice(0),e.hasRunOperator=this.hasRunOperator,e.hasRunSurround=this.hasRunSurround,e.surroundKeys=this.surroundKeys,e}operatorReadyToExecute(e){return this.operator&&!this.hasRunOperator&&e!==o.ModeName.SearchInProgressMode&&e!==o.ModeName.CommandlineInProgress&&(this.hasRunAMovement||e===o.ModeName.Visual||e===o.ModeName.VisualLine||this.operators.length>1&&this.operators.reverse()[0].constructor===this.operators.reverse()[1].constructor)}}t.RecordedState=u},function(e,t,r){"use strict";const n=r(6),i=r(85),{LEVEL:o}=r(4),s=e.exports=function(e={}){i.call(this,{objectMode:!0}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",e=>{this.levels=e.levels,this.parent=e}),this.once("unpipe",e=>{e===this.parent&&(this.parent=null,this.close&&this.close())})};n.inherits(s,i),s.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);const n=this.level||this.parent&&this.parent.level;if(!n||this.levels[n]>=this.levels[e[o]]){if(e&&!this.format)return this.log(e,r);let t,n;try{n=this.format.transform(Object.assign({},e),this.format.options)}catch(e){t=e}if(t||!n){if(r(),t)throw t;return}return this.log(n,r)}return r(null)},s.prototype._writev=function(e,t){if(this.logv){const r=e.filter(this._accept,this);return r.length?this.logv(r,t):t(null)}for(let r=0;r<e.length;r++){if(!this._accept(e[r]))continue;if(e[r].chunk&&!this.format){this.log(e[r].chunk,e[r].callback);continue}let n,i;try{i=this.format.transform(Object.assign({},e[r].chunk),this.format.options)}catch(e){n=e}if(n||!i){if(e[r].callback(),n)throw t(null),n}else this.log(i,e[r].callback)}return t(null)},s.prototype._accept=function(e){const t=e.chunk;if(this.silent)return!1;const r=this.level||this.parent&&this.parent.level;return!(!0!==t.exception&&r&&!(this.levels[r]>=this.levels[t[o]])||!this.handleExceptions&&!0===t.exception)},s.prototype._nop=function(){}},function(e,t,r){try{var n=r(6);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(153)}},function(e,t,r){"use strict";var n=r(38),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var o=r(32);o.inherits=r(27);var s=r(88),a=r(55);o.inherits(d,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var l=u[c];d.prototype[l]||(d.prototype[l]=a.prototype[l])}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){var n=r(31);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n,(t=e.exports=n.Readable).Readable=n.Readable,t.Writable=n.Writable,t.Duplex=n.Duplex,t.Transform=n.Transform,t.PassThrough=n.PassThrough,t.Stream=n):((t=e.exports=r(88)).Stream=n||t,t.Readable=t,t.Writable=r(55),t.Duplex=r(28),t.Transform=r(100),t.PassThrough=r(189))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Unknown=0]="Unknown",e[e.Eof=1]="Eof",e[e.LineNumber=2]="LineNumber",e[e.Dot=3]="Dot",e[e.Dollar=4]="Dollar",e[e.Percent=5]="Percent",e[e.Comma=6]="Comma",e[e.Plus=7]="Plus",e[e.Minus=8]="Minus",e[e.CommandName=9]="CommandName",e[e.CommandArgs=10]="CommandArgs",e[e.ForwardSearch=11]="ForwardSearch",e[e.ReverseSearch=12]="ReverseSearch",e[e.Offset=13]="Offset",e[e.SelectionFirstLine=14]="SelectionFirstLine",e[e.SelectionLastLine=15]="SelectionLastLine",e[e.Mark=16]="Mark"}(t.TokenType||(t.TokenType={}));t.Token=class{constructor(e,t){this.type=e,this.content=t}}},function(e,t){e.exports=require("stream")},function(e,t){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0);t.Message=class{static ShowInfo(e){return n(this,void 0,void 0,function*(){return i.window.showInformationMessage("Vim: "+e)})}static ShowError(e){return n(this,void 0,void 0,function*(){return i.window.showErrorMessage("Vim: "+e)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{}n.isTesting=!1,t.Globals=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(2),s=r(14),a=r(13),u=r(20),c=r(221);function l(e=0,t=!1){return n(this,void 0,void 0,function*(){yield new Promise((r,n)=>{let o=setTimeout(t?n:r,e);const s=i.window.onDidChangeTextEditorSelection(e=>{s.dispose(),clearTimeout(o),r()})})})}t.waitForCursorSync=l,t.getCursorsAfterSync=function(e=0){return n(this,void 0,void 0,function*(){try{yield l(e,!0)}catch(t){a.logger.warn(`getCursorsAfterSync: selection not updated within ${e}ms. error=${t}.`)}return i.window.activeTextEditor.selections.map(e=>new s.Range(o.Position.FromVSCodePosition(e.start),o.Position.FromVSCodePosition(e.end)))})},t.getExtensionDirPath=function(){const e=new c("VSCodeVim");return a.logger.debug("VSCodeVim Cache Directory: "+e.userCache()),e.userCache()},t.executeShell=function(e){return new Promise((t,r)=>{try{u.exec(e,(e,n,i)=>{e?r(e):t(n)})}catch(e){r(e)}})}},function(e,t,r){"use strict";const n=r(71),{LEVEL:i}=r(4);n.enabled=!0;const o=/\s+/;class s{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){const t=Object.keys(e).reduce((t,r)=>(t[r]=o.test(e[r])?e[r].split(o):e[r],t),{});return s.allColors=Object.assign({},s.allColors||{},t),s.allColors}addColors(e){return s.addColors(e)}colorize(e,t,r){if(void 0===r&&(r=t),!Array.isArray(s.allColors[e]))return n[s.allColors[e]](r);for(let t=0,i=s.allColors[e].length;t<i;t++)r=n[s.allColors[e][t]](r);return r}transform(e,t){return(t.level||t.all||!t.message)&&(e.level=this.colorize(e[i],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[i],e.level,e.message)),e}}e.exports=(e=>new s(e)),e.exports.Colorizer=e.exports.Format=s},function(e,t,r){"use strict";!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,n)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick(function(){e.apply(null,i)})}}}:e.exports=process},function(e,t){e.exports=require("events")},function(e,t,r){var n=r(161),i=r(94);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var n,i=r(164),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(e){return s&&"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){return a(e)?(0,o.default)(e):e},t.isAsync=a},function(e,t,r){"use strict";const n=r(20),i=r(6),o=r(225),s=r(245),a=r(246),u=r(61),c=r(248),l=r(250),d=r(251),h=r(253),f=r(254),p=1e7;function m(e,t,r){let n;return(r=Object.assign({extendEnv:!0,env:{}},r)).extendEnv&&(r.env=Object.assign({},process.env,r.env)),!0===r.__winShell?(delete r.__winShell,n={command:e,args:t,options:r,file:e,original:e}):n=o._parse(e,t,r),(r=Object.assign({maxBuffer:p,stripEof:!0,preferLocal:!0,localDir:n.options.cwd||process.cwd(),encoding:"utf8",reject:!0,cleanup:!0},n.options)).stdio=f(r),r.preferLocal&&(r.env=a.env(Object.assign({},r,{cwd:r.localDir}))),{cmd:n.command,args:n.args,opts:r,parsed:n}}function g(e,t){return t&&e.stripEof&&(t=s(t)),t}function v(e,t,r){let n="/bin/sh",i=["-c",t];return r=Object.assign({},r),"win32"===process.platform&&(r.__winShell=!0,n=process.env.comspec||"cmd.exe",i=["/s","/c",`"${t}"`],r.windowsVerbatimArguments=!0),r.shell&&(n=r.shell,delete r.shell),e(n,i,r)}function y(e,t,r,n){if(!e[t])return null;let i;return(i=r?c(e[t],{encoding:r,maxBuffer:n}):c.buffer(e[t],{maxBuffer:n})).catch(e=>{throw e.stream=t,e.message=`${t} ${e.message}`,e})}e.exports=((e,t,r)=>{let i=e;Array.isArray(t)&&t.length>0&&(i+=" "+t.join(" "));const s=m(e,t,r),a=s.opts.encoding,c=s.opts.maxBuffer;let f,p;try{f=n.spawn(s.cmd,s.args,s.opts)}catch(e){return Promise.reject(e)}s.opts.cleanup&&(p=d(()=>{f.kill()}));let v=null,x=!1;const w=()=>{v&&(clearTimeout(v),v=null)};s.opts.timeout>0&&(v=setTimeout(()=>{v=null,x=!0,f.kill(s.opts.killSignal)},s.opts.timeout));const b=new Promise(e=>{f.on("exit",(t,r)=>{w(),e({code:t,signal:r})}),f.on("error",t=>{w(),e({err:t})}),f.stdin&&f.stdin.on("error",t=>{w(),e({err:t})})});function C(){f.stdout&&f.stdout.destroy(),f.stderr&&f.stderr.destroy()}const _=()=>l(Promise.all([b,y(f,"stdout",a,c),y(f,"stderr",a,c)]).then(e=>{const t=e[0],r=e[1],n=e[2];let o=t.err;const a=t.code,u=t.signal;if(p&&p(),o||0!==a||null!==u){if(!o){let e="";Array.isArray(s.opts.stdio)?("inherit"!==s.opts.stdio[2]&&(e+=e.length>0?n:`\n${n}`),"inherit"!==s.opts.stdio[1]&&(e+=`\n${r}`)):"inherit"!==s.opts.stdio&&(e=`\n${n}${r}`),(o=new Error(`Command failed: ${i}${e}`)).code=a<0?h(a):a}if(o.killed=o.killed||f.killed,o.stdout=r,o.stderr=n,o.failed=!0,o.signal=u||null,o.cmd=i,o.timedOut=x,!s.opts.reject)return o;throw o}return{stdout:g(s.opts,r),stderr:g(s.opts,n),code:0,failed:!1,killed:!1,signal:null,cmd:i,timedOut:!1}}),C);return o._enoent.hookChildProcess(f,s.parsed),function(e,t){const r=t.input;null!=r&&(u(r)?r.pipe(e.stdin):e.stdin.end(r))}(f,s.opts),f.then=((e,t)=>_().then(e,t)),f.catch=(e=>_().catch(e)),f}),e.exports.stdout=function(){return e.exports.apply(null,arguments).then(e=>e.stdout)},e.exports.stderr=function(){return e.exports.apply(null,arguments).then(e=>e.stderr)},e.exports.shell=((t,r)=>v(e.exports,t,r)),e.exports.sync=((e,t,r)=>{const i=m(e,t,r);if(u(i.opts.input))throw new TypeError("The `input` option cannot be a stream in sync mode");const o=n.spawnSync(i.cmd,i.args,i.opts);if(o.error||0!==o.status)throw o.error||new Error(""===o.stderr?o.stdout:o.stderr);return o.stdout=g(i.opts,o.stdout),o.stderr=g(i.opts,o.stderr),o}),e.exports.shellSync=((t,r)=>v(e.exports.sync,t,r)),e.exports.spawn=i.deprecate(e.exports,"execa.spawn() is deprecated. Use execa() instead.")},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(16),s=r(7);t.QuitCommand=class extends s.CommandBase{constructor(e){super(),this._name="quit",this._arguments=e}get arguments(){return this._arguments}execute(){return n(this,void 0,void 0,function*(){if(this.activeTextEditor.document.isDirty&&!this.arguments.bang)throw o.VimError.fromCode(o.ErrorCode.E37);if(this._arguments.quitAll)yield i.commands.executeCommand("workbench.action.closeAllEditors");else{let e=this.activeTextEditor.viewColumn;this.arguments.bang?yield i.commands.executeCommand("workbench.action.revertAndCloseActiveEditor"):yield i.commands.executeCommand("workbench.action.closeActiveEditor"),void 0!==i.window.activeTextEditor&&i.window.activeTextEditor.viewColumn===e&&(yield i.commands.executeCommand("workbench.action.previousEditor"))}})}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(1),s=r(13),a=r(33),u=r(45),c=r(261),l=r(16),d=r(116),h=r(3);t.commandLine=new class{constructor(){this._commandLineHistoryIndex=0,this.previousMode=h.ModeName.Normal,this._history=new d.CommandLineHistory}get commandlineHistoryIndex(){return this._commandLineHistoryIndex}set commandlineHistoryIndex(e){this._commandLineHistoryIndex=e}get historyEntries(){return this._history.get()}Run(e,t){return n(this,void 0,void 0,function*(){if(e&&0!==e.length){e&&":"===e[0]&&(e=e.slice(1)),this._history.add(e),this._commandLineHistoryIndex=this._history.get().length;try{const n=c.parse(e);if(o.configuration.enableNeovim&&n.command&&n.command.neovimCapable){var r=yield t.nvim.run(t,e);u.StatusBar.SetText(r,t.currentMode,t.isRecordingMacro,!0,!0)}else yield n.execute(t.editor,t)}catch(r){r instanceof l.VimError?r.code===l.ErrorCode.E492&&o.configuration.enableNeovim?yield t.nvim.run(t,e):u.StatusBar.SetText(`${r.toString()}. ${e}`,t.currentMode,t.isRecordingMacro,!0,!0):(s.logger.error(`commandLine : error executing cmd=${e}. err=${r}.`),a.Message.ShowError(r.toString()))}}})}PromptAndRun(e,t){return n(this,void 0,void 0,function*(){if(!i.window.activeTextEditor)return void s.logger.debug("commandLine : No active document");let r=yield i.window.showInputBox(this.getInputBoxOptions(e));yield this.Run(r,t)})}getInputBoxOptions(e){return{prompt:"Vim command line",value:e,ignoreFocusOut:!1,valueSelection:[e.length,e.length]}}ShowHistory(e,t){return n(this,void 0,void 0,function*(){return i.window.activeTextEditor?(this._history.add(e),yield i.window.showQuickPick(this._history.get().slice().reverse(),{placeHolder:"Vim command history",ignoreFocusOut:!1})):(s.logger.debug("commandLine : No active document."),"")})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(3);t.StatusBar=new class{constructor(){this._statusBarItem=n.window.createStatusBarItem(n.StatusBarAlignment.Left),this._prevModeNameForText=void 0,this._prevModeNameForColor=void 0,this._isRecordingMacro=!1,this._isErrorCurrentlyShown=!0}SetText(e,t,r,n=!1,o=!1){let s=this._prevModeNameForText!==t||this._isRecordingMacro!==r||n;s=s&&!this._isErrorCurrentlyShown,o&&(this._isErrorCurrentlyShown=!0),this._prevModeNameForText!==t&&t!==i.ModeName.Normal&&(this._isErrorCurrentlyShown=!1),this._prevModeNameForText=t,this._isRecordingMacro=r,s&&(this._statusBarItem.text=e||"",this._statusBarItem.show())}SetColor(e,t,r){if(this._prevModeNameForColor===e)return;this._prevModeNameForColor=e;const i=n.workspace.getConfiguration("workbench").get("colorCustomizations"),o=Object.assign(i||{},{"statusBar.background":`${t}`,"statusBar.noFolderBackground":`${t}`,"statusBar.debuggingBackground":`${t}`,"statusBar.foreground":`${r}`});void 0===r&&delete o["statusBar.foreground"],n.workspace.getConfiguration("workbench").update("colorCustomizations",o,!0)}dispose(){this._statusBarItem.dispose()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor({editor:e,fileName:t,position:r}){this.editor=e,this.fileName=t,this.position=r}static fromStateNow(e){return new n({editor:e.editor,fileName:e.editor.document.fileName,position:e.cursorPosition})}static fromStateBefore(e){return new n({editor:e.editor,fileName:e.editor.document.fileName,position:e.cursorPositionJustBeforeAnythingHappened[0]})}onSameLine(e){return!e||this.fileName===e.fileName&&this.position.line===e.position.line}}t.Jump=n},function(e,t,r){var n=r(302),i=r(6),o=r(23).Buffer;function s(e){if(!(this instanceof s))return new s(e);if(this._bufs=[],this.length=0,"function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)})}else this.append(e);n.call(this)}i.inherits(s,n),s.prototype._offset=function(e){var t,r=0,n=0;if(0===e)return[0,0];for(;n<this._bufs.length;n++){if(e<(t=r+this._bufs[n].length)||n==this._bufs.length-1)return[n,e-r];r=t}},s.prototype.append=function(e){var t=0;if(o.isBuffer(e))this._appendBuffer(e);else if(Array.isArray(e))for(;t<e.length;t++)this.append(e[t]);else if(e instanceof s)for(;t<e._bufs.length;t++)this.append(e._bufs[t]);else null!=e&&("number"==typeof e&&(e=e.toString()),this._appendBuffer(o.from(e)));return this},s.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},s.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype.get=function(e){return this.slice(e,e+1)[0]},s.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},s.prototype.copy=function(e,t,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return e||o.alloc(0);if(n<=0)return e||o.alloc(0);var i,s,a=!!e,u=this._offset(r),c=n-r,l=c,d=a&&t||0,h=u[1];if(0===r&&n==this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:o.concat(this._bufs,this.length);for(s=0;s<this._bufs.length;s++)this._bufs[s].copy(e,d),d+=this._bufs[s].length;return e}if(l<=this._bufs[u[0]].length-h)return a?this._bufs[u[0]].copy(e,t,h,h+l):this._bufs[u[0]].slice(h,h+l);for(a||(e=o.allocUnsafe(c)),s=u[0];s<this._bufs.length;s++){if(!(l>(i=this._bufs[s].length-h))){this._bufs[s].copy(e,d,h,h+l);break}this._bufs[s].copy(e,d,h),d+=i,l-=i,h&&(h=0)}return e},s.prototype.shallowSlice=function(e,t){e=e||0,t=t||this.length,e<0&&(e+=this.length),t<0&&(t+=this.length);var r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0==n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!=r[1]&&(i[0]=i[0].slice(r[1])),new s(i)},s.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},s.prototype.consume=function(e){for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},s.prototype.duplicate=function(){for(var e=0,t=new s;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},s.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var t in e)!function(t){s.prototype[t]=function(r){return this.slice(r,r+e[t])[t](0)}}(t)}(),e.exports=s},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(21);t.taskQueue=new class{constructor(){this._taskQueue={}}isRunning(e){return this._taskQueue[e]&&i.filter(this._taskQueue[e].tasks,e=>e.isRunning).length>0}numHighPriority(e){return this._taskQueue[e]?i.filter(this._taskQueue[e].tasks,e=>e.isHighPriority).length:0}runTasks(e){return n(this,void 0,void 0,function*(){for(;this._taskQueue[e].tasks.length>0;){let t=this._taskQueue[e].tasks[0];try{t.isRunning=!0,yield t.promise(),t.isRunning=!1}catch(e){console.error(`TaskQueue: error running task. err=${e}.`)}finally{this.dequeueTask(t)}}})}dequeueTask(e){i.remove(this._taskQueue[e.queue].tasks,t=>t===e)}enqueueTask(e,t="default",r=!1){let n={promise:e,queue:t,isHighPriority:r,isRunning:!1};if(this._taskQueue[t]||(this._taskQueue[t]={tasks:[]}),r){const e=this.numHighPriority(t);this._taskQueue[t].tasks.splice(e,0,n)}else this._taskQueue[t].tasks.push(n);this.isRunning(t)||this.runTasks(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21);class i{static IsControlKey(e){return e=e.toLocaleUpperCase(),this.isSurroundedByAngleBrackets(e)&&"<BS>"!==e&&"<SHIFT+BS>"!==e&&"<TAB>"!==e}static NormalizeKey(e,t){if("string"!=typeof e)return e;if(!this.isSurroundedByAngleBrackets(e)&&e.length>1&&(e=`<${e.toLocaleLowerCase()}>`),"<leader>"===e.toLocaleLowerCase())return t;if(n.includes(["<up>","<down>","<left>","<right>"],e.toLocaleLowerCase()))return e.toLocaleLowerCase();for(const t in this._notationMap)if(this._notationMap.hasOwnProperty(t)){const r=new RegExp(this._notationMap[t].join("|"),"gi");if(r.test(e)){e=e.replace(r,t);break}}return e}static isSurroundedByAngleBrackets(e){return e.startsWith("<")&&e.endsWith(">")}}i._notationMap={"C-":["ctrl\\+","c\\-"],"D-":["cmd\\+","d\\-"],Esc:["escape","esc"],BS:["backspace","bs"],Del:["delete","del"]," ":["<space>"],"\n":["<cr>","<enter>"]},t.Notation=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(3),o=r(3);!function(e){e[e.Insert=0]="Insert",e[e.Append=1]="Append"}(t.VisualBlockInsertionType||(t.VisualBlockInsertionType={}));t.NormalMode=class extends i.Mode{constructor(){super(i.ModeName.Normal,"-- Normal --",o.VSCodeVimCursorType.Block)}};t.InsertMode=class extends i.Mode{constructor(){super(i.ModeName.Insert,"-- Insert --",o.VSCodeVimCursorType.Native)}getStatusBarCommandText(e){return""}};t.VisualMode=class extends i.Mode{constructor(){super(i.ModeName.Visual,"-- Visual --",o.VSCodeVimCursorType.TextDecoration,!0)}};t.VisualBlockMode=class extends i.Mode{constructor(){super(i.ModeName.VisualBlock,"-- Visual Block --",o.VSCodeVimCursorType.TextDecoration,!0)}static getTopLeftPosition(e,t){return new n.Position(Math.min(e.line,t.line),Math.min(e.character,t.character))}static getBottomRightPosition(e,t){return new n.Position(Math.max(e.line,t.line),Math.max(e.character,t.character))}};t.VisualLineMode=class extends i.Mode{constructor(){super(i.ModeName.VisualLine,"-- Visual Line --",o.VSCodeVimCursorType.Block,!0)}};t.SearchInProgressMode=class extends i.Mode{constructor(){super(i.ModeName.SearchInProgressMode,"",o.VSCodeVimCursorType.Block)}getStatusBarText(e){return`/${e.globalState.searchState.searchString}`}getStatusBarCommandText(e){return""}};t.CommandlineInProgress=class extends i.Mode{constructor(){super(i.ModeName.CommandlineInProgress,"",o.VSCodeVimCursorType.Block)}getStatusBarText(e){let t=e.currentCommandlineText.split("");return t.splice(e.statusBarCursorCharacterPos,0,"|"),`:${t.join("")}`}getStatusBarCommandText(e){return""}};t.ReplaceMode=class extends i.Mode{constructor(){super(i.ModeName.Replace,"-- Replace --",o.VSCodeVimCursorType.Underline)}};t.EasyMotionMode=class extends i.Mode{constructor(){super(i.ModeName.EasyMotionMode,"-- EasyMotion --",o.VSCodeVimCursorType.Block)}getStatusBarCommandText(e){return`Target key: ${e.easyMotion.accumulation}`}};t.EasyMotionInputMode=class extends i.Mode{constructor(){super(i.ModeName.EasyMotionInputMode,"-- EasyMotion Input --",o.VSCodeVimCursorType.Block)}getStatusBarCommandText(e){if(!e.easyMotion)return"";const t=e.easyMotion.searchAction.searchCharCount;return(t>0?`Search for ${t} character(s): `:"Search for characters: ")+e.easyMotion.searchAction.getSearchString()}};t.SurroundInputMode=class extends i.Mode{constructor(){super(i.ModeName.SurroundInputMode,"-- Surround Input --",o.VSCodeVimCursorType.Block)}getStatusBarCommandText(e){return e.surround&&e.surround.replacement?e.surround.replacement:""}};t.DisabledMode=class extends i.Mode{constructor(){super(i.ModeName.Disabled,"-- VIM: Disabled --",o.VSCodeVimCursorType.Line)}}},function(e,t,r){"use strict";const{Colorizer:n}=r(37);e.exports=(e=>(n.addColors(e.colors||e),e))},function(e,t,r){"use strict";const{configs:n,LEVEL:i,MESSAGE:o}=r(4);class s{constructor(e={levels:n.npm.levels}){this.paddings=s.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){const t=Object.keys(e).map(e=>e.length);return Math.max(...t)}static paddingForLevel(e,t,r){const n=r+1-e.length,i=Math.floor(n/t.length);return`${t}${t.repeat(i)}`.slice(0,n)}static paddingForLevels(e,t=" "){const r=s.getLongestLevel(e);return Object.keys(e).reduce((e,n)=>(e[n]=s.paddingForLevel(n,t,r),e),{})}transform(e,t){return e.message=`${this.paddings[e[i]]}${e.message}`,e[o]&&(e[o]=`${this.paddings[e[i]]}${e[o]}`),e}}e.exports=(e=>new s(e)),e.exports.Padder=e.exports.Format=s},function(e,t,r){"use strict";const n=r(10),{MESSAGE:i}=r(4),o=r(54);function s(e,t){return t instanceof Buffer?t.toString("base64"):t}e.exports=n((e,t)=>(e[i]=o(e,t.replacer||s,t.space),e))},function(e,t){e.exports=n,n.default=n,n.stable=o,n.stableStringify=o;var r=[];function n(e,t,n){!function e(t,n,i,o){var s;if("object"==typeof t&&null!==t){for(s=0;s<i.length;s++)if(i[s]===t)return o[n]="[Circular]",void r.push([o,n,t]);if(i.push(t),Array.isArray(t))for(s=0;s<t.length;s++)e(t[s],s,i,t);else{var a=Object.keys(t);for(s=0;s<a.length;s++){var u=a[s];e(t[u],u,i,t)}}i.pop()}}(e,"",[],void 0);for(var i=JSON.stringify(e,t,n);0!==r.length;){var o=r.pop();o[0][o[1]]=o[2]}return i}function i(e,t){return e<t?-1:e>t?1:0}function o(e,t,n){for(var o=function e(t,n,o,s){var a;if("object"==typeof t&&null!==t){for(a=0;a<o.length;a++)if(o[a]===t)return s[n]="[Circular]",void r.push([s,n,t]);if("function"==typeof t.toJSON)return;if(o.push(t),Array.isArray(t))for(a=0;a<t.length;a++)e(t[a],a,o,t);else{var u={},c=Object.keys(t).sort(i);for(a=0;a<c.length;a++){var l=c[a];e(t[l],l,o,t),u[l]=t[l]}if(void 0===s)return u;r.push([s,n,t]),s[n]=u}o.pop()}}(e,"",[],void 0)||e,s=JSON.stringify(o,t,n);0!==r.length;){var a=r.pop();a[0][a[1]]=a[2]}return s}},function(e,t,r){"use strict";var n=r(38);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:n.nextTick;g.WritableState=m;var a=r(32);a.inherits=r(27);var u={deprecate:r(154)},c=r(86),l=r(23).Buffer,d=global.Uint8Array||function(){};var h,f=r(87);function p(){}function m(e,t){o=o||r(28),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:a&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),C(e,t))}(e,r,i,t,o);else{var a=w(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||x(e,r),i?s(y,e,r,a,o):y(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||r(28),!(h.call(g,this)||this instanceof o))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function v(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)o[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;o.allBuffers=u,v(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,d=r.callback;if(v(e,t,!1,t.objectMode?1:c.length,c,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function b(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function C(e,t){var r=w(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(b,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}a.inherits(g,c),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===g&&(e&&e._writableState instanceof m)}})):h=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,r){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,l.isBuffer(i)||i instanceof d);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=p),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}(this,r):(a||function(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,n,i,o);return u}(this,o,a,e,t,r)),s},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,r){t.ending=!0,C(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=f.destroy,g.prototype._undestroy=f.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(90),i=r(162),o=r(163),s="[object Null]",a="[object Undefined]",u=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:s:u&&u in Object(e)?i(e):o(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=e[t+i];return n},e.exports=t.default},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){"use strict";var n=r(190),i=r(198),o=r(200),s=r(6),a=r(203).isatty(1),u=process.stdout;function c(e,t){return i(e)?((t=t||{}).colors="colors"in t?t.colors:a,t.ansi=t.colors?o(e,n(e)):e,t.stream=t.stream||u,Array.isArray(t.stream)||(t.stream=[t.stream]),function(e){e instanceof Error&&(e=e.stack||e.message||e),e=[t.ansi," ",e].join(""),e=s.format.apply(this,[e].concat(Array.prototype.slice.call(arguments,1)))+"\n",t.stream.forEach(function(t){t.write(e)})}):function(){}}c.to=function(e){return u=e,c},e.exports=c},function(e,t,r){"use strict";var n=e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe};n.writable=function(e){return n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState},n.readable=function(e){return n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState},n.duplex=function(e){return n.writable(e)&&n.readable(e)},n.transform=function(e){return n.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState}},function(e,t,r){"use strict";const n=r(17),{configs:i}=r(4);t.cli=n.levels(i.cli),t.npm=n.levels(i.npm),t.syslog=n.levels(i.syslog),t.addColors=n.levels},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(13),i=r(223);t.Clipboard=class{static Copy(e){try{i.writeSync(e)}catch(e){n.logger.error(e,`Clipboard: Error copying to clipboard. err=${e}`)}}static Paste(){return i.readSync()}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(8),o=r(9),s=r(0),a=r(7),u=r(33),c=r(259);var l;!function(e){e[e.NewWindowVerticalSplit=0]="NewWindowVerticalSplit",e[e.NewWindowHorizontalSplit=1]="NewWindowHorizontalSplit"}(l=t.FilePosition||(t.FilePosition={}));t.FileCommand=class extends a.CommandBase{constructor(e){super(),this._name="file",this._arguments=e}get arguments(){return this._arguments}execute(){return n(this,void 0,void 0,function*(){if(this._arguments.bang)return void(yield s.commands.executeCommand("workbench.action.files.revert"));let e=s.window.activeTextEditor.document.uri.fsPath,t=!1;this._arguments.position===l.NewWindowVerticalSplit&&(yield s.commands.executeCommand("workbench.action.splitEditorRight"),t=!0),this._arguments.position===l.NewWindowHorizontalSplit&&(yield s.commands.executeCommand("workbench.action.splitEditorDown"),t=!0);let r=function(){return n(this,void 0,void 0,function*(){!0===t&&(yield s.commands.executeCommand("workbench.action.previousEditor"),yield s.commands.executeCommand("workbench.action.closeActiveEditor"))})};if(void 0===this._arguments.name)return void(!0===this._arguments.createFileIfNotExists&&(yield s.commands.executeCommand("workbench.action.files.newUntitledFile"),yield r()));let a="";if(""===this._arguments.name){if(!0===t)return;const e=yield s.window.showOpenDialog({});e&&(a=e[0].fsPath)}else if(this._arguments.name=c(this._arguments.name),(a=o.isAbsolute(this._arguments.name)?this._arguments.name:o.join(o.dirname(e),this._arguments.name))!==e&&!i.existsSync(a)){if(""===o.extname(a)){const t=a+o.extname(e);i.existsSync(t)&&(a=t)}if(!this._arguments.createFileIfNotExists)return void u.Message.ShowError("This file "+a+" does not exist.");i.closeSync(i.openSync(a,"w"))}const d=yield s.workspace.openTextDocument(a);s.window.showTextDocument(d),this.arguments.lineNumber&&s.window.activeTextEditor.revealRange(new s.Range(new s.Position(this.arguments.lineNumber,0),new s.Position(this.arguments.lineNumber,0))),yield r()})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(1),o=r(2),s=r(3),a=r(5);var u;!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(u=t.SearchDirection||(t.SearchDirection={}));class c{constructor(e,t,r="",{isRegex:n=!1}={},i){this.previousMode=s.ModeName.Normal,this._matchRanges=[],this._searchDirection=u.Forward,this._searchString="",this._searchDirection=e,this._searchCursorStartPosition=t,this.isRegex=n,this.searchString=r,this.previousMode=i}get matchRanges(){return this._matchRanges}get searchCursorStartPosition(){return this._searchCursorStartPosition}get searchString(){return this._searchString}set searchString(e){this._searchString!==e&&(this._searchString=e,this._recalculateSearchRanges({forceRecalc:!0}))}_recalculateSearchRanges({forceRecalc:e}={}){const t=this.searchString;if(""!==t&&a.TextEditor.isActive&&(this._cachedDocumentName!==a.TextEditor.getDocumentName()||this._cachedDocumentVersion!==a.TextEditor.getDocumentVersion()||e)){this._cachedDocumentVersion=a.TextEditor.getDocumentVersion(),this._cachedDocumentName=a.TextEditor.getDocumentName(),this._matchRanges=[];let e=i.configuration.ignorecase;e&&i.configuration.smartcase&&/[A-Z]/.test(t)&&(e=!1);let r=t.match(c.caseOverrideRegex),s=t;r&&(s=t.replace(c.caseOverrideRegex,""),e="c"===r[0][1]),this.isRegex||(s=t.replace(c.specialCharactersRegex,"\\$&"));const u=e?"gim":"gm";let l;try{l=new RegExp(s,u)}catch(e){s=t.replace(c.specialCharactersRegex,"\\$&"),l=new RegExp(s,u)}const d=new o.Position(a.TextEditor.getLineCount()-1,0).getLineEndIncludingEOL(),h=a.TextEditor.getText(new n.Range(new o.Position(0,0),d)),f=h.split("\n").map(e=>e.length+1);let p=[],m=0;for(const e of f)p.push(m),m+=e;const g=(e,t,r,n)=>{const i=Math.floor((t+r)/2);return t===r-1?new o.Position(t,e-n[i]):n[i]>e?g(e,t,i,n):g(e,i,r,n)},v=n.window.activeTextEditor.selection,y=p[Math.min(v.start.line,v.end.line)]+v.active.character;l.lastIndex=y;let x=l.exec(h),w=!1;do{if(x||w||(l.lastIndex=0,w=!0,x=l.exec(h)),!x)break;if(this._matchRanges.length>=c.MAX_SEARCH_RANGES)break;this._matchRanges.push(new n.Range(g(x.index,0,p.length,p),g(x.index+x[0].length,0,p.length,p))),x.index===l.lastIndex&&l.lastIndex++,(x=l.exec(h))||w||(l.lastIndex=0,w=!0,x=l.exec(h))}while(x&&!(w&&x.index>y));this._matchRanges.sort((e,t)=>e.start.line<t.start.line||e.start.line===t.start.line&&e.start.character<t.start.character?-1:1)}}getNextSearchMatchPosition(e,t=1){const{start:r,match:n}=this.getNextSearchMatchRange(e,t);return{pos:r,match:n}}getNextSearchMatchRange(e,t=1){if(this._recalculateSearchRanges(),0===this._matchRanges.length)return{start:e,end:e,match:!1};if(t*this._searchDirection===u.Forward){for(let t of this._matchRanges)if(t.start.compareTo(e)>0)return{start:o.Position.FromVSCodePosition(t.start),end:o.Position.FromVSCodePosition(t.end),match:!0};const t=this._matchRanges[0];return{start:o.Position.FromVSCodePosition(t.start),end:o.Position.FromVSCodePosition(t.end),match:!0}}{for(let t of this._matchRanges.slice(0).reverse())if(t.start.compareTo(e)<0)return{start:o.Position.FromVSCodePosition(t.start),end:o.Position.FromVSCodePosition(t.end),match:!0};const t=this._matchRanges[this._matchRanges.length-1];return{start:o.Position.FromVSCodePosition(t.start),end:o.Position.FromVSCodePosition(t.end),match:!0}}}getSearchMatchRangeOf(e){if(this._recalculateSearchRanges(),0===this._matchRanges.length)return{start:e,end:e,match:!1};for(let t of this._matchRanges)if(t.start.compareTo(e)<=0&&t.end.compareTo(e)>0)return{start:o.Position.FromVSCodePosition(t.start),end:o.Position.FromVSCodePosition(t.end),match:!0};return{start:e,end:e,match:!1}}}c.MAX_SEARCH_RANGES=1e3,c.specialCharactersRegex=/[\-\[\]{}()*+?.,\\\^$|#\s]/g,c.caseOverrideRegex=/\\[Cc]/g,t.SearchState=c},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=r(2),s=r(14),a=r(3),u=r(15),c=r(5),l=r(12),d=r(24),h=r(22);class f extends d.BaseMovement{constructor(){super(...arguments),this.modes=[a.ModeName.Normal,a.ModeName.Visual,a.ModeName.VisualBlock]}execActionForOperator(e,t){return i(this,void 0,void 0,function*(){const r=yield this.execAction(e,t);return r.stop=new o.Position(r.stop.line,r.stop.character+1),r})}}t.TextObjectMovement=f;let p=class extends f{constructor(){super(...arguments),this.keys=["a","w"]}execAction(e,t){return i(this,void 0,void 0,function*(){let r,n;const i=c.TextEditor.getCharAt(e);return/\s/.test(i)?(r=e.getLastWordEnd().getRight(),n=e.getCurrentWordEnd()):((n=e.getWordRight()).isEqual(n.getFirstLineNonBlankChar())&&(n=n.getLineBegin()),r=(n=n.getLeftThroughLineBreaks().getLeftIfEOL()).isEqual(e.getCurrentWordEnd(!0))&&!e.getWordLeft(!0).isEqual(e.getFirstLineNonBlankChar())&&0===t.recordedState.count?e.getLastWordEnd().getRight():e.getWordLeft(!0)),t.currentMode!==a.ModeName.Visual||t.cursorPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getWordLeft(!0):e.getLastWordEnd().getRight())),{start:r,stop:n}})}};p=n([l.RegisterAction],p),t.SelectWord=p;let m=class extends f{constructor(){super(...arguments),this.keys=["a","W"]}execAction(e,t){return i(this,void 0,void 0,function*(){let r,n;const i=c.TextEditor.getLineAt(e).text[e.character];if(/\s/.test(i))r=e.getLastBigWordEnd().getRight(),n=e.getCurrentBigWordEnd();else{const i=e.getBigWordRight();(i.line>e.line||i.isAtDocumentEnd())&&0===t.recordedState.count?(r=e.getLastBigWordEnd().isLineBeginning()?e.getLastBigWordEnd():e.getLastBigWordEnd().getRight(),n=e.getLineEnd()):(i.isEqual(i.getFirstLineNonBlankChar())||i.isLineEnd())&&0===t.recordedState.count?(r=e.getLastWordEnd().getRight(),n=e.getLineEnd()):(r=e.getBigWordLeft(!0),n=e.getBigWordRight().getLeft())}return t.currentMode!==a.ModeName.Visual||t.cursorPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getBigWordLeft():e.getLastBigWordEnd().getRight())),{start:r,stop:n}})}};m=n([l.RegisterAction],m),t.SelectABigWord=m;let g=class extends d.ExpandingSelection{constructor(){super(...arguments),this.keys=["a","f"],this.modes=[a.ModeName.Visual,a.ModeName.VisualLine]}execAction(e,t){return i(this,void 0,void 0,function*(){const r=[new d.MoveADoubleQuotes,new d.MoveASingleQuotes,new d.MoveABacktick,new d.MoveAClosingCurlyBrace,new d.MoveAParentheses,new d.MoveASquareBracket,new d.MoveAroundTag];let n=[];for(const i of r){const r=new o.Position(e.line,e.character),s=new o.Position(t.cursorStartPosition.line,t.cursorStartPosition.character);n.push(yield i.execAction(r,t)),t.cursorStartPosition=s}n=n.filter(e=>!e.failed);let i=void 0;for(const e of n){const r=new s.Range(t.cursorStartPosition,t.cursorPosition);if(e.failed)continue;const n=s.Range.FromIMovement(e);let o=void 0;if(n.start.isBefore(r.start)&&n.stop.isAfter(r.stop)&&(i?n.start.isAfter(i.start)&&n.stop.isBefore(i.stop)&&(o=n):o=n),o){o.equals(new s.Range(t.cursorStartPosition,t.cursorPosition))||t.currentMode===a.ModeName.VisualLine&&o.start.line===t.cursorStartPosition.line&&o.stop.line===t.cursorPosition.line||(i=o)}}return i?(t.cursorStartPosition=new o.Position(i.start.line,i.start.character),t.cursorPosition=new o.Position(i.stop.line,i.stop.character),t.recordedState.operatorPositionDiff=void 0,{start:i.start,stop:i.stop}):{start:t.cursorStartPosition,stop:t.cursorPosition}})}};g=n([l.RegisterAction],g),t.SelectAnExpandingBlock=g;let v=class extends f{constructor(){super(...arguments),this.modes=[a.ModeName.Normal,a.ModeName.Visual],this.keys=["i","w"]}execAction(e,t){return i(this,void 0,void 0,function*(){let r,n;const i=c.TextEditor.getLineAt(e).text[e.character];return/\s/.test(i)?(r=e.getLastWordEnd().getRight(),n=e.getWordRight().getLeftThroughLineBreaks()):(r=e.getWordLeft(!0),n=e.getCurrentWordEnd(!0)),t.currentMode!==a.ModeName.Visual||t.cursorPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getLastWordEnd().getRight():e.getWordLeft(!0))),{start:r,stop:n}})}};v=n([l.RegisterAction],v),t.SelectInnerWord=v;let y=class extends f{constructor(){super(...arguments),this.modes=[a.ModeName.Normal,a.ModeName.Visual],this.keys=["i","W"]}execAction(e,t){return i(this,void 0,void 0,function*(){let r,n;const i=c.TextEditor.getLineAt(e).text[e.character];return/\s/.test(i)?(r=e.getLastBigWordEnd().getRight(),n=e.getBigWordRight().getLeft()):(r=e.getBigWordLeft(!0),n=e.getCurrentBigWordEnd(!0)),t.currentMode!==a.ModeName.Visual||t.cursorPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getLastBigWordEnd().getRight():e.getBigWordLeft())),{start:r,stop:n}})}};y=n([l.RegisterAction],y),t.SelectInnerBigWord=y;let x=class extends f{constructor(){super(...arguments),this.keys=["a","s"]}execAction(e,t){return i(this,void 0,void 0,function*(){let r,n;const i=e.getSentenceBegin({forward:!1}),o=i.getCurrentSentenceEnd();if(o.isBefore(e))r=o.getRight(),n=i.getSentenceBegin({forward:!0}).getCurrentSentenceEnd();else{const e=i.getSentenceBegin({forward:!0});e.isEqual(i.getCurrentSentenceEnd())?(r=i.getSentenceBegin({forward:!1}).getCurrentSentenceEnd().getRight(),n=e):(r=i,n=e.getLeft())}return t.currentMode!==a.ModeName.Visual||t.cursorPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorPosition.isBefore(t.cursorStartPosition)&&(n=o.isAfter(t.cursorPosition)?i.getSentenceBegin({forward:!1}).getCurrentSentenceEnd().getRight():i)),{start:r,stop:n}})}};x=n([l.RegisterAction],x),t.SelectSentence=x;let w=class extends f{constructor(){super(...arguments),this.keys=["i","s"]}execAction(e,t){return i(this,void 0,void 0,function*(){let r,n;const i=e.getSentenceBegin({forward:!1}),o=i.getCurrentSentenceEnd();return o.isBefore(e)?(r=o.getRight(),n=i.getSentenceBegin({forward:!0}).getLeft()):(r=i,n=o),t.currentMode!==a.ModeName.Visual||t.cursorPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorPosition.isBefore(t.cursorStartPosition)&&(n=o.isAfter(t.cursorPosition)?i:o.getRight())),{start:r,stop:n}})}};w=n([l.RegisterAction],w),t.SelectInnerSentence=w;let b=class extends f{constructor(){super(...arguments),this.keys=["a","p"]}execAction(e,t){return i(this,void 0,void 0,function*(){let r;t.currentRegisterMode=u.RegisterMode.LineWise;const n=e.getCurrentParagraphBeginning(!0);r=e.isLineWhite()?e.getCurrentParagraphBeginning(!0).getCurrentParagraphEnd(!0):n.isLineBeginning()&&n.isLineEnd()?n.getRightThroughLineBreaks():n;let i=e.getCurrentParagraphEnd(!0);for(;i.line<c.TextEditor.getLineCount()-1&&i.getDown(0).isLineWhite();)i=i.getDown(0);return{start:r,stop:i}})}};b=n([l.RegisterAction],b),t.SelectParagraph=b;let C=class extends f{constructor(){super(...arguments),this.keys=["i","p"]}execAction(e,t){return i(this,void 0,void 0,function*(){let r,n;if(t.currentRegisterMode=u.RegisterMode.LineWise,e.isLineWhite()){for(r=e.getLineBegin(),n=e.getLineEnd();r.line>0&&r.getUp(0).isLineWhite();)r=r.getUp(0);for(;n.line<c.TextEditor.getLineCount()-1&&n.getDown(0).isLineWhite();)n=n.getDown(0)}else{const t=e.getCurrentParagraphBeginning(!0);for(n=e.getCurrentParagraphEnd(!0),r=t.isLineWhite()?t.getRightThroughLineBreaks():t;n.line>0&&n.isLineWhite();)n=n.getUp(0).getLineEnd()}return{start:r,stop:n}})}};C=n([l.RegisterAction],C),t.SelectInnerParagraph=C;class _ extends f{constructor(){super(...arguments),this.setsDesiredColumnToEOL=!0,this.includeLineAbove=!1,this.includeLineBelow=!1}execAction(e,t){return i(this,void 0,void 0,function*(){const r=t.recordedState.operator instanceof h.ChangeOperator,n=_.findFirstValidLine(e),i=c.TextEditor.getLineAt(new o.Position(n,0)).firstNonWhitespaceCharacterIndex;let s=_.findRangeStartOrEnd(n,i,-1),u=_.findRangeStartOrEnd(n,i,1);this.includeLineAbove&&(s-=1),s<0&&(s=0),this.includeLineBelow&&(u+=1),u>c.TextEditor.getLineCount()-1&&(u=c.TextEditor.getLineCount()-1);let l,d=0;return r&&(d=c.TextEditor.getLineAt(new o.Position(s,0)).firstNonWhitespaceCharacterIndex),u===c.TextEditor.getLineCount()-1||t.currentMode===a.ModeName.Visual?l=c.TextEditor.getLineMaxColumn(u):(l=0,u++),{start:new o.Position(s,d),stop:new o.Position(u,l)}})}execActionForOperator(e,t){return i(this,void 0,void 0,function*(){return yield this.execAction(e,t)})}static findFirstValidLine(e){for(let t=e.line;t>=0;t--){if(!c.TextEditor.getLineAt(new o.Position(t,0)).isEmptyOrWhitespace)return t}return e.line}static findRangeStartOrEnd(e,t,r){let n=e,i=e;const s=1===r?c.TextEditor.getLineCount():-1;for(;n!==s;n+=r){const e=c.TextEditor.getLineAt(new o.Position(n,0)),r=e.isEmptyOrWhitespace;if(e.firstNonWhitespaceCharacterIndex<t&&!r)break;i=n}return i}}let M=class extends _{constructor(){super(...arguments),this.keys=["i","i"]}};M=n([l.RegisterAction],M);let S=class extends _{constructor(){super(...arguments),this.keys=["a","i"],this.includeLineAbove=!0}};S=n([l.RegisterAction],S);let E=class extends _{constructor(){super(...arguments),this.keys=["a","I"],this.includeLineAbove=!0,this.includeLineBelow=!0}};E=n([l.RegisterAction],E)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(5),o=r(2),s=r(1);class a{static findPairedChar(e,t,r,n,s,u){let c=e.line,l=e.character,d=i.TextEditor.getLineCount(),h=i.TextEditor.getCharAt(e);if(u){let r=u.cursorStartPosition,n=u.cursorPosition;if(r.isEqual(n)&&h===t)return e}for(;a.keepSearching(c,d,s);){let a=i.TextEditor.getLineAt(new o.Position(c,0)).text.split("");const u=a.length;for(c===e.line&&(a=s?a.slice(l+1,u):a.slice(0,l));!(a.length<=0||n<=-1);){let e;if((e=s?a.shift():a.pop())===r)n++;else{if(e!==t)continue;n--}}if(n<=-1){let e;return e=s?Math.max(0,u-a.length-1):a.length,new o.Position(c,e)}s?c++:c--}}static keepSearching(e,t,r){return r?e<=t-1:e>=0}static nextPairedChar(e,t,r){const n=this.pairings[t];if(void 0===n||n.directionless)return;let i;const o=n.match,s=t;return(i=a.findPairedChar(e,o,s,0,n.isNextMatchForward,r))||void 0}static immediateMatchingBracket(e){if(!s.configuration.getConfiguration().get("editor.autoClosingBrackets"))return;const t=new n.Range(e,e.getLeftThroughLineBreaks()),r=n.window.activeTextEditor.document.getText(t);let i,u=!1;if("{[(\"'`".indexOf(r)>-1){const t=e.add(new o.PositionDiff(0,1));i=new n.Range(t,t.getLeftThroughLineBreaks()),u=n.window.activeTextEditor.document.getText(i)===a.pairings[r].match}return u&&i?i:void 0}}a.pairings={"(":{match:")",isNextMatchForward:!0,matchesWithPercentageMotion:!0},"{":{match:"}",isNextMatchForward:!0,matchesWithPercentageMotion:!0},"[":{match:"]",isNextMatchForward:!0,matchesWithPercentageMotion:!0},")":{match:"(",isNextMatchForward:!1,matchesWithPercentageMotion:!0},"}":{match:"{",isNextMatchForward:!1,matchesWithPercentageMotion:!0},"]":{match:"[",isNextMatchForward:!1,matchesWithPercentageMotion:!0},"<":{match:">",isNextMatchForward:!0},">":{match:"<",isNextMatchForward:!1},'"':{match:'"',isNextMatchForward:!1,directionless:!0},"'":{match:"'",isNextMatchForward:!1,directionless:!0},"`":{match:"`",isNextMatchForward:!1,directionless:!0}},t.PairMatcher=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),i=r(69),o=r(2),s=r(14),a=r(117),u=r(295),c=r(15),l=r(118),d=r(25),h=r(298),f=r(308),p=r(13);class m{constructor(e,t=!1){this.desiredColumn=0,this.lastKeyPressedTimestamp=0,this.isMultiCursor=!1,this.isFakeMultiCursor=!1,this.lastMovementFailed=!1,this.alteredHistory=!1,this.isRunningDotCommand=!1,this.dotCommandPreviousVisualSelection=void 0,this.focusChanged=!1,this.surround=void 0,this.returnToInsertAfterCommand=!1,this.actionCount=0,this.postponedCodeViewChanges=[],this.isCurrentlyPerformingRemapping=!1,this.keyHistory=[],this.globalState=new l.GlobalState,this._allCursors=[new s.Range(new o.Position(0,0),new o.Position(0,0))],this.cursorPositionJustBeforeAnythingHappened=[new o.Position(0,0)],this.isRecordingMacro=!1,this.isReplayingMacro=!1,this.replaceState=void 0,this.lastClickWasPastEol=!1,this._currentMode=n.ModeName.Normal,this.currentRegisterMode=c.RegisterMode.AscertainFromCurrentMode,this.registerName='"',this.currentCommandlineText="",this.statusBarCursorCharacterPos=0,this.recordedState=new d.RecordedState,this.recordedMacro=new d.RecordedState,this.editor=e,this.identity=new a.EditorIdentity(e),this.historyTracker=new u.HistoryTracker(this),this.easyMotion=new i.EasyMotion,t&&(this.nvim=new h.Neovim),this._inputMethodSwitcher=new f.InputMethodSwitcher}get cursorPosition(){return this.allCursors[0].stop}set cursorPosition(e){this.allCursors[0]=this.allCursors[0].withNewStop(e)}get cursorStartPosition(){return this.allCursors[0].start}set cursorStartPosition(e){this.allCursors[0]=this.allCursors[0].withNewStart(e)}get allCursors(){return this._allCursors}set allCursors(e){for(const t of e)t.start.isValid()&&t.stop.isValid()||p.logger.debug("VimState: invalid value for set cursor position. This is probably bad?");this._allCursors=e,this.isMultiCursor=this._allCursors.length>1}get currentMode(){return this._currentMode}set currentMode(e){this._inputMethodSwitcher.switchInputMethod(this._currentMode,e),this._currentMode=e}get effectiveRegisterMode(){if(this.currentRegisterMode!==c.RegisterMode.AscertainFromCurrentMode)return this.currentRegisterMode;switch(this.currentMode){case n.ModeName.VisualLine:return c.RegisterMode.LineWise;case n.ModeName.VisualBlock:return c.RegisterMode.BlockWise;default:return c.RegisterMode.CharacterWise}}dispose(){this.nvim&&this.nvim.dispose()}}m.lastSemicolonRepeatableMovement=void 0,m.lastCommaRepeatableMovement=void 0,t.VimState=m;t.ViewChange=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(2),o=r(1),s=r(5),a=r(294);class u{constructor(){this.accumulation="",this._markers=[],this.visibleMarkers=[],this.decorations=[]}get markers(){return this._markers}static createMarkerGenerator(e){return new a.MarkerGenerator(e)}static getDecorationType(e){const t=this.decorationTypeCache[e];if(t)return t;{const t=8*e,r=n.window.createTextEditorDecorationType({after:{margin:`0 0 0 -${t}px`,height:"14px",width:`${t}px; position:absoulute; z-index:99;`}});return this.decorationTypeCache[e]=r,r}}clearDecorations(){const e=n.window.activeTextEditor;for(let t=1;t<=this.decorations.length;t++)e.setDecorations(u.getDecorationType(t),[])}clearMarkers(){this._markers=[],this.visibleMarkers=[]}addMarker(e){this._markers.push(e)}getMarker(e){return this._markers[e]}findMarkers(e,t){return(t?this.visibleMarkers:this._markers).filter(t=>t.name.startsWith(e))}sortedSearch(e,t="",r={}){const n="string"==typeof t?new RegExp(t.replace(u.specialCharactersRegex,"\\$&"),"g"):t,o=[];let a,c=e.character;const l=s.TextEditor.getLineCount(),d=r.min?Math.max(r.min.line,0):0,h=r.max?Math.min(r.max.line+1,l):l;e:for(let t=d;t<h;t++){const l=s.TextEditor.getLineAt(new i.Position(t,0)).text;let d=n.exec(l);for(;d;){if(o.length>=1e3)break e;{const s=new i.Position(t,d.index);r.min&&s.isBefore(r.min)||r.max&&s.isAfter(r.max)||Math.abs(s.line-e.line)>100?d=n.exec(l):(a&&!a.position.isBefore(e)||(c=o.length),s.isEqual(e)?d=n.exec(l):(a=new u.Match(s,d[0],o.length),o.push(a),d=n.exec(l)))}}}return o.sort((e,t)=>{return r(e.index)-r(t.index);function r(e){const t=Math.abs(c-e);return e<c?t-.5:t}}),o}themeColorApiSupported(){return parseInt(n.version.replace(/\./g,""),10)>=1120}getMarkerColor(e,t,r){return this.themeColorApiSupported()?e||new n.ThemeColor(r):e||t}getEasymotionMarkerBackgroundColor(){return this.getMarkerColor(o.configuration.easymotionMarkerBackgroundColor,"#000","activityBarBadge.background")}getEasymotionMarkerForegroundColorOneChar(){return this.getMarkerColor(o.configuration.easymotionMarkerForegroundColorOneChar,"#f00","activityBarBadge.foreground")}getEasymotionMarkerForegroundColorTwoChar(){return this.getMarkerColor(o.configuration.easymotionMarkerForegroundColorTwoChar,"#ffa500","activityBarBadge.foreground")}updateDecorations(){this.clearDecorations(),this.visibleMarkers=[],this.decorations=[];for(const e of this._markers.filter(e=>e.name.startsWith(this.accumulation))){const t=e.position,r=e.name.substr(this.accumulation.length);this.decorations[r.length]||(this.decorations[r.length]=[]);const i=r.length>1?this.getEasymotionMarkerForegroundColorTwoChar():this.getEasymotionMarkerForegroundColorOneChar(),s={after:{contentText:r,backgroundColor:this.getEasymotionMarkerBackgroundColor(),height:`${o.configuration.easymotionMarkerHeight}px`,width:`${r.length*o.configuration.easymotionMarkerWidthPerChar}px`,color:i,textDecoration:`none;\n          font-family: ${o.configuration.easymotionMarkerFontFamily};\n          font-size: ${o.configuration.easymotionMarkerFontSize}px;\n          font-weight: ${o.configuration.easymotionMarkerFontWeight};\n          position: absolute;\n          z-index: 99;\n          bottom: ${o.configuration.easymotionMarkerYOffset}px`}},a=t.character+1+(r.length-1);this.decorations[r.length].push({range:new n.Range(t.line,a,t.line,a),renderOptions:{dark:s,light:s}}),this.visibleMarkers.push(e)}const e=n.window.activeTextEditor;for(let t=1;t<this.decorations.length;t++)this.decorations[t]&&e.setDecorations(u.getDecorationType(t),this.decorations[t])}}u.specialCharactersRegex=/[\-\[\]{}()*+?.,\\\^$|#\s]/g,u.decorationTypeCache=[],t.EasyMotion=u,function(e){e.Marker=class{constructor(e,t){this._name=e,this._position=t}get name(){return this._name}get position(){return this._position}};e.Match=class{constructor(e,t,r){this._position=e,this._text=t,this._index=r}get position(){return this._position}get text(){return this._text}get index(){return this._index}set position(e){this._position=e}toRange(){return new n.Range(this.position,this.position.translate(0,this.text.length))}}}(u=t.EasyMotion||(t.EasyMotion={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5);t.ReplaceState=class{constructor(e,t=1){this.originalChars=[],this.newChars=[],this.replaceCursorStartPosition=e,this.timesToRepeat=t;let r=n.TextEditor.getLineAt(e).text.substring(e.character);for(let[t,n]of r.split("").entries())this.originalChars[t+e.character]=n}}},function(e,t,r){var n=r(125);e.exports=n},function(e,t,r){"use strict";const n=r(10);e.exports=n(e=>(e.message=`\t${e.message}`,e))},function(e,t,r){"use strict";const{Colorizer:n}=r(37),{Padder:i}=r(52),{configs:o,MESSAGE:s}=r(4);class a{constructor(e={}){e.levels||(e.levels=o.npm.levels),this.colorizer=new n(e),this.padder=new i(e),this.options=e}transform(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[s]=`${e.level}:${e.message}`,e}}e.exports=(e=>new a(e)),e.exports.Format=a},function(e,t,r){"use strict";const n=r(10);function i(e){if(e.every(o))return t=>{let r=t;for(let t=0;t<e.length;t++)if(!(r=e[t].transform(r,e[t].options)))return!1;return r}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=((...e)=>{const t=n(i(e)),r=t();return r.Format=t.Format,r}),e.exports.cascade=i},function(e,t,r){"use strict";const n=r(10);e.exports=n((e,t)=>t.message?(e.message=`[${t.label}] ${e.message}`,e):(e.label=t.label,e))},function(e,t,r){"use strict";const n=r(10),{MESSAGE:i}=r(4),o=r(54);e.exports=n(e=>{const t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e})},function(e,t,r){"use strict";const n=r(10);e.exports=n((e,t={})=>{let r="metadata";t.key&&(r=t.key);let n=[];return t.fillExcept||t.fillWith||(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?function(e,t,r){const n=t.reduce((t,r)=>(t[r]=e[r],delete e[r],t),{}),i=Object.keys(e).reduce((t,r)=>(t[r]=e[r],delete e[r],t),{});return Object.assign(e,n,{[r]:i}),e}(e,n,r):t.fillWith?function(e,t,r){return e[r]=t.reduce((t,r)=>(t[r]=e[r],delete e[r],t),{}),e}(e,t.fillWith,r):e})},function(e,t,r){"use strict";const n=r(6).inspect,i=r(10),{MESSAGE:o}=r(4);e.exports=i((e,t)=>(e[o]=n(e,!1,t.depth||null,t.colorize),e))},function(e,t,r){"use strict";const{MESSAGE:n}=r(4);class i{constructor(e){this.template=e}transform(e){return e[n]=this.template(e),e}}e.exports=(e=>new i(e)),e.exports.Printf=e.exports.Format=i},function(e,t,r){"use strict";const n=r(10),{MESSAGE:i}=r(4),o=r(54);e.exports=n(e=>{const t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?`${e.level}:${r} ${e.message} ${t}`:`${e.level}:${r} ${e.message}`,e})},function(e,t,r){"use strict";const n=r(6),{SPLAT:i}=r(4),o=/%[scdjifoO%]/g,s=/%%/g;class a{constructor(e){this.options=e}_splat(e,t){const r=e.message,o=e[i]||[],a=r.match(s),u=a&&a.length||0,c=t.length-u-o.length,l=c<0?o.splice(c,-1*c):[];return 1===l.length?e.meta=l[0]:l.length&&(e.meta=l),e.message=n.format(r,...o),e}transform(e){const t=e.message,r=e[i],n=t&&t.match&&t.match(o);return(n||r&&r.length)&&n?this._splat(e,n):e}}e.exports=(e=>new a(e))},function(e,t,r){"use strict";const n=r(141),i=r(10);e.exports=i((e,t)=>(t.format&&(e.timestamp="function"==typeof t.format?t.format():n.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e))},function(e,t,r){"use strict";const n=r(71),i=r(10),{MESSAGE:o}=r(4);e.exports=i((e,t)=>(!1!==t.level&&(e.level=n.strip(e.level)),!1!==t.message&&(e.message=n.strip(e.message)),!1!==t.raw&&e[o]&&(e[o]=n.strip(e[o])),e))},function(e,t,r){"use strict";const{format:n}=r(6);t.warn={deprecated:e=>()=>{throw new Error(n("{ %s } was removed in winston@3.0.0.",e))},useFormat:e=>()=>{throw new Error([n("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join("\n"))},forFunctions(e,r,n){n.forEach(n=>{e[n]=t.warn[r](n)})},moved(e,t,r){function i(){return()=>{throw new Error([n("winston.%s was moved in winston@3.0.0.",r),n("Use a winston.%s instead.",t)].join("\n"))}}Object.defineProperty(e,r,{get:i,set:i})},forProperties(e,r,n){n.forEach(n=>{const i=t.warn[r](n);Object.defineProperty(e,n,{get:i,set:i})})}}},function(e,t,r){var n=r(31),i=r(55);"disable"===process.env.READABLE_STREAM?e.exports=n&&n.Writable||i:e.exports=i},function(e,t,r){e.exports=r(31)},function(e,t,r){"use strict";var n=r(38);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(38);e.exports=y;var i,o=r(156);y.ReadableState=v;r(39).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=r(86),u=r(23).Buffer,c=global.Uint8Array||function(){};var l=r(32);l.inherits=r(27);var d=r(6),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var f,p=r(157),m=r(87);l.inherits(y,a);var g=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var n=t instanceof(i=i||r(28));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(89).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||r(28),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function x(e,t,r,n,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,_(e)}(e,s)):(i||(o=function(e,t){var r;n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?w(e,s,t,!1):S(e,s)):w(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&_(e)),S(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},y.prototype.unshift=function(e){return x(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return f||(f=r(89).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var b=8388608;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=b?e=b:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function _(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(M,e):M(e))}function M(e){h("emit readable"),e.emit("readable"),P(e)}function S(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(E,e,t))}function E(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function k(e){h("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function N(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):_(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&N(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(r,t))),null===(n=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&N(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?c:y;function u(t,n){h("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",l),e.removeListener("error",m),e.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",p),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){h("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",u);var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,P(e))}}(r);e.on("drain",l);var d=!1;var f=!1;function p(t){h("ondata"),f=!1,!1!==e.write(t)||f||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!d&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function m(t){h("onerror",t),y(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),y()}function v(){h("onfinish"),e.removeListener("close",g),y()}function y(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",m),e.once("close",g),e.once("finish",v),e.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=L(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},y.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&_(this):n.nextTick(k,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(A,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=R},function(e,t,r){"use strict";var n=r(23).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){var n=r(91).Symbol;e.exports=n},function(e,t,r){var n=r(92),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t){var r="object"==typeof global&&global&&global.Object===Object&&global;e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var r=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,o){(0,n.default)(t)(e,(0,i.default)(r),o)};var n=o(r(168)),i=o(r(41));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,n,i){return e(r,t,n,i)}},e.exports=t.default},function(e,t,r){"use strict";e.exports=o;var n=r(28),i=r(32);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){a(e,t,r)}):a(this,null,null)}function a(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(27),i.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,r){var n=r(101),i={};for(var o in n)n.hasOwnProperty(o)&&(i[n[o]]=o);var s=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in s)if(s.hasOwnProperty(a)){if(!("channels"in s[a]))throw new Error("missing channels property: "+a);if(!("labels"in s[a]))throw new Error("missing channel labels property: "+a);if(s[a].labels.length!==s[a].channels)throw new Error("channel and label counts mismatch: "+a);var u=s[a].channels,c=s[a].labels;delete s[a].channels,delete s[a].labels,Object.defineProperty(s[a],"channels",{value:u}),Object.defineProperty(s[a],"labels",{value:c})}s.rgb.hsl=function(e){var t,r,n=e[0]/255,i=e[1]/255,o=e[2]/255,s=Math.min(n,i,o),a=Math.max(n,i,o),u=a-s;return a===s?t=0:n===a?t=(i-o)/u:i===a?t=2+(o-n)/u:o===a&&(t=4+(n-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),r=(s+a)/2,[t,100*(a===s?0:r<=.5?u/(a+s):u/(2-a-s)),100*r]},s.rgb.hsv=function(e){var t,r,n=e[0],i=e[1],o=e[2],s=Math.min(n,i,o),a=Math.max(n,i,o),u=a-s;return r=0===a?0:u/a*1e3/10,a===s?t=0:n===a?t=(i-o)/u:i===a?t=2+(o-n)/u:o===a&&(t=4+(n-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),[t,r,a/255*1e3/10]},s.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[s.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,n))),100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},s.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-i)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},s.rgb.keyword=function(e){var t=i[e];if(t)return t;var r,o,s,a=1/0;for(var u in n)if(n.hasOwnProperty(u)){var c=n[u],l=(o=e,s=c,Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)+Math.pow(o[2]-s[2],2));l<a&&(a=l,r=u)}return r},s.keyword.rgb=function(e){return n[e]},s.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},s.rgb.lab=function(e){var t=s.rgb.xyz(e),r=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},s.hsl.rgb=function(e){var t,r,n,i,o,s=e[0]/360,a=e[1]/100,u=e[2]/100;if(0===a)return[o=255*u,o,o];t=2*u-(r=u<.5?u*(1+a):u+a-u*a),i=[0,0,0];for(var c=0;c<3;c++)(n=s+1/3*-(c-1))<0&&n++,n>1&&n--,o=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[c]=255*o;return i},s.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=o<=1?o:2-o,[t,100*(0===n?2*i/(o+i):2*r/(n+r)),100*((n+r)/2)]},s.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),a=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,s];case 1:return[a,n,s];case 2:return[s,n,u];case 3:return[s,a,n];case 4:return[u,s,n];case 5:return[n,s,a]}},s.hsv.hsl=function(e){var t,r,n,i=e[0],o=e[1]/100,s=e[2]/100,a=Math.max(s,.01);return n=(2-o)*s,r=o*a,[i,100*(r=(r/=(t=(2-o)*a)<=1?t:2-t)||0),100*(n/=2)]},s.hwb.rgb=function(e){var t,r,n,i,o,s,a,u=e[0]/360,c=e[1]/100,l=e[2]/100,d=c+l;switch(d>1&&(c/=d,l/=d),n=6*u-(t=Math.floor(6*u)),0!=(1&t)&&(n=1-n),i=c+n*((r=1-l)-c),t){default:case 6:case 0:o=r,s=i,a=c;break;case 1:o=i,s=r,a=c;break;case 2:o=c,s=r,a=i;break;case 3:o=c,s=i,a=r;break;case 4:o=i,s=c,a=r;break;case 5:o=r,s=c,a=i}return[255*o,255*s,255*a]},s.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},s.xyz.rgb=function(e){var t,r,n,i=e[0]/100,o=e[1]/100,s=e[2]/100;return r=-.9689*i+1.8758*o+.0415*s,n=.0557*i+-.204*o+1.057*s,t=(t=3.2406*i+-1.5372*o+-.4986*s)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},s.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},s.lab.xyz=function(e){var t,r,n,i=e[0];t=e[1]/500+(r=(i+16)/116),n=r-e[2]/200;var o=Math.pow(r,3),s=Math.pow(t,3),a=Math.pow(n,3);return r=o>.008856?o:(r-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},s.lab.lch=function(e){var t,r=e[0],n=e[1],i=e[2];return(t=360*Math.atan2(i,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+i*i),t]},s.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},s.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:s.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},s.hsv.ansi16=function(e){return s.rgb.ansi16(s.hsv.rgb(e),e[2])},s.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},s.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},s.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},s.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},s.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map(function(e){return e+e}).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},s.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.max(Math.max(r,n),i),s=Math.min(Math.min(r,n),i),a=o-s;return t=a<=0?0:o===r?(n-i)/a%6:o===n?2+(i-r)/a:4+(r-n)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?s/(1-a):0)]},s.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,i=0;return(n=r<.5?2*t*r:2*t*(1-r))<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},s.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},s.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i,o=[0,0,0],s=t%1*6,a=s%1,u=1-a;switch(Math.floor(s)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-r)*n,[255*(r*o[0]+i),255*(r*o[1]+i),255*(r*o[2]+i)]},s.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},s.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},s.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},s.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},s.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},s.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},s.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},s.gray.hsl=s.gray.hsv=function(e){return[0,0,e[0]]},s.gray.hwb=function(e){return[0,100,e[0]]},s.gray.cmyk=function(e){return[0,0,0,e[0]]},s.gray.lab=function(e){return[e[0],0,0]},s.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},s.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,r){"use strict";const{LEVEL:n}=r(4),i=r(62),o=r(210),s=r(60)("winston:create-logger");class a extends o{constructor(e){super(e),this._setupLevels()}_setupLevels(){Object.keys(this.levels).forEach(e=>{s('Define prototype method for "%s"',e),"log"!==e?(this[e]=((...t)=>{if(1===t.length){const[r]=t,i=r&&r.message&&r||{message:r};return i.level=i[n]=e,this.write(i),this}return this.log(e,...t)}),this[function(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}(e)]=(()=>this.isLevelEnabled(e))):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')})}}e.exports=((e={levels:i.npm.levels})=>new a(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,n.default)(e,(0,i.default)((0,o.default)(t)),r)};var n=s(r(211)),i=s(r(212)),o=s(r(41));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";const n=r(19),i=r(104),o=r(60)("winston:exception"),s=r(213),a=r(214),u=r(215);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:[`uncaughtException: ${t||"(no error message)"}`,e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:n.loadavg(),uptime:n.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new u(e);this.handlers.set(e,t),this.logger.pipe(t)}}_uncaughtException(e){const t=this.getAllInfo(e),r=this._getExceptionHandlers();let n,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function u(){o("doExit",a),o("process._exiting",process._exiting),a&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!r.length&&a&&(console.warn("winston: exitOnError cannot be false with no exception handlers."),console.warn("winston: exiting process."),a=!1),!r||0===r.length)return process.nextTick(u);i(r,(e,t)=>{const r=s(t),n=e.transport||e;function i(e){return()=>{o(e),r()}}n.once("logged",i("logged")),n.once("error",i("error"))},u),this.logger.log(t),a&&(n=setTimeout(u,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>{return(e.transport||e).handleExceptions})}}},function(e,t,r){"use strict";var n=r(9),i=r(227),o=new(r(107))({max:50,maxAge:3e4});e.exports=function(e,t){var r;if(t=!!t,r=o.get(e+"!"+t),o.has(e))return o.get(e);try{r=t?i.sync(e,{pathExt:n.delimiter+(process.env.PATHEXT||"")}):i.sync(e)}catch(e){}return o.set(e+"!"+t,r),r}},function(e,t,r){"use strict";e.exports=v;var n,i=r(231),o=r(6),s=r(233),a=(n="function"==typeof Symbol?function(e){return Symbol(e)}:function(e){return"_"+e})("max"),u=n("length"),c=n("lengthCalculator"),l=n("allowStale"),d=n("maxAge"),h=n("dispose"),f=n("noDisposeOnSet"),p=n("lruList"),m=n("cache");function g(){return 1}function v(e){if(!(this instanceof v))return new v(e);"number"==typeof e&&(e={max:e}),e||(e={});var t=this[a]=e.max;(!t||"number"!=typeof t||t<=0)&&(this[a]=1/0);var r=e.length||g;"function"!=typeof r&&(r=g),this[c]=r,this[l]=e.stale||!1,this[d]=e.maxAge||0,this[h]=e.dispose,this[f]=e.noDisposeOnSet||!1,this.reset()}function y(e,t,r,n){var i=r.value;w(e,i)&&(C(e,r),e[l]||(i=void 0)),i&&t.call(n,i.value,i.key,e)}function x(e,t,r){var n=e[m].get(t);if(n){var i=n.value;w(e,i)?(C(e,n),e[l]||(i=void 0)):r&&e[p].unshiftNode(n),i&&(i=i.value)}return i}function w(e,t){if(!t||!t.maxAge&&!e[d])return!1;var r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[d]&&r>e[d]}function b(e){if(e[u]>e[a])for(var t=e[p].tail;e[u]>e[a]&&null!==t;){var r=t.prev;C(e,t),t=r}}function C(e,t){if(t){var r=t.value;e[h]&&e[h](r.key,r.value),e[u]-=r.length,e[m].delete(r.key),e[p].removeNode(t)}}function _(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}Object.defineProperty(v.prototype,"max",{set:function(e){(!e||"number"!=typeof e||e<=0)&&(e=1/0),this[a]=e,b(this)},get:function(){return this[a]},enumerable:!0}),Object.defineProperty(v.prototype,"allowStale",{set:function(e){this[l]=!!e},get:function(){return this[l]},enumerable:!0}),Object.defineProperty(v.prototype,"maxAge",{set:function(e){(!e||"number"!=typeof e||e<0)&&(e=0),this[d]=e,b(this)},get:function(){return this[d]},enumerable:!0}),Object.defineProperty(v.prototype,"lengthCalculator",{set:function(e){"function"!=typeof e&&(e=g),e!==this[c]&&(this[c]=e,this[u]=0,this[p].forEach(function(e){e.length=this[c](e.value,e.key),this[u]+=e.length},this)),b(this)},get:function(){return this[c]},enumerable:!0}),Object.defineProperty(v.prototype,"length",{get:function(){return this[u]},enumerable:!0}),Object.defineProperty(v.prototype,"itemCount",{get:function(){return this[p].length},enumerable:!0}),v.prototype.rforEach=function(e,t){t=t||this;for(var r=this[p].tail;null!==r;){var n=r.prev;y(this,e,r,t),r=n}},v.prototype.forEach=function(e,t){t=t||this;for(var r=this[p].head;null!==r;){var n=r.next;y(this,e,r,t),r=n}},v.prototype.keys=function(){return this[p].toArray().map(function(e){return e.key},this)},v.prototype.values=function(){return this[p].toArray().map(function(e){return e.value},this)},v.prototype.reset=function(){this[h]&&this[p]&&this[p].length&&this[p].forEach(function(e){this[h](e.key,e.value)},this),this[m]=new i,this[p]=new s,this[u]=0},v.prototype.dump=function(){return this[p].map(function(e){if(!w(this,e))return{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}},this).toArray().filter(function(e){return e})},v.prototype.dumpLru=function(){return this[p]},v.prototype.inspect=function(e,t){var r="LRUCache {",n=!1;this[l]&&(r+="\n  allowStale: true",n=!0);var i=this[a];i&&i!==1/0&&(n&&(r+=","),r+="\n  max: "+o.inspect(i,t),n=!0);var s=this[d];s&&(n&&(r+=","),r+="\n  maxAge: "+o.inspect(s,t),n=!0);var h=this[c];h&&h!==g&&(n&&(r+=","),r+="\n  length: "+o.inspect(this[u],t),n=!0);var f=!1;return this[p].forEach(function(e){f?r+=",\n  ":(n&&(r+=",\n"),f=!0,r+="\n  ");var i=o.inspect(e.key).split("\n").join("\n  "),a={value:e.value};e.maxAge!==s&&(a.maxAge=e.maxAge),h!==g&&(a.length=e.length),w(this,e)&&(a.stale=!0),a=o.inspect(a,t).split("\n").join("\n  "),r+=i+" => "+a}),(f||n)&&(r+="\n"),r+="}"},v.prototype.set=function(e,t,r){var n=(r=r||this[d])?Date.now():0,i=this[c](t,e);if(this[m].has(e)){if(i>this[a])return C(this,this[m].get(e)),!1;var o=this[m].get(e).value;return this[h]&&(this[f]||this[h](e,o.value)),o.now=n,o.maxAge=r,o.value=t,this[u]+=i-o.length,o.length=i,this.get(e),b(this),!0}var s=new _(e,t,i,n,r);return s.length>this[a]?(this[h]&&this[h](e,t),!1):(this[u]+=s.length,this[p].unshift(s),this[m].set(e,this[p].head),b(this),!0)},v.prototype.has=function(e){return!!this[m].has(e)&&!w(this,this[m].get(e).value)},v.prototype.get=function(e){return x(this,e,!0)},v.prototype.peek=function(e){return x(this,e,!1)},v.prototype.pop=function(){var e=this[p].tail;return e?(C(this,e),e.value):null},v.prototype.del=function(e){C(this,this[m].get(e))},v.prototype.load=function(e){this.reset();for(var t=Date.now(),r=e.length-1;r>=0;r--){var n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{var o=i-t;o>0&&this.set(n.k,n.v,o)}}},v.prototype.prune=function(){var e=this;this[m].forEach(function(t,r){x(e,r,!1)})}},function(e,t,r){"use strict";e.exports=function(e,t){return e=""+e,e=t?'"'+(e=(e=e.replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1"))+'"':e.replace(/([()%!^<>&|;,"'\s])/g,"^$1")}},function(e,t){e.exports=require("assert")},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(7);t.OnlyCommand=class extends o.CommandBase{constructor(e){super(),this._name="only",this._arguments=e}get arguments(){return this._arguments}execute(){return n(this,void 0,void 0,function*(){yield i.commands.executeCommand("workbench.action.closeEditorsInOtherGroups")})}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9),o=r(0),s=r(7);var a;!function(e){e[e.Next=0]="Next",e[e.Previous=1]="Previous",e[e.First=2]="First",e[e.Last=3]="Last",e[e.Absolute=4]="Absolute",e[e.New=5]="New",e[e.Close=6]="Close",e[e.Only=7]="Only",e[e.Move=8]="Move"}(a=t.Tab||(t.Tab={}));t.TabCommand=class extends s.CommandBase{constructor(e){super(),this._name="tab",this._arguments=e}get arguments(){return this._arguments}executeCommandWithCount(e,t){return n(this,void 0,void 0,function*(){for(let r=0;r<e;r++)yield o.commands.executeCommand(t)})}execute(){return n(this,void 0,void 0,function*(){switch(this._arguments.tab){case a.Absolute:void 0!==this._arguments.count&&this._arguments.count>=0&&(yield o.commands.executeCommand("workbench.action.openEditorAtIndex",this._arguments.count));break;case a.Next:if(void 0!==this._arguments.count&&this._arguments.count<=0)break;yield this.executeCommandWithCount(this._arguments.count||1,"workbench.action.nextEditorInGroup");break;case a.Previous:if(void 0!==this._arguments.count&&this._arguments.count<=0)break;yield this.executeCommandWithCount(this._arguments.count||1,"workbench.action.previousEditorInGroup");break;case a.First:yield o.commands.executeCommand("workbench.action.openEditorAtIndex1");break;case a.Last:yield o.commands.executeCommand("workbench.action.lastEditorInGroup");break;case a.New:if(void 0!==this.arguments.file&&""!==this.arguments.file){const e=i.isAbsolute(this.arguments.file),t=void 0!==o.workspace.workspaceFolders&&o.workspace.workspaceFolders.length>0,r=o.window.activeTextEditor.document.uri.fsPath;let n;if(e)n=this.arguments.file;else if(t){const e=o.workspace.workspaceFolders[0].uri.path;n=i.join(e,this.arguments.file)}else n=i.join(i.dirname(r),this.arguments.file);n!==r&&(yield o.commands.executeCommand("vscode.open",o.Uri.file(n)))}else yield o.commands.executeCommand("workbench.action.files.newUntitledFile");break;case a.Close:if(void 0===this._arguments.count){yield o.commands.executeCommand("workbench.action.closeActiveEditor");break}if(0===this._arguments.count)break;break;case a.Only:yield o.commands.executeCommand("workbench.action.closeOtherEditors");break;case a.Move:0===this.arguments.count?yield o.commands.executeCommand("moveActiveEditor",{to:"first"}):void 0===this.arguments.count?yield o.commands.executeCommand("moveActiveEditor",{to:"last"}):yield o.commands.executeCommand("moveActiveEditor",{to:"position",by:"tab",value:this.arguments.count+1})}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(14);t.isTextTransformation=(e=>"insertText"===e.type||"replaceText"===e.type||"deleteText"===e.type||"deleteRange"===e.type||"moveCursor"===e.type);const i=e=>{switch(e.type){case"insertText":return new n.Range(e.position,e.position);case"replaceText":return new n.Range(e.start,e.end);case"deleteText":return new n.Range(e.position,e.position);case"deleteRange":return e.range;case"moveCursor":return}throw new Error("Unhandled text transformation: "+e)};t.areAnyTransformationsOverlapping=(e=>{for(let t=0;t<e.length;t++)for(let r=t+1;r<e.length;r++){const n=e[t],o=e[r],s=i(n),a=i(o);if(s&&a&&s.overlaps(a))return!0}return!1})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(1);class o{}o.Default=n.window.createTextEditorDecorationType({backgroundColor:new n.ThemeColor("editorCursor.foreground"),borderColor:new n.ThemeColor("editorCursor.foreground"),dark:{color:"rgb(81,80,82)"},light:{color:"rgb(255, 255, 255)"},borderStyle:"solid",borderWidth:"1px"}),o.SearchHighlight=n.window.createTextEditorDecorationType({backgroundColor:i.configuration.searchHighlightColor}),o.EasyMotion=n.window.createTextEditorDecorationType({backgroundColor:i.configuration.searchHighlightColor}),t.Decoration=o},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(7);t.WallCommand=class extends o.CommandBase{constructor(e){super(),this._name="wall",this._arguments=e}get arguments(){return this._arguments}execute(){return n(this,void 0,void 0,function*(){yield i.workspace.saveAll(!1)})}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(8),o=r(9),s=r(0),a=r(45),u=r(33),c=r(7);t.WriteCommand=class extends c.CommandBase{constructor(e){super(),this._name="write",this._arguments=e}get arguments(){return this._arguments}execute(e){return n(this,void 0,void 0,function*(){if(this.arguments.opt)u.Message.ShowError("Not implemented.");else if(this.arguments.file)u.Message.ShowError("Not implemented.");else if(this.arguments.append)u.Message.ShowError("Not implemented.");else if(this.arguments.cmd)u.Message.ShowError("Not implemented.");else if(e.editor.document.isUntitled)yield s.commands.executeCommand("workbench.action.files.save");else try{return i.accessSync(e.editor.document.fileName,i.constants.W_OK),this.save(e)}catch(t){this.arguments.bang?i.chmod(e.editor.document.fileName,666,t=>{if(!t)return this.save(e);a.StatusBar.SetText(t.message,e.currentMode,e.isRecordingMacro,!0,!0)}):a.StatusBar.SetText(t.message,e.currentMode,e.isRecordingMacro,!0,!0)}})}save(e){return n(this,void 0,void 0,function*(){yield e.editor.document.save().then(()=>{let t='"'+o.basename(e.editor.document.fileName)+'" '+e.editor.document.lineCount+"L "+e.editor.document.getText().length+"C written";a.StatusBar.SetText(t,e.currentMode,e.isRecordingMacro,!0,!0)},t=>a.StatusBar.SetText(t,e.currentMode,e.isRecordingMacro,!0,!0))})}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(8),o=r(9),s=r(1),a=r(13),u=r(36),c=r(291);class l{constructor(e,t){this._history=[],this._historyDir=e,this._historyFileName=t,this._loadFromFile()}get _historyFilePath(){return o.join(this._historyDir,this._historyFileName)}add(e){if(!e||0===e.length)return;let t=this._history.indexOf(e);-1!==t&&this._history.splice(t,1),this._history.push(e),this._history.length>s.configuration.history&&(this._history=this._history.slice(this._history.length-s.configuration.history)),this.save()}get(){return this._history.length>s.configuration.history&&(this._history=this._history.slice(this._history.length-s.configuration.history)),this._history}clear(){try{i.unlinkSync(this._historyFilePath)}catch(e){a.logger.warn(`Unable to delete ${this._historyFilePath}. err=${e}.`)}}save(){return n(this,void 0,void 0,function*(){return new Promise((e,t)=>{try{i.existsSync(this._historyDir)||c.sync(this._historyDir,509)}catch(e){a.logger.error(`Failed to create directory. path=${this._historyDir}. err=${e}.`),t(e)}try{i.writeFileSync(this._historyFilePath,JSON.stringify(this._history),"utf-8")}catch(e){a.logger.error(`Failed to save history. path=${this._historyDir}. err=${e}.`),t(e)}e()})})}_loadFromFile(){let e="";try{e=i.readFileSync(this._historyFilePath,"utf-8")}catch(e){if("ENOENT"!==e.code)return void a.logger.error(`Failed to load history. path=${this._historyDir} err=${e}.`);a.logger.debug(`History does not exist. path=${this._historyDir}`)}if(0!==e.length)try{let t=JSON.parse(e);if(!Array.isArray(t))throw Error("Expected JSON");this._history=t}catch(e){a.logger.error(`Deleting corrupted history file. path=${this._historyDir} err=${e}.`),this.clear()}}}t.HistoryFile=l;t.SearchHistory=class extends l{constructor(){super(u.getExtensionDirPath(),".search_history")}};t.CommandLineHistory=class extends l{constructor(){super(u.getExtensionDirPath(),".cmdline_history")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EditorIdentity=class{constructor(e){this._fileName=e&&e.document&&e.document.fileName||""}get fileName(){return this._fileName}isEqual(e){return this.fileName===e.fileName}toString(){return this.fileName}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(297),i=r(65),o=r(116),s=r(2),a=r(3);class u{get searchStatePrevious(){return u._searchStatePrevious}set searchStatePrevious(e){u._searchStatePrevious=u._searchStatePrevious.concat(e)}loadSearchHistory(){void 0===u._searchHistory&&(u._searchHistory=new o.SearchHistory,u._searchHistory.get().forEach(e=>this.searchStatePrevious.push(new i.SearchState(i.SearchDirection.Forward,new s.Position(0,0),e,void 0,a.ModeName.Normal))))}addNewSearchHistoryItem(e){void 0!==u._searchHistory&&u._searchHistory.add(e)}get previousFullAction(){return u._previousFullAction}set previousFullAction(e){u._previousFullAction=e}get substituteState(){return u._substituteState}set substituteState(e){u._substituteState=e}get searchState(){return u._searchState}set searchState(e){u._searchState=e}get searchStateIndex(){return u._searchStateIndex}set searchStateIndex(e){u._searchStateIndex=e}get hl(){return u._hl}set hl(e){u._hl=e}get jumpTracker(){return u._jumpTracker}}u._previousFullAction=void 0,u._searchStatePrevious=[],u._substituteState=void 0,u._searchState=void 0,u._searchStateIndex=0,u._hl=!0,u._jumpTracker=new n.JumpTracker,t.GlobalState=u},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),s=r(310),a=r(25),u=r(2),c=r(14),l=r(1),d=r(3),h=r(15),f=r(5),p=r(12),m=r(24),g=r(18),v=r(63);let y=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return!1}exec(e,t){return i(this,void 0,void 0,function*(){t.allCursors=t.allCursors.map(e=>e.withNewStop(e.stop.getLeft())),t.returnToInsertAfterCommand&&0!==e.character&&(t.allCursors=t.allCursors.map(e=>e.withNewStop(e.stop.getRight())));for(let e=0;e<t.allCursors.length;e++){const r=t.keyHistory[t.keyHistory.length-2];["o","O","\n"].indexOf(r)>-1&&"plaintext"!==t.editor.document.languageId&&/^\s+$/.test(f.TextEditor.getLineAt(t.allCursors[e].stop).text)&&(t.recordedState.transformations.push({type:"deleteRange",range:new c.Range(t.allCursors[e].stop.getLineBegin(),t.allCursors[e].stop.getLineEnd())}),t.allCursors[e]=t.allCursors[e].withNewStop(t.allCursors[e].stop.getLineBegin()))}t.currentMode=d.ModeName.Normal;const r=t.recordedState.actionsRun[t.recordedState.actionsRun.length-3],n=r instanceof g.CommandInsertAtCursor||r instanceof g.CommandInsertAfterCursor||r instanceof g.CommandInsertAtLineEnd||r instanceof g.CommandInsertAtFirstCharacter;if(t.recordedState.count>1&&n){const e=t.recordedState.actionsRun[t.recordedState.actionsRun.length-2].contentChanges;let r=[];for(let t=0;t<e.length;t++)r.push(e[t].textDiff);let n=new u.PositionDiff(0,0);for(let e=0;e<t.recordedState.count-1;e++)e===t.recordedState.count-2&&(n=new u.PositionDiff(0,-1)),t.recordedState.transformations.push({type:"contentChange",changes:r,diff:n})}return t.historyTracker.currentContentChanges.length>0&&(t.historyTracker.lastContentChanges=t.historyTracker.currentContentChanges,t.historyTracker.currentContentChanges=[]),t.isFakeMultiCursor&&(t.allCursors=[t.allCursors[0]],t.isMultiCursor=!1,t.isFakeMultiCursor=!1),t})}};y=n([p.RegisterAction],y);let x=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-a>"]}exec(e,t){return i(this,void 0,void 0,function*(){let e=(yield h.Register.getByKey(".")).text.actionsRun.slice(0);e.shift(),e.length>0&&e[0]instanceof m.ArrowsInInsertMode&&e.shift();for(let r of e)r instanceof g.BaseCommand&&(t=yield r.execCount(t.cursorPosition,t)),r instanceof g.DocumentContentChangeAction&&(t=yield r.exec(t.cursorPosition,t));return t.cursorPosition=u.Position.FromVSCodePosition(t.editor.selection.end),t.cursorStartPosition=u.Position.FromVSCodePosition(t.editor.selection.start),t.currentMode=d.ModeName.Insert,t})}};x=n([p.RegisterAction],x),t.CommandInsertPreviousText=x;let w=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-shift+2>"]}exec(e,t){return i(this,void 0,void 0,function*(){return(t=yield(new x).exec(e,t)).currentMode=d.ModeName.Normal,t})}};w=n([p.RegisterAction],w);let b=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-e>"]}exec(e,t){return i(this,void 0,void 0,function*(){if(f.TextEditor.isLastLine(e))return t;const r=e.getDownByCount(1);if(r.isLineEnd())return t;const n=f.TextEditor.getText(new o.Range(r,r.getRight()));return yield f.TextEditor.insert(n,e),t.cursorStartPosition=u.Position.FromVSCodePosition(t.editor.selection.start),t.cursorPosition=u.Position.FromVSCodePosition(t.editor.selection.start),t})}};b=n([p.RegisterAction],b);let C=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-t>"]}exec(e,t){return i(this,void 0,void 0,function*(){const r=f.TextEditor.getLineAt(e).text,n=f.TextEditor.getIndentationLevel(r),i=l.configuration.tabstop||Number(t.editor.options.tabSize),o=(n/i+1)*i;return f.TextEditor.replaceText(t,f.TextEditor.setIndentationLevel(r,o),e.getLineBegin(),e.getLineEnd(),new u.PositionDiff(0,o-n)),t})}};C=n([p.RegisterAction],C);let _=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<character>"]}exec(e,t){return i(this,void 0,void 0,function*(){const r=this.keysPressed[this.keysPressed.length-1],n=f.TextEditor.getLineAt(e).text;if("<BS>"===r){const r=f.TextEditor.getSelection();if(r.isEmpty)if(n.length>0&&n.match(/^ +$/)&&l.configuration.expandtab){const r=t.editor.options.tabSize,i=Math.floor((e.character-1)/r)*r;t.recordedState.transformations.push({type:"deleteRange",range:new c.Range(new u.Position(e.line,i),new u.Position(e.line,n.length))})}else 0===e.line&&0===e.character||t.recordedState.transformations.push({type:"deleteText",position:e});else t.recordedState.transformations.push({type:"deleteRange",range:new c.Range(r.start,r.end)});t.cursorPosition=t.cursorPosition.getLeft(),t.cursorStartPosition=t.cursorStartPosition.getLeft()}else t.isMultiCursor?t.recordedState.transformations.push({type:"insertText",text:r,position:t.cursorPosition}):t.recordedState.transformations.push({type:"insertTextVSCode",text:r});return t})}toString(){return this.keysPressed[this.keysPressed.length-1]}};_=n([p.RegisterAction],_),t.CommandInsertInInsertMode=_;let M=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}exec(e,t){return i(this,void 0,void 0,function*(){t.recordedState.registerName=this.keysPressed[1];const r=yield h.Register.get(t);let n;if(r.text instanceof Array)n=r.text.join("\n");else{if(r.text instanceof a.RecordedState)return t.recordedState.transformations.push({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"}),t;n=r.text}return r.registerMode===h.RegisterMode.LineWise&&(n+="\n"),yield f.TextEditor.insertAt(n,e),t.currentMode=d.ModeName.Insert,t.cursorStartPosition=u.Position.FromVSCodePosition(t.editor.selection.start),t.cursorPosition=u.Position.FromVSCodePosition(t.editor.selection.start),t})}doesActionApply(e,t){const r=t[1];return super.doesActionApply(e,t)&&h.Register.isValidRegister(r)}couldActionApply(e,t){const r=t[1];return super.couldActionApply(e,t)&&h.Register.isValidRegister(r)}};M=n([p.RegisterAction],M);let S=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-o>"]}exec(e,t){return i(this,void 0,void 0,function*(){return t.returnToInsertAfterCommand=!0,yield(new y).exec(e,t)})}};S=n([p.RegisterAction],S),t.CommandOneNormalCommandInInsertMode=S;let E=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-w>"]}exec(e,t){return i(this,void 0,void 0,function*(){let r;return r=e.isInLeadingWhitespace()?e.getLineBegin():e.isLineBeginning()?e.getPreviousLineBegin().getLineEnd():e.getWordLeft(),yield f.TextEditor.delete(new o.Range(r,e)),t.cursorPosition=r,t})}};E=n([p.RegisterAction],E);let k=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-d>"]}exec(e,t){return i(this,void 0,void 0,function*(){const r=f.TextEditor.getLineAt(e).text,n=f.TextEditor.getIndentationLevel(r);if(0===n)return t;const i=l.configuration.tabstop,s=(n/i-1)*i;yield f.TextEditor.replace(new o.Range(e.getLineBegin(),e.getLineEnd()),f.TextEditor.setIndentationLevel(r,s<0?0:s));const a=u.Position.FromVSCodePosition(e.with(e.line,e.character+(s-n)/i));return t.cursorPosition=a,t.cursorStartPosition=a,t.currentMode=d.ModeName.Insert,t})}};k=n([p.RegisterAction],k);let A=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-y>"]}exec(e,t){return i(this,void 0,void 0,function*(){if(f.TextEditor.isFirstLine(e))return t;const r=e.getUpByCount(1);if(r.isLineEnd())return t;const n=f.TextEditor.getText(new o.Range(r,r.getRight()));return yield f.TextEditor.insert(n,e),t.cursorStartPosition=u.Position.FromVSCodePosition(t.editor.selection.start),t.cursorPosition=u.Position.FromVSCodePosition(t.editor.selection.start),t})}};A=n([p.RegisterAction],A);let P=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-h>"]}exec(e,t){return i(this,void 0,void 0,function*(){return t.recordedState.transformations.push({type:"deleteText",position:e}),t})}};P=n([p.RegisterAction],P);let R=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-u>"]}exec(e,t){return i(this,void 0,void 0,function*(){const r=e.isInLeadingWhitespace()?e.getLineBegin():e.getLineBeginRespectingIndent();return yield f.TextEditor.delete(new o.Range(r,e)),t.cursorPosition=r,t.cursorStartPosition=r,t})}};R=n([p.RegisterAction],R);let N=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=[["<C-n>"],["<C-j>"]]}exec(e,t){return i(this,void 0,void 0,function*(){return yield o.commands.executeCommand("selectNextSuggestion"),t})}};N=n([p.RegisterAction],N);let T=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=[["<C-p>"],["<C-k>"]]}exec(e,t){return i(this,void 0,void 0,function*(){return yield o.commands.executeCommand("selectPrevSuggestion"),t})}};T=n([p.RegisterAction],T);let L=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-v>"]}exec(e,t){return i(this,void 0,void 0,function*(){const e=v.Clipboard.Paste();return t.isMultiCursor?t.recordedState.transformations.push({type:"insertText",text:e,position:t.cursorPosition}):t.recordedState.transformations.push({type:"insertTextVSCode",text:e}),t})}};L=n([p.RegisterAction],L);let F=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[d.ModeName.Insert],this.keys=["<C-x>","<C-l>"]}runsOnceForEveryCursor(){return!1}exec(e,t){return i(this,void 0,void 0,function*(){return yield s.lineCompletionProvider.showLineCompletionsQuickPick(e,t),t})}};F=n([p.RegisterAction],F)},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=r(2),s=r(1),a=r(3),u=r(12),c=r(18),l=r(69);function d(e){return[...Array.from({length:e.leaderCount||2},()=>"<leader>"),...e.key.split("")]}t.buildTriggerKeys=d;class h extends c.BaseCommand{constructor(e,t){super(),this.modes=[a.ModeName.Normal,a.ModeName.Visual,a.ModeName.VisualLine,a.ModeName.VisualBlock],this._baseOptions=e,t&&(this.keys=d(t))}processMarkers(e,t,r){r.easyMotion.clearMarkers();let n=0;const i=l.EasyMotion.createMarkerGenerator(e.length);for(const o of e){const e=this.resolveMatchPosition(o);if(!e.isEqual(t)){const t=i.generateMarker(n++,e);t&&r.easyMotion.addMarker(t)}}}searchOptions(e){switch(this._baseOptions.searchOptions){case"min":return{min:e};case"max":return{max:e};default:return{}}}exec(e,t){return i(this,void 0,void 0,function*(){if(s.configuration.easymotion){const r=this.getMatches(e,t);if(0===r.length)return t;if(t.easyMotion=new l.EasyMotion,this.processMarkers(r,e,t),1===r.length){const e=t.easyMotion.markers[0];return t.cursorPosition=e.position,t.easyMotion.clearDecorations(),t}return t.easyMotion.previousMode=t.currentMode,t.currentMode=a.ModeName.EasyMotionMode,t}return t})}}function f(e,t,r,n){switch(r){case"":return[];case" ":return t.easyMotion.sortedSearch(e,new RegExp(" {1,}","g"),n);default:const i=s.configuration.ignorecase&&!(s.configuration.smartcase&&/[A-Z]/.test(r))?"gi":"g";return t.easyMotion.sortedSearch(e,new RegExp(r,i),n)}}t.SearchByCharCommand=class extends h{constructor(e){super(e),this._searchString="",this._options=e}get searchCharCount(){return this._options.charCount}getMatches(e,t){return f(e,t,this._searchString,this.searchOptions(e))}updateSearchString(e){this._searchString=e}getSearchString(){return this._searchString}shouldFire(){const e=this._options.charCount;return!e||this._searchString.length>=e}fire(e,t){return this.exec(e,t)}resolveMatchPosition(e){const{line:t,character:r}=e.position;switch(this._options.labelPosition){case"after":return new o.Position(t,r+this._options.charCount);case"before":return new o.Position(t,Math.max(0,r-1));default:return e.position}}};t.SearchByNCharCommand=class extends h{constructor(){super({}),this._searchString=""}get searchCharCount(){return-1}resolveMatchPosition(e){return e.position}updateSearchString(e){this._searchString=e}getSearchString(){return this._searchString}getMatches(e,t){return f(e,t,this.removeTrailingLineBreak(this._searchString),{})}removeTrailingLineBreak(e){return e.replace(new RegExp("\n+$","g"),"")}shouldFire(){return this._searchString.endsWith("\n")}fire(e,t){return i(this,void 0,void 0,function*(){return""===this.removeTrailingLineBreak(this._searchString)?t:this.exec(e,t)})}};t.EasyMotionCharMoveCommandBase=class extends c.BaseCommand{constructor(e,t){super(),this.modes=[a.ModeName.Normal,a.ModeName.Visual,a.ModeName.VisualLine,a.ModeName.VisualBlock],this._action=t,this.keys=d(e)}exec(e,t){return i(this,void 0,void 0,function*(){return s.configuration.easymotion?(t.easyMotion=new l.EasyMotion,t.easyMotion.previousMode=t.currentMode,t.easyMotion.searchAction=this._action,t.globalState.hl=!0,t.currentMode=a.ModeName.EasyMotionInputMode,t):t})}};t.EasyMotionWordMoveCommandBase=class extends h{constructor(e,t={}){super(t,e),this._options=t}getMatches(e,t){return this.getMatchesForWord(e,t,this.searchOptions(e))}resolveMatchPosition(e){const{line:t,character:r}=e.position;switch(this._options.labelPosition){case"after":return new o.Position(t,r+e.text.length-1);default:return e.position}}getMatchesForWord(e,t,r){const n=this._options.jumpToAnywhere?new RegExp(s.configuration.easymotionJumpToAnywhereRegex,"g"):new RegExp("\\w{1,}","g");return t.easyMotion.sortedSearch(e,n,r)}};t.EasyMotionLineMoveCommandBase=class extends h{constructor(e,t={}){super(t,e),this._options=t}resolveMatchPosition(e){return e.position}getMatches(e,t){return this.getMatchesForLineStart(e,t,this.searchOptions(e))}getMatchesForLineStart(e,t,r){const n=t.easyMotion.sortedSearch(e,new RegExp("^.","gm"),r);for(const e of n)e.position=e.position.getFirstLineNonBlankChar();return n}};let p=class extends c.BaseCommand{constructor(){super(...arguments),this.modes=[a.ModeName.EasyMotionInputMode],this.keys=["<character>"]}exec(e,t){return i(this,void 0,void 0,function*(){const e=this.keysPressed[0],r=t.easyMotion.searchAction,n=r.getSearchString(),i="<BS>"===e||"<shift+BS>"===e?n.slice(0,-1):n+e;if(r.updateSearchString(i),r.shouldFire()){return t.currentMode=t.easyMotion.previousMode,yield r.fire(t.cursorPosition,t)}return t})}};p=n([u.RegisterAction],p);let m=class extends c.BaseCommand{constructor(){super(...arguments),this.modes=[a.ModeName.EasyMotionInputMode],this.keys=["<Esc>"]}exec(e,t){return i(this,void 0,void 0,function*(){return t.currentMode=a.ModeName.Normal,t})}};m=n([u.RegisterAction],m);let g=class extends c.BaseCommand{constructor(){super(...arguments),this.modes=[a.ModeName.EasyMotionMode],this.keys=["<character>"]}exec(e,t){return i(this,void 0,void 0,function*(){const e=this.keysPressed[0];if(e){const r=t.easyMotion.accumulation+e;t.easyMotion.accumulation=r;const n=t.easyMotion.findMarkers(r,!0);if(t.easyMotion.previousMode!==a.ModeName.Visual&&t.easyMotion.previousMode!==a.ModeName.VisualLine&&t.easyMotion.previousMode!==a.ModeName.VisualBlock||(t.cursorStartPosition=t.lastVisualSelectionStart,t.cursorPosition=t.lastVisualSelectionEnd),1===n.length){const e=n[0];return t.easyMotion.clearDecorations(),t.currentMode=t.easyMotion.previousMode,t.cursorPosition=e.position,t}return 0===n.length?(t.easyMotion.clearDecorations(),t.currentMode=t.easyMotion.previousMode,t):t}return t})}};g=n([u.RegisterAction],g)},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),r(122);const i=r(21),o=r(0),s=r(1),a=r(44),u=r(2),c=r(117),l=r(34),d=r(118),h=r(46),f=r(3),p=r(49),m=r(45),g=r(48),v=r(314),y=r(13),x=r(317),w=new d.GlobalState;let b,C=null,_=null;function M(e=!1){return n(this,void 0,void 0,function*(){const t=new c.EditorIdentity(o.window.activeTextEditor);let[r,n]=yield v.ModeHandlerMap.getOrCreate(t.toString());if(n&&b.subscriptions.push(r),r.vimState.editor=o.window.activeTextEditor,!e&&C&&C.isEqual(t)||(r.syncCursors(),yield r.updateView(r.vimState,{drawSelection:!1,revealRange:!1})),C=t,r.vimState.focusChanged&&(r.vimState.focusChanged=!1,C)){v.ModeHandlerMap.get(C.toString()).vimState.focusChanged=!0}return r})}function S(e,t){return n(this,void 0,void 0,function*(){if(yield o.commands.executeCommand("setContext","vim.active",!e),!o.window.activeTextEditor)return;let r=yield M();e?(yield r.handleKeyEvent("<ExtensionDisable>"),t.reset(),v.ModeHandlerMap.clear()):yield r.handleKeyEvent("<ExtensionEnable>")})}function E(e,t,r){const i=o.commands.registerCommand(t,e=>n(this,void 0,void 0,function*(){s.configuration.disableExt?yield o.commands.executeCommand("default:"+t,e):o.window.activeTextEditor&&(o.window.activeTextEditor.document&&"debug:input"===o.window.activeTextEditor.document.uri.toString()?yield o.commands.executeCommand("default:"+t,e):r(e))}));e.subscriptions.push(i)}function k(e,t,r){let i=o.commands.registerCommand(t,e=>n(this,void 0,void 0,function*(){o.window.activeTextEditor&&r(e)}));e.subscriptions.push(i)}function A(e){return n(this,void 0,void 0,function*(){const t=yield M();g.taskQueue.enqueueTask(()=>n(this,void 0,void 0,function*(){yield t.handleKeyEvent(e)}))})}t.getAndUpdateModeHandler=M,t.activate=function(e){return n(this,void 0,void 0,function*(){y.logger.debug("Extension: activating vscodevim."),(b=e).subscriptions.push(m.StatusBar),y.logger.debug("Extension: registering event handlers."),o.workspace.onDidChangeConfiguration(()=>{y.logger.debug("onDidChangeConfiguration: reloading configuration"),s.configuration.reload()}),o.workspace.onDidChangeTextDocument(e=>n(this,void 0,void 0,function*(){if(s.configuration.disableExt)return;(e=>1===e.contentChanges.length&&""===e.contentChanges[0].text&&e.contentChanges[0].range.start.line!==e.contentChanges[0].range.end.line)(e)?w.jumpTracker.handleTextDeleted(e.document,e.contentChanges[0].range):(e=>1===e.contentChanges.length&&("\n"===e.contentChanges[0].text||"\r\n"===e.contentChanges[0].text)&&e.contentChanges[0].range.start.line===e.contentChanges[0].range.end.line)(e)&&w.jumpTracker.handleTextAdded(e.document,e.contentChanges[0].range,e.contentChanges[0].text);let t=t=>{t?t.vimState.currentMode===f.ModeName.Insert&&(void 0===t.vimState.historyTracker.currentContentChanges&&(t.vimState.historyTracker.currentContentChanges=[]),t.vimState.historyTracker.currentContentChanges=t.vimState.historyTracker.currentContentChanges.concat(e.contentChanges)):console.warn("No mode handler found")};l.Globals.isTesting?t(l.Globals.mockModeHandler):i.filter(v.ModeHandlerMap.getAll(),t=>t.vimState.identity.fileName===e.document.fileName).forEach(e=>{t(e)}),setTimeout(()=>{e.document.isDirty||e.document.isUntitled||!e.contentChanges.length||function(e){i.filter(v.ModeHandlerMap.getAll(),t=>t.vimState.identity.fileName===e.fileName).forEach(e=>{e.vimState.historyTracker.clear()})}(e.document)},0)})),o.workspace.onDidCloseTextDocument(()=>n(this,void 0,void 0,function*(){const e=o.workspace.textDocuments;for(let t of v.ModeHandlerMap.getKeys()){let r=yield v.ModeHandlerMap.get(t);null!=r&&void 0!==r.vimState.editor&&-1!==e.indexOf(r.vimState.editor.document)||v.ModeHandlerMap.delete(t)}})),o.window.onDidChangeActiveTextEditor(()=>n(this,void 0,void 0,function*(){if(s.configuration.disableExt)return;if(l.Globals.isTesting)return;const e=C?v.ModeHandlerMap.get(C.toString()):null;_=e||_,void 0!==o.window.activeTextEditor&&g.taskQueue.enqueueTask(()=>n(this,void 0,void 0,function*(){if(void 0!==o.window.activeTextEditor){const e=yield M(!0);yield e.updateVimModeForKeybindings(e.vimState.currentMode),yield e.updateView(e.vimState,{drawSelection:!1,revealRange:!1}),w.jumpTracker.handleFileJump(_?h.Jump.fromStateNow(_.vimState):null,h.Jump.fromStateNow(e.vimState))}}))}));let t=new x.CompositionState;E(e,"type",e=>n(this,void 0,void 0,function*(){g.taskQueue.enqueueTask(()=>n(this,void 0,void 0,function*(){const r=yield M();t.isInComposition?t.composingText+=e.text:yield r.handleKeyEvent(e.text)}))})),E(e,"replacePreviousChar",e=>n(this,void 0,void 0,function*(){g.taskQueue.enqueueTask(()=>n(this,void 0,void 0,function*(){const r=yield M();t.isInComposition?t.composingText=t.composingText.substr(0,t.composingText.length-e.replaceCharCnt)+e.text:(yield o.commands.executeCommand("default:replacePreviousChar",{text:e.text,replaceCharCnt:e.replaceCharCnt}),r.vimState.cursorPosition=u.Position.FromVSCodePosition(r.vimState.editor.selection.start),r.vimState.cursorStartPosition=u.Position.FromVSCodePosition(r.vimState.editor.selection.start))}))})),E(e,"compositionStart",()=>n(this,void 0,void 0,function*(){g.taskQueue.enqueueTask(()=>n(this,void 0,void 0,function*(){t.isInComposition=!0}))})),E(e,"compositionEnd",()=>n(this,void 0,void 0,function*(){g.taskQueue.enqueueTask(()=>n(this,void 0,void 0,function*(){const e=yield M();let r=t.composingText;t.reset(),yield e.handleMultipleKeyEvents(r.split(""))}))})),k(e,"vim.showQuickpickCmdLine",()=>n(this,void 0,void 0,function*(){const e=yield M();yield a.commandLine.PromptAndRun("",e.vimState),e.updateView(e.vimState)})),k(e,"vim.remap",e=>n(this,void 0,void 0,function*(){g.taskQueue.enqueueTask(()=>n(this,void 0,void 0,function*(){const t=yield M();if(e.after)for(const r of e.after)yield t.handleKeyEvent(p.Notation.NormalizeKey(r,s.configuration.leader));else if(e.commands)for(const r of e.commands)":"===r.command.slice(0,1)?(yield a.commandLine.Run(r.command.slice(1,r.command.length),t.vimState),yield t.updateView(t.vimState)):yield o.commands.executeCommand(r.command,r.args)}))})),k(e,"toggleVim",()=>n(this,void 0,void 0,function*(){s.configuration.disableExt=!s.configuration.disableExt,S(s.configuration.disableExt,t)}));for(const t of s.configuration.boundKeyCombinations)k(e,t.command,()=>A(`${t.key}`));if(o.window.activeTextEditor){let e=yield M();e.updateView(e.vimState,{drawSelection:!1,revealRange:!1})}w.loadSearchHistory(),S(s.configuration.disableExt,t)})},process.on("unhandledRejection",function(e,t){y.logger.error(`Unhandled Rejection at: Promise ${t}. Reason: ${e}.`)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(12),r(22),r(24),r(66),r(119),r(18),r(120),r(311),r(312),r(313)},function(e){e.exports={name:"vim",displayName:"Vim",description:"Vim emulation for Visual Studio Code",icon:"images/icon.png",version:"0.16.12",publisher:"vscodevim",galleryBanner:{color:"#e3f4ff",theme:"light"},license:"MIT",keywords:["vim","vi","vscodevim"],repository:{type:"git",url:"https://github.com/VSCodeVim/Vim.git"},homepage:"https://github.com/VSCodeVim/Vim",bugs:{url:"https://github.com/VSCodeVim/Vim/issues"},engines:{vscode:"^1.27.0"},categories:["Other","Keymaps"],activationEvents:["*","onCommand:type"],qna:"https://vscodevim-slackin.azurewebsites.net/",main:"./out/extension",contributes:{commands:[{command:"vim.remap",title:"Vim: Remap any key combination that VS Code supports to Vim motions/operators/ExCommands/macro."},{command:"toggleVim",title:"Vim: Toggle Vim Mode"},{command:"vim.showQuickpickCmdLine",title:"Vim: Show Command Line"}],keybindings:[{key:"Escape",command:"extension.vim_escape",when:"editorTextFocus && vim.active && !inDebugRepl"},{key:"Home",command:"extension.vim_home",when:"editorTextFocus && vim.active && !inDebugRepl && vim.mode != 'Insert'"},{key:"End",command:"extension.vim_end",when:"editorTextFocus && vim.active && !inDebugRepl && vim.mode != 'Insert'"},{key:"Insert",command:"extension.vim_insert",when:"editorTextFocus && vim.active && !inDebugRepl"},{key:"Backspace",command:"extension.vim_backspace",when:"editorTextFocus && vim.active && !inDebugRepl"},{key:"Delete",command:"extension.vim_delete",when:"editorTextFocus && vim.active && vim.mode != 'Insert' && !inDebugRepl"},{key:"tab",command:"extension.vim_tab",when:"editorFocus && vim.active && vim.mode != 'Insert' && !inDebugRepl"},{key:"left",command:"extension.vim_left",when:"editorTextFocus && vim.active && !inDebugRepl"},{key:"right",command:"extension.vim_right",when:"editorTextFocus && vim.active && !inDebugRepl"},{key:"up",command:"extension.vim_up",when:"editorTextFocus && vim.active && !inDebugRepl && !suggestWidgetVisible && !suggestWidgetMultipleSuggestions"},{key:"down",command:"extension.vim_down",when:"editorTextFocus && vim.active && !inDebugRepl && !suggestWidgetVisible && !suggestWidgetMultipleSuggestions"},{key:"g g",command:"list.focusFirst",when:"listFocus && !inputFocus"},{key:"h",command:"list.collapse",when:"listFocus && !inputFocus"},{key:"j",command:"list.focusDown",when:"listFocus && !inputFocus"},{key:"k",command:"list.focusUp",when:"listFocus && !inputFocus"},{key:"l",command:"list.select",when:"listFocus && !inputFocus"},{key:"o",command:"list.toggleExpand",when:"listFocus && !inputFocus"},{key:"ctrl+a",command:"extension.vim_ctrl+a",when:"editorTextFocus && vim.active && vim.use<C-a> && !inDebugRepl"},{key:"ctrl+b",command:"extension.vim_ctrl+b",when:"editorTextFocus && vim.active && vim.use<C-b> && vim.mode != 'Insert' && !inDebugRepl"},{key:"ctrl+c",command:"extension.vim_ctrl+c",when:"editorTextFocus && vim.active && vim.use<C-c> && !inDebugRepl && vim.overrideCtrlC"},{key:"ctrl+d",command:"extension.vim_ctrl+d",when:"editorTextFocus && vim.active && !inDebugRepl"},{key:"ctrl+d",command:"list.focusPageDown",when:"listFocus && !inputFocus"},{key:"ctrl+e",command:"extension.vim_ctrl+e",when:"editorTextFocus && vim.active && vim.use<C-e> && !inDebugRepl"},{key:"ctrl+f",command:"extension.vim_ctrl+f",when:"editorTextFocus && vim.active && vim.use<C-f> && vim.mode != 'Insert' && !inDebugRepl"},{key:"ctrl+h",command:"extension.vim_ctrl+h",when:"editorTextFocus && vim.active && vim.use<C-h> && !inDebugRepl"},{key:"ctrl+i",command:"extension.vim_ctrl+i",when:"editorTextFocus && vim.active && vim.use<C-i> && !inDebugRepl"},{key:"ctrl+j",command:"extension.vim_ctrl+j",when:"editorTextFocus && vim.active && vim.use<C-j> && !inDebugRepl"},{key:"ctrl+k",command:"extension.vim_ctrl+k",when:"editorTextFocus && vim.active && vim.use<C-k> && !inDebugRepl"},{key:"ctrl+l",command:"extension.vim_navigateCtrlL",when:"editorTextFocus && vim.active && vim.use<C-l> && !inDebugRepl"},{key:"ctrl+n",command:"extension.vim_ctrl+n",when:"editorTextFocus && vim.active && vim.use<C-n> && !inDebugRepl"},{key:"ctrl+o",command:"extension.vim_ctrl+o",when:"editorTextFocus && vim.active && vim.use<C-o> && !inDebugRepl"},{key:"ctrl+p",command:"extension.vim_ctrl+p",when:"suggestWidgetVisible && vim.active && vim.use<C-p>"},{key:"ctrl+q",command:"extension.vim_winCtrlQ",when:"editorTextFocus && vim.active && vim.use<C-q> && !inDebugRepl"},{key:"ctrl+r",command:"extension.vim_ctrl+r",when:"editorTextFocus && vim.active && vim.use<C-r> && !inDebugRepl"},{key:"ctrl+t",command:"extension.vim_ctrl+t",when:"editorTextFocus && vim.active && vim.use<C-t> && !inDebugRepl"},{key:"ctrl+u",command:"extension.vim_ctrl+u",when:"editorTextFocus && vim.active && vim.use<C-u> && !inDebugRepl"},{key:"ctrl+u",command:"list.focusPageUp",when:"listFocus && !inputFocus"},{key:"ctrl+v",command:"extension.vim_ctrl+v",when:"editorTextFocus && vim.active && vim.use<C-v> && !inDebugRepl"},{key:"ctrl+w",command:"extension.vim_ctrl+w",when:"editorTextFocus && vim.active && vim.use<C-w> && !inDebugRepl"},{key:"ctrl+x",command:"extension.vim_ctrl+x",when:"editorTextFocus && vim.active && vim.use<C-x> && !inDebugRepl"},{key:"ctrl+y",command:"extension.vim_ctrl+y",when:"editorTextFocus && vim.active && vim.use<C-y> && !inDebugRepl"},{key:"ctrl+[",command:"extension.vim_ctrl+[",when:"editorTextFocus && vim.active && vim.use<C-[> && !inDebugRepl"},{key:"ctrl+]",command:"extension.vim_ctrl+]",when:"editorTextFocus && vim.active && vim.use<C-]> && !inDebugRepl"},{key:"ctrl+shift+2",command:"extension.vim_ctrl+shift+2",when:"editorTextFocus && vim.active && vim.use<C-shift+2>"},{key:"ctrl+pagedown",command:"extension.vim_ctrl+pagedown",when:"editorTextFocus && vim.active && vim.use<C-pagedown> && !inDebugRepl"},{key:"ctrl+pageup",command:"extension.vim_ctrl+pageup",when:"editorTextFocus && vim.active && vim.use<C-pageup> && !inDebugRepl"},{key:"shift+G",command:"list.focusLast",when:"listFocus && !inputFocus"},{key:"shift+backspace",command:"extension.vim_shift+backspace",when:"editorTextFocus && vim.active && vim.use<shift+BS> && vim.mode == 'SearchInProgressMode' && !inDebugRepl"},{key:"cmd+left",command:"extension.vim_cmd+left",when:"editorTextFocus && vim.active && vim.use<D-left> && !inDebugRepl && vim.mode != 'Insert'"},{key:"cmd+right",command:"extension.vim_cmd+right",when:"editorTextFocus && vim.active && vim.use<D-right> &&  !inDebugRepl && vim.mode != 'Insert'"},{key:"cmd+a",command:"extension.vim_cmd+a",when:"editorTextFocus && vim.active && vim.use<D-a> && !inDebugRepl && vim.mode != 'Insert'"},{key:"cmd+c",command:"extension.vim_cmd+c",when:"editorTextFocus && vim.active && vim.use<D-c> && vim.overrideCopy && !inDebugRepl"},{key:"cmd+d",command:"extension.vim_cmd+d",when:"editorTextFocus && vim.active && vim.use<D-d> && !inDebugRepl"},{key:"cmd+v",command:"extension.vim_cmd+v",when:"editorTextFocus && vim.active && vim.use<D-v> && vim.overrideCmdV && !inDebugRepl"},{key:"ctrl+alt+down",linux:"shift+alt+down",mac:"cmd+alt+down",command:"extension.vim_cmd+alt+down",when:"editorTextFocus && vim.active && !inDebugRepl"},{key:"ctrl+alt+up",linux:"shift+alt+up",mac:"cmd+alt+up",command:"extension.vim_cmd+alt+up",when:"editorTextFocus && vim.active && !inDebugRepl"}],configuration:{title:"Vim Configuration",type:"object",properties:{"vim.debug.loggingLevel":{type:"string",description:"Extension logging level",default:"error"},"vim.normalModeKeyBindings":{type:"array",description:"Remapped keys in normal mode. Allows mapping to vim commands or vscode actions. See README for more."},"vim.normalModeKeyBindingsNonRecursive":{type:"array",description:"Non-recursive remapped keys in normal mode. Allows mapping to vim commands or vscode actions. See README for more."},"vim.useCtrlKeys":{type:"boolean",description:"Enable some vim ctrl key commands that override otherwise common operations, like ctrl+c",default:!0},"vim.leader":{type:"string",description:"What key should <leader> map to in remappings?",default:"\\"},"vim.searchHighlightColor":{type:"string",description:"Color of the search highlight.",default:"rgba(150, 150, 255, 0.3)"},"vim.useSystemClipboard":{type:"boolean",description:"Use system clipboard for unnamed register.",default:!1},"vim.overrideCopy":{type:"boolean",description:"Override VSCode's copy command with our own copy command, which works better with VSCodeVim. Turn this off if copying is not working.",default:!0},"vim.insertModeKeyBindings":{type:"array",description:"Remapped keys in insert mode. Allows mapping to vim commands or vscode actions. See README for more."},"vim.insertModeKeyBindingsNonRecursive":{type:"array",description:"Non-recursive keybinding overrides to use for insert mode. Allows mapping to vim commands or vscode actions. See README for more."},"vim.visualModeKeyBindings":{type:"array",description:"Remapped keys in visual mode. Allows mapping to vim commands or vscode actions. See README for more."},"vim.visualModeKeyBindingsNonRecursive":{type:"array",description:"Non-recursive keybinding overrides to use for visual mode. Allows mapping to vim commands or vscode actions. See README for more."},"vim.textwidth":{type:"number",description:"Width to word-wrap to when using gq.",default:80},"vim.timeout":{type:"number",description:"Timeout in milliseconds for remapped commands",default:1e3},"vim.scroll":{type:"number",description:"Number of lines to scroll with CTRL-U and CTRL-D commands.",default:20},"vim.showcmd":{type:"boolean",description:"Show the text of any command you are in the middle of writing.",default:!0},"vim.showmodename":{type:"boolean",description:"Show the name of the current mode in the statusbar.",default:!0},"vim.iskeyword":{type:"string",description:"keywords contain alphanumeric characters and '_'",default:"/\\()\"':,.;<>~!@#$%^&*|+=[]{}`?-"},"vim.ignorecase":{type:"boolean",description:"Ignore case in search patterns.",default:!0},"vim.smartcase":{type:"boolean",description:"Override the 'ignorecase' option if the search pattern contains upper case characters.",default:!0},"vim.easymotion":{type:"boolean",description:"Enable the EasyMotion plugin for Vim.",default:!1},"vim.easymotionMarkerBackgroundColor":{type:"string",description:"Set a custom background color for EasyMotion markers."},"vim.easymotionMarkerForegroundColorOneChar":{type:"string",description:"Set a custom color for the text on one character long markers."},"vim.easymotionMarkerForegroundColorTwoChar":{type:"string",description:"Set a custom color for the text on two character long markers."},"vim.easymotionMarkerWidthPerChar":{type:"number",description:"Set the width (in pixels) allocated to each character in the match.",default:8},"vim.easymotionMarkerHeight":{type:"number",description:"Set the height of the marker.",default:14},"vim.easymotionMarkerFontFamily":{type:"string",description:"Set the font family of the marker text.",default:"Consolas"},"vim.easymotionMarkerFontSize":{type:"string",description:"Set the font size of the marker text.",default:"14"},"vim.easymotionMarkerFontWeight":{type:"string",description:"Set the font weight of the marker text.",default:"normal"},"vim.easymotionMarkerYOffset":{type:"number",description:"Set the Y offset of the marker text (the distance from the top).",default:0},"vim.easymotionKeys":{type:"string",description:"Set the characters used for jump marker name",default:"hklyuiopnm,qwertzxcvbasdgjf;"},"vim.easymotionJumpToAnywhereRegex":{type:"string",description:"Regex matches for JumpToAnywhere motion",default:"\\b[A-Za-z0-9]|[A-Za-z0-9]\\b|_.|#.|[a-z][A-Z]"},"vim.sneak":{type:"boolean",description:"Enable the Sneak plugin for Vim.",default:!1},"vim.sneakUseIgnorecaseAndSmartcase":{type:"boolean",description:"Case sensitivity is determined by 'ignorecase' and 'smartcase'",default:!1},"vim.surround":{type:"boolean",description:"Enable the Surround plugin for Vim.",default:!0},"vim.hlsearch":{type:"boolean",description:"Show all matches of the most recent search pattern",default:!1},"vim.incsearch":{type:"boolean",description:"Show where a / search matches as you type it.",default:!0},"vim.history":{type:"number",description:"How much search or command history should be remembered",default:50},"vim.autoindent":{type:"boolean",description:"Indent code automatically.",default:!0},"vim.startInInsertMode":{type:"boolean",description:"Start in Insert Mode."},"vim.handleKeys":{type:"object",description:"Option to delegate certain key combinations back to VSCode to be handled natively",default:{"<C-d>":!0}},"vim.statusBarColorControl":{type:"boolean",description:"Allow VSCodeVim to change status bar color based on mode",default:!1},"vim.statusBarColors.normal":{type:"string",description:"Status bar color when in Normal mode",default:"#005f5f"},"vim.statusBarColors.insert":{type:"string",description:"Status bar color when in Insert mode",default:"#5f0000"},"vim.statusBarColors.visual":{type:"string",description:"Status bar color when in Visual mode",default:"#5f00af"},"vim.statusBarColors.visualline":{type:"string",description:"Status bar color when in VisualLine mode",default:"#005f5f"},"vim.statusBarColors.visualblock":{type:"string",description:"Status bar color when in VisualBlock mode",default:"#86592d"},"vim.statusBarColors.replace":{type:"string",description:"Status bar color when in Replace mode",default:"#00000"},"vim.visualstar":{type:"boolean",description:"In visual mode, start a search with * or # using the current selection",default:!1},"vim.changeWordIncludesWhitespace":{type:"boolean",description:"Includes trailing whitespace when changing word",default:!1},"vim.foldfix":{type:"boolean",description:"Uses a hack to move around folds properly",default:!1},"vim.mouseSelectionGoesIntoVisualMode":{type:"boolean",description:"Does dragging with the mouse put you into visual mode",default:!0},"vim.disableExtension":{type:"boolean",description:"Disables the VSCodeVim extension.",default:!1},"vim.enableNeovim":{type:"boolean",description:"Use neovim on backend. (only works for Ex commands right now). You should restart VScode after enable/disabling this for the changes to take effect. NOTE: Neovim must be installed (v0.2.0) and neovimPath must be set the executable in order for this setting to work. Otherwise, vscodevim will crash.",default:!1},"vim.neovimPath":{type:"string",description:"Path to run neovim executable. For example, /usr/bin/nvim, or  C:\\Program Files\\Neovim\\bin\\nvim.exe",default:"nvim"},"vim.substituteGlobalFlag":{type:"boolean",description:"Automatically apply the global flag, /g, to substitute commands. When set to true, use /g to mean only first match should be replaced.",default:!1},"vim.cursorStylePerMode.normal":{type:"string",description:"Cursor style for Normal mode"},"vim.cursorStylePerMode.insert":{type:"string",description:"Cursor style for Insert mode"},"vim.cursorStylePerMode.replace":{type:"string",description:"Cursor style for Replace mode"},"vim.cursorStylePerMode.visual":{type:"string",description:"Cursor style for Visual mode"},"vim.cursorStylePerMode.visualline":{type:"string",description:"Cursor style for VisualLine mode"},"vim.cursorStylePerMode.visualblock":{type:"string",description:"Cursor style for VisualBlock mode"},"vim.autoSwitchInputMethod.enable":{type:"boolean",description:"Switch input method automatically when mode changed",default:!1},"vim.autoSwitchInputMethod.defaultIM":{type:"string",description:"The input method for your normal mode, find more information here:https://github.com/VSCodeVim/Vim#use-im-select",default:""},"vim.autoSwitchInputMethod.switchIMCmd":{type:"string",description:"The shell command to switch input method",default:"/path/to/im-select {im}"},"vim.autoSwitchInputMethod.obtainIMCmd":{type:"string",description:"The shell command to get current input method",default:"/path/to/im-select"},"vim.whichwrap":{type:"string",description:"Comma-separated list of motion keys that should wrap to next/previous line.",default:""}}}},scripts:{"vscode:prepublish":"gulp build",build:"gulp build",test:"node ./node_modules/vscode/bin/test",forceprettier:"gulp forceprettier",postinstall:"node ./node_modules/vscode/bin/install"},dependencies:{appdirectory:"0.1.0",clipboardy:"1.2.3","diff-match-patch":"1.0.4",lodash:"4.17.11",mkdirp:"0.5.1","neovim-client":"2.1.0","promised-neovim-client":"2.0.2",untildify:"3.0.3",winston:"3.1.0","winston-console-for-electron":"0.0.3"},devDependencies:{"@types/clipboardy":"1.1.0","@types/copy-paste":"1.1.30","@types/diff":"3.5.1","@types/diff-match-patch":"1.0.32","@types/lodash":"4.14.117","@types/mocha":"5.2.5","@types/node":"9.6.35","@types/sinon":"5.0.5",gulp:"4.0.0","gulp-bump":"3.1.1","gulp-git":"2.8.0","gulp-sourcemaps":"2.6.4","gulp-tag-version":"1.3.1","gulp-tslint":"8.1.3","gulp-typescript":"4.0.2",minimist:"1.2.0",mocha:"5.2.0","plugin-error":"1.0.1",prettier:"1.14.3",sinon:"7.0.0",tslint:"5.11.0",typescript:"3.1.3",vscode:"1.1.21"}}},function(e,t,r){"use strict";const n=r(17),{warn:i}=r(84),o=t;o.version=r(150).version,o.transports=r(151),o.config=r(62),o.addColors=n.levels,o.format=n.format,o.createLogger=r(103),o.ExceptionHandler=r(105),o.Container=r(218),o.Transport=r(26),o.loggers=new o.Container;const s=o.createLogger();Object.keys(o.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","configure"]).forEach(e=>o[e]=((...t)=>s[e](...t))),Object.defineProperty(o,"level",{get:()=>s.level,set(e){s.level=e}}),Object.defineProperty(o,"exceptions",{get:()=>s.exceptions}),["exitOnError"].forEach(e=>{Object.defineProperty(o,e,{get:()=>s[e],set(t){s[e]=t}})}),Object.defineProperty(o,"default",{get:()=>({exceptionHandlers:s.exceptionHandlers,transports:s.transports})}),i.deprecated(o,"setLevels"),i.forFunctions(o,"useFormat",["cli"]),i.forProperties(o,"useFormat",["padLevels","stripColors"]),i.forFunctions(o,"deprecated",["addRewriter","addFilter","clone","extend"]),i.forProperties(o,"deprecated",["emitErrs","levelLength"]),i.moved(o,"createLogger","Logger")},function(e,t,r){var n={};e.exports=n,n.themes={};var i=r(6),o=n.styles=r(126),s=Object.defineProperties,a=new RegExp(/[\r\n]+/g);n.supportsColor=r(127).supportsColor,void 0===n.enabled&&(n.enabled=!1!==n.supportsColor()),n.enable=function(){n.enabled=!0},n.disable=function(){n.enabled=!1},n.stripColors=n.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};n.stylize=function(e,t){return n.enabled?o[t].open+e+o[t].close:e+""};var u=/[|\\{}()[\]^$+*?.]/g;function c(e){var t=function e(){return function(){var e=Array.prototype.slice.call(arguments).map(function(e){return null!=e&&e.constructor===String?e:i.inspect(e)}).join(" ");if(!n.enabled||!e)return e;var t=-1!=e.indexOf("\n"),r=this._styles,s=r.length;for(;s--;){var u=o[r[s]];e=u.open+e.replace(u.closeRe,u.open)+u.close,t&&(e=e.replace(a,function(e){return u.close+e+u.open}))}return e}.apply(e,arguments)};return t._styles=e,t.__proto__=h,t}var l,d=(l={},o.grey=o.gray,Object.keys(o).forEach(function(e){o[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(u,"\\$&")}(o[e].close),"g"),l[e]={get:function(){return c(this._styles.concat(e))}}}),l),h=s(function(){},d);n.setTheme=function(e){if("string"!=typeof e)for(var t in e)!function(t){n[t]=function(r){if("object"==typeof e[t]){var i=r;for(var o in e[t])i=n[e[t][o]](i);return i}return n[e[t]](r)}}(t);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var f=function(e,t){var r=t.split("");return(r=r.map(e)).join("")};for(var p in n.trap=r(129),n.zalgo=r(130),n.maps={},n.maps.america=r(131)(n),n.maps.zebra=r(132)(n),n.maps.rainbow=r(133)(n),n.maps.random=r(134)(n),n.maps)!function(e){n[e]=function(t){return f(n.maps[e],t)}}(p);s(n,function(){var e={};return Object.keys(d).forEach(function(t){e[t]={get:function(){return c([t])}}}),e}())},function(e,t){var r={};e.exports=r;var n={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(n).forEach(function(e){var t=n[e],i=r[e]=[];i.open="["+t[0]+"m",i.close="["+t[1]+"m"})},function(e,t,r){"use strict";var n=r(19),i=r(128),o=process.env,s=void 0;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;var t=s?1:0;if("win32"===process.platform){var r=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(e){return e in o})||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in o){var a=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)?1:"COLORTERM"in o?1:(o.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,r){"use strict";e.exports=function(e,t){var r=(t=t||process.argv).indexOf("--"),n=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(n+e);return-1!==i&&(-1===r||i<r)}},function(e,t){e.exports=function(e,t){var r="";e=(e=e||"Run the trap, drop the bass").split("");var n={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return e.forEach(function(e){e=e.toLowerCase();var t=n[e]||[" "],i=Math.floor(Math.random()*t.length);r+=void 0!==n[e]?n[e][i]:e}),r}},function(e,t){e.exports=function(e,t){e=e||"   he is here   ";var r={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},n=[].concat(r.up,r.down,r.mid);function i(e){return Math.floor(Math.random()*e)}function o(e){var t=!1;return n.filter(function(r){t=r===e}),t}return function(e,t){var n,s,a="";for(s in(t=t||{}).up=void 0===t.up||t.up,t.mid=void 0===t.mid||t.mid,t.down=void 0===t.down||t.down,t.size=void 0!==t.size?t.size:"maxi",e=e.split(""))if(!o(s)){switch(a+=e[s],n={up:0,down:0,mid:0},t.size){case"mini":n.up=i(8),n.mid=i(2),n.down=i(8);break;case"maxi":n.up=i(16)+3,n.mid=i(4)+1,n.down=i(64)+3;break;default:n.up=i(8)+1,n.mid=i(6)/2,n.down=i(8)+1}var u=["up","mid","down"];for(var c in u)for(var l=u[c],d=0;d<=n[l];d++)t[l]&&(a+=r[l][i(r[l].length)])}return a}(e,t)}},function(e,t){e.exports=function(e){return function(t,r,n){if(" "===t)return t;switch(r%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}},function(e,t){e.exports=function(e){return function(t,r,n){return r%2==0?t:e.inverse(t)}}},function(e,t){e.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(r,n,i){return" "===r?r:e[t[n++%t.length]](r)}}},function(e,t){e.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(r,n,i){return" "===r?r:e[t[Math.round(Math.random()*(t.length-2))]](r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"cli",{value:r(136)}),Object.defineProperty(t,"npm",{value:r(137)}),Object.defineProperty(t,"syslog",{value:r(138)})},function(e,t,r){"use strict";t.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},t.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(e,t,r){"use strict";t.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},t.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(e,t,r){"use strict";t.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},t.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(e,t,r){var n={"./align.js":72,"./browser.js":140,"./cli.js":73,"./colorize.js":37,"./combine.js":74,"./examples/combine.js":142,"./examples/filter.js":143,"./examples/invalid.js":144,"./examples/metadata.js":145,"./examples/padLevels.js":146,"./examples/volume.js":147,"./format.js":10,"./index.js":17,"./json.js":53,"./label.js":75,"./levels.js":51,"./logstash.js":76,"./metadata.js":77,"./ms.js":148,"./pad-levels.js":52,"./pretty-print.js":78,"./printf.js":79,"./simple.js":80,"./splat.js":81,"./timestamp.js":82,"./uncolorize.js":83};function i(e){var t=o(e);return r(t)}function o(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=139},function(e,t,r){"use strict";const n=t.format=r(10);t.levels=r(51),Object.defineProperty(n,"align",{value:r(72)}),Object.defineProperty(n,"cli",{value:r(73)}),Object.defineProperty(n,"combine",{value:r(74)}),Object.defineProperty(n,"colorize",{value:r(37)}),Object.defineProperty(n,"json",{value:r(53)}),Object.defineProperty(n,"label",{value:r(75)}),Object.defineProperty(n,"logstash",{value:r(76)}),Object.defineProperty(n,"metadata",{value:r(77)}),Object.defineProperty(n,"padLevels",{value:r(52)}),Object.defineProperty(n,"prettyPrint",{value:r(78)}),Object.defineProperty(n,"printf",{value:r(79)}),Object.defineProperty(n,"simple",{value:r(80)}),Object.defineProperty(n,"splat",{value:r(81)}),Object.defineProperty(n,"timestamp",{value:r(82)}),Object.defineProperty(n,"uncolorize",{value:r(83)})},function(e,t,r){var n;!function(i){"use strict";var o={},s=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,a=/\d\d?/,u=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,c=/\[([^]*?)\]/gm,l=function(){};function d(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r.push(e[n].substr(0,t));return r}function h(e){return function(t,r,n){var i=n[e].indexOf(r.charAt(0).toUpperCase()+r.substr(1).toLowerCase());~i&&(t.month=i)}}function f(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],g=d(m,3),v=d(p,3);o.i18n={dayNamesShort:v,dayNames:p,monthNamesShort:g,monthNames:m,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var y={D:function(e){return e.getDate()},DD:function(e){return f(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDay()},dd:function(e){return f(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return f(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return String(e.getFullYear()).substr(2)},YYYY:function(e){return f(e.getFullYear(),4)},h:function(e){return e.getHours()%12||12},hh:function(e){return f(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return f(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return f(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return f(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return f(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return f(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+f(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},x={D:[a,function(e,t){e.day=t}],Do:[new RegExp(a.source+u.source),function(e,t){e.day=parseInt(t,10)}],M:[a,function(e,t){e.month=t-1}],YY:[a,function(e,t){var r=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(t>68?r-1:r)+t}],h:[a,function(e,t){e.hour=t}],m:[a,function(e,t){e.minute=t}],s:[a,function(e,t){e.second=t}],YYYY:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],d:[a,l],ddd:[u,l],MMM:[u,h("monthNamesShort")],MMMM:[u,h("monthNames")],a:[u,function(e,t,r){var n=t.toLowerCase();n===r.amPm[0]?e.isPm=!1:n===r.amPm[1]&&(e.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(e,t){"Z"===t&&(t="+00:00");var r,n=(t+"").match(/([\+\-]|\d\d)/gi);n&&(r=60*n[1]+parseInt(n[2],10),e.timezoneOffset="+"===n[0]?r:-r)}]};x.dd=x.d,x.dddd=x.ddd,x.DD=x.D,x.mm=x.m,x.hh=x.H=x.HH=x.h,x.MM=x.M,x.ss=x.s,x.A=x.a,o.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(e,t,r){var n=r||o.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=o.masks[t]||t||o.masks.default;var i=[];return(t=(t=t.replace(c,function(e,t){return i.push(t),"??"})).replace(s,function(t){return t in y?y[t](e,n):t.slice(1,t.length-1)})).replace(/\?\?/g,function(){return i.shift()})},o.parse=function(e,t,r){var n=r||o.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=o.masks[t]||t,e.length>1e3)return!1;var i=!0,a={};if(t.replace(s,function(t){if(x[t]){var r=x[t],o=e.search(r[0]);~o?e.replace(r[0],function(t){return r[1](a,t,n),e=e.substr(o+t.length),t}):i=!1}return x[t]?"":t.slice(1,t.length-1)}),!i)return!1;var u,c=new Date;return!0===a.isPm&&null!=a.hour&&12!=+a.hour?a.hour=+a.hour+12:!1===a.isPm&&12==+a.hour&&(a.hour=0),null!=a.timezoneOffset?(a.minute=+(a.minute||0)-+a.timezoneOffset,u=new Date(Date.UTC(a.year||c.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0))):u=new Date(a.year||c.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0),u},e.exports?e.exports=o:void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){const{format:n}=r(17),{combine:i,timestamp:o,label:s}=n,a=i(s({label:"right meow!"}),o()).transform({level:"info",message:"What time is the testing at?"});console.dir(a)},function(e,t,r){const{format:n}=r(17),{combine:i,timestamp:o,label:s}=n,a=n((e,t)=>!e.private&&e)();console.dir(a.transform({level:"error",message:"Public error to share"})),console.dir(a.transform({level:"error",private:!0,message:"This is super secret - hide it."}));const u=n.combine(n(e=>!1)(),n(e=>{throw new Error("Never reached")})());console.dir(u.transform({level:"info",message:"wow such testing"}))},function(e,t,r){const{format:n}=r(17);n(function(e,t,r,n){return e})},function(e,t,r){const{format:n}=r(17),{combine:i,json:o,metadata:s,timestamp:a}=n,u=i(a(),s(),o()).transform({level:"info",message:"This should be a message.",application:"Microsoft Office",store:"Big Box Store",purchaseAmount:"9.99"});console.dir(u);const c=i(a(),s({fillExcept:["message","level","timestamp"]}),o()).transform({level:"info",message:"This should have attached metadata",category:"movies",subCategory:"action"});console.dir(c);const l=i(a(),s({fillWith:["publisher","author","book"],key:"bookInfo"}),o()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel"});console.dir(l);const d=i(a(),s({fillWith:["publisher","author","book"],key:"bookInfo"}),s({fillWith:["purchasePrice","purchaseDate","transactionId"],key:"transactionInfo"}),s({fillExcept:["level","message","label","timestamp"]}),o()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel",purchasePrice:"9.99",purchaseDate:"2.10.2018",transactionId:"123ABC"});console.dir(d)},function(e,t,r){const{format:n}=r(17),{combine:i,padLevels:o,simple:s}=n,{MESSAGE:a}=r(4),u=i(o({levels:{error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6}}),s()),c=u.transform({level:"info",message:"This is an info level message."}),l=u.transform({level:"error",message:"This is an error level message."}),d=u.transform({level:"verbose",message:"This is a verbose level message."});console.dir(c[a]),console.dir(l[a]),console.dir(d[a])},function(e,t,r){const{format:n}=r(17),i=n((e,t)=>(t.yell?e.message=e.message.toUpperCase():t.whisper&&(e.message=e.message.toLowerCase()),e)),o=i({yell:!0});console.dir(o.transform({level:"info",message:"sorry for making you YELL in your head!"},o.options));const s=i({whisper:!0});console.dir(s.transform({level:"info",message:"WHY ARE THEY MAKING US YELL SO MUCH!"},s.options))},function(e,t,r){"use strict";const n=r(10),i=r(149);e.exports=n(e=>{const t=+new Date;return this.diff=t-(this.prevTime||t),this.prevTime=t,e.ms=`+${i(this.diff)}`,e})},function(e,t){var r=1e3,n=60*r,i=60*n,o=24*i,s=7*o,a=365.25*o;function u(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var u=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*n;case"seconds":case"second":case"secs":case"sec":case"s":return u*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return u(e,t,o,"day");if(t>=i)return u(e,t,i,"hour");if(t>=n)return u(e,t,n,"minute");if(t>=r)return u(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e){e.exports={name:"winston",description:"A logger for just about everything.",version:"3.1.0",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{async:"^2.6.0",diagnostics:"^1.1.1","is-stream":"^1.1.0",logform:"^1.9.1","one-time":"0.0.4","readable-stream":"^2.3.6","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.2.0"},devDependencies:{"@types/node":"^10.9.3","abstract-winston-transport":">= 0.5.1",assume:"^2.1.0",colors:"^1.3.2","cross-spawn-async":"^2.0.0","eslint-config-populist":"^4.1.0",hock:"^1.3.3",mocha:"^5.2.0",nyc:"^13.0.1",rimraf:"^2.6.2",split2:"^3.0.0","std-mocks":"^1.0.0",through2:"^2.0.0","winston-compat":"^0.1.1"},main:"./lib/winston",types:"./index.d.ts",scripts:{lint:"populist lib/*.js lib/winston/*.js lib/winston/**/*.js",pretest:"npm run lint",test:"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit"},engines:{node:">= 6.4.0"},license:"MIT",_resolved:"https://registry.npmjs.org/winston/-/winston-3.1.0.tgz",_integrity:"sha512-FsQfEE+8YIEeuZEYhHDk5cILo1HOcWkGwvoidLrDgPog0r4bser1lEIOco2dN9zpDJ1M88hfDgZvxe5z4xNcwg==",_from:"winston@3.1.0"}},function(e,t,r){"use strict";Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:()=>r(152)}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:()=>r(158)}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:()=>r(206)}),Object.defineProperty(t,"Stream",{configurable:!0,enumerable:!0,get:()=>r(209)})},function(e,t,r){"use strict";const n=r(19),{LEVEL:i,MESSAGE:o}=r(4),s=r(26);e.exports=class extends s{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=e.eol||n.EOL}log(e,t){return setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[i]]?(console._stderr?console._stderr.write(`${e[o]}${this.eol}`):console.error(e[o]),void(t&&t())):this.consoleWarnLevels[e[i]]?(console._stderr?console._stderr.write(`${e[o]}${this.eol}`):console.warn(e[o]),void(t&&t())):(console._stdout?console._stdout.write(`${e[o]}${this.eol}`):console.log(e[o]),void(t&&t()))}_stringArrayToSet(e,t){if(!e)return{};if(t=t||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(t);return e.reduce((e,r)=>{if("string"!=typeof r)throw new Error(t);return e[r]=!0,e},{})}}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){e.exports=r(6).deprecate},function(e,t){e.exports=require("buffer")},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n=r(23).Buffer,i=r(6);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,o=n.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=o,i=a,t.copy(r,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,r){"use strict";const n=r(8),i=r(9),o=r(159),s=r(188),{MESSAGE:a}=r(4),{Stream:u,PassThrough:c}=r(29),l=r(26),d=r(60)("winston:file"),h=r(19),f=r(204);e.exports=class extends l{constructor(e={}){function t(t,...r){r.slice(1).forEach(r=>{if(e[r])throw new Error(`Cannot set ${r} and ${t} together`)})}if(super(e),this.name=e.name||"file",this._stream=new c,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)t("filename or dirname","stream"),this._basename=this.filename=e.filename?i.basename(e.filename):"winston.log",this.dirname=e.dirname||i.dirname(e.filename),this.options=e.options||{flags:"a"};else{if(!e.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),t("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream))}this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=e.eol||h.EOL,this.tailable=e.tailable||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this.open()}log(e,t=(()=>{})){if(this.silent)return t(),!0;if(this._drain)return void this._stream.once("drain",()=>{this._drain=!1,this.log(e,t)});const r=`${e[a]}${this.eol}`,n=Buffer.byteLength(r);this._pendingSize+=n,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);const i=this._stream.write(r,function(){this._size+=n,this._pendingSize-=n,d("logged %s %s",this._size,r),this.emit("logged",e),this._opening||this._needsNewFile()&&this._endStream(()=>this._rotateFile())}.bind(this));return i?t():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,t()})),d("written",i,this._drain),i}query(e,t){"function"==typeof e&&(t=e,e={}),e=this.normalizeQuery(e);const r=i.join(this.dirname,this.filename);let o="",s=[],a=0;const u=n.createReadStream(r,{encoding:"utf8"});function c(t,r){try{const n=JSON.parse(t);(function(t){if(!t)return;if("object"!=typeof t)return;const r=new Date(t.timestamp);if(e.from&&r<e.from||e.until&&r>e.until||e.level&&e.level!==t.level)return;return!0})(n)&&function(t){if(e.rows&&s.length>=e.rows&&"desc"!==e.order)return void(u.readable&&u.destroy());e.fields&&(t=e.fields.reduce((e,r)=>(e[r]=t[r],e),{}));"desc"===e.order&&s.length>=e.rows&&s.shift();s.push(t)}(n)}catch(e){r||u.emit("error",e)}}u.on("error",e=>{if(u.readable&&u.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,s)}),u.on("data",t=>{const r=(t=(o+t).split(/\n+/)).length-1;let n=0;for(;n<r;n++)(!e.start||a>=e.start)&&c(t[n]),a++;o=t[r]}),u.on("close",()=>{o&&c(o,!0),"desc"===e.order&&(s=s.reverse()),t&&t(null,s)})}stream(e={}){const t=i.join(this.dirname,this.filename),r=new u,n={file:t,start:e.start};return r.destroy=f(n,(e,t)=>{if(e)return r.emit("error",e);try{r.emit("data",t),t=JSON.parse(t),r.emit("log",t)}catch(e){r.emit("error",e)}}),r}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,t)=>{if(e)return this.emit("error",e);d("stat done: %s { size: %s }",this.filename,t),this._size=t,this._dest=this._createStream(this._stream),this._opening=!1})))}stat(e){const t=this._getFile(),r=i.join(this.dirname,t);n.stat(r,(n,i)=>n&&"ENOENT"===n.code?(d("ENOENTok",r),this.filename=t,e(null,0)):n?(d(`err ${n.code} ${r}`),e(n)):!i||this._needsNewFile(i.size)?this._incFile(()=>this.stat(e)):(this.filename=t,void e(null,i.size)))}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e){this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})}_createStream(e){const t=i.join(this.dirname,this.filename);d("create stream start",t,this.options);const r=n.createWriteStream(t,this.options).on("error",e=>d(e)).on("close",()=>d("close",r.path,r.bytesWritten)).on("open",()=>{d("file open ok",t),this.emit("open",t),e.pipe(r),this.rotatedWhileOpening&&(this._stream=new c,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(r),e.end())});if(d("create stream ok",t),this.zippedArchive){const e=s.createGzip();return e.pipe(r),e}return r}_incFile(e){d("_incFile",this.filename);const t=i.extname(this._basename),r=i.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,r,e):(this._created+=1,this._checkMaxFilesIncrementing(t,r,e))}_getFile(){const e=i.extname(this._basename),t=i.basename(this._basename,e),r=this.rotationFormat?this.rotationFormat():this._created,n=!this.tailable&&this._created?`${t}${r}${e}`:`${t}${e}`;return this.zippedArchive?`${n}.gz`:n}_checkMaxFilesIncrementing(e,t,r){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(r);const o=this._created-this.maxFiles,s=`${t}${0!==o?o:""}${e}${this.zippedArchive?".gz":""}`,a=i.join(this.dirname,s);n.unlink(a,r)}_checkMaxFilesTailable(e,t,r){const s=[];if(!this.maxFiles)return;const a=this.zippedArchive?".gz":"";for(let r=this.maxFiles-1;r>1;r--)s.push(function(r,o){let s=`${t}${r-1}${e}${a}`;const u=i.join(this.dirname,s);n.exists(u,c=>{if(!c)return o(null);s=`${t}${r}${e}${a}`,n.rename(u,i.join(this.dirname,s),o)})}.bind(this,r));o(s,()=>{n.rename(i.join(this.dirname,`${t}${e}`),i.join(this.dirname,`${t}1${e}${a}`),r)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(i.default,e,t)};var n=o(r(160)),i=o(r(167));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){r=r||n.default;var a=(0,i.default)(t)?[]:{};e(t,function(e,t,r){(0,s.default)(e)(function(e,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[t]=n,r(e)})},function(e){r(e,a)})};var n=a(r(56)),i=a(r(40)),o=a(r(58)),s=a(r(41));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){var n=r(57),i=r(93),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==s||t==a||t==o||t==u}},function(e,t,r){var n=r(90),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[a]=r:delete e[a]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(function(t,r){var i;try{i=e.apply(this,t)}catch(e){return r(e)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(e){a(r,null,e)},function(e){a(r,e.message?e:new Error(e))}):r(null,i)})};var n=s(r(93)),i=s(r(165)),o=s(r(166));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){try{e(t,r)}catch(e){(0,o.default)(u,e)}}function u(e){throw e}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,o.default)(arguments),r=t.pop();e.call(this,t,r)}};var n,i=r(58),o=(n=i)&&n.__esModule?n:{default:n};e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNextTick=t.hasSetImmediate=void 0,t.fallback=c,t.wrap=l;var n,i=r(58),o=(n=i)&&n.__esModule?n:{default:n};var s,a=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,u=t.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function c(e){setTimeout(e,0)}function l(e){return function(t){var r=(0,o.default)(arguments,1);e(function(){t.apply(null,r)})}}s=a?setImmediate:u?process.nextTick:c,t.default=l(s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(95)),i=o(r(99));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(n.default,1),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,u){if(u=(0,i.default)(u||n.default),e<=0||!t)return u(null);var c=(0,o.default)(t),l=!1,d=0,h=!1;function f(e,t){if(d-=1,e)l=!0,u(e);else{if(t===a.default||l&&d<=0)return l=!0,u(null);h||p()}}function p(){for(h=!0;d<e&&!l;){var t=c();if(null===t)return l=!0,void(d<=0&&u(null));d+=1,r(t.value,t.key,(0,s.default)(f))}h=!1}p()}};var n=u(r(56)),i=u(r(96)),o=u(r(169)),s=u(r(97)),a=u(r(98));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t=(0,i.default)(e);return t?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(t):(r=e,s=(0,o.default)(r),a=-1,u=s.length,function(){var e=s[++a];return a<u?{value:r[e],key:e}:null});var r,s,a,u};var n=s(r(40)),i=s(r(170)),o=s(r(171));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n&&e[n]&&e[n]()};var n="function"==typeof Symbol&&Symbol.iterator;e.exports=t.default},function(e,t,r){var n=r(172),i=r(184),o=r(40);e.exports=function(e){return o(e)?n(e):i(e)}},function(e,t,r){var n=r(173),i=r(174),o=r(176),s=r(177),a=r(179),u=r(180),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),l=!r&&i(e),d=!r&&!l&&s(e),h=!r&&!l&&!d&&u(e),f=r||l||d||h,p=f?n(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||p.push(g);return p}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(175),i=r(59),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},function(e,t,r){var n=r(57),i=r(59),o="[object Arguments]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){(function(e){var n=r(91),i=r(178),o=t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;e.exports=u}).call(this,r(35)(e))},function(e,t){e.exports=function(){return!1}},function(e,t){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?r:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(181),i=r(182),o=r(183),s=o&&o.isTypedArray,a=s?i(s):n;e.exports=a},function(e,t,r){var n=r(57),i=r(94),o=r(59),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(92),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i&&n.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,r(35)(e))},function(e,t,r){var n=r(185),i=r(186),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(187)(Object.keys,Object);e.exports=n},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t){e.exports=require("zlib")},function(e,t,r){"use strict";e.exports=o;var n=r(100),i=r(32);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(27),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n=r(191),i=r(197);e.exports=function(e,t){var r=e.split(t||":"),o=i(r[0]);if(!r.length)return o;for(var s=0,a=r.length-1;s<a;s++)o=n(o).mix(n(i(r[s+1]))).saturate(1).hex();return o}},function(e,t,r){"use strict";var n=r(192),i=r(195),o=[].slice,s=["keyword","gray","hex"],a={};Object.keys(i).forEach(function(e){a[o.call(i[e].labels).sort().join("")]=e});var u={};function c(e,t){if(!(this instanceof c))return new c(e,t);if(t&&t in s&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var r,l;if(e)if(e instanceof c)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=n.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,l=i[this.model].channels,this.color=d.value.slice(0,l),this.valpha="number"==typeof d.value[l]?d.value[l]:1}else if(e.length){this.model=t||"rgb",l=i[this.model].channels;var f=o.call(e,0,l);this.color=h(f,l),this.valpha="number"==typeof e[l]?e[l]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var m=p.sort().join("");if(!(m in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[m];var g=i[this.model].labels,v=[];for(r=0;r<g.length;r++)v.push(e[g[r]]);this.color=h(v)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(u[this.model])for(l=i[this.model].channels,r=0;r<l;r++){var y=u[this.model][r];y&&(this.color[r]=y(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(e,t,r){return(e=Array.isArray(e)?e:[e]).forEach(function(e){(u[e]||(u[e]=[]))[t]=r}),e=e[0],function(n){var i;return arguments.length?(r&&(n=r(n)),(i=this[e]()).color[t]=n,i):(i=this[e]().color[t],r&&(i=r(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function h(e,t){for(var r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}c.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in n.to?this:this.rgb(),r=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return n.to[t.model](r)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:t.color.concat(this.valpha);return n.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,r=i[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new c(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new c(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:l("rgb",0,d(255)),green:l("rgb",1,d(255)),blue:l("rgb",2,d(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:l("hsl",1,d(100)),lightness:l("hsl",2,d(100)),saturationv:l("hsv",1,d(100)),value:l("hsv",2,d(100)),chroma:l("hcg",1,d(100)),gray:l("hcg",2,d(100)),white:l("hwb",1,d(100)),wblack:l("hwb",2,d(100)),cyan:l("cmyk",0,d(100)),magenta:l("cmyk",1,d(100)),yellow:l("cmyk",2,d(100)),black:l("cmyk",3,d(100)),x:l("xyz",0,d(100)),y:l("xyz",1,d(100)),z:l("xyz",2,d(100)),l:l("lab",0,d(100)),a:l("lab",1),b:l("lab",2),keyword:function(e){return arguments.length?new c(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new c(e):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return c.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r=(r+e)%360)<0?360+r:r,t.color[0]=r,t},mix:function(e,t){var r=e.rgb(),n=this.rgb(),i=void 0===t?.5:t,o=2*i-1,s=r.alpha()-n.alpha(),a=((o*s==-1?o:(o+s)/(1+o*s))+1)/2,u=1-a;return c.rgb(a*r.red()+u*n.red(),a*r.green()+u*n.green(),a*r.blue()+u*n.blue(),r.alpha()*i+n.alpha()*(1-i))}},Object.keys(i).forEach(function(e){if(-1===s.indexOf(e)){var t=i[e].channels;c.prototype[e]=function(){if(this.model===e)return new c(this);if(arguments.length)return new c(arguments,e);var r,n="number"==typeof arguments[t]?t:this.valpha;return new c((r=i[this.model][e].raw(this.color),Array.isArray(r)?r:[r]).concat(n),e)},c[e]=function(r){return"number"==typeof r&&(r=h(o.call(arguments),t)),new c(r,e)}}}),e.exports=c},function(e,t,r){var n=r(101),i=r(193),o={};for(var s in n)n.hasOwnProperty(s)&&(o[n[s]]=s);var a=e.exports={to:{},get:{}};function u(e,t,r){return Math.min(Math.max(t,e),r)}function c(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}a.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=a.get.hsl(e),r="hsl";break;case"hwb":t=a.get.hwb(e),r="hwb";break;default:t=a.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},a.get.rgb=function(e){if(!e)return null;var t,r,i,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],r=0;r<3;r++){var s=2*r;o[r]=parseInt(t.slice(s,s+2),16)}i&&(o[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],r=0;r<3;r++)o[r]=parseInt(t[r]+t[r],16);i&&(o[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)o[r]=parseInt(t[r+1],0);t[4]&&(o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(o=n[t[1]])?(o[3]=1,o):null:null;for(r=0;r<3;r++)o[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(o[3]=parseFloat(t[4]))}for(r=0;r<3;r++)o[r]=u(o[r],0,255);return o[3]=u(o[3],0,1),o},a.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(r)?1:r,0,1)]}return null},a.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(r)?1:r,0,1)]}return null},a.to.hex=function(){var e=i(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},a.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},a.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},a.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},a.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},a.to.keyword=function(e){return o[e.slice(0,3)]}},function(e,t,r){"use strict";var n=r(194),i=Array.prototype.concat,o=Array.prototype.slice,s=e.exports=function(e){for(var t=[],r=0,s=e.length;r<s;r++){var a=e[r];n(a)?t=i.call(t,o.call(a)):t.push(a)}return t};s.wrap=function(e){return function(){return e(s(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,r){var n=r(102),i=r(196),o={};Object.keys(n).forEach(function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});var t=i(e);Object.keys(t).forEach(function(r){var n=t[r];o[e][r]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),o[e][r].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)})}),e.exports=o},function(e,t,r){var n=r(102);function i(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var i=r.pop(),o=Object.keys(n[i]),s=o.length,a=0;a<s;a++){var u=o[a],c=t[u];-1===c.distance&&(c.distance=t[i].distance+1,c.parent=i,r.unshift(u))}return t}function o(e,t){return function(r){return t(e(r))}}function s(e,t){for(var r=[t[e].parent,e],i=n[t[e].parent][e],s=t[e].parent;t[s].parent;)r.unshift(t[s].parent),i=o(n[t[s].parent][s],i),s=t[s].parent;return i.conversion=r,i}e.exports=function(e){for(var t=i(e),r={},n=Object.keys(t),o=n.length,a=0;a<o;a++){var u=n[a];null!==t[u].parent&&(r[u]=s(u,t))}return r}},function(e,t,r){"use strict";e.exports=function(e){for(var t=0,r=0;t<e.length;r=e.charCodeAt(t++)+((r<<5)-r));var n=Math.floor(Math.abs(1e4*Math.sin(r)%1*16777216)).toString(16);return"#"+Array(6-n.length+1).join("0")+n}},function(e,t,r){"use strict";var n=r(199);e.exports=function(e,t){var r,i=n(),o=0;for(t=t||["diagnostics","debug"];o<t.length&&!(r=i[t[o]]);o++);if(!r)return!1;for(t=r.split(/[\s,]+/),o=0;o<t.length;o++)if("-"!==(r=t[o].replace("*",".*?")).charAt(0)){if(new RegExp("^"+r+"$").test(e))return!0}else if(new RegExp("^"+r.substr(1)+"$").test(e))return!1;return!1}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function i(e){if(e=e||{},"object"==typeof process&&"object"==typeof process.env&&i.merge(e,process.env),"undefined"!=typeof window){if("string"===window.name&&window.name.length&&i.merge(e,i.parse(window.name)),window.localStorage)try{i.merge(e,i.parse(window.localStorage.env||window.localStorage.debug))}catch(e){}"object"==typeof window.location&&"string"==typeof window.location.hash&&window.location.hash.length&&i.merge(e,i.parse("#"===window.location.hash.charAt(0)?window.location.hash.slice(1):window.location.hash))}var t,r;for(t in e)(r=t.toLowerCase())in e||(e[r]=e[t]);return e}i.merge=function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e},i.parse=function(e){var t,r=/([^=?&]+)=([^&]*)/g,n={};if(!e)return n;for(;t=r.exec(e);n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return n.env||n},e.exports=i},function(e,t,r){"use strict";var n=r(201);function i(e,t){return t?new i(e).style(t):this instanceof i?void(this.text=e):new i(e)}i.prototype.prefix="[",i.prototype.suffix="m",i.prototype.hex=function(e){3===(e="#"===e[0]?e.substring(1):e).length&&((e=e.split(""))[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var t=e.substring(0,2),r=e.substring(2,4),n=e.substring(4,6);return[parseInt(t,16),parseInt(r,16),parseInt(n,16)]},i.prototype.rgb=function(e,t,r){var n=e/255*5,i=t/255*5,o=r/255*5;return this.ansi(n,i,o)},i.prototype.ansi=function(e,t,r){return 16+36*Math.round(e)+6*Math.round(t)+Math.round(r)},i.prototype.reset=function(){return this.prefix+"39;49"+this.suffix},i.prototype.style=function(e){return/^#?(?:[0-9a-fA-F]{3}){1,2}$/.test(e)||(e=n(e)),this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()},e.exports=i},function(e,t,r){var n=r(202),i=n.filter(function(e){return!!e.css}),o=n.filter(function(e){return!!e.vga});e.exports=function(t){var r=e.exports.get(t);return r&&r.value},e.exports.get=function(e){return e=(e=e||"").trim().toLowerCase(),n.filter(function(t){return t.name.toLowerCase()===e}).pop()},e.exports.all=e.exports.get.all=function(){return n},e.exports.get.css=function(e){return e?(e=(e=e||"").trim().toLowerCase(),i.filter(function(t){return t.name.toLowerCase()===e}).pop()):i},e.exports.get.vga=function(e){return e?(e=(e=e||"").trim().toLowerCase(),o.filter(function(t){return t.name.toLowerCase()===e}).pop()):o}},function(e,t){e.exports=[{value:"#B0171F",name:"indian red"},{value:"#DC143C",css:!0,name:"crimson"},{value:"#FFB6C1",css:!0,name:"lightpink"},{value:"#FFAEB9",name:"lightpink 1"},{value:"#EEA2AD",name:"lightpink 2"},{value:"#CD8C95",name:"lightpink 3"},{value:"#8B5F65",name:"lightpink 4"},{value:"#FFC0CB",css:!0,name:"pink"},{value:"#FFB5C5",name:"pink 1"},{value:"#EEA9B8",name:"pink 2"},{value:"#CD919E",name:"pink 3"},{value:"#8B636C",name:"pink 4"},{value:"#DB7093",css:!0,name:"palevioletred"},{value:"#FF82AB",name:"palevioletred 1"},{value:"#EE799F",name:"palevioletred 2"},{value:"#CD6889",name:"palevioletred 3"},{value:"#8B475D",name:"palevioletred 4"},{value:"#FFF0F5",name:"lavenderblush 1"},{value:"#FFF0F5",css:!0,name:"lavenderblush"},{value:"#EEE0E5",name:"lavenderblush 2"},{value:"#CDC1C5",name:"lavenderblush 3"},{value:"#8B8386",name:"lavenderblush 4"},{value:"#FF3E96",name:"violetred 1"},{value:"#EE3A8C",name:"violetred 2"},{value:"#CD3278",name:"violetred 3"},{value:"#8B2252",name:"violetred 4"},{value:"#FF69B4",css:!0,name:"hotpink"},{value:"#FF6EB4",name:"hotpink 1"},{value:"#EE6AA7",name:"hotpink 2"},{value:"#CD6090",name:"hotpink 3"},{value:"#8B3A62",name:"hotpink 4"},{value:"#872657",name:"raspberry"},{value:"#FF1493",name:"deeppink 1"},{value:"#FF1493",css:!0,name:"deeppink"},{value:"#EE1289",name:"deeppink 2"},{value:"#CD1076",name:"deeppink 3"},{value:"#8B0A50",name:"deeppink 4"},{value:"#FF34B3",name:"maroon 1"},{value:"#EE30A7",name:"maroon 2"},{value:"#CD2990",name:"maroon 3"},{value:"#8B1C62",name:"maroon 4"},{value:"#C71585",css:!0,name:"mediumvioletred"},{value:"#D02090",name:"violetred"},{value:"#DA70D6",css:!0,name:"orchid"},{value:"#FF83FA",name:"orchid 1"},{value:"#EE7AE9",name:"orchid 2"},{value:"#CD69C9",name:"orchid 3"},{value:"#8B4789",name:"orchid 4"},{value:"#D8BFD8",css:!0,name:"thistle"},{value:"#FFE1FF",name:"thistle 1"},{value:"#EED2EE",name:"thistle 2"},{value:"#CDB5CD",name:"thistle 3"},{value:"#8B7B8B",name:"thistle 4"},{value:"#FFBBFF",name:"plum 1"},{value:"#EEAEEE",name:"plum 2"},{value:"#CD96CD",name:"plum 3"},{value:"#8B668B",name:"plum 4"},{value:"#DDA0DD",css:!0,name:"plum"},{value:"#EE82EE",css:!0,name:"violet"},{value:"#FF00FF",vga:!0,name:"magenta"},{value:"#FF00FF",vga:!0,css:!0,name:"fuchsia"},{value:"#EE00EE",name:"magenta 2"},{value:"#CD00CD",name:"magenta 3"},{value:"#8B008B",name:"magenta 4"},{value:"#8B008B",css:!0,name:"darkmagenta"},{value:"#800080",vga:!0,css:!0,name:"purple"},{value:"#BA55D3",css:!0,name:"mediumorchid"},{value:"#E066FF",name:"mediumorchid 1"},{value:"#D15FEE",name:"mediumorchid 2"},{value:"#B452CD",name:"mediumorchid 3"},{value:"#7A378B",name:"mediumorchid 4"},{value:"#9400D3",css:!0,name:"darkviolet"},{value:"#9932CC",css:!0,name:"darkorchid"},{value:"#BF3EFF",name:"darkorchid 1"},{value:"#B23AEE",name:"darkorchid 2"},{value:"#9A32CD",name:"darkorchid 3"},{value:"#68228B",name:"darkorchid 4"},{value:"#4B0082",css:!0,name:"indigo"},{value:"#8A2BE2",css:!0,name:"blueviolet"},{value:"#9B30FF",name:"purple 1"},{value:"#912CEE",name:"purple 2"},{value:"#7D26CD",name:"purple 3"},{value:"#551A8B",name:"purple 4"},{value:"#9370DB",css:!0,name:"mediumpurple"},{value:"#AB82FF",name:"mediumpurple 1"},{value:"#9F79EE",name:"mediumpurple 2"},{value:"#8968CD",name:"mediumpurple 3"},{value:"#5D478B",name:"mediumpurple 4"},{value:"#483D8B",css:!0,name:"darkslateblue"},{value:"#8470FF",name:"lightslateblue"},{value:"#7B68EE",css:!0,name:"mediumslateblue"},{value:"#6A5ACD",css:!0,name:"slateblue"},{value:"#836FFF",name:"slateblue 1"},{value:"#7A67EE",name:"slateblue 2"},{value:"#6959CD",name:"slateblue 3"},{value:"#473C8B",name:"slateblue 4"},{value:"#F8F8FF",css:!0,name:"ghostwhite"},{value:"#E6E6FA",css:!0,name:"lavender"},{value:"#0000FF",vga:!0,css:!0,name:"blue"},{value:"#0000EE",name:"blue 2"},{value:"#0000CD",name:"blue 3"},{value:"#0000CD",css:!0,name:"mediumblue"},{value:"#00008B",name:"blue 4"},{value:"#00008B",css:!0,name:"darkblue"},{value:"#000080",vga:!0,css:!0,name:"navy"},{value:"#191970",css:!0,name:"midnightblue"},{value:"#3D59AB",name:"cobalt"},{value:"#4169E1",css:!0,name:"royalblue"},{value:"#4876FF",name:"royalblue 1"},{value:"#436EEE",name:"royalblue 2"},{value:"#3A5FCD",name:"royalblue 3"},{value:"#27408B",name:"royalblue 4"},{value:"#6495ED",css:!0,name:"cornflowerblue"},{value:"#B0C4DE",css:!0,name:"lightsteelblue"},{value:"#CAE1FF",name:"lightsteelblue 1"},{value:"#BCD2EE",name:"lightsteelblue 2"},{value:"#A2B5CD",name:"lightsteelblue 3"},{value:"#6E7B8B",name:"lightsteelblue 4"},{value:"#778899",css:!0,name:"lightslategray"},{value:"#708090",css:!0,name:"slategray"},{value:"#C6E2FF",name:"slategray 1"},{value:"#B9D3EE",name:"slategray 2"},{value:"#9FB6CD",name:"slategray 3"},{value:"#6C7B8B",name:"slategray 4"},{value:"#1E90FF",name:"dodgerblue 1"},{value:"#1E90FF",css:!0,name:"dodgerblue"},{value:"#1C86EE",name:"dodgerblue 2"},{value:"#1874CD",name:"dodgerblue 3"},{value:"#104E8B",name:"dodgerblue 4"},{value:"#F0F8FF",css:!0,name:"aliceblue"},{value:"#4682B4",css:!0,name:"steelblue"},{value:"#63B8FF",name:"steelblue 1"},{value:"#5CACEE",name:"steelblue 2"},{value:"#4F94CD",name:"steelblue 3"},{value:"#36648B",name:"steelblue 4"},{value:"#87CEFA",css:!0,name:"lightskyblue"},{value:"#B0E2FF",name:"lightskyblue 1"},{value:"#A4D3EE",name:"lightskyblue 2"},{value:"#8DB6CD",name:"lightskyblue 3"},{value:"#607B8B",name:"lightskyblue 4"},{value:"#87CEFF",name:"skyblue 1"},{value:"#7EC0EE",name:"skyblue 2"},{value:"#6CA6CD",name:"skyblue 3"},{value:"#4A708B",name:"skyblue 4"},{value:"#87CEEB",css:!0,name:"skyblue"},{value:"#00BFFF",name:"deepskyblue 1"},{value:"#00BFFF",css:!0,name:"deepskyblue"},{value:"#00B2EE",name:"deepskyblue 2"},{value:"#009ACD",name:"deepskyblue 3"},{value:"#00688B",name:"deepskyblue 4"},{value:"#33A1C9",name:"peacock"},{value:"#ADD8E6",css:!0,name:"lightblue"},{value:"#BFEFFF",name:"lightblue 1"},{value:"#B2DFEE",name:"lightblue 2"},{value:"#9AC0CD",name:"lightblue 3"},{value:"#68838B",name:"lightblue 4"},{value:"#B0E0E6",css:!0,name:"powderblue"},{value:"#98F5FF",name:"cadetblue 1"},{value:"#8EE5EE",name:"cadetblue 2"},{value:"#7AC5CD",name:"cadetblue 3"},{value:"#53868B",name:"cadetblue 4"},{value:"#00F5FF",name:"turquoise 1"},{value:"#00E5EE",name:"turquoise 2"},{value:"#00C5CD",name:"turquoise 3"},{value:"#00868B",name:"turquoise 4"},{value:"#5F9EA0",css:!0,name:"cadetblue"},{value:"#00CED1",css:!0,name:"darkturquoise"},{value:"#F0FFFF",name:"azure 1"},{value:"#F0FFFF",css:!0,name:"azure"},{value:"#E0EEEE",name:"azure 2"},{value:"#C1CDCD",name:"azure 3"},{value:"#838B8B",name:"azure 4"},{value:"#E0FFFF",name:"lightcyan 1"},{value:"#E0FFFF",css:!0,name:"lightcyan"},{value:"#D1EEEE",name:"lightcyan 2"},{value:"#B4CDCD",name:"lightcyan 3"},{value:"#7A8B8B",name:"lightcyan 4"},{value:"#BBFFFF",name:"paleturquoise 1"},{value:"#AEEEEE",name:"paleturquoise 2"},{value:"#AEEEEE",css:!0,name:"paleturquoise"},{value:"#96CDCD",name:"paleturquoise 3"},{value:"#668B8B",name:"paleturquoise 4"},{value:"#2F4F4F",css:!0,name:"darkslategray"},{value:"#97FFFF",name:"darkslategray 1"},{value:"#8DEEEE",name:"darkslategray 2"},{value:"#79CDCD",name:"darkslategray 3"},{value:"#528B8B",name:"darkslategray 4"},{value:"#00FFFF",name:"cyan"},{value:"#00FFFF",css:!0,name:"aqua"},{value:"#00EEEE",name:"cyan 2"},{value:"#00CDCD",name:"cyan 3"},{value:"#008B8B",name:"cyan 4"},{value:"#008B8B",css:!0,name:"darkcyan"},{value:"#008080",vga:!0,css:!0,name:"teal"},{value:"#48D1CC",css:!0,name:"mediumturquoise"},{value:"#20B2AA",css:!0,name:"lightseagreen"},{value:"#03A89E",name:"manganeseblue"},{value:"#40E0D0",css:!0,name:"turquoise"},{value:"#808A87",name:"coldgrey"},{value:"#00C78C",name:"turquoiseblue"},{value:"#7FFFD4",name:"aquamarine 1"},{value:"#7FFFD4",css:!0,name:"aquamarine"},{value:"#76EEC6",name:"aquamarine 2"},{value:"#66CDAA",name:"aquamarine 3"},{value:"#66CDAA",css:!0,name:"mediumaquamarine"},{value:"#458B74",name:"aquamarine 4"},{value:"#00FA9A",css:!0,name:"mediumspringgreen"},{value:"#F5FFFA",css:!0,name:"mintcream"},{value:"#00FF7F",css:!0,name:"springgreen"},{value:"#00EE76",name:"springgreen 1"},{value:"#00CD66",name:"springgreen 2"},{value:"#008B45",name:"springgreen 3"},{value:"#3CB371",css:!0,name:"mediumseagreen"},{value:"#54FF9F",name:"seagreen 1"},{value:"#4EEE94",name:"seagreen 2"},{value:"#43CD80",name:"seagreen 3"},{value:"#2E8B57",name:"seagreen 4"},{value:"#2E8B57",css:!0,name:"seagreen"},{value:"#00C957",name:"emeraldgreen"},{value:"#BDFCC9",name:"mint"},{value:"#3D9140",name:"cobaltgreen"},{value:"#F0FFF0",name:"honeydew 1"},{value:"#F0FFF0",css:!0,name:"honeydew"},{value:"#E0EEE0",name:"honeydew 2"},{value:"#C1CDC1",name:"honeydew 3"},{value:"#838B83",name:"honeydew 4"},{value:"#8FBC8F",css:!0,name:"darkseagreen"},{value:"#C1FFC1",name:"darkseagreen 1"},{value:"#B4EEB4",name:"darkseagreen 2"},{value:"#9BCD9B",name:"darkseagreen 3"},{value:"#698B69",name:"darkseagreen 4"},{value:"#98FB98",css:!0,name:"palegreen"},{value:"#9AFF9A",name:"palegreen 1"},{value:"#90EE90",name:"palegreen 2"},{value:"#90EE90",css:!0,name:"lightgreen"},{value:"#7CCD7C",name:"palegreen 3"},{value:"#548B54",name:"palegreen 4"},{value:"#32CD32",css:!0,name:"limegreen"},{value:"#228B22",css:!0,name:"forestgreen"},{value:"#00FF00",vga:!0,name:"green 1"},{value:"#00FF00",vga:!0,css:!0,name:"lime"},{value:"#00EE00",name:"green 2"},{value:"#00CD00",name:"green 3"},{value:"#008B00",name:"green 4"},{value:"#008000",vga:!0,css:!0,name:"green"},{value:"#006400",css:!0,name:"darkgreen"},{value:"#308014",name:"sapgreen"},{value:"#7CFC00",css:!0,name:"lawngreen"},{value:"#7FFF00",name:"chartreuse 1"},{value:"#7FFF00",css:!0,name:"chartreuse"},{value:"#76EE00",name:"chartreuse 2"},{value:"#66CD00",name:"chartreuse 3"},{value:"#458B00",name:"chartreuse 4"},{value:"#ADFF2F",css:!0,name:"greenyellow"},{value:"#CAFF70",name:"darkolivegreen 1"},{value:"#BCEE68",name:"darkolivegreen 2"},{value:"#A2CD5A",name:"darkolivegreen 3"},{value:"#6E8B3D",name:"darkolivegreen 4"},{value:"#556B2F",css:!0,name:"darkolivegreen"},{value:"#6B8E23",css:!0,name:"olivedrab"},{value:"#C0FF3E",name:"olivedrab 1"},{value:"#B3EE3A",name:"olivedrab 2"},{value:"#9ACD32",name:"olivedrab 3"},{value:"#9ACD32",css:!0,name:"yellowgreen"},{value:"#698B22",name:"olivedrab 4"},{value:"#FFFFF0",name:"ivory 1"},{value:"#FFFFF0",css:!0,name:"ivory"},{value:"#EEEEE0",name:"ivory 2"},{value:"#CDCDC1",name:"ivory 3"},{value:"#8B8B83",name:"ivory 4"},{value:"#F5F5DC",css:!0,name:"beige"},{value:"#FFFFE0",name:"lightyellow 1"},{value:"#FFFFE0",css:!0,name:"lightyellow"},{value:"#EEEED1",name:"lightyellow 2"},{value:"#CDCDB4",name:"lightyellow 3"},{value:"#8B8B7A",name:"lightyellow 4"},{value:"#FAFAD2",css:!0,name:"lightgoldenrodyellow"},{value:"#FFFF00",vga:!0,name:"yellow 1"},{value:"#FFFF00",vga:!0,css:!0,name:"yellow"},{value:"#EEEE00",name:"yellow 2"},{value:"#CDCD00",name:"yellow 3"},{value:"#8B8B00",name:"yellow 4"},{value:"#808069",name:"warmgrey"},{value:"#808000",vga:!0,css:!0,name:"olive"},{value:"#BDB76B",css:!0,name:"darkkhaki"},{value:"#FFF68F",name:"khaki 1"},{value:"#EEE685",name:"khaki 2"},{value:"#CDC673",name:"khaki 3"},{value:"#8B864E",name:"khaki 4"},{value:"#F0E68C",css:!0,name:"khaki"},{value:"#EEE8AA",css:!0,name:"palegoldenrod"},{value:"#FFFACD",name:"lemonchiffon 1"},{value:"#FFFACD",css:!0,name:"lemonchiffon"},{value:"#EEE9BF",name:"lemonchiffon 2"},{value:"#CDC9A5",name:"lemonchiffon 3"},{value:"#8B8970",name:"lemonchiffon 4"},{value:"#FFEC8B",name:"lightgoldenrod 1"},{value:"#EEDC82",name:"lightgoldenrod 2"},{value:"#CDBE70",name:"lightgoldenrod 3"},{value:"#8B814C",name:"lightgoldenrod 4"},{value:"#E3CF57",name:"banana"},{value:"#FFD700",name:"gold 1"},{value:"#FFD700",css:!0,name:"gold"},{value:"#EEC900",name:"gold 2"},{value:"#CDAD00",name:"gold 3"},{value:"#8B7500",name:"gold 4"},{value:"#FFF8DC",name:"cornsilk 1"},{value:"#FFF8DC",css:!0,name:"cornsilk"},{value:"#EEE8CD",name:"cornsilk 2"},{value:"#CDC8B1",name:"cornsilk 3"},{value:"#8B8878",name:"cornsilk 4"},{value:"#DAA520",css:!0,name:"goldenrod"},{value:"#FFC125",name:"goldenrod 1"},{value:"#EEB422",name:"goldenrod 2"},{value:"#CD9B1D",name:"goldenrod 3"},{value:"#8B6914",name:"goldenrod 4"},{value:"#B8860B",css:!0,name:"darkgoldenrod"},{value:"#FFB90F",name:"darkgoldenrod 1"},{value:"#EEAD0E",name:"darkgoldenrod 2"},{value:"#CD950C",name:"darkgoldenrod 3"},{value:"#8B6508",name:"darkgoldenrod 4"},{value:"#FFA500",name:"orange 1"},{value:"#FF8000",css:!0,name:"orange"},{value:"#EE9A00",name:"orange 2"},{value:"#CD8500",name:"orange 3"},{value:"#8B5A00",name:"orange 4"},{value:"#FFFAF0",css:!0,name:"floralwhite"},{value:"#FDF5E6",css:!0,name:"oldlace"},{value:"#F5DEB3",css:!0,name:"wheat"},{value:"#FFE7BA",name:"wheat 1"},{value:"#EED8AE",name:"wheat 2"},{value:"#CDBA96",name:"wheat 3"},{value:"#8B7E66",name:"wheat 4"},{value:"#FFE4B5",css:!0,name:"moccasin"},{value:"#FFEFD5",css:!0,name:"papayawhip"},{value:"#FFEBCD",css:!0,name:"blanchedalmond"},{value:"#FFDEAD",name:"navajowhite 1"},{value:"#FFDEAD",css:!0,name:"navajowhite"},{value:"#EECFA1",name:"navajowhite 2"},{value:"#CDB38B",name:"navajowhite 3"},{value:"#8B795E",name:"navajowhite 4"},{value:"#FCE6C9",name:"eggshell"},{value:"#D2B48C",css:!0,name:"tan"},{value:"#9C661F",name:"brick"},{value:"#FF9912",name:"cadmiumyellow"},{value:"#FAEBD7",css:!0,name:"antiquewhite"},{value:"#FFEFDB",name:"antiquewhite 1"},{value:"#EEDFCC",name:"antiquewhite 2"},{value:"#CDC0B0",name:"antiquewhite 3"},{value:"#8B8378",name:"antiquewhite 4"},{value:"#DEB887",css:!0,name:"burlywood"},{value:"#FFD39B",name:"burlywood 1"},{value:"#EEC591",name:"burlywood 2"},{value:"#CDAA7D",name:"burlywood 3"},{value:"#8B7355",name:"burlywood 4"},{value:"#FFE4C4",name:"bisque 1"},{value:"#FFE4C4",css:!0,name:"bisque"},{value:"#EED5B7",name:"bisque 2"},{value:"#CDB79E",name:"bisque 3"},{value:"#8B7D6B",name:"bisque 4"},{value:"#E3A869",name:"melon"},{value:"#ED9121",name:"carrot"},{value:"#FF8C00",css:!0,name:"darkorange"},{value:"#FF7F00",name:"darkorange 1"},{value:"#EE7600",name:"darkorange 2"},{value:"#CD6600",name:"darkorange 3"},{value:"#8B4500",name:"darkorange 4"},{value:"#FFA54F",name:"tan 1"},{value:"#EE9A49",name:"tan 2"},{value:"#CD853F",name:"tan 3"},{value:"#CD853F",css:!0,name:"peru"},{value:"#8B5A2B",name:"tan 4"},{value:"#FAF0E6",css:!0,name:"linen"},{value:"#FFDAB9",name:"peachpuff 1"},{value:"#FFDAB9",css:!0,name:"peachpuff"},{value:"#EECBAD",name:"peachpuff 2"},{value:"#CDAF95",name:"peachpuff 3"},{value:"#8B7765",name:"peachpuff 4"},{value:"#FFF5EE",name:"seashell 1"},{value:"#FFF5EE",css:!0,name:"seashell"},{value:"#EEE5DE",name:"seashell 2"},{value:"#CDC5BF",name:"seashell 3"},{value:"#8B8682",name:"seashell 4"},{value:"#F4A460",css:!0,name:"sandybrown"},{value:"#C76114",name:"rawsienna"},{value:"#D2691E",css:!0,name:"chocolate"},{value:"#FF7F24",name:"chocolate 1"},{value:"#EE7621",name:"chocolate 2"},{value:"#CD661D",name:"chocolate 3"},{value:"#8B4513",name:"chocolate 4"},{value:"#8B4513",css:!0,name:"saddlebrown"},{value:"#292421",name:"ivoryblack"},{value:"#FF7D40",name:"flesh"},{value:"#FF6103",name:"cadmiumorange"},{value:"#8A360F",name:"burntsienna"},{value:"#A0522D",css:!0,name:"sienna"},{value:"#FF8247",name:"sienna 1"},{value:"#EE7942",name:"sienna 2"},{value:"#CD6839",name:"sienna 3"},{value:"#8B4726",name:"sienna 4"},{value:"#FFA07A",name:"lightsalmon 1"},{value:"#FFA07A",css:!0,name:"lightsalmon"},{value:"#EE9572",name:"lightsalmon 2"},{value:"#CD8162",name:"lightsalmon 3"},{value:"#8B5742",name:"lightsalmon 4"},{value:"#FF7F50",css:!0,name:"coral"},{value:"#FF4500",name:"orangered 1"},{value:"#FF4500",css:!0,name:"orangered"},{value:"#EE4000",name:"orangered 2"},{value:"#CD3700",name:"orangered 3"},{value:"#8B2500",name:"orangered 4"},{value:"#5E2612",name:"sepia"},{value:"#E9967A",css:!0,name:"darksalmon"},{value:"#FF8C69",name:"salmon 1"},{value:"#EE8262",name:"salmon 2"},{value:"#CD7054",name:"salmon 3"},{value:"#8B4C39",name:"salmon 4"},{value:"#FF7256",name:"coral 1"},{value:"#EE6A50",name:"coral 2"},{value:"#CD5B45",name:"coral 3"},{value:"#8B3E2F",name:"coral 4"},{value:"#8A3324",name:"burntumber"},{value:"#FF6347",name:"tomato 1"},{value:"#FF6347",css:!0,name:"tomato"},{value:"#EE5C42",name:"tomato 2"},{value:"#CD4F39",name:"tomato 3"},{value:"#8B3626",name:"tomato 4"},{value:"#FA8072",css:!0,name:"salmon"},{value:"#FFE4E1",name:"mistyrose 1"},{value:"#FFE4E1",css:!0,name:"mistyrose"},{value:"#EED5D2",name:"mistyrose 2"},{value:"#CDB7B5",name:"mistyrose 3"},{value:"#8B7D7B",name:"mistyrose 4"},{value:"#FFFAFA",name:"snow 1"},{value:"#FFFAFA",css:!0,name:"snow"},{value:"#EEE9E9",name:"snow 2"},{value:"#CDC9C9",name:"snow 3"},{value:"#8B8989",name:"snow 4"},{value:"#BC8F8F",css:!0,name:"rosybrown"},{value:"#FFC1C1",name:"rosybrown 1"},{value:"#EEB4B4",name:"rosybrown 2"},{value:"#CD9B9B",name:"rosybrown 3"},{value:"#8B6969",name:"rosybrown 4"},{value:"#F08080",css:!0,name:"lightcoral"},{value:"#CD5C5C",css:!0,name:"indianred"},{value:"#FF6A6A",name:"indianred 1"},{value:"#EE6363",name:"indianred 2"},{value:"#8B3A3A",name:"indianred 4"},{value:"#CD5555",name:"indianred 3"},{value:"#A52A2A",css:!0,name:"brown"},{value:"#FF4040",name:"brown 1"},{value:"#EE3B3B",name:"brown 2"},{value:"#CD3333",name:"brown 3"},{value:"#8B2323",name:"brown 4"},{value:"#B22222",css:!0,name:"firebrick"},{value:"#FF3030",name:"firebrick 1"},{value:"#EE2C2C",name:"firebrick 2"},{value:"#CD2626",name:"firebrick 3"},{value:"#8B1A1A",name:"firebrick 4"},{value:"#FF0000",vga:!0,name:"red 1"},{value:"#FF0000",vga:!0,css:!0,name:"red"},{value:"#EE0000",name:"red 2"},{value:"#CD0000",name:"red 3"},{value:"#8B0000",name:"red 4"},{value:"#8B0000",css:!0,name:"darkred"},{value:"#800000",vga:!0,css:!0,name:"maroon"},{value:"#8E388E",name:"sgi beet"},{value:"#7171C6",name:"sgi slateblue"},{value:"#7D9EC0",name:"sgi lightblue"},{value:"#388E8E",name:"sgi teal"},{value:"#71C671",name:"sgi chartreuse"},{value:"#8E8E38",name:"sgi olivedrab"},{value:"#C5C1AA",name:"sgi brightgray"},{value:"#C67171",name:"sgi salmon"},{value:"#555555",name:"sgi darkgray"},{value:"#1E1E1E",name:"sgi gray 12"},{value:"#282828",name:"sgi gray 16"},{value:"#515151",name:"sgi gray 32"},{value:"#5B5B5B",name:"sgi gray 36"},{value:"#848484",name:"sgi gray 52"},{value:"#8E8E8E",name:"sgi gray 56"},{value:"#AAAAAA",name:"sgi lightgray"},{value:"#B7B7B7",name:"sgi gray 72"},{value:"#C1C1C1",name:"sgi gray 76"},{value:"#EAEAEA",name:"sgi gray 92"},{value:"#F4F4F4",name:"sgi gray 96"},{value:"#FFFFFF",vga:!0,css:!0,name:"white"},{value:"#F5F5F5",name:"white smoke"},{value:"#F5F5F5",name:"gray 96"},{value:"#DCDCDC",css:!0,name:"gainsboro"},{value:"#D3D3D3",css:!0,name:"lightgrey"},{value:"#C0C0C0",vga:!0,css:!0,name:"silver"},{value:"#A9A9A9",css:!0,name:"darkgray"},{value:"#808080",vga:!0,css:!0,name:"gray"},{value:"#696969",css:!0,name:"dimgray"},{value:"#696969",name:"gray 42"},{value:"#000000",vga:!0,css:!0,name:"black"},{value:"#FCFCFC",name:"gray 99"},{value:"#FAFAFA",name:"gray 98"},{value:"#F7F7F7",name:"gray 97"},{value:"#F2F2F2",name:"gray 95"},{value:"#F0F0F0",name:"gray 94"},{value:"#EDEDED",name:"gray 93"},{value:"#EBEBEB",name:"gray 92"},{value:"#E8E8E8",name:"gray 91"},{value:"#E5E5E5",name:"gray 90"},{value:"#E3E3E3",name:"gray 89"},{value:"#E0E0E0",name:"gray 88"},{value:"#DEDEDE",name:"gray 87"},{value:"#DBDBDB",name:"gray 86"},{value:"#D9D9D9",name:"gray 85"},{value:"#D6D6D6",name:"gray 84"},{value:"#D4D4D4",name:"gray 83"},{value:"#D1D1D1",name:"gray 82"},{value:"#CFCFCF",name:"gray 81"},{value:"#CCCCCC",name:"gray 80"},{value:"#C9C9C9",name:"gray 79"},{value:"#C7C7C7",name:"gray 78"},{value:"#C4C4C4",name:"gray 77"},{value:"#C2C2C2",name:"gray 76"},{value:"#BFBFBF",name:"gray 75"},{value:"#BDBDBD",name:"gray 74"},{value:"#BABABA",name:"gray 73"},{value:"#B8B8B8",name:"gray 72"},{value:"#B5B5B5",name:"gray 71"},{value:"#B3B3B3",name:"gray 70"},{value:"#B0B0B0",name:"gray 69"},{value:"#ADADAD",name:"gray 68"},{value:"#ABABAB",name:"gray 67"},{value:"#A8A8A8",name:"gray 66"},{value:"#A6A6A6",name:"gray 65"},{value:"#A3A3A3",name:"gray 64"},{value:"#A1A1A1",name:"gray 63"},{value:"#9E9E9E",name:"gray 62"},{value:"#9C9C9C",name:"gray 61"},{value:"#999999",name:"gray 60"},{value:"#969696",name:"gray 59"},{value:"#949494",name:"gray 58"},{value:"#919191",name:"gray 57"},{value:"#8F8F8F",name:"gray 56"},{value:"#8C8C8C",name:"gray 55"},{value:"#8A8A8A",name:"gray 54"},{value:"#878787",name:"gray 53"},{value:"#858585",name:"gray 52"},{value:"#828282",name:"gray 51"},{value:"#7F7F7F",name:"gray 50"},{value:"#7D7D7D",name:"gray 49"},{value:"#7A7A7A",name:"gray 48"},{value:"#787878",name:"gray 47"},{value:"#757575",name:"gray 46"},{value:"#737373",name:"gray 45"},{value:"#707070",name:"gray 44"},{value:"#6E6E6E",name:"gray 43"},{value:"#666666",name:"gray 40"},{value:"#636363",name:"gray 39"},{value:"#616161",name:"gray 38"},{value:"#5E5E5E",name:"gray 37"},{value:"#5C5C5C",name:"gray 36"},{value:"#595959",name:"gray 35"},{value:"#575757",name:"gray 34"},{value:"#545454",name:"gray 33"},{value:"#525252",name:"gray 32"},{value:"#4F4F4F",name:"gray 31"},{value:"#4D4D4D",name:"gray 30"},{value:"#4A4A4A",name:"gray 29"},{value:"#474747",name:"gray 28"},{value:"#454545",name:"gray 27"},{value:"#424242",name:"gray 26"},{value:"#404040",name:"gray 25"},{value:"#3D3D3D",name:"gray 24"},{value:"#3B3B3B",name:"gray 23"},{value:"#383838",name:"gray 22"},{value:"#363636",name:"gray 21"},{value:"#333333",name:"gray 20"},{value:"#303030",name:"gray 19"},{value:"#2E2E2E",name:"gray 18"},{value:"#2B2B2B",name:"gray 17"},{value:"#292929",name:"gray 16"},{value:"#262626",name:"gray 15"},{value:"#242424",name:"gray 14"},{value:"#212121",name:"gray 13"},{value:"#1F1F1F",name:"gray 12"},{value:"#1C1C1C",name:"gray 11"},{value:"#1A1A1A",name:"gray 10"},{value:"#171717",name:"gray 9"},{value:"#141414",name:"gray 8"},{value:"#121212",name:"gray 7"},{value:"#0F0F0F",name:"gray 6"},{value:"#0D0D0D",name:"gray 5"},{value:"#0A0A0A",name:"gray 4"},{value:"#080808",name:"gray 3"},{value:"#050505",name:"gray 2"},{value:"#030303",name:"gray 1"},{value:"#F5F5F5",css:!0,name:"whitesmoke"}]},function(e,t){e.exports=require("tty")},function(e,t,r){"use strict";const n=r(8),{StringDecoder:i}=r(205),{Stream:o}=r(29);function s(){}e.exports=((e,t)=>{const r=Buffer.alloc(65536),a=new i("utf8"),u=new o;let c="",l=0,d=0;return-1===e.start&&delete e.start,u.readable=!0,u.destroy=(()=>{u.destroyed=!0,u.emit("end"),u.emit("close")}),n.open(e.file,"a+","0644",(i,o)=>{if(i)return t?t(i):u.emit("error",i),void u.destroy();!function i(){if(!u.destroyed)return n.read(o,r,0,r.length,l,(n,o)=>{if(n)return t?t(n):u.emit("error",n),void u.destroy();if(!o)return c&&((null==e.start||d>e.start)&&(t?t(null,c):u.emit("line",c)),d++,c=""),setTimeout(i,1e3);let s=a.write(r.slice(0,o));t||u.emit("data",s);const h=(s=(c+s).split(/\n+/)).length-1;let f=0;for(;f<h;f++)(null==e.start||d>e.start)&&(t?t(null,s[f]):u.emit("line",s[f])),d++;return c=s[h],l+=o,i()});n.close(o,s)}()}),t?u.destroy:u})},function(e,t){e.exports=require("string_decoder")},function(e,t,r){"use strict";const n=r(207),i=r(208),{Stream:o}=r(29),s=r(26);e.exports=class extends s{constructor(e={}){super(e),this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80)}log(e,t){this._request(e,(t,r)=>{r&&200!==r.statusCode&&(t=new Error(`Invalid HTTP Status Code: ${r.statusCode}`)),t?this.emit("warn",t):this.emit("logged",e)}),t&&setImmediate(t)}query(e,t){"function"==typeof e&&(t=e,e={}),(e={method:"query",params:this.normalizeQuery(e)}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),this._request(e,(e,r,n)=>{if(r&&200!==r.statusCode&&(e=new Error(`Invalid HTTP Status Code: ${r.statusCode}`)),e)return t(e);if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return t(e)}t(null,n)})}stream(e={}){const t=new o;(e={method:"stream",params:e}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth);let r="";const n=this._request(e);return t.destroy=(()=>n.destroy()),n.on("data",e=>{const n=(e=(r+e).split(/\n+/)).length-1;let i=0;for(;i<n;i++)try{t.emit("log",JSON.parse(e[i]))}catch(e){t.emit("error",e)}r=e[n]}),n.on("error",e=>t.emit("error",e)),t}_request(e,t){const r=(e=e||{}).auth||this.auth,o=e.path||this.path||"";delete e.auth,delete e.path;const s=(this.ssl?i:n).request({method:"POST",host:this.host,port:this.port,path:`/${o.replace(/^\//,"")}`,headers:this.headers,auth:r?`${r.username}:${r.password}`:"",agent:this.agent});s.on("error",t),s.on("response",e=>e.on("end",()=>t(null,e)).resume()),s.end(Buffer.from(JSON.stringify(e),"utf8"))}}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t,r){"use strict";const n=r(61),{MESSAGE:i}=r(4),o=r(19),s=r(26);e.exports=class extends s{constructor(e={}){if(super(e),!e.stream||!n(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=e.eol||o.EOL}log(e,t){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode)return this._stream.write(e),void(t&&t());this._stream.write(`${e[i]}${this.eol}`),t&&t()}}},function(e,t,r){"use strict";const n=r(29),i=r(104),{LEVEL:o,SPLAT:s}=r(4),a=r(61),u=r(105),c=r(216),l=r(217),{clone:d,warn:h}=r(84),f=r(62);class p extends n.Transform{constructor(e){super({objectMode:!0}),this.configure(e)}configure({silent:e,format:t,levels:n,level:i="info",exitOnError:o=!0,transports:s,colors:a,emitErrs:c,formatters:l,padLevels:d,rewriters:h,stripColors:p,exceptionHandlers:m}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=t||this.format||r(53)(),this.levels=n||this.levels||f.npm.levels,this.level=i,this.exceptions=new u(this),this.profilers={},this.exitOnError=o,s&&(s=Array.isArray(s)?s:[s]).forEach(e=>this.add(e)),a||c||l||d||h||p)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));m&&this.exceptions.handle(m)}isLevelEnabled(e){const t=m(this.levels,e);if(null===t)return!1;const r=m(this.levels,this.level);return null!==r&&(this.transports&&0!==this.transports.length?-1!==this.transports.findIndex(e=>{let n=m(this.levels,e.level);return null===n&&(n=r),n>=t}):r>=t)}log(e,t,...r){if(1===arguments.length)return e[o]=e.level,this.write(e),this;if(2===arguments.length)return t&&"object"==typeof t?(t[o]=t.level=e,this.write(t),this):(this.write({[o]:e,level:e,message:t}),this);const[n]=r;return"object"==typeof n&&null!==n?this.write(Object.assign({},n,{[o]:e,[s]:r.slice(0),level:e,message:t})):this.write(Object.assign({},{[o]:e,[s]:r,level:e,message:t})),this}_transform(e,t,r){if(this.silent)return r();e[o]||(e[o]=e.level),this.levels[e[o]]||0===this.levels[e[o]]||console.error("[winston] Unknown logger level: %s",e[o]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",e);try{this.push(this.format.transform(e,this.format.options))}catch(e){throw e}finally{r()}}_final(e){const t=this.transports.slice();i(t,(e,t)=>{if(!e||e.finished)return setImmediate(t);e.once("finish",t),e.end()},e)}add(e){const t=!a(e)||e.log.length>2?new c({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onError(t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),this}remove(e){let t=e;return(!a(e)||e.log.length>2)&&(t=this.transports.filter(t=>t.transport===e)[0]),t&&this.unpipe(t),this}clear(){return this.unpipe(),this}close(){return this.clear(),this.emit("close"),this}setLevels(){h.deprecated("setLevels")}query(e,t){"function"==typeof e&&(t=e,e={});const r={},n=d((e=e||{}).query)||{};i(this.transports.filter(e=>!!e.query),function(t,i){!function(t,r){e.query&&(e.query=t.formatQuery(n)),t.query(e,(n,i)=>{if(n)return r(n);r(null,t.formatResults(i,e.format))})}(t,(e,n)=>{i&&((n=e||n)&&(r[t.name]=n),i()),i=null})},()=>t(null,r))}stream(e={}){const t=new n.Stream,r=[];return t._streams=r,t.destroy=(()=>{let e=r.length;for(;e--;)r[e].destroy()}),this.transports.filter(e=>!!e.stream).forEach(n=>{const i=n.stream(e);i&&(r.push(i),i.on("log",e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("log",e)}),i.on("error",e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("error",e)}))}),t}startTimer(){return new l(this)}profile(e,...t){const r=Date.now();if(this.profilers[e]){const n=this.profilers[e];delete this.profilers[e],"function"==typeof t[t.length-2]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());const i="object"==typeof t[t.length-1]?t.pop():{};return i.level=i.level||"info",i.durationMs=r-n,i.message=i.message||e,this.write(i)}return this.profilers[e]=r,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}_onError(e){e.__winstonError||(e.__winstonError=function(t){this.emit("error",t,e)}.bind(this),e.on("error",e.__winstonError))}}function m(e,t){const r=e[t];return r||0===r?r:null}Object.defineProperty(p.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}}),e.exports=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){((0,n.default)(e)?h:f)(e,(0,l.default)(t),r)};var n=d(r(40)),i=d(r(98)),o=d(r(95)),s=d(r(99)),a=d(r(56)),u=d(r(96)),c=d(r(97)),l=d(r(41));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=e.length;function l(e,t){e?r(e):++o!==s&&t!==i.default||r(null)}for(0===s&&r(null);n<s;n++)t(e[n],n,(0,c.default)(l))}var f=(0,s.default)(o.default,1/0);e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,n){return e(t,n)}},e.exports=t.default},function(e,t,r){"use strict";e.exports=function(e){var t,r=0;function n(){return r?t:(r=1,t=e.apply(this,arguments),e=null,t)}return n.displayName=e.displayName||e.name||n.displayName||n.name,n}},function(e,t){function r(e){for(var t in e)this[t]=e[t]}t.get=function(e){var r=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var n={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(n,e||t.get);var o=n.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=r,o},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map(function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var r=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(r){var n=null,i=null,o=null,s=null,a=null,u="native"===r[5];if(r[1]){var c=(o=r[1]).lastIndexOf(".");if("."==o[c-1]&&c--,c>0){n=o.substr(0,c),i=o.substr(c+1);var l=n.indexOf(".Module");l>0&&(o=o.substr(l+1),n=n.substr(0,l))}s=null}i&&(s=n,a=i),"<anonymous>"===i&&(a=null,o=null);var d={fileName:r[2]||null,lineNumber:parseInt(r[3],10)||null,functionName:o,typeName:s,methodName:a,columnNumber:parseInt(r[4],10)||null,native:u};return t._createParsedCallSite(d)}}).filter(function(e){return!!e})};["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(e){r.prototype[e]=null,r.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}}),["topLevel","eval","native","constructor"].forEach(function(e){r.prototype[e]=!1,r.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}}),t._createParsedCallSite=function(e){return new r(e)}},function(e,t,r){"use strict";const n=r(85);e.exports=class extends n{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,t,r){return e.exception?this.transport.log(e,r):(r(),!0)}}},function(e,t,r){"use strict";const n=r(6),{LEVEL:i}=r(4),o=r(26),s=e.exports=function(e={}){if(o.call(this,e),!e.transport||"function"!=typeof e.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(e){this.emit("error",e,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};n.inherits(s,o),s.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);(!this.level||this.levels[this.level]>=this.levels[e[i]])&&this.transport.log(e[i],e.message,e,this._nop),r(null)},s.prototype._writev=function(e,t){for(let t=0;t<e.length;t++)this._accept(e[t])&&(this.transport.log(e[t].chunk[i],e[t].chunk.message,e[t].chunk,this._nop),e[t].callback());return t(null)},s.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},s.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(e,t,r){"use strict";e.exports=class{constructor(e){if(!e)throw new Error("Logger is required for profiling.");this.logger=e,this.start=Date.now()}done(...e){"function"==typeof e[e.length-1]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());const t="object"==typeof e[e.length-1]?e.pop():{};return t.level=t.level||"info",t.durationMs=Date.now()-this.start,this.logger.write(t)}}},function(e,t,r){"use strict";const n=r(103);e.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,t){if(!this.loggers.has(e)){const r=(t=Object.assign({},t||this.options)).transports||this.options.transports;t.transports=r?r.slice():[];const i=n(t);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,t){return this.add(e,t)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((e,t)=>this._removeLogger(t))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(220);t.ConsoleForElectron=class extends i{constructor(e){super(e),this.stderrLevels=this._getStderrLevels(e)}log(e,t){this.stderrLevels.has(e[n.LEVEL])?console.error(e[n.MESSAGE]):console.log(e[n.MESSAGE]),t&&t()}_getStderrLevels(e){if(void 0===e||void 0===e.level)return new Set(["error"]);if(!Array.isArray(e.level))throw new Error("Cannot set stderrLevels to type other than Array");return this._stringArrayToSet(e.level)}_stringArrayToSet(e){if(!e)return new Set;if(!Array.isArray(e))throw new Error("Cannot make set from type other than Array of string elements");return e.reduce((e,t)=>{if("string"!=typeof t)throw new Error("Cannot make set from type other than Array of string elements");return e[t]=!0,e},new Set)}}},function(e,t,r){"use strict";const n=r(6),{Writable:i}=r(31),{LEVEL:o}=r(4),s=e.exports=function(e={}){i.call(this,{objectMode:!0}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",e=>{this.levels=e.levels,this.level=this.level||e.level,this.parent=e}),this.once("unpipe",e=>{e===this.parent&&(this.parent=null,this.close&&this.close())})};n.inherits(s,i),s.prototype._write=function(e,t,r){return this.silent||!0===e.exception&&!this.handleExceptions?r(null):(!this.level||this.levels[this.level]>=this.levels[e[o]])&&(e=this.format?this.format.transform(Object.assign({},e),this.format.options):e)?this.log(e,r):r(null)},s.prototype._writev=function(e,t){if(this.logv){const r=e.filter(this._accept,this);return r.length?this.logv(r,t):t(null)}for(let t=0;t<e.length;t++)if(this._accept(e[t])){const r=this.format?this.format.transform(Object.assign({},e[t].chunk),this.format.options):e[t].chunk;r&&this.log(r,e[t].callback)}return t(null)},s.prototype._accept=function(e){const t=e.chunk;return!this.silent&&!(!0!==t.exception&&this.level&&!(this.levels[this.level]>=this.levels[t[o]])||!this.handleExceptions&&!0===t.exception)},s.prototype._nop=function(){}},function(e,t,r){var n=r(9),i=r(222),o=function(e,t){var r;if("darwin"===(t=t||process.platform))r=n.join(process.env.HOME,"Library","Application Support","{0}");else if("win32"===t){var i;i=e?"APPDATA":"LOCALAPPDATA",r=n.join(process.env[i]||process.env.APPDATA,"{1}","{0}")}else r=process.env.XDG_DATA_HOME?n.join(process.env.XDG_DATA_HOME,"{0}"):n.join(process.env.HOME,".local","share","{0}");return r},s=function(e){return"win32"===(e=e||process.platform)?n.join(process.env.LOCALAPPDATA||process.env.APPDATA,"{1}","{0}","Cache"):"darwin"===e?n.join(process.env.HOME,"Library","Caches","{0}"):process.env.XDG_CACHE_HOME?n.join(process.env.XDG_CACHE_HOME,"{0}"):n.join(process.env.HOME,".cache","{0}")};function a(e){i.instanceOf(e,String)&&(e={appName:e}),this.appName=e.appName,this.appAuthor=e.appAuthor||e.appName,this.appVersion=e.appVersion||null,this._useRoaming=e.useRoaming||!1,this._platform=e.platform||null,this._setTemplates()}a.prototype={_setTemplates:function(){var e,t;this._userDataTemplate=o(this._useRoaming,this._platform),this._userConfigTemplate=(e=this._useRoaming,"darwin"===(t=(t=this._platform)||process.platform)||"win32"===t?o(e,t):process.env.XDG_CONFIG_HOME?n.join(process.env.XDG_CONFIG_HOME,"{0}"):n.join(process.env.HOME,".config","{0}")),this._userCacheTemplate=s(this._platform),this._userLogsTemplate=function(e){return"win32"===(e=e||process.platform)?n.join(o(!1,e),"Logs"):"darwin"===e?n.join(process.env.HOME,"Library","Logs","{0}"):n.join(s(e),"log")}(this._platform)},get useRoaming(){return this._useRoaming},set useRoaming(e){this._useRoaming=e,this._setTemplates()},get platform(){return this._platform},set platform(e){this._platform=e,this._setTemplates()},userData:function(){var e=this._userDataTemplate;if(null!==this.appVersion)e=n.join(e,this.appVersion);return i.formatStr(e,this.appName,this.appAuthor)},siteData:function(){var e=this._siteDataTemplate;if(null!==this.appVersion)e=n.join(e,this.appVersion);return i.formatStr(e,this.appName,this.appAuthor)},userConfig:function(){var e=this._userConfigTemplate;if(null!==this.appVersion)e=n.join(e,this.appVersion);return i.formatStr(e,this.appName,this.appAuthor)},siteConfig:function(){var e=this._siteConfigTemplate;if(null!==this.appVersion)e=n.join(e,this.appVersion);return i.formatStr(e,this.appName,this.appAuthor)},userCache:function(){var e=this._userCacheTemplate;if(null!==this.appVersion)e=n.join(e,this.appVersion);return i.formatStr(e,this.appName,this.appAuthor)},userLogs:function(){var e=this._userLogsTemplate;if(null!==this.appVersion)e=n.join(e,this.appVersion);return i.formatStr(e,this.appName,this.appAuthor)}},e.exports=a},function(e,t){e.exports.instanceOf=function(e,t){for("object"!=typeof e&&(e=new e.constructor(e));null!=e;){if(e==t.prototype)return!0;e=Object.getPrototypeOf(e)}return!1},e.exports.formatStr=function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,r){return void 0!==t[r]?t[r]:e})}},function(e,t,r){"use strict";const n=r(224),i=r(255),o=r(256),s=r(257);function a(){switch(process.platform){case"darwin":return o;case"win32":return s;case"android":if("/data/data/com.termux/files/usr"!==process.env.PREFIX)throw new Error("You need to install Termux for this module to work on Android: https://termux.com");return n;default:return i}}t.write=(e=>"string"!=typeof e?Promise.reject(new TypeError(`Expected a string, got ${typeof e}`)):a().copy({input:e}).then(()=>{})),t.read=(()=>a().paste({stripEof:!1})),t.writeSync=(e=>{if("string"!=typeof e)throw new TypeError(`Expected a string, got ${typeof e}`);a().copySync({input:e})}),t.readSync=(()=>a().pasteSync({stripEof:!1}).stdout)},function(e,t,r){"use strict";const n=r(42),i=e=>{if("ENOENT"===e.code)throw new Error("Couldn't find the termux-api scripts. You can install them with: apt install termux-api");throw e};e.exports={copy:e=>n("termux-clipboard-set",e).catch(i),paste:e=>n.stdout("termux-clipboard-get",e).catch(i),copySync:e=>{try{return n.sync("termux-clipboard-set",e)}catch(e){i(e)}},pasteSync:e=>{try{return n.sync("termux-clipboard-get",e)}catch(e){i(e)}}}},function(e,t,r){"use strict";var n=r(20),i=r(226),o=r(239),s=n.spawnSync;function a(e,t,r){var s,a;return s=i(e,t,r),a=n.spawn(s.command,s.args,s.options),o.hookChildProcess(a,s),a}e.exports=a,e.exports.spawn=a,e.exports.sync=function(e,t,n){var a,u;if(!s)try{s=r(240)}catch(e){throw new Error("In order to use spawnSync on node 0.10 or older, you must install spawn-sync:\n\n  npm install spawn-sync --save")}return a=i(e,t,n),(u=s(a.command,a.args,a.options)).error=u.error||o.verifyENOENTSync(u.status,a),u},e.exports._parse=i,e.exports._enoent=o},function(e,t,r){"use strict";var n=r(106),i=r(234),o=r(108),s=r(235),a=r(236),u="win32"===process.platform,c=/\.(?:com|exe)$/i,l=parseInt(process.version.substr(1).split(".")[0],10)>=6||4===parseInt(process.version.substr(1).split(".")[0],10)&&parseInt(process.version.substr(1).split(".")[1],10)>=8;e.exports=function(e,t,r){var d;return t&&!Array.isArray(t)&&(r=t,t=null),d={command:e,args:t=t?t.slice(0):[],options:r=r||{},file:void 0,original:e},r.shell?function(e){var t;return l?e:(t=[e.command].concat(e.args).join(" "),u?(e.command="string"==typeof e.options.shell?e.options.shell:process.env.comspec||"cmd.exe",e.args=["/d","/s","/c",'"'+t+'"'],e.options.windowsVerbatimArguments=!0):("string"==typeof e.options.shell?e.command=e.options.shell:"android"===process.platform?e.command="/system/bin/sh":e.command="/bin/sh",e.args=["-c",t]),e)}(d):function(e){var t,r,l;return u?(e.file=n(e.command),e.file=e.file||n(e.command,!0),(t=e.file&&a(e.file))?(e.args.unshift(e.file),e.command=t,r=i||!c.test(n(t)||n(t,!0))):r=i||!c.test(e.file),r&&(l="echo"!==e.command,e.command=s(e.command),e.args=e.args.map(function(e){return o(e,l)}),e.args=["/d","/s","/c",'"'+e.command+(e.args.length?" "+e.args.join(" "):"")+'"'],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0),e):e}(d)}},function(e,t,r){e.exports=c,c.sync=function(e,t){for(var r=u(e,t=t||{}),n=r.env,o=r.ext,c=r.extExe,l=[],d=0,h=n.length;d<h;d++){var f=n[d];'"'===f.charAt(0)&&'"'===f.slice(-1)&&(f=f.slice(1,-1));var p=i.join(f,e);!f&&/^\.[\\\/]/.test(e)&&(p=e.slice(0,2)+p);for(var m=0,g=o.length;m<g;m++){var v=p+o[m];try{if(s.sync(v,{pathExt:c})){if(!t.all)return v;l.push(v)}}catch(e){}}}if(t.all&&l.length)return l;if(t.nothrow)return null;throw a(e)};var n="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=r(9),o=n?";":":",s=r(228);function a(e){var t=new Error("not found: "+e);return t.code="ENOENT",t}function u(e,t){var r=t.colon||o,i=t.path||process.env.PATH||"",s=[""];i=i.split(r);var a="";return n&&(i.unshift(process.cwd()),s=(a=t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM").split(r),-1!==e.indexOf(".")&&""!==s[0]&&s.unshift("")),(e.match(/\//)||n&&e.match(/\\/))&&(i=[""]),{env:i,ext:s,extExe:a}}function c(e,t,r){"function"==typeof t&&(r=t,t={});var n=u(e,t),o=n.env,c=n.ext,l=n.extExe,d=[];!function n(u,h){if(u===h)return t.all&&d.length?r(null,d):r(a(e));var f=o[u];'"'===f.charAt(0)&&'"'===f.slice(-1)&&(f=f.slice(1,-1));var p=i.join(f,e);!f&&/^\.[\\\/]/.test(e)&&(p=e.slice(0,2)+p),function e(i,o){if(i===o)return n(u+1,h);var a=c[i];s(p+a,{pathExt:l},function(n,s){if(!n&&s){if(!t.all)return r(null,p+a);d.push(p+a)}return e(i+1,o)})}(0,c.length)}(0,o.length)}},function(e,t,r){var n;r(8);function i(e,t,r){if("function"==typeof t&&(r=t,t={}),!r){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise(function(r,n){i(e,t||{},function(e,t){e?n(e):r(t)})})}n(e,t||{},function(e,n){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,n=!1),r(e,n)})}n="win32"===process.platform||global.TESTING_WINDOWS?r(229):r(230),e.exports=i,i.sync=function(e,t){try{return n.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},function(e,t,r){e.exports=o,o.sync=function(e,t){return i(n.statSync(e),e,t)};var n=r(8);function i(e,t,r){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var r=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(-1!==(r=r.split(";")).indexOf(""))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,r)}function o(e,t,r){n.stat(e,function(n,o){r(n,!n&&i(o,e,t))})}},function(e,t,r){e.exports=i,i.sync=function(e,t){return o(n.statSync(e),t)};var n=r(8);function i(e,t,r){n.stat(e,function(e,n){r(e,!e&&o(n,t))})}function o(e,t){return e.isFile()&&function(e,t){var r=e.mode,n=e.uid,i=e.gid,o=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),c=parseInt("001",8),l=a|u;return r&c||r&u&&i===s||r&a&&n===o||r&l&&0===o}(e,t)}},function(e,t,r){"pseudomap"===process.env.npm_package_name&&"test"===process.env.npm_lifecycle_script&&(process.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||process.env.TEST_PSEUDOMAP?e.exports=r(232):e.exports=Map},function(e,t){var r=Object.prototype.hasOwnProperty;function n(e){if(!(this instanceof n))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),e)if(e instanceof n||"function"==typeof Map&&e instanceof Map)e.forEach(function(e,t){this.set(t,e)},this);else{if(!Array.isArray(e))throw new TypeError("invalid argument");e.forEach(function(e){this.set(e[0],e[1])},this)}}function i(e,t){return e===t||e!=e&&t!=t}function o(e,t,r){this.key=e,this.value=t,this._index=r}function s(e,t){for(var n=0,o="_"+t,s=o;r.call(e,s);s=o+n++)if(i(e[s].key,t))return e[s]}e.exports=n,n.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach(function(r){"size"!==r&&e.call(t,this._data[r].value,this._data[r].key)},this)},n.prototype.has=function(e){return!!s(this._data,e)},n.prototype.get=function(e){var t=s(this._data,e);return t&&t.value},n.prototype.set=function(e,t){!function(e,t,n){for(var s=0,a="_"+t,u=a;r.call(e,u);u=a+s++)if(i(e[u].key,t))return void(e[u].value=n);e.size++,e[u]=new o(t,n,u)}(this._data,e,t)},n.prototype.delete=function(e){var t=s(this._data,e);t&&(delete this._data[t._index],this._data.size--)},n.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,"_data",{value:e,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(n.prototype,"size",{get:function(){return this._data.size},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.values=n.prototype.keys=n.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(e,t){function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function n(e,t){e.tail=new o(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function i(e,t){e.head=new o(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,t,r,n){if(!(this instanceof o))return new o(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=r,r.Node=o,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},r.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},r.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},r.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this}},function(e,t,r){"use strict";var n;e.exports="win32"===process.platform&&0===(n=process.version.substr(1).split(".").map(function(e){return parseInt(e,10)}))[0]&&n[1]<12},function(e,t,r){"use strict";var n=r(108);e.exports=function(e){return/^[a-z0-9_-]+$/i.test(e)?e:n(e,!0)}},function(e,t,r){"use strict";var n=r(8),i=r(107),o=r(237),s=new i({max:50,maxAge:3e4});e.exports=function(e){var t,r,i;if(s.has(e))return s.get(e);t=new Buffer(150);try{r=n.openSync(e,"r"),n.readSync(r,t,0,150,0),n.closeSync(r)}catch(e){}return i=o(t.toString()),s.set(e,i),i}},function(e,t,r){"use strict";var n=r(238);e.exports=function(e){var t=e.match(n);if(!t)return null;var r=t[0].replace(/#! ?/,"").split(" "),i=r[0].split("/").pop(),o=r[1];return"env"===i?o:i+(o?" "+o:"")}},function(e,t,r){"use strict";e.exports=/^#!.*/},function(e,t,r){"use strict";var n="win32"===process.platform,i=r(106),o=0===process.version.indexOf("v0.10.");function s(e,t){var r;return(r=new Error(t+" "+e+" ENOENT")).code=r.errno="ENOENT",r.syscall=t+" "+e,r}function a(e,t){return n&&1===e&&!t.file?s(t.original,"spawn"):null}e.exports.hookChildProcess=function(e,t){var r;n&&(r=e.emit,e.emit=function(n,i){var o;return"exit"===n&&(o=a(i,t))?r.call(e,"error",o):r.apply(e,arguments)})},e.exports.verifyENOENT=a,e.exports.verifyENOENTSync=function(e,t){return n&&1===e&&!t.file?s(t.original,"spawnSync"):o&&-1===e&&(t.file=n?t.file:i(t.original),!t.file)?s(t.original,"spawnSync"):null},e.exports.notFoundError=s},function(e,t,r){"use strict";e.exports=r(20).spawnSync||r(241)},function(e,t,r){"use strict";var n,i=r(9),o=r(8),s=r(19).tmpdir||r(242).tmpdir,a=r(20),u=r(243);try{n=r(244)}catch(e){console.warn("Native thread-sleep not available."),console.warn("This will result in much slower performance, but it will still work."),console.warn("You should re-install spawn-sync or upgrade to the lastest version of node if possible."),console.warn("Check "+i.resolve(__dirname,"../error.log")+" for more details"),n=function(){}}var c=i.normalize(i.join(s(),"spawn-sync"));function l(e){return c+"_"+e+"_"+String(process.pid)+function e(t){if(1===t)return parseInt(16*Math.random(),10).toString(16);for(var r="",n=0;n<t;n++)r+=e(1);return r}(20)}function d(e){try{o.unlinkSync(e)}catch(e){if("ENOENT"!==e.code)throw e}}function h(e){try{o.unlinkSync(e)}catch(e){}}e.exports=function(e,t,r){for(var s=[],c=0;c<arguments.length;c++)s.push(arguments[c]);var f=i.normalize(__dirname+"/worker.js"),p=l("input"),m=l("output");d(m),o.writeFileSync(p,u.stringify(s)),function(e){var t=l("finished");for(d(t),e="win32"===process.platform?e+'& echo "finished" > '+t:e+'; echo "finished" > '+t,a.exec(e);!o.existsSync(t);)n(200);h(t)}('"'+process.execPath+'" "'+f+'" "'+p+'" "'+m+'"');var g=u.parse(o.readFileSync(m,"utf8"));return h(p),h(m),g}},function(e,t,r){var n,i=r(19);e.exports=n=function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}(i),i.tmpdir||(n.tmpdir=function(){var e="win32"===process.platform,t=process.env;return e?t.TEMP||t.TMP||(t.SystemRoot||t.windir)+"\\temp":t.TMPDIR||t.TMP||t.TEMP||"/tmp"}),i.platform||(n.platform=function(){return process.platform}),i.arch||(n.arch=function(){return process.arch}),i.endianness||(n.endianness=function(){return 67305985===new Uint32Array(new Uint8Array([1,2,3,4]).buffer)[0]?"LE":"BE"}),i.EOL||Object.defineProperty(n,"EOL",{get:function(){return"win32"===process.platform?"\n\r":"\n"}})},function(e,t,r){"use strict";t.stringify=function e(t){if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&"object"==typeof t){var r="",n=Array.isArray(t);r=n?"[":"{";var i=!0;for(var o in t){var s="function"==typeof t[o]||!n&&void 0===t[o];Object.hasOwnProperty.call(t,o)&&!s&&(i||(r+=","),i=!1,n?r+=e(t[o]):void 0!==t[o]&&(r+=e(o)+":"+e(t[o])))}return r+=n?"]":"}"}return"string"==typeof t?JSON.stringify(/^:/.test(t)?":"+t:t):void 0===t?"null":JSON.stringify(t)},t.parse=function(e){return JSON.parse(e,function(e,t){return"string"==typeof t?/^:base64:/.test(t)?new Buffer(t.substring(8),"base64"):/^:/.test(t)?t.substring(1):t:t})}},function(e,t){e.exports=require("try-thread-sleep")},function(e,t,r){"use strict";e.exports=function(e){var t="string"==typeof e?"\n":"\n".charCodeAt(),r="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}},function(e,t,r){"use strict";const n=r(9),i=r(247);e.exports=(e=>{let t;e=Object.assign({cwd:process.cwd(),path:process.env[i()]},e);let r=n.resolve(e.cwd);const o=[];for(;t!==r;)o.push(n.join(r,"node_modules/.bin")),t=r,r=n.resolve(r,"..");return o.push(n.dirname(process.execPath)),o.concat(e.path).join(n.delimiter)}),e.exports.env=(t=>{t=Object.assign({env:process.env},t);const r=Object.assign({},t.env),n=i({env:r});return t.path=r[n],r[n]=e.exports(t),r})},function(e,t,r){"use strict";e.exports=(e=>{const t=(e=e||{}).env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).find(e=>"PATH"===e.toUpperCase())||"Path"})},function(e,t,r){"use strict";const n=r(249);function i(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));const r=(t=Object.assign({maxBuffer:1/0},t)).maxBuffer;let i,o;const s=new Promise((s,a)=>{const u=e=>{e&&(e.bufferedData=i.getBufferedValue()),a(e)};i=n(t),e.once("error",u),e.pipe(i),i.on("data",()=>{i.getBufferedLength()>r&&a(new Error("maxBuffer exceeded"))}),i.once("error",u),i.on("end",s),o=(()=>{e.unpipe&&e.unpipe(i)})});return s.then(o,o),s.then(()=>i.getBufferedValue())}e.exports=i,e.exports.buffer=((e,t)=>i(e,Object.assign({},t,{encoding:"buffer"}))),e.exports.array=((e,t)=>i(e,Object.assign({},t,{array:!0})))},function(e,t,r){"use strict";const n=r(31).PassThrough;e.exports=(e=>{const t=(e=Object.assign({},e)).array;let r=e.encoding;const i="buffer"===r;let o=!1;t?o=!(r||i):r=r||"utf8",i&&(r=null);let s=0;const a=[],u=new n({objectMode:o});return r&&u.setEncoding(r),u.on("data",e=>{a.push(e),o?s=a.length:s+=e.length}),u.getBufferedValue=(()=>t?a:i?Buffer.concat(a,s):a.join("")),u.getBufferedLength=(()=>s),u})},function(e,t,r){"use strict";e.exports=((e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e}))))},function(e,t,r){var n,i=r(109),o=r(252),s=r(39);function a(){l&&(l=!1,o.forEach(function(e){try{process.removeListener(e,c[e])}catch(e){}}),process.emit=p,process.reallyExit=h,n.count-=1)}function u(e,t,r){n.emitted[e]||(n.emitted[e]=!0,n.emit(e,t,r))}"function"!=typeof s&&(s=s.EventEmitter),process.__signal_exit_emitter__?n=process.__signal_exit_emitter__:((n=process.__signal_exit_emitter__=new s).count=0,n.emitted={}),n.infinite||(n.setMaxListeners(1/0),n.infinite=!0),e.exports=function(e,t){i.equal(typeof e,"function","a callback must be provided for exit handler"),!1===l&&d();var r="exit";t&&t.alwaysLast&&(r="afterexit");return n.on(r,e),function(){n.removeListener(r,e),0===n.listeners("exit").length&&0===n.listeners("afterexit").length&&a()}},e.exports.unload=a;var c={};o.forEach(function(e){c[e]=function(){process.listeners(e).length===n.count&&(a(),u("exit",null,e),u("afterexit",null,e),process.kill(process.pid,e))}}),e.exports.signals=function(){return o},e.exports.load=d;var l=!1;function d(){l||(l=!0,n.count+=1,o=o.filter(function(e){try{return process.on(e,c[e]),!0}catch(e){return!1}}),process.emit=m,process.reallyExit=f)}var h=process.reallyExit;function f(e){process.exitCode=e||0,u("exit",process.exitCode,null),u("afterexit",process.exitCode,null),h.call(process,process.exitCode)}var p=process.emit;function m(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var r=p.apply(this,arguments);return u("exit",process.exitCode,null),u("afterexit",process.exitCode,null),r}return p.apply(this,arguments)}},function(e,t){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},function(e,t,r){"use strict";let n;try{if("function"!=typeof(n=process.binding("uv")).errname)throw new TypeError("uv.errname is not a function")}catch(e){console.error("execa/lib/errname: unable to establish process.binding('uv')",e),n=null}function i(e,t){if(e)return e.errname(t);if(!(t<0))throw new Error("err >= 0");return`Unknown system error ${t}`}e.exports=(e=>i(n,e)),e.exports.__test__=i},function(e,t,r){"use strict";const n=["stdin","stdout","stderr"];e.exports=(e=>{if(!e)return null;if(e.stdio&&(e=>n.some(t=>Boolean(e[t])))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${n.map(e=>`\`${e}\``).join(", ")}`);if("string"==typeof e.stdio)return e.stdio;const t=e.stdio||[];if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const r=[],i=Math.max(t.length,n.length);for(let o=0;o<i;o++){let i=null;void 0!==t[o]?i=t[o]:void 0!==e[n[o]]&&(i=e[n[o]]),r[o]=i}return r})},function(e,t,r){"use strict";r(9);const n=r(42),i=e=>{if("ENOENT"===e.code)throw new Error("Couldn't find the required `xsel` binary. On Debian/Ubuntu you can install it with: sudo apt install xsel");throw e},o=__dirname+"/xsel";e.exports={copy:e=>n(o,["--clipboard","--input"],e).catch(()=>n("xsel",["--clipboard","--input"],e)).catch(i),paste:e=>n.stdout(o,["--clipboard","--output"],e).catch(()=>n.stdout("xsel",["--clipboard","--output"],e)).catch(i),copySync:e=>{try{return n.sync(o,["--clipboard","--input"],e)}catch(t){try{return n.sync("xsel",["--clipboard","--input"],e)}catch(e){i(e)}}},pasteSync:e=>{try{return n.sync(o,["--clipboard","--output"],e)}catch(t){try{return n.sync("xsel",["--clipboard","--output"],e)}catch(e){i(e)}}}}},function(e,t,r){"use strict";const n=r(42),i=Object.assign({},process.env,{LC_CTYPE:"UTF-8"});e.exports={copy:e=>n("pbcopy",Object.assign({},e,{env:i})),paste:e=>n.stdout("pbpaste",Object.assign({},e,{env:i})),copySync:e=>n.sync("pbcopy",Object.assign({},e,{env:i})),pasteSync:e=>n.sync("pbpaste",Object.assign({},e,{env:i}))}},function(e,t,r){"use strict";const n=r(9),i=r(42),o="x64"===r(258)()?__dirname+"/clipboard_x86_64.exe":n.join(__dirname,"../fallbacks/windows/clipboard_i686.exe");e.exports={copy:e=>i(o,["--copy"],e),paste:e=>i.stdout(o,["--paste"],e),copySync:e=>i.sync(o,["--copy"],e),pasteSync:e=>i.sync(o,["--paste"],e)}},function(e,t,r){var n=r(20),i=r(8),o=r(9);e.exports=function(){if("x64"===process.arch)return"x64";if("darwin"===process.platform)return"x64";if("win32"===process.platform){var e=!1;try{e=!(!process.env.SYSTEMROOT||!i.statSync(process.env.SYSTEMROOT))}catch(e){}var t=e?process.env.SYSTEMROOT:"C:\\Windows",r=!1;try{r=!!i.statSync(o.join(t,"sysnative"))}catch(e){}return r?"x64":"x86"}return"linux"===process.platform&&"64\n"===n.execSync("getconf LONG_BIT",{encoding:"utf8"})?"x64":"x86"}},function(e,t,r){"use strict";const n=r(19).homedir();e.exports=(e=>{if("string"!=typeof e)throw new TypeError(`Expected a string, got ${typeof e}`);return n?e.replace(/^~(?=$|\/|\\)/,n):e})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t,r,n){this.value=e,this.radix=t,this.prefix=r,this.suffix=n}static parse(e){for(const{regex:t,base:r,prefix:i}of n.matchings){if(null==t.exec(e))continue;let o=/^[^\d-+]+(?=[0-9]+)/g,s=/[^\d]*[\d]*(.*)/g,a=i,u="",c=e;if(null!==/[^\d-+]+/g.exec(e)&&n.matchings[n.matchings.length-1].regex===t){let t=o.exec(e),r=s.exec(e);null!==t&&(a=t.toString()),null!==r&&(u=r[1].toString()),c=c.slice(a.length,c.length-u.length)}return new n(parseInt(c,r),r,a,u)}return null}toString(){return 16===this.radix&&this.value<0&&(this.value=4294967295+this.value+1),this.prefix+this.value.toString(this.radix)+this.suffix}}n.matchings=[{regex:/^([-+])?0([0-7]+)$/g,base:8,prefix:"0"},{regex:/^([-+])?(\d+)$/g,base:10,prefix:""},{regex:/^([-+])?0x([\da-fA-F]+)$/g,base:16,prefix:"0x"},{regex:/\d/,base:10,prefix:""}],t.NumericString=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(262),i=r(7),o=r(263),s=r(30),a=r(16);function u(e,t){for(;;){let r=e.next();switch(r.type){case s.TokenType.Eof:return null;case s.TokenType.Dot:case s.TokenType.Dollar:case s.TokenType.Percent:case s.TokenType.Comma:case s.TokenType.LineNumber:case s.TokenType.SelectionFirstLine:case s.TokenType.SelectionLastLine:case s.TokenType.Mark:case s.TokenType.Offset:case s.TokenType.Plus:case s.TokenType.Minus:t.range.addToken(r);continue;case s.TokenType.CommandName:return e.backup(),c;default:return console.warn("skipping token Token("+r.type+",{"+r.content+"})"),null}}}function c(e,t){for(;!e.isAtEof;){var r=e.next();switch(r.type){case s.TokenType.CommandName:var n=o.commandParsers[r.content];if(!n)throw a.VimError.fromCode(a.ErrorCode.E492);var i=e.next(),u=i.type===s.TokenType.CommandArgs?i.content:null;return t.command=n(u),null;default:throw new Error("Not implemented")}}return e.isAtEof?null:(e.backup(),c)}t.parse=function(e){var t=new i.CommandLine,r=u;let n=new l(e);for(;r;)r=r(n,t);return t};class l{constructor(e){this.tokens=[],this.pos=0,this.lex(e)}lex(e){this.tokens=n.lex(e)}next(){if(this.pos>=this.tokens.length)return this.pos=this.tokens.length,new s.Token(s.TokenType.Eof,"__EOF__");let e=this.tokens[this.pos];return this.pos++,e}backup(){this.pos--}get isAtEof(){return this.pos>=this.tokens.length}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(11),i=r(30);function o(e,t){var r=t.emit();return r.length>0?new i.Token(e,r):null}var s;t.lex=function(e){for(var t=new n.Scanner(e),r=[],i=s.lexRange;i;)i=i(t,r);return r},function(e){function t(e,t){for(;!e.isAtEof;){switch(e.next()){case",":case";":t.push(o(i.TokenType.Comma,e));continue;case"%":t.push(o(i.TokenType.Percent,e));continue;case"$":t.push(o(i.TokenType.Dollar,e));continue;case".":t.push(o(i.TokenType.Dot,e));continue;case"/":return a;case"?":return u;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(t.length<1)return n(i.TokenType.LineNumber);{const e=t[t.length-1].type;return e===i.TokenType.Plus||e===i.TokenType.Minus?n(i.TokenType.Offset):n(i.TokenType.LineNumber)}case"+":t.push(o(i.TokenType.Plus,e));continue;case"-":t.push(o(i.TokenType.Minus,e));continue;case"*":e.emit(),t.push(new i.Token(i.TokenType.SelectionFirstLine,"<")),t.push(new i.Token(i.TokenType.Comma,",")),t.push(new i.Token(i.TokenType.SelectionLastLine,">"));continue;case"'":return r;default:return s}}return null}function r(e,r){if(e.isAtEof)return null;var n=e.next();switch(n){case"<":r.push(o(i.TokenType.SelectionFirstLine,e));break;case">":r.push(o(i.TokenType.SelectionLastLine,e));break;default:/[a-zA-Z]/.test(n)?(e.emit(),r.push(new i.Token(i.TokenType.Mark,n))):e.backup()}return t}function n(e){return function(r,n){for(;;){if(r.isAtEof)return n.push(o(e,r)),null;switch(r.next()){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":continue;default:return r.backup(),n.push(o(e,r)),t}}}}function s(e,t){for(;;){if(e.isAtEof){t.push(o(i.TokenType.CommandName,e));break}var r=e.next().toLowerCase();if(!(r>="a"&&r<="z")){for(e.backup(),t.push(o(i.TokenType.CommandName,e));!e.isAtEof;)e.next();var n=o(i.TokenType.CommandArgs,e);n&&t.push(n);break}}return null}function a(e,r){e.skip("/");for(var n=!1,o="";!e.isAtEof;){var s=e.next();if("/"===s&&!n)break;"\\"!==s?(n=!1,o+="\\"!==s?s:"\\\\"):n=!0}return r.push(new i.Token(i.TokenType.ForwardSearch,o)),e.ignore(),e.isAtEof||e.skip("/"),t}function u(e,r){e.skip("?");for(var n=!1,o="";!e.isAtEof;){var s=e.next();if("?"===s&&!n)break;"\\"!==s?(n=!1,o+="\\"!==s?s:"\\\\"):n=!0}return r.push(new i.Token(i.TokenType.ReverseSearch,o)),e.ignore(),e.isAtEof||e.skip("?"),t}e.lexRange=t}(s||(s={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(264),i=r(266),o=r(268),s=r(269),a=r(271),u=r(272),c=r(273),l=r(275),d=r(277),h=r(279),f=r(281),p=r(284),m=r(285),g=r(286),v=r(287),y=r(289);t.commandParsers={w:g.parseWriteCommandArgs,write:g.parseWriteCommandArgs,wa:m.parseWallCommandArgs,wall:m.parseWallCommandArgs,nohlsearch:s.parseNohlCommandArgs,noh:s.parseNohlCommandArgs,nohl:s.parseNohlCommandArgs,close:n.parseCloseCommandArgs,clo:n.parseCloseCommandArgs,quit:u.parseQuitCommandArgs,q:u.parseQuitCommandArgs,qa:u.parseQuitAllCommandArgs,qall:u.parseQuitAllCommandArgs,wq:v.parseWriteQuitCommandArgs,writequit:v.parseWriteQuitCommandArgs,x:v.parseWriteQuitCommandArgs,wqa:y.parseWriteQuitAllCommandArgs,wqall:y.parseWriteQuitAllCommandArgs,xa:y.parseWriteQuitAllCommandArgs,xall:y.parseWriteQuitAllCommandArgs,tabn:p.parseTabNCommandArgs,tabnext:p.parseTabNCommandArgs,tabp:p.parseTabPCommandArgs,tabprevious:p.parseTabPCommandArgs,tabN:p.parseTabPCommandArgs,tabNext:p.parseTabPCommandArgs,tabfirst:p.parseTabFirstCommandArgs,tabfir:p.parseTabFirstCommandArgs,tablast:p.parseTabLastCommandArgs,tabl:p.parseTabLastCommandArgs,tabe:p.parseTabNewCommandArgs,tabedit:p.parseTabNewCommandArgs,tabnew:p.parseTabNewCommandArgs,tabclose:p.parseTabCloseCommandArgs,tabc:p.parseTabCloseCommandArgs,tabo:p.parseTabOnlyCommandArgs,tabonly:p.parseTabOnlyCommandArgs,tabm:p.parseTabMovementCommandArgs,s:f.parseSubstituteCommandArgs,e:o.parseEditFileCommandArgs,edit:o.parseEditFileCommandArgs,ene:o.parseEditNewFileCommandArgs,enew:o.parseEditNewFileCommandArgs,sp:o.parseEditFileInNewHorizontalWindowCommandArgs,split:o.parseEditFileInNewHorizontalWindowCommandArgs,vs:o.parseEditFileInNewVerticalWindowCommandArgs,vsp:o.parseEditFileInNewVerticalWindowCommandArgs,vsplit:o.parseEditFileInNewVerticalWindowCommandArgs,new:o.parseEditNewFileInNewHorizontalWindowCommandArgs,vne:o.parseEditNewFileInNewVerticalWindowCommandArgs,vnew:o.parseEditNewFileInNewVerticalWindowCommandArgs,only:a.parseOnlyCommandArgs,set:d.parseOptionsCommandArgs,se:d.parseOptionsCommandArgs,read:c.parseReadCommandArgs,r:c.parseReadCommandArgs,reg:l.parseRegisterCommandArgs,d:i.parseDeleteRangeLinesCommandArgs,sort:h.parseSortCommandArgs}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16),i=r(265),o=r(11);t.parseCloseCommandArgs=function(e){if(!e)return new i.CloseCommand({});var t={},r=new o.Scanner(e);const s=r.next();if("!"===s)t.bang=!0,r.ignore();else if(" "!==s)throw n.VimError.fromCode(n.ErrorCode.E488);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.E488);return new i.CloseCommand(t)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(16),s=r(7);t.CloseCommand=class extends s.CommandBase{constructor(e){super(),this._name="close",this._arguments=e}get arguments(){return this._arguments}execute(){return n(this,void 0,void 0,function*(){if(this.activeTextEditor.document.isDirty&&!this.arguments.bang)throw o.VimError.fromCode(o.ErrorCode.E37);if(1===i.window.visibleTextEditors.length)throw o.VimError.fromCode(o.ErrorCode.E444);let e=this.activeTextEditor.viewColumn;yield i.commands.executeCommand("workbench.action.closeActiveEditor"),void 0!==i.window.activeTextEditor&&i.window.activeTextEditor.viewColumn===e&&(yield i.commands.executeCommand("workbench.action.previousEditor"))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(267),i=r(11);t.parseDeleteRangeLinesCommandArgs=function(e){if(!e)return new n.DeleteRangeCommand({});let t=new i.Scanner(e).nextWord();return new n.DeleteRangeCommand({register:t})}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(2),s=r(15),a=r(5),u=r(7),c=r(30);t.DeleteRangeCommand=class extends u.CommandBase{constructor(e){super(),this.neovimCapable=!0,this._name="delete",this._arguments=e}get arguments(){return this._arguments}deleteRange(e,t,r){return n(this,void 0,void 0,function*(){e=e.getLineBegin(),t=t.getLineEnd();const n=(t=o.Position.FromVSCodePosition(t.with(t.line,t.character+1))).line===a.TextEditor.getLineCount()-1;t.character===a.TextEditor.getLineAt(t).text.length+1&&(t=t.getDown(0)),n&&0!==e.line&&(e=e.getPreviousLineBegin().getLineEnd());let s=r.editor.document.getText(new i.Range(e,t));s=s.endsWith("\r\n")?s.slice(0,-2):s.slice(0,-1),yield a.TextEditor.delete(new i.Range(e,t));let u=o.Position.EarlierOf(e,t);return u=(u=e.character>a.TextEditor.getLineAt(e).text.length?e.getLeft():e).getLineBegin(),r.editor.selection=new i.Selection(u,u),s})}execute(e){return n(this,void 0,void 0,function*(){if(!e.editor)return;let t=o.Position.FromVSCodePosition(e.editor.selection.active),r=yield this.deleteRange(t,t,e);s.Register.putByKey(r,this._arguments.register,s.RegisterMode.LineWise)})}executeWithRange(e,t){return n(this,void 0,void 0,function*(){let r,n;t.left[0].type===c.TokenType.Percent?(r=new i.Position(0,0),n=new i.Position(a.TextEditor.getLineCount()-1,0)):(r=t.lineRefToPosition(e.editor,t.left,e),n=t.lineRefToPosition(e.editor,t.right,e));let u=yield this.deleteRange(o.Position.FromVSCodePosition(r),o.Position.FromVSCodePosition(n),e);s.Register.putByKey(u,this._arguments.register,s.RegisterMode.LineWise)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64),i=r(11);t.parseEditFileCommandArgs=function(e){if(!e)return new n.FileCommand({name:"",createFileIfNotExists:!0});let t,r=new i.Scanner(e);if(t="!"===r.next(),r.isAtEof)return new n.FileCommand({name:"",bang:t,createFileIfNotExists:!0});let o=r.nextWord();return new n.FileCommand({name:o.trim(),bang:t,createFileIfNotExists:!0})},t.parseEditNewFileCommandArgs=function(){return new n.FileCommand({name:void 0,createFileIfNotExists:!0})},t.parseEditFileInNewVerticalWindowCommandArgs=function(e){let t="";e&&(t=new i.Scanner(e).nextWord());return new n.FileCommand({name:t,position:n.FilePosition.NewWindowVerticalSplit})},t.parseEditFileInNewHorizontalWindowCommandArgs=function(e){let t="";e&&(t=new i.Scanner(e).nextWord());return new n.FileCommand({name:t,position:n.FilePosition.NewWindowHorizontalSplit})},t.parseEditNewFileInNewVerticalWindowCommandArgs=function(){return new n.FileCommand({name:void 0,createFileIfNotExists:!0,position:n.FilePosition.NewWindowVerticalSplit})},t.parseEditNewFileInNewHorizontalWindowCommandArgs=function(){return new n.FileCommand({name:void 0,createFileIfNotExists:!0,position:n.FilePosition.NewWindowHorizontalSplit})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(270);t.parseNohlCommandArgs=function(e){return new n.NohlCommand({})}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7);t.NohlCommand=class extends i.CommandBase{constructor(e){super(),this._name="nohl",this._arguments=e}get arguments(){return this._arguments}execute(e){return n(this,void 0,void 0,function*(){e.globalState.hl=!1})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(110);t.parseOnlyCommandArgs=function(e){return new n.OnlyCommand({})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16),i=r(43),o=r(11);function s(e){if(!e)return new i.QuitCommand({});var t={},r=new o.Scanner(e);const s=r.next();if("!"===s)t.bang=!0,r.ignore();else if(" "!==s)throw n.VimError.fromCode(n.ErrorCode.E488);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.E488);return new i.QuitCommand(t)}t.parseQuitCommandArgs=s,t.parseQuitAllCommandArgs=function(e){let t=s(e);return t.arguments.quitAll=!0,t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(274),i=r(11);t.parseReadCommandArgs=function(e){if(!e)throw Error("Expected arguments.");var t={},r=new i.Scanner(e);if(r.skipWhiteSpace(),"!"===r.next()){if(r.ignore(),r.skipWhiteSpace(),t.cmd=r.remaining(),!t.cmd||0===t.cmd.length)throw Error("Expected shell command.")}else if(t.file=r.remaining(),!t.file||0===t.file.length)throw Error("Expected file path.");return new n.ReadCommand(t)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(20),o=r(8),s=r(5),a=r(7);t.ReadCommand=class extends a.CommandBase{constructor(e){super(),this.neovimCapable=!0,this._name="read",this._arguments=e}get arguments(){return this._arguments}execute(){return n(this,void 0,void 0,function*(){const e=yield this.getTextToInsert();e&&(yield s.TextEditor.insert(e))})}getTextToInsert(){return n(this,void 0,void 0,function*(){if(this.arguments.file&&this.arguments.file.length>0)return yield this.getTextToInsertFromFile();if(this.arguments.cmd&&this.arguments.cmd.length>0)return yield this.getTextToInsertFromCmd();throw Error("Invalid arguments")})}getTextToInsertFromFile(){return n(this,void 0,void 0,function*(){return new Promise((e,t)=>{try{o.readFile(this.arguments.file,"utf8",(r,n)=>{r?t(r):e(n)})}catch(e){t(e)}})})}getTextToInsertFromCmd(){return n(this,void 0,void 0,function*(){return new Promise((e,t)=>{try{i.exec(this.arguments.cmd,(r,n,i)=>{r?t(r):e(n)})}catch(e){t(e)}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(276),i=r(11);t.parseRegisterCommandArgs=function(e){if(!e)return new n.RegisterCommand({});let t=new i.Scanner(e).nextWord();return new n.RegisterCommand({arg:t})}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(15),s=r(25),a=r(7);t.RegisterCommand=class extends a.CommandBase{constructor(e){super(),this._name="register",this._arguments=e}get arguments(){return this._arguments}getRegisterDisplayValue(e){return n(this,void 0,void 0,function*(){let t=(yield o.Register.getByKey(e)).text;return t instanceof Array?t=t.join("\n").substr(0,100):t instanceof s.RecordedState&&(t=t.actionsRun.map(e=>e.keysPressed.join("")).join("")),t})}displayRegisterValue(e){return n(this,void 0,void 0,function*(){let t=yield this.getRegisterDisplayValue(e);t=t.replace(/\n/g,"\\n"),i.window.showInformationMessage(`${e} ${t}`)})}execute(e){return n(this,void 0,void 0,function*(){if(void 0!==this.arguments.arg&&this.arguments.arg.length>0)yield this.displayRegisterValue(this.arguments.arg);else{const e=o.Register.getKeys(),t=new Array;for(let r of e)t.push({label:r,description:yield this.getRegisterDisplayValue(r)});i.window.showQuickPick(t).then(e=>n(this,void 0,void 0,function*(){if(e){let t=e.description;i.window.showInformationMessage(`${e.label} ${t}`)}}))}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(278),i=r(11);function o(e){let t=new i.Scanner(e);if(t.skipWhiteSpace(),t.isAtEof)return{};let r=t.nextWord("?!&=:^+-".split(""));if(r.startsWith("no"))return{name:r.substring(2,r.length),operator:n.SetOptionOperator.Reset};if(r.startsWith("inv"))return{name:r.substring(3,r.length),operator:n.SetOptionOperator.Invert};if(t.skipWhiteSpace(),t.isAtEof)return{name:r,operator:n.SetOptionOperator.Set};let o=t.next(),s={name:r,value:t.nextWord([])};switch(o){case"=":case":":s.operator=n.SetOptionOperator.Equal;break;case"!":s.operator=n.SetOptionOperator.Invert;break;case"^":s.operator=n.SetOptionOperator.Multiply;break;case"+":s.operator=n.SetOptionOperator.Append;break;case"-":s.operator=n.SetOptionOperator.Subtract;break;case"?":s.operator=n.SetOptionOperator.Info;break;case"&":s.operator=n.SetOptionOperator.Reset;break;default:throw new Error(`Unsupported operator (${o}).`)}return s}t.parseOption=o,t.parseOptionsCommandArgs=function(e){let t=o(e);return new n.SetOptionsCommand(t)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(33),s=r(7);var a;!function(e){e[e.Equal=0]="Equal",e[e.Set=1]="Set",e[e.Reset=2]="Reset",e[e.Invert=3]="Invert",e[e.Append=4]="Append",e[e.Subtract=5]="Subtract",e[e.Multiply=6]="Multiply",e[e.Info=7]="Info"}(a=t.SetOptionOperator||(t.SetOptionOperator={}));t.SetOptionsCommand=class extends s.CommandBase{constructor(e){super(),this._name="setoptions",this._arguments=e}get arguments(){return this._arguments}execute(){return n(this,void 0,void 0,function*(){if(!this._arguments.name)throw new Error("Missing argument.");if(null==i.configuration[this._arguments.name])throw new Error("Unsupported option. "+this._arguments.name);switch(this._arguments.operator){case a.Set:i.configuration[this._arguments.name]=!0;break;case a.Reset:i.configuration[this._arguments.name]=!1;break;case a.Equal:i.configuration[this._arguments.name]=this._arguments.value;break;case a.Invert:i.configuration[this._arguments.name]=!i.configuration[this._arguments.name];break;case a.Append:i.configuration[this._arguments.name]+=this._arguments.value;break;case a.Subtract:if("number"==typeof this._arguments.value)i.configuration[this._arguments.name]-=this._arguments.value;else{let e=i.configuration[this._arguments.name];i.configuration[this._arguments.name]=e.split(this._arguments.value).join("")}break;case a.Info:let e=i.configuration[this._arguments.name];void 0===e?yield o.Message.ShowError(`E518 Unknown option: ${this._arguments.name}`):yield o.Message.ShowInfo(`${this._arguments.name}=${e}`)}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(280);t.parseSortCommandArgs=function(e){const t=null!==e&&e.indexOf("!")>=0;return new n.SortCommand({reverse:t})}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(3),s=r(5),a=r(7),u=r(30);t.SortCommand=class extends a.CommandBase{constructor(e){super(),this.neovimCapable=!0,this._arguments=e}get arguments(){return this._arguments}execute(e){return n(this,void 0,void 0,function*(){let t=e.currentMode;if([o.ModeName.Visual,o.ModeName.VisualBlock,o.ModeName.VisualLine].indexOf(t)>=0){const t=e.editor.selection;let r=t.start,n=t.end;r.isAfter(n)&&([r,n]=[n,r]),yield this.sortLines(r,n)}else yield this.sortLines(new i.Position(0,0),new i.Position(s.TextEditor.getLineCount()-1,0))})}sortLines(e,t){return n(this,void 0,void 0,function*(){let r=[];for(let n=e.line;n<=t.line&&n<s.TextEditor.getLineCount();n++)r.push(s.TextEditor.readLineAt(n));let n=r[r.length-1].length,o=r.sort();this._arguments.reverse&&o.reverse();let a=o.join("\n");yield s.TextEditor.replace(new i.Range(e.line,0,t.line,n),a)})}executeWithRange(e,t){return n(this,void 0,void 0,function*(){let r,n;t.left[0].type===u.TokenType.Percent?(r=new i.Position(0,0),n=new i.Position(s.TextEditor.getLineCount()-1,0)):(r=t.lineRefToPosition(e.editor,t.left,e),n=t.lineRefToPosition(e.editor,t.right,e)),yield this.sortLines(r,n)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(282),i=r(11),o=r(16);function s(e,t,r){if(t.isAtEof)return[e,!1];{let n=t.next();if(n===r)return[e,!0];if("\\"===n){if(!t.isAtEof)if((n=t.next())!==r)switch(n){case"r":e+="\r";break;case"n":e+="\n";break;default:e+="\\",e+=n}else e+=n;return s(e,t,r)}return s(e+=n,t,r)}}t.parseSubstituteCommandArgs=function(e){try{let t,r,a,u,c;if(!e)return new n.SubstituteCommand({pattern:void 0,replace:"",flags:n.SubstituteFlags.None});let l=e[0];if(/^[^\w\s\\|"]{1}$/g.exec(l)){if(1===e.length)return new n.SubstituteCommand({pattern:"",replace:"",flags:n.SubstituteFlags.None});let o;if(c=new i.Scanner(e.substr(1,e.length-1)),[t,o]=s("",c,l),!o)return new n.SubstituteCommand({pattern:t,replace:"",flags:n.SubstituteFlags.None});r=s("",c,l)[0]}else t=void 0,r="",c=new i.Scanner(e);return c.skipWhiteSpace(),a=function(e){let t=0,r=0;for(;!e.isAtEof;){switch(e.next()){case"&":if(0!==r)return n.SubstituteFlags.None;t|=n.SubstituteFlags.KeepPreviousFlags;break;case"c":t|=n.SubstituteFlags.ConfirmEach;break;case"e":t|=n.SubstituteFlags.SuppressError;break;case"g":t|=n.SubstituteFlags.ReplaceAll;break;case"i":t|=n.SubstituteFlags.IgnoreCase;break;case"I":t|=n.SubstituteFlags.NoIgnoreCase;break;case"n":t|=n.SubstituteFlags.PrintCount;break;case"p":t|=n.SubstituteFlags.PrintLastMatchedLine;break;case"#":t|=n.SubstituteFlags.PrintLastMatchedLineWithNumber;break;case"l":t|=n.SubstituteFlags.PrintLastMatchedLineWithList;break;case"r":t|=n.SubstituteFlags.UsePreviousPattern;break;default:return e.backup(),t}r++}return t}(c),c.skipWhiteSpace(),u=function(e){let t="";for(;!e.isAtEof;)t+=e.next();let r=Number.parseInt(t,10);return Number.isInteger(r)?r:-1}(c),new n.SubstituteCommand({pattern:t,replace:r,flags:a,count:u})}catch(e){throw o.VimError.fromCode(o.ErrorCode.E486)}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(7),s=r(30),a=r(16),u=r(5),c=r(1),l=r(113),d=r(46),h=r(2),f=r(283),p=r(65);var m;!function(e){e[e.None=0]="None",e[e.KeepPreviousFlags=1]="KeepPreviousFlags",e[e.ConfirmEach=2]="ConfirmEach",e[e.SuppressError=4]="SuppressError",e[e.ReplaceAll=8]="ReplaceAll",e[e.IgnoreCase=16]="IgnoreCase",e[e.NoIgnoreCase=32]="NoIgnoreCase",e[e.PrintCount=64]="PrintCount",e[e.PrintLastMatchedLine=128]="PrintLastMatchedLine",e[e.PrintLastMatchedLineWithNumber=256]="PrintLastMatchedLineWithNumber",e[e.PrintLastMatchedLineWithList=512]="PrintLastMatchedLineWithList",e[e.UsePreviousPattern=1024]="UsePreviousPattern"}(m=t.SubstituteFlags||(t.SubstituteFlags={}));t.SubstituteCommand=class extends o.CommandBase{constructor(e){super(),this.neovimCapable=!0,this._name="search",this._arguments=e,this._abort=!1}get arguments(){return this._arguments}getRegex(e,t){let r="";if(!0===c.configuration.substituteGlobalFlag?e.flags&m.ReplaceAll||(r+="g"):e.flags&m.ReplaceAll&&(r+="g"),e.flags&m.IgnoreCase&&(r+="i"),void 0===e.pattern){const r=t.globalState.substituteState;if(void 0===r||""===r.searchPattern)throw a.VimError.fromCode(a.ErrorCode.E35);e.pattern=r.searchPattern,e.replace=r.replaceString}else{if(""===e.pattern){const r=t.globalState.searchState;if(void 0===r||""===r.searchString)throw a.VimError.fromCode(a.ErrorCode.E35);e.pattern=r.searchString}t.globalState.substituteState=new f.SubstituteState(e.pattern,e.replace),t.globalState.searchState=new p.SearchState(p.SearchDirection.Forward,t.cursorPosition,e.pattern,{isRegex:!0},t.currentMode)}return new RegExp(e.pattern,r)}replaceTextAtLine(e,t,r){return n(this,void 0,void 0,function*(){const n=u.TextEditor.readLineAt(e);if(t.test(n))if(this._arguments.flags&m.ConfirmEach){let s=n;const a=s.match(t);var o=new RegExp(t.source,t.flags.replace("g",""));let c=0;for(const n of a){if(this._abort)break;if(c=s.indexOf(n,c),!(this._arguments.flags&m.ConfirmEach)||(yield this.confirmReplacement(t.source,e,r,n,c))){const t=s.length;s=s.slice(0,c)+s.slice(c).replace(o,this._arguments.replace),yield u.TextEditor.replace(new i.Range(e,0,e,t),s),r.globalState.jumpTracker.recordJump(new d.Jump({editor:r.editor,fileName:r.editor.document.fileName,position:new h.Position(e,0)}),d.Jump.fromStateNow(r))}c+=this._arguments.replace.length}}else yield u.TextEditor.replace(new i.Range(e,0,e,n.length),n.replace(t,this._arguments.replace)),r.globalState.jumpTracker.recordJump(new d.Jump({editor:r.editor,fileName:r.editor.document.fileName,position:new h.Position(e,0)}),d.Jump.fromStateNow(r))})}confirmReplacement(e,t,r,o,s){return n(this,void 0,void 0,function*(){const n=new i.CancellationTokenSource,a=["y","n","a","q","l"];let u="";const c=[new i.Range(t,s,t,s+o.length)];r.editor.revealRange(new i.Range(t,0,t,0)),r.editor.setDecorations(l.Decoration.SearchHighlight,c);const d=`Replace with ${e} (${a.join("/")})?`;return yield i.window.showInputBox({ignoreFocusOut:!0,prompt:d,placeHolder:a.join("/"),validateInput:e=>(a.indexOf(e)>=0&&(u=e,n.cancel()),d)},n.token),"q"!==u&&"l"!==u&&u?"a"===u&&(this._arguments.flags=this._arguments.flags&~m.ConfirmEach):this._abort=!0,"y"===u||"a"===u||"l"===u})}execute(e){return n(this,void 0,void 0,function*(){const t=this.getRegex(this._arguments,e),r=e.editor.selection,n=r.start.isBefore(r.end)?r.start.line:r.end.line;this._abort||(yield this.replaceTextAtLine(n,t,e))})}executeWithRange(e,t){return n(this,void 0,void 0,function*(){let r,n;t.left[0].type===s.TokenType.Percent?(r=new i.Position(0,0),n=new i.Position(u.TextEditor.getLineCount()-1,0)):(r=t.lineRefToPosition(e.editor,t.left,e),n=0===t.right.length?r:t.lineRefToPosition(e.editor,t.right,e)),this._arguments.count&&this._arguments.count>=0&&(r=n,n=new i.Position(n.line+this._arguments.count-1,0));let o=this.getRegex(this._arguments,e);for(let t=r.line;t<=n.line&&t<u.TextEditor.getLineCount()&&!this._abort;t++)yield this.replaceTextAtLine(t,o,e)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SubstituteState=class{constructor(e,t){this.searchPattern=e,this.replaceString=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(111),i=r(11);function o(e){if(!e)return;let t=new i.Scanner(e);if(t.skipWhiteSpace(),t.isAtEof)return;let r=t.next(),n=Number.parseInt(r,10);if(Number.isInteger(n)&&n>=0)return n>999&&(n=999),n;throw new Error(`Invalid tab number (${r}).`)}t.parseTabNCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Next,count:o(e)})},t.parseTabPCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Previous,count:o(e)})},t.parseTabFirstCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.First})},t.parseTabLastCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Last})},t.parseTabNewCommandArgs=function(e){let t="";e&&(t=new i.Scanner(e).nextWord());return new n.TabCommand({tab:n.Tab.New,file:t})},t.parseTabCloseCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Close,count:o(e)})},t.parseTabOnlyCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Only})},t.parseTabMovementCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Move,count:o(e)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16),i=r(114),o=r(11);t.parseWallCommandArgs=function(e){if(!e)return new i.WallCommand({});var t={},r=new o.Scanner(e);const s=r.next();if("!"===s)t.bang=!0,r.ignore();else if(" "!==s)throw n.VimError.fromCode(n.ErrorCode.E488);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.E488);return new i.WallCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(115),i=r(11);t.parseWriteCommandArgs=function(e){if(!e)return new n.WriteCommand({});for(var t={},r=new i.Scanner(e);r.skipWhiteSpace(),!r.isAtEof;){let e=r.next();switch(e){case"!":if(r.start>0){for(r.ignore();!r.isAtEof;)r.next();t.cmd=r.emit().trim()||void 0;continue}t.bang=!0,r.ignore();continue;case"+":for(r.expect("+"),r.ignore(),r.expectOneOf(["bin","nobin","ff","enc"]),t.opt=r.emit(),r.expect("="),r.ignore();!r.isAtEof;)" "!==(e=r.next())&&"\t"!==e||r.backup();let n=r.emit();if(!n)throw new Error("Expected value for option.");t.optValue=n;continue;default:throw new Error("Not implemented.")}}return new n.WriteCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(288),i=r(11);t.parseWriteQuitCommandArgs=function(e){if(!e)return new n.WriteQuitCommand({});for(var t={},r=new i.Scanner(e);r.skipWhiteSpace(),!r.isAtEof;){let e=r.next();switch(e){case"!":t.bang=!0,r.ignore();continue;case"+":for(r.expect("+"),r.ignore(),r.expectOneOf(["bin","nobin","ff","enc"]),t.opt=r.emit(),r.expect("="),r.ignore();!r.isAtEof;)" "!==(e=r.next())&&"\t"!==e||r.backup();let n=r.emit();if(!n)throw new Error("Expected value for option.");t.optValue=n;continue;default:throw new Error("Not implemented")}}return new n.WriteQuitCommand(t)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7),o=r(43),s=r(115);t.WriteQuitCommand=class extends i.CommandBase{constructor(e){super(),this._name="writequit",this._arguments=e}get arguments(){return this._arguments}execute(e){return n(this,void 0,void 0,function*(){let t={opt:this.arguments.opt,optValue:this.arguments.optValue,bang:this.arguments.bang,file:this.arguments.file,range:this.arguments.range},r=new s.WriteCommand(t);yield r.execute(e);let n={bang:!1,range:this.arguments.range},i=new o.QuitCommand(n);yield i.execute()})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16),i=r(290),o=r(11);t.parseWriteQuitAllCommandArgs=function(e){if(!e)return new i.WriteQuitAllCommand({});var t={},r=new o.Scanner(e);const s=r.next();if("!"===s)t.bang=!0,r.ignore();else if(" "!==s)throw n.VimError.fromCode(n.ErrorCode.E488);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.E488);return new i.WriteQuitAllCommand(t)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(114),o=r(7),s=r(43);t.WriteQuitAllCommand=class extends o.CommandBase{constructor(e){super(),this._name="writequitall",this._arguments=e}get arguments(){return this._arguments}execute(e){return n(this,void 0,void 0,function*(){let e={bang:this.arguments.bang},t={bang:!1};const r=new i.WallCommand(e);yield r.execute(),t.quitAll=!0;const n=new s.QuitCommand(t);yield n.execute()})}}},function(e,t,r){var n=r(9),i=r(8),o=parseInt("0777",8);function s(e,t,r,a){"function"==typeof t?(r=t,t={}):t&&"object"==typeof t||(t={mode:t});var u=t.mode,c=t.fs||i;void 0===u&&(u=o&~process.umask()),a||(a=null);var l=r||function(){};e=n.resolve(e),c.mkdir(e,u,function(r){if(!r)return l(null,a=a||e);switch(r.code){case"ENOENT":s(n.dirname(e),t,function(r,n){r?l(r,n):s(e,t,l,n)});break;default:c.stat(e,function(e,t){e||!t.isDirectory()?l(r,a):l(null,a)})}})}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,r,s){r&&"object"==typeof r||(r={mode:r});var a=r.mode,u=r.fs||i;void 0===a&&(a=o&~process.umask()),s||(s=null),t=n.resolve(t);try{u.mkdirSync(t,a),s=s||t}catch(i){switch(i.code){case"ENOENT":s=e(n.dirname(t),r,s),e(t,r,s);break;default:var c;try{c=u.statSync(t)}catch(e){throw i}if(!c.isDirectory())throw i}}return s}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.None=0]="None",e[e.Opening=1]="Opening",e[e.Closing=2]="Closing"}(n||(n={}));class i{constructor(e,t){this.quoteMap=[];let r=!1;for(let o=0;o<t.length;o++)t[o]!==i.escapeChar?t[o]===e&&(r=!r,this.quoteMap[o]=r?n.Opening:n.Closing):o+=1}findOpening(e){for(let t=e;t>=0;t--)if(this.quoteMap[t]===n.Opening)return t;return this.findClosing(e)}findClosing(e){for(let t=e;t<=this.quoteMap.length;t++)if(this.quoteMap[t])return t;return-1}}i.escapeChar="\\",t.QuoteMatcher=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5);class i{constructor(e,t,r){let o=i.TAG_REGEX.exec(e);const s=[];for(;o;)o[i.CLOSE_FORWARD_SLASH]?o=i.TAG_REGEX.exec(e):(s.push({name:o[i.TAG_NAME],type:o[i.OPEN_FORWARD_SLASH]?"close":"open",startPos:o.index,endPos:i.TAG_REGEX.lastIndex}),o=i.TAG_REGEX.exec(e));const a=[],u=[];for(let e of s)if("open"===e.type)a.push(e);else for(let t=a.length-1;t>=0;t--){const r=a[t];if("open"===r.type&&r.name===e.name){u.push({tag:r.name,openingTagStart:r.startPos,openingTagEnd:r.endPos,closingTagStart:e.startPos,closingTagEnd:e.endPos}),a.splice(t);break}}const c=n.TextEditor.getOffsetAt(r.cursorStartPosition),l=t,d=u.filter(e=>c>e.openingTagStart&&l<e.closingTagEnd);if(!d.length)return;const h=d[0];this.openStart=h.openingTagStart,this.closeEnd=h.closingTagEnd,c===h.openingTagEnd&&l+1===h.closingTagStart?(this.openEnd=this.openStart,this.closeStart=this.closeEnd):(this.openEnd=h.openingTagEnd,this.closeStart=h.closingTagStart)}findOpening(e){return e?this.openStart:this.openEnd}findClosing(e){return e?this.closeEnd:this.closeStart}}i.TAG_REGEX=/\<(\/)?([^\>\<\s\/]+)(?:[^\>\<]*?)(\/)?\>/g,i.OPEN_FORWARD_SLASH=1,i.TAG_NAME=2,i.CLOSE_FORWARD_SLASH=3,t.TagMatcher=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(69);t.MarkerGenerator=class{constructor(e){this.matchesCount=e,this.keyTable=this.getKeyTable(),this.prefixKeyTable=this.createPrefixKeyTable()}generateMarker(e,t){const r=this.keyTable,n=this.prefixKeyTable;if(e>=r.length-n.length){const o=e-(r.length-n.length),s=Math.floor(o/r.length)+1;if(s>n.length)return null;{const e=n[s-1],a=r[o%r.length];return new i.EasyMotion.Marker(e+a,t)}}{const n=r[e];return new i.EasyMotion.Marker(n,t)}}createPrefixKeyTable(){const e=this.keyTable,t=Math.max(this.matchesCount-e.length,0),r=Math.ceil(t/e.length),n=this.keyTable.slice().reverse(),i=Math.min(r,n.length);return n.slice(0,i)}getKeyTable(){return n.configuration.easymotionKeys?n.configuration.easymotionKeys.split(""):"hklyuiopnm,qwertzxcvbasdgjf;".split("")}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(296),o=r(21),s=r(0),a=r(2),u=r(5),c=r(13),l=new i.diff_match_patch;l.Diff_Timeout=1;class d{constructor(e,t,r){this.start=e,this.text=t,this.isAdd=r}do(e=!1){return n(this,void 0,void 0,function*(){this.isAdd&&!e||!this.isAdd&&e?yield u.TextEditor.insert(this.text,this.start,!1):yield u.TextEditor.delete(new s.Range(this.start,this.end()))})}undo(){return n(this,void 0,void 0,function*(){return this.do(!0)})}end(){return this.start.advancePositionByText(this.text)}}class h{constructor(e){this.marks=[],this.changes=e.changes=[],this.isFinished=e.isFinished||!1,this.cursorStart=e.cursorStart||void 0,this.cursorEnd=e.cursorEnd||void 0,this.marks=e.marks||[]}merge(){if(!(this.changes.length<2)){var e=[],t=this.changes[0];for(const r of this.changes.slice(1)){if(0===t.text.length){if(!(e.length>0)){t=r;continue}t=e.pop()}t.isAdd&&r.isAdd&&t.end().isEqual(r.start)?t.text+=r.text:t.isAdd||r.isAdd||!r.end().isEqual(t.start)?t.isAdd&&!r.isAdd&&t.end().isEqual(r.end())?t.text=t.text.slice(0,-r.text.length):(e.push(t),t=r):(r.text+=t.text,t=r)}e.push(t),this.changes=e}}}t.HistoryTracker=class{constructor(e){this.changelistIndex=0,this.historySteps=[],this.currentHistoryStepIndex=0,this.vimState=e,this._initialize()}get currentHistoryStep(){if(-1===this.currentHistoryStepIndex){let e="HistoryTracker: Tried to modify history at index -1";throw c.logger.debug(e),new Error(e)}return this.historySteps[this.currentHistoryStepIndex]}clear(){this.historySteps=[],this.currentHistoryStepIndex=0,this._initialize()}_initialize(){this.historySteps.push(new h({changes:[new d(new a.Position(0,0),this._getDocumentText(),!0)],isFinished:!0,cursorStart:[new a.Position(0,0)],cursorEnd:[new a.Position(0,0)]})),this.finishCurrentStep(),this.oldText=this._getDocumentText(),this.currentContentChanges=[],this.lastContentChanges=[]}_getDocumentText(){return this.vimState.editor&&this.vimState.editor.document&&this.vimState.editor.document.getText()||""}_addNewHistoryStep(){this.historySteps.push(new h({marks:this.currentHistoryStep.marks})),this.currentHistoryStepIndex++}updateAndReturnMarks(){const e=this.currentHistoryStep.marks;let t=[];for(const r of e)t.push({name:r.name,position:r.position,isUppercaseMark:r.isUppercaseMark});for(const e of this.currentHistoryStep.changes)for(const r of t){let t=e.start;if(e.isAdd)for(const n of e.text)t.compareTo(r.position)<=0&&("\n"===n?r.position=new a.Position(r.position.line+1,r.position.character):"\n"!==n&&t.line===r.position.line&&(r.position=new a.Position(r.position.line,r.position.character+1))),t="\n"===n?new a.Position(t.line+1,0):new a.Position(t.line,t.character+1);else for(const n of e.text)t.compareTo(r.position)<0&&("\n"===n?r.position=new a.Position(r.position.line-1,r.position.character):t.line===r.position.line&&(r.position=new a.Position(r.position.line,r.position.character-1))),t="\n"===n?new a.Position(Math.max(t.line-1,0),99999):new a.Position(t.line,Math.max(t.character-1,0))}for(const e of t)e.position.compareTo(e.position.getDocumentEnd())>0&&(e.position=e.position.getDocumentEnd());return t}addMark(e,t){const r={position:e,name:t,isUppercaseMark:t===t.toUpperCase()},n=o.findIndex(this.currentHistoryStep.marks,e=>e.name===t);-1!==n?this.currentHistoryStep.marks[n]=r:this.currentHistoryStep.marks.push(r)}getMark(e){return o.find(this.currentHistoryStep.marks,t=>t.name===e)}getMarks(){return this.currentHistoryStep.marks}addChange(e=[new a.Position(0,0)]){const t=this._getDocumentText();if(t===this.oldText)return;this.currentHistoryStepIndex===this.historySteps.length-1&&this.currentHistoryStep.isFinished?this._addNewHistoryStep():this.currentHistoryStepIndex!==this.historySteps.length-1&&(this.historySteps=this.historySteps.slice(0,this.currentHistoryStepIndex+1),this._addNewHistoryStep());const r=l.diff_main(this.oldText,t);let n=new a.Position(0,0);for(const t of r){const[r,o]=t,s=r===i.DIFF_INSERT,a=r===i.DIFF_DELETE;let u;(s||a)&&(u=new d(n,o,!!s),this.currentHistoryStep.changes.push(u),u&&void 0===this.currentHistoryStep.cursorStart&&(this.currentHistoryStep.cursorStart=e)),a||(n=n.advancePositionByText(o))}this.currentHistoryStep.cursorEnd=e,this.oldText=t,this.changelistIndex=this.historySteps.length-1}undoAndRemoveChanges(e){return n(this,void 0,void 0,function*(){if(this.currentHistoryStep.changes.length<e)c.logger.debug("HistoryTracker: Something bad happened in removeChange");else{for(let t=0;t<e;t++)yield this.currentHistoryStep.changes.pop().undo();this.ignoreChange()}})}ignoreChange(){this.oldText=this._getDocumentText()}finishCurrentStep(){0===this.currentHistoryStep.changes.length||this.currentHistoryStep.isFinished||(this.currentHistoryStep.isFinished=!0,this.currentHistoryStep.merge(),this.currentHistoryStep.marks=this.updateAndReturnMarks())}goBackHistoryStep(){return n(this,void 0,void 0,function*(){let e;if(0!==this.currentHistoryStepIndex&&(0!==this.currentHistoryStep.changes.length||(this.currentHistoryStepIndex--,0!==this.currentHistoryStepIndex))){e=this.currentHistoryStep;for(const t of e.changes.slice(0).reverse())yield t.undo();return this.currentHistoryStepIndex--,e&&e.cursorStart}})}goBackHistoryStepsOnLine(){return n(this,void 0,void 0,function*(){let e=!1,t=0,r=[];if(0===this.currentHistoryStepIndex)return;if(0===this.currentHistoryStep.changes.length&&(this.currentHistoryStepIndex--,0===this.currentHistoryStepIndex))return;let n=this.currentHistoryStep.changes[0],i=this.currentHistoryStep.changes[this.currentHistoryStep.changes.length-1].start.line;const o=this.currentHistoryStep.changes[0].text;o.includes("\n")&&"\n"!==o&&"\r\n"!==o&&i++;for(const o of this.historySteps.slice(1,this.currentHistoryStepIndex+1).reverse()){for(let s of o.changes.reverse()){if(s.text.includes("\n")&&s.start.line+1===i&&(e=!0,s=new d(new a.Position(s.start.line+1,0),s.text.replace("\n","").replace("\r",""),s.isAdd),t++),s.text.includes("\n")||s.start.line!==i){e=!0;break}if(r.push(s),n=s,e)break}if(e)break;t++}for(const e of r)yield e.undo(),e.isAdd=!e.isAdd;for(let e=t;e>0;e--)this.historySteps.pop();const s=new h({isFinished:!0,cursorStart:[n.start],cursorEnd:[n.start]});return s.changes=r,this.historySteps.push(s),this.currentHistoryStepIndex=this.currentHistoryStepIndex-t+1,n&&[n.start]})}goForwardHistoryStep(){return n(this,void 0,void 0,function*(){let e;if(this.currentHistoryStepIndex!==this.historySteps.length-1){this.currentHistoryStepIndex++,e=this.currentHistoryStep;for(const t of e.changes)yield t.do();return e.cursorStart}})}getLastHistoryEndPosition(){if(0!==this.currentHistoryStepIndex)return this.historySteps[this.currentHistoryStepIndex].cursorEnd}getLastChangeEndPosition(){if(0===this.currentHistoryStepIndex)return;const e=this.historySteps[this.currentHistoryStepIndex].changes.length;return 0!==e?this.historySteps[this.currentHistoryStepIndex].changes[e-1].end():void 0}getLastHistoryStartPosition(){if(0!==this.currentHistoryStepIndex)return this.historySteps[this.currentHistoryStepIndex].cursorStart}setLastHistoryEndPosition(e){this.historySteps[this.currentHistoryStepIndex].cursorEnd=e}getChangePositionAtindex(e){if(0===this.currentHistoryStepIndex)return;let t=this.getLastHistoryEndPosition();return t=void 0,void 0!==this.historySteps[e]&&this.historySteps[e].changes.length>0&&(t=this.historySteps[e].changes[0].isAdd?[this.historySteps[e].changes[0].end()]:[this.historySteps[e].changes[0].start]),t}toString(){let e="";for(let t=0;t<this.historySteps.length;t++){const r=this.historySteps[t];e+=r.changes.map(e=>e.text.replace(/\n/g,"\\n")).join(""),this.currentHistoryStepIndex===t&&(e+="+"),r.isFinished&&(e+=""),e+="| "}return e}}},function(e,t){function r(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}r.Diff,r.prototype.diff_main=function(e,t,r,n){void 0===n&&(n=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=n;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===r&&(r=!0);var o=r,s=this.diff_commonPrefix(e,t),a=e.substring(0,s);e=e.substring(s),t=t.substring(s),s=this.diff_commonSuffix(e,t);var u=e.substring(e.length-s);e=e.substring(0,e.length-s),t=t.substring(0,t.length-s);var c=this.diff_compute_(e,t,o,i);return a&&c.unshift([0,a]),u&&c.push([0,u]),this.diff_cleanupMerge(c),c},r.prototype.diff_compute_=function(e,t,r,n){var i;if(!e)return[[1,t]];if(!t)return[[-1,e]];var o=e.length>t.length?e:t,s=e.length>t.length?t:e,a=o.indexOf(s);if(-1!=a)return i=[[1,o.substring(0,a)],[0,s],[1,o.substring(a+s.length)]],e.length>t.length&&(i[0][0]=i[2][0]=-1),i;if(1==s.length)return[[-1,e],[1,t]];var u=this.diff_halfMatch_(e,t);if(u){var c=u[0],l=u[1],d=u[2],h=u[3],f=u[4],p=this.diff_main(c,d,r,n),m=this.diff_main(l,h,r,n);return p.concat([[0,f]],m)}return r&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,n):this.diff_bisect_(e,t,n)},r.prototype.diff_lineMode_=function(e,t,r){e=(l=this.diff_linesToChars_(e,t)).chars1,t=l.chars2;var n=l.lineArray,i=this.diff_main(e,t,!1,r);this.diff_charsToLines_(i,n),this.diff_cleanupSemantic(i),i.push([0,""]);for(var o=0,s=0,a=0,u="",c="";o<i.length;){switch(i[o][0]){case 1:a++,c+=i[o][1];break;case-1:s++,u+=i[o][1];break;case 0:if(s>=1&&a>=1){i.splice(o-s-a,s+a),o=o-s-a;for(var l,d=(l=this.diff_main(u,c,!1,r)).length-1;d>=0;d--)i.splice(o,0,l[d]);o+=l.length}a=0,s=0,u="",c=""}o++}return i.pop(),i},r.prototype.diff_bisect_=function(e,t,r){for(var n=e.length,i=t.length,o=Math.ceil((n+i)/2),s=o,a=2*o,u=new Array(a),c=new Array(a),l=0;l<a;l++)u[l]=-1,c[l]=-1;u[s+1]=0,c[s+1]=0;for(var d=n-i,h=d%2!=0,f=0,p=0,m=0,g=0,v=0;v<o&&!((new Date).getTime()>r);v++){for(var y=-v+f;y<=v-p;y+=2){for(var x=s+y,w=(S=y==-v||y!=v&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1)-y;S<n&&w<i&&e.charAt(S)==t.charAt(w);)S++,w++;if(u[x]=S,S>n)p+=2;else if(w>i)f+=2;else if(h){if((_=s+d-y)>=0&&_<a&&-1!=c[_])if(S>=(C=n-c[_]))return this.diff_bisectSplit_(e,t,S,w,r)}}for(var b=-v+m;b<=v-g;b+=2){for(var C,_=s+b,M=(C=b==-v||b!=v&&c[_-1]<c[_+1]?c[_+1]:c[_-1]+1)-b;C<n&&M<i&&e.charAt(n-C-1)==t.charAt(i-M-1);)C++,M++;if(c[_]=C,C>n)g+=2;else if(M>i)m+=2;else if(!h){if((x=s+d-b)>=0&&x<a&&-1!=u[x]){var S;w=s+(S=u[x])-x;if(S>=(C=n-C))return this.diff_bisectSplit_(e,t,S,w,r)}}}}return[[-1,e],[1,t]]},r.prototype.diff_bisectSplit_=function(e,t,r,n,i){var o=e.substring(0,r),s=t.substring(0,n),a=e.substring(r),u=t.substring(n),c=this.diff_main(o,s,!1,i),l=this.diff_main(a,u,!1,i);return c.concat(l)},r.prototype.diff_linesToChars_=function(e,t){var r=[],n={};function i(e){for(var t="",i=0,o=-1,s=r.length;o<e.length-1;){-1==(o=e.indexOf("\n",i))&&(o=e.length-1);var a=e.substring(i,o+1);i=o+1,(n.hasOwnProperty?n.hasOwnProperty(a):void 0!==n[a])?t+=String.fromCharCode(n[a]):(t+=String.fromCharCode(s),n[a]=s,r[s++]=a)}return t}return r[0]="",{chars1:i(e),chars2:i(t),lineArray:r}},r.prototype.diff_charsToLines_=function(e,t){for(var r=0;r<e.length;r++){for(var n=e[r][1],i=[],o=0;o<n.length;o++)i[o]=t[n.charCodeAt(o)];e[r][1]=i.join("")}},r.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(o,i)==t.substring(o,i)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i},r.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i},r.prototype.diff_commonOverlap_=function(e,t){var r=e.length,n=t.length;if(0==r||0==n)return 0;r>n?e=e.substring(r-n):r<n&&(t=t.substring(0,r));var i=Math.min(r,n);if(e==t)return i;for(var o=0,s=1;;){var a=e.substring(i-s),u=t.indexOf(a);if(-1==u)return o;s+=u,0!=u&&e.substring(i-s)!=t.substring(0,s)||(o=s,s++)}},r.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;var i=this;function o(e,t,r){for(var n,o,s,a,u=e.substring(r,r+Math.floor(e.length/4)),c=-1,l="";-1!=(c=t.indexOf(u,c+1));){var d=i.diff_commonPrefix(e.substring(r),t.substring(c)),h=i.diff_commonSuffix(e.substring(0,r),t.substring(0,c));l.length<h+d&&(l=t.substring(c-h,c)+t.substring(c,c+d),n=e.substring(0,r-h),o=e.substring(r+d),s=t.substring(0,c-h),a=t.substring(c+d))}return 2*l.length>=e.length?[n,o,s,a,l]:null}var s,a,u,c,l,d=o(r,n,Math.ceil(r.length/4)),h=o(r,n,Math.ceil(r.length/2));return d||h?(s=h?d&&d[4].length>h[4].length?d:h:d,e.length>t.length?(a=s[0],u=s[1],c=s[2],l=s[3]):(c=s[0],l=s[1],a=s[2],u=s[3]),[a,u,c,l,s[4]]):null},r.prototype.diff_cleanupSemantic=function(e){for(var t=!1,r=[],n=0,i=null,o=0,s=0,a=0,u=0,c=0;o<e.length;)0==e[o][0]?(r[n++]=o,s=u,a=c,u=0,c=0,i=e[o][1]):(1==e[o][0]?u+=e[o][1].length:c+=e[o][1].length,i&&i.length<=Math.max(s,a)&&i.length<=Math.max(u,c)&&(e.splice(r[n-1],0,[-1,i]),e[r[n-1]+1][0]=1,n--,o=--n>0?r[n-1]:-1,s=0,a=0,u=0,c=0,i=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(-1==e[o-1][0]&&1==e[o][0]){var l=e[o-1][1],d=e[o][1],h=this.diff_commonOverlap_(l,d),f=this.diff_commonOverlap_(d,l);h>=f?(h>=l.length/2||h>=d.length/2)&&(e.splice(o,0,[0,d.substring(0,h)]),e[o-1][1]=l.substring(0,l.length-h),e[o+1][1]=d.substring(h),o++):(f>=l.length/2||f>=d.length/2)&&(e.splice(o,0,[0,l.substring(0,f)]),e[o-1][0]=1,e[o-1][1]=d.substring(0,d.length-f),e[o+1][0]=-1,e[o+1][1]=l.substring(f),o++),o++}o++}},r.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),o=n.match(r.nonAlphaNumericRegex_),s=i.match(r.nonAlphaNumericRegex_),a=o&&n.match(r.whitespaceRegex_),u=s&&i.match(r.whitespaceRegex_),c=a&&n.match(r.linebreakRegex_),l=u&&i.match(r.linebreakRegex_),d=c&&e.match(r.blanklineEndRegex_),h=l&&t.match(r.blanklineStartRegex_);return d||h?5:c||l?4:o&&!a&&u?3:a||u?2:o||s?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var i=e[n-1][1],o=e[n][1],s=e[n+1][1],a=this.diff_commonSuffix(i,o);if(a){var u=o.substring(o.length-a);i=i.substring(0,i.length-a),o=u+o.substring(0,o.length-a),s=u+s}for(var c=i,l=o,d=s,h=t(i,o)+t(o,s);o.charAt(0)===s.charAt(0);){i+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var f=t(i,o)+t(o,s);f>=h&&(h=f,c=i,l=o,d=s)}e[n-1][1]!=c&&(c?e[n-1][1]=c:(e.splice(n-1,1),n--),e[n][1]=l,d?e[n+1][1]=d:(e.splice(n+1,1),n--))}n++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,r=[],n=0,i=null,o=0,s=!1,a=!1,u=!1,c=!1;o<e.length;)0==e[o][0]?(e[o][1].length<this.Diff_EditCost&&(u||c)?(r[n++]=o,s=u,a=c,i=e[o][1]):(n=0,i=null),u=c=!1):(-1==e[o][0]?c=!0:u=!0,i&&(s&&a&&u&&c||i.length<this.Diff_EditCost/2&&s+a+u+c==3)&&(e.splice(r[n-1],0,[-1,i]),e[r[n-1]+1][0]=1,n--,i=null,s&&a?(u=c=!0,n=0):(o=--n>0?r[n-1]:-1,u=c=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},r.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,r=0,n=0,i=0,o="",s="";r<e.length;)switch(e[r][0]){case 1:i++,s+=e[r][1],r++;break;case-1:n++,o+=e[r][1],r++;break;case 0:n+i>1?(0!==n&&0!==i&&(0!==(t=this.diff_commonPrefix(s,o))&&(r-n-i>0&&0==e[r-n-i-1][0]?e[r-n-i-1][1]+=s.substring(0,t):(e.splice(0,0,[0,s.substring(0,t)]),r++),s=s.substring(t),o=o.substring(t)),0!==(t=this.diff_commonSuffix(s,o))&&(e[r][1]=s.substring(s.length-t)+e[r][1],s=s.substring(0,s.length-t),o=o.substring(0,o.length-t))),0===n?e.splice(r-i,n+i,[1,s]):0===i?e.splice(r-n,n+i,[-1,o]):e.splice(r-n-i,n+i,[-1,o],[1,s]),r=r-n-i+(n?1:0)+(i?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,i=0,n=0,o="",s=""}""===e[e.length-1][1]&&e.pop();var a=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),a=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),a=!0)),r++;a&&this.diff_cleanupMerge(e)},r.prototype.diff_xIndex=function(e,t){var r,n=0,i=0,o=0,s=0;for(r=0;r<e.length&&(1!==e[r][0]&&(n+=e[r][1].length),-1!==e[r][0]&&(i+=e[r][1].length),!(n>t));r++)o=n,s=i;return e.length!=r&&-1===e[r][0]?s:s+(t-o)},r.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,n=/</g,i=/>/g,o=/\n/g,s=0;s<e.length;s++){var a=e[s][0],u=e[s][1].replace(r,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(a){case 1:t[s]='<ins style="background:#e6ffe6;">'+u+"</ins>";break;case-1:t[s]='<del style="background:#ffe6e6;">'+u+"</del>";break;case 0:t[s]="<span>"+u+"</span>"}}return t.join("")},r.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},r.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)-1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},r.prototype.diff_levenshtein=function(e){for(var t=0,r=0,n=0,i=0;i<e.length;i++){var o=e[i][0],s=e[i][1];switch(o){case 1:r+=s.length;break;case-1:n+=s.length;break;case 0:t+=Math.max(r,n),r=0,n=0}}return t+=Math.max(r,n)},r.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]="+"+encodeURI(e[r][1]);break;case-1:t[r]="-"+e[r][1].length;break;case 0:t[r]="="+e[r][1].length}return t.join("\t").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(e,t){for(var r=[],n=0,i=0,o=t.split(/\t/g),s=0;s<o.length;s++){var a=o[s].substring(1);switch(o[s].charAt(0)){case"+":try{r[n++]=[1,decodeURI(a)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var u=parseInt(a,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+a);var c=e.substring(i,i+=u);"="==o[s].charAt(0)?r[n++]=[0,c]:r[n++]=[-1,c];break;default:if(o[s])throw new Error("Invalid diff operation in diff_fromDelta: "+o[s])}}if(i!=e.length)throw new Error("Delta length ("+i+") does not equal source text length ("+e.length+").");return r},r.prototype.match_main=function(e,t,r){if(null==e||null==t||null==r)throw new Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,e.length)),e==t?0:e.length?e.substring(r,r+t.length)==t?r:this.match_bitap_(e,t,r):-1},r.prototype.match_bitap_=function(e,t,r){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var n=this.match_alphabet_(t),i=this;function o(e,n){var o=e/t.length,s=Math.abs(r-n);return i.Match_Distance?o+s/i.Match_Distance:s?1:o}var s=this.Match_Threshold,a=e.indexOf(t,r);-1!=a&&(s=Math.min(o(0,a),s),-1!=(a=e.lastIndexOf(t,r+t.length))&&(s=Math.min(o(0,a),s)));var u,c,l=1<<t.length-1;a=-1;for(var d,h=t.length+e.length,f=0;f<t.length;f++){for(u=0,c=h;u<c;)o(f,r+c)<=s?u=c:h=c,c=Math.floor((h-u)/2+u);h=c;var p=Math.max(1,r-c+1),m=Math.min(r+c,e.length)+t.length,g=Array(m+2);g[m+1]=(1<<f)-1;for(var v=m;v>=p;v--){var y=n[e.charAt(v-1)];if(g[v]=0===f?(g[v+1]<<1|1)&y:(g[v+1]<<1|1)&y|(d[v+1]|d[v])<<1|1|d[v+1],g[v]&l){var x=o(f,v-1);if(x<=s){if(s=x,!((a=v-1)>r))break;p=Math.max(1,2*r-a)}}}if(o(f+1,r)>s)break;d=g}return a},r.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},r.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var r=t.substring(e.start2,e.start2+e.length1),n=0;t.indexOf(r)!=t.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n+=this.Patch_Margin,r=t.substring(e.start2-n,e.start2+e.length1+n);n+=this.Patch_Margin;var i=t.substring(e.start2-n,e.start2);i&&e.diffs.unshift([0,i]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+n);o&&e.diffs.push([0,o]),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+o.length,e.length2+=i.length+o.length}},r.prototype.patch_make=function(e,t,n){var i,o;if("string"==typeof e&&"string"==typeof t&&void 0===n)i=e,(o=this.diff_main(i,t,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&"object"==typeof e&&void 0===t&&void 0===n)o=e,i=this.diff_text1(o);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===n)i=e,o=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");i=e,o=n}if(0===o.length)return[];for(var s=[],a=new r.patch_obj,u=0,c=0,l=0,d=i,h=i,f=0;f<o.length;f++){var p=o[f][0],m=o[f][1];switch(u||0===p||(a.start1=c,a.start2=l),p){case 1:a.diffs[u++]=o[f],a.length2+=m.length,h=h.substring(0,l)+m+h.substring(l);break;case-1:a.length1+=m.length,a.diffs[u++]=o[f],h=h.substring(0,l)+h.substring(l+m.length);break;case 0:m.length<=2*this.Patch_Margin&&u&&o.length!=f+1?(a.diffs[u++]=o[f],a.length1+=m.length,a.length2+=m.length):m.length>=2*this.Patch_Margin&&u&&(this.patch_addContext_(a,d),s.push(a),a=new r.patch_obj,u=0,d=h,c=l)}1!==p&&(c+=m.length),-1!==p&&(l+=m.length)}return u&&(this.patch_addContext_(a,d),s.push(a)),s},r.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=new r.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=i.diffs[s].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,t[n]=o}return t},r.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var n=0,i=[],o=0;o<e.length;o++){var s,a,u=e[o].start2+n,c=this.diff_text1(e[o].diffs),l=-1;if(c.length>this.Match_MaxBits?-1!=(s=this.match_main(t,c.substring(0,this.Match_MaxBits),u))&&(-1==(l=this.match_main(t,c.substring(c.length-this.Match_MaxBits),u+c.length-this.Match_MaxBits))||s>=l)&&(s=-1):s=this.match_main(t,c,u),-1==s)i[o]=!1,n-=e[o].length2-e[o].length1;else if(i[o]=!0,n=s-u,c==(a=-1==l?t.substring(s,s+c.length):t.substring(s,l+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[o].diffs)+t.substring(s+c.length);else{var d=this.diff_main(c,a,!1);if(c.length>this.Match_MaxBits&&this.diff_levenshtein(d)/c.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(d);for(var h,f=0,p=0;p<e[o].diffs.length;p++){var m=e[o].diffs[p];0!==m[0]&&(h=this.diff_xIndex(d,f)),1===m[0]?t=t.substring(0,s+h)+m[1]+t.substring(s+h):-1===m[0]&&(t=t.substring(0,s+h)+t.substring(s+this.diff_xIndex(d,f+m[1].length))),-1!==m[0]&&(f+=m[1].length)}}}}return[t=t.substring(r.length,t.length-r.length),i]},r.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,r="",n=1;n<=t;n++)r+=String.fromCharCode(n);for(n=0;n<e.length;n++)e[n].start1+=t,e[n].start2+=t;var i=e[0],o=i.diffs;if(0==o.length||0!=o[0][0])o.unshift([0,r]),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>o[0][1].length){var s=t-o[0][1].length;o[0][1]=r.substring(o[0][1].length)+o[0][1],i.start1-=s,i.start2-=s,i.length1+=s,i.length2+=s}if(0==(o=(i=e[e.length-1]).diffs).length||0!=o[o.length-1][0])o.push([0,r]),i.length1+=t,i.length2+=t;else if(t>o[o.length-1][1].length){s=t-o[o.length-1][1].length;o[o.length-1][1]+=r.substring(0,s),i.length1+=s,i.length2+=s}return r},r.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var i=e[n];e.splice(n--,1);for(var o=i.start1,s=i.start2,a="";0!==i.diffs.length;){var u=new r.patch_obj,c=!0;for(u.start1=o-a.length,u.start2=s-a.length,""!==a&&(u.length1=u.length2=a.length,u.diffs.push([0,a]));0!==i.diffs.length&&u.length1<t-this.Patch_Margin;){var l=i.diffs[0][0],d=i.diffs[0][1];1===l?(u.length2+=d.length,s+=d.length,u.diffs.push(i.diffs.shift()),c=!1):-1===l&&1==u.diffs.length&&0==u.diffs[0][0]&&d.length>2*t?(u.length1+=d.length,o+=d.length,c=!1,u.diffs.push([l,d]),i.diffs.shift()):(d=d.substring(0,t-u.length1-this.Patch_Margin),u.length1+=d.length,o+=d.length,0===l?(u.length2+=d.length,s+=d.length):c=!1,u.diffs.push([l,d]),d==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(d.length))}a=(a=this.diff_text2(u.diffs)).substring(a.length-this.Patch_Margin);var h=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==h&&(u.length1+=h.length,u.length2+=h.length,0!==u.diffs.length&&0===u.diffs[u.diffs.length-1][0]?u.diffs[u.diffs.length-1][1]+=h:u.diffs.push([0,h])),c||e.splice(++n,0,u)}}},r.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},r.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split("\n"),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var s=n[i].match(o);if(!s)throw new Error("Invalid patch string: "+n[i]);var a=new r.patch_obj;for(t.push(a),a.start1=parseInt(s[1],10),""===s[2]?(a.start1--,a.length1=1):"0"==s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),""===s[4]?(a.start2--,a.length2=1):"0"==s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),i++;i<n.length;){var u=n[i].charAt(0);try{var c=decodeURI(n[i].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+c)}if("-"==u)a.diffs.push([-1,c]);else if("+"==u)a.diffs.push([1,c]);else if(" "==u)a.diffs.push([0,c]);else{if("@"==u)break;if(""!==u)throw new Error('Invalid patch mode "'+u+'" in: '+c)}i++}}return t},r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},r.patch_obj.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}t[r+1]=e+encodeURI(this.diffs[r][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=r,e.exports.diff_match_patch=r,e.exports.DIFF_DELETE=-1,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(8),s=r(64),a=r(2),u=r(46);t.JumpTracker=class{constructor(){this._jumps=[],this._currentJumpNumber=0,this.isJumpingThroughHistory=!1}get jumps(){return this._jumps}get currentJumpNumber(){return this._currentJumpNumber}get currentJump(){return this._jumps[this._currentJumpNumber]||null}get hasJumps(){return this._jumps.length>0}get end(){return this._jumps[this._jumps.length-1]}get start(){return this._jumps[0]}recordJump(e,t){e&&t&&e.onSameLine(t)||this.pushJump(e,t)}handleFileJump(e,t){this.isJumpingThroughHistory?this.isJumpingThroughHistory=!1:t.editor&&t.editor.document&&t.editor.document.isClosed||this.pushJump(e,t)}performFileJump(e,t){return n(this,void 0,void 0,function*(){if(this.isJumpingThroughHistory=!0,e.editor)yield i.window.showTextDocument(e.editor.document);else if(o.existsSync(e.fileName))yield new s.FileCommand({name:e.fileName,lineNumber:e.position.line,createFileIfNotExists:!1}).execute();else{const t=i.window.visibleTextEditors.filter(t=>t.document.fileName===e.fileName)[0];t&&(yield i.window.showTextDocument(t.document,e.position.character,!1))}return t})}jumpForward(e,t){return n(this,void 0,void 0,function*(){return this.jumpThroughHistory(this.recordJumpForward.bind(this),e,t)})}jumpBack(e,t){return n(this,void 0,void 0,function*(){return this.jumpThroughHistory(this.recordJumpBack.bind(this),e,t)})}jumpThroughHistory(e,t,r){return n(this,void 0,void 0,function*(){if(!r)return r;let n=new u.Jump({editor:r.editor,fileName:r.editor.document.fileName,position:t});const i=r.recordedState.count||1;for(var o=0;o<i;o++)n=e(u.Jump.fromStateNow(r));return n?(n.fileName!==r.editor.document.fileName?yield this.performFileJump(n,r):r.cursorPosition=n.position,r):r})}recordJumpBack(e){if(!this.hasJumps)return e;if(this._currentJumpNumber<=0)return this._jumps[0];const t=this._jumps[this._currentJumpNumber-1];return this._currentJumpNumber===this._jumps.length?(this.recordJump(e,t),this._currentJumpNumber=this._currentJumpNumber-2):this._currentJumpNumber=this._currentJumpNumber-1,t}recordJumpForward(e){return this.hasJumps?this._currentJumpNumber>=this._jumps.length?e:(this._currentJumpNumber=Math.min(this._currentJumpNumber+1,this._jumps.length-1),this._jumps[this._currentJumpNumber]):e}handleTextAdded(e,t,r){const n=r.split("").filter(e=>"\n"===e).length;this._jumps.forEach((r,i)=>{if(r.fileName===e.fileName&&r.position.line>t.start.line){const e=new a.Position(r.position.line+n,r.position.character);this.changePositionForJumpNumber(i,r,e)}})}handleTextDeleted(e,t){const r=t.end.line-t.start.line;for(let n=this._jumps.length-1;n>=0;n--){const i=this._jumps[n];if(i.fileName===e.fileName&&i.position.line>t.start.line){const e=i.position.line-Math.min(i.position.line-t.start.line,r),o=new a.Position(e,i.position.character);this.changePositionForJumpNumber(n,i,o)}}this.removeDuplicateJumps()}clearJumps(){this._jumps.splice(0,this._jumps.length),this._currentJumpNumber=0}pushJump(e,t){e&&this.clearJumpsOnSameLine(e),e&&!e.onSameLine(t)&&this._jumps.push(e),this._currentJumpNumber=this._jumps.length,this.clearOldJumps()}removeJump(e){this._jumps.splice(e,1)}changePositionForJumpNumber(e,t,r){this._jumps.splice(e,1,new u.Jump({editor:t.editor,fileName:t.fileName,position:r}))}clearOldJumps(){this._jumps.length>100&&this._jumps.splice(0,this._jumps.length-100)}clearJumpsOnSameLine(e){this._jumps=this._jumps.filter(t=>t===e||!t.onSameLine(e))}removeDuplicateJumps(){const e={};for(let t=this._jumps.length-1;t>=0;t--){const r=this._jumps[t];e[r.fileName]||(e[r.fileName]=[]),e[r.fileName].indexOf(r.position.line)>=0?this._jumps.splice(t,1):e[r.fileName].push(r.position.line)}}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(20),s=r(9),a=r(8),u=r(299),c=r(1),l=r(15),d=r(5),h=r(2),f=r(13);t.Neovim=class{run(e,t){return n(this,void 0,void 0,function*(){this.nvim||(this.nvim=yield this.startNeovim()),yield this.syncVSToVim(e),t=(":"+t+"\n").replace("<","<lt>"),yield this.nvim.command('let v:errmsg="" | let v:statusmsg=""'),yield this.nvim.input(t),(yield this.nvim.getMode()).blocking&&(yield this.nvim.input("<esc>"));const r=yield this.nvim.getVvar("errmsg");let n="";if(r&&""!==r.toString())n=r.toString();else{const e=yield this.nvim.getVvar("statusmsg");e&&""!==e.toString()&&(n=e.toString())}return yield this.syncVimToVs(e),n})}startNeovim(){return n(this,void 0,void 0,function*(){let e=s.dirname(i.window.activeTextEditor.document.uri.fsPath);return a.existsSync(e)||(e=__dirname),this.process=o.spawn(c.configuration.neovimPath,["-u","NONE","-N","--embed"],{cwd:e}),this.process.on("error",e=>{f.logger.error(`Neovim: Error spawning neovim. Error=${e.message}.`),c.configuration.enableNeovim=!1}),u.attach(this.process.stdin,this.process.stdout)})}syncVSToVim(e){return n(this,void 0,void 0,function*(){const t=yield this.nvim.getCurrentBuf();c.configuration.expandtab&&(yield i.commands.executeCommand("editor.action.indentationToTabs")),yield this.nvim.setOption("gdefault",!0===c.configuration.substituteGlobalFlag),yield t.setLines(0,-1,!0,d.TextEditor.getText().split("\n"));const[r,n]=[h.Position.EarlierOf(e.cursorPosition,e.cursorStartPosition),h.Position.LaterOf(e.cursorPosition,e.cursorStartPosition)];yield this.nvim.callFunction("setpos",[".",[0,e.cursorPosition.line+1,e.cursorPosition.character,!1]]),yield this.nvim.callFunction("setpos",["'<",[0,r.line+1,n.character,!1]]),yield this.nvim.callFunction("setpos",["'>",[0,n.line+1,n.character,!1]]);for(const t of e.historyTracker.getMarks())yield this.nvim.callFunction("setpos",[`'${t.name}`,[0,t.position.line+1,t.position.character,!1]]);let o=yield l.Register.get(e),s=[void 0,"c","l","b"];yield this.nvim.callFunction("setreg",['"',o.text,s[e.effectiveRegisterMode]])})}syncVimToVs(e){return n(this,void 0,void 0,function*(){const t=yield this.nvim.getCurrentBuf(),r=yield t.getLines(0,-1,!1),n="win32"===process.platform?r.map((e,t)=>e.replace(/\r$/,"")):r;yield d.TextEditor.replace(new i.Range(0,0,d.TextEditor.getLineCount()-1,d.TextEditor.getLineMaxColumn(d.TextEditor.getLineCount()-1)),n.join("\n")),f.logger.debug(`Neovim: ${r.length} lines in nvim. ${d.TextEditor.getLineCount()} in editor.`);let[o,s]=(yield this.nvim.callFunction("getpos",["."])).slice(1,3);e.editor.selection=new i.Selection(new h.Position(o-1,s),new h.Position(o-1,s)),c.configuration.expandtab&&(yield i.commands.executeCommand("editor.action.indentationToSpaces"));const a={v:l.RegisterMode.CharacterWise,V:l.RegisterMode.LineWise,"":l.RegisterMode.BlockWise};e.currentRegisterMode=a[yield this.nvim.callFunction("getregtype",['"'])],l.Register.put(yield this.nvim.callFunction("getreg",['"']),e)})}dispose(){this.nvim&&this.nvim.quit(),this.process&&this.process.kill()}}},function(e,t,r){"use strict";const n=r(6),i=r(39).EventEmitter,o=r(300),s=r(306),a=r(307),u=/^\n*NVIM v?(\d+)\.(\d+)\.(\d+)(.*)\s*\n/;function c(e,t){this._session=e,this._decode=l,this._channel_id=t}function l(e){return a(e).forEach(function(e){if(e instanceof o)this.update(e,!0);else if(Buffer.isBuffer(e))try{this.update(e.toString("utf8"))}catch(e){}}),e}function d(e){try{return this._data.toString()===e._data.toString()}catch(e){return!1}}function h(){this.command("qa!",!0)}function f(){return this.commandOutput("silent version").then(e=>{const t=e.match(u);if(null===t)throw new Error(`Unexpected output format from :version command: '${e}'`);return{major:parseInt(t[1],10),minor:parseInt(t[2],10),patch:parseInt(t[3],10),rest:t[4]}})}n.inherits(c,i),e.exports.attach=function(e,t){let r=new o([]),n=new c(r);const i=r,a=[];return r.attach(e,t),new Promise(function(u,p){r.on("request",function(e,t,r){"specs"!==e?a.push({type:"request",args:Array.prototype.slice.call(arguments)}):(u(n),n.emit("request",l(e),l(t),r))}),r.on("notification",function(){a.push({type:"notification",args:Array.prototype.slice.call(arguments)})}),r.on("detach",function(){r.removeAllListeners("request"),r.removeAllListeners("notification"),n.emit("disconnect")}),r.request("nvim_get_api_info",[],function(m,g){if(m){const e=`Error at initialization: nvim_get_api_info: ${m[1]}: If you're using nvim v0.1.5 or earlier, please update nvim.`;return p(new Error(e))}const v=g[0],y=l(g[1]),x=[],w={};Object.keys(y.types).forEach(function(e){const t=function(e,t,r){this._session=e,this._data=t,this._decode=r};Object.defineProperty(t,"name",{value:e}),t.prototype.equals=d,x.push({constructor:t,code:y.types[e].id,decode:function(e){return new t(r,e,l)},encode:function(e){return e._data}}),w[e]=t,c.prototype[e]=t}),function(e,t,r){for(let n=0;n<r.functions.length;n++){const i=r.functions[n],o=i.name.split("_"),a=s.capitalize(o[0]);if("Vim"===a)continue;const u=s.camelCase(("Ui"===a?o:o.slice(1)).join("_"));let c,l,d=i.parameters.map(e=>e[1]);"Nvim"===a||"Ui"===a?(c=e,l=d.join(", ")):(c=t[a],d=d.slice(1),l=["this"].concat(d).join(", ")),d.push("notify");const h=d.join(", "),f=new Function(`\n                return function ${u}(${h}) {\n                  if (notify) {\n                    this._session.notify("${i.name}", [${l}]);\n                    return;\n                  }\n                  return new Promise((resolve, reject) => {\n                    this._session.request("${i.name}", [${l}], (err, res) => {\n                     if (err) return reject(new Error(err[1]));\n                     resolve(this._decode(res));\n                   });\n                  });\n                };\n            `)(),p=i.parameters.map(e=>e[0]);p.push("Boolean"),f.metadata={name:u,deferred:i.deferred,returnType:i.return_type,parameters:d,parameterTypes:p,canFail:i.can_fail},"Nvim"!==a&&"Ui"!==a&&f.metadata.parameterTypes.shift(),c.prototype[u]=f}}(c,w,y),c.prototype.quit=h,c.prototype.getVersion=f,(r=new o(x)).attach(e,t),n=new c(r,v),r.on("request",function(e,t,r){n.emit("request",l(e),l(t),r)}),r.on("notification",function(e,t){n.emit("notification",l(e),l(t))}),r.on("detach",function(){r.removeAllListeners("request"),r.removeAllListeners("notification"),n.emit("disconnect")}),u(n),i.detach(),a.forEach(function(e){"request"===e.type&&(e.args[e.args.length-1]._encoder=r._encoder),n.emit.apply(n,[].concat(e.type,e.args))})})})}},function(e,t,r){var n=r(6),i=r(39).EventEmitter,o=r(301);function s(e,t){this._encoder=e,this._request_id=t}function a(e){var t=this,r={header:!1};this._msgpack=o(),this.addTypes(e),this._pending_requests={},this._next_request_id=1,this._encoder=this._msgpack.encoder(r),this._decoder=this._msgpack.decoder(r),this._decoder.on("data",function(e){t._parse_message(e)}),this._decoder.on("end",function(){t.detach(),t.emit("detach")})}s.prototype.send=function(e,t){if(this._sent)throw new Error("Response to id "+this._request_id+" already sent");t?this._encoder.write([1,this._request_id,e,null]):this._encoder.write([1,this._request_id,null,e]),this._sent=!0},n.inherits(a,i),a.prototype.addTypes=function(e){if(e)for(var t=0,r=e.length;t<r;t++){var n=e[t];this._msgpack.register(n.code,n.constructor,n.encode,n.decode)}},a.prototype.attach=function(e,t){this._encoder.pipe(e),t.pipe(this._decoder),this._writer=e,this._reader=t},a.prototype.detach=function(){this._encoder.unpipe(this._writer),this._reader.unpipe(this._decoder)},a.prototype.request=function(e,t,r){var n=this._next_request_id++;this._encoder.write([0,n,e,t]),this._pending_requests[n]=r},a.prototype.notify=function(e,t){this._encoder.write([2,e,t])},a.prototype._parse_message=function(e){var t=e[0];if(0===t)this.emit("request",e[2].toString(),e[3],new s(this._encoder,e[1]));else if(1===t){var r=e[1],n=this._pending_requests[r];delete this._pending_requests[r],n(e[2],e[3])}else 2===t?this.emit("notification",e[1].toString(),e[2]):this._encoder.write([1,0,"Invalid message type",null])},e.exports=a},function(e,t,r){"use strict";var n=r(23).Buffer,i=r(109),o=r(47),s=r(303),a=r(304),u=r(305);e.exports=function(e){var t=[],r=[];return{encode:u(t,(e=e||{forceFloat64:!1,compatibilityMode:!1}).forceFloat64,e.compatibilityMode),decode:a(r),register:function(e,t,r,s){return i(t,"must have a constructor"),i(r,"must have an encode function"),i(e>=0,"must have a non-negative type"),i(s,"must have a decode function"),this.registerEncoder(function(e){return e instanceof t},function(t){var i=o(),s=n.allocUnsafe(1);return s.writeInt8(e,0),i.append(s),i.append(r(t)),i}),this.registerDecoder(e,s),this},registerEncoder:function(e,r){return i(e,"must have an encode function"),i(r,"must have an encode function"),t.push({check:e,encode:r}),this},registerDecoder:function(e,t){return i(e>=0,"must have a non-negative type"),i(t,"must have a decode function"),r.push({type:e,decode:t}),this},encoder:s.encoder,decoder:s.decoder,buffer:!0,type:"msgpack5",IncompleteBufferError:a.IncompleteBufferError}}},function(e,t,r){e.exports=r(29).Duplex},function(e,t,r){"use strict";var n=r(29).Transform,i=r(27),o=r(47);function s(e){(e=e||{}).objectMode=!0,e.highWaterMark=16,n.call(this,e),this._msgpack=e.msgpack}function a(e){if(!(this instanceof a))return(e=e||{}).msgpack=this,new a(e);s.call(this,e)}function u(e){if(!(this instanceof u))return(e=e||{}).msgpack=this,new u(e);s.call(this,e),this._chunks=o()}i(s,n),i(a,s),a.prototype._transform=function(e,t,r){var n=null;try{n=this._msgpack.encode(e).slice(0)}catch(e){return this.emit("error",e),r()}this.push(n),r()},i(u,s),u.prototype._transform=function(e,t,r){e&&this._chunks.append(e);try{var n=this._msgpack.decode(this._chunks);this.push(n)}catch(e){return void(e instanceof this._msgpack.IncompleteBufferError?r():this.emit("error",e))}this._chunks.length>0?this._transform(null,t,r):r()},e.exports.decoder=u,e.exports.encoder=a},function(e,t,r){var n=r(47);function i(e){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=e||"unable to decode"}r(6).inherits(i,Error),e.exports=function(e){return function(e){e instanceof n||(e=n().append(e));var t=o(e);if(t)return e.consume(t.bytesConsumed),t.value;throw new i};function t(e,t,r){return t>=r+e}function r(e,t){return{value:e,bytesConsumed:t}}function o(e,n){n=void 0===n?0:n;var i=e.length-n;if(i<=0)return null;var o,l,d,h=e.readUInt8(n),f=0;if(!function(e,t){var r=function(e){switch(e){case 196:return 2;case 197:return 3;case 198:return 5;case 199:return 3;case 200:return 4;case 201:return 6;case 202:return 5;case 203:return 9;case 204:return 2;case 205:return 3;case 206:return 5;case 207:return 9;case 208:return 2;case 209:return 3;case 210:return 5;case 211:return 9;case 212:return 3;case 213:return 4;case 214:return 6;case 215:return 10;case 216:return 18;case 217:return 2;case 218:return 3;case 219:return 5;case 222:return 3;default:return-1}}(e);return!(-1!==r&&t<r)}(h,i))return null;switch(h){case 192:return r(null,1);case 194:return r(!1,1);case 195:return r(!0,1);case 204:return r(f=e.readUInt8(n+1),2);case 205:return r(f=e.readUInt16BE(n+1),3);case 206:return r(f=e.readUInt32BE(n+1),5);case 207:for(d=7;d>=0;d--)f+=e.readUInt8(n+d+1)*Math.pow(2,8*(7-d));return r(f,9);case 208:return r(f=e.readInt8(n+1),2);case 209:return r(f=e.readInt16BE(n+1),3);case 210:return r(f=e.readInt32BE(n+1),5);case 211:return r(f=function(e,t){var r=128==(128&e[t]);if(r)for(var n=1,i=t+7;i>=t;i--){var o=(255^e[i])+n;e[i]=255&o,n=o>>8}var s=e.readUInt32BE(t+0),a=e.readUInt32BE(t+4);return(4294967296*s+a)*(r?-1:1)}(e.slice(n+1,n+9),0),9);case 202:return r(f=e.readFloatBE(n+1),5);case 203:return r(f=e.readDoubleBE(n+1),9);case 217:return t(o=e.readUInt8(n+1),i,2)?r(f=e.toString("utf8",n+2,n+2+o),2+o):null;case 218:return t(o=e.readUInt16BE(n+1),i,3)?r(f=e.toString("utf8",n+3,n+3+o),3+o):null;case 219:return t(o=e.readUInt32BE(n+1),i,5)?r(f=e.toString("utf8",n+5,n+5+o),5+o):null;case 196:return t(o=e.readUInt8(n+1),i,2)?r(f=e.slice(n+2,n+2+o),2+o):null;case 197:return t(o=e.readUInt16BE(n+1),i,3)?r(f=e.slice(n+3,n+3+o),3+o):null;case 198:return t(o=e.readUInt32BE(n+1),i,5)?r(f=e.slice(n+5,n+5+o),5+o):null;case 220:return i<3?null:(o=e.readUInt16BE(n+1),s(e,n,o,3));case 221:return i<5?null:(o=e.readUInt32BE(n+1),s(e,n,o,5));case 222:return o=e.readUInt16BE(n+1),a(e,n,o,3);case 223:throw new Error("map too big to decode in JS");case 212:return u(e,n,1);case 213:return u(e,n,2);case 214:return u(e,n,4);case 215:return u(e,n,8);case 216:return u(e,n,16);case 199:return o=e.readUInt8(n+1),l=e.readUInt8(n+2),t(o,i,3)?c(e,n,l,o,3):null;case 200:return o=e.readUInt16BE(n+1),l=e.readUInt8(n+3),t(o,i,4)?c(e,n,l,o,4):null;case 201:return o=e.readUInt32BE(n+1),l=e.readUInt8(n+5),t(o,i,6)?c(e,n,l,o,6):null}if(144==(240&h))return s(e,n,o=15&h,1);if(128==(240&h))return a(e,n,o=15&h,1);if(160==(224&h))return t(o=31&h,i,1)?r(f=e.toString("utf8",n+1,n+o+1),o+1):null;if(h>=224)return r(f=h-256,1);if(h<128)return r(h,1);throw new Error("not implemented yet")}function s(e,t,n,i){var s,a=[],u=0;for(t+=i,s=0;s<n;s++){var c=o(e,t);if(!c)return null;a.push(c.value),t+=c.bytesConsumed,u+=c.bytesConsumed}return r(a,i+u)}function a(e,t,n,i){var s,a={},u=0;for(t+=i,s=0;s<n;s++){var c=o(e,t);if(!c)return null;var l=o(e,t+=c.bytesConsumed);if(!l)return null;a[c.value]=l.value,t+=l.bytesConsumed,u+=c.bytesConsumed+l.bytesConsumed}return r(a,i+u)}function u(e,t,r){var n=e.readUInt8(t+1);return c(e,t,n,r,2)}function c(t,n,i,o,s){var a,u;for(n+=s,a=0;a<e.length;a++){if(i===e[a].type)return u=t.slice(n,n+o),r(e[a].decode(u),s+o)}throw new Error("unable to find ext type "+i)}},e.exports.IncompleteBufferError=i},function(e,t,r){"use strict";var n=r(23).Buffer,i=r(47),o=.1;function s(e,t){var r;return(r=n.allocUnsafe(5))[0]=202,r.writeFloatBE(e,1),(t||Math.abs(e-r.readFloatBE(1))>o)&&((r=n.allocUnsafe(9))[0]=203,r.writeDoubleBE(e,1)),r}e.exports=function(e,t,r){function o(a,u){var c,l,d;if(void 0===a)throw new Error("undefined is not encodable in msgpack!");if(null===a)(c=n.allocUnsafe(1))[0]=192;else if(!0===a)(c=n.allocUnsafe(1))[0]=195;else if(!1===a)(c=n.allocUnsafe(1))[0]=194;else if("string"==typeof a)(l=n.byteLength(a))<32?((c=n.allocUnsafe(1+l))[0]=160|l,l>0&&c.write(a,1)):l<=255&&!r?((c=n.allocUnsafe(2+l))[0]=217,c[1]=l,c.write(a,2)):l<=65535?((c=n.allocUnsafe(3+l))[0]=218,c.writeUInt16BE(l,1),c.write(a,3)):((c=n.allocUnsafe(5+l))[0]=219,c.writeUInt32BE(l,1),c.write(a,5));else if(a&&(a.readUInt32LE||a instanceof Uint8Array))a instanceof Uint8Array&&(a=n.from(a)),a.length<=255?((c=n.allocUnsafe(2))[0]=196,c[1]=a.length):a.length<=65535?((c=n.allocUnsafe(3))[0]=197,c.writeUInt16BE(a.length,1)):((c=n.allocUnsafe(5))[0]=198,c.writeUInt32BE(a.length,1)),c=i([c,a]);else if(Array.isArray(a))a.length<16?(c=n.allocUnsafe(1))[0]=144|a.length:a.length<65536?((c=n.allocUnsafe(3))[0]=220,c.writeUInt16BE(a.length,1)):((c=n.allocUnsafe(5))[0]=221,c.writeUInt32BE(a.length,1)),c=a.reduce(function(e,t){return e.append(o(t,!0)),e},i().append(c));else if("object"==typeof a)c=function(t){var r,o,s=-1,a=[];for(r=0;r<e.length;r++)if(e[r].check(t)){o=e[r].encode(t);break}if(!o)return null;1==(s=o.length-1)?a.push(212):2===s?a.push(213):4===s?a.push(214):8===s?a.push(215):16===s?a.push(216):s<256?(a.push(199),a.push(s)):s<65536?(a.push(200),a.push(s>>8),a.push(255&s)):(a.push(201),a.push(s>>24),a.push(s>>16&255),a.push(s>>8&255),a.push(255&s));return i().append(n.from(a)).append(o)}(a)||function(e){var t,r,s=[],a=0;for(t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&"function"!=typeof e[t]&&(++a,s.push(o(t,!0)),s.push(o(e[t],!0)));a<16?(r=n.allocUnsafe(1))[0]=128|a:((r=n.allocUnsafe(3))[0]=222,r.writeUInt16BE(a,1));return s.unshift(r),s.reduce(function(e,t){return e.append(t)},i())}(a);else if("number"==typeof a){if((d=a)!==Math.floor(d))return s(a,t);if(a>=0)if(a<128)(c=n.allocUnsafe(1))[0]=a;else if(a<256)(c=n.allocUnsafe(2))[0]=204,c[1]=a;else if(a<65536)(c=n.allocUnsafe(3))[0]=205,c.writeUInt16BE(a,1);else if(a<=4294967295)(c=n.allocUnsafe(5))[0]=206,c.writeUInt32BE(a,1);else{if(!(a<=9007199254740991))return s(a,!0);(c=n.allocUnsafe(9))[0]=207,function(e,t){for(var r=7;r>=0;r--)e[r+1]=255&t,t/=256}(c,a)}else if(a>=-32)(c=n.allocUnsafe(1))[0]=256+a;else if(a>=-128)(c=n.allocUnsafe(2))[0]=208,c.writeInt8(a,1);else if(a>=-32768)(c=n.allocUnsafe(3))[0]=209,c.writeInt16BE(a,1);else if(a>-214748365)(c=n.allocUnsafe(5))[0]=210,c.writeInt32BE(a,1);else{if(!(a>=-9007199254740991))return s(a,!0);(c=n.allocUnsafe(9))[0]=211,function(e,t,r){var n=r<0;n&&(r=Math.abs(r));var i=r%4294967296,o=r/4294967296;if(e.writeUInt32BE(Math.floor(o),t+0),e.writeUInt32BE(i,t+4),n)for(var s=1,a=t+7;a>=t;a--){var u=(255^e[a])+s;e[a]=255&u,s=u>>8}}(c,1,a)}}if(!c)throw new Error("not implemented yet");return u?c:c.slice()}return o}},function(e,t,r){(function(e){var n;(function(){var i,o,s,a="3.10.1",u=1,c=2,l=4,d=8,h=16,f=32,p=64,m=128,g=256,v=30,y="...",x=150,w=16,b=200,C=1,_=2,M="Expected a function",S="__lodash_placeholder__",E="[object Arguments]",k="[object Array]",A="[object Boolean]",P="[object Date]",R="[object Error]",N="[object Function]",T="[object Number]",L="[object Object]",F="[object RegExp]",B="[object String]",O="[object ArrayBuffer]",I="[object Float32Array]",D="[object Float64Array]",j="[object Int8Array]",V="[object Int16Array]",W="[object Int32Array]",$="[object Uint8Array]",H="[object Uint8ClampedArray]",U="[object Uint16Array]",q="[object Uint32Array]",z=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,J=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39|#96);/g,Y=/[&<>"'`]/g,Q=RegExp(G.source),Z=RegExp(Y.source),X=/<%-([\s\S]+?)%>/g,ee=/<%([\s\S]+?)%>/g,te=/<%=([\s\S]+?)%>/g,re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ne=/^\w*$/,ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,oe=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,se=RegExp(oe.source),ae=/[\u0300-\u036f\ufe20-\ufe23]/g,ue=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,le=/\w*$/,de=/^0[xX]/,he=/^\[object .+?Constructor\]$/,fe=/^\d+$/,pe=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,me=/($^)/,ge=/['\n\r\u2028\u2029\\]/g,ve=(o="[A-Z\\xc0-\\xd6\\xd8-\\xde]",s="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(o+"+(?="+o+s+")|"+o+"?"+s+"|"+o+"+|[0-9]+","g")),ye=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],xe=-1,we={};we[I]=we[D]=we[j]=we[V]=we[W]=we[$]=we[H]=we[U]=we[q]=!0,we[E]=we[k]=we[O]=we[A]=we[P]=we[R]=we[N]=we["[object Map]"]=we[T]=we[L]=we[F]=we["[object Set]"]=we[B]=we["[object WeakMap]"]=!1;var be={};be[E]=be[k]=be[O]=be[A]=be[P]=be[I]=be[D]=be[j]=be[V]=be[W]=be[T]=be[L]=be[F]=be[B]=be[$]=be[H]=be[U]=be[q]=!0,be[R]=be[N]=be["[object Map]"]=be["[object Set]"]=be["[object WeakMap]"]=!1;var Ce={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},_e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Me={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Se={function:!0,object:!0},Ee={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},ke={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ae=Se[typeof t]&&t&&!t.nodeType&&t,Pe=Se[typeof e]&&e&&!e.nodeType&&e,Re=Ae&&Pe&&"object"==typeof global&&global&&global.Object&&global,Ne=Se[typeof self]&&self&&self.Object&&self,Te=Se[typeof window]&&window&&window.Object&&window,Le=(Pe&&Pe.exports,Re||Te!==(this&&this.window)&&Te||Ne||this);function Fe(e,t){if(e!==t){var r=null===e,n=e===i,o=e==e,s=null===t,a=t===i,u=t==t;if(e>t&&!s||!o||r&&!a&&u||n&&u)return 1;if(e<t&&!r||!u||s&&!n&&o||a&&o)return-1}return 0}function Be(e,t,r){for(var n=e.length,i=r?n:-1;r?i--:++i<n;)if(t(e[i],i,e))return i;return-1}function Oe(e,t,r){if(t!=t)return ze(e,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function Ie(e){return"function"==typeof e||!1}function De(e){return null==e?"":e+""}function je(e,t){for(var r=-1,n=e.length;++r<n&&t.indexOf(e.charAt(r))>-1;);return r}function Ve(e,t){for(var r=e.length;r--&&t.indexOf(e.charAt(r))>-1;);return r}function We(e,t){return Fe(e.criteria,t.criteria)||e.index-t.index}function $e(e){return Ce[e]}function He(e){return _e[e]}function Ue(e,t,r){return t?e=Ee[e]:r&&(e=ke[e]),"\\"+e}function qe(e){return"\\"+ke[e]}function ze(e,t,r){for(var n=e.length,i=t+(r?0:-1);r?i--:++i<n;){var o=e[i];if(o!=o)return i}return-1}function Ke(e){return!!e&&"object"==typeof e}function Je(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function Ge(e,t){for(var r=-1,n=e.length,i=-1,o=[];++r<n;)e[r]===t&&(e[r]=S,o[++i]=r);return o}function Ye(e){for(var t=-1,r=e.length;++t<r&&Je(e.charCodeAt(t)););return t}function Qe(e){for(var t=e.length;t--&&Je(e.charCodeAt(t)););return t}function Ze(e){return Me[e]}var Xe=function e(t){var r=(t=t?Xe.defaults(Le.Object(),t,Xe.pick(Le,ye)):Le).Array,n=t.Date,o=t.Error,s=t.Function,Ce=t.Math,_e=t.Number,Me=t.Object,Se=t.RegExp,Ee=t.String,ke=t.TypeError,Ae=r.prototype,Pe=Me.prototype,Re=Ee.prototype,Ne=s.prototype.toString,Te=Pe.hasOwnProperty,Je=0,et=Pe.toString,tt=Le._,rt=Se("^"+Ne.call(Te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=t.ArrayBuffer,it=t.clearTimeout,ot=t.parseFloat,st=Ce.pow,at=Pe.propertyIsEnumerable,ut=yn(t,"Set"),ct=t.setTimeout,lt=Ae.splice,dt=t.Uint8Array,ht=yn(t,"WeakMap"),ft=Ce.ceil,pt=yn(Me,"create"),mt=Ce.floor,gt=yn(r,"isArray"),vt=t.isFinite,yt=yn(Me,"keys"),xt=Ce.max,wt=Ce.min,bt=yn(n,"now"),Ct=t.parseInt,_t=Ce.random,Mt=_e.NEGATIVE_INFINITY,St=_e.POSITIVE_INFINITY,Et=4294967295,kt=Et-1,At=Et>>>1,Pt=9007199254740991,Rt=ht&&new ht,Nt={};function Tt(e){if(Ke(e)&&!zi(e)&&!(e instanceof Bt)){if(e instanceof Ft)return e;if(Te.call(e,"__chain__")&&Te.call(e,"__wrapped__"))return On(e)}return new Ft(e)}function Lt(){}function Ft(e,t,r){this.__wrapped__=e,this.__actions__=r||[],this.__chain__=!!t}Tt.support={};function Bt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=St,this.__views__=[]}function Ot(){this.__data__={}}function It(e){var t=e?e.length:0;for(this.data={hash:pt(null),set:new ut};t--;)this.push(e[t])}function Dt(e,t){var r=e.data;return("string"==typeof t||Yi(t)?r.set.has(t):r.hash[t])?0:-1}function jt(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Vt(e,t){for(var r=-1,n=e.length;++r<n&&!1!==t(e[r],r,e););return e}function Wt(e,t){for(var r=-1,n=e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function $t(e,t){for(var r=-1,n=e.length,i=-1,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[++i]=s)}return o}function Ht(e,t){for(var n=-1,i=e.length,o=r(i);++n<i;)o[n]=t(e[n],n,e);return o}function Ut(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function qt(e,t,r,n){var i=-1,o=e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function zt(e,t){for(var r=-1,n=e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function Kt(e,t,r,n){return e!==i&&Te.call(n,r)?e:t}function Jt(e,t,r){for(var n=-1,o=yo(t),s=o.length;++n<s;){var a=o[n],u=e[a],c=r(u,t[a],a,e,t);(c==c?c===u:u!=u)&&(u!==i||a in e)||(e[a]=c)}return e}function Gt(e,t){return null==t?e:Qt(t,yo(t),e)}function Yt(e,t){for(var n=-1,o=null==e,s=!o&&wn(e),a=s?e.length:0,u=t.length,c=r(u);++n<u;){var l=t[n];c[n]=s?bn(l,a)?e[l]:i:o?i:e[l]}return c}function Qt(e,t,r){r||(r={});for(var n=-1,i=t.length;++n<i;){var o=t[n];r[o]=e[o]}return r}function Zt(e,t,r){var n=typeof e;return"function"==n?t===i?e:Br(e,t,r):null==e?Do:"object"==n?xr(e):t===i?Uo(e):wr(e,t)}function Xt(e,t,r,n,o,s,a){var u;if(r&&(u=o?r(e,n,o):r(e)),u!==i)return u;if(!Yi(e))return e;var c=zi(e);if(c){if(u=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Te.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!t)return jt(e,u)}else{var l=et.call(e),d=l==N;if(l!=L&&l!=E&&(!d||o))return be[l]?function(e,t,r){var n=e.constructor;switch(t){case O:return Or(e);case A:case P:return new n(+e);case I:case D:case j:case V:case W:case $:case H:case U:case q:var i=e.buffer;return new n(r?Or(i):i,e.byteOffset,e.length);case T:case B:return new n(e);case F:var o=new n(e.source,le.exec(e));o.lastIndex=e.lastIndex}return o}(e,l,t):o?e:{};if(u=function(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Me),new t}(d?{}:e),!t)return Gt(u,e)}s||(s=[]),a||(a=[]);for(var h=s.length;h--;)if(s[h]==e)return a[h];return s.push(e),a.push(u),(c?Vt:hr)(e,function(n,i){u[i]=Xt(n,t,r,i,e,s,a)}),u}Tt.templateSettings={escape:X,evaluate:ee,interpolate:te,variable:"",imports:{_:Tt}};var er=function(){function e(){}return function(t){if(Yi(t)){e.prototype=t;var r=new e;e.prototype=i}return r||{}}}();function tr(e,t,r){if("function"!=typeof e)throw new ke(M);return ct(function(){e.apply(i,r)},t)}function rr(e,t){var r=e?e.length:0,n=[];if(!r)return n;var i=-1,o=mn(),s=o==Oe,a=s&&t.length>=b?Hr(t):null,u=t.length;a&&(o=Dt,s=!1,t=a);e:for(;++i<r;){var c=e[i];if(s&&c==c){for(var l=u;l--;)if(t[l]===c)continue e;n.push(c)}else o(t,c,0)<0&&n.push(c)}return n}var nr=Wr(hr),ir=Wr(fr,!0);function or(e,t){var r=!0;return nr(e,function(e,n,i){return r=!!t(e,n,i)}),r}function sr(e,t){var r=[];return nr(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function ar(e,t,r,n){var i;return r(e,function(e,r,o){if(t(e,r,o))return i=n?r:e,!1}),i}function ur(e,t,r,n){n||(n=[]);for(var i=-1,o=e.length;++i<o;){var s=e[i];Ke(s)&&wn(s)&&(r||zi(s)||qi(s))?t?ur(s,t,r,n):Ut(n,s):r||(n[n.length]=s)}return n}var cr=$r(),lr=$r(!0);function dr(e,t){return cr(e,t,xo)}function hr(e,t){return cr(e,t,yo)}function fr(e,t){return lr(e,t,yo)}function pr(e,t){for(var r=-1,n=t.length,i=-1,o=[];++r<n;){var s=t[r];Gi(e[s])&&(o[++i]=s)}return o}function mr(e,t,r){if(null!=e){r!==i&&r in Fn(e)&&(t=[r]);for(var n=0,o=t.length;null!=e&&n<o;)e=e[t[n++]];return n&&n==o?e:i}}function gr(e,t,r,n,o,s){return e===t||(null==e||null==t||!Yi(e)&&!Ke(t)?e!=e&&t!=t:function(e,t,r,n,o,s,a){var u=zi(e),c=zi(t),l=k,d=k;u||((l=et.call(e))==E?l=L:l!=L&&(u=ro(e))),c||((d=et.call(t))==E?d=L:d!=L&&(c=ro(t)));var h=l==L,f=d==L,p=l==d;if(p&&!u&&!h)return function(e,t,r){switch(r){case A:case P:return+e==+t;case R:return e.name==t.name&&e.message==t.message;case T:return e!=+e?t!=+t:e==+t;case F:case B:return e==t+""}return!1}(e,t,l);if(!o){var m=h&&Te.call(e,"__wrapped__"),g=f&&Te.call(t,"__wrapped__");if(m||g)return r(m?e.value():e,g?t.value():t,n,o,s,a)}if(!p)return!1;s||(s=[]),a||(a=[]);for(var v=s.length;v--;)if(s[v]==e)return a[v]==t;s.push(e),a.push(t);var y=(u?function(e,t,r,n,o,s,a){var u=-1,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;for(;++u<c;){var d=e[u],h=t[u],f=n?n(o?h:d,o?d:h,u):i;if(f!==i){if(f)continue;return!1}if(o){if(!zt(t,function(e){return d===e||r(d,e,n,o,s,a)}))return!1}else if(d!==h&&!r(d,h,n,o,s,a))return!1}return!0}:function(e,t,r,n,o,s,a){var u=yo(e),c=u.length,l=yo(t).length;if(c!=l&&!o)return!1;for(var d=c;d--;){var h=u[d];if(!(o?h in t:Te.call(t,h)))return!1}for(var f=o;++d<c;){h=u[d];var p=e[h],m=t[h],g=n?n(o?m:p,o?p:m,h):i;if(!(g===i?r(p,m,n,o,s,a):g))return!1;f||(f="constructor"==h)}if(!f){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0})(e,t,r,n,o,s,a);return s.pop(),a.pop(),y}(e,t,gr,r,n,o,s))}function vr(e,t,r){var n=t.length,o=n,s=!r;if(null==e)return!o;for(e=Fn(e);n--;){var a=t[n];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++n<o;){var u=(a=t[n])[0],c=e[u],l=a[1];if(s&&a[2]){if(c===i&&!(u in e))return!1}else{var d=r?r(c,l,u):i;if(!(d===i?gr(l,c,r,!0):d))return!1}}return!0}function yr(e,t){var n=-1,i=wn(e)?r(e.length):[];return nr(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function xr(e){var t=vn(e);if(1==t.length&&t[0][2]){var r=t[0][0],n=t[0][1];return function(e){return null!=e&&e[r]===n&&(n!==i||r in Fn(e))}}return function(e){return vr(e,t)}}function wr(e,t){var r=zi(e),n=_n(e)&&En(t),o=e+"";return e=Bn(e),function(s){if(null==s)return!1;var a=o;if(s=Fn(s),(r||!n)&&!(a in s)){if(null==(s=1==e.length?s:mr(s,Sr(e,0,-1))))return!1;a=qn(e),s=Fn(s)}return s[a]===t?t!==i||a in s:gr(t,s[a],i,!0)}}function br(e){return function(t){return null==t?i:t[e]}}function Cr(e,t){for(var r=e?t.length:0;r--;){var n=t[r];if(n!=i&&bn(n)){var i=n;lt.call(e,n,1)}}return e}function _r(e,t){return e+mt(_t()*(t-e+1))}var Mr=Rt?function(e,t){return Rt.set(e,t),e}:Do;function Sr(e,t,n){var o=-1,s=e.length;(t=null==t?0:+t||0)<0&&(t=-t>s?0:s+t),(n=n===i||n>s?s:+n||0)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=r(s);++o<s;)a[o]=e[o+t];return a}function Er(e,t){var r;return nr(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function kr(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}function Ar(e,t,r){var n=hn(),i=-1;return t=Ht(t,function(e){return n(e)}),kr(yr(e,function(e){return{criteria:Ht(t,function(t){return t(e)}),index:++i,value:e}}),function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var u=Fe(i[n],o[n]);if(u){if(n>=a)return u;var c=r[n];return u*("asc"===c||!0===c?1:-1)}}return e.index-t.index}(e,t,r)})}function Pr(e,t){var r=-1,n=mn(),i=e.length,o=n==Oe,s=o&&i>=b,a=s?Hr():null,u=[];a?(n=Dt,o=!1):(s=!1,a=t?[]:u);e:for(;++r<i;){var c=e[r],l=t?t(c,r,e):c;if(o&&c==c){for(var d=a.length;d--;)if(a[d]===l)continue e;t&&a.push(l),u.push(c)}else n(a,l,0)<0&&((t||s)&&a.push(l),u.push(c))}return u}function Rr(e,t){for(var n=-1,i=t.length,o=r(i);++n<i;)o[n]=e[t[n]];return o}function Nr(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?Sr(e,n?0:o,n?o+1:i):Sr(e,n?o+1:0,n?i:o)}function Tr(e,t){var r=e;r instanceof Bt&&(r=r.value());for(var n=-1,i=t.length;++n<i;){var o=t[n];r=o.func.apply(o.thisArg,Ut([r],o.args))}return r}function Lr(e,t,r){var n=0,i=e?e.length:n;if("number"==typeof t&&t==t&&i<=At){for(;n<i;){var o=n+i>>>1,s=e[o];(r?s<=t:s<t)&&null!==s?n=o+1:i=o}return i}return Fr(e,t,Do,r)}function Fr(e,t,r,n){t=r(t);for(var o=0,s=e?e.length:0,a=t!=t,u=null===t,c=t===i;o<s;){var l=mt((o+s)/2),d=r(e[l]),h=d!==i,f=d==d;if(a)var p=f||n;else p=u?f&&h&&(n||null!=d):c?f&&(n||h):null!=d&&(n?d<=t:d<t);p?o=l+1:s=l}return wt(s,kt)}function Br(e,t,r){if("function"!=typeof e)return Do;if(t===i)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,o){return e.call(t,r,n,i,o)};case 5:return function(r,n,i,o,s){return e.call(t,r,n,i,o,s)}}return function(){return e.apply(t,arguments)}}function Or(e){var t=new nt(e.byteLength);return new dt(t).set(new dt(e)),t}function Ir(e,t,n){for(var i=n.length,o=-1,s=xt(e.length-i,0),a=-1,u=t.length,c=r(u+s);++a<u;)c[a]=t[a];for(;++o<i;)c[n[o]]=e[o];for(;s--;)c[a++]=e[o++];return c}function Dr(e,t,n){for(var i=-1,o=n.length,s=-1,a=xt(e.length-o,0),u=-1,c=t.length,l=r(a+c);++s<a;)l[s]=e[s];for(var d=s;++u<c;)l[d+u]=t[u];for(;++i<o;)l[d+n[i]]=e[s++];return l}function jr(e,t){return function(r,n,i){var o=t?t():{};if(n=hn(n,i,3),zi(r))for(var s=-1,a=r.length;++s<a;){var u=r[s];e(o,u,n(u,s,r),r)}else nr(r,function(t,r,i){e(o,t,n(t,r,i),i)});return o}}function Vr(e){return Hi(function(t,r){var n=-1,o=null==t?0:r.length,s=o>2?r[o-2]:i,a=o>2?r[2]:i,u=o>1?r[o-1]:i;for("function"==typeof s?(s=Br(s,u,5),o-=2):o-=(s="function"==typeof u?u:i)?1:0,a&&Cn(r[0],r[1],a)&&(s=o<3?i:s,o=1);++n<o;){var c=r[n];c&&e(t,c,s)}return t})}function Wr(e,t){return function(r,n){var i=r?gn(r):0;if(!Sn(i))return e(r,n);for(var o=t?i:-1,s=Fn(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function $r(e){return function(t,r,n){for(var i=Fn(t),o=n(t),s=o.length,a=e?s:-1;e?a--:++a<s;){var u=o[a];if(!1===r(i[u],u,i))break}return t}}function Hr(e){return pt&&ut?new It(e):null}function Ur(e){return function(t){for(var r=-1,n=Bo(ko(t)),i=n.length,o="";++r<i;)o=e(o,n[r],r);return o}}function qr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=er(e.prototype),n=e.apply(r,t);return Yi(n)?n:r}}function zr(e){return function t(r,n,o){o&&Cn(r,n,o)&&(n=i);var s=dn(r,e,i,i,i,i,i,n);return s.placeholder=t.placeholder,s}}function Kr(e,t){return Hi(function(r){var n=r[0];return null==n?n:(r.push(t),e.apply(i,r))})}function Jr(e,t){return function(r,n,o){if(o&&Cn(r,n,o)&&(n=i),1==(n=hn(n,o,3)).length){var s=function(e,t,r,n){for(var i=-1,o=e.length,s=n,a=s;++i<o;){var u=e[i],c=+t(u);r(c,s)&&(s=c,a=u)}return a}(r=zi(r)?r:Ln(r),n,e,t);if(!r.length||s!==t)return s}return function(e,t,r,n){var i=n,o=i;return nr(e,function(e,s,a){var u=+t(e,s,a);(r(u,i)||u===n&&u===o)&&(i=u,o=e)}),o}(r,n,e,t)}}function Gr(e,t){return function(r,n,o){if(n=hn(n,o,3),zi(r)){var s=Be(r,n,t);return s>-1?r[s]:i}return ar(r,n,e)}}function Yr(e){return function(t,r,n){return t&&t.length?Be(t,r=hn(r,n,3),e):-1}}function Qr(e){return function(t,r,n){return ar(t,r=hn(r,n,3),e,!0)}}function Zr(e){return function(){for(var t,n=arguments.length,o=e?n:-1,s=0,a=r(n);e?o--:++o<n;){var u=a[s++]=arguments[o];if("function"!=typeof u)throw new ke(M);!t&&Ft.prototype.thru&&"wrapper"==pn(u)&&(t=new Ft([],!0))}for(o=t?-1:n;++o<n;){var c=pn(u=a[o]),l="wrapper"==c?fn(u):i;t=l&&Mn(l[0])&&l[1]==(m|d|f|g)&&!l[4].length&&1==l[9]?t[pn(l[0])].apply(t,l[3]):1==u.length&&Mn(u)?t[c]():t.thru(u)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&zi(r)&&r.length>=b)return t.plant(r).value();for(var i=0,o=n?a[i].apply(this,e):r;++i<n;)o=a[i].call(this,o);return o}}}function Xr(e,t){return function(r,n,o){return"function"==typeof n&&o===i&&zi(r)?e(r,n):t(r,Br(n,o,3))}}function en(e){return function(t,r,n){return"function"==typeof r&&n===i||(r=Br(r,n,3)),e(t,r,xo)}}function tn(e){return function(t,r,n){return"function"==typeof r&&n===i||(r=Br(r,n,3)),e(t,r)}}function rn(e){return function(t,r,n){var i={};return r=hn(r,n,3),hr(t,function(t,n,o){var s=r(t,n,o);t=e?t:s,i[n=e?s:n]=t}),i}}function nn(e){return function(t,r,n){return t=De(t),(e?t:"")+un(t,r,n)+(e?"":t)}}function on(e){var t=Hi(function(r,n){var o=Ge(n,t.placeholder);return dn(r,e,i,n,o)});return t}function sn(e,t){return function(r,n,o,s){var a=arguments.length<3;return"function"==typeof n&&s===i&&zi(r)?e(r,n,o,a):function(e,t,r,n,i){return i(e,function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)}),r}(r,hn(n,s,4),o,a,t)}}function an(e,t,n,o,s,a,g,v,y,x){var w=t&m,b=t&u,C=t&c,_=t&d,M=t&l,S=t&h,E=C?i:qr(e);return function l(){for(var d=arguments.length,h=d,m=r(d);h--;)m[h]=arguments[h];if(o&&(m=Ir(m,o,s)),a&&(m=Dr(m,a,g)),_||S){var k=l.placeholder,A=Ge(m,k);if((d-=A.length)<x){var P=v?jt(v):i,R=xt(x-d,0);t|=_?f:p,t&=~(_?p:f),M||(t&=~(u|c));var N=[e,t,n,_?m:i,_?A:i,_?i:m,_?i:A,P,y,R],T=an.apply(i,N);return Mn(e)&&Nn(T,N),T.placeholder=k,T}}var L=b?n:this,F=C?L[e]:e;return v&&(m=function(e,t){for(var r=e.length,n=wt(t.length,r),o=jt(e);n--;){var s=t[n];e[n]=bn(s,r)?o[s]:i}return e}(m,v)),w&&y<m.length&&(m.length=y),this&&this!==Le&&this instanceof l&&(F=E||qr(e)),F.apply(L,m)}}function un(e,t,r){var n=e.length;if(n>=(t=+t)||!vt(t))return"";var i=t-n;return No(r=null==r?" ":r+"",ft(i/r.length)).slice(0,i)}function cn(e){var t=Ce[e];return function(e,r){return(r=r===i?0:+r||0)?(r=st(10,r),t(e*r)/r):t(e)}}function ln(e){return function(t,r,n,i){var o=hn(n);return null==n&&o===Zt?Lr(t,r,e):Fr(t,r,o(n,i,1),e)}}function dn(e,t,n,o,s,a,h,v){var y=t&c;if(!y&&"function"!=typeof e)throw new ke(M);var x=o?o.length:0;if(x||(t&=~(f|p),o=s=i),x-=s?s.length:0,t&p){var w=o,b=s;o=s=i}var C=y?i:fn(e),_=[e,t,n,o,s,w,b,a,h,v];if(C&&(function(e,t){var r=e[1],n=t[1],i=r|n,o=i<m,s=n==m&&r==d||n==m&&r==g&&e[7].length<=t[8]||n==(m|g)&&r==d;if(!o&&!s)return e;n&u&&(e[2]=t[2],i|=r&u?0:l);var a=t[3];if(a){var c=e[3];e[3]=c?Ir(c,a,t[4]):jt(a),e[4]=c?Ge(e[3],S):jt(t[4])}(a=t[5])&&(c=e[5],e[5]=c?Dr(c,a,t[6]):jt(a),e[6]=c?Ge(e[5],S):jt(t[6])),(a=t[7])&&(e[7]=jt(a)),n&m&&(e[8]=null==e[8]?t[8]:wt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(_,C),t=_[1],v=_[9]),_[9]=null==v?y?0:e.length:xt(v-x,0)||0,t==u)var E=function(e,t){var r=qr(e);return function n(){return(this&&this!==Le&&this instanceof n?r:e).apply(t,arguments)}}(_[0],_[2]);else E=t!=f&&t!=(u|f)||_[4].length?an.apply(i,_):function(e,t,n,i){var o=t&u,s=qr(e);return function t(){for(var a=-1,u=arguments.length,c=-1,l=i.length,d=r(l+u);++c<l;)d[c]=i[c];for(;u--;)d[c++]=arguments[++a];return(this&&this!==Le&&this instanceof t?s:e).apply(o?n:this,d)}}.apply(i,_);return(C?Mr:Nn)(E,_)}function hn(e,t,r){var n=Tt.callback||Io;return n=n===Io?Zt:n,r?n(e,t,r):n}var fn=Rt?function(e){return Rt.get(e)}:Ho;function pn(e){for(var t=e.name,r=Nt[t],n=r?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function mn(e,t,r){var n=Tt.indexOf||Hn;return n=n===Hn?Oe:n,e?n(e,t,r):n}var gn=br("length");function vn(e){for(var t=_o(e),r=t.length;r--;)t[r][2]=En(t[r][1]);return t}function yn(e,t){var r=null==e?i:e[t];return Qi(r)?r:i}function xn(e,t,r){null==e||_n(t,e)||(e=1==(t=Bn(t)).length?e:mr(e,Sr(t,0,-1)),t=qn(t));var n=null==e?e:e[t];return null==n?i:n.apply(e,r)}function wn(e){return null!=e&&Sn(gn(e))}function bn(e,t){return e="number"==typeof e||fe.test(e)?+e:-1,t=null==t?Pt:t,e>-1&&e%1==0&&e<t}function Cn(e,t,r){if(!Yi(r))return!1;var n=typeof t;if("number"==n?wn(r)&&bn(t,r.length):"string"==n&&t in r){var i=r[t];return e==e?e===i:i!=i}return!1}function _n(e,t){var r=typeof e;return!!("string"==r&&ne.test(e)||"number"==r)||!zi(e)&&(!re.test(e)||null!=t&&e in Fn(t))}function Mn(e){var t=pn(e);if(!(t in Bt.prototype))return!1;var r=Tt[t];if(e===r)return!0;var n=fn(r);return!!n&&e===n[0]}function Sn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Pt}function En(e){return e==e&&!Yi(e)}function kn(e,t){e=Fn(e);for(var r=-1,n=t.length,i={};++r<n;){var o=t[r];o in e&&(i[o]=e[o])}return i}function An(e,t){var r={};return dr(e,function(e,n,i){t(e,n,i)&&(r[n]=e)}),r}var Pn,Rn,Nn=(Pn=0,Rn=0,function(e,t){var r=Ei(),n=w-(r-Rn);if(Rn=r,n>0){if(++Pn>=x)return e}else Pn=0;return Mr(e,t)});function Tn(e){for(var t=xo(e),r=t.length,n=r&&e.length,i=!!n&&Sn(n)&&(zi(e)||qi(e)),o=-1,s=[];++o<r;){var a=t[o];(i&&bn(a,n)||Te.call(e,a))&&s.push(a)}return s}function Ln(e){return null==e?[]:wn(e)?Yi(e)?e:Me(e):So(e)}function Fn(e){return Yi(e)?e:Me(e)}function Bn(e){if(zi(e))return e;var t=[];return De(e).replace(ie,function(e,r,n,i){t.push(n?i.replace(ue,"$1"):r||e)}),t}function On(e){return e instanceof Bt?e.clone():new Ft(e.__wrapped__,e.__chain__,jt(e.__actions__))}var In=Hi(function(e,t){return Ke(e)&&wn(e)?rr(e,ur(t,!1,!0)):[]});function Dn(e,t,r){return e&&e.length?((r?Cn(e,t,r):null==t)&&(t=1),Sr(e,t<0?0:t)):[]}function jn(e,t,r){var n=e?e.length:0;return n?((r?Cn(e,t,r):null==t)&&(t=1),Sr(e,0,(t=n-(+t||0))<0?0:t)):[]}var Vn=Yr(),Wn=Yr(!0);function $n(e){return e?e[0]:i}function Hn(e,t,r){var n=e?e.length:0;if(!n)return-1;if("number"==typeof r)r=r<0?xt(n+r,0):r;else if(r){var i=Lr(e,t);return i<n&&(t==t?t===e[i]:e[i]!=e[i])?i:-1}return Oe(e,t,r||0)}var Un=Hi(function(e){for(var t=e.length,n=t,i=r(d),o=mn(),s=o==Oe,a=[];n--;){var u=e[n]=wn(u=e[n])?u:[];i[n]=s&&u.length>=120?Hr(n&&u):null}var c=e[0],l=-1,d=c?c.length:0,h=i[0];e:for(;++l<d;)if(u=c[l],(h?Dt(h,u):o(a,u,0))<0){for(n=t;--n;){var f=i[n];if((f?Dt(f,u):o(e[n],u,0))<0)continue e}h&&h.push(u),a.push(u)}return a});function qn(e){var t=e?e.length:0;return t?e[t-1]:i}var zn=Hi(function(e,t){var r=Yt(e,t=ur(t));return Cr(e,t.sort(Fe)),r});function Kn(e){return Dn(e,1)}var Jn=ln(),Gn=ln(!0);var Yn=Hi(function(e){return Pr(ur(e,!1,!0))});function Qn(e,t,r,n){if(!e||!e.length)return[];null!=t&&"boolean"!=typeof t&&(r=Cn(e,t,n=r)?i:t,t=!1);var o=hn();return null==r&&o===Zt||(r=o(r,n,3)),t&&mn()==Oe?function(e,t){for(var r,n=-1,i=e.length,o=-1,s=[];++n<i;){var a=e[n],u=t?t(a,n,e):a;n&&r===u||(r=u,s[++o]=a)}return s}(e,r):Pr(e,r)}function Zn(e){if(!e||!e.length)return[];var t=-1,n=0;e=$t(e,function(e){if(wn(e))return n=xt(e.length,n),!0});for(var i=r(n);++t<n;)i[t]=Ht(e,br(t));return i}function Xn(e,t,r){if(!e||!e.length)return[];var n=Zn(e);return null==t?n:(t=Br(t,r,4),Ht(n,function(e){return qt(e,t,i,!0)}))}var ei=Hi(function(e,t){return wn(e)?rr(e,t):[]});var ti=Hi(Zn);function ri(e,t){var r=-1,n=e?e.length:0,i={};for(!n||t||zi(e[0])||(t=[]);++r<n;){var o=e[r];t?i[o]=t[r]:o&&(i[o[0]]=o[1])}return i}var ni=Hi(function(e){var t=e.length,r=t>2?e[t-2]:i,n=t>1?e[t-1]:i;return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof n?(--t,n):i,n=i),e.length=t,Xn(e,r,n)});function ii(e){var t=Tt(e);return t.__chain__=!0,t}function oi(e,t,r){return t.call(r,e)}var si=Hi(function(e){return e=ur(e),this.thru(function(t){return function(e,t){for(var n=-1,i=e.length,o=-1,s=t.length,a=r(i+s);++n<i;)a[n]=e[n];for(;++o<s;)a[n++]=t[o];return a}(zi(t)?t:[Fn(t)],e)})});var ai=Hi(function(e,t){return Yt(e,ur(t))}),ui=jr(function(e,t,r){Te.call(e,r)?++e[r]:e[r]=1});function ci(e,t,r){var n=zi(e)?Wt:or;return r&&Cn(e,t,r)&&(t=i),"function"==typeof t&&r===i||(t=hn(t,r,3)),n(e,t)}function li(e,t,r){return(zi(e)?$t:sr)(e,t=hn(t,r,3))}var di=Gr(nr),hi=Gr(ir,!0);var fi=Xr(Vt,nr),pi=Xr(function(e,t){for(var r=e.length;r--&&!1!==t(e[r],r,e););return e},ir),mi=jr(function(e,t,r){Te.call(e,r)?e[r].push(t):e[r]=[t]});function gi(e,t,r,n){var i=e?gn(e):0;return Sn(i)||(i=(e=So(e)).length),r="number"!=typeof r||n&&Cn(t,r,n)?0:r<0?xt(i+r,0):r||0,"string"==typeof e||!zi(e)&&to(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&mn(e,t,r)>-1}var vi=jr(function(e,t,r){e[r]=t}),yi=Hi(function(e,t,n){var o=-1,s="function"==typeof t,a=_n(t),u=wn(e)?r(e.length):[];return nr(e,function(e){var r=s?t:a&&null!=e?e[t]:i;u[++o]=r?r.apply(e,n):xn(e,t,n)}),u});function xi(e,t,r){return(zi(e)?Ht:yr)(e,t=hn(t,r,3))}var wi=jr(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});var bi=sn(qt,nr),Ci=sn(function(e,t,r,n){var i=e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r},ir);function _i(e,t,r){if(r?Cn(e,t,r):null==t)return(n=(e=Ln(e)).length)>0?e[_r(0,n-1)]:i;var n,o=-1,s=io(e),a=(n=s.length)-1;for(t=wt(t<0?0:+t||0,n);++o<t;){var u=_r(o,a),c=s[u];s[u]=s[o],s[o]=c}return s.length=t,s}function Mi(e,t,r){var n=zi(e)?zt:Er;return r&&Cn(e,t,r)&&(t=i),"function"==typeof t&&r===i||(t=hn(t,r,3)),n(e,t)}var Si=Hi(function(e,t){if(null==e)return[];var r=t[2];return r&&Cn(t[0],t[1],r)&&(t.length=1),Ar(e,ur(t),[])});var Ei=bt||function(){return(new n).getTime()};function ki(e,t){var r;if("function"!=typeof t){if("function"!=typeof e)throw new ke(M);var n=e;e=t,t=n}return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Ai=Hi(function(e,t,r){var n=u;if(r.length){var i=Ge(r,Ai.placeholder);n|=f}return dn(e,n,t,r,i)}),Pi=Hi(function(e,t){for(var r=-1,n=(t=t.length?ur(t):vo(e)).length;++r<n;){var i=t[r];e[i]=dn(e[i],u,e)}return e}),Ri=Hi(function(e,t,r){var n=u|c;if(r.length){var i=Ge(r,Ri.placeholder);n|=f}return dn(t,n,e,r,i)}),Ni=zr(d),Ti=zr(h);function Li(e,t,r){var n,o,s,a,u,c,l,d=0,h=!1,f=!0;if("function"!=typeof e)throw new ke(M);if(t=t<0?0:+t||0,!0===r){var p=!0;f=!1}else Yi(r)&&(p=!!r.leading,h="maxWait"in r&&xt(+r.maxWait||0,t),f="trailing"in r?!!r.trailing:f);function m(t,r){r&&it(r),o=c=l=i,t&&(d=Ei(),s=e.apply(u,n),c||o||(n=u=i))}function g(){var e=t-(Ei()-a);e<=0||e>t?m(l,o):c=ct(g,e)}function v(){m(f,c)}function y(){if(n=arguments,a=Ei(),u=this,l=f&&(c||!p),!1===h)var r=p&&!c;else{o||p||(d=a);var m=h-(a-d),y=m<=0||m>h;y?(o&&(o=it(o)),d=a,s=e.apply(u,n)):o||(o=ct(v,m))}return y&&c?c=it(c):c||t===h||(c=ct(g,t)),r&&(y=!0,s=e.apply(u,n)),!y||c||o||(n=u=i),s}return y.cancel=function(){c&&it(c),o&&it(o),d=0,o=c=l=i},y}var Fi=Hi(function(e,t){return tr(e,1,t)}),Bi=Hi(function(e,t,r){return tr(e,t,r)}),Oi=Zr(),Ii=Zr(!0);function Di(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new ke(M);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new Di.Cache,r}var ji=Hi(function(e,t){if(t=ur(t),"function"!=typeof e||!Wt(t,Ie))throw new ke(M);var r=t.length;return Hi(function(n){for(var i=wt(n.length,r);i--;)n[i]=t[i](n[i]);return e.apply(this,n)})});var Vi=on(f),Wi=on(p),$i=Hi(function(e,t){return dn(e,g,i,i,i,ur(t))});function Hi(e,t){if("function"!=typeof e)throw new ke(M);return t=xt(t===i?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,o=xt(n.length-t,0),s=r(o);++i<o;)s[i]=n[t+i];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,n[0],s);case 2:return e.call(this,n[0],n[1],s)}var a=r(t+1);for(i=-1;++i<t;)a[i]=n[i];return a[t]=s,e.apply(this,a)}}function Ui(e,t){return e>t}function qi(e){return Ke(e)&&wn(e)&&Te.call(e,"callee")&&!at.call(e,"callee")}var zi=gt||function(e){return Ke(e)&&Sn(e.length)&&et.call(e)==k};function Ki(e,t,r,n){var o=(r="function"==typeof r?Br(r,n,3):i)?r(e,t):i;return o===i?gr(e,t,r):!!o}function Ji(e){return Ke(e)&&"string"==typeof e.message&&et.call(e)==R}function Gi(e){return Yi(e)&&et.call(e)==N}function Yi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Qi(e){return null!=e&&(Gi(e)?rt.test(Ne.call(e)):Ke(e)&&he.test(e))}function Zi(e){return"number"==typeof e||Ke(e)&&et.call(e)==T}function Xi(e){var t,r;return!(!Ke(e)||et.call(e)!=L||qi(e)||!(Te.call(e,"constructor")||"function"!=typeof(t=e.constructor)||t instanceof t))&&(dr(e,function(e,t){r=t}),r===i||Te.call(e,r))}function eo(e){return Yi(e)&&et.call(e)==F}function to(e){return"string"==typeof e||Ke(e)&&et.call(e)==B}function ro(e){return Ke(e)&&Sn(e.length)&&!!we[et.call(e)]}function no(e,t){return e<t}function io(e){var t=e?gn(e):0;return Sn(t)?t?jt(e):[]:So(e)}function oo(e){return Qt(e,xo(e))}var so=Vr(function e(t,r,n,o,s){if(!Yi(t))return t;var a=wn(r)&&(zi(r)||ro(r)),u=a?i:yo(r);return Vt(u||r,function(c,l){if(u&&(c=r[l=c]),Ke(c))o||(o=[]),s||(s=[]),function(e,t,r,n,o,s,a){for(var u=s.length,c=t[r];u--;)if(s[u]==c)return void(e[r]=a[u]);var l=e[r],d=o?o(l,c,r,e,t):i,h=d===i;h&&(d=c,wn(c)&&(zi(c)||ro(c))?d=zi(l)?l:wn(l)?jt(l):[]:Xi(c)||qi(c)?d=qi(l)?oo(l):Xi(l)?l:{}:h=!1),s.push(c),a.push(d),h?e[r]=n(d,c,o,s,a):(d==d?d!==l:l==l)&&(e[r]=d)}(t,r,l,e,n,o,s);else{var d=t[l],h=n?n(d,c,l,t,r):i,f=h===i;f&&(h=c),h===i&&(!a||l in t)||!f&&(h==h?h===d:d!=d)||(t[l]=h)}}),t}),ao=Vr(function(e,t,r){return r?Jt(e,t,r):Gt(e,t)});var uo=Kr(ao,function(e,t){return e===i?t:e}),co=Kr(so,function e(t,r){return t===i?r:so(t,r,e)}),lo=Qr(hr),ho=Qr(fr),fo=en(cr),po=en(lr),mo=tn(hr),go=tn(fr);function vo(e){return pr(e,xo(e))}var yo=yt?function(e){var t=null==e?i:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&wn(e)?Tn(e):Yi(e)?yt(e):[]}:Tn;function xo(e){if(null==e)return[];Yi(e)||(e=Me(e));var t=e.length;t=t&&Sn(t)&&(zi(e)||qi(e))&&t||0;for(var n=e.constructor,i=-1,o="function"==typeof n&&n.prototype===e,s=r(t),a=t>0;++i<t;)s[i]=i+"";for(var u in e)a&&bn(u,t)||"constructor"==u&&(o||!Te.call(e,u))||s.push(u);return s}var wo=rn(!0),bo=rn(),Co=Hi(function(e,t){if(null==e)return{};if("function"!=typeof t[0])return t=Ht(ur(t),Ee),kn(e,rr(xo(e),t));var r=Br(t[0],t[1],3);return An(e,function(e,t,n){return!r(e,t,n)})});function _o(e){e=Fn(e);for(var t=-1,n=yo(e),i=n.length,o=r(i);++t<i;){var s=n[t];o[t]=[s,e[s]]}return o}var Mo=Hi(function(e,t){return null==e?{}:"function"==typeof t[0]?An(e,Br(t[0],t[1],3)):kn(e,ur(t))});function So(e){return Rr(e,yo(e))}var Eo=Ur(function(e,t,r){return t=t.toLowerCase(),e+(r?t.charAt(0).toUpperCase()+t.slice(1):t)});function ko(e){return(e=De(e))&&e.replace(pe,$e).replace(ae,"")}var Ao=Ur(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()});var Po=nn(),Ro=nn(!0);function No(e,t){var r="";if(e=De(e),(t=+t)<1||!e||!vt(t))return r;do{t%2&&(r+=e),t=mt(t/2),e+=e}while(t);return r}var To=Ur(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),Lo=Ur(function(e,t,r){return e+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))});function Fo(e,t,r){var n=e;return(e=De(e))?(r?Cn(n,t,r):null==t)?e.slice(Ye(e),Qe(e)+1):(t+="",e.slice(je(e,t),Ve(e,t)+1)):e}function Bo(e,t,r){return r&&Cn(e,t,r)&&(t=i),(e=De(e)).match(t||ve)||[]}var Oo=Hi(function(e,t){try{return e.apply(i,t)}catch(e){return Ji(e)?e:new o(e)}});function Io(e,t,r){return r&&Cn(e,t,r)&&(t=i),Ke(e)?jo(e):Zt(e,t)}function Do(e){return e}function jo(e){return xr(Xt(e,!0))}var Vo=Hi(function(e,t){return function(r){return xn(r,e,t)}}),Wo=Hi(function(e,t){return function(r){return xn(e,r,t)}});function $o(e,t,r){if(null==r){var n=Yi(t),o=n?yo(t):i,s=o&&o.length?pr(t,o):i;(s?s.length:n)||(s=!1,r=t,t=e,e=this)}s||(s=pr(t,yo(t)));var a=!0,u=-1,c=Gi(e),l=s.length;!1===r?a=!1:Yi(r)&&"chain"in r&&(a=r.chain);for(;++u<l;){var d=s[u],h=t[d];e[d]=h,c&&(e.prototype[d]=function(t){return function(){var r=this.__chain__;if(a||r){var n=e(this.__wrapped__);return(n.__actions__=jt(this.__actions__)).push({func:t,args:arguments,thisArg:e}),n.__chain__=r,n}return t.apply(e,Ut([this.value()],arguments))}}(h))}return e}function Ho(){}function Uo(e){return _n(e)?br(e):function(e){var t=e+"";return e=Bn(e),function(r){return mr(r,e,t)}}(e)}var qo,zo=cn("ceil"),Ko=cn("floor"),Jo=Jr(Ui,Mt),Go=Jr(no,St),Yo=cn("round");return Tt.prototype=Lt.prototype,Ft.prototype=er(Lt.prototype),Ft.prototype.constructor=Ft,Bt.prototype=er(Lt.prototype),Bt.prototype.constructor=Bt,Ot.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ot.prototype.get=function(e){return"__proto__"==e?i:this.__data__[e]},Ot.prototype.has=function(e){return"__proto__"!=e&&Te.call(this.__data__,e)},Ot.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},It.prototype.push=function(e){var t=this.data;"string"==typeof e||Yi(e)?t.set.add(e):t.hash[e]=!0},Di.Cache=Ot,Tt.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new ke(M);var r=e;e=t,t=r}return e=vt(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}},Tt.ary=function(e,t,r){return r&&Cn(e,t,r)&&(t=i),t=e&&null==t?e.length:xt(+t||0,0),dn(e,m,i,i,i,i,t)},Tt.assign=ao,Tt.at=ai,Tt.before=ki,Tt.bind=Ai,Tt.bindAll=Pi,Tt.bindKey=Ri,Tt.callback=Io,Tt.chain=ii,Tt.chunk=function(e,t,n){t=(n?Cn(e,t,n):null==t)?1:xt(mt(t)||1,1);for(var i=0,o=e?e.length:0,s=-1,a=r(ft(o/t));i<o;)a[++s]=Sr(e,i,i+=t);return a},Tt.compact=function(e){for(var t=-1,r=e?e.length:0,n=-1,i=[];++t<r;){var o=e[t];o&&(i[++n]=o)}return i},Tt.constant=function(e){return function(){return e}},Tt.countBy=ui,Tt.create=function(e,t,r){var n=er(e);return r&&Cn(e,t,r)&&(t=i),t?Gt(n,t):n},Tt.curry=Ni,Tt.curryRight=Ti,Tt.debounce=Li,Tt.defaults=uo,Tt.defaultsDeep=co,Tt.defer=Fi,Tt.delay=Bi,Tt.difference=In,Tt.drop=Dn,Tt.dropRight=jn,Tt.dropRightWhile=function(e,t,r){return e&&e.length?Nr(e,hn(t,r,3),!0,!0):[]},Tt.dropWhile=function(e,t,r){return e&&e.length?Nr(e,hn(t,r,3),!0):[]},Tt.fill=function(e,t,r,n){var o=e?e.length:0;return o?(r&&"number"!=typeof r&&Cn(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=null==r?0:+r||0)<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:+n||0)<0&&(n+=o),o=r>n?0:n>>>0,r>>>=0;r<o;)e[r++]=t;return e}(e,t,r,n)):[]},Tt.filter=li,Tt.flatten=function(e,t,r){var n=e?e.length:0;return r&&Cn(e,t,r)&&(t=!1),n?ur(e,t):[]},Tt.flattenDeep=function(e){return e&&e.length?ur(e,!0):[]},Tt.flow=Oi,Tt.flowRight=Ii,Tt.forEach=fi,Tt.forEachRight=pi,Tt.forIn=fo,Tt.forInRight=po,Tt.forOwn=mo,Tt.forOwnRight=go,Tt.functions=vo,Tt.groupBy=mi,Tt.indexBy=vi,Tt.initial=function(e){return jn(e,1)},Tt.intersection=Un,Tt.invert=function(e,t,r){r&&Cn(e,t,r)&&(t=i);for(var n=-1,o=yo(e),s=o.length,a={};++n<s;){var u=o[n],c=e[u];t?Te.call(a,c)?a[c].push(u):a[c]=[u]:a[c]=u}return a},Tt.invoke=yi,Tt.keys=yo,Tt.keysIn=xo,Tt.map=xi,Tt.mapKeys=wo,Tt.mapValues=bo,Tt.matches=jo,Tt.matchesProperty=function(e,t){return wr(e,Xt(t,!0))},Tt.memoize=Di,Tt.merge=so,Tt.method=Vo,Tt.methodOf=Wo,Tt.mixin=$o,Tt.modArgs=ji,Tt.negate=function(e){if("function"!=typeof e)throw new ke(M);return function(){return!e.apply(this,arguments)}},Tt.omit=Co,Tt.once=function(e){return ki(2,e)},Tt.pairs=_o,Tt.partial=Vi,Tt.partialRight=Wi,Tt.partition=wi,Tt.pick=Mo,Tt.pluck=function(e,t){return xi(e,Uo(t))},Tt.property=Uo,Tt.propertyOf=function(e){return function(t){return mr(e,Bn(t),t+"")}},Tt.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var r=0,n=mn(),i=e.length;++r<i;)for(var o=0,s=e[r];(o=n(t,s,o))>-1;)lt.call(t,o,1);return t},Tt.pullAt=zn,Tt.range=function(e,t,n){n&&Cn(e,t,n)&&(t=n=i),e=+e||0,null==t?(t=e,e=0):t=+t||0;for(var o=-1,s=xt(ft((t-e)/((n=null==n?1:+n||0)||1)),0),a=r(s);++o<s;)a[o]=e,e+=n;return a},Tt.rearg=$i,Tt.reject=function(e,t,r){var n=zi(e)?$t:sr;return t=hn(t,r,3),n(e,function(e,r,n){return!t(e,r,n)})},Tt.remove=function(e,t,r){var n=[];if(!e||!e.length)return n;var i=-1,o=[],s=e.length;for(t=hn(t,r,3);++i<s;){var a=e[i];t(a,i,e)&&(n.push(a),o.push(i))}return Cr(e,o),n},Tt.rest=Kn,Tt.restParam=Hi,Tt.set=function(e,t,r){if(null==e)return e;for(var n=t+"",i=-1,o=(t=null!=e[n]||_n(t,e)?[n]:Bn(t)).length,s=o-1,a=e;null!=a&&++i<o;){var u=t[i];Yi(a)&&(i==s?a[u]=r:null==a[u]&&(a[u]=bn(t[i+1])?[]:{})),a=a[u]}return e},Tt.shuffle=function(e){return _i(e,St)},Tt.slice=function(e,t,r){var n=e?e.length:0;return n?(r&&"number"!=typeof r&&Cn(e,t,r)&&(t=0,r=n),Sr(e,t,r)):[]},Tt.sortBy=function(e,t,r){if(null==e)return[];r&&Cn(e,t,r)&&(t=i);var n=-1;return t=hn(t,r,3),kr(yr(e,function(e,r,i){return{criteria:t(e,r,i),index:++n,value:e}}),We)},Tt.sortByAll=Si,Tt.sortByOrder=function(e,t,r,n){return null==e?[]:(n&&Cn(t,r,n)&&(r=i),zi(t)||(t=null==t?[]:[t]),zi(r)||(r=null==r?[]:[r]),Ar(e,t,r))},Tt.spread=function(e){if("function"!=typeof e)throw new ke(M);return function(t){return e.apply(this,t)}},Tt.take=function(e,t,r){return e&&e.length?((r?Cn(e,t,r):null==t)&&(t=1),Sr(e,0,t<0?0:t)):[]},Tt.takeRight=function(e,t,r){var n=e?e.length:0;return n?((r?Cn(e,t,r):null==t)&&(t=1),Sr(e,(t=n-(+t||0))<0?0:t)):[]},Tt.takeRightWhile=function(e,t,r){return e&&e.length?Nr(e,hn(t,r,3),!1,!0):[]},Tt.takeWhile=function(e,t,r){return e&&e.length?Nr(e,hn(t,r,3)):[]},Tt.tap=function(e,t,r){return t.call(r,e),e},Tt.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new ke(M);return!1===r?n=!1:Yi(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Li(e,t,{leading:n,maxWait:+t,trailing:i})},Tt.thru=oi,Tt.times=function(e,t,n){if((e=mt(e))<1||!vt(e))return[];var i=-1,o=r(wt(e,Et));for(t=Br(t,n,1);++i<e;)i<Et?o[i]=t(i):t(i);return o},Tt.toArray=io,Tt.toPlainObject=oo,Tt.transform=function(e,t,r,n){var o=zi(e)||ro(e);if(t=hn(t,n,4),null==r)if(o||Yi(e)){var s=e.constructor;r=o?zi(e)?new s:[]:er(Gi(s)?s.prototype:i)}else r={};return(o?Vt:hr)(e,function(e,n,i){return t(r,e,n,i)}),r},Tt.union=Yn,Tt.uniq=Qn,Tt.unzip=Zn,Tt.unzipWith=Xn,Tt.values=So,Tt.valuesIn=function(e){return Rr(e,xo(e))},Tt.where=function(e,t){return li(e,xr(t))},Tt.without=ei,Tt.wrap=function(e,t){return dn(t=null==t?Do:t,f,i,[e],[])},Tt.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var r=arguments[e];if(wn(r))var n=n?Ut(rr(n,r),rr(r,n)):r}return n?Pr(n):[]},Tt.zip=ti,Tt.zipObject=ri,Tt.zipWith=ni,Tt.backflow=Ii,Tt.collect=xi,Tt.compose=Ii,Tt.each=fi,Tt.eachRight=pi,Tt.extend=ao,Tt.iteratee=Io,Tt.methods=vo,Tt.object=ri,Tt.select=li,Tt.tail=Kn,Tt.unique=Qn,$o(Tt,Tt),Tt.add=function(e,t){return(+e||0)+(+t||0)},Tt.attempt=Oo,Tt.camelCase=Eo,Tt.capitalize=function(e){return(e=De(e))&&e.charAt(0).toUpperCase()+e.slice(1)},Tt.ceil=zo,Tt.clone=function(e,t,r,n){return t&&"boolean"!=typeof t&&Cn(e,t,r)?t=!1:"function"==typeof t&&(n=r,r=t,t=!1),"function"==typeof r?Xt(e,t,Br(r,n,1)):Xt(e,t)},Tt.cloneDeep=function(e,t,r){return"function"==typeof t?Xt(e,!0,Br(t,r,1)):Xt(e,!0)},Tt.deburr=ko,Tt.endsWith=function(e,t,r){t+="";var n=(e=De(e)).length;return r=r===i?n:wt(r<0?0:+r||0,n),(r-=t.length)>=0&&e.indexOf(t,r)==r},Tt.escape=function(e){return(e=De(e))&&Z.test(e)?e.replace(Y,He):e},Tt.escapeRegExp=function(e){return(e=De(e))&&se.test(e)?e.replace(oe,Ue):e||"(?:)"},Tt.every=ci,Tt.find=di,Tt.findIndex=Vn,Tt.findKey=lo,Tt.findLast=hi,Tt.findLastIndex=Wn,Tt.findLastKey=ho,Tt.findWhere=function(e,t){return di(e,xr(t))},Tt.first=$n,Tt.floor=Ko,Tt.get=function(e,t,r){var n=null==e?i:mr(e,Bn(t),t+"");return n===i?r:n},Tt.gt=Ui,Tt.gte=function(e,t){return e>=t},Tt.has=function(e,t){if(null==e)return!1;var r=Te.call(e,t);if(!r&&!_n(t)){if(null==(e=1==(t=Bn(t)).length?e:mr(e,Sr(t,0,-1))))return!1;t=qn(t),r=Te.call(e,t)}return r||Sn(e.length)&&bn(t,e.length)&&(zi(e)||qi(e))},Tt.identity=Do,Tt.includes=gi,Tt.indexOf=Hn,Tt.inRange=function(e,t,r){return t=+t||0,r===i?(r=t,t=0):r=+r||0,e>=wt(t,r)&&e<xt(t,r)},Tt.isArguments=qi,Tt.isArray=zi,Tt.isBoolean=function(e){return!0===e||!1===e||Ke(e)&&et.call(e)==A},Tt.isDate=function(e){return Ke(e)&&et.call(e)==P},Tt.isElement=function(e){return!!e&&1===e.nodeType&&Ke(e)&&!Xi(e)},Tt.isEmpty=function(e){return null==e||(wn(e)&&(zi(e)||to(e)||qi(e)||Ke(e)&&Gi(e.splice))?!e.length:!yo(e).length)},Tt.isEqual=Ki,Tt.isError=Ji,Tt.isFinite=function(e){return"number"==typeof e&&vt(e)},Tt.isFunction=Gi,Tt.isMatch=function(e,t,r,n){return r="function"==typeof r?Br(r,n,3):i,vr(e,vn(t),r)},Tt.isNaN=function(e){return Zi(e)&&e!=+e},Tt.isNative=Qi,Tt.isNull=function(e){return null===e},Tt.isNumber=Zi,Tt.isObject=Yi,Tt.isPlainObject=Xi,Tt.isRegExp=eo,Tt.isString=to,Tt.isTypedArray=ro,Tt.isUndefined=function(e){return e===i},Tt.kebabCase=Ao,Tt.last=qn,Tt.lastIndexOf=function(e,t,r){var n=e?e.length:0;if(!n)return-1;var i=n;if("number"==typeof r)i=(r<0?xt(n+r,0):wt(r||0,n-1))+1;else if(r){var o=e[i=Lr(e,t,!0)-1];return(t==t?t===o:o!=o)?i:-1}if(t!=t)return ze(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1},Tt.lt=no,Tt.lte=function(e,t){return e<=t},Tt.max=Jo,Tt.min=Go,Tt.noConflict=function(){return Le._=tt,this},Tt.noop=Ho,Tt.now=Ei,Tt.pad=function(e,t,r){t=+t;var n=(e=De(e)).length;if(n>=t||!vt(t))return e;var i=(t-n)/2,o=mt(i);return(r=un("",ft(i),r)).slice(0,o)+e+r},Tt.padLeft=Po,Tt.padRight=Ro,Tt.parseInt=function(e,t,r){return(r?Cn(e,t,r):null==t)?t=0:t&&(t=+t),e=Fo(e),Ct(e,t||(de.test(e)?16:10))},Tt.random=function(e,t,r){r&&Cn(e,t,r)&&(t=r=i);var n=null==e,o=null==t;if(null==r&&(o&&"boolean"==typeof e?(r=e,e=1):"boolean"==typeof t&&(r=t,o=!0)),n&&o&&(t=1,o=!1),e=+e||0,o?(t=e,e=0):t=+t||0,r||e%1||t%1){var s=_t();return wt(e+s*(t-e+ot("1e-"+((s+"").length-1))),t)}return _r(e,t)},Tt.reduce=bi,Tt.reduceRight=Ci,Tt.repeat=No,Tt.result=function(e,t,r){var n=null==e?i:e[t];return n===i&&(null==e||_n(t,e)||(n=null==(e=1==(t=Bn(t)).length?e:mr(e,Sr(t,0,-1)))?i:e[qn(t)]),n=n===i?r:n),Gi(n)?n.call(e):n},Tt.round=Yo,Tt.runInContext=e,Tt.size=function(e){var t=e?gn(e):0;return Sn(t)?t:yo(e).length},Tt.snakeCase=To,Tt.some=Mi,Tt.sortedIndex=Jn,Tt.sortedLastIndex=Gn,Tt.startCase=Lo,Tt.startsWith=function(e,t,r){return e=De(e),r=null==r?0:wt(r<0?0:+r||0,e.length),e.lastIndexOf(t,r)==r},Tt.sum=function(e,t,r){return r&&Cn(e,t,r)&&(t=i),1==(t=hn(t,r,3)).length?function(e,t){for(var r=e.length,n=0;r--;)n+=+t(e[r])||0;return n}(zi(e)?e:Ln(e),t):function(e,t){var r=0;return nr(e,function(e,n,i){r+=+t(e,n,i)||0}),r}(e,t)},Tt.template=function(e,t,r){var n=Tt.templateSettings;r&&Cn(e,t,r)&&(t=r=i),e=De(e),t=Jt(Gt({},r||t),n,Kt);var o,a,u=Jt(Gt({},t.imports),n.imports,Kt),c=yo(u),l=Rr(u,c),d=0,h=t.interpolate||me,f="__p += '",p=Se((t.escape||me).source+"|"+h.source+"|"+(h===te?ce:me).source+"|"+(t.evaluate||me).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++xe+"]")+"\n";e.replace(p,function(t,r,n,i,s,u){return n||(n=i),f+=e.slice(d,u).replace(ge,qe),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),d=u+t.length,t}),f+="';\n";var g=t.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(z,""):f).replace(K,"$1").replace(J,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Oo(function(){return s(c,m+"return "+f).apply(i,l)});if(v.source=f,Ji(v))throw v;return v},Tt.trim=Fo,Tt.trimLeft=function(e,t,r){var n=e;return(e=De(e))?(r?Cn(n,t,r):null==t)?e.slice(Ye(e)):e.slice(je(e,t+"")):e},Tt.trimRight=function(e,t,r){var n=e;return(e=De(e))?(r?Cn(n,t,r):null==t)?e.slice(0,Qe(e)+1):e.slice(0,Ve(e,t+"")+1):e},Tt.trunc=function(e,t,r){r&&Cn(e,t,r)&&(t=i);var n=v,o=y;if(null!=t)if(Yi(t)){var s="separator"in t?t.separator:s;n="length"in t?+t.length||0:n,o="omission"in t?De(t.omission):o}else n=+t||0;if(n>=(e=De(e)).length)return e;var a=n-o.length;if(a<1)return o;var u=e.slice(0,a);if(null==s)return u+o;if(eo(s)){if(e.slice(a).search(s)){var c,l,d=e.slice(0,a);for(s.global||(s=Se(s.source,(le.exec(s)||"")+"g")),s.lastIndex=0;c=s.exec(d);)l=c.index;u=u.slice(0,null==l?a:l)}}else if(e.indexOf(s,a)!=a){var h=u.lastIndexOf(s);h>-1&&(u=u.slice(0,h))}return u+o},Tt.unescape=function(e){return(e=De(e))&&Q.test(e)?e.replace(G,Ze):e},Tt.uniqueId=function(e){var t=++Je;return De(e)+t},Tt.words=Bo,Tt.all=ci,Tt.any=Mi,Tt.contains=gi,Tt.eq=Ki,Tt.detect=di,Tt.foldl=bi,Tt.foldr=Ci,Tt.head=$n,Tt.include=gi,Tt.inject=bi,$o(Tt,(qo={},hr(Tt,function(e,t){Tt.prototype[t]||(qo[t]=e)}),qo),!1),Tt.sample=_i,Tt.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return _i(t,e)}):_i(this.value())},Tt.VERSION=a,Vt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Tt[e].placeholder=Tt}),Vt(["drop","take"],function(e,t){Bt.prototype[e]=function(r){var n=this.__filtered__;if(n&&!t)return new Bt(this);r=null==r?1:xt(mt(r)||0,0);var i=this.clone();return n?i.__takeCount__=wt(i.__takeCount__,r):i.__views__.push({size:r,type:e+(i.__dir__<0?"Right":"")}),i},Bt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Vt(["filter","map","takeWhile"],function(e,t){var r=t+1,n=r!=_;Bt.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:hn(e,t,1),type:r}),i.__filtered__=i.__filtered__||n,i}}),Vt(["first","last"],function(e,t){var r="take"+(t?"Right":"");Bt.prototype[e]=function(){return this[r](1).value()[0]}}),Vt(["initial","rest"],function(e,t){var r="drop"+(t?"":"Right");Bt.prototype[e]=function(){return this.__filtered__?new Bt(this):this[r](1)}}),Vt(["pluck","where"],function(e,t){var r=t?"filter":"map",n=t?xr:Uo;Bt.prototype[e]=function(e){return this[r](n(e))}}),Bt.prototype.compact=function(){return this.filter(Do)},Bt.prototype.reject=function(e,t){return e=hn(e,t,1),this.filter(function(t){return!e(t)})},Bt.prototype.slice=function(e,t){e=null==e?0:+e||0;var r=this;return r.__filtered__&&(e>0||t<0)?new Bt(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=+t||0)<0?r.dropRight(-t):r.take(t-e)),r)},Bt.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Bt.prototype.toArray=function(){return this.take(St)},hr(Bt.prototype,function(e,t){var r=/^(?:filter|map|reject)|While$/.test(t),n=/^(?:first|last)$/.test(t),o=Tt[n?"take"+("last"==t?"Right":""):t];o&&(Tt.prototype[t]=function(){var t=n?[1]:arguments,s=this.__chain__,a=this.__wrapped__,u=!!this.__actions__.length,c=a instanceof Bt,l=t[0],d=c||zi(a);d&&r&&"function"==typeof l&&1!=l.length&&(c=d=!1);var h=function(e){return n&&s?o(e,1)[0]:o.apply(i,Ut([e],t))},f={func:oi,args:[h],thisArg:i},p=c&&!u;if(n&&!s)return p?((a=a.clone()).__actions__.push(f),e.call(a)):o.call(i,this.value())[0];if(!n&&d){a=p?a:new Bt(this);var m=e.apply(a,t);return m.__actions__.push(f),new Ft(m,s)}return this.thru(h)})}),Vt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Re:Ae)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:join|pop|replace|shift)$/.test(e);Tt.prototype[e]=function(){var e=arguments;return n&&!this.__chain__?t.apply(this.value(),e):this[r](function(r){return t.apply(r,e)})}}),hr(Bt.prototype,function(e,t){var r=Tt[t];if(r){var n=r.name;(Nt[n]||(Nt[n]=[])).push({name:t,func:r})}}),Nt[an(i,c).name]=[{name:"wrapper",func:i}],Bt.prototype.clone=function(){var e=new Bt(this.__wrapped__);return e.__actions__=jt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=jt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=jt(this.__views__),e},Bt.prototype.reverse=function(){if(this.__filtered__){var e=new Bt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Bt.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=zi(e),n=t<0,i=r?e.length:0,o=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=wt(t,e+s);break;case"takeRight":e=xt(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=n?a:s-1,l=this.__iteratees__,d=l.length,h=0,f=wt(u,this.__takeCount__);if(!r||i<b||i==u&&f==u)return Tr(n&&r?e.reverse():e,this.__actions__);var p=[];e:for(;u--&&h<f;){for(var m=-1,g=e[c+=t];++m<d;){var v=l[m],y=v.iteratee,x=v.type,w=y(g);if(x==_)g=w;else if(!w){if(x==C)continue e;break e}}p[h++]=g}return p},Tt.prototype.chain=function(){return ii(this)},Tt.prototype.commit=function(){return new Ft(this.value(),this.__chain__)},Tt.prototype.concat=si,Tt.prototype.plant=function(e){for(var t,r=this;r instanceof Lt;){var n=On(r);t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Tt.prototype.reverse=function(){var e=this.__wrapped__,t=function(e){return r&&r.__dir__<0?e:e.reverse()};if(e instanceof Bt){var r=e;return this.__actions__.length&&(r=new Bt(this)),(r=r.reverse()).__actions__.push({func:oi,args:[t],thisArg:i}),new Ft(r,this.__chain__)}return this.thru(t)},Tt.prototype.toString=function(){return this.value()+""},Tt.prototype.run=Tt.prototype.toJSON=Tt.prototype.valueOf=Tt.prototype.value=function(){return Tr(this.__wrapped__,this.__actions__)},Tt.prototype.collect=Tt.prototype.map,Tt.prototype.head=Tt.prototype.first,Tt.prototype.select=Tt.prototype.filter,Tt.prototype.tail=Tt.prototype.rest,Tt}();Le._=Xe,(n=function(){return Xe}.call(t,r,t,e))===i||(e.exports=n)}).call(this)}).call(this,r(35)(e))},function(e,t){var r=e.exports=function(e){return new n(e)};function n(e){this.value=e}function i(e,t,r){var n=[],i=[],a=!0;return function e(d){var h=r?o(d):d,f={},p=!0,m={node:h,node_:d,path:[].concat(n),parent:i[i.length-1],parents:i,key:n.slice(-1)[0],isRoot:0===n.length,level:n.length,circular:null,update:function(e,t){m.isRoot||(m.parent.node[m.key]=e),m.node=e,t&&(p=!1)},delete:function(e){delete m.parent.node[m.key],e&&(p=!1)},remove:function(e){u(m.parent.node)?m.parent.node.splice(m.key,1):delete m.parent.node[m.key],e&&(p=!1)},keys:null,before:function(e){f.before=e},after:function(e){f.after=e},pre:function(e){f.pre=e},post:function(e){f.post=e},stop:function(){a=!1},block:function(){p=!1}};if(!a)return m;function g(){if("object"==typeof m.node&&null!==m.node){m.keys&&m.node_===m.node||(m.keys=s(m.node)),m.isLeaf=0==m.keys.length;for(var e=0;e<i.length;e++)if(i[e].node_===d){m.circular=i[e];break}}else m.isLeaf=!0,m.keys=null;m.notLeaf=!m.isLeaf,m.notRoot=!m.isRoot}g();var v=t.call(m,m.node);return void 0!==v&&m.update&&m.update(v),f.before&&f.before.call(m,m.node),p?("object"!=typeof m.node||null===m.node||m.circular||(i.push(m),g(),c(m.keys,function(t,i){n.push(t),f.pre&&f.pre.call(m,m.node[t],t);var o=e(m.node[t]);r&&l.call(m.node,t)&&(m.node[t]=o.node),o.isLast=i==m.keys.length-1,o.isFirst=0==i,f.post&&f.post.call(m,o),n.pop()}),i.pop()),f.after&&f.after.call(m,m.node),m):m}(e).node}function o(e){if("object"==typeof e&&null!==e){var t;if(u(e))t=[];else if("[object Date]"===a(e))t=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===a(e)}(e))t=new RegExp(e);else if(function(e){return"[object Error]"===a(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===a(e)}(e))t=new Boolean(e);else if(function(e){return"[object Number]"===a(e)}(e))t=new Number(e);else if(function(e){return"[object String]"===a(e)}(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var r=e.constructor&&e.constructor.prototype||e.__proto__||{},n=function(){};n.prototype=r,t=new n}return c(s(e),function(r){t[r]=e[r]}),t}return e}n.prototype.get=function(e){for(var t=this.value,r=0;r<e.length;r++){var n=e[r];if(!t||!l.call(t,n)){t=void 0;break}t=t[n]}return t},n.prototype.has=function(e){for(var t=this.value,r=0;r<e.length;r++){var n=e[r];if(!t||!l.call(t,n))return!1;t=t[n]}return!0},n.prototype.set=function(e,t){for(var r=this.value,n=0;n<e.length-1;n++){var i=e[n];l.call(r,i)||(r[i]={}),r=r[i]}return r[e[n]]=t,t},n.prototype.map=function(e){return i(this.value,e,!0)},n.prototype.forEach=function(e){return this.value=i(this.value,e,!1),this.value},n.prototype.reduce=function(e,t){var r=1===arguments.length,n=r?this.value:t;return this.forEach(function(t){this.isRoot&&r||(n=e.call(this,n,t))}),n},n.prototype.paths=function(){var e=[];return this.forEach(function(t){e.push(this.path)}),e},n.prototype.nodes=function(){var e=[];return this.forEach(function(t){e.push(this.node)}),e},n.prototype.clone=function(){var e=[],t=[];return function r(n){for(var i=0;i<e.length;i++)if(e[i]===n)return t[i];if("object"==typeof n&&null!==n){var a=o(n);return e.push(n),t.push(a),c(s(n),function(e){a[e]=r(n[e])}),e.pop(),t.pop(),a}return n}(this.value)};var s=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function a(e){return Object.prototype.toString.call(e)}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)};c(s(n.prototype),function(e){r[e]=function(t){var r=[].slice.call(arguments,1),i=new n(t);return i[e].apply(i,r)}});var l=Object.hasOwnProperty||function(e,t){return t in e}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(3),o=r(8),s=r(1),a=r(36),u=r(13),c=r(33),l=r(34);t.InputMethodSwitcher=class{constructor(e=a.executeShell){this.savedIMKey="",this.execute=e}switchInputMethod(e,t){return n(this,void 0,void 0,function*(){if(!0!==s.configuration.autoSwitchInputMethod.enable)return;if(!this.isConfigurationValid())return void this.disableIMSwitch();let r=this.isInsertLikeMode(e),n=this.isInsertLikeMode(t);r!==n&&(n?this.resumeIM():this.switchToDefaultIM())})}switchToDefaultIM(){return n(this,void 0,void 0,function*(){const e=s.configuration.autoSwitchInputMethod.obtainIMCmd,t=this.getRawCmd(e);if(o.existsSync(t)||l.Globals.isTesting)try{const t=yield this.execute(e);void 0!==t&&(this.savedIMKey=t.trim())}catch(e){u.logger.error(`IMSwitcher: promise is rejected. err=${e}`)}else this.showCmdNotFoundErrorMessage(t,"vim.autoSwitchInputMethod.obtainIMCmd");const r=s.configuration.autoSwitchInputMethod.defaultIM;r!==this.savedIMKey&&this.switchToIM(r)})}resumeIM(){return n(this,void 0,void 0,function*(){this.savedIMKey!==s.configuration.autoSwitchInputMethod.defaultIM&&this.switchToIM(this.savedIMKey)})}switchToIM(e){return n(this,void 0,void 0,function*(){let t=s.configuration.autoSwitchInputMethod.switchIMCmd;const r=this.getRawCmd(t);if(o.existsSync(r)||l.Globals.isTesting){if(""!==e&&void 0!==e){t=t.replace("{im}",e);try{yield this.execute(t)}catch(e){u.logger.error(`IMSwitcher: promise is rejected. err=${e}`)}}}else this.showCmdNotFoundErrorMessage(r,"vim.autoSwitchInputMethod.switchIMCmd")})}isInsertLikeMode(e){return new Set([i.ModeName.Insert,i.ModeName.Replace,i.ModeName.SurroundInputMode]).has(e)}getRawCmd(e){return e.split(" ")[0]}showCmdNotFoundErrorMessage(e,t){c.Message.ShowError(`Unable to find ${e}. check your ${t} in VSCode setting.`),this.disableIMSwitch()}disableIMSwitch(){s.configuration.autoSwitchInputMethod.enable=!1}isConfigurationValid(){if(!s.configuration.autoSwitchInputMethod.switchIMCmd.includes("{im}"))return c.Message.ShowError("vim.autoSwitchInputMethod.switchIMCmd is incorrect,         it should contain the placeholder {im}"),!1;let e=s.configuration.autoSwitchInputMethod.obtainIMCmd;if(void 0===e||""===e)return c.Message.ShowError("vim.autoSwitchInputMethod.obtainIMCmd is empty, please set it correctly!"),!1;let t=s.configuration.autoSwitchInputMethod.defaultIM;return void 0!==t&&""!==t||(c.Message.ShowError("vim.autoSwitchInputMethod.defaultIM is empty, please set it correctly!"),!1)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(3),o={};o[i.ModeName.Normal]={"<left>":"<","<right>":">"},o[i.ModeName.Visual]=o[i.ModeName.Normal],o[i.ModeName.Insert]={"<left>":"[","<right>":"]"};t.shouldWrapKey=((e,t)=>{const r=((e,t)=>(o[e]||{})[t]||t)(e.currentMode,t[0]);return!!n.configuration.wrapKeys[r]})},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(5),s=r(14),a=(e,t,r)=>{return e.getText().split("\n").map((e,n)=>({sortPriority:(e=>{let n=r?t-e:e-t;return n<0&&(n=t+Math.abs(n)),n})(n),text:e.replace(/^[ \t]*/,"")})).sort((e,t)=>e.sortPriority>t.sortPriority?1:-1)},u=(e,t,r)=>{const n=[];for(const o of(e=>i.workspace.textDocuments.sort((t,r)=>t.fileName===e?-1:r.fileName===e?1:0))(t)){let i=0,s=!1;o.fileName===t&&(i=r.line,s=!0);for(const t of a(o,i,s))-1===n.indexOf(t.text)&&t.text&&t.text.startsWith(e)&&t.text!==e&&n.push(t.text)}return n};t.getCompletionsForCurrentLine=((e,t)=>{const r=o.TextEditor.getText(new i.Range(e.getFirstLineNonBlankChar(),e));return u(r,t.fileName,e)}),t.lineCompletionProvider={showLineCompletionsQuickPick:(e,r)=>n(this,void 0,void 0,function*(){const n=t.getCompletionsForCurrentLine(e,r.editor.document);if(!n)return r;const o=yield i.window.showQuickPick(n);return o?(r.recordedState.transformations.push({type:"deleteRange",range:new s.Range(e.getFirstLineNonBlankChar(),e.getLineEnd())}),r.recordedState.transformations.push({type:"insertTextVSCode",text:o}),r):r})}},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(12),o=r(120);let s=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"/"},new o.SearchByNCharCommand)}};s=n([i.RegisterAction],s);let a=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"2s"},new o.SearchByCharCommand({charCount:2}))}};a=n([i.RegisterAction],a);let u=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"2f"},new o.SearchByCharCommand({charCount:2,searchOptions:"min"}))}};u=n([i.RegisterAction],u);let c=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"2F"},new o.SearchByCharCommand({charCount:2,searchOptions:"max"}))}};c=n([i.RegisterAction],c);let l=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"2t"},new o.SearchByCharCommand({charCount:2,searchOptions:"min",labelPosition:"before"}))}};l=n([i.RegisterAction],l);let d=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"bd2t",leaderCount:3},new o.SearchByCharCommand({charCount:2,labelPosition:"before"}))}};d=n([i.RegisterAction],d);let h=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"2T"},new o.SearchByCharCommand({charCount:2,searchOptions:"max",labelPosition:"after"}))}};h=n([i.RegisterAction],h);let f=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"s"},new o.SearchByCharCommand({charCount:1}))}};f=n([i.RegisterAction],f);let p=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"f"},new o.SearchByCharCommand({charCount:1,searchOptions:"min"}))}};p=n([i.RegisterAction],p);let m=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"F"},new o.SearchByCharCommand({charCount:1,searchOptions:"max"}))}};m=n([i.RegisterAction],m);let g=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"t"},new o.SearchByCharCommand({charCount:1,searchOptions:"min",labelPosition:"before"}))}};g=n([i.RegisterAction],g);let v=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"bdt",leaderCount:3},new o.SearchByCharCommand({charCount:1,labelPosition:"before"}))}};v=n([i.RegisterAction],v);let y=class extends o.EasyMotionCharMoveCommandBase{constructor(){super({key:"T"},new o.SearchByCharCommand({charCount:1,searchOptions:"max",labelPosition:"after"}))}};y=n([i.RegisterAction],y);let x=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"w"},{searchOptions:"min"})}};x=n([i.RegisterAction],x);let w=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"bdw",leaderCount:3})}};w=n([i.RegisterAction],w);let b=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"l"},{jumpToAnywhere:!0,searchOptions:"min",labelPosition:"after"})}};b=n([i.RegisterAction],b);let C=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"h"},{jumpToAnywhere:!0,searchOptions:"max",labelPosition:"after"})}};C=n([i.RegisterAction],C);let _=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"j",leaderCount:3},{jumpToAnywhere:!0,labelPosition:"after"})}};_=n([i.RegisterAction],_);let M=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"e"},{searchOptions:"min",labelPosition:"after"})}};M=n([i.RegisterAction],M);let S=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"bde",leaderCount:3},{labelPosition:"after"})}};S=n([i.RegisterAction],S);let E=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"b"},{searchOptions:"max"})}};E=n([i.RegisterAction],E);let k=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({key:"ge"},{searchOptions:"max",labelPosition:"after"})}};k=n([i.RegisterAction],k);let A=class extends o.EasyMotionLineMoveCommandBase{constructor(){super({key:"j"},{searchOptions:"min"})}};A=n([i.RegisterAction],A);let P=class extends o.EasyMotionLineMoveCommandBase{constructor(){super({key:"k"},{searchOptions:"max"})}};P=n([i.RegisterAction],P);let R=class extends o.EasyMotionLineMoveCommandBase{constructor(){super({key:"bdjk",leaderCount:3})}};R=n([i.RegisterAction],R)},function(e,t,r){"use strict";var n,i,o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=r(0),u=r(68),c=r(1),l=r(12),d=r(2),h=r(24);let f=n=class extends h.BaseMovement{constructor(){super(...arguments),this.keys=[["s","<character>","<character>"],["z","<character>","<character>"]]}couldActionApply(e,t){const r=void 0===e.recordedState.operator?"s":"z";return c.configuration.sneak&&super.couldActionApply(e,t)&&t[0]===r}execAction(e,t){return s(this,void 0,void 0,function*(){this.isRepeat||(u.VimState.lastSemicolonRepeatableMovement=new n(this.keysPressed,!0),u.VimState.lastCommaRepeatableMovement=new p(this.keysPressed,!0));const t=a.window.activeTextEditor.document,r=t.lineCount,i=this.keysPressed[1]+this.keysPressed[2];for(let n=e.line;n<r;++n){const r=t.lineAt(n).text,o=n===e.line?e.character+1:0;let s=-1;if((s=c.configuration.sneakUseIgnorecaseAndSmartcase&&c.configuration.ignorecase&&!(c.configuration.smartcase&&/[A-Z]/.test(i))?r.toLocaleLowerCase().indexOf(i.toLocaleLowerCase(),o):r.indexOf(i,o))>=0)return new d.Position(n,s)}return e})}};f=n=o([l.RegisterAction],f);let p=i=class extends h.BaseMovement{constructor(){super(...arguments),this.keys=[["S","<character>","<character>"],["Z","<character>","<character>"]]}couldActionApply(e,t){const r=void 0===e.recordedState.operator?"S":"Z";return c.configuration.sneak&&super.couldActionApply(e,t)&&t[0]===r}execAction(e,t){return s(this,void 0,void 0,function*(){this.isRepeat||(u.VimState.lastSemicolonRepeatableMovement=new i(this.keysPressed,!0),u.VimState.lastCommaRepeatableMovement=new f(this.keysPressed,!0));const t=a.window.activeTextEditor.document,r=this.keysPressed[1]+this.keysPressed[2];for(let n=e.line;n>=0;--n){const i=t.lineAt(n).text,o=n===e.line?e.character-1:1/0;let s=-1;if((s=c.configuration.sneakUseIgnorecaseAndSmartcase&&c.configuration.ignorecase&&!(c.configuration.smartcase&&/[A-Z]/.test(r))?i.toLocaleLowerCase().lastIndexOf(r.toLocaleLowerCase(),o):i.lastIndexOf(r,o))>=0)return new d.Position(n,s)}return e})}};p=i=o([l.RegisterAction],p)},function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=r(67),a=r(14),u=r(1),c=r(3),l=r(5),d=r(12),h=r(18),f=r(24),p=r(24),m=r(22),g=r(66);let v=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[c.ModeName.SurroundInputMode],this.keys=[["("],[")"],["{"],["}"],["["],["]"],["<"],[">"],["'"],['"'],["`"],["t"],["w"],["W"],["s"],["p"],["b"],["B"],["r"],["a"]],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){return t.surround?(t.surround.target=this.keysPressed[this.keysPressed.length-1],"b"===t.surround.target&&(t.surround.target=")"),"B"===t.surround.target&&(t.surround.target="}"),"r"===t.surround.target&&(t.surround.target="]"),"a"===t.surround.target&&(t.surround.target=">"),(yield b.TryToExecuteSurround(t,e))&&(this.isCompleteAction=!0),t):t})}doesActionApply(e,t){return super.doesActionApply(e,t)&&!(!e.surround||!e.surround.active||e.surround.target||e.surround.range)}couldActionApply(e,t){return super.doesActionApply(e,t)&&!(!e.surround||!e.surround.active||e.surround.target||e.surround.range)}};v=i([d.RegisterAction],v);let y=class extends f.BaseMovement{constructor(){super(...arguments),this.modes=[c.ModeName.Normal],this.keys=["s"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}execAction(e,t){return o(this,void 0,void 0,function*(){return{start:e.getLineBeginRespectingIndent(),stop:e.getLineEnd().getLastWordEnd().getRight()}})}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0!==e.surround}};y=i([d.RegisterAction],y);let x=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[c.ModeName.Normal],this.keys=["s"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){if(!u.configuration.surround)return t;const e=t.recordedState.operator;let r;return e instanceof m.ChangeOperator&&(r="change"),e instanceof m.DeleteOperator&&(r="delete"),e instanceof m.YankOperator&&(r="yank"),r?(t.recordedState.surroundKeys.push(t.keyHistory[t.keyHistory.length-2]),t.recordedState.surroundKeys.push("s"),t.recordedState.surroundKeyIndexStart=t.keyHistory.length,t.surround={active:!0,target:void 0,operator:r,replacement:void 0,range:void 0,isVisualLine:!1},"yank"!==r&&(t.currentMode=c.ModeName.SurroundInputMode),t):t})}doesActionApply(e,t){const r=!!e.recordedState.operator;return super.doesActionApply(e,t)&&r}couldActionApply(e,t){const r=!!e.recordedState.operator;return super.doesActionApply(e,t)&&r}};x=i([d.RegisterAction],x);let w=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[c.ModeName.Visual,c.ModeName.VisualLine],this.keys=["S"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}exec(e,t){return o(this,void 0,void 0,function*(){return u.configuration.surround?(t.recordedState.surroundKeys.push("S"),t.recordedState.surroundKeyIndexStart=t.keyHistory.length,t.cursorStartPosition.line>t.cursorPosition.line&&([t.cursorPosition,t.cursorStartPosition]=[t.cursorStartPosition,t.cursorPosition]),(t.cursorPosition.line<t.cursorPosition.line||t.cursorPosition.line===t.cursorStartPosition.line&&t.cursorPosition.character<t.cursorStartPosition.character)&&([t.cursorPosition,t.cursorStartPosition]=[t.cursorStartPosition,t.cursorPosition]),t.surround={active:!0,target:void 0,operator:"yank",replacement:void 0,range:new a.Range(t.cursorStartPosition,t.cursorPosition),isVisualLine:!1},t.currentMode===c.ModeName.VisualLine&&(t.surround.isVisualLine=!0),t.currentMode=c.ModeName.SurroundInputMode,t.cursorPosition=t.cursorStartPosition,t):t})}};w=i([d.RegisterAction],w);let b=n=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[c.ModeName.SurroundInputMode],this.keys=["<any>"]}exec(e,t){return o(this,void 0,void 0,function*(){if(!t.surround)return t;if(void 0!==t.surround.replacement&&"<BS>"===this.keysPressed[this.keysPressed.length-1]&&"<"===t.surround.replacement[0])return t.surround.replacement.length>1&&(t.surround.replacement=t.surround.replacement.slice(0,t.surround.replacement.length-1)),t;t.surround.replacement||(t.surround.replacement="");let r=this.keysPressed[this.keysPressed.length-1];return"t"===this.keysPressed[0]&&0===t.surround.replacement.length&&(r="<"),0===t.surround.replacement.length&&("b"===r&&(r="("),"B"===r&&(r="{"),"r"===r&&(r="[")),t.surround.replacement+=r,(yield n.TryToExecuteSurround(t,e))&&(this.isCompleteAction=!0),t})}static Finish(e){e.recordedState.hasRunOperator=!1,e.recordedState.actionsRun=[],e.recordedState.hasRunSurround=!0,e.surround=void 0,e.currentMode=c.ModeName.Normal;for(let t=e.recordedState.surroundKeyIndexStart;t<e.keyHistory.length;t++)e.recordedState.surroundKeys.push(e.keyHistory[t]);return!0}static RemoveWhitespace(e,t,r){const n=t.getRight();let i=t.getRight(),o=r.getLeftThroughLineBreaks(),s=r.getLeftThroughLineBreaks().getRight();if(r.isLineBeginning()&&(o=r,s=r.getRight()),i.isEqual(o))return;for(;!i.isEqual(r)&&!i.isLineEnd()&&l.TextEditor.getCharAt(i).match(/[ \t]/);)i=i.getRight();for(;!o.isEqual(i)&&l.TextEditor.getCharAt(o).match(/[ \t]/)&&!o.isLineBeginning();)o=o.getLeftThroughLineBreaks(!1);o=o.getRight();const u=new a.Range(n,i),c=new a.Range(o,s);e.recordedState.transformations.push({type:"deleteRange",range:u}),e.recordedState.transformations.push({type:"deleteRange",range:c})}static GetStartAndEndReplacements(e){if(!e)return{startReplace:"",endReplace:""};let t=e,r=e;if("<"===t[0]){let e=/([-\w.]+)/.exec(t);r=e?`</${e[1]}>`:"</"+t.slice(1)}return 1===t.length&&t in s.PairMatcher.pairings&&(r=s.PairMatcher.pairings[t].match,s.PairMatcher.pairings[t].isNextMatchForward?(t+=" ",r=" "+r):[t,r]=[r,t]),{startReplace:t,endReplace:r}}static TryToExecuteSurround(e,t){return o(this,void 0,void 0,function*(){const{target:r,operator:i}=e.surround;let o=e.surround.replacement,s=!1;if("change"===i||"yank"===i){if(!o)return!1;if("<"===o[0])if("\n"===o[o.length-1])o=o.slice(0,o.length-1),s=!0;else if(">"!==o[o.length-1])return!1}let u,c,d,h,{startReplace:f,endReplace:m}=this.GetStartAndEndReplacements(o);if("yank"===i){if(!e.surround)return!1;if(!e.surround.range)return!1;let t=e.surround.range.start,r=e.surround.range.stop;return" "!==l.TextEditor.getCharAt(r)&&(r=r.getRight()),e.surround.isVisualLine&&(f+="\n",m="\n"+m),e.recordedState.transformations.push({type:"insertText",text:f,position:t}),e.recordedState.transformations.push({type:"insertText",text:m,position:r}),n.Finish(e)}const v=[{char:"'",movement:()=>new p.MoveASingleQuotes},{char:'"',movement:()=>new p.MoveADoubleQuotes},{char:"`",movement:()=>new p.MoveABacktick}];for(const{char:i,movement:o}of v){if(i!==r)continue;const{start:s,stop:l,failed:d}=yield o().execAction(t,e);if(d)return n.Finish(e);u=new a.Range(s,s.getRight()),c=new a.Range(l,l.getRight())}const y=[{open:"{",close:"}",movement:()=>new p.MoveACurlyBrace},{open:"[",close:"]",movement:()=>new p.MoveASquareBracket},{open:"(",close:")",movement:()=>new p.MoveAParentheses},{open:"<",close:">",movement:()=>new p.MoveACaret}];for(const{open:i,close:o,movement:s}of y){if(r!==i&&r!==o)continue;let{start:l,stop:d,failed:h}=yield s().execAction(t,e);if(h)return n.Finish(e);d=d.getLeft(),u=new a.Range(l,l.getRight()),c=new a.Range(d,d.getRight()),r===i&&n.RemoveWhitespace(e,l,d)}if("t"===r){let r=yield(new p.MoveInsideTag).execAction(t,e),{start:i,stop:o,failed:l}=yield(new p.MoveAroundTag).execAction(t,e);if(l||r.failed)return n.Finish(e);if(o=o.getRight(),r.stop=r.stop.getRight(),l)return n.Finish(e);if(u=new a.Range(i,i.getRight()),c=new a.Range(r.stop,r.stop.getRight()),s){const e=i.getCurrentBigWordEnd().getRight();d=new a.Range(i.getRight(),e)}else d=new a.Range(i.getRight(),r.start);h=new a.Range(r.stop.getRight(),o)}if("change"===i){if(!o)return!1;const i=[{char:"w",movement:()=>new g.SelectInnerWord,addNewline:"no"},{char:"p",movement:()=>new g.SelectInnerParagraph,addNewline:"both"},{char:"s",movement:()=>new g.SelectInnerSentence,addNewline:"end-only"},{char:"W",movement:()=>new g.SelectInnerBigWord,addNewline:"no"}];for(const{char:o,movement:s,addNewline:a}of i){if(r!==o)continue;let{stop:i,start:u,failed:c}=yield s().execAction(t,e);return i=i.getRight(),c?n.Finish(e):("end-only"!==a&&"both"!==a||(m="\n"+m),"both"===a&&(f+="\n"),e.recordedState.transformations.push({type:"insertText",text:f,position:u}),e.recordedState.transformations.push({type:"insertText",text:m,position:i}),n.Finish(e))}}return!!(u||c||d||h)&&("change"===i?!!o&&(u&&l.TextEditor.replaceText(e,f,u.start,u.stop),c&&l.TextEditor.replaceText(e,m,c.start,c.stop),d&&e.recordedState.transformations.push({type:"deleteRange",range:d}),h&&e.recordedState.transformations.push({type:"deleteRange",range:h}),n.Finish(e)):"delete"===i&&(u&&e.recordedState.transformations.push({type:"deleteRange",range:u}),c&&e.recordedState.transformations.push({type:"deleteRange",range:c}),d&&e.recordedState.transformations.push({type:"deleteRange",range:d}),h&&e.recordedState.transformations.push({type:"deleteRange",range:h}),n.Finish(e)))})}};b=n=i([d.RegisterAction],b),t.CommandSurroundAddToReplacement=b},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(315);t.ModeHandlerMap=new class{constructor(){this.modeHandlerMap={}}getOrCreate(e){return n(this,void 0,void 0,function*(){let t=!1,r=this.modeHandlerMap[e];return r||(t=!0,r=yield new i.ModeHandler,this.modeHandlerMap[e]=r),[r,t]})}get(e){return this.modeHandlerMap[e]}getKeys(){return Object.keys(this.modeHandlerMap)}getAll(){return this.getKeys().map(e=>this.modeHandlerMap[e])}delete(e){e in this.modeHandlerMap&&this.modeHandlerMap[e].dispose(),delete this.modeHandlerMap[e]}clear(){for(const e of Object.keys(this.modeHandlerMap))this.delete(e)}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(50),s=r(44),a=r(1),u=r(113),c=r(316),l=r(34),d=r(45),h=r(36),f=r(12),p=r(18),m=r(119),g=r(24),v=r(67),y=r(2),x=r(14),w=r(15),b=r(25),C=r(68),_=r(48),M=r(5),S=r(112),E=r(3),k=r(13),A=r(46);class P{constructor(){this._disposables=[],this._remappers=new c.Remappers,this._modes=[new o.NormalMode,new o.InsertMode,new o.VisualMode,new o.VisualBlockMode,new o.VisualLineMode,new o.SearchInProgressMode,new o.CommandlineInProgress,new o.ReplaceMode,new o.EasyMotionMode,new o.EasyMotionInputMode,new o.SurroundInputMode,new o.DisabledMode],this.vimState=new C.VimState(i.window.activeTextEditor,a.configuration.enableNeovim),this.setCurrentMode(a.configuration.startInInsertMode?E.ModeName.Insert:E.ModeName.Normal),this.syncCursors();const e=i.window.onDidChangeTextEditorSelection(e=>{a.configuration.disableExt||l.Globals.isTesting||e.textEditor===this.vimState.editor&&(this.vimState.focusChanged?this.vimState.focusChanged=!1:this.currentMode.name!==E.ModeName.EasyMotionMode&&_.taskQueue.enqueueTask(()=>this.handleSelectionChange(e),void 0,!0))});this._disposables.push(e),this._disposables.push(this.vimState)}get currentMode(){return this._modes.find(e=>e.isActive)}handleSelectionChange(e){return n(this,void 0,void 0,function*(){let t=e.selections[0];if((e.selections.length!==this.vimState.allCursors.length||this.vimState.isMultiCursor)&&this.vimState.currentMode!==E.ModeName.VisualBlock)return this.vimState.allCursors=e.textEditor.selections.map(e=>new x.Range(e.anchor.compareTo(e.active)>0?y.Position.FromVSCodePosition(e.anchor).getLeft():y.Position.FromVSCodePosition(e.anchor),y.Position.FromVSCodePosition(e.active))),void(yield this.updateView(this.vimState));if(e.kind!==i.TextEditorSelectionChangeKind.Mouse){if(t){if(this.currentMode.isVisualMode)return;this.vimState.cursorPosition=y.Position.FromVSCodePosition(t.active),this.vimState.cursorStartPosition=y.Position.FromVSCodePosition(t.start)}return}if(this.vimState.isMultiCursor&&1===e.selections.length&&(this.vimState.isMultiCursor=!1),this.vimState.prevSelection&&this.vimState.prevSelection.isEqual(t))return;if(this.vimState.currentMode===E.ModeName.SearchInProgressMode)return;if(this.vimState.currentMode===E.ModeName.CommandlineInProgress)return;let r=!1;if(t){let e=new y.Position(t.active.line,t.active.character);if(e.character>=e.getLineEnd().character&&t.isEmpty?this.vimState.currentMode!==E.ModeName.Insert&&(this.vimState.lastClickWasPastEol=!0,e=new y.Position(e.line,Math.max(e.getLineEnd().character-1,0)),this.setCurrentMode(E.ModeName.Normal),r=!0):t.isEmpty&&(this.vimState.lastClickWasPastEol=!1),this.vimState.cursorPosition=e,this.vimState.cursorStartPosition=e,this.vimState.desiredColumn=e.character,t.anchor.line===t.active.line&&t.anchor.character>=e.getLineEnd().character-1&&t.active.character>=e.getLineEnd().character-1);else if(t.anchor.isEqual(t.active))this.vimState.currentMode!==E.ModeName.Insert&&this.setCurrentMode(E.ModeName.Normal);else{var n=new y.Position(t.anchor.line,t.anchor.character);if(n.character>n.getLineEnd().character&&(n=new y.Position(n.line,n.getLineEnd().character)),this.vimState.cursorStartPosition=n,n.compareTo(e)>0&&(this.vimState.cursorStartPosition=this.vimState.cursorStartPosition.getLeft()),this.vimState.lastClickWasPastEol){const e=new y.Position(t.anchor.line,t.anchor.character+1);this.vimState.editor.selection=new i.Selection(e,t.end),this.vimState.cursorStartPosition=n,this.vimState.lastClickWasPastEol=!1}a.configuration.mouseSelectionGoesIntoVisualMode&&!this.currentMode.isVisualMode&&this.currentMode.name!==E.ModeName.Insert&&this.setCurrentMode(E.ModeName.Visual)}yield this.updateView(this.vimState,{drawSelection:r,revealRange:!0})}})}setCurrentMode(e){this.vimState.currentMode=e;for(let t of this._modes)t.isActive=t.name===e}handleKeyEvent(e){return n(this,void 0,void 0,function*(){const t=Number(new Date);k.logger.debug(`ModeHandler: handling key=${e}.`),a.configuration.overrideCopy&&("<D-c>"===e&&(e="<copy>"),"<C-c>"===e&&"darwin"!==process.platform&&(a.configuration.useCtrlKeys&&this.vimState.currentMode!==E.ModeName.Visual&&this.vimState.currentMode!==E.ModeName.VisualBlock&&this.vimState.currentMode!==E.ModeName.VisualLine||(e="<copy>"))),"<C-d>"===e&&!0!==a.configuration.handleKeys["<C-d>"]&&(e="<D-d>"),this.vimState.cursorPositionJustBeforeAnythingHappened=this.vimState.allCursors.map(e=>e.stop),this.vimState.recordedState.commandList.push(e);try{const r=t-this.vimState.lastKeyPressedTimestamp<a.configuration.timeout,n=this.vimState.recordedState.operator;let i=!1;this.vimState.isCurrentlyPerformingRemapping||n&&this.vimState.currentMode===E.ModeName.Normal||!r&&1!==this.vimState.recordedState.commandList.length||(i=yield this._remappers.sendKey(this.vimState.recordedState.commandList,this,this.vimState)),i?this.vimState.recordedState.resetCommandList():this.vimState=yield this.handleKeyEventHelper(e,this.vimState)}catch(t){throw k.logger.error(`ModeHandler: error handling key=${e}. err=${t}.`),t}return this.vimState.lastKeyPressedTimestamp=t,this._renderStatusBar(),!0})}handleKeyEventHelper(e,t){return n(this,void 0,void 0,function*(){if(i.window.activeTextEditor!==this.vimState.editor)return this.vimState;t.historyTracker.addChange(this.vimState.cursorPositionJustBeforeAnythingHappened);let r=t.recordedState;r.actionKeys.push(e),t.keyHistory.push(e);let n=f.Actions.getRelevantAction(r.actionKeys,t);switch(n){case f.KeypressState.NoPossibleMatch:return this._remappers.isPotentialRemap||(t.recordedState=new b.RecordedState),t;case f.KeypressState.WaitingOnKeys:return t}let o=n,s=o;A.Jump.fromStateNow(t);if(0===r.actionsRun.length)r.actionsRun.push(o);else{let n=r.actionsRun[r.actionsRun.length-1];if(n instanceof p.DocumentContentChangeAction)n.keysPressed.push(e),o instanceof m.CommandInsertInInsertMode||o instanceof m.CommandInsertPreviousText?s=void 0:(n.contentChanges=n.contentChanges.concat(t.historyTracker.currentContentChanges.map(e=>({textDiff:e,positionDiff:new y.PositionDiff(0,0)}))),t.historyTracker.currentContentChanges=[],r.actionsRun.push(o));else if(o instanceof m.CommandInsertInInsertMode||o instanceof m.CommandInsertPreviousText){t.historyTracker.currentContentChanges=[];let n=new p.DocumentContentChangeAction;n.keysPressed.push(e),r.actionsRun.push(n),s=n}else r.actionsRun.push(o)}return!t.isRecordingMacro||!s||s instanceof p.CommandQuitRecordMacro||t.recordedMacro.actionsRun.push(s),(t=yield this.runAction(t,r,o)).currentMode===E.ModeName.Insert&&(r.isInsertion=!0),yield this.updateView(t),o.isJump&&t.globalState.jumpTracker.recordJump(A.Jump.fromStateBefore(t),A.Jump.fromStateNow(t)),t})}runAction(e,t,r){return n(this,void 0,void 0,function*(){let n=!1,o=!1;e.currentMode===E.ModeName.Visual&&(e.allCursors=e.allCursors.map(e=>e.start.isEarlierThan(e.stop)?e.withNewStop(e.stop.getLeftThroughLineBreaks(!0)):e)),r instanceof g.BaseMovement&&(({vimState:e,recordedState:t}=yield this.executeMovement(e,r)),o=!0),r instanceof p.BaseCommand&&(e=yield r.execCount(e.cursorPosition,e),yield this.executeCommand(e),r.isCompleteAction&&(o=!0),r.canBeRepeatedWithDot&&(n=!0)),r instanceof p.DocumentContentChangeAction&&(e=yield r.exec(e.cursorPosition,e));const s=this.currentMode.name;e.currentMode!==this.currentMode.name&&(this.setCurrentMode(e.currentMode),e.currentMode===E.ModeName.Normal&&s!==E.ModeName.SearchInProgressMode&&s!==E.ModeName.CommandlineInProgress&&s!==E.ModeName.EasyMotionInputMode&&s!==E.ModeName.EasyMotionMode&&(n=!0)),this.IsModeWhereCmdVIsOverriden(e.currentMode)&&!this.IsModeWhereCmdVIsOverriden(s)?yield i.commands.executeCommand("setContext","vim.overrideCmdV",!0):this.IsModeWhereCmdVIsOverriden(s)&&!this.IsModeWhereCmdVIsOverriden(e.currentMode)&&(yield i.commands.executeCommand("setContext","vim.overrideCmdV",!1)),t.operatorReadyToExecute(e.currentMode)&&e.recordedState.operator&&((e=yield this.executeOperator(e)).recordedState.hasRunOperator=!0,n=e.recordedState.operator.canBeRepeatedWithDot,o=!0),e.currentMode===E.ModeName.Visual&&(e.allCursors=e.allCursors.map(e=>e.start.isEarlierThan(e.stop)?e.withNewStop(e.stop.isLineEnd()?e.stop.getRightThroughLineBreaks():e.stop.getRight()):e)),e.currentMode!==this.currentMode.name&&(this.setCurrentMode(e.currentMode),e.currentMode===E.ModeName.Normal&&(n=!0)),o&&e.currentMode!==E.ModeName.Insert&&e.recordedState.resetCommandList(),n=n&&e.currentMode===E.ModeName.Normal||this.createUndoPointForBrackets(e),o=o&&e.currentMode===E.ModeName.Normal,n&&(e.globalState.previousFullAction=e.recordedState,t.isInsertion&&w.Register.putByKey(t,"."));const a=r instanceof g.BaseMovement?r:void 0;(a&&!a.doesntChangeDesiredColumn||!a&&e.currentMode!==E.ModeName.VisualBlock)&&(a&&a.setsDesiredColumnToEOL&&!t.operator?e.desiredColumn=Number.POSITIVE_INFINITY:e.desiredColumn=e.cursorPosition.character),o&&(e.recordedState=new b.RecordedState,e.returnToInsertAfterCommand&&(e.actionCount>0?(e.returnToInsertAfterCommand=!1,e.actionCount=0,this.setCurrentMode(E.ModeName.Insert)):e.actionCount++)),this.vimState.focusChanged||(this.vimState.alteredHistory?(this.vimState.alteredHistory=!1,e.historyTracker.ignoreChange()):e.historyTracker.addChange(this.vimState.cursorPositionJustBeforeAnythingHappened)),n&&!e.isReplayingMacro&&e.historyTracker.finishCurrentStep(),t.actionKeys=[],e.currentRegisterMode=w.RegisterMode.AscertainFromCurrentMode,this.currentMode.name===E.ModeName.Normal&&(e.cursorStartPosition=e.cursorPosition);for(const{stop:t,i:r}of x.Range.IterateRanges(e.allCursors)){t.line>=M.TextEditor.getLineCount()&&(e.allCursors[r]=e.allCursors[r].withNewStop(e.cursorPosition.getDocumentEnd()));const n=M.TextEditor.getLineAt(t).text.length;e.currentMode===E.ModeName.Normal&&t.character>=n&&n>0&&(e.allCursors[r]=e.allCursors[r].withNewStop(t.getLineEnd().getLeftThroughLineBreaks(!0)))}e.historyTracker.setLastHistoryEndPosition(e.allCursors.map(e=>e.stop)),this.currentMode.isVisualMode&&!this.vimState.isRunningDotCommand&&(this.vimState.lastVisualMode=this.vimState.currentMode,this.vimState.lastVisualSelectionStart=this.vimState.cursorStartPosition,this.vimState.lastVisualSelectionEnd=this.vimState.cursorPosition);const u=[];for(const t of e.allCursors){let e=!0;for(const r of u)if(t.equals(r)){e=!1;break}e&&u.push(t)}return e.allCursors=u,e})}executeMovement(e,t){return n(this,void 0,void 0,function*(){e.lastMovementFailed=!1;let r=e.recordedState;for(let n=0;n<e.allCursors.length;n++){let i=e.allCursors[n].stop;const o=e.cursorPosition;e.cursorPosition=i;const s=yield t.execActionWithCount(i,e,r.count);e.cursorPosition=o,s instanceof y.Position?(e.allCursors[n]=e.allCursors[n].withNewStop(s),this.currentMode.isVisualMode||e.recordedState.operator||(e.allCursors[n]=e.allCursors[n].withNewStart(s))):g.isIMovement(s)&&(s.failed&&(e.recordedState=new b.RecordedState,e.lastMovementFailed=!0),e.allCursors[n]=x.Range.FromIMovement(s),s.registerMode&&(e.currentRegisterMode=s.registerMode))}if(e.recordedState.count=0,e.currentMode!==E.ModeName.Normal||r.operator){let t=e.cursorPosition;t.character>y.Position.getLineLength(t.line)&&(e.cursorPosition=t.getLineEnd())}return{vimState:e,recordedState:r}})}executeOperator(e){return n(this,void 0,void 0,function*(){let t=e.recordedState;if(!t.operator)throw console.error("recordedState.operator: "+t.operator),new Error("what in god's name. recordedState.operator is falsy.");let r=e;const n=this.currentMode,o=e.currentRegisterMode,s=[];let a,u=0,c=e.currentMode;for(let{start:i,stop:l}of e.allCursors){i.compareTo(l)>0&&([i,l]=[l,i]),n.isVisualMode||o===w.RegisterMode.LineWise||(l=l.getLeftThroughLineBreaks(!0)),this.currentMode.name===E.ModeName.VisualLine&&(i=i.getLineBegin(),l=l.getLineEnd(),e.currentRegisterMode=w.RegisterMode.LineWise),t.operator.multicursorIndex=u++,r.currentMode=c,r=t.operators.length>1&&t.operators.reverse()[0].constructor===t.operators.reverse()[1].constructor?yield t.operator.runRepeat(r,i,t.count):yield t.operator.run(r,i,l);for(const e of r.recordedState.transformations)S.isTextTransformation(e)&&void 0===e.cursorIndex&&(e.cursorIndex=t.operator.multicursorIndex);a=r.currentMode;let d=new x.Range(r.cursorStartPosition,r.cursorPosition);s.push(d)}return e.recordedState.transformations.length>0?yield this.executeCommand(e):(r.allCursors=s,this.vimState.editor.selections=e.allCursors.map(e=>new i.Selection(e.start,e.stop))),r})}executeCommand(e){return n(this,void 0,void 0,function*(){const t=e.recordedState.transformations;if(0===t.length)return;const r=t.filter(e=>S.isTextTransformation(e)),n=t.filter(e=>!S.isTextTransformation(e));let o={};const a=(e,t)=>{switch(e.type){case"insertText":t.insert(e.position,e.text);break;case"replaceText":t.replace(new i.Selection(e.end,e.start),e.text);break;case"deleteText":let r=v.PairMatcher.immediateMatchingBracket(e.position);r&&t.delete(r),t.delete(new i.Range(e.position,e.position.getLeftThroughLineBreaks()));break;case"deleteRange":t.delete(new i.Selection(e.range.start,e.range.stop));break;case"moveCursor":break;default:console.warn(`Unhandled text transformation type: ${e.type}.`)}if(void 0===e.cursorIndex)throw new Error("No cursor index - this should never ever happen!");e.diff&&(o[e.cursorIndex]||(o[e.cursorIndex]=[]),o[e.cursorIndex].push(e.diff))};if(r.length>0)if(S.areAnyTransformationsOverlapping(r)){k.logger.debug("Text transformations are overlapping. Falling back to serial\n           transformations. This is generally a very bad sign. Try to make\n           your text transformations operate on non-overlapping ranges.");for(const e of r)yield this.vimState.editor.edit(t=>a(e,t))}else yield this.vimState.editor.edit(e=>{for(const t of r)a(t,e)});for(const t of n)switch(t.type){case"insertTextVSCode":yield M.TextEditor.insert(t.text),e.cursorStartPosition=y.Position.FromVSCodePosition(this.vimState.editor.selection.start),e.cursorPosition=y.Position.FromVSCodePosition(this.vimState.editor.selection.end);break;case"showCommandHistory":let r=yield s.commandLine.ShowHistory(e.currentCommandlineText,this.vimState);r&&0!==r.length&&(yield s.commandLine.Run(r,this.vimState),this.updateView(this.vimState));break;case"dot":if(!e.globalState.previousFullAction)return e;const n=e.globalState.previousFullAction.clone();yield this.rerunRecordedState(e,e.globalState.previousFullAction),e.globalState.previousFullAction=n;break;case"macro":let a=(yield w.Register.getByKey(t.register)).text;if(e.isReplayingMacro=!0,"contentChange"===t.replay)e=yield this.runMacro(e,a);else{let e=[];for(let t of a.actionsRun)e=e.concat(t.keysPressed);this.vimState.recordedState=new b.RecordedState,yield this.handleMultipleKeyEvents(e)}if(e.isReplayingMacro=!1,e.historyTracker.lastInvokedMacro=a,e.lastMovementFailed)return void(e.lastMovementFailed=!1);break;case"contentChange":for(const r of t.changes)yield M.TextEditor.insert(r.text),e.cursorPosition=y.Position.FromVSCodePosition(this.vimState.editor.selection.start);const u=e.cursorPosition.add(t.diff);this.vimState.editor.selection=new i.Selection(u,u);break;case"tab":if(yield i.commands.executeCommand("tab"),t.diff){if(void 0===t.cursorIndex)throw new Error("No cursor index - this should never ever happen!");o[t.cursorIndex]||(o[t.cursorIndex]=[]),o[t.cursorIndex].push(t.diff)}break;case"reindent":if(yield i.commands.executeCommand("editor.action.reindentselectedlines"),t.diff){if(void 0===t.cursorIndex)throw new Error("No cursor index - this should never ever happen!");o[t.cursorIndex]||(o[t.cursorIndex]=[]),o[t.cursorIndex].push(t.diff)}break;default:console.warn(`Unhandled text transformation type: ${t.type}.`)}const u=this.vimState.editor.selections.map(e=>{let t=x.Range.FromVSCodeSelection(e);return t=t.start.isEarlierThan(t.stop)?t.withNewStop(t.stop.getLeftThroughLineBreaks(!0)):t,new i.Selection(new i.Position(t.start.line,t.start.character),new i.Position(t.stop.line,t.stop.character))}),c=t[0],l=("deleteRange"===c.type||"replaceText"===c.type||"insertText"===c.type)&&c.manuallySetCursorPositions;if(e.currentMode===E.ModeName.VisualBlock||l)void 0!==o[0]&&o[0].length>0&&(e.cursorPosition=e.cursorPosition.add(o[0][0]),e.cursorStartPosition=e.cursorStartPosition.add(o[0][0]));else{e.allCursors=[];const t=[];for(let r=0;r<u.length;r++){let n=x.Range.FromVSCodeSelection(u[r]),i=y.Position.FromVSCodePosition(n.start),s=y.Position.FromVSCodePosition(n.stop);if(o[r]&&o[r].length>0){for(const e of o[r])i=i.add(e),s=s.add(e);n=new x.Range(i,s)}else n=new x.Range(y.Position.FromVSCodePosition(n.start),y.Position.FromVSCodePosition(n.stop));e.recordedState.operatorPositionDiff&&(n=n.add(e.recordedState.operatorPositionDiff)),t.push(n)}e.recordedState.operatorPositionDiff=void 0,e.allCursors=t}"deleteRange"===c.type&&c.collapseRange&&(e.cursorPosition=new y.Position(e.cursorPosition.line,e.cursorStartPosition.character)),e.recordedState.transformations=[]})}rerunRecordedState(e,t){return n(this,void 0,void 0,function*(){const r=t.actionsRun.slice(0),n=t.hasRunSurround,o=t.surroundKeys;if(e.isRunningDotCommand=!0,e.lastVisualSelectionStart&&e.lastVisualSelectionEnd&&(e.dotCommandPreviousVisualSelection=new i.Selection(e.lastVisualSelectionStart,e.lastVisualSelectionEnd)),t=new b.RecordedState,e.recordedState=t,n)yield this.handleMultipleKeyEvents(o);else{let n=0;for(let i of r){if(t.actionsRun=r.slice(0,++n),(e=yield this.runAction(e,t,i)).lastMovementFailed)return e;yield this.updateView(e)}t.actionsRun=r}return e.isRunningDotCommand=!1,e})}runMacro(e,t){return n(this,void 0,void 0,function*(){const r=t.actionsRun.slice(0);let n=new b.RecordedState;e.recordedState=n,e.isRunningDotCommand=!0;for(let t of r){let r=A.Jump.fromStateNow(e);if(n.actionsRun.push(t),e.keyHistory=e.keyHistory.concat(t.keysPressed),0===(e=yield this.runAction(e,n,t)).recordedState.actionsRun.length&&(n=new b.RecordedState,e.recordedState=n),e.lastMovementFailed)break;yield this.updateView(e),t.isJump&&e.globalState.jumpTracker.recordJump(r,A.Jump.fromStateNow(e))}return e.isRunningDotCommand=!1,e.cursorPositionJustBeforeAnythingHappened=e.allCursors.map(e=>e.stop),e})}updateView(e,t={drawSelection:!0,revealRange:!0}){return n(this,void 0,void 0,function*(){if(t.drawSelection){let t,r=e.currentMode;if(e.currentMode===E.ModeName.SearchInProgressMode&&(r=e.globalState.searchState.previousMode),e.currentMode===E.ModeName.CommandlineInProgress&&(r=s.commandLine.previousMode),e.isMultiCursor)switch(t=[],r){case E.ModeName.Visual:for(let{start:r,stop:n}of e.allCursors)r.compareTo(n)>0&&(r=r.getRight()),t.push(new i.Selection(r,n));break;case E.ModeName.Normal:case E.ModeName.Insert:for(const{stop:r}of e.allCursors)t.push(new i.Selection(r,r));break;default:k.logger.error(`ModeHandler: unexpected selection mode. selectionMode=${r}`)}else{let n=e.cursorStartPosition,o=e.cursorPosition;if(r===E.ModeName.Visual)n.compareTo(o)>0&&(n=n.getRightThroughLineBreaks()),t=[new i.Selection(n,o)];else if(r===E.ModeName.VisualLine)t=[new i.Selection(y.Position.EarlierOf(n,o).getLineBegin(),y.Position.LaterOf(n,o).getLineEnd())],n.line<=o.line?(e.cursorStartPosition=t[0].start,e.cursorPosition=t[0].end):(e.cursorStartPosition=t[0].end,e.cursorPosition=t[0].start),t[0].start.line<=t[0].end.line&&e.cursorPosition.line<=e.cursorStartPosition.line&&(t=[new i.Selection(t[0].end,t[0].start)]);else if(r===E.ModeName.VisualBlock){t=[];for(const{start:r,end:n}of y.Position.IterateLine(e))t.push(new i.Selection(r,n))}else t=[new i.Selection(o,o)]}this.vimState.prevSelection=t[0],0===e.recordedState.actionsRun.filter(e=>e instanceof p.DocumentContentChangeAction).length&&(this.vimState.editor.selections=t)}if(this.vimState.currentMode===E.ModeName.SearchInProgressMode){const t=e.globalState.searchState.getNextSearchMatchPosition(e.cursorPosition).pos;this.vimState.editor.revealRange(new i.Range(t,t))}else t.revealRange&&this.vimState.editor.revealRange(new i.Range(e.cursorPosition,e.cursorPosition));let r=a.configuration.getCursorStyleForMode(this.currentMode.friendlyName);if(!r){let e=this.currentMode.cursorType;r=E.Mode.translateCursor(e),e===E.VSCodeVimCursorType.Native&&void 0!==a.configuration.editorCursorStyle&&(r=a.configuration.editorCursorStyle)}this.vimState.editor.options.cursorStyle=r;let n=[];if(this.currentMode.cursorType===E.VSCodeVimCursorType.TextDecoration&&this.currentMode.name!==E.ModeName.Insert)if(this.currentMode.name===E.ModeName.Visual)for(const{start:t,stop:r}of e.allCursors)t.isEarlierThan(r)?n.push(new i.Range(r.getLeft(),r)):n.push(new i.Range(r,r.getRight()));else for(const{stop:t}of e.allCursors)n.push(new i.Range(t,t.getRight()));this.vimState.editor.setDecorations(u.Decoration.Default,n);let o=[];if(a.configuration.incsearch&&this.currentMode.name===E.ModeName.SearchInProgressMode||a.configuration.hlsearch&&e.globalState.hl&&e.globalState.searchState){const t=e.globalState.searchState;o.push.apply(o,t.matchRanges);const{start:r,end:n,match:s}=t.getNextSearchMatchRange(e.cursorPosition);s&&o.push(new i.Range(r,n))}this.vimState.editor.setDecorations(u.Decoration.SearchHighlight,o);const c=this.currentMode.name===E.ModeName.EasyMotionInputMode?e.easyMotion.searchAction.getMatches(e.cursorPosition,e).map(e=>e.toRange()):[];this.vimState.editor.setDecorations(u.Decoration.EasyMotion,c);for(let t=0;t<this.vimState.postponedCodeViewChanges.length;t++){let r=this.vimState.postponedCodeViewChanges[t];yield i.commands.executeCommand(r.command,r.args),e.allCursors=yield h.getCursorsAfterSync()}this.vimState.postponedCodeViewChanges=[],this.currentMode.name===E.ModeName.EasyMotionMode&&this.vimState.easyMotion.updateDecorations(),this._renderStatusBar(),yield this.updateVimModeForKeybindings(this.vimState.currentMode)})}updateVimModeForKeybindings(e){return n(this,void 0,void 0,function*(){P._lastVimModeSetForKeybindings!==e&&(yield i.commands.executeCommand("setContext","vim.mode",E.ModeName[e]),P._lastVimModeSetForKeybindings=e)})}_renderStatusBar(){if(a.configuration.statusBarColorControl){const e=a.configuration.statusBarColors[this.currentMode.friendlyName.toLowerCase()];if(void 0!==e){let t,r;"string"==typeof e?r=e:[r,t]=e,d.StatusBar.SetColor(this.vimState.currentMode,r,t)}}let e=[];if(a.configuration.showmodename&&(e.push(this.currentMode.getStatusBarText(this.vimState)),this.vimState.isMultiCursor&&e.push(" MULTI CURSOR ")),a.configuration.showcmd&&e.push(this.currentMode.getStatusBarCommandText(this.vimState)),this.vimState.isRecordingMacro){const t="Recording @"+this.vimState.recordedMacro.registerName;e.push(t)}let t=this.currentMode.name===E.ModeName.SearchInProgressMode||this.currentMode.name===E.ModeName.CommandlineInProgress||this.vimState.isRecordingMacro||a.configuration.showcmd;d.StatusBar.SetText(e.join(" "),this.currentMode.name,this.vimState.isRecordingMacro,t)}handleMultipleKeyEvents(e){return n(this,void 0,void 0,function*(){for(const t of e)yield this.handleKeyEvent(t)})}createUndoPointForBrackets(e){const t=e.recordedState.actionKeys[e.recordedState.actionKeys.length-1];if(void 0===t)return!1;if(e.currentMode===E.ModeName.Insert){let r=v.PairMatcher.nextPairedChar(e.cursorPosition,t);if(void 0!==r&&0===e.cursorPosition.compareTo(r))return!0;if(void 0!==(r=v.PairMatcher.nextPairedChar(e.cursorPosition.getLeft(),t))&&0===e.cursorPosition.getLeftByCount(2).compareTo(r))return!0}return!1}dispose(){this._disposables.map(e=>e.dispose())}syncCursors(){setTimeout(()=>{this.vimState.editor&&(this.vimState.cursorStartPosition=y.Position.FromVSCodePosition(this.vimState.editor.selection.start),this.vimState.cursorPosition=y.Position.FromVSCodePosition(this.vimState.editor.selection.start),this.vimState.desiredColumn=this.vimState.cursorPosition.character,this.vimState.prevSelection=this.vimState.editor.selection)},0)}IsModeWhereCmdVIsOverriden(e){return e===E.ModeName.SearchInProgressMode||e===E.ModeName.CommandlineInProgress}}t.ModeHandler=P},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(21),o=r(0),s=r(44),a=r(1),u=r(3),c=r(13);t.Remappers=class{constructor(){this.remappers=[new d(!0),new h(!0),new f(!0),new d(!1),new h(!1),new f(!1)]}get isPotentialRemap(){return i.some(this.remappers,e=>e.isPotentialRemap)}sendKey(e,t,r){return n(this,void 0,void 0,function*(){let n=!1;for(let i of this.remappers)n=n||(yield i.sendKey(e,t,r));return n})}};class l{constructor(e,t,r){this._isPotentialRemap=!1,this._configKey=e,this._recursive=r,this._remappedModes=t}get isPotentialRemap(){return this._isPotentialRemap}sendKey(e,t,r){return n(this,void 0,void 0,function*(){if(this._isPotentialRemap=!1,-1===this._remappedModes.indexOf(r.currentMode))return!1;const n=this._getRemappings();let i=l._findMatchingRemap(n,e,r.currentMode);if(i){c.logger.debug(`Remapper: ${this._configKey}. match found. before=${i.before}. after=${i.after}. command=${i.commands}.`),this._recursive||(r.isCurrentlyPerformingRemapping=!0);const e=i.before.length-1;if(r.currentMode===u.ModeName.Insert&&(yield r.historyTracker.undoAndRemoveChanges(Math.max(0,e*r.allCursors.length)),r.allCursors=r.allCursors.map(t=>t.withNewStop(t.stop.getLeft(e)))),r.recordedState.actionKeys=r.recordedState.actionKeys.slice(0,-e),r.keyHistory=r.keyHistory.slice(0,-e),i.after){const e=r.recordedState.count||1;r.recordedState.count=0;for(let r=0;r<e;r++)yield t.handleMultipleKeyEvents(i.after)}if(i.commands)for(const e of i.commands){let r,n;"string"==typeof e?(r=e,n=[]):(r=e.command,n=e.args),":"===r.slice(0,1)?(yield s.commandLine.Run(r.slice(1,r.length),t.vimState),yield t.updateView(t.vimState)):n?yield o.commands.executeCommand(r,n):yield o.commands.executeCommand(r)}return r.isCurrentlyPerformingRemapping=!1,!0}for(let t of Object.keys(n))if(e.join("")===t.slice(0,e.length)){this._isPotentialRemap=!0;break}return!1})}_getRemappings(){let e=Object.create(null);for(let t of a.configuration[this._configKey]){let r=`before=${t.before}. `;if(t.after&&(r+=`after=${t.after}. `),t.commands)for(const e of t.commands)r+="string"==typeof e?`command=${e}. args=.`:`command=${e.command}. args=${e.args}.`;if(!t.after&&!t.commands){c.logger.error(`Remapper: ${this._configKey}. Invalid configuration. Missing 'after' key or 'command'. ${r}`);continue}const n=t.before.join("");n in e?c.logger.error(`Remapper: ${this._configKey}. Duplicate configuration. ${r}`):(c.logger.debug(`Remapper: ${this._configKey}. ${r}`),e[n]=t)}return e}static _findMatchingRemap(e,t,r){let n,i=l._getRemappedKeysLengthRange(e);for(let o=Math.max(i[1],t.length);o>=i[0];o--){const i=t.slice(-o).join("");if(i in e){if(r!==u.ModeName.Insert){const e=t.slice(0,t.length-i.length).join("");if(e.length>0&&!/^[0-9]+$/.test(e))break}n=e[i];break}}return n}static _getRemappedKeysLengthRange(e){const t=Object.keys(e);return 0===t.length?[0,0]:[i.minBy(t,e=>e.length).length,i.maxBy(t,e=>e.length).length]}}t.Remapper=l;class d extends l{constructor(e){super("insertModeKeyBindings"+(e?"":"NonRecursive"),[u.ModeName.Insert,u.ModeName.Replace],e)}}class h extends l{constructor(e){super("normalModeKeyBindings"+(e?"":"NonRecursive"),[u.ModeName.Normal],e)}}class f extends l{constructor(e){super("visualModeKeyBindings"+(e?"":"NonRecursive"),[u.ModeName.Visual,u.ModeName.VisualLine,u.ModeName.VisualBlock],e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CompositionState=class{constructor(){this.isInComposition=!1,this.composingText=""}reset(){this.isInComposition=!1,this.composingText=""}}}]);
