module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=43)}([function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,s,o,i,a,c=n(0),u=n(1),l=Object.prototype.toString;function h(e){return void 0!==e}function p(e){return"[object String]"===l.call(e)}function d(e){return JSON.parse(u.readFileSync(e,"utf8"))}function f(e,t){return a&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===t.length?e:e.replace(/\{(\d+)\}/g,function(e,n){var r=n[0],s=t[r],o=e;return"string"==typeof s?o=s:"number"!=typeof s&&"boolean"!=typeof s&&null!=s||(o=String(s)),o})}function m(e){return function(t,n){for(var r,s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];return r=t,"[object Number]"===l.call(r)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):f(e[t],s):p(n)?(console.warn("Message "+n+" didn't get externalized correctly."),f(n,s)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function g(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return f(t,n)}function _(e,t){return o[e]=t,t}function v(e,t){var n,r,s,o=c.join(i.cacheRoot,e.id+"-"+e.hash+".json"),a=!1,l=!1;try{return n=JSON.parse(u.readFileSync(o,{encoding:"utf8",flag:"r"})),r=o,s=new Date,u.utimes(r,s,s,function(){}),n}catch(e){if("ENOENT"===e.code)l=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),u.unlink(o,function(e){e&&console.error("Deleting corrupted bundle "+o+" failed.")}),a=!0}}if(!(n=function(e,t){var n=i.translationsConfig[e.id];if(n){var r=d(n).contents,s=d(c.join(t,"nls.metadata.json")),o=Object.create(null);for(var a in s){var u=s[a],l=r[e.outDir+"/"+a];if(l){for(var h=[],f=0;f<u.keys.length;f++){var m=u.keys[f],g=l[p(m)?m:m.key];void 0===g&&(g=u.messages[f]),h.push(g)}o[a]=h}else o[a]=u.messages}return o}}(e,t))||a)return n;if(l)try{u.writeFileSync(o,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return n;throw e}return n}function b(e){try{return function(e){var t=d(c.join(e,"nls.metadata.json")),n=Object.create(null);for(var r in t){var s=t[r];n[r]=s.messages}return n}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function y(e,t){var n;if(!0===i.languagePackSupport&&void 0!==i.cacheRoot&&void 0!==i.languagePackId&&void 0!==i.translationsConfigFile&&void 0!==i.translationsConfig)try{n=v(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!n){if(i.languagePackSupport)return b(t);var r=function(e){for(var t=i.locale;t;){var n=c.join(e,"nls.bundle."+t+".json");if(u.existsSync(n))return n;var r=t.lastIndexOf("-");t=r>0?t.substring(0,r):void 0}if(void 0===t&&(n=c.join(e,"nls.bundle.json"),u.existsSync(n)))return n}(t);if(r)try{return d(r)}catch(e){console.log("Loading in the box message bundle failed.",e)}n=b(t)}return n}function S(e){if(!e)return g;var t=c.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),i.messageFormat===r.both||i.messageFormat===r.bundle){var n=function(e){for(var t,n=c.dirname(e);t=c.join(n,"nls.metadata.header.json"),!u.existsSync(t);){var r=c.dirname(n);if(r===n){t=void 0;break}n=r}return t}(e);if(n){var s=c.dirname(n),l=o[s];if(void 0===l)try{var p=JSON.parse(u.readFileSync(n,"utf8"));try{var f=y(p,s);l=_(s,f?{header:p,nlsBundle:f}:null)}catch(e){console.error("Failed to load nls bundle",e),l=_(s,null)}}catch(e){console.error("Failed to read header file",e),l=_(s,null)}if(l){var v=e.substr(s.length+1).replace(/\\/g,"/"),b=l.nlsBundle[v];return void 0===b?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):m(b)}}}if(i.messageFormat===r.both||i.messageFormat===r.file)try{var S=d(function(e){var t;if(i.cacheLanguageResolution&&t)t=t;else{if(a||!i.locale)t=".nls.json";else for(var n=i.locale;n;){var r=".nls."+n+".json";if(u.existsSync(e+r)){t=r;break}var s=n.lastIndexOf("-");s>0?n=n.substring(0,s):(t=".nls.json",n=null)}i.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(S)?m(S):h(S.messages)&&h(S.keys)?m(S.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(r=t.MessageFormat||(t.MessageFormat={})),function(e){e.is=function(e){var t=e;return t&&h(t.key)&&h(t.comment)}}(s||(s={})),function(){if(i={locale:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:r.bundle},p(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG);if(p(e.locale)&&(i.locale=e.locale.toLowerCase()),(!0===(t=e._languagePackSupport)||!1===t)&&(i.languagePackSupport=e._languagePackSupport),p(e._cacheRoot)&&(i.cacheRoot=e._cacheRoot),p(e._languagePackId)&&(i.languagePackId=e._languagePackId),p(e._translationsConfigFile)){i.translationsConfigFile=e._translationsConfigFile;try{i.translationsConfig=d(i.translationsConfigFile)}catch(t){e._corruptedFile&&u.writeFile(e._corruptedFile,"corrupted","utf8",function(e){console.error(e)})}}}catch(e){}var t;a="pseudo"===i.locale,void 0,o=Object.create(null)}(),t.loadMessageBundle=S,t.config=function(e){return e&&(p(e.locale)&&(i.locale=e.locale.toLowerCase(),void 0,o=Object.create(null)),void 0!==e.messageFormat&&(i.messageFormat=e.messageFormat)),a="pseudo"===i.locale,S}},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("util")},,function(e,t){e.exports=require("url")},function(e,t){e.exports=require("net")},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function s(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function i(e){var n=e,r=s(e);if(r){if(!r.path)return e;n=r.path}for(var i,a=t.isAbsolute(n),c=n.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(i=c[l])?c.splice(l,1):".."===i?u++:u>0&&(""===i?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(n=c.join("/"))&&(n=a?"/":"."),r?(r.path=n,o(r)):n}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=s(t),a=s(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c="/"===t.charAt(0)?t:i(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,o(a)):c}t.urlParse=s,t.urlGenerate=o,t.normalize=i,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var c=!("__proto__"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return l(e)?"$"+e:e},t.fromSetString=c?u:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=h(e.source,t.source);return 0!==r?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)||n?r:0!=(r=e.generatedColumn-t.generatedColumn)?r:0!=(r=e.generatedLine-t.generatedLine)?r:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=h(e.source,t.source))?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=h(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=s(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var c=r.path.lastIndexOf("/");c>=0&&(r.path=r.path.substring(0,c+1))}t=a(o(r),t)}return i(t)}},,function(e,t){e.exports=require("events")},function(e,t,n){e.exports=f,f.Minimatch=m;var r={sep:"/"};try{r=n(0)}catch(e){}var s=f.GLOBSTAR=m.GLOBSTAR={},o=n(78),i={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",u="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",l="(?:(?!(?:\\/|^)\\.).)*?",h="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{});var p=/\/+/;function d(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function f(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new m(t,n).match(e))}function m(e,t){if(!(this instanceof m))return new m(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function g(e,t){if(t||(t=this instanceof m?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}f.filter=function(e,t){return t=t||{},function(n,r,s){return f(n,e,t)}},f.defaults=function(e){if(!e||!Object.keys(e).length)return f;var t=f,n=function(n,r,s){return t.minimatch(n,r,d(e,s))};return n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))},n},m.defaults=function(e){return e&&Object.keys(e).length?f.defaults(e).Minimatch:m},m.prototype.debug=function(){},m.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(p)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},m.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var s=0,o=e.length;s<o&&"!"===e.charAt(s);s++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},f.braceExpand=function(e,t){return g(e,t)},m.prototype.braceExpand=g,m.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return s;if(""===e)return"";var r,o="",u=!!n.nocase,l=!1,p=[],d=[],f=!1,m=-1,g=-1,v="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function y(){if(r){switch(r){case"*":o+=c,u=!0;break;case"?":o+=a,u=!0;break;default:o+="\\"+r}b.debug("clearStateChar %j %j",r,o),r=!1}}for(var S,E=0,R=e.length;E<R&&(S=e.charAt(E));E++)if(this.debug("%s\t%s %s %j",e,E,o,S),l&&h[S])o+="\\"+S,l=!1;else switch(S){case"/":return!1;case"\\":y(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,E,o,S),f){this.debug("  in class"),"!"===S&&E===g+1&&(S="^"),o+=S;continue}b.debug("call clearStateChar %j",r),y(),r=S,n.noext&&y();continue;case"(":if(f){o+="(";continue}if(!r){o+="\\(";continue}p.push({type:r,start:E-1,reStart:o.length,open:i[r].open,close:i[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(f||!p.length){o+="\\)";continue}y(),u=!0;var C=p.pop();o+=C.close,"!"===C.type&&d.push(C),C.reEnd=o.length;continue;case"|":if(f||!p.length||l){o+="\\|",l=!1;continue}y(),o+="|";continue;case"[":if(y(),f){o+="\\"+S;continue}f=!0,g=E,m=o.length,o+=S;continue;case"]":if(E===g+1||!f){o+="\\"+S,l=!1;continue}if(f){var w=e.substring(g+1,E);try{RegExp("["+w+"]")}catch(e){var x=this.parse(w,_);o=o.substr(0,m)+"\\["+x[0]+"\\]",u=u||x[1],f=!1;continue}}u=!0,f=!1,o+=S;continue;default:y(),l?l=!1:!h[S]||"^"===S&&f||(o+="\\"),o+=S}f&&(w=e.substr(g+1),x=this.parse(w,_),o=o.substr(0,m)+"\\["+x[0],u=u||x[1]);for(C=p.pop();C;C=p.pop()){var O=o.slice(C.reStart+C.open.length);this.debug("setting tail",o,C),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n   %s",O,O,C,o);var k="*"===C.type?c:"?"===C.type?a:"\\"+C.type;u=!0,o=o.slice(0,C.reStart)+k+"\\("+O}y(),l&&(o+="\\\\");var A=!1;switch(o.charAt(0)){case".":case"[":case"(":A=!0}for(var T=d.length-1;T>-1;T--){var P=d[T],L=o.slice(0,P.reStart),F=o.slice(P.reStart,P.reEnd-8),M=o.slice(P.reEnd-8,P.reEnd),I=o.slice(P.reEnd);M+=I;var N=L.split("(").length-1,j=I;for(E=0;E<N;E++)j=j.replace(/\)[+*?]?/,"");var D="";""===(I=j)&&t!==_&&(D="$");var q=L+F+I+D+M;o=q}""!==o&&u&&(o="(?=.)"+o);A&&(o=v+o);if(t===_)return[o,u];if(!u)return e.replace(/\\(.)/g,"$1");var $=n.nocase?"i":"";try{var B=new RegExp("^"+o+"$",$)}catch(e){return new RegExp("$.")}return B._glob=e,B._src=o,B};var _={};f.makeRe=function(e,t){return new m(e,t||{}).makeRe()},m.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?u:l,r=t.nocase?"i":"",o=e.map(function(e){return e.map(function(e){return e===s?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},f.match=function(e,t,n){var r=new m(t,n=n||{});return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},m.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(p),this.debug(this.pattern,"split",e);var s,o,i=this.set;for(this.debug(this.pattern,"set",i),o=e.length-1;o>=0&&!(s=e[o]);o--);for(o=0;o<i.length;o++){var a=i[o],c=e;n.matchBase&&1===a.length&&(c=[s]);var u=this.matchOne(c,a,t);if(u)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},m.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,i=0,a=e.length,c=t.length;o<a&&i<c;o++,i++){this.debug("matchOne loop");var u,l=t[i],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug("GLOBSTAR",[t,l,h]);var p=o,d=i+1;if(d===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}if("string"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(o===a&&i===c)return!0;if(o===a)return n;if(i===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(3),i="win32"===process.platform,a="x64"===process.arch;function c(){if(!i)return!1;const e=process.env.SystemRoot||"C:\\WINDOWS",t=r.join(e,"Sysnative","bash.exe"),n=r.join(e,"System32","bash.exe"),o=a?n:t;return s.existsSync(o)}function u(e,t,n,s,o,u){if(e&&c()){const e=process.env.SystemRoot||"C:\\WINDOWS",c=r.join(e,"Sysnative","bash.exe"),l=r.join(e,"System32","bash.exe"),h=a?l:c,p=t?l:h;let d=[s].concat(o||[]).map(e=>(e===u&&(e=e.replace(/\\/g,"/")),e.indexOf(" ")>0?`'${e}'`:e)).join(" ");return{cwd:n,executable:p,args:["-c",d],combined:[p].concat(["-c",d]),localRoot:n,remoteRoot:function(e){if(i&&e)return r.isAbsolute(e)?`/mnt/${e.substr(0,1).toLowerCase()}/${e.substr(3).replace(/\\/g,"/")}`:e.replace(/\\/g,"/")}(n)}}return{cwd:n,executable:s,args:o||[],combined:[s].concat(o||[])}}t.subsystemLinuxPresent=c,t.createLaunchArg=u,t.spawnSync=function(e,t,n,r){const s=u(e,!1,void 0,t,n);return o.spawnSync(s.executable,s.args,e?void 0:r)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(45),s=n(15),o=n(7),i=n(6);t.Source=class{constructor(e,t,n=0,r,s){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),s&&(this.adapterData=s)}};t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}};t.StackFrame=class{constructor(e,t,n,r=0,s=0){this.id=e,this.source=n,this.line=r,this.column=s,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}};t.Variable=class{constructor(e,t,n=0,r,s){this.name=e,this.value=t,this.variablesReference=n,"number"==typeof s&&(this.namedVariables=s),"number"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const s=this;"number"==typeof t&&(s.line=t),"number"==typeof n&&(s.column=n),r&&(s.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};t.StoppedEvent=class extends s.Event{constructor(e,t,n){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof n&&(this.body.text=n)}};t.ContinuedEvent=class extends s.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}};t.InitializedEvent=class extends s.Event{constructor(){super("initialized")}};t.TerminatedEvent=class extends s.Event{constructor(e){super("terminated"),("boolean"==typeof e||e)&&(this.body={restart:e})}};t.OutputEvent=class extends s.Event{constructor(e,t="console",n){super("output"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}};t.ThreadEvent=class extends s.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}};t.BreakpointEvent=class extends s.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}};t.ModuleEvent=class extends s.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}};t.LoadedSourceEvent=class extends s.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}};var a;t.CapabilitiesEvent=class extends s.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}},function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(a=t.ErrorDestination||(t.ErrorDestination={}));class c extends r.ProtocolServer{constructor(e,t){super();const n="boolean"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",()=>{this.shutdown()}),this.on("error",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){let t=0;if(process.argv.slice(2).forEach(function(e,n,r){const s=/^--server=(\d{4,5})$/.exec(e);s&&(t=parseInt(s[1],10))}),t>0)console.error(`waiting for debug protocol on port ${t}`),o.createServer(t=>{console.error(">> accepted connection from client"),t.on("end",()=>{console.error(">> client connection closed\n")});const n=new e(!1,!0);n.setRunAsServer(!0),n.start(t,t)}).listen(t);else{const t=new e(!1);process.on("SIGTERM",()=>{t.shutdown()}),t.start(process.stdin,process.stdout)}}shutdown(){this._isServer||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,n,r,s=a.User){let o;"number"==typeof t?(o={id:t,format:n},r&&(o.variables=r),s&a.User&&(o.showUser=!0),s&a.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=c.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest("runInTerminal",e,t,n)}dispatchRequest(e){const t=new s.Response(e);try{if("initialize"===e.command){var n=e.arguments;if("boolean"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),"boolean"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),"path"!==n.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,a.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else"launch"===e.command?this.launchRequest(t,e.arguments):"attach"===e.command?this.attachRequest(t,e.arguments):"disconnect"===e.command?this.disconnectRequest(t,e.arguments):"terminate"===e.command?this.terminateRequest(t,e.arguments):"restart"===e.command?this.restartRequest(t,e.arguments):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments):"continue"===e.command?this.continueRequest(t,e.arguments):"next"===e.command?this.nextRequest(t,e.arguments):"stepIn"===e.command?this.stepInRequest(t,e.arguments):"stepOut"===e.command?this.stepOutRequest(t,e.arguments):"stepBack"===e.command?this.stepBackRequest(t,e.arguments):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments):"goto"===e.command?this.gotoRequest(t,e.arguments):"pause"===e.command?this.pauseRequest(t,e.arguments):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments):"scopes"===e.command?this.scopesRequest(t,e.arguments):"variables"===e.command?this.variablesRequest(t,e.arguments):"setVariable"===e.command?this.setVariableRequest(t,e.arguments):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments):"source"===e.command?this.sourceRequest(t,e.arguments):"threads"===e.command?this.threadsRequest(t):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments):"evaluate"===e.command?this.evaluateRequest(t,e.arguments):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments):"completions"===e.command?this.completionsRequest(t,e.arguments):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments):this.customRequest(e.command,t,e.arguments)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},a.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,this.sendResponse(e)}disconnectRequest(e,t){this.sendResponse(e),this.shutdown()}launchRequest(e,t){this.sendResponse(e)}attachRequest(e,t){this.sendResponse(e)}terminateRequest(e,t){this.sendResponse(e)}restartRequest(e,t){this.sendResponse(e)}setBreakPointsRequest(e,t){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t){this.sendResponse(e)}configurationDoneRequest(e,t){this.sendResponse(e)}continueRequest(e,t){this.sendResponse(e)}nextRequest(e,t){this.sendResponse(e)}stepInRequest(e,t){this.sendResponse(e)}stepOutRequest(e,t){this.sendResponse(e)}stepBackRequest(e,t){this.sendResponse(e)}reverseContinueRequest(e,t){this.sendResponse(e)}restartFrameRequest(e,t){this.sendResponse(e)}gotoRequest(e,t){this.sendResponse(e)}pauseRequest(e,t){this.sendResponse(e)}sourceRequest(e,t){this.sendResponse(e)}threadsRequest(e){this.sendResponse(e)}terminateThreadsRequest(e,t){this.sendResponse(e)}stackTraceRequest(e,t){this.sendResponse(e)}scopesRequest(e,t){this.sendResponse(e)}variablesRequest(e,t){this.sendResponse(e)}setVariableRequest(e,t){this.sendResponse(e)}setExpressionRequest(e,t){this.sendResponse(e)}evaluateRequest(e,t){this.sendResponse(e)}stepInTargetsRequest(e,t){this.sendResponse(e)}gotoTargetsRequest(e,t){this.sendResponse(e)}completionsRequest(e,t){this.sendResponse(e)}exceptionInfoRequest(e,t){this.sendResponse(e)}loadedSourcesRequest(e,t){this.sendResponse(e)}dataBreakpointInfoRequest(e,t){this.sendResponse(e)}setDataBreakpointsRequest(e,t){this.sendResponse(e)}customRequest(e,t,n){this.sendErrorResponse(t,1014,"unrecognized request",null,a.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?c.uri2path(e):c.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?c.uri2path(e):c.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new i.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new i.URL(e),n=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\//g,"\\")),n}static formatPII(e,t,n){return e.replace(c._formatPIIRegexp,function(e,r){return t&&r.length>0&&"_"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e})}}c._formatPIIRegexp=/{([^}]+)}/g,t.DebugSession=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(3),i=n(34),a=n(11);function c(e){const t=/^([A-Z])(\:[\\\/].*)$/;return t.test(e)&&(e=e.replace(t,(e,t,n)=>t.toLowerCase()+n)),e}function u(e){return e=e.replace(/\\/g,"/"),/^[a-zA-Z]\:\//.test(e)&&(e="/"+e),e=(e=r.normalize(e)).replace(/\\/g,"/")}function l(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.makePathAbsolute=function(e,t){return r.resolve(r.dirname(e),t)},t.makeRelative=function(e,t){const n=e.split(r.sep),s=t.split(r.sep);let o=0;for(;o<Math.min(n.length,s.length)&&n[o]===s[o];o++);let i="";for(;o<s.length;o++)i=r.join(i,s[o]);return i},t.normalizeDriveLetter=c,t.pathNormalize=function(e){return e=e.replace(/\\/g,"/"),"win32"!==process.platform&&"darwin"!==process.platform||(e=e.toLowerCase()),e},t.pathToNative=function(e){return"win32"===process.platform&&(e=e.replace(/\//g,"\\")),e},t.pathCompare=function(e,t){return c(e)===c(t)},t.realPath=function e(t){let n=r.dirname(t);if(t===n)return/^[A-Z]\:\\$/.test(t)&&(t=t.toLowerCase()),t;let o=r.basename(t).toLowerCase();try{let t=s.readdirSync(n).filter(e=>e.toLowerCase()===o);if(1===t.length){let s=e(n);if(s)return r.join(s,t[0])}else if(t.length>1){const s=t.indexOf(o);if(s>=0){let o=e(n);if(o)return r.join(o,t[s])}}}catch(e){}return null},t.mkdirs=function e(t){s.existsSync(t)||(e(r.dirname(t)),s.mkdirSync(t))},t.findOnPath=function(e,t){const n=l(l({},process.env),t);let i;if("win32"===process.platform){const e=n.WINDIR||"C:\\Windows";i=r.join(e,"System32","where.exe")}else i="/usr/bin/which";try{if(s.existsSync(i)){const t=o.execSync(`${i} ${e}`,{env:n}).toString().split(/\r?\n/);if("win32"===process.platform){const e=n.PATHEXT.toUpperCase();for(const n of t){const t=r.extname(n).toUpperCase();if(t&&e.indexOf(t+";")>0)return n}}else if(t.length>0)return t[0];return}return e}catch(e){}},t.findExecutable=function(e,t){const n=l(l({},process.env),t);if("win32"===process.platform&&!r.extname(e)){const t=n.PATHEXT;if(t){const n=t.split(";");for(const t of n){const n=e+t;if(s.existsSync(n))return n}}}if(s.existsSync(e))return e},t.isAbsolutePath=function(e){if(e){if("/"===e.charAt(0))return!0;if(/^[a-zA-Z]\:[\\\/]/.test(e))return!0}return!1},t.normalize=u,t.toWindows=function(e){return/^\/[a-zA-Z]\:\//.test(e)&&(e=e.substr(1)),e=e.replace(/\//g,"\\")},t.join=function(e,t){return e=u(e),t=u(t),"/"===e.charAt(e.length-1)?e+=t:e=e+"/"+t,e=(e=r.normalize(e)).replace(/\\/g,"/")},t.makeRelative2=function(e,t){e=u(e),t=u(t);const n=e.substr(1).split("/"),r=t.substr(1).split("/");for(;n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();let s=n.length-r.length;for(0===s&&(s=r.length-1);s>0;)r.unshift(".."),s--;return r.join("/")},t.multiGlob=function(e,t){const n=new Array;t=l({cache:Object.create(null),statCache:Object.create(null),realpathCache:Object.create(null),symlinks:Object.create(null),ignore:[]},t);const s=e=>"!"===e[0];try{e.forEach((r,o)=>{if(s(r))return;const i=e.slice(o).filter(s).map(e=>e.slice(1));n.push({pattern:r,opts:l(l({},t),{ignore:t.ignore.concat(i)})})})}catch(e){return Promise.reject(e)}return Promise.all(n.map(e=>new Promise((t,n)=>{i(e.pattern,e.opts,(e,r)=>{e?n(e):t(r)})}))).then(e=>{const t=new Set;for(let n of e)for(let e of n)t.add(e);let n=new Array;return t.forEach(e=>n.push(r.posix.normalize(e))),n})},t.multiGlobMatches=function(e,t){let n=!1;for(const r of e){if(n!==("!"===r[0]))break;n=a(t,r)}return n},t.extendObject=l,t.stripBOM=function(e){return e&&"\ufeff"===e[0]&&(e=e.substr(1)),e}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function s(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?s:r,e.exports.posix=r,e.exports.win32=s},,,,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=n(1),o=n(0),i=n(47),a=n(14);var c;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(c=t.LogLevel||(t.LogLevel={}));class u{constructor(){this._pendingLogQ=[]}log(e,t=c.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,c.Verbose)}warn(e){this.log(e,c.Warn)}error(e){this.log(e,c.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=c.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new l(e,n),this._logFilePathFromInit=t}}t.Logger=u,t.logger=new u;class l{constructor(e,t){this.beforeExitCallback=(()=>this.dispose()),this._logCallback=e,this._logToConsole=t,this._minLogLevel=c.Warn,this.disposeCallback=((e,t)=>{this.dispose(),t=t||2,t+=128,process.exit(t)})}setup(e){return r(this,void 0,void 0,function*(){if(this._minLogLevel=e.consoleMinLogLevel,this._prependTimestamp=e.prependTimestamp,e.logFilePath)if(o.isAbsolute(e.logFilePath)){const n=t=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${t.toString()}\n`,c.Error);try{yield(t=o.dirname(e.logFilePath),new Promise((e,n)=>{i(t,t=>{t?n(t):e()})})),this.log("Verbose logs are written to:\n",c.Warn),this.log(e.logFilePath+"\n",c.Warn),this._logFileStream=s.createWriteStream(e.logFilePath),this.logDateTime(),this.setupShutdownListeners(),this._logFileStream.on("error",e=>{n(e)})}catch(e){n(e)}}else this.log(`logFilePath must be an absolute path: ${e.logFilePath}`,c.Error);var t})}logDateTime(){let e=new Date;const t=e.getUTCFullYear()+"-"+`${e.getUTCMonth()+1}`+"-"+e.getUTCDate()+", "+d();this.log(t+"\n",c.Verbose,!1)}setupShutdownListeners(){process.addListener("beforeExit",this.beforeExitCallback),process.addListener("SIGTERM",this.disposeCallback),process.addListener("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback),process.removeListener("SIGTERM",this.disposeCallback),process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise(e=>{this.removeShutdownListeners(),this._logFileStream?(this._logFileStream.end(e),this._logFileStream=null):e()})}log(e,t,n=!0){if(this._minLogLevel!==c.Stop){if(t>=this._minLogLevel&&this.sendLog(e,t),this._logToConsole){const n=t===c.Error?console.error:t===c.Warn?console.warn:null;n&&n(p(e))}t===c.Error&&(e=`[${c[t]}] ${e}`),this._prependTimestamp&&n&&(e="["+d()+"] "+e),this._logFileStream&&this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){const t=!!e.match(/(\n|\r\n)$/);e=e.substr(0,1500)+"[...]",t&&(e+="\n")}if(this._logCallback){const n=new h(e,t);this._logCallback(n)}}}class h extends a.OutputEvent{constructor(e,t){super(e,t===c.Error?"stderr":t===c.Warn?"console":"stdout")}}function p(e){return e.replace(/(\n|\r\n)$/,"")}function d(){let e=new Date;return f(2,String(e.getUTCHours()))+":"+f(2,String(e.getUTCMinutes()))+":"+f(2,String(e.getUTCSeconds()))+"."+f(3,String(e.getUTCMilliseconds()))+" UTC"}function f(e,t){return t.length>=e?t:String("0".repeat(e)+t).slice(-e)}t.LogOutputEvent=h,t.trimLastNewline=p},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";n(55);const r=n(4).inherits,s=n(56),o=n(10).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,o),i.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let o;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function l(e){i||(null!=o&&(clearTimeout(o),o=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=s(this.callback,this),this._promisifiedCallback=!0),a>0&&(o=setTimeout(function(){o=null,i=!0;const e=new Error('A "socket" was not created for HTTP request before '+a+"ms");e.code="ETIMEOUT",u(e)},a));try{Promise.resolve(this.callback(e,r)).then(function(t){var n;i||(null!=o&&(clearTimeout(o),o=null),(n=t)&&"function"==typeof n.addRequest?t.addRequest(e,r):t?(t.on("free",function(){c(t,r)}),e.onSocket(t)):u(new Error("no Duplex stream was returned to agent-base for `"+e.method+" "+e.path+"`")))},l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var s=t.formatters[r];if("function"==typeof s){var o=i[c];n=s.call(e,o),i.splice(c,1),c--}return n}),t.formatArgs.call(e,i),(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=s,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(61),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){e.exports=require("tty")},function(e,t,n){"use strict";const r=n(23),s=n(63),o=process.env;let i;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===i)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!e.isTTY&&!0!==i)return 0;const t=i?1:0;if("win32"===process.platform){const e=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in o)||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)?1:"COLORTERM"in o?1:(o.TERM,t)}(e))}s("no-color")||s("no-colors")||s("color=false")?i=!1:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(i=!0),"FORCE_COLOR"in o&&(i=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var o=i,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;u++;var s=r.formatters[n];if("function"==typeof s){var i=t[u];e=s.call(o,i),t.splice(u,1),u--}return e}),r.formatArgs.call(o,t),(o.log||r.log).apply(o,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=s,i.extend=o,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function s(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(t=0;t<s;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(67),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var r=n(32),s=n(8),o=n(33).ArraySet,i=n(72).MappingList;function a(e){e||(e={}),this._file=s.getArg(e,"file",null),this._sourceRoot=s.getArg(e,"sourceRoot",null),this._skipValidation=s.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new i,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=s.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(r){var o=r;null!==t&&(o=s.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)}),n},a.prototype.addMapping=function(e){var t=s.getArg(e,"generated"),n=s.getArg(e,"original",null),r=s.getArg(e,"source",null),o=s.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=s.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=s.relative(i,r));var a=new o,c=new o;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=s.join(n,t.source)),null!=i&&(t.source=s.relative(i,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)},this),this._sources=a,this._names=c,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=s.join(n,t)),null!=i&&(t=s.relative(i,t)),this.setSourceContent(t,r))},this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,i=0,a=1,c=0,u=0,l=0,h=0,p="",d=this._mappings.toArray(),f=0,m=d.length;f<m;f++){if(e="",(t=d[f]).generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=","}e+=r.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));var n=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(71);t.encode=function(e){var t,n="",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,(s>>>=5)>0&&(t|=32),n+=r.encode(t)}while(s>0);return n},t.decode=function(e,t,n){var s,o,i,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));s=!!(32&o),u+=(o&=31)<<l,l+=5}while(s);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},function(e,t,n){var r=n(8),s=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function i(){this._array=[],this._set=o?new Map:Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,s=e.length;r<s;r++)n.add(e[r],t);return n},i.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=o?e:r.toSetString(e),i=o?this.has(e):s.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(o?this._set.set(e,a):this._set[n]=a)},i.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return s.call(this._set,t)},i.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(s.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){e.exports=b;var r=n(1),s=n(35),o=n(11),i=(o.Minimatch,n(81)),a=n(10).EventEmitter,c=n(0),u=n(36),l=n(17),h=n(83),p=n(37),d=(p.alphasort,p.alphasorti,p.setopts),f=p.ownProp,m=n(84),g=(n(4),p.childrenIgnored),_=p.isIgnored,v=n(39);function b(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return h(e,t)}return new S(e,t,n)}b.sync=h;var y=b.GlobSync=h.GlobSync;function S(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new y(e,t)}if(!(this instanceof S))return new S(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",function(e){n(null,e)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1,a);function a(){--s._processing,s._processing<=0&&(o?process.nextTick(function(){s._finish()}):s._finish())}o=!1}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new S(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var s=0;s<r[0].length;s++)if("string"!=typeof r[0][s])return!0;return!1},b.Glob=S,i(S,a),S.prototype._finish=function(){if(u(this instanceof S),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit("end",this.found)}},S.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},S.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,i=r.length;if(0===i)return t();var a=this.matches[e]=Object.create(null);r.forEach(function(n,r){n=o._makeAbs(n),s.realpath(n,o.realpathCache,function(r,s){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[s]=!0,0==--i&&(o.matches[e]=a,t())})})},S.prototype._mark=function(e){return p.mark(this,e)},S.prototype._makeAbs=function(e){return p.makeAbs(this,e)},S.prototype.abort=function(){this.aborted=!0,this.emit("abort")},S.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},S.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var s=r[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},S.prototype._process=function(e,t,n,r){if(u(this instanceof S),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var s,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:s=null;break;default:s=e.slice(0,i).join("/")}var a,c=e.slice(i);null===s?a=".":l(s)||l(e.join("/"))?(s&&l(s)||(s="/"+s),a=s):a=s;var h=this._makeAbs(a);if(g(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(s,a,h,c,t,n,r):this._processReaddir(s,a,h,c,t,n,r)}},S.prototype._processReaddir=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){return a._processReaddir2(e,t,n,r,s,o,u,i)})},S.prototype._processReaddir2=function(e,t,n,r,s,o,i,a){if(!i)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,p=this.dot||"."===h.charAt(0),d=[],f=0;f<i.length;f++){if("."!==(g=i[f]).charAt(0)||p)(l&&!e?!g.match(u):g.match(u))&&d.push(g)}var m=d.length;if(0===m)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(f=0;f<m;f++){var g=d[f];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=c.join(this.root,g)),this._emitMatch(s,g)}return a()}r.shift();for(f=0;f<m;f++){g=d[f];e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(r),s,o,a)}a()},S.prototype._emitMatch=function(e,t){if(!this.aborted&&!_(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var s=this.statCache[n];s&&this.emit("stat",t,s),this.emit("match",t)}}},S.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,s=m("lstat\0"+e,function(r,s){if(r&&"ENOENT"===r.code)return t();var o=s&&s.isSymbolicLink();n.symlinks[e]=o,o||!s||s.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())});s&&r.lstat(e,s)}},S.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=m("readdir\0"+e+"\0"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var s=this.cache[e];if(!s||"FILE"===s)return n();if(Array.isArray(s))return n(null,s)}r.readdir(e,function(e,t,n){return function(r,s){r?e._readdirError(t,r,n):e._readdirEntries(t,s,n)}}(this,e,n))}},S.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];s="/"===e?e+s:e+"/"+s,this.cache[s]=!0}return this.cache[e]=t,n(null,t)}},S.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var s=new Error(t.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=t.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},S.prototype._processGlobStar=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){a._processGlobStar2(e,t,n,r,s,o,u,i)})},S.prototype._processGlobStar2=function(e,t,n,r,s,o,i,a){if(!i)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,s,!1,a);var h=this.symlinks[n],p=i.length;if(h&&o)return a();for(var d=0;d<p;d++){if("."!==i[d].charAt(0)||this.dot){var f=u.concat(i[d],c);this._process(f,s,!0,a);var m=u.concat(i[d],r);this._process(m,s,!0,a)}}a()},S.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(s,o){r._processSimple2(e,t,s,o,n)})},S.prototype._processSimple2=function(e,t,n,r,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return s();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),s()},S.prototype._stat=function(e,t){var n=this._makeAbs(e),s="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!s||"DIR"===o)return t(null,o);if(s&&"FILE"===o)return t()}var i=this.statCache[n];if(void 0!==i){if(!1===i)return t(null,i);var a=i.isDirectory()?"DIR":"FILE";return s&&"FILE"===a?t():t(null,a,i)}var c=this,u=m("stat\0"+n,function(s,o){if(o&&o.isSymbolicLink())return r.stat(n,function(r,s){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,s,t)});c._stat2(e,n,s,o,t)});u&&r.lstat(n,u)},S.prototype._stat2=function(e,t,n,r,s){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,s();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return s(null,!1,r);var i=!0;return r&&(i=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,o&&"FILE"===i?s():s(null,i,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=s,r.realpathSync=o};var r=n(1),s=r.realpath,o=r.realpathSync,i=process.version,a=/^v[0-5]\./.test(i),c=n(77);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(a)return s(e,t,n);"function"==typeof t&&(n=t,t=null),s(e,t,function(r,s){u(r)?c.realpath(e,t,n):n(r,s)})}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t){e.exports=require("assert")},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=s.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||s.resolve(e.cwd,"/"),e.root=s.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=i(e.cwd)?e.cwd:h(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,s=e.matches.length;r<s;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var i=Object.keys(o);t?n.push.apply(n,i):i.forEach(function(e){n[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(var r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n}))}e.ignore.length&&(n=n.filter(function(t){return!p(e,t)}));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],s=t;if(r){var o="DIR"===r||Array.isArray(r),i="/"===t.slice(-1);if(o&&!i?s+="/":!o&&i&&(s=s.slice(0,-1)),s!==t){var a=h(e,s);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return s},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var s=n(0),o=n(11),i=n(17),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n="/"===t.charAt(0)?s.join(e.root,t):i(t)||""===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function p(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),s=e[e.length-1];return"function"==typeof r&&r!==s&&Object.keys(s).forEach(function(e){r[e]=s[e]}),r}}},function(e,t,n){var r=n(38);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(s),e.exports.strict=r(o),s.proto=s(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},,,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=n(44),o=n(49),i=n(50),a=n(16),c=n(12),u=n(3),l=n(7),h=n(6),p=n(0),d=n(1),f=n(2);let m=f.loadMessageBundle(n(0).join(__dirname,"node/nodeDebug.ts"));class g{constructor(e){this._expanderFunction=e}Expand(e,t,n,r){return this._expanderFunction(n,r)}SetValue(e,t,n){return Promise.reject(new Error(g.SET_VALUE_ERROR))}}g.SET_VALUE_ERROR=m(0,null),t.Expander=g;class _{constructor(e,t,n){this._evalName=e,this._object=t,this._this=n}Expand(e,t,n,r){return"named"===t?e._createProperties(this._evalName,this._object,"named").then(t=>this._this?e._createVariable(this._evalName,"this",this._this).then(e=>(e&&t.push(e),t)):t):"number"==typeof n&&"number"==typeof r?e._createProperties(this._evalName,this._object,"indexed",n,r):e._createProperties(this._evalName,this._object,"all").then(t=>this._this?e._createVariable(this._evalName,"this",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setPropertyValue(this._object.handle,t,n)}}t.PropertyContainer=_;class v{constructor(e,t){this._evalName=e,this._object=t}Expand(e,t,n,r){return"named"===t?e._createSetMapProperties(this._evalName,this._object):"set"===this._object.type?e._createSetElements(this._object,n,r):e._createMapElements(this._object,n,r)}SetValue(e,t,n){return Promise.reject(new Error(g.SET_VALUE_ERROR))}}t.SetMapContainer=v;class b{constructor(e,t,n){this._frame=e.frameIndex,this._scope=e.index,this._object=t,this._this=n}Expand(e,t,n,r){return e._createProperties("",this._object,t).then(t=>this._this?e._createVariable("","this",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setVariableValue(this._frame,this._scope,t,n)}}t.ScopeContainer=b;class y{constructor(e){this.contents=e.source}}class S{constructor(e,t=0,n,r,s){this.line=this.orgLine=e,this.column=this.orgColumn=t,r?(this.condition=function(e){e=e.replace(/%/g,"%%");let t=[],n=e.replace(x,(e,n)=>{const r=n.trim();return r?(t.push(`(${r})`),"%s"):""});if(n=n.replace(/'/g,"\\'"),t.length>0)return`console.log('${n}', ${t.join(", ")})`;return`console.log('${n}')`}(r),n&&(this.condition=`(${n}) && ${this.condition}`)):n&&(this.condition=n),this.hitCount=0,this.hitter=s}}class E{constructor(e,t){this.scriptId=e,this.source=t}}class R extends s.LoggingDebugSession{constructor(){super("node-debug.txt"),this._traceAll=!1,this._tryToInjectExtension=!0,this._skipRejects=!1,this._maxVariablesPerScope=100,this._smartStep=!1,this._mapToFilesOnDisk=!0,this._compareContents=!0,this._supportsRunInTerminalRequest=!1,this._processId=-1,this._nodeProcessId=-1,this._isWSL=!1,this._functionBreakpoints=new Array,this._scripts=new Map,this._files=new Map,this._scriptId2Handle=new Map,this._inlinedContentHandle=new Map,this._modifiedSources=new Set,this._hitCounts=new Map,this._noDebug=!1,this._attachMode=!1,this._restartMode=!1,this._console="internalConsole",this._stepBack=!1,this._variableHandles=new s.Handles,this._frameHandles=new s.Handles,this._sourceHandles=new s.Handles,this._refCache=new Map,this._pollForNodeProcess=!1,this._nodeInjectionAvailable=!1,this._gotDebuggerEvent=!1,this._smartStepCount=0,this._catchRejects=!1,this._disableSkipFiles=!1,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._node=new o.NodeV8Protocol(e=>{if(e.success&&e.refs){const t=this._refCache.size;for(let t of e.refs)this._cache(t.handle,t);this._refCache.size!==t&&this.log("rc",`NodeV8Protocol hook: ref cache size: ${this._refCache.size}`)}}),this._node.on("break",e=>{this._stopped("break"),this._handleNodeBreakEvent(e.body)}),this._node.on("exception",e=>{this._stopped("exception"),this._handleNodeExceptionEvent(e.body)}),this._node.on("afterCompile",e=>{this._scriptToSource(e.body.script).then(e=>{this.sendEvent(new s.LoadedSourceEvent("new",e))})}),this._node.on("close",e=>{this._terminated("node v8protocol close")}),this._node.on("error",e=>{this._terminated("node v8protocol error")})}_handleNodeExceptionEvent(e){if(this._skip(e))return void this._node.command("continue");let t;if(e.sourceLineText&&"number"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf("reject(")){if(this._skipRejects&&!this._catchRejects)return void this._node.command("continue");t=m(1,null),e.exception.text?e.exception.text=m(2,null,e.exception.text):e.exception.text=m(3,null)}}this._exception=e,this._sendStoppedEvent("exception",t,e.exception.text)}_handleNodeBreakEvent(e){const t=e.breakpoints;if(Array.isArray(t)&&t.length>0){this._disableSkipFiles=this._skip(e);const n=t[0];return this._gotEntryEvent||1!==n?void this._sendBreakpointStoppedEvent(n):(this.log("la","_handleNodeBreakEvent: suppressed stop-on-entry event"),void this._rememberEntryLocation(e.script.name,e.sourceLine,e.sourceColumn))}if(e.sourceLineText&&"number"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf("debugger"))return this._gotDebuggerEvent=!0,void this._sendStoppedEvent("debugger_statement")}let n="step";this._restartFramePending&&(this._restartFramePending=!1,n="frame_entry"),this._disableSkipFiles||!(this._smartStep&&this._sourceMaps||this._skipFiles)?this._sendStoppedEvent(n):this._skipGenerated(e).then(e=>{e?(this._node.command("continue",{stepaction:"in"}),this._smartStepCount++):this._sendStoppedEvent(n)})}_sendBreakpointStoppedEvent(e){let t=this._hitCounts.get(e);t&&(t.hitCount++,t.hitter&&!t.hitter(t.hitCount))?this._node.command("continue"):this._sendStoppedEvent("breakpoint")}_sendStoppedEvent(e,t,n){this._smartStepCount>0&&(this.log("ss",`_handleNodeBreakEvent: ${this._smartStepCount} steps skipped`),this._smartStepCount=0);const r=new s.StoppedEvent(e,R.DUMMY_THREAD_ID,n);if(!t)switch(e){case"step":t=m(4,null);break;case"breakpoint":t=m(5,null);break;case"exception":t=m(6,null);break;case"pause":t=m(7,null);break;case"entry":t=m(8,null);break;case"debugger_statement":t=m(9,null);break;case"frame_entry":t=m(10,null)}r.body.description=t,this.sendEvent(r)}isSkipped(e){return!!this._skipFiles&&a.multiGlobMatches(this._skipFiles,e)}_skip(e){if(this._skipFiles){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);return a.multiGlobMatches(this._skipFiles,n)}return!1}_skipGenerated(e){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);if(this._skipFiles)return a.multiGlobMatches(this._skipFiles,n)?Promise.resolve(!0):Promise.resolve(!1);if(this._smartStep){let t=e.sourceLine,r=this._adjustColumn(t,e.sourceColumn);return this._sourceMaps.CannotMapLine(n,null,t,r).then(e=>e)}return Promise.resolve(!1)}toggleSkippingResource(e,t){t=decodeURI(h.parse(t).pathname),this.isSkipped(t)?(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push("!"+t)):(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(t)),this.sendResponse(e)}_scriptToPath(e){let t=e.name;if(t){if(a.isAbsolutePath(t))return t}else t=`VM${e.id}`;return`${R.NODE_INTERNALS}/${t}`}_scriptToSource(e){let t=e.name;t?a.isAbsolutePath(t)||(t=`${R.NODE_INTERNALS}/${t}`):t=`${R.NODE_INTERNALS}/VM${e.id}`;const n=new s.Source(p.basename(t),t,this._getScriptIdHandle(e.id));return this._sourceMaps?this._sourceMaps.AllSources(t).then(e=>(e&&e.length>0&&(n.sources=e.map(e=>new s.Source(p.basename(e),e))),n)):Promise.resolve(n)}_pathToScript(e){const t=R.NODE_INTERNALS_VM.exec(e);return t&&t.length>=2?+t[1]:e.replace(R.NODE_INTERNALS_PREFIX,"")}_stopped(e){this._stoppedReason=e,this.log("la",`_stopped: got ${e} event from node`),this._exception=void 0,this._variableHandles.reset(),this._frameHandles.reset(),this._refCache=new Map,this.log("rc","_stopped: new ref cache")}_terminated(e){this.log("la",`_terminated: ${e}`),this._isTerminated||(this._isTerminated=!0,this._restartMode&&this._attachSuccessful&&!this._inShutdown?this.sendEvent(new s.TerminatedEvent({port:this._port})):this.sendEvent(new s.TerminatedEvent))}initializeRequest(e,t){this.log("la",`initializeRequest: adapterID: ${t.adapterID}`),t.locale&&(m=f.config({locale:t.locale})(n(0).join(__dirname,"node/nodeDebug.ts"))),"boolean"==typeof t.supportsRunInTerminalRequest&&(this._supportsRunInTerminalRequest=t.supportsRunInTerminalRequest),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!1,e.body.exceptionBreakpointFilters=[{label:m(11,null),filter:"all",default:!1},{label:m(12,null),filter:"uncaught",default:!0}],this._skipRejects&&e.body.exceptionBreakpointFilters.push({label:m(13,null),filter:"rejects",default:!1}),e.body.supportsSetVariable=!0,e.body.supportsRestartFrame=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsExceptionInfoRequest=!0,e.body.supportsDelayedStackTraceLoading=!0,e.body.supportsLogPoints=!0,e.body.supportsTerminateRequest="win32"!==process.platform,e.body.supportsLoadedSourcesRequest=!0,this.sendResponse(e)}launchRequest(e,t){if(this._processCommonArgs(e,t))return;if(t.__restart&&"number"==typeof t.__restart.port)return void this._attach(e,t,t.__restart.port,void 0,t.timeout);if(this._noDebug="boolean"==typeof t.noDebug&&t.noDebug,"string"==typeof t.console)switch(t.console){case"internalConsole":case"integratedTerminal":case"externalTerminal":this._console=t.console;break;default:return void this.sendErrorResponse(e,2028,m(14,null,t.console))}else"boolean"==typeof t.externalConsole&&t.externalConsole&&(this._console="externalTerminal");if(t.useWSL){if(!c.subsystemLinuxPresent())return void this.sendErrorResponse(e,2007,m(15,null));this._isWSL=!0}let n=t.runtimeExecutable;if(t.useWSL)n=n||R.NODE;else if(n)if(p.isAbsolute(n)){const r=a.findExecutable(n,t.env);if(!r)return void this.sendNotExistErrorResponse(e,"runtimeExecutable",n);n=r}else{const r=a.findOnPath(n,t.env);if(!r)return void this.sendErrorResponse(e,2001,m(16,null,"{_runtime}"),{_runtime:n});n=r}else{const r=a.findOnPath(R.NODE,t.env);if(!r)return void this.sendErrorResponse(e,2001,m(17,null,"{_runtime}"),{_runtime:R.NODE});n=r}let r=t.runtimeArgs||[];const s=t.args||[];let o=t.program;if(o){if(!p.isAbsolute(o))return void this.sendRelativePathErrorResponse(e,"program",o);if(!d.existsSync(o)){if(!d.existsSync(o+".js"))return void this.sendNotExistErrorResponse(e,"program",o);o+=".js"}o=p.normalize(o),a.normalizeDriveLetter(o)!==a.realPath(o)&&this.outLine(m(18,null))}if(t.runtimeArgs||this._noDebug||(r=["--nolazy"]),o){if(!R.isJavaScript(o))return this._sourceMaps?void this._sourceMaps.MapPathFromSource(o).then(i=>{i?(this.log("sm",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i,this.launchRequest2(e,t,o,s,n,r)):t.outFiles||t.outDir?this.sendErrorResponse(e,2009,m(20,null,"{path}"),{path:o}):this.sendErrorResponse(e,2003,m(21,null,"{path}","outFiles"),{path:o})}):void this.sendErrorResponse(e,2002,m(19,null,"{path}"),{path:o});if(this._sourceMaps)return void this._sourceMaps.MapPathFromSource(o).then(i=>{i&&i!==o?(this.log("sm",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i):this.log("sm",`launchRequest: program '${o}' seems to be the generated file`),this.launchRequest2(e,t,o,s,n,r)})}this.launchRequest2(e,t,o,s,n,r)}launchRequest2(e,t,n,o,i,h){return r(this,void 0,void 0,function*(){let r,f=t.cwd;if(f){if(!p.isAbsolute(f))return void this.sendRelativePathErrorResponse(e,"cwd",f);if(!d.existsSync(f))return void this.sendNotExistErrorResponse(e,"cwd",f);n&&(r=p.relative(f,n))}else n&&(f=p.dirname(n),r=p.basename(n));let g=t.port,_=[i].concat(h);this._noDebug||(t.port?t.runtimeExecutable||t.runtimeArgs||_.push(`--debug-brk=${g}`):(g=yield new Promise((e,t)=>{let n=0;const r=l.createServer();r.on("listening",e=>{const t=r.address();"object"==typeof t&&(n=t.port),r.close()}),r.on("close",()=>e(n)),r.on("error",e=>t(e)),r.listen(0,"127.0.0.1")}),_.push(`--debug-brk=${g}`))),r&&_.push(r),_=_.concat(o);const v=t.address,b=t.timeout;let y=t.env;if(t.envFile)try{const n=a.stripBOM(d.readFileSync(t.envFile,"utf8")),r={};n.split("\n").forEach(e=>{const t=e.match(/^\s*([\w\.\-]+)\s*=\s*(.*)?\s*$/);if(null!==t){const e=t[1];if(!process.env[e]){let n=t[2]||"";n.length>0&&'"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.replace(/\\n/gm,"\n")),r[e]=n.replace(/(^['"]|['"]$)/g,"")}}}),y=a.extendObject(r,t.env)}catch(t){return void this.sendErrorResponse(e,2029,m(22,null,"{_error}"),{_error:t.message})}const S=c.createLaunchArg(t.useWSL,this._supportsRunInTerminalRequest&&"externalTerminal"===this._console,f,_[0],_.slice(1),r);if(!t.useWSL||t.localRoot||t.remoteRoot||(this._localRoot=S.localRoot,this._remoteRoot=S.remoteRoot),!this._supportsRunInTerminalRequest||"externalTerminal"!==this._console&&"integratedTerminal"!==this._console){if(this._sendLaunchCommandToConsole(_),y=a.extendObject(a.extendObject({},process.env),y)){const e=y;Object.keys(e).filter(t=>null===e[t]).forEach(t=>delete e[t])}const n={cwd:f,env:y};if("win32"===process.platform&&S.executable.indexOf(" ")>0){let e=!1;const t=[];for(const n of S.args)n.indexOf(" ")>0?(t.push(`"${n}"`),e=!0):t.push(n);e&&(S.args=t,S.executable=`"${S.executable}"`,n.shell=!0)}const r=u.spawn(S.executable,S.args,n);r.on("error",t=>{this.sendErrorResponse(e,2017,m(25,null,"{_error}"),{_error:t.message},s.ErrorDestination.Telemetry|s.ErrorDestination.User),this._terminated(`failed to launch target (${t})`)}),r.on("exit",()=>{this._terminated("target exited")}),r.on("close",e=>{this._terminated("target closed")}),this._processId=r.pid,this._captureOutput(r),this._noDebug?this.sendResponse(e):this._attach(e,t,g,v,b)}else{const n={kind:"integratedTerminal"===this._console?"integrated":"external",title:m(23,null),cwd:S.cwd,args:S.combined,env:y};this.runInTerminalRequest(n,R.RUNINTERMINAL_TIMEOUT,n=>{n.success?(this._pollForNodeProcess=!t.runtimeExecutable&&!t.useWSL,this._noDebug?(this.sendResponse(e),this._terminated("cannot track process")):this._attach(e,t,g,v,b)):(this.sendErrorResponse(e,2011,m(24,null,"{_error}"),{_error:n.message}),this._terminated("terminal error: "+n.message))})}})}_sendLaunchCommandToConsole(e){let t="";for(let n of e)n.indexOf(" ")>=0?t+="'"+n+"'":t+=n,t+=" ";this.outLine(t)}_captureOutput(e){e.stdout.on("data",e=>{this.sendEvent(new s.OutputEvent(e.toString(),"stdout"))}),e.stderr.on("data",e=>{this.sendEvent(new s.OutputEvent(e.toString(),"stderr"))})}_processCommonArgs(e,t){let n=!0;if("boolean"==typeof t.trace?(this._trace=t.trace?["all"]:void 0,this._traceAll=t.trace):"string"==typeof t.trace&&(this._trace=t.trace.split(","),this._traceAll=this._trace.indexOf("all")>=0,this._trace.indexOf("dap")>=0&&(s.logger.setup(s.Logger.LogLevel.Verbose,!1),n=!1)),n&&s.logger.setup(s.Logger.LogLevel.Stop,!1),"boolean"==typeof t.stepBack&&(this._stepBack=t.stepBack),"boolean"==typeof t.mapToFilesOnDisk&&(this._mapToFilesOnDisk=t.mapToFilesOnDisk),"boolean"==typeof t.smartStep&&(this._smartStep=t.smartStep),Array.isArray(t.skipFiles)&&(this._skipFiles=t.skipFiles),"boolean"==typeof t.stopOnEntry&&(this._stopOnEntry=t.stopOnEntry),"boolean"==typeof t.restart&&(this._restartMode=t.restart),t.localRoot){const n=t.localRoot;if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,"localRoot",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,"localRoot",n),!0;this._localRoot=n}if(this._remoteRoot=t.remoteRoot,!this._sourceMaps&&(void 0===t.sourceMaps&&(t.sourceMaps=!0),"boolean"==typeof t.sourceMaps&&t.sourceMaps)){const n=t.outDir;if(n){if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,"outDir",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,"outDir",n),!0}this._sourceMaps=new i.SourceMaps(this,n,t.outFiles)}return!1}attachRequest(e,t){this._processCommonArgs(e,t)||(this._attachMode=!0,this._attach(e,t,t.port,t.address,t.timeout))}_attach(e,t,n,r,o){let i;n||(n=5858),this._port=n,i=r&&"localhost"!==r?r:"127.0.0.1",o||(o=R.ATTACH_TIMEOUT),this.log("la",`_attach: address: ${i} port: ${n}`);let a=!1;const c=new l.Socket;c.connect(n,i),c.on("connect",t=>{this.log("la","_attach: connected"),a=!0,this._node.startDispatch(c,c),this._isRunning().then(t=>{this._pollForNodeProcess&&this._pollForNodeTermination(),setTimeout(()=>{this._injectDebuggerExtensions().then(n=>{if(!this._stepBack){const e=this._node.embeddedHostVersion;!this._node.v8Version&&e>=7e4&&(this._stepBack=!0,this.sendEvent(new s.CapabilitiesEvent({supportsStepBack:!0})))}this.sendResponse(e),this._startInitialize(!t)})},10)}).catch(t=>{this._sendNodeResponse(e,t)})});const u=(new Date).getTime()+o;c.on("error",r=>{if(a)this.sendErrorResponse(e,2010,m(26,null,"{_error}"),{_error:r.message});else if("ECONNREFUSED"===r.code||"ECONNRESET"===r.code){(new Date).getTime()<u?setTimeout(()=>{this.log("la","_attach: retry socket.connect"),c.connect(n,i)},200):"number"==typeof t.port?this.sendErrorResponse(e,2033,m(27,null)):this.sendErrorResponse(e,2034,m(28,null))}else this.sendErrorResponse(e,2010,m(29,null,"{_error}"),{_error:r.message})}),c.on("end",e=>{this._terminated("socket end")})}_isRunning(){return new Promise((e,t)=>{this._isRunningWithRetry(0,e,t)})}_isRunningWithRetry(e,t,n){this._node.command("evaluate",{expression:"process.pid",global:!0},r=>{if(r.success&&void 0!==r.body.value?(this._nodeProcessId=+r.body.value,this.log("la",`__initialize: got process id ${this._nodeProcessId} from node`),this.logNodeVersion()):r.message.indexOf("process is not defined")>=0&&(this.log("la","__initialize: process not defined error; got no pid"),r.success=!0),r.success)t(r.running);else{if(this.log("la","__initialize: retrieving process id from node failed"),e<4)return void setTimeout(()=>{this._isRunningWithRetry(e+1,t,n)},100);n(r)}})}logNodeVersion(){this._node.command("evaluate",{expression:"process.version",global:!0},e=>{if(e.success&&void 0!==e.body.value){const t=e.body.value;this.sendEvent(new s.OutputEvent("nodeVersion","telemetry",{version:t})),this.log("la",`_initialize: target node version: ${t}`)}})}_pollForNodeTermination(){const e=setInterval(()=>{try{this._nodeProcessId>0?process.kill(this._nodeProcessId,0):clearInterval(e)}catch(t){clearInterval(e),this._terminated("node process kill exception")}},R.NODE_TERMINATION_POLL_INTERVAL)}_injectDebuggerExtensions(){if(this._tryToInjectExtension){const e=this._node.embeddedHostVersion;if(this._node.v8Version&&(e>=1200&&e<1e4||e>=40301&&e<5e4||e>=50600))try{const e={expression:d.readFileSync(p.join(__dirname,R.DEBUG_INJECTION),"utf8"),global:!0,disable_break:!0};return this._node.evaluate(e).then(e=>(this.log("la","_injectDebuggerExtensions: code injection successful"),this._nodeInjectionAvailable=!0,!0)).catch(e=>(this.log("la",`_injectDebuggerExtensions: code injection failed with error '${e.message}'`),!0))}catch(e){}}return Promise.resolve(!0)}_startInitialize(e,t=0){0===t&&this.log("la",`_startInitialize: stopped: ${e}`),!this._gotEntryEvent&&t<10?setTimeout(()=>{this._startInitialize(e,t+1)},50):this._gotEntryEvent?(this.log("la",`_startInitialize: got break on entry event after ${t} retries`),this._nodeProcessId<=0?this._node.command("evaluate",{expression:"process.pid",global:!0},t=>{t.success&&void 0!==t.body.value&&(this._nodeProcessId=+t.body.value,this.log("la",`_initialize: got process id ${this._nodeProcessId} from node (2nd try)`),this.logNodeVersion()),this._startInitialize2(e)}):this._startInitialize2(e)):(this.log("la",`_startInitialize: no entry event after ${t} retries; giving up`),this._gotEntryEvent=!0,this._node.command("frame",null,t=>{if(t.success){const e=this._getValueFromCache(t.body.script);this._rememberEntryLocation(e.name,t.body.line,t.body.column)}this._startInitialize2(e)}))}_startInitialize2(e){this.log("la","_startInitialize2: fire initialized event"),this.sendEvent(new s.InitializedEvent),this._attachSuccessful=!0,this._attachMode&&(this.log("la",`_startInitialize2: in attach mode we guess stopOnEntry flag to be '${e}''`),void 0===this._stopOnEntry&&(this._stopOnEntry=e)),this._stopOnEntry?(this.log("la","_startInitialize2: fire stop-on-entry event"),this._sendStoppedEvent("entry")):this._gotDebuggerEvent?this._needDebuggerEvent=!0:(this.log("la","_startInitialize2: remember to do a 'Continue' later"),this._needContinue=!0)}terminateRequest(e,t){!this._isWSL&&this._nodeProcessId>0&&process.kill(this._nodeProcessId,"SIGINT"),this.log("la","terminateRequest: send response"),this.sendResponse(e)}disconnectRequest(e,t){this.shutdown(),this.log("la","disconnectRequest: send response"),this.sendResponse(e)}shutdown(){if(!this._inShutdown){if(this._inShutdown=!0,this._attachMode)this._node.command("disconnect"),this._node.stop();else{this._node.stop(),this.log("la","shutdown: kill debugee and sub-processes");let e=this._processId;if(this._processId=-1,this._isWSL){e>0&&R.killTree(e);const t=this._nodeProcessId;if(t>0){this._nodeProcessId=-1;try{c.spawnSync(!0,"/bin/kill",["-9",t.toString()])}catch(e){}}}else this._nodeProcessId>0&&(e=this._nodeProcessId,this._nodeProcessId=-1),e>0&&R.killTree(e)}super.shutdown()}}setBreakPointsRequest(e,t){this.log("bp",`setBreakPointsRequest: ${JSON.stringify(t.source)} ${JSON.stringify(t.breakpoints)}`);const n=new Array;if(t.breakpoints)for(let e of t.breakpoints){let t;if(e.hitCondition){const n=R.HITCOUNT_MATCHER.exec(e.hitCondition.trim());if(n&&n.length>=3){let e=n[1]||">=";"="===e&&(e="==");const r=n[2];t=Function("hitcnt","%"===e?`return (hitcnt % ${r}) === 0;`:`return hitcnt ${e} ${r};`)}}n.push(new S(this.convertClientLineToDebugger(e.line),"number"==typeof e.column?this.convertClientColumnToDebugger(e.column):0,e.condition,e.logMessage,t))}else if(t.lines)for(let e of t.lines)n.push(new S(this.convertClientLineToDebugger(e)));const r=t.source,o=r.path?this.convertClientPathToDebugger(r.path):void 0;if(o){let e=!1;if(this._modifiedSources.has(o)?e=!0:"boolean"==typeof t.sourceModified&&t.sourceModified&&(e=!0,this._modifiedSources.add(o)),e){const e=m(30,null);for(let t of n)t.verificationMessage=e}}if(r.adapterData){if(r.adapterData.inlinePath)return void this._mapSourceAndUpdateBreakpoints(e,r.adapterData.inlinePath,n);if(r.adapterData.remotePath)return void this._updateBreakpoints(e,r.adapterData.remotePath,-1,n)}if(o&&R.NODE_INTERNALS_PREFIX.test(o))this._findScript(this._pathToScript(o)).then(t=>{t>=0?this._updateBreakpoints(e,null,t,n):this.sendErrorResponse(e,2019,m(31,null,"{_module}"),{_module:o})});else{if("number"==typeof r.sourceReference&&r.sourceReference>0){const t=this._sourceHandles.get(r.sourceReference);if(t&&t.scriptId)return void this._updateBreakpoints(e,null,t.scriptId,n)}o?this._mapSourceAndUpdateBreakpoints(e,o,n):this.sendErrorResponse(e,2012,"No valid source specified.",null,s.ErrorDestination.Telemetry)}}_mapSourceAndUpdateBreakpoints(e,t,n){Promise.resolve("").then(e=>this._sourceMaps?this._sourceMaps.MapPathFromSource(t):e).then(r=>{if(null!==r&&a.pathCompare(r,t)&&(this.log("bp","_mapSourceAndUpdateBreakpoints: source and generated are same -> ignore sourcemap"),r=""),r)Promise.all(n.map(e=>this._sourceMaps.MapFromSource(t,e.line,e.column))).then(s=>{for(let e=0;e<n.length;e++){const o=n[e],i=s[e];i?(this.log("sm",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: '${i.path}' ${i.line}:${i.column}`),i.path!==r?o.line=-1:(o.line=i.line,o.column=i.column)):(this.log("sm",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: couldn't be mapped; breakpoint ignored`),o.line=-1)}t=r,t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!0)});else{if(!R.isJavaScript(t))for(let e of n)e.line=-1;t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!1)}})}_updateBreakpoints(e,t,n,r,s=!1){this._node.listBreakpoints().then(e=>{const r=new Array,s=this._pathToRegexp(t);for(let t of e.body.breakpoints)switch(t.type){case"scriptId":n===t.script_id&&r.push(t.number);break;case"scriptRegExp":s===t.script_regexp&&r.push(t.number)}return this._clearBreakpoints(r)}).then(()=>Promise.all(r.map(e=>this._setBreakpoint(n,t,e,s)))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log("bp",`_updateBreakpoints: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_clearBreakpoints(e){return Promise.all(e.map(e=>this._node.clearBreakpoint({breakpoint:e}))).then(e=>{}).catch(e=>{})}_setBreakpoint(e,t,n,r){if(n.line<0){const e=new s.Breakpoint(!1);return e.message=m(32,null),Promise.resolve(e)}let o;return 0===n.line&&(n.column+=R.FIRST_LINE_OFFSET),o=e>0?{type:"scriptId",target:e,line:n.line,column:n.column,condition:n.condition}:{type:"scriptRegExp",target:this._pathToRegexp(t),line:n.line,column:n.column,condition:n.condition},this._node.setBreakpoint(o).then(e=>{this.log("bp",`_setBreakpoint: ${JSON.stringify(o)}`),n.hitter&&this._hitCounts.set(e.body.breakpoint,n);let s=o.line,i=o.column;const a=e.body.actual_locations;a.length>0&&(s=a[0].line,i=this._adjustColumn(s,a[0].column));let c=s,u=i;if(t&&r){if(s!==o.line||i!==o.column){const e=this._remoteToLocal(t);return this._sourceMaps.MapToSource(e,null,s,i).then(r=>(r?(this.log("sm",`_setBreakpoint: bp verification gen: '${e}' ${s}:${i} -> src: '${r.path}' ${r.line}:${r.column}`),c=r.line,u=r.column):(c=n.orgLine,u=n.orgColumn),this._setBreakpoint2(n,t,c,u,s,i)))}c=n.orgLine,u=n.orgColumn}return this._setBreakpoint2(n,t,c,u,s,i)}).catch(e=>new s.Breakpoint(!1))}_setBreakpoint2(e,t,n,o,i,c){return r(this,void 0,void 0,function*(){if(t&&a.pathCompare(this._entryPath,t)&&this._entryLine===i&&this._entryColumn===c){let t=!0;e.condition&&(t=yield this.evaluateCondition(e.condition)),!this._stopOnEntry&&t&&(this._needContinue=!1,this._needBreakpointEvent=!0,this.log("la","_setBreakpoint2: remember to fire a breakpoint event later"))}if(e.verificationMessage){const t=new s.Breakpoint(!1,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o));return t.message=e.verificationMessage,t}return new s.Breakpoint(!0,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o))})}evaluateCondition(e){const t={expression:e,frame:0,disable_break:!0};return this._node.evaluate(t).then(e=>!!e.body.value).catch(e=>!1)}_pathToRegexp(e){if(!e)return e;let t=e.replace(/([\/\\.?*()^${}|[\]])/g,"\\$1");if(/^[a-zA-Z]:\\/.test(e)){const e=t.substring(0,1).toUpperCase();t="["+e.toLowerCase()+e+"]"+t.substring(1)}return"^(.*[\\/\\\\])?"+t+"$"}setFunctionBreakPointsRequest(e,t){this._clearBreakpoints(this._functionBreakpoints).then(()=>(this._functionBreakpoints.length=0,Promise.all(t.breakpoints.map(e=>this._setFunctionBreakpoint(e))))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log("bp",`setFunctionBreakPointsRequest: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_setFunctionBreakpoint(e){let t={type:"function",target:e.name};return e.condition&&(t.condition=e.condition),this._node.setBreakpoint(t).then(e=>{this._functionBreakpoints.push(e.body.breakpoint);const t=e.body.actual_locations;if(t&&t.length>0){const e=this.convertDebuggerLineToClient(t[0].line),n=this.convertDebuggerColumnToClient(this._adjustColumn(e,t[0].column));return new s.Breakpoint(!0,e,n)}return new s.Breakpoint(!0)}).catch(e=>({verified:!1,message:e.message}))}setExceptionBreakPointsRequest(e,t){this.log("bp",`setExceptionBreakPointsRequest: ${JSON.stringify(t.filters)}`);let n=!1,r=!1;this._catchRejects=!1;const o=t.filters;o&&(n=o.indexOf("all")>=0,r=o.indexOf("uncaught")>=0,this._catchRejects=o.indexOf("rejects")>=0),Promise.all([this._node.setExceptionBreak({type:"all",enabled:n}),this._node.setExceptionBreak({type:"uncaught",enabled:r})]).then(t=>{this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2024,"Configuring exception break options failed ({_nodeError}).",{_nodeError:t.message},s.ErrorDestination.Telemetry)})}configurationDoneRequest(e,t){let n="nothing to do";this._needContinue&&(this._needContinue=!1,n="do a 'Continue'",this._node.command("continue")),this._needBreakpointEvent&&(this._needBreakpointEvent=!1,n="fire breakpoint event",this._sendBreakpointStoppedEvent(1)),this._needDebuggerEvent&&(this._needDebuggerEvent=!1,n="fire debugger statement event",this._sendStoppedEvent("debugger_statement")),this.log("la",`configurationDoneRequest: ${n}`),this.sendResponse(e)}threadsRequest(e){this._node.command("threads",null,t=>{const n=new Array;if(t.success){const e=t.body.threads;if(e)for(let t of e){const e=t.id;e>=0&&n.push(new s.Thread(e,`Thread (id: ${e})`))}}if(0===n.length){let e=R.DUMMY_THREAD_NAME;this._nodeProcessId>0&&this._node.hostVersion?e=`${e} (${this._nodeProcessId}, ${this._node.hostVersion})`:this._nodeProcessId>0?e=`${e} (${this._nodeProcessId})`:this._node.hostVersion&&(e=`${e} (${this._node.hostVersion})`),n.push(new s.Thread(R.DUMMY_THREAD_ID,e))}e.body={threads:n},this.sendResponse(e)})}stackTraceRequest(e,t){const n=t.threadId,r="number"==typeof t.startFrame?t.startFrame:0,o="number"==typeof t.levels?t.levels:10;let i=0;if(n!==R.DUMMY_THREAD_ID)return void this.sendErrorResponse(e,2014,"Unexpected thread reference {_thread}.",{_thread:n},s.ErrorDestination.Telemetry);const a={fromFrame:r,toFrame:r+o};this.log("va",`stackTraceRequest: backtrace ${r} ${o}`),this._node.backtrace(a).then(e=>{if(e.body.totalFrames>0||e.body.frames){const t=e.body.frames;return i=e.body.totalFrames,Promise.all(t.map(e=>this._createStackFrame(e)))}throw new Error("no stack")}).then(t=>{e.body={stackFrames:t,totalFrames:i},this.sendResponse(e)}).catch(t=>{"no stack"===t.message?"pause"===this._stoppedReason?this.sendErrorResponse(e,2022,m(33,null)):this.sendErrorResponse(e,2023,m(34,null)):this.sendErrorResponse(e,2018,m(35,null),{_command:t.command,_error:t.message})})}_createStackFrame(e){return this._resolveValues([e.script,e.func,e.receiver]).then(()=>{let t,n=e.line,r=this._adjustColumn(n,e.column),s=m(36,null);const o=this._getValueFromCache(e.script);if(o){let i,c=o.name;if(c&&this._mapToFilesOnDisk){const t=h.parse(c);if("file:"===t.protocol&&t.path&&(c=decodeURI(t.path)),a.isAbsolutePath(c)){let t=c,i=this._remoteToLocal(t);return i!==t&&this._attachMode&&(s=m(37,null)),this._sourceMaps?this._loadScript(o.id).then(o=>this._createStackFrameFromSourceMap(e,o.contents,c,i,t,s,n,r)):this._createStackFrameFromPath(e,c,i,t,s,n,r)}i=this._scriptToPath(o),s=m(38,null)}if(!c){if("number"!=typeof o.id)throw new Error("no script id");i=this._scriptToPath(o),c=p.basename(i)}const u=this._getScriptIdHandle(o.id);t=this._createSource(!1,c,i,u,s)}return this._createStackFrameFromSource(e,t,n,r)})}_createSource(e,t,n,r=0,o,i){let a=!1;if(n&&this.isSkipped(n)){const e=m(39,null);a=!0,o=o?`${o} (${e})`:e}else if(!e&&this._smartStep&&this._sourceMaps){const e=m(40,null);a=!0,o=o?`${o} (${e})`:e}t=p.basename(t);const c=new s.Source(t,n,r,o,i);return a&&(c.presentationHint="deemphasize"),c}_createStackFrameFromSourceMap(e,t,n,r,s,o,i,a){return this._sourceMaps.MapToSource(r,t,i,a).then(t=>t?(this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> src: '${t.path}' ${t.line}:${t.column}`),this._sameFile(t.path,this._compareContents,0,t.content).then(c=>{if(c){const n=this._createSource(!0,t.path,this.convertDebuggerPathToClient(t.path));return this._createStackFrameFromSource(e,n,t.line,t.column)}if(t.content){this.log("sm",`_createStackFrameFromSourceMap: source '${t.path}' doesn't exist -> use inlined source`);const n=this._getInlinedContentHandle(t.content);o=m(41,null);const r=this._createSource(!0,t.path,void 0,n,o,{inlinePath:t.path});return this._createStackFrameFromSource(e,r,t.line,t.column)}return this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> can't find source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)})):(this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> couldn't be mapped to source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)))}_getInlinedContentHandle(e){let t=this._inlinedContentHandle.get(e);return t||(t=this._sourceHandles.create(new E(0,e)),this._inlinedContentHandle.set(e,t)),t}_createStackFrameFromPath(e,t,n,r,s,o,i){const a=this._getValueFromCache(e.script).id;return this._sameFile(n,this._compareContents,a).then(c=>{let u;if(c)u=this._createSource(!1,t,this.convertDebuggerPathToClient(n));else{const e=this._getScriptIdHandle(a);u=this._createSource(!1,t,void 0,e,s,{remotePath:r})}return this._createStackFrameFromSource(e,u,o,i)})}_getScriptIdHandle(e){let t=this._scriptId2Handle.get(e);return t||(t=this._sourceHandles.create(new E(e)),this._scriptId2Handle.set(e,t)),t}_createStackFrameFromSource(e,t,n,r){const o=this._getFrameName(e),i=this._frameHandles.create(e);return new s.StackFrame(i,o,t,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(r))}_getFrameName(e){let t;const n=this._getValueFromCache(e.func);return n&&((t=n.inferredName)&&0!==t.length||(t=n.name)),t&&0!==t.length||(t=m(42,null)),t}_sameFile(e,t,n,r){return this._existsFile(e).then(s=>!!s&&(!t||!n&&!r||Promise.all([this._readFile(e),r?Promise.resolve(r):this._loadScript(n).then(e=>e.contents)]).then(e=>{let t=e[0],n=e[1];return n=n.replace(/\r\n/g,"\n"),t=(t=t.replace(/\r\n/g,"\n")).replace(/^#!.*\n/,""),n.indexOf(t)>=0}).catch(e=>!1)))}_readFile(e){e=a.normalizeDriveLetter(e);let t=this._files.get(e);return t||(this.log("ls",`__readFile: ${e}`),t=new Promise((t,n)=>{d.readFile(e,"utf8",(e,r)=>{e?n(e):t(a.stripBOM(r))})}),this._files.set(e,t)),t}_existsFile(e){return new Promise((t,n)=>{d.exists(e,t)})}scopesRequest(e,t){const n=this._frameHandles.get(t.frameId);if(!n)return void this.sendErrorResponse(e,2020,"stack frame not valid",null,s.ErrorDestination.Telemetry);const r=n.index,o=this._getValueFromCache(n.receiver),i={frame_index:r,frameNumber:r};let a="scopes";this._nodeInjectionAvailable&&(a="vscode_scopes",i.maxLocals=this._maxVariablesPerScope),this.log("va",`scopesRequest: scope ${r}`),this._node.command2(a,i).then(e=>{const t=e.body.scopes;return Promise.all(t.map(t=>{const n=t.type,r=1===n?o:void 0;let a,c=0===n;return n>=0&&n<R.SCOPE_NAMES.length?1===n&&"number"==typeof e.body.vscode_locals?(c=!0,a=m(43,null,i.maxLocals,e.body.vscode_locals)):a=R.SCOPE_NAMES[n]:a=m(44,null,n),this._resolveValues([t.object]).then(e=>{const n=e[0];return n?new s.Scope(a,this._variableHandles.create(new b(t,n,r)),c):new s.Scope(a,0)}).catch(e=>new s.Scope(a,0))}))}).then(t=>{if(0===r&&this._exception){const e=m(45,null);t.unshift(new s.Scope(e,this._variableHandles.create(new _(void 0,this._exception.exception))))}e.body={scopes:t},this.sendResponse(e)}).catch(t=>{e.body={scopes:[]},this.sendResponse(e)})}variablesRequest(e,t){const n=t.variablesReference,r=this._variableHandles.get(n);if(r){const n="indexed"===t.filter||"named"===t.filter?t.filter:"all";r.Expand(this,n,t.start,t.count).then(t=>{t.sort(R.compareVariableNames),e.body={variables:t},this.sendResponse(e)}).catch(t=>{e.body={variables:[]},this.sendResponse(e)})}else e.body={variables:[]},this.sendResponse(e)}_createProperties(e,t,n,r=0,s){if(t&&!t.properties){if(this._nodeInjectionAvailable){const o=t.handle;if("number"==typeof t.vscode_indexedCnt&&"number"==typeof o&&0!==o){void 0===s&&(s=t.vscode_indexedCnt);const i={handle:o,mode:n,start:r,count:s};return this._node.command2("vscode_slice",i).then(t=>{const n=t.body.result;return Promise.all(n.map(t=>this._createVariable(e,t.name,t.value)))})}}return Promise.resolve([])}const o=new Array;let i=!1;if(t.properties){s=s||t.properties.length;for(let e of t.properties)if("name"in e){const t=e.name;switch(t===R.PROTO&&(i=!0),n){case"all":o.push(e);break;case"named":w(t)||o.push(e);break;case"indexed":if(w(t)){const n=+t;n>=r&&n<r+s&&o.push(e)}}}}if(!i&&("all"===n||"named"===n)){t.handle>0&&(t.protoObject.name=R.PROTO,o.push(t.protoObject))}return this._createPropertyVariables(e,t,o)}_createPropertyVariables(e,t,n,r=!0,s=0){return this._resolveValues(n).then(()=>Promise.all(n.map(n=>{const o=this._getValueFromCache(n);let i;if(w(n.name)){const e=+n.name;i=`${s+e}`}else i=n.name;if(this._node.v8Version&&"undefined"===o.type&&!o.value&&t&&t.handle>=0){const n={expression:`obj['${i}']`,additional_context:[{name:"obj",handle:t.handle}],disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH};return this.log("va","_createPropertyVariables: trigger getter"),this._node.evaluate(n).then(t=>this._createVariable(e,i,t.body,r)).catch(t=>this._createVar(this._getEvaluateName(e,i),i,"undefined"))}return this._createVariable(e,i,o,r)})))}_createVariable(e,t,n,r=!0){t||(t='""');const s=n,o=this._getEvaluateName(e,t);switch(n.type){case"undefined":case"null":return Promise.resolve(this._createVar(o,t,n.type));case"string":return this._createStringVariable(e,t,n,r?void 0:R.PREVIEW_MAX_STRING_LENGTH);case"number":if("number"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString()));break;case"boolean":if("boolean"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString().toLowerCase()));break;case"set":case"map":if(this._node.v8Version)return this._createSetMapVariable(e,t,n);case"object":case"function":case"regexp":case"promise":case"generator":case"error":const i=n;let a=i.className;switch(a){case"Array":case"ArrayBuffer":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":return this._createArrayVariable(e,t,n,r);case"RegExp":if("string"==typeof i.text)return Promise.resolve(this._createVar(o,t,i.text,this._variableHandles.create(new _(o,n))));break;case"Generator":case"Object":return this._resolveValues(i.constructorFunction?[i.constructorFunction]:[]).then(e=>{if(e.length>0&&e[0]){const t=e[0].name;t&&(a=t)}if("promise"===n.type||"generator"===n.type)i.status&&(a+=` { ${i.status} }`);else if(i.properties)return this._objectPreview(i,r).then(e=>(e&&(a=`${a} ${e}`),this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))));return this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))});case"Function":case"Error":default:if(i.text){let e=i.text;if(e.indexOf("\n")>=0){const t=e.indexOf("{");t>0&&(e=e.substring(0,t)+"{ … }")}a=e}}return Promise.resolve(this._createVar(o,t,a,this._variableHandles.create(new _(o,n))))}return Promise.resolve(this._createVar(o,t,s.value?s.value.toString():"undefined"))}_createVar(e,t,n,r,o,i){const a=new s.Variable(t,n,r,o,i);return e&&(a.evaluateName=e),a}_getEvaluateName(e,t){if(void 0===e)return;if(!e)return t;let n;return e+(n=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/.test(t)?"."+t:/^\d+$/.test(t)?`[${t}]`:`[${JSON.stringify(t)}]`)}_objectPreview(e,t){if(t&&e&&e.properties&&e.properties.length>0){const t=e.properties.length;return this._createPropertyVariables(void 0,e,e.properties.slice(0,R.PREVIEW_PROPERTIES),!1).then(e=>{let n="{";for(let r=0;r<e.length;r++)n+=`${e[r].name}: ${e[r].value}`,r<e.length-1?n+=", ":t>R.PREVIEW_PROPERTIES&&(n+=" …");return n+="}"})}return Promise.resolve(null)}_arrayPreview(e,t,n){if(n&&e&&e.properties&&t>0){const n=new Array;for(let t=0;t<e.properties.length;t++){const r=e.properties[t];if(w(r.name)){const e=+r.name;if(e>=0&&e<R.PREVIEW_PROPERTIES&&(n.push(r),n.length>=R.PREVIEW_PROPERTIES))break}}return this._createPropertyVariables(void 0,e,n,!1).then(e=>{let n="[";for(let r=0;r<e.length;r++)n+=`${e[r].value}`,r<e.length-1?n+=", ":t>R.PREVIEW_PROPERTIES&&(n+=" …");return n+="]"})}return Promise.resolve(null)}_createArrayVariable(e,t,n,r){return this._getArraySize(n).then(s=>{let o=0,i=0,a="";return s.length>=2&&(o=s[0],i=s[1],a=o.toString()),this._arrayPreview(n,o,r).then(r=>{let s=`${n.className}[${a}]`;r&&(s=`${s} ${r}`);const c=this._getEvaluateName(e,t);return this._createVar(c,t,s,this._variableHandles.create(new _(c,n)),o,i)})})}_getArraySize(e){if("number"==typeof e.vscode_indexedCnt&&"number"==typeof e.vscode_namedCnt)return Promise.resolve([e.vscode_indexedCnt,e.vscode_namedCnt]);if(this._node.v8Version){const t={expression:"ArrayBuffer"===e.className?"JSON.stringify([ array.byteLength, 1 ])":"JSON.stringify([ array.length, Object.keys(array).length+1-array.length ])",disable_break:!0,additional_context:[{name:"array",handle:e.handle}]};return this.log("va","_getArraySize: array.length"),this._node.evaluate(t).then(e=>JSON.parse(e.body.value))}return Promise.resolve([])}_createSetMapVariable(e,t,n){const r={expression:"JSON.stringify([ obj.size, Object.keys(obj).length ])",disable_break:!0,additional_context:[{name:"obj",handle:n.handle}]};return this.log("va",`_createSetMapVariable: ${n.type}.size`),this._node.evaluate(r).then(r=>{const s=JSON.parse(r.body.value),o=s[0],i=s[1],a="set"===n.type?"Set":"Map",c=this._getEvaluateName(e,t);return this._createVar(c,t,`${a}[${o}]`,this._variableHandles.create(new v(c,n)),o,i)})}_createSetMapProperties(e,t){const n={expression:"var r = {}; Object.keys(obj).forEach(k => { r[k] = obj[k] }); r",disable_break:!0,additional_context:[{name:"obj",handle:t.handle}]};return this._node.evaluate(n).then(t=>this._createProperties(e,t.body,"named"))}_createSetElements(e,t,n){const r={expression:`var r = [], i = 0; set.forEach(v => { if (i >= ${t} && i < ${t+n}) r.push(v); i++; }); r`,disable_break:!0,additional_context:[{name:"set",handle:e.handle}]};return this.log("va",`_createSetElements: set.slice ${t} ${n}`),this._node.evaluate(r).then(e=>{const n=e.body.properties||[],r=new Array;for(let e of n)w(e.name)&&r.push(e);return this._createPropertyVariables(void 0,null,r,!0,t)})}_createMapElements(e,t,n){const r={expression:`var r=[],i=0; map.forEach((v,k) => { if (i >= ${t} && i < ${t+n}) { r.push(k+' → '+v); r.push(k); r.push(v);} i++; }); r`,disable_break:!0,additional_context:[{name:"map",handle:e.handle}]};return this.log("va",`_createMapElements: map.slice ${t} ${n}`),this._node.evaluate(r).then(e=>{const n=e.body.properties||[],r=new Array;for(let e of n)w(e.name)&&r.push(e);return this._resolveValues(r).then(()=>{const e=new Array;for(let n=0;n<r.length;n+=3){const s=this._getValueFromCache(r[n+1]),o=this._getValueFromCache(r[n+2]),i=new g((e,t)=>Promise.all([this._createVariable(void 0,"key",s),this._createVariable(void 0,"value",o)])),a=this._getValueFromCache(r[n]);e.push(this._createVar(void 0,(t+n/3).toString(),a.value,this._variableHandles.create(i)))}return e})})}_createStringVariable(e,t,n,r){let s=n.value;const o=this._getEvaluateName(e,t);if("number"==typeof r)return s.length>r&&(s=s.substr(0,r)+"…"),Promise.resolve(this._createVar(o,t,this._escapeStringValue(s)));if(this._node.v8Version&&R.LONG_STRING_MATCHER.exec(s)){const e={expression:"str",disable_break:!0,additional_context:[{name:"str",handle:n.handle}],maxStringLength:R.MAX_STRING_LENGTH};return this.log("va","_createStringVariable: get full string"),this._node.evaluate(e).then(e=>(s=e.body.value,this._createVar(o,t,this._escapeStringValue(s))))}return Promise.resolve(this._createVar(o,t,this._escapeStringValue(s)))}_escapeStringValue(e){return`"${e}"`}setVariableRequest(e,t){const n=t.variablesReference,r=t.name,s=t.value,o=this._variableHandles.get(n);o?o.SetValue(this,r,s).then(t=>{const n=t;e.body={value:n.value},n.type&&(e.body.type=n.type),n.variablesReference&&(e.body.variablesReference=n.variablesReference),"number"==typeof n.indexedVariables&&(e.body.indexedVariables=n.indexedVariables),"number"==typeof n.namedVariables&&(e.body.namedVariables=n.namedVariables),this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2004,t.message)}):this.sendErrorResponse(e,2025,g.SET_VALUE_ERROR)}_setVariableValue(e,t,n,r){const s={expression:r,disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH,frame:e};return this._node.evaluate(s).then(r=>{const s={scope:{frameNumber:e,number:t},name:n,newValue:r.body};return this._node.setVariableValue(s).then(e=>this._createVariable(void 0,"_setVariableValue",e.body.newValue))})}_setPropertyValue(e,t,n){if(this._node.v8Version){const r={global:!0,expression:`obj['${t}'] = ${n}`,disable_break:!0,additional_context:[{name:"obj",handle:e}],maxStringLength:R.MAX_STRING_LENGTH};return this._node.evaluate(r).then(e=>this._createVariable(void 0,"_setpropertyvalue",e.body))}return Promise.reject(new Error(g.SET_VALUE_ERROR))}pauseRequest(e,t){this._node.command("suspend",null,t=>{t.success?(this._stopped("pause"),this.sendResponse(e),this._sendStoppedEvent("pause")):this._sendNodeResponse(e,t)})}continueRequest(e,t){this._disableSkipFiles=!1,this._node.command("continue",null,t=>{this._sendNodeResponse(e,t)})}nextRequest(e,t){this._node.command("continue",{stepaction:"next"},t=>{this._sendNodeResponse(e,t)})}stepInRequest(e,t){this._node.command("continue",{stepaction:"in"},t=>{this._sendNodeResponse(e,t)})}stepOutRequest(e,t){this._disableSkipFiles=!1,this._node.command("continue",{stepaction:"out"},t=>{this._sendNodeResponse(e,t)})}stepBackRequest(e,t){this._node.command("continue",{stepaction:"back"},t=>{this._sendNodeResponse(e,t)})}reverseContinueRequest(e,t){this._disableSkipFiles=!1,this._node.command("continue",{stepaction:"reverse"},t=>{this._sendNodeResponse(e,t)})}restartFrameRequest(e,t){const n={frame:void 0};if(t.frameId>0){const r=this._frameHandles.get(t.frameId);if(!r)return void this.sendErrorResponse(e,2020,"stack frame not valid",null,s.ErrorDestination.Telemetry);n.frame=r.index}this._node.command("restartFrame",n,t=>{this._restartFramePending=!0,this._node.command("continue",{stepaction:"in"},t=>{this._sendNodeResponse(e,t)})})}evaluateRequest(e,t){const n={expression:t.expression,disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH};if("number"==typeof t.frameId&&t.frameId>0){const r=this._frameHandles.get(t.frameId);if(!r)return void this.sendErrorResponse(e,2020,"stack frame not valid",null,s.ErrorDestination.Telemetry);const o=r.index;n.frame=o}else n.global=!0;this._node.command(this._nodeInjectionAvailable?"vscode_evaluate":"evaluate",n,t=>{if(t.success)this._createVariable(void 0,"evaluate",t.body).then(t=>{t?e.body={result:t.value,variablesReference:t.variablesReference,namedVariables:t.namedVariables,indexedVariables:t.indexedVariables}:(e.success=!1,e.message=m(46,null)),this.sendResponse(e)});else{if(e.success=!1,0===t.message.indexOf("ReferenceError: ")||"No frames"===t.message)e.message=m(47,null);else if(0===t.message.indexOf("SyntaxError: ")){const n=t.message.substring("SyntaxError: ".length).toLowerCase();e.message=m(48,null,n)}else e.message=t.message;this.sendResponse(e)}})}sourceRequest(e,t){if(t.source&&t.source.sourceReference)this.sourceRequest2(e,t.source.sourceReference);else{if(!t.source||!t.source.path)return this.sourceRequest2(e,t.sourceReference);this._loadScript(this._pathToScript(t.source.path)).then(t=>{e.body={content:t.contents,mimeType:"text/javascript"},this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2026,m(49,null))})}}sourceRequest2(e,t){const n=this._sourceHandles.get(t);if(n){if(n.source)return e.body={content:n.source,mimeType:"text/javascript"},void this.sendResponse(e);if(n.scriptId)return void this._loadScript(n.scriptId).then(t=>{n.source=t.contents,e.body={content:n.source,mimeType:"text/javascript"},this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2026,m(50,null))})}this.sendErrorResponse(e,2027,"sourceRequest error: illegal handle",null,s.ErrorDestination.Telemetry)}_loadScript(e){if("number"==typeof e){let t=this._scripts.get(e);if(!t){this.log("ls",`_loadScript: ${e}`);const n={types:4,includeSource:!0,ids:[e]};t=this._node.scripts(n).then(e=>new y(e.body[0])),this._scripts.set(e,t)}return t}{this.log("ls",`_loadScript: ${e}`);const t={types:4,includeSource:!0,filter:e};return this._node.scripts(t).then(t=>{for(let n of t.body)if(n.name===e)return new y(n);throw new Error(`script ${e} not found`)})}}completionsRequest(e,t){const n=t.text,r=t.column,o=n.substring(0,r);let i,a=o.lastIndexOf(".");if(a>=0){const e=o.substr(a+1);(0===e.length||R.PROPERTY_NAME_MATCHER.test(e))&&(i=o.substr(0,a))}if(i){const r={expression:`(function(x){var a=[];for(var o=x;o;o=o.__proto__){a.push(Object.getOwnPropertyNames(o))};return JSON.stringify(a)})(${i})`,disable_break:!0,maxStringLength:R.MAX_JSON_LENGTH};if("number"==typeof t.frameId&&t.frameId>0){const n=this._frameHandles.get(t.frameId);if(!n)return void this.sendErrorResponse(e,2020,"stack frame not valid",null,s.ErrorDestination.Telemetry);const o=n.index;r.frame=o}else r.global=!0;this._node.evaluate(r).then(t=>{const r=new Set,s=new Array;let o=JSON.parse(t.body.value);for(let e=0;e<o.length;e++)for(let t of o[e])if(!w(t)&&!r.has(t)){r.add(t);const e={label:t,type:"property"};R.PROPERTY_NAME_MATCHER.test(t)||(e.text=`['${t}']`,a>0&&(e.start=a,e.length=n.length-a)),s.push(e)}e.body={targets:s},this.sendResponse(e)}).catch(t=>{e.body={targets:[]},this.sendResponse(e)})}else{if(")"===o[o.length-1])return e.body={targets:[]},void this.sendResponse(e);let n;if("number"==typeof t.frameId&&t.frameId>0&&(n=this._frameHandles.get(t.frameId)),!n)return void this.sendErrorResponse(e,2020,"stack frame not valid",null,s.ErrorDestination.Telemetry);this.scopesRequest2(n).then(t=>{e.body={targets:t},this.sendResponse(e)}).catch(t=>{e.body={targets:[]},this.sendResponse(e)})}}scopesRequest2(e){const t=e.index,n={frame_index:t,frameNumber:t};return this._node.command2("scopes",n).then(e=>{const t=e.body.scopes;return this._resolveValues(t.map(e=>e.object)).then(e=>{const t=new Set,n=new Array;for(let r of e)if(r&&r.properties)for(let e of r.properties)w(e.name)||t.has(e.name)||(t.add(e.name),n.push({label:e.name,type:"function"}));return n})}).catch(e=>[])}exceptionInfoRequest(e,t){t.threadId===R.DUMMY_THREAD_ID?this._exception?(e.body={exceptionId:"undefined",breakMode:this._exception.uncaught?"unhandled":"never"},Promise.resolve(this._exception.exception).then(t=>t?(t.className?e.body.exceptionId=t.className:t.type&&(e.body.exceptionId=t.type),t.text&&(e.body.description=t.text),this._createProperties(void 0,t,"named").then(e=>{if(e.length>0&&"stack"===e[0].name){const t=e[0].value;return"undefined"===t?void 0:t}}).catch(e=>{})):void 0).then(t=>{t&&(t.length>1&&'"'===t[0]&&'"'===t[t.length-1]&&(t=t.substr(1,t.length-2)),e.body.description&&0===t.indexOf(e.body.description)&&delete e.body.description,e.body.details={stackTrace:t}),this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2031,"exceptionInfoRequest error",void 0,s.ErrorDestination.Telemetry)})):this.sendErrorResponse(e,2032,"exceptionInfoRequest error: no stored exception",void 0,s.ErrorDestination.Telemetry):this.sendErrorResponse(e,2030,"exceptionInfoRequest error: invalid thread {_thread}.",{_thread:t.threadId},s.ErrorDestination.Telemetry)}loadedSourcesRequest(e,t){this._node.scripts({types:4}).then(t=>{const n=t.body.map(e=>this._scriptToSource(e));Promise.all(n).then(t=>{e.body={sources:t},this.sendResponse(e)})}).catch(t=>{this.sendErrorResponse(e,9999,`scripts error: ${t}`)})}customRequest(e,t,n){switch(e){case"toggleSkipFileStatus":this.toggleSkippingResource(t,n.resource);break;default:super.customRequest(e,t,n)}}log(e,t){this._trace&&(this._traceAll||this._trace.indexOf(e)>=0)&&this.outLine(`${process.pid}: ${t}`)}sendNotExistErrorResponse(e,t,n){this.sendErrorResponse(e,2007,m(51,null,t,"{path}"),{path:n})}sendRelativePathErrorResponse(e,t,n){const r=m(52,null,t,"{path}","${workspaceFolder}/");this.sendErrorResponseWithInfoLink(e,2008,r,{path:n},20003)}sendErrorResponseWithInfoLink(e,t,n,r,s){this.sendErrorResponse(e,{id:t,format:n,variables:r,showUser:!0,url:"http://go.microsoft.com/fwlink/?linkID=534832#_"+s.toString(),urlLabel:m(53,null)})}outLine(e){this.sendEvent(new s.OutputEvent(e+"\n","console"))}_localToRemote(e){if(this._remoteRoot&&this._localRoot){let t=a.makeRelative2(this._localRoot,e),n=a.join(this._remoteRoot,t);return/^[a-zA-Z]:[\/\\]/.test(this._remoteRoot)&&(n=a.toWindows(n)),this.log("bp",`_localToRemote: ${e} -> ${n}`),n}return e}_remoteToLocal(e){if(this._remoteRoot&&this._localRoot){let t=a.makeRelative2(this._remoteRoot,e),n=a.join(this._localRoot,t);return"win32"===process.platform&&(n=a.toWindows(n)),this.log("bp",`_remoteToLocal: ${e} -> ${n}`),n}return e}_sendNodeResponse(e,t){if(t.success)this.sendResponse(e);else{const n=t.message;n.indexOf("unresponsive")>=0?this.sendErrorResponse(e,2015,m(54,null),{_request:t.command}):n.indexOf("timeout")>=0?this.sendErrorResponse(e,2016,m(55,null),{_request:t.command}):this.sendErrorResponse(e,2013,"Node.js request '{_request}' failed (reason: {_error}).",{_request:t.command,_error:n},s.ErrorDestination.Telemetry)}}_cache(e,t){this._refCache.set(e,t)}_getValueFromCache(e){const t=this._refCache.get(e.ref);return t||null}_resolveValues(e){const t=new Array;for(let n of e)!n.value&&n.ref&&t.indexOf(n.ref)<0&&t.push(n.ref);return t.length>0?this._resolveToCache(t).then(()=>e.map(e=>this._getCache(e))):Promise.resolve(e.map(e=>this._getCache(e)))}_getCache(e){if("number"==typeof e.ref){const t=this._refCache.get(e.ref);return void 0===t?null:t}if("number"==typeof e.handle){const t=this._refCache.get(e.handle);return void 0===t?null:t}return null}_resolveToCache(e){const t=new Array;for(let n of e){this._refCache.get(n)||n>=0&&t.push(n)}if(t.length>0){const n=this._nodeInjectionAvailable?"vscode_lookup":"lookup";return this.log("va",`_resolveToCache: ${n} ${t.length} handles`),this._node.command2(n,{handles:t}).then(t=>{for(let e in t.body){const n=t.body[e],r=n.handle;this._cache(r,n)}return e.map(e=>this._refCache.get(e))}).catch(t=>{let n;n=t.message.indexOf("timeout")>=0?{type:"number",value:"<...>"}:{type:"number",value:`<data error: ${t.message}>`};for(let t=0;t<e.length;t++){const r=e[t];this._refCache.get(r)||this._cache(r,n)}return e.map(e=>this._refCache.get(e))})}return Promise.resolve(e.map(e=>this._refCache.get(e)))}_rememberEntryLocation(e,t,n){e&&(this._entryPath=e,this._entryLine=t,this._entryColumn=this._adjustColumn(t,n),this._gotEntryEvent=!0)}_adjustColumn(e,t){return 0===e&&(t-=R.FIRST_LINE_OFFSET)<0&&(t=0),t}_findScript(e){if("number"==typeof e)return Promise.resolve(e);const t={types:4,filter:e};return this._node.scripts(t).then(t=>{for(let n of t.body)if(n.name===e)return n.id;return-1}).catch(e=>-1)}static isJavaScript(e){const t=p.extname(e).toLowerCase();if(t){if(R.JS_EXTENSIONS.indexOf(t)>=0)return!0}else if("www"===p.basename(e).toLowerCase())return!0;try{const t=new Buffer(30),n=d.openSync(e,"r");d.readSync(n,t,0,t.length,0),d.closeSync(n);const r=t.toString();if(R.NODE_SHEBANG_MATCHER.test(r))return!0}catch(e){}return!1}static compareVariableNames(e,t){let n=e.name,r=t.name;if(n===R.PROTO)return 1;if(r===R.PROTO)return-1;n=R.extractNumber(n),r=R.extractNumber(r);const s=parseInt(n),o=parseInt(r),i=!isNaN(s),a=!isNaN(o);return i&&!a?1:!i&&a?-1:i&&a?s-o:n.localeCompare(r)}static extractNumber(e){return"["===e[0]&&"]"===e[e.length-1]?e.substring(1,e.length-1):e}static killTree(e){if("win32"===process.platform){const t=p.join(process.env.SystemRoot||"C:\\WINDOWS","System32","taskkill.exe");try{u.execSync(`${t} /F /T /PID ${e}`)}catch(e){}}else try{const t=p.join(__dirname,"terminateProcess.sh");u.spawnSync(t,[e.toString()])}catch(e){}}}R.MAX_STRING_LENGTH=1e4,R.MAX_JSON_LENGTH=5e5,R.NODE_TERMINATION_POLL_INTERVAL=3e3,R.ATTACH_TIMEOUT=1e4,R.RUNINTERMINAL_TIMEOUT=5e3,R.PREVIEW_PROPERTIES=3,R.PREVIEW_MAX_STRING_LENGTH=50,R.NODE="node",R.DUMMY_THREAD_ID=1,R.DUMMY_THREAD_NAME="Node",R.FIRST_LINE_OFFSET=62,R.PROTO="__proto__",R.DEBUG_INJECTION="debugInjection.js",R.NODE_INTERNALS="<node_internals>",R.NODE_INTERNALS_PREFIX=/^<node_internals>[\/\\]/,R.NODE_INTERNALS_VM=/^<node_internals>[\/\\]VM([0-9]+)/,R.JS_EXTENSIONS=[".js",".es6",".jsx",".mjs"],R.NODE_SHEBANG_MATCHER=new RegExp("#! */usr/bin/env +node"),R.LONG_STRING_MATCHER=/\.\.\. \(length: [0-9]+\)$/,R.HITCOUNT_MATCHER=/(>|>=|=|==|<|<=|%)?\s*([0-9]+)/,R.PROPERTY_NAME_MATCHER=/^[$_\w][$_\w0-9]*$/,R.SCOPE_NAMES=[m(56,null),m(57,null),m(58,null),m(59,null),m(60,null),m(61,null),m(62,null)],t.NodeDebugSession=R;const C=/^(0|[1-9][0-9]*)$/;function w(e){switch(typeof e){case"number":return!0;case"string":return C.test(e);default:return!1}}const x=/{(.*?)}/g;s.DebugSession.run(R)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14);t.DebugSession=r.DebugSession,t.InitializedEvent=r.InitializedEvent,t.TerminatedEvent=r.TerminatedEvent,t.StoppedEvent=r.StoppedEvent,t.ContinuedEvent=r.ContinuedEvent,t.OutputEvent=r.OutputEvent,t.ThreadEvent=r.ThreadEvent,t.BreakpointEvent=r.BreakpointEvent,t.ModuleEvent=r.ModuleEvent,t.LoadedSourceEvent=r.LoadedSourceEvent,t.CapabilitiesEvent=r.CapabilitiesEvent,t.Thread=r.Thread,t.StackFrame=r.StackFrame,t.Scope=r.Scope,t.Variable=r.Variable,t.Breakpoint=r.Breakpoint,t.Source=r.Source,t.Module=r.Module,t.CompletionItem=r.CompletionItem,t.ErrorDestination=r.ErrorDestination;const s=n(46);t.LoggingDebugSession=s.LoggingDebugSession;const o=n(22);t.Logger=o;const i=n(15);t.Event=i.Event,t.Response=i.Response;const a=n(48);t.Handles=a.Handles;const c=o.logger;t.logger=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),s=n(15);class o extends r.EventEmitter{constructor(){super(),this._pendingRequests=new Map}start(e,t){this._sequence=1,this._writableStream=t,this._rawData=new Buffer(0),e.on("data",e=>this._handleData(e)),e.on("close",()=>{this._emitEvent(new s.Event("close"))}),e.on("error",e=>{this._emitEvent(new s.Event("error","inStream error: "+(e&&e.message)))}),t.on("error",e=>{this._emitEvent(new s.Event("error","outStream error: "+(e&&e.message)))}),e.resume()}stop(){this._writableStream&&this._writableStream.end()}sendEvent(e){this._send("event",e)}sendResponse(e){e.seq>0?console.error(`attempt to send more than one response for command ${e.command}`):this._send("response",e)}sendRequest(e,t,n,r){const o={command:e};if(t&&Object.keys(t).length>0&&(o.arguments=t),this._writableStream){if(this._send("request",o),r){this._pendingRequests.set(o.seq,r);const e=setTimeout(()=>{clearTimeout(e);const t=this._pendingRequests.get(o.seq);t&&(this._pendingRequests.delete(o.seq),t(new s.Response(o,"timeout")))},n)}}else this._emitEvent(new s.Event("error","sendRequest: No writableStream"))}dispatchRequest(e){}_emitEvent(e){this.emit(e.event,e)}_send(e,t){if(t.type=e,t.seq=this._sequence++,this._writableStream){const e=JSON.stringify(t);this._writableStream.write(`Content-Length: ${Buffer.byteLength(e,"utf8")}\r\n\r\n${e}`,"utf8")}}_handleData(e){for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const e=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,e.length>0)try{let t=JSON.parse(e);if("request"===t.type)this.dispatchRequest(t);else if("response"===t.type){const e=t,n=this._pendingRequests.get(e.request_seq);n&&(this._pendingRequests.delete(e.request_seq),n(e))}}catch(e){this._emitEvent(new s.Event("error","Error handling data: "+(e&&e.message)))}continue}}else{const e=this._rawData.indexOf(o.TWO_CRLF);if(-1!==e){const t=this._rawData.toString("utf8",0,e).split("\r\n");for(let e=0;e<t.length;e++){const n=t[e].split(/: +/);"Content-Length"==n[0]&&(this._contentLength=+n[1])}this._rawData=this._rawData.slice(e+o.TWO_CRLF.length);continue}}break}}}o.TWO_CRLF="\r\n\r\n",t.ProtocolServer=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22),s=r.logger,o=n(14);t.LoggingDebugSession=class extends o.DebugSession{constructor(e,t,n){super(t,n),this.obsolete_logFilePath=e,this.on("error",e=>{s.error(e.body)})}start(e,t){super.start(e,t),s.init(e=>this.sendEvent(e),this.obsolete_logFilePath,this._isServer)}sendEvent(e){e instanceof r.LogOutputEvent||s.verbose(`To client: ${JSON.stringify(e)}`),super.sendEvent(e)}sendRequest(e,t,n,r){s.verbose(`To client: ${JSON.stringify(e)}(${JSON.stringify(t)}), timeout: ${n}`),super.sendRequest(e,t,n,r)}sendResponse(e){s.verbose(`To client: ${JSON.stringify(e)}`),super.sendResponse(e)}dispatchRequest(e){s.verbose(`From client: ${e.command}(${JSON.stringify(e.arguments)})`),super.dispatchRequest(e)}}},function(e,t,n){var r=n(0),s=n(1),o=parseInt("0777",8);function i(e,t,n,a){"function"==typeof t?(n=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,u=t.fs||s;void 0===c&&(c=o&~process.umask()),a||(a=null);var l=n||function(){};e=r.resolve(e),u.mkdir(e,c,function(n){if(!n)return l(null,a=a||e);switch(n.code){case"ENOENT":i(r.dirname(e),t,function(n,r){n?l(n,r):i(e,t,l,r)});break;default:u.stat(e,function(e,t){e||!t.isDirectory()?l(n,a):l(null,a)})}})}e.exports=i.mkdirp=i.mkdirP=i,i.sync=function e(t,n,i){n&&"object"==typeof n||(n={mode:n});var a=n.mode,c=n.fs||s;void 0===a&&(a=o&~process.umask()),i||(i=null),t=r.resolve(t);try{c.mkdirSync(t,a),i=i||t}catch(s){switch(s.code){case"ENOENT":i=e(r.dirname(t),n,i),e(t,n,i);break;default:var u;try{u=c.statSync(t)}catch(e){throw s}if(!u.isDirectory())throw s}}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Handles=class{constructor(e){this.START_HANDLE=1e3,this._handleMap=new Map,this._nextHandle="number"==typeof e?e:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE,this._handleMap=new Map}create(e){var t=this._nextHandle++;return this._handleMap.set(t,e),t}get(e,t){return this._handleMap.get(e)||t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),s=n(2).loadMessageBundle(n(0).join(__dirname,"node/nodeV8Protocol.ts"));class o{constructor(e){this.seq=0,this.type=e}}t.NodeV8Message=o;class i extends o{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}}t.NodeV8Response=i;class a extends o{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}t.NodeV8Event=a;class c extends r.EventEmitter{constructor(e){super(),this._pendingRequests=new Map,this.embeddedHostVersion=-1,this._responseHook=e}startDispatch(e,t){this._sequence=1,this._writableStream=t,e.on("data",e=>this.execute(e)),e.on("close",()=>{this.emitEvent(new a("close"))}),e.on("error",e=>{this.emitEvent(new a("error"))}),t.on("error",e=>{this.emitEvent(new a("error"))}),e.resume()}stop(){this._writableStream&&this._writableStream.end()}command(e,t,n){this._command(e,t,c.TIMEOUT,n)}command2(e,t,n=c.TIMEOUT){return new Promise((r,s)=>{this._command(e,t,n,t=>{t.success?r(t):(t.command||(t.command=e),s(t))})})}backtrace(e,t=c.TIMEOUT){return this.command2("backtrace",e)}restartFrame(e,t=c.TIMEOUT){return this.command2("restartframe",e)}evaluate(e,t=c.TIMEOUT){return this.command2("evaluate",e)}scripts(e,t=c.TIMEOUT){return this.command2("scripts",e)}setVariableValue(e,t=c.TIMEOUT){return this.command2("setvariablevalue",e)}frame(e,t=c.TIMEOUT){return this.command2("frame",e)}setBreakpoint(e,t=c.TIMEOUT){return this.command2("setbreakpoint",e)}setExceptionBreak(e,t=c.TIMEOUT){return this.command2("setexceptionbreak",e)}clearBreakpoint(e,t=c.TIMEOUT){return this.command2("clearbreakpoint",e)}listBreakpoints(e=c.TIMEOUT){return this.command2("listbreakpoints")}sendEvent(e){this.send("event",e)}sendResponse(e){e.seq>0||this.send("response",e)}_command(e,t,n,r){const o={command:e};if(t&&Object.keys(t).length>0&&(o.arguments=t),this._writableStream){if(this._unresponsiveMode)r&&r(new i(o,s(1,null)));else if(this.send("request",o),r){this._pendingRequests.set(o.seq,r);const t=setTimeout(()=>{clearTimeout(t);const r=this._pendingRequests.get(o.seq);r&&(this._pendingRequests.delete(o.seq),r(new i(o,s(2,null,n))),this._unresponsiveMode=!0,this.emitEvent(new a("diagnostic",{reason:`request '${e}' timed out'`})))},n)}}else r&&r(new i(o,s(0,null)))}emitEvent(e){this.emit(e.event,e)}send(e,t){t.type=e,t.seq=this._sequence++;const n=JSON.stringify(t),r="Content-Length: "+Buffer.byteLength(n,"utf8")+"\r\n\r\n"+n;this._writableStream&&this._writableStream.write(r)}internalDispatch(e){switch(e.type){case"event":const t=e;this.emitEvent(t);break;case"response":this._unresponsiveMode&&(this._unresponsiveMode=!1,this.emitEvent(new a("diagnostic",{reason:"responsive"})));const n=e,r=this._pendingRequests.get(n.request_seq);r&&(this._pendingRequests.delete(n.request_seq),this._responseHook&&this._responseHook(n),r(n))}}execute(e){for(this._rawData=this._rawData?Buffer.concat([this._rawData,e]):e;;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const e=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,e.length>0)try{this.internalDispatch(JSON.parse(e))}catch(e){}continue}}else{const e=this._rawData.indexOf(c.TWO_CRLF);if(-1!==e){const t=this._rawData.toString("utf8",0,e).split("\r\n");for(let e=0;e<t.length;e++){const n=t[e].split(/: +/);switch(n[0]){case"V8-Version":const e=n[1].match(/(\d+(?:\.\d+)+)/);e&&2===e.length&&(this.v8Version=e[1]);break;case"Embedding-Host":const t=n[1].match(/node\sv(\d+)\.(\d+)\.(\d+)/);t&&4===t.length?this.embeddedHostVersion=100*(100*parseInt(t[1])+parseInt(t[2]))+parseInt(t[3]):"Electron"===n[1]&&(this.embeddedHostVersion=60500);const r=n[1].match(/node\s(v\d+\.\d+\.\d+)/);r&&2===r.length&&(this.hostVersion=r[1]);break;case"Content-Length":this._contentLength=+n[1]}}this._rawData=this._rawData.slice(e+c.TWO_CRLF.length);continue}}break}}}c.TIMEOUT=1e4,c.TWO_CRLF="\r\n\r\n",t.NodeV8Protocol=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(51),i=n(23),a=n(52),c=n(70),u=n(16),l=n(85),h=n(8);var p;!function(e){e[e.GREATEST_LOWER_BOUND=1]="GREATEST_LOWER_BOUND",e[e.LEAST_UPPER_BOUND=2]="LEAST_UPPER_BOUND"}(p=t.Bias||(t.Bias={}));class d{constructor(e,t,n){this._sourceMapCache=new Map,this._generatedToSourceMaps=new Map,this._sourceToGeneratedMaps=new Map,this._session=e,n=n||[],t&&n.push(t+"/**/*.js"),n.length>0?this._preLoad=u.multiGlob(n).then(e=>Promise.all(e.map(e=>this._findSourceMapUrlInFile(e).then(t=>this._getSourceMap(t,e)).catch(e=>null))).then(e=>{}).catch(e=>{})):this._preLoad=Promise.resolve(void 0)}MapPathFromSource(e){return this._preLoad.then(()=>this._findSourceToGeneratedMapping(e).then(e=>e?e.generatedPath():null))}MapFromSource(e,t,n,r){return this._preLoad.then(()=>this._findSourceToGeneratedMapping(e).then(s=>{if(s){t+=1;const o=s.generatedPositionFor(e,t,n,r);if(o&&null!==o.line&&null!==o.column)return{path:s.generatedPath(),line:o.line-1,column:o.column}}return null}))}CannotMapLine(e,t,n,r){return this._preLoad.then(()=>this._findGeneratedToSourceMapping(e,t).then(e=>{if(e){n+=1;let t=e.originalPositionFor(n,r,p.GREATEST_LOWER_BOUND);return t||(t=e.originalPositionFor(n,r,p.LEAST_UPPER_BOUND)),!t||!t.source||null===t.line||null===t.column}return!1}))}MapToSource(e,t,n,r){return this._preLoad.then(()=>this._findGeneratedToSourceMapping(e,t).then(e=>{if(e){n+=1;let t=e.originalPositionFor(n,r,p.GREATEST_LOWER_BOUND);return t||(t=e.originalPositionFor(n,r,p.LEAST_UPPER_BOUND)),t&&t.source&&null!==t.line&&null!==t.column?{path:t.source,content:t.content,line:t.line-1,column:t.column}:null}return null}))}AllSources(e){return this._findGeneratedToSourceMapping(e).then(e=>e?e.allSourcePaths():void 0).catch(e=>{})}_findSourceToGeneratedMapping(e){if(!e)return Promise.resolve(null);const t=u.pathNormalize(e),n=this._sourceToGeneratedMaps.get(t);if(n)return Promise.resolve(n);let s=e;return Promise.resolve(null).then(t=>{if(".js"!==r.extname(e)){const t=e.lastIndexOf(".");if(t>=0)return s=e.substr(0,t)+".js",this._findGeneratedToSourceMapping(s)}return t}).then(e=>{if(!e){let e=r.sep+"src"+r.sep;if(s.indexOf(e)>=0){const t=r.sep+"out"+r.sep;return this._findGeneratedToSourceMapping(s.replace(e,t))}}return e}).then(e=>(e&&this._sourceToGeneratedMaps.set(t,e),e))}_findGeneratedToSourceMapping(e,t){if(!e)return Promise.resolve(null);const n=u.pathNormalize(e),r=this._generatedToSourceMaps.get(n);return r?Promise.resolve(r):this._findSourceMapUrlInFile(e,t).then(t=>{if(t)return this._getSourceMap(t,e);let n=e+".map";return s.existsSync(n)?this._getSourceMap(l.URI.file(n),e):Promise.resolve(null)})}_findSourceMapUrlInFile(e,t){return t?Promise.resolve(this._findSourceMapUrl(t,e)):this._readFile(e).then(t=>this._findSourceMapUrl(t,e)).catch(e=>null)}_findSourceMapUrl(e,t){const n=e.split("\n");for(let e=n.length-1;e>=Math.max(n.length-10,0);e--){const s=n[e].trim(),o=d.SOURCE_MAPPING_MATCHER.exec(s);if(o&&2===o.length){let e=o[1].trim();return t?(this._log(`_findSourceMapUrl: source map url found at end of generated file '${t}'`),l.URI.parse(e,r.dirname(t))):(this._log("_findSourceMapUrl: source map url found at end of generated content"),l.URI.parse(e))}}return null}_getSourceMap(e,t){if(!e)return Promise.resolve(null);const n=o.createHash("sha256").update(e.uri()).digest("hex");let r=this._sourceMapCache.get(n);if(!r)try{r=this._loadSourceMap(e,t,n),this._sourceMapCache.set(n,r)}catch(t){return this._log(`_loadSourceMap: loading source map '${e.uri()}' failed with exception: ${t}`),Promise.resolve(null)}return r}registerSourceMap(e,t,n){return f.newSourceMap(e,t,n).then(e=>(this._registerSourceMap(e),e))}_loadSourceMap(e,t,n){if(e.isFile()){const n=e.filePath();return this._readFile(n).then(e=>this.registerSourceMap(n,t,e))}if(e.isData()){const n=e.data();if(n)try{const e=new Buffer(n,"base64").toString();if(e)return this.registerSourceMap(t,t,e)}catch(e){throw new Error("exception while processing data url")}throw new Error("exception while processing data url")}if(e.isHTTP()){const o=r.join(i.tmpdir(),"com.microsoft.VSCode","node-debug","sm-cache"),c=r.join(o,n);return Promise.resolve(s.existsSync(c)).then(n=>{if(n)return this._readFile(c).then(e=>this.registerSourceMap(t,t,e));const r={url:e.uri(),followRedirects:5};return a.xhr(r).then(e=>this._writeFile(c,e.responseText).then(e=>this.registerSourceMap(t,t,e))).catch(e=>Promise.reject(a.getErrorStatusDescription(e.status)||e.toString()))})}throw new Error("url is not a valid source map")}_registerSourceMap(e){if(e){const t=u.pathNormalize(e.generatedPath());this._generatedToSourceMaps.set(t,e);const n=e.allSourcePaths();for(let r of n){const n=u.pathNormalize(r);this._sourceToGeneratedMaps.set(n,e),this._log(`_registerSourceMap: ${n} -> ${t}`)}}return e}_readFile(e,t="utf8"){return new Promise((n,r)=>{s.readFile(e,t,(e,t)=>{e?r(e):n(u.stripBOM(t))})})}_writeFile(e,t){return new Promise((n,o)=>{u.mkdirs(r.dirname(e)),s.writeFile(e,t,e=>{n(t)})})}_log(e){this._session.log("sm",e)}}d.SOURCE_MAPPING_MATCHER=new RegExp("^//[#@] ?sourceMappingURL=(.+)$"),t.SourceMaps=d;class f{static newSourceMap(e,t,n){return(new f).init(e,t,n)}constructor(){}init(e,t,n){this._sourcemapLocation=this.fixPath(r.dirname(e));const s=JSON.parse(n);if(!t){let n=s.file;u.isAbsolutePath(n)||(t=u.makePathAbsolute(e,n))}t=u.pathToNative(t),this._generatedFile=t,s.sourceRoot=this.fixPath(s.sourceRoot,"");for(let e=0;e<s.sources.length;e++)s.sources[e]=this.fixPath(s.sources[e]);this._sourceRoot=s.sourceRoot,this._sources=s.sources.map(h.normalize).map(e=>this._sourceRoot&&h.isAbsolute(this._sourceRoot)&&h.isAbsolute(e)?h.relative(this._sourceRoot,e):e);try{this._smc=new c.SourceMapConsumer(s)}catch(e){}return Promise.resolve(this)}generatedPath(){return this._generatedFile}allSourcePaths(){const e=new Array;for(let t of this._sources){h.isAbsolute(t)||(t=h.join(this._sourceRoot,t));let n=this.absolutePath(t);e.push(n)}return e}originalPositionFor(e,t,n){if(!this._smc)return null;const r={line:e,column:t,bias:n||p.LEAST_UPPER_BOUND},s=this._smc.originalPositionFor(r);if(s.source){const e=this._smc.sourceContentFor(s.source);e&&(s.content=e),s.source=this.absolutePath(s.source),s.source=u.pathToNative(s.source)}return s}generatedPositionFor(e,t,n,r){if(!this._smc)return null;const s=this.findSource(e);if(s){const e={source:s,line:t,column:n,bias:r||p.LEAST_UPPER_BOUND};return this._smc.generatedPositionFor(e)}return null}fixPath(e,t){return e?(e=e.replace(/\\/g,"/"),/^[a-zA-Z]\:\//.test(e)&&(e=encodeURI("file:///"+e)),e):t}unfixPath(e){return 0===e.indexOf("file://")&&(e=e.substr("file://".length),e=decodeURI(e),/^\/[a-zA-Z]\:\//.test(e)&&(e=e.substr(1))),e}findSource(e){e=u.pathNormalize(e);for(let t of this._sources){h.isAbsolute(t)||(t=h.join(this._sourceRoot,t));let n=this.absolutePath(t);if(e===(n=u.pathNormalize(n)))return t}return null}absolutePath(e){return h.isAbsolute(e)||(e=h.join(this._sourcemapLocation,e)),this.unfixPath(e)}}t.SourceMap=f},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),s=n(24),o=n(53),i=n(54),a=n(64),c=n(69),u=n(2);u.config(process.env.VSCODE_NLS_CONFIG);var l=u.loadMessageBundle(n(0).join(__dirname,"../node_modules/request-light/lib/main.js")),h=null,p=!0;function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){return Object.keys(t).forEach(function(n){return e[n]=t[n]})}),e}t.configure=function(e,t){h=e,p=t},t.xhr=function e(t){var n=function(e,t){void 0===t&&(t={});var n=r.parse(e),s=t.proxyUrl||function(e){return"http:"===e.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===e.protocol&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(n);if(!s)return null;var o=r.parse(s);if(!/^https?:$/.test(o.protocol))return null;var c={host:o.hostname,port:Number(o.port),auth:o.auth,rejectUnauthorized:"boolean"!=typeof t.strictSSL||t.strictSSL};return"http:"===n.protocol?new i(c):new a(c)}(t.url,{proxyUrl:h,strictSSL:p});return t=d({},t),"number"!=typeof(t=d(t,{agent:n,strictSSL:p})).followRedirects&&(t.followRedirects=5),function e(t){var n;return new Promise(function(i,a){var c=r.parse(t.url),u={hostname:c.hostname,port:c.port?parseInt(c.port):"https:"===c.protocol?443:80,path:c.path,method:t.type||"GET",headers:t.headers,agent:t.agent,rejectUnauthorized:"boolean"!=typeof t.strictSSL||t.strictSSL};t.user&&t.password&&(u.auth=t.user+":"+t.password);var l=function(r){r.statusCode>=300&&r.statusCode<400&&t.followRedirects&&t.followRedirects>0&&r.headers.location?i(e(d({},t,{url:r.headers.location,followRedirects:t.followRedirects-1}))):i({req:n,res:r})};(n="https:"===c.protocol?s.request(u,l):o.request(u,l)).on("error",a),t.timeout&&n.setTimeout(t.timeout),t.data&&n.write(t.data),n.end()})}(t).then(function(n){return new Promise(function(r,s){var o=n.res,i=o,a=o.headers&&o.headers["content-encoding"],u=!1;if("gzip"===a){var h=c.createGunzip();o.pipe(h),i=h}else if("deflate"===a){var p=c.createInflate();o.pipe(p),i=p}var d=[];i.on("data",function(e){return d.push(e)}),i.on("end",function(){if(!u){if(u=!0,t.followRedirects>0&&(o.statusCode>=300&&o.statusCode<=303||307===o.statusCode)){var n=o.headers.location;if(n)return void e({type:t.type,url:n,user:t.user,password:t.password,responseType:t.responseType,headers:t.headers,timeout:t.timeout,followRedirects:t.followRedirects-1,data:t.data}).then(r,s)}var i={responseText:d.join(""),status:o.statusCode};o.statusCode>=200&&o.statusCode<300||1223===o.statusCode?r(i):s(i)}}),i.on("error",function(e){var n={responseText:l(0,null,t.url,e.message),status:500};u=!0,s(n)})})},function(e){var r;return r=l(n?1:2,null,t.url,e.message),Promise.reject({responseText:r,status:404})})},t.getErrorStatusDescription=function(e){if(!(e<400))switch(e){case 400:return l(3,null);case 401:return l(4,null);case 403:return l(5,null);case 404:return l(6,null);case 405:return l(7,null);case 406:return l(8,null);case 407:return l(9,null);case 408:return l(10,null);case 409:return l(11,null);case 410:return l(12,null);case 411:return l(13,null);case 412:return l(14,null);case 413:return l(15,null);case 414:return l(16,null);case 415:return l(17,null);case 500:return l(18,null);case 501:return l(19,null);case 503:return l(20,null);default:return l(21,null,e)}}},function(e,t){e.exports=require("http")},function(e,t,n){var r=n(7),s=n(25),o=n(6),i=n(26),a=n(4).inherits,c=n(59)("http-proxy-agent");function u(e){if(!(this instanceof u))return new u(e);if("string"==typeof e&&(e=o.parse(e)),!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");c("creating new HttpProxyAgent instance: %o",e),i.call(this,e);var t=Object.assign({},e);this.secureProxy=!!t.protocol&&/^https:?$/i.test(t.protocol),t.host=t.hostname||t.host,t.port=+t.port||(this.secureProxy?443:80),t.host&&t.path&&(delete t.path,delete t.pathname),this.proxy=t}e.exports=u,a(u,i),u.prototype.callback=function(e,t,n){var i=this.proxy,a=o.parse(e.path);null==a.protocol&&(a.protocol="http:"),null==a.hostname&&(a.hostname=t.hostname||t.host),null==a.port&&(a.port=t.port),80==a.port&&delete a.port;var u,l=o.format(a);if(e.path=l,i.auth&&e.setHeader("Proxy-Authorization","Basic "+Buffer.from(i.auth).toString("base64")),u=this.secureProxy?s.connect(i):r.connect(i),e._header&&(c("regenerating stored HTTP header string for request"),e._header=null,e._implicitHeader(),e.output&&e.output.length>0)){c("patching connection write() output buffer with updated header");var h=e.output[0],p=h.indexOf("\r\n\r\n")+4;e.output[0]=e._header+h.substring(p),c("output buffer: %o",e.output)}n(null,u)}},function(e,t,n){"use strict";const r=n(6),s=n(24);var o;s.request=(o=s.request,function(e,t){let n;return null==(n="string"==typeof e?r.parse(e):Object.assign({},e)).port&&(n.port=443),n.secureEndpoint=!0,o.call(s,n,t)}),s.get=function(e,t){const n=s.request(e,t);return n.end(),n}},function(e,t,n){"use strict";e.exports=function(){var e=n(57);return function(t,n){return function(){for(var r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=arguments[o];var i=n&&n.multiArgs,a=void 0;return n&&n.thisArg?a=n.thisArg:n&&(a=n),new e(function(e,n){s.push(function(t){if(t)return n(t);for(var r=arguments.length,s=Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];if(!1==!!i)return e(s[0]);e(s)});var r,o=t.apply(a,s);(r=o)&&"function"==typeof r.then&&"function"==typeof r.catch&&e(o)})}}}()},function(e,t,n){"use strict";e.exports=function(){var e=void 0;return e=void 0!==global?global:void 0!==window&&window.document?window:self,function(){if(!e.hasOwnProperty("Promise"))return!1;var t,n=e.Promise;return!(!n.hasOwnProperty("resolve")||!n.hasOwnProperty("reject"))&&(!(!n.hasOwnProperty("all")||!n.hasOwnProperty("race"))&&(t=void 0,!!new e.Promise(function(e){t=e})&&"function"==typeof t))}()?e.Promise:n(58).Promise}()},function(e,t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.5+7f2b526d
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,r=void 0,s=void 0,o=function(e,t){p[n]=e,p[n+1]=t,2===(n+=2)&&(s?s(d):v())},i="undefined"!=typeof window?window:void 0,a=i||{},c=a.MutationObserver||a.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(d,1)}}var p=new Array(1e3);function d(){for(var e=0;e<n;e+=2){(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0}n=0}var f,m,g,_,v=void 0;function b(e,t){var n=this,r=new this.constructor(E);void 0===r[S]&&j(r);var s=n._state;if(s){var i=arguments[s-1];o(function(){return I(s,r,i,n._result)})}else F(n,r,e,t);return r}function y(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(E);return A(t,e),t}u?v=function(){return process.nextTick(d)}:c?(m=0,g=new c(d),_=document.createTextNode(""),g.observe(_,{characterData:!0}),v=function(){_.data=m=++m%2}):l?((f=new MessageChannel).port1.onmessage=d,v=function(){return f.port2.postMessage(0)}):v=void 0===i?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(d)}:h()}catch(e){return h()}}():h();var S=Math.random().toString(36).substring(2);function E(){}var R=void 0,C=1,w=2,x={error:null};function O(e){try{return e.then}catch(e){return x.error=e,x}}function k(t,n,r){n.constructor===t.constructor&&r===b&&n.constructor.resolve===y?function(e,t){t._state===C?P(e,t._result):t._state===w?L(e,t._result):F(t,void 0,function(t){return A(e,t)},function(t){return L(e,t)})}(t,n):r===x?(L(t,x.error),x.error=null):void 0===r?P(t,n):e(r)?function(e,t,n){o(function(e){var r=!1,s=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?A(e,n):P(e,n))},function(t){r||(r=!0,L(e,t))},e._label);!r&&s&&(r=!0,L(e,s))},e)}(t,n,r):P(t,n)}function A(e,t){var n,r;e===t?L(e,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=t),null===n||"object"!==r&&"function"!==r?P(e,t):k(e,t,O(t)))}function T(e){e._onerror&&e._onerror(e._result),M(e)}function P(e,t){e._state===R&&(e._result=t,e._state=C,0!==e._subscribers.length&&o(M,e))}function L(e,t){e._state===R&&(e._state=w,e._result=t,o(T,e))}function F(e,t,n,r){var s=e._subscribers,i=s.length;e._onerror=null,s[i]=t,s[i+C]=n,s[i+w]=r,0===i&&e._state&&o(M,e)}function M(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,s=void 0,o=e._result,i=0;i<t.length;i+=3)r=t[i],s=t[i+n],r?I(n,r,s,o):s(o);e._subscribers.length=0}}function I(t,n,r,s){var o=e(r),i=void 0,a=void 0,c=void 0,u=void 0;if(o){if((i=function(e,t){try{return e(t)}catch(e){return x.error=e,x}}(r,s))===x?(u=!0,a=i.error,i.error=null):c=!0,n===i)return void L(n,new TypeError("A promises callback cannot return that same promise."))}else i=s,c=!0;n._state!==R||(o&&c?A(n,i):u?L(n,a):t===C?P(n,i):t===w&&L(n,i))}var N=0;function j(e){e[S]=N++,e._state=void 0,e._result=void 0,e._subscribers=[]}var D=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(E),this.promise[S]||j(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&P(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===R&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===y){var s=O(e);if(s===b&&e._state!==R)this._settledAt(e._state,t,e._result);else if("function"!=typeof s)this._remaining--,this._result[t]=e;else if(n===q){var o=new n(E);k(o,e,s),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===R&&(this._remaining--,e===w?L(r,n):this._result[t]=n),0===this._remaining&&P(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;F(e,void 0,function(e){return n._settledAt(C,t,e)},function(e){return n._settledAt(w,t,e)})},e}(),q=function(){function t(e){this[S]=N++,this._result=this._state=void 0,this._subscribers=[],E!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){A(e,t)},function(t){L(e,t)})}catch(t){L(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return q.prototype.then=b,q.all=function(e){return new D(this,e).promise},q.race=function(e){var n=this;return t(e)?new n(function(t,r){for(var s=e.length,o=0;o<s;o++)n.resolve(e[o]).then(t,r)}):new n(function(e,t){return t(new TypeError("You must pass an array to race."))})},q.resolve=y,q.reject=function(e){var t=new this(E);return L(t,e),t},q._setScheduler=function(e){s=e},q._setAsap=function(e){o=e},q._asap=o,q.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=q},q.Promise=q,q},e.exports=r()},function(e,t,n){"undefined"==typeof process||"renderer"===process.type?e.exports=n(60):e.exports=n(62)},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(27)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var s=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(s++,"%c"===e&&(o=s))}),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},function(e,t){var n=1e3,r=60*n,s=60*r,o=24*s,i=365.25*o;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*i;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*s;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?a(c=e,o,"day")||a(c,s,"hour")||a(c,r,"minute")||a(c,n,"second")||c+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=s)return Math.round(e/s)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(28),s=n(4);(t=e.exports=n(27)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return process.stderr.write(s.format.apply(s,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,s="[3"+(r<8?r:"8;5;"+r),o="  "+s+";1m"+n+" [0m";e[0]=o+e[0].split("\n").join("\n"+o),e.push(s+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=i,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var o=n(29);o&&o.level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}function i(){return process.env.DEBUG}t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)},t.enable(i())},function(e,t,n){"use strict";e.exports=((e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),s=t.indexOf("--");return-1!==r&&(-1===s||r<s)})},function(e,t,n){var r=n(7),s=n(25),o=n(6),i=n(26),a=n(4).inherits,c=n(65)("https-proxy-agent");function u(e){if(!(this instanceof u))return new u(e);if("string"==typeof e&&(e=o.parse(e)),!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");c("creating new HttpsProxyAgent instance: %o",e),i.call(this,e);var t=Object.assign({},e);this.secureProxy=!!t.protocol&&/^https:?$/i.test(t.protocol),t.host=t.hostname||t.host,t.port=+t.port||(this.secureProxy?443:80),!this.secureProxy||"ALPNProtocols"in t||(t.ALPNProtocols=["http 1.1"]),t.host&&t.path&&(delete t.path,delete t.pathname),this.proxy=t,this.defaultPort=443}e.exports=u,a(u,i),u.prototype.callback=function(e,t,n){var o,i=this.proxy;o=this.secureProxy?s.connect(i):r.connect(i);var a=[],u=0;function l(){var e=o.read();e?m(e):o.once("readable",l)}function h(){o.removeListener("data",m),o.removeListener("end",d),o.removeListener("error",f),o.removeListener("close",p),o.removeListener("readable",l)}function p(e){c("onclose had error %o",e)}function d(){c("onend")}function f(e){h(),n(e)}function m(r){a.push(r),u+=r.length;var i=Buffer.concat(a,u),p=i.toString("ascii");if(!~p.indexOf("\r\n\r\n"))return c("have not received end of HTTP headers yet..."),void(o.read?l():o.once("data",m));var d=p.substring(0,p.indexOf("\r\n")),f=+d.split(" ")[1];if(c("got proxy server response: %o",d),200==f){var _=o;a=i=null,t.secureEndpoint&&(c("upgrading proxy-connected socket to TLS connection: %o",t.host),t.socket=o,t.servername=t.servername||t.host,t.host=null,t.hostname=null,t.port=null,_=s.connect(t)),h(),n(null,_)}else h(),a=i,e.once("socket",g),n(null,o)}function g(e){if("function"==typeof e.ondata)e.ondata(a,0,a.length);else{if(!(e.listeners("data").length>0))throw new Error("should not happen...");e.emit("data",a)}a=null}o.on("error",f),o.on("close",p),o.on("end",d),o.read?l():o.once("data",m);var _="CONNECT "+(t.host+":"+t.port)+" HTTP/1.1\r\n",v=Object.assign({},i.headers);i.auth&&(v["Proxy-Authorization"]="Basic "+Buffer.from(i.auth).toString("base64"));var b,y,S=t.host;b=t.port,y=t.secureEndpoint,Boolean(!y&&80===b||y&&443===b)||(S+=":"+t.port),v.Host=S,v.Connection="close",Object.keys(v).forEach(function(e){_+=e+": "+v[e]+"\r\n"}),o.write(_+"\r\n")}},function(e,t,n){"use strict";"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(66):e.exports=n(68)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(s=r))}),t.splice(s,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(30)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var n=1e3,r=60*n,s=60*r,o=24*s,i=7*o,a=365.25*o;function c(e,t,n,r){var s=t>=1.5*n;return Math.round(e/n)+" "+r+(s?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*s;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return c(e,t,o,"day");if(t>=s)return c(e,t,s,"hour");if(t>=r)return c(e,t,r,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=s)return Math.round(e/s)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=n(28),s=n(4);t.init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return process.stderr.write(s.format.apply(s,arguments)+"\n")},t.formatArgs=function(n){var r=this.namespace;if(this.useColors){var s=this.color,o="[3"+(s<8?s:"8;5;"+s),i="  ".concat(o,";1m").concat(r," [0m");n[0]=i+n[0].split("\n").join("\n"+i),n.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var o=n(29);o&&(o.stderr||o).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),e.exports=n(30)(t);var i=e.exports.formatters;i.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)}},function(e,t){e.exports=require("zlib")},function(e,t,n){t.SourceMapGenerator=n(31).SourceMapGenerator,t.SourceMapConsumer=n(73).SourceMapConsumer,t.SourceNode=n(76).SourceNode},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,n){var r=n(8);function s(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}s.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},s.prototype.add=function(e){var t,n,s,o,i,a;t=this._last,n=e,s=t.generatedLine,o=n.generatedLine,i=t.generatedColumn,a=n.generatedColumn,o>s||o==s&&a>=i||r.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},s.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=s},function(e,t,n){var r=n(8),s=n(74),o=n(33).ArraySet,i=n(32),a=n(75).quickSort;function c(e,t){var n=e;return"string"==typeof e&&(n=r.parseSourceMapInput(e)),null!=n.sections?new h(n,t):new u(n,t)}function u(e,t){var n=e;"string"==typeof e&&(n=r.parseSourceMapInput(e));var s=r.getArg(n,"version"),i=r.getArg(n,"sources"),a=r.getArg(n,"names",[]),c=r.getArg(n,"sourceRoot",null),u=r.getArg(n,"sourcesContent",null),l=r.getArg(n,"mappings"),h=r.getArg(n,"file",null);if(s!=this._version)throw new Error("Unsupported version: "+s);c&&(c=r.normalize(c)),i=i.map(String).map(r.normalize).map(function(e){return c&&r.isAbsolute(c)&&r.isAbsolute(e)?r.relative(c,e):e}),this._names=o.fromArray(a.map(String),!0),this._sources=o.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(e){return r.computeSourceURL(c,e,t)}),this.sourceRoot=c,this.sourcesContent=u,this._mappings=l,this._sourceMapURL=t,this.file=h}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function h(e,t){var n=e;"string"==typeof e&&(n=r.parseSourceMapInput(e));var s=r.getArg(n,"version"),i=r.getArg(n,"sections");if(s!=this._version)throw new Error("Unsupported version: "+s);this._sources=new o,this._names=new o;var a={line:-1,column:0};this._sections=i.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=r.getArg(e,"offset"),s=r.getArg(n,"line"),o=r.getArg(n,"column");if(s<a.line||s===a.line&&o<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=n,{generatedOffset:{generatedLine:s+1,generatedColumn:o+1},consumer:new c(r.getArg(e,"map"),t)}})}c.fromSourceMap=function(e,t){return u.fromSourceMap(e,t)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,n){var s,o=t||null;switch(n||c.GENERATED_ORDER){case c.GENERATED_ORDER:s=this._generatedMappings;break;case c.ORIGINAL_ORDER:s=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;s.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=r.computeSourceURL(i,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,o)},c.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var o=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,s.LEAST_UPPER_BOUND);if(i>=0){var a=this._originalMappings[i];if(void 0===e.column)for(var c=a.originalLine;a&&a.originalLine===c;)o.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++i];else for(var u=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==u;)o.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++i]}return o},t.SourceMapConsumer=c,u.prototype=Object.create(c.prototype),u.prototype.consumer=c,u.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=r.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},u.fromSourceMap=function(e,t){var n=Object.create(u.prototype),s=n._names=o.fromArray(e._names.toArray(),!0),i=n._sources=o.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map(function(e){return r.computeSourceURL(n.sourceRoot,e,t)});for(var c=e._mappings.toArray().slice(),h=n.__generatedMappings=[],p=n.__originalMappings=[],d=0,f=c.length;d<f;d++){var m=c[d],g=new l;g.generatedLine=m.generatedLine,g.generatedColumn=m.generatedColumn,m.source&&(g.source=i.indexOf(m.source),g.originalLine=m.originalLine,g.originalColumn=m.originalColumn,m.name&&(g.name=s.indexOf(m.name)),p.push(g)),h.push(g)}return a(n.__originalMappings,r.compareByOriginalPositions),n},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),u.prototype._parseMappings=function(e,t){for(var n,s,o,c,u,h=1,p=0,d=0,f=0,m=0,g=0,_=e.length,v=0,b={},y={},S=[],E=[];v<_;)if(";"===e.charAt(v))h++,v++,p=0;else if(","===e.charAt(v))v++;else{for((n=new l).generatedLine=h,c=v;c<_&&!this._charIsMappingSeparator(e,c);c++);if(o=b[s=e.slice(v,c)])v+=s.length;else{for(o=[];v<c;)i.decode(e,v,y),u=y.value,v=y.rest,o.push(u);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");b[s]=o}n.generatedColumn=p+o[0],p=n.generatedColumn,o.length>1&&(n.source=m+o[1],m+=o[1],n.originalLine=d+o[2],d=n.originalLine,n.originalLine+=1,n.originalColumn=f+o[3],f=n.originalColumn,o.length>4&&(n.name=g+o[4],g+=o[4])),E.push(n),"number"==typeof n.originalLine&&S.push(n)}a(E,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=E,a(S,r.compareByOriginalPositions),this.__originalMappings=S},u.prototype._findMapping=function(e,t,n,r,o,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return s.search(e,t,o,i)},u.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(n>=0){var s=this._generatedMappings[n];if(s.generatedLine===t.generatedLine){var o=r.getArg(s,"source",null);null!==o&&(o=this._sources.at(o),o=r.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var i=r.getArg(s,"name",null);return null!==i&&(i=this._names.at(i)),{source:o,line:r.getArg(s,"originalLine",null),column:r.getArg(s,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},u.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var s,o=e;if(null!=this.sourceRoot&&(o=r.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(s=r.urlParse(this.sourceRoot))){var i=o.replace(/^file:\/\//,"");if("file"==s.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!s.path||"/"==s.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(s>=0){var o=this._originalMappings[s];if(o.source===n.source)return{line:r.getArg(o,"generatedLine",null),column:r.getArg(o,"generatedColumn",null),lastColumn:r.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=u,h.prototype=Object.create(c.prototype),h.prototype.constructor=c,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),h.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=s.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn}),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},h.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(r.getArg(e,"source"))){var s=n.consumer.generatedPositionFor(e);if(s)return{line:s.line+(n.generatedOffset.generatedLine-1),column:s.column+(n.generatedOffset.generatedLine===s.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},h.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var s=this._sections[n],o=s.consumer._generatedMappings,i=0;i<o.length;i++){var c=o[i],u=s.consumer._sources.at(c.source);u=r.computeSourceURL(s.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var l=null;c.name&&(l=s.consumer._names.at(c.name),this._names.add(l),l=this._names.indexOf(l));var h={source:u,generatedLine:c.generatedLine+(s.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(s.generatedOffset.generatedLine===c.generatedLine?s.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:l};this.__generatedMappings.push(h),"number"==typeof h.originalLine&&this.__originalMappings.push(h)}a(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),a(this.__originalMappings,r.compareByOriginalPositions)},t.IndexedSourceMapConsumer=h},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,r,s){if(0===n.length)return-1;var o=function e(n,r,s,o,i,a){var c=Math.floor((r-n)/2)+n,u=i(s,o[c],!0);return 0===u?c:u>0?r-c>1?e(c,r,s,o,i,a):a==t.LEAST_UPPER_BOUND?r<o.length?r:-1:c:c-n>1?e(n,c,s,o,i,a):a==t.LEAST_UPPER_BOUND?c:n<0?-1:n}(-1,n.length,e,n,r,s||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===r(n[o],n[o-1],!0);)--o;return o}},function(e,t){function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t,s,o){if(s<o){var i=s-1;n(e,(l=s,h=o,Math.round(l+Math.random()*(h-l))),o);for(var a=e[o],c=s;c<o;c++)t(e[c],a)<=0&&n(e,i+=1,c);n(e,i+1,c);var u=i+1;r(e,t,s,u-1),r(e,t,u+1,o)}var l,h}t.quickSort=function(e,t){r(e,t,0,e.length-1)}},function(e,t,n){var r=n(31).SourceMapGenerator,s=n(8),o=/(\r?\n)/,i="$$$isSourceNode$$$";function a(e,t,n,r,s){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==s?null:s,this[i]=!0,null!=r&&this.add(r)}a.fromStringWithSourceMap=function(e,t,n){var r=new a,i=e.split(o),c=0,u=function(){return e()+(e()||"");function e(){return c<i.length?i[c++]:void 0}},l=1,h=0,p=null;return t.eachMapping(function(e){if(null!==p){if(!(l<e.generatedLine)){var t=(n=i[c]||"").substr(0,e.generatedColumn-h);return i[c]=n.substr(e.generatedColumn-h),h=e.generatedColumn,d(p,t),void(p=e)}d(p,u()),l++,h=0}for(;l<e.generatedLine;)r.add(u()),l++;if(h<e.generatedColumn){var n=i[c]||"";r.add(n.substr(0,e.generatedColumn)),i[c]=n.substr(e.generatedColumn),h=e.generatedColumn}p=e},this),c<i.length&&(p&&d(p,u()),r.add(i.splice(c).join(""))),t.sources.forEach(function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=s.join(n,e)),r.setSourceContent(e,o))}),r;function d(e,t){if(null===e||void 0===e.source)r.add(t);else{var o=n?s.join(n,e.source):e.source;r.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[i]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[i]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[i]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[i]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[s.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][i]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(s.fromSetString(r[t]),this.sourceContents[r[t]])},a.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),s=!1,o=null,i=null,a=null,c=null;return this.walk(function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(o===r.source&&i===r.line&&a===r.column&&c===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),o=r.source,i=r.line,a=r.column,c=r.name,s=!0):s&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,s=!1);for(var u=0,l=e.length;u<l;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===l?(o=null,s=!1):s&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}},t.SourceNode=a},function(e,t,n){var r=n(0),s="win32"===process.platform,o=n(1),i=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(i){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}r.normalize;if(s)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(s)var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else u=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,i,a,l,h=e,p={},d={};function f(){var t=u.exec(e);n=t[0].length,i=t[0],a=t[0],l="",s&&!d[a]&&(o.lstatSync(a),d[a]=!0)}for(f();n<e.length;){c.lastIndex=n;var m=c.exec(e);if(l=i,i+=m[0],a=l+m[1],n=c.lastIndex,!(d[a]||t&&t[a]===a)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,a))g=t[a];else{var _=o.lstatSync(a);if(!_.isSymbolicLink()){d[a]=!0,t&&(t[a]=a);continue}var v=null;if(!s){var b=_.dev.toString(32)+":"+_.ino.toString(32);p.hasOwnProperty(b)&&(v=p[b])}null===v&&(o.statSync(a),v=o.readlinkSync(a)),g=r.resolve(l,v),t&&(t[a]=g),s||(p[b]=v)}e=r.resolve(g,e.slice(n)),f()}}return t&&(t[h]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=a(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var i,l,h,p,d=e,f={},m={};function g(){var t=u.exec(e);i=t[0].length,l=t[0],h=t[0],p="",s&&!m[h]?o.lstat(h,function(e){if(e)return n(e);m[h]=!0,_()}):process.nextTick(_)}function _(){if(i>=e.length)return t&&(t[d]=e),n(null,e);c.lastIndex=i;var r=c.exec(e);return p=l,l+=r[0],h=p+r[1],i=c.lastIndex,m[h]||t&&t[h]===h?process.nextTick(_):t&&Object.prototype.hasOwnProperty.call(t,h)?y(t[h]):o.lstat(h,v)}function v(e,r){if(e)return n(e);if(!r.isSymbolicLink())return m[h]=!0,t&&(t[h]=h),process.nextTick(_);if(!s){var i=r.dev.toString(32)+":"+r.ino.toString(32);if(f.hasOwnProperty(i))return b(null,f[i],h)}o.stat(h,function(e){if(e)return n(e);o.readlink(h,function(e,t){s||(f[i]=t),b(e,t)})})}function b(e,s,o){if(e)return n(e);var i=r.resolve(p,s);t&&(t[o]=i),y(i)}function y(t){e=r.resolve(t,e.slice(i)),g()}g()}},function(e,t,n){var r=n(79),s=n(80);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var o=[];var i=s("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body);var u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body);var h=c||u;var g=i.body.indexOf(",")>=0;if(!h&&!g)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+a+i.post,e(t)):[t];var _;if(h)_=i.body.split(/\.\./);else if(1===(_=function e(t){if(!t)return[""];var n=[];var r=s("{","}",t);if(!r)return t.split(",");var o=r.pre;var i=r.body;var a=r.post;var c=o.split(",");c[c.length-1]+="{"+i+"}";var u=e(a);a.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u));n.push.apply(n,c);return n}(i.body)).length&&1===(_=e(_[0],!1).map(p)).length){var v=i.post.length?e(i.post,!1):[""];return v.map(function(e){return i.pre+_[0]+e})}var b=i.pre;var v=i.post.length?e(i.post,!1):[""];var y;if(h){var S=l(_[0]),E=l(_[1]),R=Math.max(_[0].length,_[1].length),C=3==_.length?Math.abs(l(_[2])):1,w=f,x=E<S;x&&(C*=-1,w=m);var O=_.some(d);y=[];for(var k=S;w(k,E);k+=C){var A;if(u)"\\"===(A=String.fromCharCode(k))&&(A="");else if(A=String(k),O){var T=R-A.length;if(T>0){var P=new Array(T+1).join("0");A=k<0?"-"+P+A.slice(1):P+A}}y.push(A)}}else y=r(_,function(t){return e(t,!1)});for(var L=0;L<y.length;L++)for(var F=0;F<v.length;F++){var M=b+y[L]+v[F];(!n||h||M)&&o.push(M)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(i).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(h)};var o="\0SLASH"+Math.random()+"\0",i="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function h(e){return e.split(o).join("\\").split(i).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function p(e){return"{"+e+"}"}function d(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function m(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var r=[],s=0;s<e.length;s++){var o=t(e[s],s);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t,n){e instanceof RegExp&&(e=s(e,n)),t instanceof RegExp&&(t=s(t,n));var r=o(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function s(e,t){var n=t.match(e);return n?n[0]:null}function o(e,t,n){var r,s,o,i,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){for(r=[],o=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),u]:((s=r.pop())<o&&(o=s,i=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[o,i])}return a}e.exports=r,r.range=o},function(e,t,n){try{var r=n(4);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(82)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){e.exports=f,f.GlobSync=m;var r=n(1),s=n(35),o=n(11),i=(o.Minimatch,n(34).Glob,n(4),n(0)),a=n(36),c=n(17),u=n(37),l=(u.alphasort,u.alphasorti,u.setopts),h=u.ownProp,p=u.childrenIgnored,d=u.isIgnored;function f(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new m(e,t).found}function m(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof m))return new m(e,t);if(l(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}m.prototype._finish=function(){if(a(this instanceof m),this.realpath){var e=this;this.matches.forEach(function(t,n){var r=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),r[s.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;r[e._makeAbs(o)]=!0}})}u.finish(this)},m.prototype._process=function(e,t,n){a(this instanceof m);for(var r,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,s).join("/")}var i,u=e.slice(s);null===r?i=".":c(r)||c(e.join("/"))?(r&&c(r)||(r="/"+r),i=r):i=r;var l=this._makeAbs(i);p(this,i)||(u[0]===o.GLOBSTAR?this._processGlobStar(r,i,l,u,t,n):this._processReaddir(r,i,l,u,t,n))},m.prototype._processReaddir=function(e,t,n,r,s,o){var a=this._readdir(n,o);if(a){for(var c=r[0],u=!!this.minimatch.negate,l=c._glob,h=this.dot||"."===l.charAt(0),p=[],d=0;d<a.length;d++){if("."!==(g=a[d]).charAt(0)||h)(u&&!e?!g.match(c):g.match(c))&&p.push(g)}var f=p.length;if(0!==f)if(1!==r.length||this.mark||this.stat){r.shift();for(d=0;d<f;d++){var m;g=p[d];m=e?[e,g]:[g],this._process(m.concat(r),s,o)}}else{this.matches[s]||(this.matches[s]=Object.create(null));for(var d=0;d<f;d++){var g=p[d];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=i.join(this.root,g)),this._emitMatch(s,g)}}}},m.prototype._emitMatch=function(e,t){if(!d(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},m.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=r.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var s=n&&n.isSymbolicLink();return this.symlinks[e]=s,s||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},m.prototype._readdir=function(e,t){if(t&&!h(this.symlinks,e))return this._readdirInGlobStar(e);if(h(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,r.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},m.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},m.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},m.prototype._processGlobStar=function(e,t,n,r,s,o){var i=this._readdir(n,o);if(i){var a=r.slice(1),c=e?[e]:[],u=c.concat(a);this._process(u,s,!1);var l=i.length;if(!this.symlinks[n]||!o)for(var h=0;h<l;h++){if("."!==i[h].charAt(0)||this.dot){var p=c.concat(i[h],a);this._process(p,s,!0);var d=c.concat(i[h],r);this._process(d,s,!0)}}}},m.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&c(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=i.join(this.root,e):(e=i.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},m.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&h(this.cache,t)){var s=this.cache[t];if(Array.isArray(s)&&(s="DIR"),!n||"DIR"===s)return s;if(n&&"FILE"===s)return!1}var o=this.statCache[t];if(!o){var i;try{i=r.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(i&&i.isSymbolicLink())try{o=r.statSync(t)}catch(e){o=i}else o=i}this.statCache[t]=o;s=!0;return o&&(s=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,(!n||"FILE"!==s)&&s},m.prototype._mark=function(e){return u.mark(this,e)},m.prototype._makeAbs=function(e){return u.makeAbs(this,e)}},function(e,t,n){var r=n(38),s=Object.create(null),o=n(39);e.exports=r(function(e,t){return s[e]?(s[e].push(t),null):(s[e]=[t],function(e){return o(function t(){var n=s[e],r=n.length,o=function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}(arguments);try{for(var i=0;i<r;i++)n[i].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick(function(){t.apply(null,o)})):delete s[e]}})}(e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),s=n(16);function o(e){return/^[a-zA-Z]\:\\/.test(e)}function i(e,t){return e[0]===t?e.substr(1):e}function a(e,t){return e[e.length-1]===t?e.substr(0,e.length-1):e}class c{static file(e,t){if("string"!=typeof e)throw new Error("string expected");if(!s.isAbsolutePath(e)){if(!t)throw new Error("base path missing");if(!s.isAbsolutePath(t))throw new Error("base path not absolute");e=o(t)?a(t,"\\")+"\\"+i(e,"\\"):a(t,"/")+"/"+i(e,"/")}o(e)&&(e=e.replace(/\\/g,"/")),"/"!==(e=e.replace(/\/\.\//g,"/"))[0]&&(e="/"+e),e=encodeURI("file://"+e);const n=new c;n._uri=e;try{n._u=r.parse(e)}catch(e){throw new Error(e)}return n}static parse(e,t){if(0===e.indexOf("http:")||0===e.indexOf("https:")||0===e.indexOf("file:")||0===e.indexOf("data:")){const t=new c;t._uri=e;try{t._u=r.parse(e)}catch(e){throw new Error(e)}return t}return c.file(e,t)}constructor(){}uri(){return this._uri}isFile(){return"file:"===this._u.protocol}filePath(){let e=this._u.path;return e=decodeURI(e),/^\/[a-zA-Z]\:\//.test(e)&&(e=(e=e.substr(1)).replace(/\//g,"\\")),e}isData(){return"data:"===this._u.protocol&&this._uri.indexOf("application/json")>0&&this._uri.indexOf("base64")>0}data(){const e=this._uri.lastIndexOf(",");return e>0?this._uri.substr(e+1):null}isHTTP(){return"http:"===this._u.protocol||"https:"===this._u.protocol}}t.URI=c}]);