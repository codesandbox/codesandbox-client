module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=198)}([function(e,t){e.exports=require("vscode")},function(e,t,r){"use strict";Object.defineProperty(t,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(t,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(t,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(t,"configs",{value:r(209)})},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.configuration=void 0;const i=r(0),s=r(40),o=r(32),a=r(69),c=r(41),u=r(70),l=r(200),d=r(202);class h{constructor(){this.leaderDefault="\\",this.cursorTypeMap={line:i.TextEditorCursorStyle.Line,block:i.TextEditorCursorStyle.Block,underline:i.TextEditorCursorStyle.Underline,"line-thin":i.TextEditorCursorStyle.LineThin,"block-outline":i.TextEditorCursorStyle.BlockOutline,"underline-thin":i.TextEditorCursorStyle.UnderlineThin},this.handleKeys=[],this.useSystemClipboard=!1,this.useCtrlKeys=!1,this.overrideCopy=!0,this.textwidth=80,this.hlsearch=!1,this.ignorecase=!0,this.smartcase=!0,this.autoindent=!0,this.camelCaseMotion={enable:!0},this.replaceWithRegister=!1,this.sneak=!1,this.sneakUseIgnorecaseAndSmartcase=!1,this.sneakReplacesF=!1,this.surround=!0,this.argumentObjectSeparators=[","],this.argumentObjectOpeningDelimiters=["(","["],this.argumentObjectClosingDelimiters=[")","]"],this.easymotion=!1,this.easymotionMarkerBackgroundColor="",this.easymotionMarkerForegroundColorOneChar="#ff0000",this.easymotionMarkerForegroundColorTwoChar="#ffa500",this.easymotionMarkerWidthPerChar=8,this.easymotionDimBackground=!0,this.easymotionMarkerFontFamily="Consolas",this.easymotionMarkerFontSize="14",this.easymotionMarkerFontWeight="normal",this.easymotionMarkerMargin=0,this.easymotionKeys="hklyuiopnm,qwertzxcvbasdgjf;",this.easymotionJumpToAnywhereRegex="\\b[A-Za-z0-9]|[A-Za-z0-9]\\b|_.|#.|[a-z][A-Z]",this.autoSwitchInputMethod={enable:!1,defaultIM:"",obtainIMCmd:"",switchIMCmd:""},this.timeout=1e3,this.showcmd=!0,this.showmodename=!0,this.leader=this.leaderDefault,this.history=50,this.incsearch=!0,this.startInInsertMode=!1,this.statusBarColorControl=!1,this.statusBarColors={normal:"#005f5f",insert:"#5f0000",visual:"#5f00af",visualline:"#005f87",visualblock:"#86592d",replace:"#000000"},this.debug={silent:!1,loggingLevelForAlert:"error",loggingLevelForConsole:"error"},this.searchHighlightColor="",this.searchHighlightTextColor="",this.highlightedyank={enable:!1,color:"rgba(250, 240, 170, 0.5)",textColor:"",duration:200},this.boundKeyCombinations=[],this.visualstar=!1,this.mouseSelectionGoesIntoVisualMode=!0,this.changeWordIncludesWhitespace=!1,this.foldfix=!1,this.disableExtension=!1,this.enableNeovim=!1,this.neovimPath="",this.vimrc={enable:!1,path:""},this.digraphs={},this.gdefault=!1,this.substituteGlobalFlag=!1,this.whichwrap="",this.wrapKeys={},this.startofline=!0,this.report=2,this.wrapscan=!0,this.scroll=0,this.cursorStylePerMode={normal:void 0,insert:void 0,visual:void 0,visualline:void 0,visualblock:void 0,replace:void 0},this.insertModeKeyBindings=[],this.insertModeKeyBindingsNonRecursive=[],this.normalModeKeyBindings=[],this.normalModeKeyBindingsNonRecursive=[],this.visualModeKeyBindings=[],this.visualModeKeyBindingsNonRecursive=[],this.commandLineModeKeyBindings=[],this.commandLineModeKeyBindingsNonRecursive=[]}async load(){let e=s.Globals.isTesting?s.Globals.mockConfiguration:this.getConfiguration("vim");for(const t in this){let r=e[t];null!=r&&(r.constructor.name===Object.name&&(r=h.unproxify(r)),this[t]=r)}this.vimrc.enable&&await l.vimrc.load(this),this.leader=o.Notation.NormalizeKey(this.leader,this.leaderDefault);const r=await c.configurationValidator.validate(t.configuration);this.wrapKeys={};for(const e of this.whichwrap.split(","))this.wrapKeys[e]=!0;this.boundKeyCombinations=[];for(let e of d.contributes.keybindings){if(e.when.includes("listFocus"))continue;let t=e.key;"darwin"===process.platform?t=e.mac||t:"linux"===process.platform&&(t=e.linux||t),this.boundKeyCombinations.push({key:o.Notation.NormalizeKey(t,this.leader),command:e.command})}u.decoration.load(this);for(const e of this.boundKeyCombinations){let t=!0,r=this.handleKeys[e.key];void 0!==r?t=r:this.useCtrlKeys||"C-"!==e.key.slice(1,3)||(t=!("<C-c>"!==e.key||!this.overrideCopy)),a.VsCodeContext.Set("vim.use"+e.key,t)}return a.VsCodeContext.Set("vim.overrideCopy",this.overrideCopy),a.VsCodeContext.Set("vim.overrideCtrlC",this.overrideCopy||this.useCtrlKeys),r}getConfiguration(e=""){const t=i.window.activeTextEditor,r=t?t.document.uri:null;return i.workspace.getConfiguration(e,r)}cursorStyleFromString(e){return this.cursorTypeMap[e]}get editorCursorStyle(){return this.cursorStyleFromString(this.editorCursorStyleRaw)}set editorCursorStyle(e){}getScrollLines(e){return 0===this.scroll?Math.ceil((e[0].end.line-e[0].start.line)/2):this.scroll}getCursorStyleForMode(e){const t=this.cursorStylePerMode[e.toLowerCase()];if(t)return this.cursorStyleFromString(t)}static unproxify(e){let t={};for(const r in e){let n=e[r];null!=n&&(t[r]=n)}return t}}function f(e){return function(t,r){Object.defineProperty(t,r,{get:function(){let t=this["_"+r];return void 0!==t&&""!==t||(t=this.getConfiguration("editor").get(e.settingName,e.defaultValue),e.map&&void 0!==t&&(t=e.map.get(t))),t},set:function(t){if(this["_"+r]=t,void 0!==t&&""!==t&&!s.Globals.isTesting){if(e.map)for(let[r,n]of e.map.entries())if(t===n){t=r;break}this.getConfiguration("editor").update(e.settingName,t,i.ConfigurationTarget.Global)}},enumerable:!0,configurable:!0})}}n([f({settingName:"tabSize",defaultValue:8})],h.prototype,"tabstop",void 0),n([f({settingName:"cursorStyle",defaultValue:"line"})],h.prototype,"editorCursorStyleRaw",void 0),n([f({settingName:"insertSpaces",defaultValue:!1})],h.prototype,"expandtab",void 0),n([f({settingName:"lineNumbers",defaultValue:!0,map:new Map([["on",!0],["off",!1],["relative",!1],["interval",!1]])})],h.prototype,"number",void 0),n([f({settingName:"lineNumbers",defaultValue:!1,map:new Map([["on",!1],["off",!1],["relative",!0],["interval",!1]])})],h.prototype,"relativenumber",void 0),n([f({settingName:"wordSeparators",defaultValue:"/\\()\"':,.;<>~!@#$%^&*|+=[]{}`?-"})],h.prototype,"iskeyword",void 0),t.configuration=new h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Position=t.sorted=t.laterOf=t.earlierOf=t.PositionDiff=t.PositionDiffType=void 0;const n=r(0),i=r(71),s=r(2),o=r(4),a=r(28);var c;!function(e){e[e.Offset=0]="Offset",e[e.ExactCharacter=1]="ExactCharacter",e[e.ObeyStartOfLine=2]="ObeyStartOfLine"}(c=t.PositionDiffType||(t.PositionDiffType={}));class u{constructor({line:e=0,character:t=0,type:r=c.Offset}={}){this.line=e,this.character=t,this.type=r}static newBOLDiff(e=0){return new u({line:e,character:0,type:c.ExactCharacter})}toString(){switch(this.type){case c.Offset:return`[ Diff: Offset ${this.line} ${this.character} ]`;case c.ExactCharacter:return`[ Diff: ExactCharacter ${this.line} ${this.character} ]`;case c.ObeyStartOfLine:return`[ Diff: ObeyStartOfLine ${this.line} ]`;default:throw new Error("Unknown PositionDiffType: "+this.type)}}}t.PositionDiff=u,t.earlierOf=function(e,t){return e.isBefore(t)?e:t},t.laterOf=function(e,t){return e.isBefore(t)?t:e},t.sorted=function(e,t){return e.isBefore(t)?[e,t]:[t,e]};class l extends n.Position{constructor(e,t){super(e,t)}toString(){return`[${this.line}, ${this.character}]`}static FromVSCodePosition(e){return new l(e.line,e.character)}subtract(e){return new u({line:this.line-e.line,character:this.character-e.character})}add(e,{boundsCheck:t=!0}={}){let r,n=this.line+e.line;if(e.type===c.Offset)r=this.character+e.character;else if(e.type===c.ExactCharacter)r=e.character;else{if(e.type!==c.ObeyStartOfLine)throw new Error("Unknown PositionDiffType: "+e.type);r=this.withLine(n).obeyStartOfLine().character}return t&&(n=a.clamp(n,0,o.TextEditor.getLineCount()-1),r=a.clamp(r,0,o.TextEditor.getLineLength(n))),new l(n,r)}withLine(e){return e=a.clamp(e,0,o.TextEditor.getLineCount()-1),new l(e,this.character)}withColumn(e){return e=a.clamp(e,0,o.TextEditor.getLineLength(this.line)),new l(this.line,e)}getLeftTabStop(){if(!this.isLineBeginning()){let e=o.TextEditor.getIndentationLevel(o.TextEditor.getLineAt(this).text),t=n.window.activeTextEditor.options.tabSize;return new l(this.line,e%t>0?Math.max(0,this.character-e%t):Math.max(0,this.character-t))}return this}getLeft(e=1){return new l(this.line,Math.max(this.character-e,0))}getRight(e=1){return new l(this.line,Math.min(this.character+e,o.TextEditor.getLineLength(this.line)))}getDown(e=1){const t=Math.min(this.line+e,o.TextEditor.getLineCount()-1);return new l(t,Math.min(this.character,o.TextEditor.getLineLength(t)))}getUp(e=1){const t=Math.max(this.line-e,0);return new l(t,Math.min(this.character,o.TextEditor.getLineLength(t)))}getLeftThroughLineBreaks(e=!0){return this.isLineBeginning()?0===this.line?this:e?this.getUpWithDesiredColumn(0).getLineEnd():this.getUpWithDesiredColumn(0).getLineEnd().getLeft():this.getLeft()}getRightThroughLineBreaks(e=!1){return this.isAtDocumentEnd()?this:this.isLineEnd()||!e&&this.getRight().isLineEnd()?this.getDownWithDesiredColumn(0):this.getRight()}getOffsetThroughLineBreaks(e){let t=new l(this.line,this.character);if(e<0)for(let r=0;r<-e;r++)t=t.getLeftThroughLineBreaks();else for(let r=0;r<e;r++)t=t.getRightThroughLineBreaks();return t}getDownWithDesiredColumn(e){if(o.TextEditor.getDocumentEnd().line!==this.line){let t=this.line+1,r=o.TextEditor.getLineLength(t);return new l(t,Math.min(r,e))}return this}getUpWithDesiredColumn(e){if(o.TextEditor.getDocumentBegin().line!==this.line){let t=this.line-1,r=o.TextEditor.getLineLength(t);return new l(t,Math.min(r,e))}return this}static getWordLeft(e,t,r=!1){return l.getWordLeftWithRegex(e,t,d,r)}getWordLeft(e=!1){return this.getWordLeftWithRegex(d,e)}getBigWordLeft(e=!1){return this.getWordLeftWithRegex(h,e)}getCamelCaseWordLeft(e=!1){return this.getWordLeftWithRegex(f,e)}getFilePathLeft(e=!1){return this.getWordLeftWithRegex(g,e)}getWordRight(e=!1){return this.getWordRightWithRegex(d,e)}getBigWordRight(){return this.getWordRightWithRegex(h)}getCamelCaseWordRight(){return this.getWordRightWithRegex(f)}getFilePathRight(e=!1){return this.getWordRightWithRegex(g,e)}getLastWordEnd(){return this.getLastWordEndWithRegex(d)}getLastBigWordEnd(){return this.getLastWordEndWithRegex(h)}getLastCamelCaseWordEnd(){return this.getLastWordEndWithRegex(f)}getCurrentWordEnd(e=!1){return this.getCurrentWordEndWithRegex(d,e)}getCurrentBigWordEnd(e=!1){return this.getCurrentWordEndWithRegex(h,e)}getCurrentCamelCaseWordEnd(e=!1){return this.getCurrentWordEndWithRegex(f,e)}isLineBlank(e=!1){let t=o.TextEditor.getLineAt(this).text;return""===(e?t.trim():t)}getCurrentParagraphEnd(e=!1){let t=this;for(;t.isLineBlank(e)&&!o.TextEditor.isLastLine(t);)t=t.getDownWithDesiredColumn(0);for(;!t.isLineBlank(e)&&t.line<o.TextEditor.getLineCount()-1;)t=t.getDownWithDesiredColumn(0);return t.getLineEnd()}getCurrentParagraphBeginning(e=!1){let t=this;for(;t.isLineBlank(e)&&!o.TextEditor.isFirstLine(t);)t=t.getUpWithDesiredColumn(0);for(;t.line>0&&!t.isLineBlank(e);)t=t.getUpWithDesiredColumn(0);return t.getLineBegin()}getSentenceBegin(e){return e.forward?this.getNextSentenceBeginWithRegex(p,!1):this.getPreviousSentenceBeginWithRegex(p)}getCurrentSentenceEnd(){return this.getCurrentSentenceEndWithRegex(p,!1)}getLineBegin(){return new l(this.line,0)}getLineBeginRespectingIndent(){return s.configuration.autoindent?o.TextEditor.getFirstNonWhitespaceCharOnLine(this.line):this.getLineBegin()}getPreviousLineBegin(){return 0===this.line?this.getLineBegin():new l(this.line-1,0)}getNextLineBegin(){return this.line>=o.TextEditor.getLineCount()-1?this.getLineEnd():new l(this.line+1,0)}getLineEnd(){return new l(this.line,o.TextEditor.getLineLength(this.line))}getLineEndIncludingEOL(){return new l(this.line,o.TextEditor.getLineLength(this.line)+1)}getLeftIfEOL(){return this.character===o.TextEditor.getLineLength(this.line)?this.getLeft():this}advancePositionByText(e){const t=(e.match(/\n/g)||[]).length;return new l(this.line+t,0===t?this.character+e.length:e.length-(e.lastIndexOf("\n")+1))}isLineBeginning(){return 0===this.character}isLineEnd(){return this.character>=o.TextEditor.getLineLength(this.line)}isFirstWordOfLine(){return o.TextEditor.getFirstNonWhitespaceCharOnLine(this.line).character===this.character}isAtDocumentBegin(){return 0===this.line&&this.isLineBeginning()}isAtDocumentEnd(){return this.line===o.TextEditor.getLineCount()-1&&this.isLineEnd()}isInLeadingWhitespace(e=!1){return e?/^\s*$/.test(o.TextEditor.getText(new n.Range(this.getLineBegin(),this))):/^\s+$/.test(o.TextEditor.getText(new n.Range(this.getLineBegin(),this)))}obeyStartOfLine(){return s.configuration.startofline?o.TextEditor.getFirstNonWhitespaceCharOnLine(this.line):this}isValid(e){try{let t=o.TextEditor.getLineCount(e)||1;if(this.line>=t)return!1;let r=o.TextEditor.getLineLength(this.line);if(this.character>r+1)return!1}catch(e){return!1}return!0}static getAllPositions(e,t){let r=[],n=t.exec(e);for(;n;)r.push(n.index),n.index===t.lastIndex&&t.lastIndex++,n=t.exec(e);return r}getAllEndPositions(e,t){let r=[],n=t.exec(e);for(;n;)n[0].length&&r.push(n.index+n[0].length-1),n.index===t.lastIndex&&t.lastIndex++,n=t.exec(e);return r}static getWordLeftWithRegex(e,t,r,n=!1,i=!1){return l.getAllPositions(e,r).reverse().find(e=>e<t&&!i||e<=t&&i||n)}getWordLeftWithRegex(e,t=!1){for(let r=this.line;r>=0;r--){const n=l.getWordLeftWithRegex(o.TextEditor.getLine(r).text,this.character,e,r!==this.line,t);if(void 0!==n)return new l(r,n)}return new l(0,0)}getWordRightWithRegex(e,t=!1){for(let r=this.line;r<o.TextEditor.getLineCount();r++){let n=l.getAllPositions(o.TextEditor.getLine(r).text,e).find(e=>e>this.character&&!t||e>=this.character&&t||r!==this.line);if(void 0!==n)return new l(r,n)}return new l(o.TextEditor.getLineCount()-1,0).getLineEnd()}getLastWordEndWithRegex(e){for(let t=this.line;t>-1;t--){let r=this.getAllEndPositions(o.TextEditor.getLine(t).text,e);0===r.length&&r.push(0),r=r.reverse();let n=r.findIndex(e=>e<this.character||t!==this.line),i=0;if(-1===n){if(t>-1)continue;i=r[r.length-1]}else i=r[n];if(void 0!==i)return new l(t,i)}return new l(0,0)}getCurrentWordEndWithRegex(e,t){for(let r=this.line;r<o.TextEditor.getLineCount();r++){let n=this.getAllEndPositions(o.TextEditor.getLine(r).text,e).find(e=>e>this.character&&!t||e>=this.character&&t||r!==this.line);if(void 0!==n)return new l(r,n)}return new l(o.TextEditor.getLineCount()-1,0).getLineEnd()}getPreviousSentenceBeginWithRegex(e){let t=this.getCurrentParagraphBeginning();for(let r=this.line;r>=t.line;r--){let t=this.getAllEndPositions(o.TextEditor.getLine(r).text,e).reverse().find(e=>new l(r,e).getRightThroughLineBreaks().compareTo(this)&&(e<this.character||r<this.line));if(void 0!==t)return new l(r,t).getRightThroughLineBreaks()}return t.line+1===this.line||t.line===this.line?t:new l(t.line+1,0)}getNextSentenceBeginWithRegex(e,t){let r=this.getCurrentParagraphEnd();for(let n=this.line;n<=r.line;n++){let r=this.getAllEndPositions(o.TextEditor.getLine(n).text,e).find(e=>e>this.character&&!t||e>=this.character&&t||n!==this.line);if(void 0!==r)return new l(n,r).getRightThroughLineBreaks()}return this.getFirstNonWhitespaceInParagraph(r,t)}getCurrentSentenceEndWithRegex(e,t){let r=this.getCurrentParagraphEnd();for(let n=this.line;n<=r.line;n++){let r=l.getAllPositions(o.TextEditor.getLine(n).text,e).find(e=>e>this.character&&!t||e>=this.character&&t||n!==this.line);if(void 0!==r)return new l(n,r)}return this.getFirstNonWhitespaceInParagraph(r,t)}getFirstNonWhitespaceInParagraph(e,t){if(o.TextEditor.getLine(this.line).text)return e;for(let r=this.line;r<=e.line;r++){const e=l.getAllPositions(o.TextEditor.getLine(r).text,/\S/g).find(e=>e>this.character&&!t||e>=this.character&&t||r!==this.line);if(void 0!==e)return new l(r,e)}return this}}t.Position=l;const d=function(e){let t;!function(e){e[e.Punctuation=0]="Punctuation",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript",e[e.Braille=3]="Braille",e[e.Ideograph=4]="Ideograph",e[e.Hiragana=5]="Hiragana",e[e.Katakana=6]="Katakana",e[e.Hangul=7]="Hangul"}(t||(t={}));const r=[[[161,191],t.Punctuation],[[894,894],t.Punctuation],[[903,903],t.Punctuation],[[1370,1375],t.Punctuation],[[1417,1417],t.Punctuation],[[1470,1470],t.Punctuation],[[1472,1472],t.Punctuation],[[1475,1475],t.Punctuation],[[1523,1524],t.Punctuation],[[1548,1548],t.Punctuation],[[1563,1563],t.Punctuation],[[1567,1567],t.Punctuation],[[1642,1645],t.Punctuation],[[1748,1748],t.Punctuation],[[1792,1805],t.Punctuation],[[2404,2405],t.Punctuation],[[2416,2416],t.Punctuation],[[3572,3572],t.Punctuation],[[3663,3663],t.Punctuation],[[3674,3675],t.Punctuation],[[3844,3858],t.Punctuation],[[3898,3901],t.Punctuation],[[3973,3973],t.Punctuation],[[4170,4175],t.Punctuation],[[4347,4347],t.Punctuation],[[4961,4968],t.Punctuation],[[5741,5742],t.Punctuation],[[5787,5788],t.Punctuation],[[5867,5869],t.Punctuation],[[5941,5942],t.Punctuation],[[6100,6108],t.Punctuation],[[6144,6154],t.Punctuation],[[8204,8231],t.Punctuation],[[8234,8238],t.Punctuation],[[8240,8286],t.Punctuation],[[8288,10239],t.Punctuation],[[8304,8319],t.Superscript],[[8320,8340],t.Subscript],[[8352,10239],t.Punctuation],[[10240,10495],t.Braille],[[10496,10648],t.Punctuation],[[10712,10715],t.Punctuation],[[10748,10749],t.Punctuation],[[11776,11903],t.Punctuation],[[12289,12320],t.Punctuation],[[12336,12336],t.Punctuation],[[12349,12349],t.Punctuation],[[12352,12447],t.Hiragana],[[12448,12543],t.Katakana],[[13056,40959],t.Ideograph],[[44032,55203],t.Hangul],[[63744,64255],t.Ideograph],[[64830,64831],t.Punctuation],[[65072,65131],t.Punctuation],[[65280,65295],t.Punctuation],[[65306,65312],t.Punctuation],[[65339,65344],t.Punctuation],[[65371,65381],t.Punctuation],[[131072,173791],t.Ideograph],[[173824,177983],t.Ideograph],[[177984,178207],t.Ideograph],[[194560,195103],t.Ideograph]],n=[];for(let e in t)isNaN(Number(e))||(n[e]=[]);for(let[[e,t],i]of r)e===t?n[i].push(`\\u{${e.toString(16)}}`):n[i].push(`\\u{${e.toString(16)}}-\\u{${t.toString(16)}}`);const s=i.escapeRegExp(e).replace(/-/g,"\\-");n[Number(t.Punctuation)].push(s);const o=n.map(e=>e.join("")),a=o.map(e=>`([${e}]+)`),c=`([^\\s${o.join("")}]+)`,u=a.concat(c,"$^");return new RegExp(u.join("|"),"ug")}(s.configuration.iskeyword),h=m(""),f=function(e){const t=e&&i.escapeRegExp(e).replace(/-/g,"\\-"),r=[],n=`([^\\s${t}](?:(?:(?<=[A-Z_])[A-Z](?=[\\sA-Z0-9${t}_]))+|(?:(?<=[0-9_])[0-9](?=[\\sA-Z0-9${t}_]))+|(?:(?<=[_])[_](?=[\\s${t}_]))+|[^\\sA-Z0-9${t}_]*))`;return r.push(n),r.push(`[${t}]+`),r.push("$^"),new RegExp(r.join("|"),"g")}(s.configuration.iskeyword),p=/[\.!\?]{1}([ \n\t]+|$)/g,g=m("\"'`;<>{}[]()");function m(e){const t=e&&i.escapeRegExp(e).replace(/-/g,"\\-");return new RegExp([`([^\\s${t}]+)`,`[${t}]+`,"$^"].join("|"),"g")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextEditor=void 0;const n=r(0),i=r(3),s=r(2),o=r(6);class a{static get isActive(){return null!=n.window.activeTextEditor}static async insert(e,t,r){void 0===r&&(r=1===e.length),r?await n.commands.executeCommand("default:type",{text:e}):await n.window.activeTextEditor.edit(r=>{t||(t=i.Position.FromVSCodePosition(n.window.activeTextEditor.selection.active)),r.insert(t,e)})}static async insertAt(e,t){return n.window.activeTextEditor.edit(r=>{r.insert(t,e)})}static async delete(e){return n.window.activeTextEditor.edit(t=>{t.delete(e)})}static getDocumentVersion(){return n.window.activeTextEditor.document.version}static getDocumentName(){return n.window.activeTextEditor.document.fileName}static async replace(e,t){return n.window.activeTextEditor.edit(r=>{r.replace(e,t)})}static readLineAt(e){if(null===e&&(e=n.window.activeTextEditor.selection.active.line),e>=n.window.activeTextEditor.document.lineCount)throw new RangeError;return n.window.activeTextEditor.document.lineAt(e).text}static getLineCount(e){var t;return null!==(t=null==(e=null!=e?e:n.window.activeTextEditor)?void 0:e.document.lineCount)&&void 0!==t?t:-1}static getLineLength(e){if(e<0||e>a.getLineCount())throw new Error("getLineLength() called with out-of-bounds line "+e);return a.readLineAt(e).length}static getLine(e){return n.window.activeTextEditor.document.lineAt(e)}static getLineAt(e){return n.window.activeTextEditor.document.lineAt(e)}static getCharAt(e){return a.getLineAt(e).text[e.character]}static getSelection(){return n.window.activeTextEditor.selection}static getText(e){return n.window.activeTextEditor.document.getText(e)}static getWord(e){const t=a.getLineAt(e).text;let r=e.character;for(;this.whitespaceRegExp.test(t[r]);)if(r++,r===t.length)return;let n=r;for(;s.configuration.iskeyword.includes(t[n])||this.whitespaceRegExp.test(t[n]);)if(n++,n===t.length){n=r;break}const i=!s.configuration.iskeyword.includes(t[n]),o=e=>!this.whitespaceRegExp.test(e)&&s.configuration.iskeyword.includes(e)!==i;let c=n;for(;n>0&&o(t[n-1]);)n--;for(;c<t.length&&o(t[c+1]);)c++;return t.substring(n,c+1)}static getTabCharacter(e){if(e.options.insertSpaces){const t=e.options.tabSize;return" ".repeat(t)}return"\t"}static isFirstLine(e){return 0===e.line}static isLastLine(e){return e.line===n.window.activeTextEditor.document.lineCount-1}static getIndentationLevel(e){let t=0;for(const r of e)switch(r){case"\t":t+=s.configuration.tabstop;break;case" ":t+=1;break;default:return t}return t}static setIndentationLevel(e,t){const r=s.configuration.tabstop;t<0&&(t=0);const n=s.configuration.expandtab?" ".repeat(t):"\t".repeat(t/r)+" ".repeat(t%r);return e.replace(/^\s*/,n)}static getPositionAt(e){const t=n.window.activeTextEditor.document.positionAt(e);return i.Position.FromVSCodePosition(t)}static getOffsetAt(e){return n.window.activeTextEditor.document.offsetAt(e)}static getDocumentBegin(){return new i.Position(0,0)}static getDocumentEnd(e){const t=a.getLineCount(e),r=t>0?t-1:0,n=a.getLineLength(r);return new i.Position(r,n)}static getFirstNonWhitespaceCharOnLine(e){return new i.Position(e,a.getLine(e).firstNonWhitespaceCharacterIndex)}static*iterateLinesInBlock(e,t,r={reverse:!1}){const{reverse:n}=r;void 0===t&&(t=e.cursors[0]);const s=o.visualBlockGetTopLeftPosition(t.start,t.stop),c=o.visualBlockGetBottomRightPosition(t.start,t.stop),[u,l]=n?[c.line,s.line]:[s.line,c.line],d=e.desiredColumn===Number.POSITIVE_INFINITY;for(let e=u;n?e>=l:e<=l;n?e--:e++){const t=a.getLine(e).text,r=d?t.length+1:Math.min(t.length,c.character+1);yield{line:t.substring(s.character,r),start:new i.Position(e,s.character),end:new i.Position(e,r)}}}static*iterateWords(e){const t=a.getLineAt(e).text;/\s/.test(t[e.character])&&(e=e.getWordRight());let r=e.getCurrentWordEnd(!0);for(;;){const n=t.substring(e.character,r.character+1);if(yield{start:e,end:r,word:n},r.getRight().isLineEnd())return;r=(e=e.getWordRight()).getCurrentWordEnd(!0)}}}t.TextEditor=a,a.whitespaceRegExp=new RegExp("\\s+")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandBase=t.CommandLine=t.LineRange=void 0;const n=r(27),i=r(0),s=r(3);class o{constructor(){this.left=[],this.right=[]}addToken(e){if(e.type!==n.TokenType.Comma)if(this.separator){if(this.right.length>0)switch(e.type){case n.TokenType.Offset:case n.TokenType.Plus:case n.TokenType.Minus:break;default:throw Error("Trailing characters")}this.right.push(e)}else{if(this.left.length>0)switch(e.type){case n.TokenType.Offset:case n.TokenType.Plus:case n.TokenType.Minus:break;default:throw Error("Trailing characters")}this.left.push(e)}else this.separator=e}get isEmpty(){return 0===this.left.length&&0===this.right.length&&!this.separator}toString(){var e,t;return this.left.toString()+(null!==(t=null===(e=this.separator)||void 0===e?void 0:e.content)&&void 0!==t?t:"")+this.right.toString()}execute(e,t){if(this.isEmpty)return;const r=0===this.right.length?this.left:this.right,n=this.lineRefToPosition(e,r,t);t.cursorStartPosition=t.cursorStopPosition=s.Position.FromVSCodePosition(n).withColumn(t.cursorStopPosition.character).obeyStartOfLine()}lineRefToPosition(e,t,r){let s,o=0,a=void 0;const c=t[0];switch(c.type){case n.TokenType.Percent:return new i.Position(e.document.lineCount-1,0);case n.TokenType.Dollar:s=e.document.lineCount-1;break;case n.TokenType.Plus:case n.TokenType.Minus:case n.TokenType.Dot:s=e.selection.active.line,a=c.type===n.TokenType.Dot?void 0:c.type;break;case n.TokenType.LineNumber:s=Number.parseInt(c.content,10)-1;break;case n.TokenType.SelectionFirstLine:s=Math.min.apply(null,e.selections.map(e=>e.start.isBeforeOrEqual(e.end)?e.start.line:e.end.line));break;case n.TokenType.SelectionLastLine:s=Math.max.apply(null,e.selections.map(e=>e.start.isAfter(e.end)?e.start.line:e.end.line));break;case n.TokenType.Mark:s=r.historyTracker.getMark(c.content).position.line,o=r.historyTracker.getMark(c.content).position.character;break;default:throw new Error("Not Implemented")}for(let e=1;e<t.length;++e){let r=t[e];switch(a){case n.TokenType.Plus:switch(r.type){case n.TokenType.Minus:case n.TokenType.Plus:s+=1,o=0,a=r.type;break;case n.TokenType.Offset:s+=Number.parseInt(r.content,10),o=0,a=void 0;break;default:throw Error("Trailing characters")}break;case n.TokenType.Minus:switch(r.type){case n.TokenType.Minus:case n.TokenType.Plus:s-=1,o=0,a=r.type;break;case n.TokenType.Offset:s-=Number.parseInt(r.content,10),o=0,a=void 0;break;default:throw Error("Trailing characters")}break;case void 0:switch(r.type){case n.TokenType.Minus:case n.TokenType.Plus:a=r.type;break;default:throw Error("Trailing characters")}}}switch(a){case n.TokenType.Plus:s+=1,o=0;break;case n.TokenType.Minus:s-=1,o=0}return s=Math.max(0,s),s=Math.min(e.document.lineCount-1,s),new i.Position(s,o)}}t.LineRange=o;t.CommandLine=class{constructor(){this.range=new o}get isEmpty(){return this.range.isEmpty&&!this.command}toString(){var e,t;return":"+this.range.toString()+" "+(null!==(t=null===(e=this.command)||void 0===e?void 0:e.toString())&&void 0!==t?t:"")}async execute(e,t){this.command?this.range.isEmpty?await this.command.execute(t):await this.command.executeWithRange(t,this.range):this.range.execute(e,t)}};t.CommandBase=class{get activeTextEditor(){return i.window.activeTextEditor}get arguments(){return this._arguments}neovimCapable(){return!1}async executeWithRange(e,t){await this.execute(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visualBlockGetBottomRightPosition=t.visualBlockGetTopLeftPosition=t.getCursorStyle=t.statusBarCommandText=t.statusBarText=t.isStatusBarMode=t.isVisualMode=t.VSCodeVimCursorType=t.Mode=void 0;const n=r(0),i=r(23),s=r(31),o=r(3);var a,c;!function(e){e[e.Normal=0]="Normal",e[e.Insert=1]="Insert",e[e.Visual=2]="Visual",e[e.VisualBlock=3]="VisualBlock",e[e.VisualLine=4]="VisualLine",e[e.SearchInProgressMode=5]="SearchInProgressMode",e[e.CommandlineInProgress=6]="CommandlineInProgress",e[e.Replace=7]="Replace",e[e.EasyMotionMode=8]="EasyMotionMode",e[e.EasyMotionInputMode=9]="EasyMotionInputMode",e[e.SurroundInputMode=10]="SurroundInputMode",e[e.Disabled=11]="Disabled"}(a=t.Mode||(t.Mode={})),function(e){e[e.Block=0]="Block",e[e.Line=1]="Line",e[e.LineThin=2]="LineThin",e[e.Underline=3]="Underline",e[e.TextDecoration=4]="TextDecoration",e[e.Native=5]="Native"}(c=t.VSCodeVimCursorType||(t.VSCodeVimCursorType={})),t.isVisualMode=function(e){return[a.Visual,a.VisualLine,a.VisualBlock].includes(e)},t.isStatusBarMode=function(e){return[a.SearchInProgressMode,a.CommandlineInProgress].includes(e)},t.statusBarText=function(e){const t="<C-r>"===e.recordedState.actionKeys[e.recordedState.actionKeys.length-1]?'"':"|";switch(e.currentMode){case a.Normal:return"-- NORMAL --";case a.Insert:return"-- INSERT --";case a.Visual:return"-- VISUAL --";case a.VisualBlock:return"-- VISUAL BLOCK --";case a.VisualLine:return"-- VISUAL LINE --";case a.Replace:return"-- REPLACE --";case a.EasyMotionMode:return"-- EASYMOTION --";case a.EasyMotionInputMode:return"-- EASYMOTION INPUT --";case a.SurroundInputMode:return"-- SURROUND INPUT --";case a.Disabled:return"-- VIM: DISABLED --";case a.SearchInProgressMode:if(void 0===i.globalState.searchState)return this._logger.warn("globalState.searchState is undefined."),"";const r=i.globalState.searchState.searchDirection===s.SearchDirection.Forward?"/":"?";let n=i.globalState.searchState.searchString.split("");return n.splice(e.statusBarCursorCharacterPos,0,t),`${r}${n.join("")}`;case a.CommandlineInProgress:let o=e.currentCommandlineText.split("");return o.splice(e.statusBarCursorCharacterPos,0,t),":"+o.join("");default:return""}},t.statusBarCommandText=function(e){switch(e.currentMode){case a.SurroundInputMode:return e.surround&&e.surround.replacement?e.surround.replacement:"";case a.EasyMotionMode:return"Target key: "+e.easyMotion.accumulation;case a.EasyMotionInputMode:if(!e.easyMotion)return"";const t=e.easyMotion.searchAction.searchCharCount;return(t>0?`Search for ${t} character(s): `:"Search for characters: ")+e.easyMotion.searchAction.getSearchString();case a.Visual:{let[t,r]=[e.cursorStartPosition,e.cursorStopPosition],n=!1;t.isAfter(r)?(t=t.getRightThroughLineBreaks(),[t,r]=[r,t]):r.isAfter(t)&&0===r.character&&(r=r.getLeftThroughLineBreaks(!0),n=!0);const i=r.line-t.line+1;if(i>1)return""+i;return""+(Math.max(r.character-t.character,1)+(n?1:0))}case a.VisualLine:return""+(Math.abs(e.cursorStopPosition.line-e.cursorStartPosition.line)+1);case a.VisualBlock:return`${Math.abs(e.cursorStopPosition.line-e.cursorStartPosition.line)+1}x${Math.abs(e.cursorStopPosition.character-e.cursorStartPosition.character)+1}`;case a.Normal:case a.Replace:case a.Disabled:return e.recordedState.commandString;default:return""}},t.getCursorStyle=function(e){switch(e){case c.Block:return n.TextEditorCursorStyle.Block;case c.Line:return n.TextEditorCursorStyle.Line;case c.LineThin:return n.TextEditorCursorStyle.LineThin;case c.Underline:return n.TextEditorCursorStyle.Underline;case c.TextDecoration:return n.TextEditorCursorStyle.LineThin;case c.Native:default:return n.TextEditorCursorStyle.Block}},t.visualBlockGetTopLeftPosition=function(e,t){return new o.Position(Math.min(e.line,t.line),Math.min(e.character,t.character))},t.visualBlockGetBottomRightPosition=function(e,t){return new o.Position(Math.max(e.line,t.line),Math.max(e.character,t.character))}},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VimError=t.ErrorMessage=t.ErrorCode=void 0,function(e){e[e.MarkNotSet=20]="MarkNotSet",e[e.NoInsertedTextYet=29]="NoInsertedTextYet",e[e.NoFileName=32]="NoFileName",e[e.NoPreviousCommand=34]="NoPreviousCommand",e[e.NoPreviousRegularExpression=35]="NoPreviousRegularExpression",e[e.NoWriteSinceLastChange=37]="NoWriteSinceLastChange",e[e.ErrorWritingToFile=208]="ErrorWritingToFile",e[e.NoStringUnderCursor=348]="NoStringUnderCursor",e[e.SearchHitTop=384]="SearchHitTop",e[e.SearchHitBottom=385]="SearchHitBottom",e[e.CannotCloseLastWindow=444]="CannotCloseLastWindow",e[e.InvalidArgument=474]="InvalidArgument",e[e.PatternNotFound=486]="PatternNotFound",e[e.TrailingCharacters=488]="TrailingCharacters",e[e.NotAnEditorCommand=492]="NotAnEditorCommand",e[e.UnknownOption=518]="UnknownOption"}(t.ErrorCode||(t.ErrorCode={})),t.ErrorMessage={20:"Mark not set",29:"No inserted text yet",32:"No file name",34:"No previous command",35:"No previous regular expression",37:"No write since last change (add ! to override)",208:"Error writing to file",348:"No string under cursor",384:"Search hit TOP without match for",385:"Search hit BOTTOM without match for",444:"Cannot close last window",474:"Invalid argument",486:"Pattern not found",488:"Trailing characters",492:"Not an editor command",518:"Unknown option"};class n extends Error{constructor(e,t){super(),this._code=e,this._message=t}static fromCode(e,r){if(t.ErrorMessage[e])return new n(e,t.ErrorMessage[e]+(r?": "+r:""));throw new Error("unknown error code: "+e)}get code(){return this._code}get message(){return this._message}toString(){return`E${this.code}: ${this.message}`}}t.VimError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scanner=void 0;class n{constructor(e){this.start=0,this.pos=0,this.input=e}next(){if(this.isAtEof)return this.pos=this.input.length,n.EOF;let e=this.input[this.pos];return this.pos++,e}nextWhile(e){if(this.isAtEof)return"";for(;;){const t=this.next();if(t===n.EOF)break;if(!e(t)){this.backup();break}}return this.emit()}nextWord(e=[" ","\t"]){if(this.skipRun(e),this.isAtEof)return this.pos=this.input.length,n.EOF;let t="",r=void 0;for(;!this.isAtEof&&(r=this.next(),r!==n.EOF&&!e.includes(r));)t+=r;return r&&e.includes(r)&&this.backup(),this.ignore(),t}get isAtEof(){return this.pos>=this.input.length}ignore(){this.start=this.pos}emit(){let e=this.input.substring(this.start,this.pos);return this.ignore(),e}remaining(){for(;!this.isAtEof;)this.next();return this.emit()}backup(){this.pos--}skip(e){if(this.isAtEof)return;let t=this.next();for(;!this.isAtEof&&t===e;)t=this.next();this.backup(),this.ignore()}skipRun(e){if(!this.isAtEof){for(;!this.isAtEof;){let t=this.next();if(!e.includes(t))break}this.backup(),this.ignore()}}skipWhiteSpace(){if(this.isAtEof)return;let e=null;for(;!this.isAtEof&&(e=this.next()," "===e||"\t"===e););e!==n.EOF&&" "!==e&&"\t"!==e&&this.backup(),this.ignore()}expect(e){if(!this.input.substring(this.pos).startsWith(e))throw new Error("Unexpected character.");this.pos+=e.length}expectOneOf(e){let t=e.filter(e=>this.input.substr(this.pos).startsWith(e));if(1!==t.length){if(t.length>1)throw new Error("Too many matches.");throw new Error("Unexpected character.")}this.pos+=t[0].length}}t.Scanner=n,n.EOF="__EOF__"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterAction=t.Actions=t.KeypressState=t.BaseAction=void 0;const n=r(2),i=r(32);class s{constructor(){this.isMotion=!1,this.isJump=!1,this.canBeRepeatedWithDot=!1,this.mustBeFirstKey=!1,this.isOperator=!1,this.keysPressed=[]}preservesDesiredColumn(){return!1}doesActionApply(e,t){return!(this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length>t.length)&&(this.modes.includes(e.currentMode)&&s.CompareKeypressSequence(this.keys,t))}couldActionApply(e,t){if(!this.modes.includes(e.currentMode))return!1;const r=(s.is2DArray(this.keys)?this.keys:[this.keys]).map(e=>e.slice(0,t.length));return!!s.CompareKeypressSequence(r,t)&&!(this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length>t.length)}static CompareKeypressSequence(e,t){if(s.is2DArray(e)){for(const r of e)if(s.CompareKeypressSequence(r,t))return!0;return!1}if(e.length!==t.length)return!1;for(let r=0,s=0;r<e.length;r++,s++){const o=e[r],a=t[s];if("<any>"!==o&&"<any>"!==a&&(("<number>"!==o||!this.isSingleNumber.test(a))&&("<number>"!==a||!this.isSingleNumber.test(o))&&("<alpha>"!==o||!this.isSingleAlpha.test(a))&&("<alpha>"!==a||!this.isSingleAlpha.test(o))&&("<character>"!==o||i.Notation.IsControlKey(a))&&("<character>"!==a||i.Notation.IsControlKey(o))&&!("<leader>"===o&&a===n.configuration.leader||"<leader>"===a&&o===n.configuration.leader))){if(o===n.configuration.leader||a===n.configuration.leader)return!1;if(o!==a)return!1}}return!0}toString(){return this.keys.join("")}static is2DArray(e){return Array.isArray(e[0])}}var o;t.BaseAction=s,s.isSingleNumber=/^[0-9]$/,s.isSingleAlpha=/^[a-zA-Z]$/,function(e){e[e.WaitingOnKeys=0]="WaitingOnKeys",e[e.NoPossibleMatch=1]="NoPossibleMatch"}(o=t.KeypressState||(t.KeypressState={}));class a{static getRelevantAction(e,t){let r=!1;const n=a.actionMap.get(t.currentMode)||[];for(const i of n){const n=new i;if(n.doesActionApply(t,e))return n.keysPressed=t.recordedState.actionKeys.slice(0),n;n.couldActionApply(t,e)&&(r=!0)}return r?o.WaitingOnKeys:o.NoPossibleMatch}}t.Actions=a,a.actionMap=new Map,t.RegisterAction=function(e){const t=new e;for(const r of t.modes){let n=a.actionMap.get(r);n||(n=[],a.actionMap.set(r,n)),void 0!==t.keys&&n.push(e)}}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return a(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}function a(e,t,r){return(a=c()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&u(i,r.prototype),i}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,e);var t,r,n=(t=o,r=c(),function(){var e,n=l(t);if(r){var s=l(this).constructor;e=Reflect.construct(n,arguments,s)}else e=n.apply(this,arguments);return i(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=n.call(this,"Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ".concat(e.toString().split("\n")[0],"\n")),Error.captureStackTrace(s(t),o),t}return o}(o(Error));e.exports=function(e){if(e.length>2)throw new d(e);function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}function r(e){return new t(e)}return t.prototype.transform=e,r.Format=t,r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const n=r(17),i=r(0),s=r(213),o=r(266),a=r(2);class c extends n{constructor(e){super(e),this.actionMessages=["Dismiss","Suppress Errors"],this.prefix=e.prefix}async log(e,t){if(a.configuration.debug.silent)return;let r;switch(e.level){case"error":r=i.window.showErrorMessage;break;case"warn":r=i.window.showWarningMessage;break;case"info":case"verbose":case"debug":r=i.window.showInformationMessage;break;default:throw"Unsupported "+e.level}let n=e.message;this.prefix&&(n=this.prefix+": "+n),"Suppress Errors"===await r(n,...this.actionMessages)&&(i.window.showInformationMessage("Ignorance is bliss; temporarily suppressing log messages. For more permanence, please configure `vim.debug.silent`."),a.configuration.debug.silent=!0),t&&t()}}t.Logger=class{static get(e){return s.createLogger({format:s.format.simple(),transports:[new o.ConsoleForElectron({level:a.configuration.debug.loggingLevelForConsole,silent:a.configuration.debug.silent,prefix:e}),new c({level:a.configuration.debug.loggingLevelForAlert,prefix:e})]})}}},function(e,t,r){"use strict";class n extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ${e.toString().split("\n")[0]}\n`),Error.captureStackTrace(this,n)}}e.exports=e=>{if(e.length>2)throw new n(e);function t(e={}){this.options=e}function r(e){return new t(e)}return t.prototype.transform=e,r.Format=t,r}},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Register=t.RegisterMode=void 0;const n=r(61),i=r(19),s=r(22),o=r(29);var a;!function(e){e[e.AscertainFromCurrentMode=0]="AscertainFromCurrentMode",e[e.CharacterWise=1]="CharacterWise",e[e.LineWise=2]="LineWise",e[e.BlockWise=3]="BlockWise"}(a=t.RegisterMode||(t.RegisterMode={}));class c{static isValidRegister(e){return e in c.registers||c.isValidLowercaseRegister(e)||c.isValidUppercaseRegister(e)}static isValidRegisterForMacro(e){return/^[a-zA-Z0-9:]+$/.test(e)}static put(e,t,r){const n=t.recordedState.registerName;if(!c.isValidRegister(n))throw new Error("Invalid register "+n);c.isBlackHoleRegister(n)||c.isReadOnlyRegister(n)||(t.isMultiCursor?c.isValidUppercaseRegister(n)?c.appendMulticursorRegister(e,n,t,r):c.putMulticursorRegister(e,n,t,r):c.isValidUppercaseRegister(n)?c.appendNormalRegister(e,n,t):c.putNormalRegister(e,n,t))}static isBlackHoleRegister(e){return"_"===e}static isClipboardRegister(e){const t=c.registers[e];return t&&t.isClipboardRegister}static isReadOnlyRegister(e){return[".","%",":","#","/"].includes(e)}static isValidLowercaseRegister(e){return/^[a-z]+$/.test(e)}static isValidUppercaseRegister(e){return/^[A-Z]+$/.test(e)}static putMulticursorRegister(e,t,r,i){0===i&&(c.registers[t.toLowerCase()]={text:[],registerMode:r.effectiveRegisterMode,isClipboardRegister:c.isClipboardRegister(t)});let s=c.registers[t.toLowerCase()];if(Array.isArray(s.text)||(s.text=[]),s.text.push(e),i===r.cursors.length-1){if(s.isClipboardRegister){let e="";for(const t of s.text)e+=t+"\n";e=e.replace(/\n$/,""),n.Clipboard.Copy(e)}c.processNumberedRegister(s.text,r)}}static appendMulticursorRegister(e,t,r,n){let i=c.registers[t.toLowerCase()];if(0===n){let e=!1;("string"==typeof i.text||i.text.length!==r.cursors.length)&&(e=!0),e&&(c.registers[t.toLowerCase()]={text:Array(r.cursors.length).fill(""),registerMode:r.effectiveRegisterMode,isClipboardRegister:c.isClipboardRegister(t)},i=c.registers[t.toLowerCase()])}let s=r.effectiveRegisterMode;i.registerMode===a.CharacterWise&&s===a.CharacterWise?i.text[n]+=e:(i.text[n]+="\n"+e,i.registerMode=s)}static putNormalRegister(e,t,r){c.isClipboardRegister(t)&&n.Clipboard.Copy(e.toString()),c.registers[t.toLowerCase()]={text:e,registerMode:r.effectiveRegisterMode,isClipboardRegister:c.isClipboardRegister(t)},c.processNumberedRegister(e,r)}static appendNormalRegister(e,t,r){let n=c.registers[t.toLowerCase()],i=r.effectiveRegisterMode;if(n.text instanceof Array)if(n.registerMode===a.CharacterWise&&i===a.CharacterWise)for(let t=0;t<n.text.length;t++)n.text[t]+=e;else{for(let t=0;t<n.text.length;t++)n.text[t]+="\n"+e;n.registerMode=i}else"string"==typeof n.text&&(n.registerMode===a.CharacterWise&&i===a.CharacterWise?n.text=n.text+e:(n.text+="\n"+e,n.registerMode=i))}static putByKey(e,t='"',r=a.AscertainFromCurrentMode,i=!1){if(!c.isValidRegister(t))throw new Error("Invalid register "+t);c.isClipboardRegister(t)&&n.Clipboard.Copy(e.toString()),c.isBlackHoleRegister(t)||c.isReadOnlyRegister(t)&&!i||(c.registers[t]={text:e,registerMode:r||a.AscertainFromCurrentMode,isClipboardRegister:c.isClipboardRegister(t)})}static processNumberedRegister(e,t){const r=t.recordedState.operator||t.recordedState.command;if(r instanceof s.YankOperator||r instanceof i.CommandYankFullLine){t.recordedState.actionsRun.find(e=>e instanceof i.CommandRegister)||(c.registers[0].text=e,c.registers[0].registerMode=t.effectiveRegisterMode)}else if((r instanceof s.DeleteOperator||r instanceof i.ActionDeleteChar||r instanceof i.ActionDeleteLastChar||r instanceof i.ActionDeleteCharWithDeleteKey)&&!t.isRecordingMacro&&!t.isReplayingMacro)if(e.toString().match(/\n/g)||t.currentRegisterMode===a.LineWise){for(let e=9;e>1;e--)c.registers[String(e)].text=c.registers[String(e-1)].text,c.registers[String(e)].registerMode=c.registers[String(e-1)].registerMode;c.registers[1].text=e,c.registers[1].registerMode=t.effectiveRegisterMode}else c.registers["-"].text=e,c.registers["-"].registerMode=a.CharacterWise}static async get(e){const t=e.recordedState.registerName;return c.getByKey(t,e)}static async getByKey(e,t){if(!c.isValidRegister(e))throw new Error("Invalid register "+e);let r=e.toLowerCase();if(c.registers[r]||(c.registers[r]={text:"",registerMode:a.CharacterWise,isClipboardRegister:!1}),c.isClipboardRegister(e)){let i,s=await n.Clipboard.Paste();return s=s.replace(/\r\n/g,"\n"),t&&t.isMultiCursor?(i=s.split("\n"),i.length!==t.cursors.length&&(i=s)):i=s,c.registers[r].text=i,c.registers[e]}{let e,n=c.registers[r].text;return e=n instanceof o.RecordedState?n:t&&t.isMultiCursor&&"object"==typeof n?n.length===t.cursors.length?n:n.join("\n"):"object"==typeof n?n.join("\n"):n,{text:e,registerMode:c.registers[r].registerMode,isClipboardRegister:c.registers[r].isClipboardRegister}}}static has(e){return void 0!==c.registers[e]}static getKeys(){return Object.keys(c.registers)}}t.Register=c,c.registers={'"':{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},".":{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},"*":{text:"",registerMode:a.CharacterWise,isClipboardRegister:!0},"+":{text:"",registerMode:a.CharacterWise,isClipboardRegister:!0},"-":{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},"/":{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},"%":{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},":":{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},_:{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},0:{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},1:{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},2:{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},3:{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},4:{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},5:{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},6:{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},7:{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},8:{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1},9:{text:"",registerMode:a.CharacterWise,isClipboardRegister:!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBar=void 0;const n=r(0),i=r(6),s=r(2);t.StatusBar=new class{constructor(){this._previousModeName=void 0,this._showingDefaultMessage=!0,this._statusBarItem=n.window.createStatusBarItem(n.StatusBarAlignment.Left,Number.MIN_SAFE_INTEGER),this._statusBarItem.show(),this._recordedStateStatusBarItem=n.window.createStatusBarItem(n.StatusBarAlignment.Right,Number.MAX_SAFE_INTEGER),this._recordedStateStatusBarItem.show()}dispose(){this._statusBarItem.dispose(),this._recordedStateStatusBarItem.dispose()}updateShowCmd(e){this._recordedStateStatusBarItem.text=s.configuration.showcmd?i.statusBarCommandText(e):""}setText(e,t,r=!1){const i=e.currentMode!==this._previousModeName;this.updateText(t),s.configuration.statusBarColorControl||(this._statusBarItem.color=r?new n.ThemeColor("errorForeground"):void 0),s.configuration.statusBarColorControl&&i&&this.updateColor(e.currentMode),this._previousModeName=e.currentMode,this._showingDefaultMessage=!1}displayError(e,r){t.StatusBar.setText(e,r.toString(),!0)}getText(){return this._statusBarItem.text.replace(/\^M/g,"\n")}clear(e,r=!0){if(!this._showingDefaultMessage&&!r)return;let n=[];if(s.configuration.showmodename&&(n.push(i.statusBarText(e)),e.isMultiCursor&&n.push(" MULTI CURSOR ")),e.isRecordingMacro){const t="Recording @"+e.recordedMacro.registerName;n.push(t)}t.StatusBar.setText(e,n.join(" ")),this._showingDefaultMessage=!0}updateText(e){const t=e.replace(/\n/g,"^M");this._statusBarItem.text=t||""}updateColor(e){let t=void 0,r=void 0,n=s.configuration.statusBarColors[i.Mode[e].toLowerCase()];void 0!==n&&("string"==typeof n?r=n:[r,t]=n);const o=s.configuration.getConfiguration("workbench"),a=o.get("colorCustomizations"),c=Object.assign({},a||{},{"statusBar.background":""+r,"statusBar.noFolderBackground":""+r,"statusBar.debuggingBackground":""+r,"statusBar.foreground":""+t});void 0===r&&(delete c["statusBar.background"],delete c["statusBar.noFolderBackground"],delete c["statusBar.debuggingBackground"]),void 0===t&&delete c["statusBar.foreground"],a!==c&&o.update("colorCustomizations",c,!0)}}},function(e,t,r){"use strict";const n=r(7),i=r(204),{LEVEL:s}=r(1),o=e.exports=function(e={}){i.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",e=>{this.levels=e.levels,this.parent=e}),this.once("unpipe",e=>{e===this.parent&&(this.parent=null,this.close&&this.close())})};n.inherits(o,i),o.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);const n=this.level||this.parent&&this.parent.level;if(!n||this.levels[n]>=this.levels[e[s]]){if(e&&!this.format)return this.log(e,r);let t,n;try{n=this.format.transform(Object.assign({},e),this.format.options)}catch(e){t=e}if(t||!n){if(r(),t)throw t;return}return this.log(n,r)}return r(null)},o.prototype._writev=function(e,t){if(this.logv){const r=e.filter(this._accept,this);return r.length?this.logv(r,t):t(null)}for(let r=0;r<e.length;r++){if(!this._accept(e[r]))continue;if(e[r].chunk&&!this.format){this.log(e[r].chunk,e[r].callback);continue}let n,i;try{i=this.format.transform(Object.assign({},e[r].chunk),this.format.options)}catch(e){n=e}if(n||!i){if(e[r].callback(),n)throw t(null),n}else this.log(i,e[r].callback)}return t(null)},o.prototype._accept=function(e){const t=e.chunk;if(this.silent)return!1;const r=this.level||this.parent&&this.parent.level;return!(!0!==t.exception&&r&&!(this.levels[r]>=this.levels[t[s]])||!this.handleExceptions&&!0===t.exception)},o.prototype._nop=function(){},e.exports.LegacyTransportStream=r(75)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Range=void 0;const n=r(3);class i{constructor(e,t){this.start=e,this.stop=t}isValid(e){return this.start.isValid(e)&&this.stop.isValid(e)}static FromVSCodeSelection(e){return new i(n.Position.FromVSCodePosition(e.start),n.Position.FromVSCodePosition(e.end))}equals(e){return this.start.isEqual(e.start)&&this.stop.isEqual(e.stop)}withNewStop(e){return new i(this.start,e)}withNewStart(e){return new i(e,this.stop)}toString(){return`[ ${this.start.toString()} | ${this.stop.toString()}]`}overlaps(e){return this.start.isBefore(e.stop)&&e.start.isBefore(this.stop)}}t.Range=i},function(e,t,r){"use strict";var n,i,s=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ActionOverrideCmdD=t.ActionGoToInsertVisualModeAppend=t.ActionGoToInsertVisualMode=t.ActionGoToInsertVisualLineModeAppend=t.ActionGoToInsertVisualLineMode=t.ActionDeleteLastChar=t.ActionDeleteCharWithDeleteKey=t.ActionDeleteChar=t.CommandInsertAtLineEnd=t.CommandInsertAfterCursor=t.CommandInsertAtFirstCharacter=t.CommandVisualMode=t.CommandYankFullLine=t.CommandUndo=t.CommandShowSearchHistory=t.CommandShowCommandHistory=t.PutBeforeWithIndentCommand=t.GPutBeforeCommand=t.PutBeforeCommand=t.PutCommandVisual=t.PutWithIndentCommand=t.GPutCommand=t.PutCommand=t.MarkCommand=t.CommandSearchBackwards=t.CommandSearchForwards=t.CommandReplaceAtCursorFromNormalMode=t.CommandInsertAtCursor=t.CommandQuitRecordMacro=t.CommandRegister=t.CommandNumber=t.BaseCommand=t.DocumentContentChangeAction=void 0;const o=r(0),a=r(29),c=r(159),u=r(28),l=r(61),d=r(73),h=r(160),f=r(62),p=r(161),g=r(3),m=r(18),v=r(268),y=r(2),w=r(6),b=r(15),x=r(31),C=r(4),S=r(162),M=r(10),_=r(10),E=r(37),k=r(22),A=r(47),R=r(16),P=r(38),T=r(23),L=r(8),B=r(71);class O extends _.BaseAction{constructor(){super(...arguments),this.contentChanges=[]}addChanges(e){this.contentChanges=[...this.contentChanges,...e],this.compressChanges()}getTransformation(e){return{type:"contentChange",changes:this.contentChanges,diff:e}}async exec(e,t){if(0===this.contentChanges.length)return t;const r=this.contentChanges[0];let n,i=""===r.text&&1===r.rangeLength?r.range.end:r.range.start,s=e;for(const r of this.contentChanges){if(r.range.start.line<i.line){const e=r.range.end.line-r.range.start.line+1,t=r.text.split("\n").length;i=i.with(i.line+t-e);continue}const a=t=>{const r=t.line-i.line,n=0===r?e.character+t.character-i.character:t.character;return new g.Position(e.line+r,n)};if(n=new m.Range(a(r.range.start),a(r.range.end)),n.start.isAfter(s))continue;const c=r.text.split("\n"),u=c.length-1,l=0===u?new g.Position(n.start.line,n.start.character+r.text.length):new g.Position(n.start.line+u,c.pop().length);s=g.laterOf(s,l),t.editor.selection=new o.Selection(n.start,n.stop),n.start.isEqual(n.stop)?await C.TextEditor.insert(r.text,g.Position.FromVSCodePosition(n.start)):await C.TextEditor.replace(t.editor.selection,r.text)}if(n){const e=this.contentChanges[this.contentChanges.length-1];t.cursorStartPosition=t.cursorStopPosition=n.start.advancePositionByText(e.text)}return await t.setCurrentMode(w.Mode.Insert),t}compressChanges(){function e(e,t){if(e.rangeOffset+e.text.length===t.rangeOffset&&0===t.rangeLength)return{text:e.text+t.text,range:e.range,rangeOffset:e.rangeOffset,rangeLength:e.rangeLength}}let t,r=[];for(const n of this.contentChanges)if(void 0===t)t=n;else{const i=e(t,n);i?t=i:(r.push(t),t=n)}void 0!==t&&r.push(t),this.contentChanges=r}}t.DocumentContentChangeAction=O;class F extends _.BaseAction{constructor(){super(...arguments),this.isCompleteAction=!0,this.isJump=!1,this.multicursorIndex=void 0,this.runsOnceForEachCountPrefix=!1,this.canBeRepeatedWithDot=!1}runsOnceForEveryCursor(){return!0}async exec(e,t){throw new Error("Not implemented!")}async execCount(e,t){let r=this.runsOnceForEachCountPrefix&&t.recordedState.count||1;if(!this.runsOnceForEveryCursor()){for(let n=0;n<r;n++)t=await this.exec(e,t);for(const e of t.recordedState.transformations)S.isTextTransformation(e)&&void 0===e.cursorIndex&&(e.cursorIndex=0);return t}let n=[];const i=t.cursors.map(e=>new m.Range(e.start,e.stop)).sort((e,t)=>e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>t.start.character?1:-1);let s=0;for(const{start:e,stop:o}of i){this.multicursorIndex=s++,t.cursorStopPosition=o,t.cursorStartPosition=e;for(let e=0;e<r;e++)t=await this.exec(o,t);n.push(new m.Range(t.cursorStartPosition,t.cursorStopPosition));for(const e of t.recordedState.transformations)S.isTextTransformation(e)&&void 0===e.cursorIndex&&(e.cursorIndex=this.multicursorIndex)}return t.cursors=n,t}}t.BaseCommand=F;let D=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Insert,w.Mode.Visual,w.Mode.VisualBlock,w.Mode.VisualLine,w.Mode.SearchInProgressMode,w.Mode.CommandlineInProgress,w.Mode.Replace,w.Mode.EasyMotionMode,w.Mode.EasyMotionInputMode,w.Mode.SurroundInputMode],this.keys=["<ExtensionDisable>"]}async exec(e,t){return await t.setCurrentMode(w.Mode.Disabled),t}};D=s([M.RegisterAction],D);let I=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Disabled],this.keys=["<ExtensionEnable>"]}async exec(e,t){return await t.setCurrentMode(w.Mode.Normal),t}};I=s([M.RegisterAction],I);let N=n=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["<number>"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=parseInt(this.keysPressed[0],10),i=t.recordedState.operatorCount;if(i>0){const e=t.recordedState.actionsRun[t.recordedState.actionsRun.length-2];t.recordedState.count=e instanceof n?10*t.recordedState.count+r*i:i*r}else t.recordedState.count=10*t.recordedState.count+r;return t}doesActionApply(e,t){const r="0"===t[0];return super.doesActionApply(e,t)&&(r&&e.recordedState.count>0||!r)}couldActionApply(e,t){const r="0"===t[0];return super.couldActionApply(e,t)&&(r&&e.recordedState.count>0||!r)}};N=n=s([M.RegisterAction],N),t.CommandNumber=N;let $=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=['"',"<character>"],this.isCompleteAction=!1}async exec(e,t){const r=this.keysPressed[1];return t.recordedState.registerName=r,t}doesActionApply(e,t){const r=t[1];return super.doesActionApply(e,t)&&b.Register.isValidRegister(r)}couldActionApply(e,t){const r=t[1];return super.couldActionApply(e,t)&&b.Register.isValidRegister(r)}};$=s([M.RegisterAction],$),t.CommandRegister=$;let j=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=[["q","<alpha>"],["q","<number>"],["q",'"']]}async exec(e,t){const r=this.keysPressed[1],n=r.toLocaleLowerCase();if(t.recordedMacro=new a.RecordedState,t.recordedMacro.registerName=n,!/^[A-Z]+$/.test(r)||!b.Register.has(n)){let e=new a.RecordedState;e.registerName=n,b.Register.putByKey(e,n)}return t.isRecordingMacro=!0,t}doesActionApply(e,t){const r=this.keysPressed[1];return super.doesActionApply(e,t)&&b.Register.isValidRegisterForMacro(r)}couldActionApply(e,t){const r=this.keysPressed[1];return super.couldActionApply(e,t)&&b.Register.isValidRegisterForMacro(r)}};j=s([M.RegisterAction],j);let V=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=["q"]}async exec(e,t){let r=(await b.Register.getByKey(t.recordedMacro.registerName)).text;return r instanceof a.RecordedState?(r.actionsRun=r.actionsRun.concat(t.recordedMacro.actionsRun),t.isRecordingMacro=!1,t):t}doesActionApply(e,t){return super.doesActionApply(e,t)&&e.isRecordingMacro}couldActionApply(e,t){return super.couldActionApply(e,t)&&e.isRecordingMacro}};V=s([M.RegisterAction],V),t.CommandQuitRecordMacro=V;let W=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=["@","<character>"],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}async exec(e,t){const r=this.keysPressed[1].toLocaleLowerCase();return b.Register.has(r)&&t.recordedState.transformations.push({type:"macro",register:r,replay:"contentChange"}),t}doesActionApply(e,t){const r=t[1];return super.doesActionApply(e,t)&&b.Register.isValidRegisterForMacro(r)}couldActionApply(e,t){const r=t[1];return super.couldActionApply(e,t)&&b.Register.isValidRegisterForMacro(r)}};W=s([M.RegisterAction],W);let U=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=["@","@"],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0,this.isJump=!0}async exec(e,t){const{lastInvokedMacro:r}=t.historyTracker;return r&&t.recordedState.transformations.push({type:"macro",register:r.registerName,replay:"contentChange"}),t}};U=s([M.RegisterAction],U);let H=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock,w.Mode.Normal,w.Mode.SurroundInputMode,w.Mode.EasyMotionMode,w.Mode.EasyMotionInputMode],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return!1}preservesDesiredColumn(){return!0}async exec(e,t){if(t.currentMode===w.Mode.Normal){if(t.surround=void 0,!t.isMultiCursor)return await Promise.all([o.commands.executeCommand("closeParameterHints"),o.commands.executeCommand("closeReferenceSearchEditor"),o.commands.executeCommand("closeMarkersNavigation"),o.commands.executeCommand("closeDirtyDiff")]),t;t.isMultiCursor=!1}return t.currentMode===w.Mode.EasyMotionMode&&t.easyMotion.clearDecorations(),t.currentMode===w.Mode.SurroundInputMode&&(t.surround=void 0),await t.setCurrentMode(w.Mode.Normal),t.isMultiCursor||(t.cursors=[t.cursors[0]]),t}};H=s([M.RegisterAction],H);let q=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Replace],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}async exec(e,t){const r=t.replaceState.timesToRepeat;let n="";for(let e=1;e<r;e++)n+=t.replaceState.newChars.join("");return t.recordedState.transformations.push({type:"insertText",text:n,position:e,diff:new g.PositionDiff({character:-1})}),await t.setCurrentMode(w.Mode.Normal),t}};q=s([M.RegisterAction],q);let z=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Replace],this.keys=["<Insert>"]}async exec(e,t){return await t.setCurrentMode(w.Mode.Insert),t}};z=s([M.RegisterAction],z);class K extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.runsOnceForEachCountPrefix=!1}async exec(e,t){const r=t.recordedState.count||1,n=t.editor.visibleRanges[0],i=y.configuration.getConfiguration("editor").get("cursorSurroundingLines",0),s=n.end.line-t.cursorStopPosition.line-r,o=t.cursorStopPosition.line-n.start.line-r;return"up"===this.to&&i>s?t.cursorStopPosition=t.cursorStopPosition.getUp(i-s).withColumn(t.desiredColumn):"down"===this.to&&i>o&&(t.cursorStopPosition=t.cursorStopPosition.getDown(i-o).withColumn(t.desiredColumn)),t.postponedCodeViewChanges.push({command:"editorScroll",args:{to:this.to,by:this.by,value:r,revealCursor:!0,select:w.isVisualMode(t.currentMode)}}),t}}let G=class extends K{constructor(){super(...arguments),this.keys=["<C-e>"],this.to="down",this.by="line"}preservesDesiredColumn(){return!0}};G=s([M.RegisterAction],G);let J=class extends K{constructor(){super(...arguments),this.keys=["<C-y>"],this.to="up",this.by="line"}preservesDesiredColumn(){return!0}};J=s([M.RegisterAction],J);class Y extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.runsOnceForEachCountPrefix=!1}async exec(e,t){const{visibleRanges:r}=t.editor,n=y.configuration.getConfiguration("editor").smoothScrolling,i=(t.actionCount||1)*this.getNumLines(t);let s=i;if("down"===this.to&&(s=Math.min(i,C.TextEditor.getLineCount()-1-r[r.length-1].end.line)),s>0){const e={to:this.to,by:"line",value:s,revealCursor:n,select:w.isVisualMode(t.currentMode)};n?await o.commands.executeCommand("editorScroll",e):t.postponedCodeViewChanges.push({command:"editorScroll",args:e})}const a=u.clamp(e.line+("down"===this.to?i:-i),0,t.editor.document.lineCount-1);return t.cursorStopPosition=new g.Position(a,t.desiredColumn).obeyStartOfLine(),t}}let Q=class extends Y{constructor(){super(...arguments),this.keys=["<C-b>"],this.to="up"}getNumLines(e){const t=e.editor.visibleRanges[0];return t.end.line-t.start.line}};Q=s([M.RegisterAction],Q);let Z=class extends Y{constructor(){super(...arguments),this.keys=["<C-f>"],this.to="down"}getNumLines(e){const t=e.editor.visibleRanges[0];return t.end.line-t.start.line}};Z=s([M.RegisterAction],Z);let X=class extends Y{constructor(){super(...arguments),this.keys=["<C-d>"],this.to="down"}getNumLines(e){return y.configuration.getScrollLines(e.editor.visibleRanges)}};X=s([M.RegisterAction],X);let ee=class extends Y{constructor(){super(...arguments),this.keys=["<C-u>"],this.to="up"}getNumLines(e){return y.configuration.getScrollLines(e.editor.visibleRanges)}};ee=s([M.RegisterAction],ee);let te=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=[["i"],["<Insert>"]]}async exec(e,t){return await t.setCurrentMode(w.Mode.Insert),t}doesActionApply(e,t){let r=!0;for(const t of e.recordedState.actionsRun)if(!(t instanceof N)){r=!1;break}return!(0!==e.recordedState.actionsRun.length&&!r)&&super.couldActionApply(e,t)}};te=s([M.RegisterAction],te),t.CommandInsertAtCursor=te;let re=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["R"]}async exec(e,t){let r=t.recordedState.count||1;return await t.setCurrentMode(w.Mode.Replace),t.replaceState=new c.ReplaceState(e,r),t}};re=s([M.RegisterAction],re),t.CommandReplaceAtCursorFromNormalMode=re;let ne=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Replace],this.keys=["<character>"],this.canBeRepeatedWithDot=!0}async exec(e,t){const r=this.keysPressed[0],n=t.replaceState;return"<BS>"===r?(e.isBeforeOrEqual(n.replaceCursorStartPosition)?(t.cursorStopPosition=e.getLeft(),t.cursorStartPosition=e.getLeft()):e.line>n.replaceCursorStartPosition.line||e.character>n.originalChars.length?t.recordedState.transformations.push({type:"deleteText",position:e}):t.recordedState.transformations.push({type:"replaceText",text:n.originalChars[e.character-1],start:e.getLeft(),end:e,diff:new g.PositionDiff({character:-1})}),n.newChars.pop()):(e.isLineEnd()||"\n"===r?t.recordedState.transformations.push({type:"insertText",text:r,position:e}):t.recordedState.transformations.push({type:"replaceText",text:r,start:e,end:e.getRight(),diff:new g.PositionDiff({character:1})}),n.newChars.push(r)),t}};ne=s([M.RegisterAction],ne);let ie=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock,w.Mode.Insert,w.Mode.Normal],this.keys=["<copy>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){let r="";if(t.currentMode===w.Mode.Visual)r=t.cursors.map(e=>{const[r,n]=g.sorted(e.start,e.stop);return t.editor.document.getText(new o.Range(r,n.getRight()))}).join("\n");else if(t.currentMode===w.Mode.VisualLine)r=t.cursors.map(e=>t.editor.document.getText(new o.Range(g.earlierOf(e.start.getLineBegin(),e.stop.getLineBegin()),g.laterOf(e.start.getLineEnd(),e.stop.getLineEnd())))).join("\n");else if(t.currentMode===w.Mode.VisualBlock)for(const{line:e}of C.TextEditor.iterateLinesInBlock(t))r+=e+"\n";else t.currentMode!==w.Mode.Insert&&t.currentMode!==w.Mode.Normal||(r=t.editor.selections.map(e=>t.editor.document.getText(new o.Range(e.start,e.end))).join("\n"));return await l.Clipboard.Copy(r),await t.setCurrentMode(w.Mode.Normal),t}};ie=s([M.RegisterAction],ie);let se=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["<D-a>"]}async exec(e,t){return t.cursorStartPosition=new g.Position(0,t.desiredColumn),t.cursorStopPosition=new g.Position(C.TextEditor.getLineCount()-1,t.desiredColumn),await t.setCurrentMode(w.Mode.VisualLine),t}};function oe(e,t,r,n){let i=C.TextEditor.getWord(e);if(i){(/\W/.test(i[0])||/\W/.test(i[i.length-1]))&&(n=!1),n&&(i=B.escapeRegExp(i));const e=r===x.SearchDirection.Backward?t.cursorStopPosition.getWordLeft(!0):t.cursorStopPosition;return ce({needle:i,vimState:t,direction:r,isExact:n,searchStartCursorPosition:e})}return R.StatusBar.displayError(t,L.VimError.fromCode(L.ErrorCode.NoStringUnderCursor)),t}async function ae(e,t){const r=C.TextEditor.getSelection(),n=new g.Position(r.end.line,r.end.character),i=C.TextEditor.getText(r.with(r.start,n));await e.setCurrentMode(w.Mode.Normal);const s=t===x.SearchDirection.Backward?e.lastVisualSelection.start.getLeft():e.lastVisualSelection.end.getRight();return ce({needle:i,vimState:e,direction:t,isExact:!1,searchStartCursorPosition:s})}async function ce(e){const{needle:t,vimState:r,isExact:n}=e;if(void 0===t||0===t.length)return r;const i=n?`\\b${t}\\b`:t;T.globalState.searchState=new x.SearchState(e.direction,r.cursorStopPosition,i,{isRegex:n,ignoreSmartcase:!0},r.currentMode),b.Register.putByKey(T.globalState.searchState.searchString,"/",void 0,!0),T.globalState.addSearchStateToHistory(T.globalState.searchState),T.globalState.hl=!0;const s=T.globalState.searchState.getNextSearchMatchPosition(e.searchStartCursorPosition);return s?(r.cursorStopPosition=s.pos,P.reportSearch(s.index,T.globalState.searchState.getMatchRanges().length,r)):R.StatusBar.displayError(r,L.VimError.fromCode(e.direction===x.SearchDirection.Forward?L.ErrorCode.SearchHitBottom:L.ErrorCode.SearchHitTop,T.globalState.searchState.searchString)),r}se=s([M.RegisterAction],se);let ue=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["*"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){return oe(e,t,x.SearchDirection.Forward,!0)}};ue=s([M.RegisterAction],ue);let le=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=["g","*"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){return oe(e,t,x.SearchDirection.Forward,!1)}};le=s([M.RegisterAction],le);let de=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Visual,w.Mode.VisualLine],this.keys=["*"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){return y.configuration.visualstar?ae(t,x.SearchDirection.Forward):oe(e,t,x.SearchDirection.Forward,!0)}};de=s([M.RegisterAction],de);let he=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["#"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){return oe(e,t,x.SearchDirection.Backward,!0)}};he=s([M.RegisterAction],he);let fe=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=["g","#"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){return oe(e,t,x.SearchDirection.Backward,!1)}};fe=s([M.RegisterAction],fe);let pe=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Visual,w.Mode.VisualLine],this.keys=["#"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){return y.configuration.visualstar?ae(t,x.SearchDirection.Backward):oe(e,t,x.SearchDirection.Backward,!0)}};pe=s([M.RegisterAction],pe);let ge=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["/"],this.isMotion=!0,this.isJump=!0}async exec(e,t){return T.globalState.searchState=new x.SearchState(x.SearchDirection.Forward,t.cursorStopPosition,"",{isRegex:!0},t.currentMode),await t.setCurrentMode(w.Mode.SearchInProgressMode),T.globalState.searchStateIndex=T.globalState.searchStatePrevious.length,t}};ge=s([M.RegisterAction],ge),t.CommandSearchForwards=ge;let me=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["?"],this.isMotion=!0,this.isJump=!0}async exec(e,t){return T.globalState.searchState=new x.SearchState(x.SearchDirection.Backward,t.cursorStopPosition,"",{isRegex:!0},t.currentMode),await t.setCurrentMode(w.Mode.SearchInProgressMode),T.globalState.searchStateIndex=T.globalState.searchStatePrevious.length,t}};me=s([M.RegisterAction],me),t.CommandSearchBackwards=me;let ve=class extends F{constructor(){super(...arguments),this.keys=["m","<character>"],this.modes=[w.Mode.Normal]}async exec(e,t){const r=this.keysPressed[1];return t.historyTracker.addMark(e,r),t}};ve=s([M.RegisterAction],ve),t.MarkCommand=ve;let ye=i=class extends F{constructor(e){super(),this.keys=["p"],this.modes=[w.Mode.Normal],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0,this.multicursorIndex=e}static async getText(e,t){const r=await b.Register.get(e);if(e.isMultiCursor){if(void 0===t)throw new Error("No multi-cursor index when calling PutCommand#getText");if("object"==typeof r.text)return r.text[t]}return r.text}async exec(e,t,r={}){var n,s;const o=await b.Register.get(t),c=r.after?e:e.getRight(),u=r.forceLinewise?b.RegisterMode.LineWise:o.registerMode;if(o.text instanceof a.RecordedState)return t.recordedState.transformations.push({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"}),t;if("object"==typeof o.text&&t.currentMode===w.Mode.VisualBlock)return this.execVisualBlockPaste(o.text,e,t,r.after||!1);let l,d,h=await i.getText(t,this.multicursorIndex);const f=0===t.cursorStartPosition.line,p=t.cursorStopPosition.line===C.TextEditor.getLineCount()-1;if(u===b.RegisterMode.CharacterWise)l=h,d=c;else if(t.currentMode===w.Mode.Visual&&u===b.RegisterMode.LineWise)l="\n"+h+"\n",d=c;else if(t.currentMode===w.Mode.VisualLine&&u===b.RegisterMode.LineWise){l=(!f&&p?"\n":"")+h+(p?"":"\n"),d=c}else{if(r.adjustIndent){let t=C.TextEditor.getIndentationLevel(C.TextEditor.getLineAt(e).text),r=C.TextEditor.getIndentationLevel(h.split("\n")[0]);h=h.split("\n").map(e=>{let n=C.TextEditor.getIndentationLevel(e)-r+t;return C.TextEditor.setIndentationLevel(e,n)}).join("\n")}u===b.RegisterMode.LineWise?r.after?(l=h+"\n",d=c.getLineBegin()):(l="\n"+h,d=c.getLineEnd()):(l=h,d=r.after?e:e.getRight())}if(w.isVisualMode(t.currentMode)){let e=l;t.currentMode===w.Mode.VisualLine&&"\n"===l[l.length-1]&&(e=l.substring(0,l.length-1)),t.lastVisualSelection={mode:t.currentMode,start:d,end:d.advancePositionByText(e)}}const m=h.split("\n").length-1,v=C.TextEditor.getLineAt(e).text.length;let y=new g.PositionDiff;if(t.currentMode===w.Mode.VisualLine){const e=h.split("\n"),t=null!==(s=null===(n=/^\s*/.exec(e[0]))||void 0===n?void 0:n[0].length)&&void 0!==s?s:0;let r=e.length-1;o.registerMode!==b.RegisterMode.LineWise||p||r++,y={type:g.PositionDiffType.ExactCharacter,line:-r,character:t}}else if(u===b.RegisterMode.LineWise&&r.forceCursorLastLine){const e=h.split("\n")[m].match(/^\s*/);let t,n=0;e&&(n=e[0].length),t=r.after?-m:v>0?m+1:0,y=new g.PositionDiff({line:t,character:n,type:g.PositionDiffType.ExactCharacter})}else if(u===b.RegisterMode.LineWise){const e=h.match(/^\s*/);let t=0;e&&(t=e[0].length),y=r.after?new g.PositionDiff({line:-m-1,character:t,type:g.PositionDiffType.ExactCharacter}):new g.PositionDiff({line:v>0?1:-m,character:t,type:g.PositionDiffType.ExactCharacter})}else if(h.includes("\n"))y=e.isLineEnd()||r.after?new g.PositionDiff({line:-m,character:e.character,type:g.PositionDiffType.ExactCharacter}):new g.PositionDiff({character:1});else if(!e.isLineEnd()){let e;e=u===b.RegisterMode.BlockWise?r.after?-h.length:1:r.after?-1:l.length,y=new g.PositionDiff({character:e})}t.recordedState.transformations.push({type:"insertText",text:l,position:d,diff:y});let x=l.split("\n").length;return u===b.RegisterMode.LineWise&&x--,P.reportLinesChanged(x,t),t.currentRegisterMode=u,t}async execVisualBlockPaste(e,t,r,n){n&&(t=t.getRight());let i=Math.max(0,e.length-(C.TextEditor.getLineCount()-t.line)+1);i>0&&await C.TextEditor.insertAt(Array(i).join("\n"),new g.Position(C.TextEditor.getLineCount()-1,C.TextEditor.getLineLength(C.TextEditor.getLineCount()-1)));for(let r=t.line;r<t.line+e.length;r++){const n=e[r-t.line],i=new g.Position(r,Math.min(t.character,C.TextEditor.getLineLength(r)));await C.TextEditor.insertAt(n,i)}return r.currentRegisterMode=b.RegisterMode.AscertainFromCurrentMode,r}async execCount(e,t){const r=await super.execCount(e,t);if(t.effectiveRegisterMode===b.RegisterMode.LineWise&&t.recordedState.count>0){const e=(await i.getText(t,this.multicursorIndex)).split("\n").length*t.recordedState.count;r.recordedState.transformations.push({type:"moveCursor",diff:new g.PositionDiff({line:1-e}),cursorIndex:this.multicursorIndex}),P.reportLinesChanged(e,t)}return r}};ye=i=s([M.RegisterAction],ye),t.PutCommand=ye;let we=class extends F{constructor(){super(...arguments),this.keys=["g","p"],this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}async exec(e,t){return(new ye).exec(e,t)}async execCount(e,t){const r=await b.Register.get(t);let n;if(r.text instanceof a.RecordedState)return t.recordedState.transformations.push({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"}),t;n="object"==typeof r.text?r.text.length*t.recordedState.count:r.text.split("\n").length;const i=await super.execCount(e,t);return t.effectiveRegisterMode===b.RegisterMode.LineWise&&i.recordedState.transformations.push({type:"moveCursor",diff:g.PositionDiff.newBOLDiff(n),cursorIndex:this.multicursorIndex}),i}};we=s([M.RegisterAction],we),t.GPutCommand=we;let be=class extends F{constructor(){super(...arguments),this.keys=["]","p"],this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}async exec(e,t){return(new ye).exec(e,t,{adjustIndent:!0})}async execCount(e,t){return super.execCount(e,t)}};be=s([M.RegisterAction],be),t.PutWithIndentCommand=be;let xe=class extends F{constructor(){super(...arguments),this.keys=[["p"],["P"]],this.modes=[w.Mode.Visual,w.Mode.VisualLine],this.runsOnceForEachCountPrefix=!0}async exec(e,t,r=!1){let[n,i]=g.sorted(t.cursorStartPosition,t.cursorStopPosition);t.currentMode===w.Mode.VisualLine&&([n,i]=[n.getLineBegin(),i.getLineEnd()]);const s=t.currentMode===w.Mode.VisualLine;let o=t.currentMode;if((await b.Register.get(t)).registerMode===b.RegisterMode.LineWise){const e=t.recordedState.registerName,r=await b.Register.getByKey(e);t.recordedState.registerName=y.configuration.useSystemClipboard?"*":'"';let s=await new k.DeleteOperator(this.multicursorIndex).run(t,n,i,!0);const a=t.recordedState.registerName,c=await b.Register.getByKey(a);e===a&&b.Register.putByKey(r.text,e,r.registerMode);let u=s.currentMode;return await s.setCurrentMode(o),t.recordedState.registerName=e,s=await(new ye).exec(n,s,{after:!0}),await s.setCurrentMode(u),e===a&&b.Register.putByKey(c.text,a,c.registerMode),s}let a=await new ye(this.multicursorIndex).exec(n,t,{after:!0});return a.currentRegisterMode=s?b.RegisterMode.LineWise:b.RegisterMode.CharacterWise,a.recordedState.registerName=y.configuration.useSystemClipboard?"*":'"',a=await new k.YankOperator(this.multicursorIndex).run(a,n,i),a.currentRegisterMode=b.RegisterMode.CharacterWise,a=await new k.DeleteOperator(this.multicursorIndex).run(a,n,i.getLeftIfEOL(),!1),a.currentRegisterMode=b.RegisterMode.AscertainFromCurrentMode,a}};xe=s([M.RegisterAction],xe),t.PutCommandVisual=xe;let Ce=class extends F{constructor(){super(...arguments),this.keys=["P"],this.modes=[w.Mode.Normal],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!0}async exec(e,t){const r=new ye;return r.multicursorIndex=this.multicursorIndex,r.exec(e,t,{after:!0})}};Ce=s([M.RegisterAction],Ce),t.PutBeforeCommand=Ce;let Se=class extends F{constructor(){super(...arguments),this.keys=["g","P"],this.modes=[w.Mode.Normal]}async exec(e,t){const r=await(new ye).exec(e,t,{after:!0}),n=await b.Register.get(t);let i;return n.text instanceof a.RecordedState?(t.recordedState.transformations.push({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"}),t):(i="object"==typeof n.text?n.text.length*t.recordedState.count:n.text.split("\n").length,t.effectiveRegisterMode===b.RegisterMode.LineWise&&r.recordedState.transformations.push({type:"moveCursor",diff:g.PositionDiff.newBOLDiff(i),cursorIndex:this.multicursorIndex}),r)}};Se=s([M.RegisterAction],Se),t.GPutBeforeCommand=Se;let Me=class extends F{constructor(){super(...arguments),this.keys=["[","p"],this.modes=[w.Mode.Normal]}async exec(e,t){const r=await(new ye).exec(e,t,{after:!0,adjustIndent:!0});return t.effectiveRegisterMode===b.RegisterMode.LineWise&&(r.cursorStopPosition=C.TextEditor.getFirstNonWhitespaceCharOnLine(r.cursorStopPosition.getUp().line)),r}};Me=s([M.RegisterAction],Me),t.PutBeforeWithIndentCommand=Me;let _e=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=[":"]}runsOnceForEveryCursor(){return!1}async exec(e,t){return t.currentMode===w.Mode.Normal?t.recordedState.count?t.currentCommandlineText=".,.+"+(t.recordedState.count-1):t.currentCommandlineText="":t.currentCommandlineText="'<,'>",t.statusBarCursorCharacterPos=t.currentCommandlineText.length,E.commandLine.previousMode=t.currentMode,await t.setCurrentMode(w.Mode.CommandlineInProgress),E.commandLine.commandLineHistoryIndex=E.commandLine.historyEntries.length,t}};_e=s([M.RegisterAction],_e);let Ee=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["q",":"]}runsOnceForEveryCursor(){return!1}async exec(e,t){return t.recordedState.transformations.push({type:"showCommandHistory"}),t.currentMode===w.Mode.Normal?t.currentCommandlineText="":t.currentCommandlineText="'<,'>",await t.setCurrentMode(w.Mode.Normal),t}};Ee=s([M.RegisterAction],Ee),t.CommandShowCommandHistory=Ee;let ke=class extends F{constructor(e=x.SearchDirection.Forward){super(),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=[["q","/"],["q","?"]],this.direction=x.SearchDirection.Forward,this.direction=e}runsOnceForEveryCursor(){return!1}async exec(e,t){return t.recordedState.commandList.includes("?")&&(this.direction=x.SearchDirection.Backward),t.recordedState.transformations.push({type:"showSearchHistory",direction:this.direction}),await t.setCurrentMode(w.Mode.Normal),t}};ke=s([M.RegisterAction],ke),t.CommandShowSearchHistory=ke;let Ae=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["."]}async execCount(e,t){let r=t.recordedState.count||1;for(let e=0;e<r;e++)t.recordedState.transformations.push({type:"dot"});return t}};Ae=s([M.RegisterAction],Ae);let Re=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["&"]}async exec(e,t){return await E.commandLine.Run("s",t),t}};Re=s([M.RegisterAction],Re);class Pe extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){return await o.commands.executeCommand(this.commandName),await t.setCurrentMode(w.Mode.Normal),t}}let Te=class extends Pe{constructor(){super(...arguments),this.keys=["z","a"],this.commandName="editor.toggleFold"}async exec(e,t){return await o.commands.executeCommand(this.commandName),t.cursors=u.getCursorsAfterSync(),await t.setCurrentMode(w.Mode.Normal),t}};Te=s([M.RegisterAction],Te);let Le=class extends Pe{constructor(){super(...arguments),this.keys=["z","c"],this.commandName="editor.fold",this.runsOnceForEachCountPrefix=!0}async exec(e,t){let r=t.recordedState.count||1;return await o.commands.executeCommand("editor.fold",{levels:r,direction:"up"}),t.cursors=u.getCursorsAfterSync(),t}};Le=s([M.RegisterAction],Le);let Be=class extends Pe{constructor(){super(...arguments),this.keys=["z","M"],this.commandName="editor.foldAll"}};Be=s([M.RegisterAction],Be);let Oe=class extends Pe{constructor(){super(...arguments),this.keys=["z","o"],this.commandName="editor.unfold",this.runsOnceForEachCountPrefix=!0}async exec(e,t){let r=t.recordedState.count||1;return await o.commands.executeCommand("editor.unfold",{levels:r,direction:"down"}),t}};Oe=s([M.RegisterAction],Oe);let Fe=class extends Pe{constructor(){super(...arguments),this.keys=["z","R"],this.commandName="editor.unfoldAll"}};Fe=s([M.RegisterAction],Fe);let De=class extends Pe{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["z","C"],this.commandName="editor.foldRecursively"}};De=s([M.RegisterAction],De);let Ie=class extends Pe{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["z","O"],this.commandName="editor.unfoldRecursively"}};Ie=s([M.RegisterAction],Ie);let Ne=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["z","z"]}preservesDesiredColumn(){return!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){return t.editor.revealRange(new o.Range(t.cursorStopPosition,t.cursorStopPosition),o.TextEditorRevealType.InCenter),t}};Ne=s([M.RegisterAction],Ne);let $e=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["z","."]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){return t.editor.revealRange(new o.Range(t.cursorStopPosition,t.cursorStopPosition),o.TextEditorRevealType.InCenter),t.cursorStopPosition=C.TextEditor.getFirstNonWhitespaceCharOnLine(t.cursorStopPosition.line),t}};$e=s([M.RegisterAction],$e);let je=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["z","t"]}preservesDesiredColumn(){return!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){return t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"top"}}),t}};je=s([M.RegisterAction],je);let Ve=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["z","\n"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){return t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"top"}}),t.cursorStopPosition=C.TextEditor.getFirstNonWhitespaceCharOnLine(t.cursorStopPosition.line),t}};Ve=s([M.RegisterAction],Ve);let We=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["z","b"]}preservesDesiredColumn(){return!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){return t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"bottom"}}),t}};We=s([M.RegisterAction],We);let Ue=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["z","-"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){return t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"bottom"}}),t.cursorStopPosition=C.TextEditor.getFirstNonWhitespaceCharOnLine(t.cursorStopPosition.line),t}};Ue=s([M.RegisterAction],Ue);let He=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["o"],this.isJump=!0}async exec(e,t){return[t.cursorStartPosition,t.cursorStopPosition]=[t.cursorStopPosition,t.cursorStartPosition],t}};He=s([M.RegisterAction],He);let qe=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["u"],this.runsOnceForEachCountPrefix=!0,this.mustBeFirstKey=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await t.historyTracker.goBackHistoryStep();return void 0===r?R.StatusBar.setText(t,"Already at oldest change"):t.cursors=r.map(e=>new m.Range(e,e)),t.alteredHistory=!0,t}};qe=s([M.RegisterAction],qe),t.CommandUndo=qe;let ze=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["U"],this.mustBeFirstKey=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await t.historyTracker.goBackHistoryStepsOnLine();return void 0!==r&&(t.cursors=r.map(e=>new m.Range(e,e))),t.alteredHistory=!0,t}};ze=s([M.RegisterAction],ze);let Ke=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["<C-r>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await t.historyTracker.goForwardHistoryStep();return void 0===r?R.StatusBar.setText(t,"Already at newest change"):t.cursors=r.map(e=>new m.Range(e,e)),t.alteredHistory=!0,t}};Ke=s([M.RegisterAction],Ke);let Ge=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["D"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!0}async exec(e,t){if(e.isLineEnd())return t;const r=(t.recordedState.count||1)-1,n=e,i=e.getDown(r).getLineEnd().getLeftThroughLineBreaks();return new k.DeleteOperator(this.multicursorIndex).run(t,n,i)}};Ge=s([M.RegisterAction],Ge);let Je=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["Y"]}async exec(e,t){const r=(t.recordedState.count||1)-1,n=e.getLineBegin(),i=e.getDown(r).getLeft();return t.currentRegisterMode=b.RegisterMode.LineWise,(new k.YankOperator).run(t,n,i)}};Je=s([M.RegisterAction],Je),t.CommandYankFullLine=Je;let Ye=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["C"],this.runsOnceForEachCountPrefix=!1}async exec(e,t){const r=t.recordedState.count||1;return(new k.ChangeOperator).run(t,e,e.getDown(Math.max(0,r-1)).getLineEnd().getLeft())}};Ye=s([M.RegisterAction],Ye);let Qe=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["S"],this.runsOnceForEachCountPrefix=!1}async exec(e,t){return new k.ChangeOperator(this.multicursorIndex).runRepeat(t,e,t.recordedState.count||1)}doesActionApply(e,t){return super.doesActionApply(e,t)&&!y.configuration.sneak}couldActionApply(e,t){return super.couldActionApply(e,t)&&!y.configuration.sneak}};Qe=s([M.RegisterAction],Qe);let Ze=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Visual],this.keys=["v"]}async exec(e,t){return await t.setCurrentMode(w.Mode.Normal),t}};Ze=s([M.RegisterAction],Ze);let Xe=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["v"],this.isCompleteAction=!1}async exec(e,t){return await t.setCurrentMode(w.Mode.Visual),t}};Xe=s([M.RegisterAction],Xe),t.CommandVisualMode=Xe;let et=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["g","v"]}async exec(e,t){return void 0!==t.lastVisualSelection&&t.lastVisualSelection.end.line<=C.TextEditor.getLineCount()-1&&(await t.setCurrentMode(t.lastVisualSelection.mode),t.cursorStartPosition=t.lastVisualSelection.start,t.cursorStopPosition=t.lastVisualSelection.end.getLeft()),t}};async function tt(e,t){const r=T.globalState.searchState;if(!r||""===r.searchString)return e;const n=new x.SearchState(t,e.cursorStopPosition,r.searchString,{isRegex:!0},e.currentMode);let i;return i=n.getSearchMatchRangeOf(e.cursorStopPosition),e.currentMode===w.Mode.Visual&&e.cursorStopPosition.isEqual(i.end.getLeftThroughLineBreaks())&&(i.match=!1),i.match||(i=n.getNextSearchMatchRange(e.cursorStopPosition),null==i?void 0:i.match)?(e.cursorStartPosition=e.currentMode===w.Mode.Normal?i.start:e.cursorStopPosition,e.cursorStopPosition=i.end.getLeftThroughLineBreaks(),o.window.activeTextEditor.selection=new o.Selection(e.cursorStartPosition,e.cursorStopPosition),P.reportSearch(i.index,r.getMatchRanges().length,e),await e.setCurrentMode(w.Mode.Visual),e):e}et=s([M.RegisterAction],et);let rt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualBlock],this.keys=["g","n"]}async exec(e,t){return tt(t,x.SearchDirection.Forward)}};rt=s([M.RegisterAction],rt);let nt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualBlock],this.keys=["g","N"]}async exec(e,t){return tt(t,x.SearchDirection.Backward)}};nt=s([M.RegisterAction],nt);let it=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=[["<C-v>"],["<C-q>"]]}async exec(e,t){return await t.setCurrentMode(w.Mode.VisualBlock),t}};it=s([M.RegisterAction],it);let st=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.VisualBlock],this.keys=[["<C-v>"],["<C-q>"]]}async exec(e,t){return await t.setCurrentMode(w.Mode.Normal),t}};st=s([M.RegisterAction],st);let ot=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualBlock],this.keys=["V"]}async exec(e,t){return await t.setCurrentMode(w.Mode.VisualLine),t.recordedState.count>1&&(t.cursorStopPosition=t.cursorStopPosition.getDown(t.recordedState.count-1)),t}};ot=s([M.RegisterAction],ot);let at=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.VisualLine],this.keys=["V"]}async exec(e,t){return await t.setCurrentMode(w.Mode.Normal),t}};at=s([M.RegisterAction],at);let ct=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual],this.keys=["g","f"],this.isJump=!0}async exec(e,t){let r;if(t.currentMode===w.Mode.Visual)r=C.TextEditor.getText(C.TextEditor.getSelection());else{const t=new o.Range(e.getFilePathLeft(!0),e.getFilePathRight());r=C.TextEditor.getText(t).trim()}const n=r.match(/(.*?(?=:[0-9]+)|.*):?([0-9]*)$/);if(n){const e=n[1],t=parseInt(n[2],10);new d.FileCommand({name:e,lineNumber:t,createFileIfNotExists:!1}).execute()}return t}};ct=s([M.RegisterAction],ct);let ut=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=[["g","d"],["<C-]>"]],this.isJump=!0}async exec(e,t){return await o.commands.executeCommand("editor.action.goToDeclaration"),t.editor===o.window.activeTextEditor&&(t.cursorStopPosition=g.Position.FromVSCodePosition(t.editor.selection.start)),t}};ut=s([M.RegisterAction],ut);let lt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["g","x"]}async exec(e,t){return o.commands.executeCommand("editor.action.openLink"),t}};lt=s([M.RegisterAction],lt);let dt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["g",";"],this.isJump=!0}async exec(e,t){const r=t.historyTracker.changelistIndex,n=t.historyTracker.getChangePositionAtIndex(r-1),i=t.historyTracker.getChangePositionAtIndex(r);return void 0!==n?(t.cursorStopPosition=n[0],t.historyTracker.changelistIndex=r-1):void 0!==i&&(t.cursorStopPosition=i[0]),t}};dt=s([M.RegisterAction],dt);let ht=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["g",","],this.isJump=!0}async exec(e,t){const r=t.historyTracker.changelistIndex,n=t.historyTracker.getChangePositionAtIndex(r+1),i=t.historyTracker.getChangePositionAtIndex(r);return void 0!==n?(t.cursorStopPosition=n[0],t.historyTracker.changelistIndex=r+1):void 0!==i&&(t.cursorStopPosition=i[0]),t}};ht=s([M.RegisterAction],ht);let ft=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=[["`","["],["'","["]],this.isJump=!0}async exec(e,t){const r=t.historyTracker.getLastChangeStartPosition();return void 0!==r&&(t.cursorStopPosition=r),t}};ft=s([M.RegisterAction],ft);let pt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=[["`","]"],["'","]"]],this.isJump=!0}async exec(e,t){const r=t.historyTracker.getLastChangeEndPosition();return void 0!==r&&(t.cursorStopPosition=r),t}};pt=s([M.RegisterAction],pt);let gt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=[["`","."],["'","."]],this.isJump=!0}async exec(e,t){const r=t.historyTracker.getLastHistoryStartPosition();return void 0!==r&&(t.cursorStopPosition=r[0]),t}};gt=s([M.RegisterAction],gt);let mt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["g","i"]}async exec(e,t){const r=t.historyTracker.getLastChangeEndPosition();return void 0!==r&&(t.cursorStopPosition=r,await t.setCurrentMode(w.Mode.Insert)),t}};mt=s([M.RegisterAction],mt);let vt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["I"]}async exec(e,t){return await t.setCurrentMode(w.Mode.Insert),t.cursorStopPosition=C.TextEditor.getFirstNonWhitespaceCharOnLine(e.line),t}};vt=s([M.RegisterAction],vt),t.CommandInsertAtFirstCharacter=vt;let yt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.mustBeFirstKey=!0,this.keys=["g","I"]}async exec(e,t){return await t.setCurrentMode(w.Mode.Insert),t.cursorStopPosition=e.getLineBegin(),t}};yt=s([M.RegisterAction],yt);let wt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["a"]}async exec(e,t){return await t.setCurrentMode(w.Mode.Insert),t.cursorStopPosition=e.getRight(),t}doesActionApply(e,t){return!!e.recordedState.actionsRun.every(e=>e instanceof N)&&super.couldActionApply(e,t)}};wt=s([M.RegisterAction],wt),t.CommandInsertAfterCursor=wt;let bt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["A"]}async exec(e,t){return await t.setCurrentMode(w.Mode.Insert),t.cursorStopPosition=e.getLineEnd(),t}};bt=s([M.RegisterAction],bt),t.CommandInsertAtLineEnd=bt;let xt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["O"]}runsOnceForEveryCursor(){return!1}async execCount(e,t){await t.setCurrentMode(w.Mode.Insert);let r=t.recordedState.count||1;for(let e=0;e<r;e++)await o.commands.executeCommand("editor.action.insertLineBefore");t.cursors=u.getCursorsAfterSync();for(let e=0;e<r;e++){const r=new g.Position(t.cursors[0].start.line+e,t.cursors[0].start.character);t.cursors.push(new m.Range(r,r))}return t.cursors=t.cursors.reverse(),t.isFakeMultiCursor=!0,t.isMultiCursor=!0,t}};xt=s([M.RegisterAction],xt);let Ct=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["o"]}runsOnceForEveryCursor(){return!1}async execCount(e,t){await t.setCurrentMode(w.Mode.Insert);let r=t.recordedState.count||1;for(let e=0;e<r;e++)await o.commands.executeCommand("editor.action.insertLineAfter");t.cursors=u.getCursorsAfterSync();for(let e=1;e<r;e++){const r=new g.Position(t.cursorStartPosition.line-e,t.cursorStartPosition.character);t.cursors.push(new m.Range(r,r)),t.recordedState.transformations.push({type:"insertText",text:C.TextEditor.setIndentationLevel("",r.character),position:r,cursorIndex:e,manuallySetCursorPositions:!0})}return t.cursors=t.cursors.reverse(),t.isFakeMultiCursor=!0,t.isMultiCursor=!0,t}};Ct=s([M.RegisterAction],Ct);let St=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=[["<C-o>"],["<C-t>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){return T.globalState.jumpTracker.jumpBack(e,t)}};St=s([M.RegisterAction],St);let Mt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["<C-i>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){return T.globalState.jumpTracker.jumpForward(e,t)}};Mt=s([M.RegisterAction],Mt);let _t=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["`","`"],this.isJump=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){return T.globalState.jumpTracker.jumpBack(e,t)}};_t=s([M.RegisterAction],_t);let Et=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["'","'"],this.isJump=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=T.globalState.jumpTracker.end;if(null==r)return t;const n=new A.Jump({editor:t.editor,fileName:t.editor.document.fileName,position:r.position.getLineBegin()});return T.globalState.jumpTracker.recordJump(A.Jump.fromStateNow(t),n),t.cursorStopPosition=n.position,t}};Et=s([M.RegisterAction],Et);let kt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=[["<C-w>","q"],["<C-w>","<C-q>"],["<C-w>","c"],["<C-w>","<C-c>"]]}async exec(e,t){return new f.QuitCommand({}).execute(),t}};kt=s([M.RegisterAction],kt);let At=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=[["<C-w>","o"],["<C-w>","<C-o>"]]}async exec(e,t){return new h.OnlyCommand({}).execute(),t}};At=s([M.RegisterAction],At);let Rt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=[["<C-w>","l"],["<C-w>","<right>"],["<C-w l>"],["<C-w>","<C-l>"]],this.isJump=!0}async exec(e,t){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateRight",args:{}}),t}};Rt=s([M.RegisterAction],Rt);let Pt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=[["<C-w>","j"],["<C-w>","<down>"],["<C-w j>"],["<C-w>","<C-j>"]],this.isJump=!0}async exec(e,t){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateDown",args:{}}),t}};Pt=s([M.RegisterAction],Pt);let Tt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=[["<C-w>","k"],["<C-w>","<up>"],["<C-w k>"],["<C-w>","<C-k>"]],this.isJump=!0}async exec(e,t){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateUp",args:{}}),t}};Tt=s([M.RegisterAction],Tt);let Lt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=[["<C-w>","h"],["<C-w>","<left>"],["<C-w h>"],["<C-w>","<C-h>"]],this.isJump=!0}async exec(e,t){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateLeft",args:{}}),t}};Lt=s([M.RegisterAction],Lt);let Bt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=[["<C-w>","<C-w>"],["<C-w>","w"]],this.isJump=!0}async exec(e,t){return t.postponedCodeViewChanges.push({command:"workbench.action.navigateEditorGroups",args:{}}),t}};Bt=s([M.RegisterAction],Bt);let Ot=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=[["<C-w>","v"],["<C-w>","<C-v>"]]}async exec(e,t){return t.postponedCodeViewChanges.push({command:"workbench.action.splitEditor",args:{}}),t}};Ot=s([M.RegisterAction],Ot);let Ft=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=[["<C-w>","s"],["<C-w>","<C-s>"]]}async exec(e,t){return t.postponedCodeViewChanges.push({command:"workbench.action.splitEditorOrthogonal",args:{}}),t}};Ft=s([M.RegisterAction],Ft);let Dt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=["<C-w>","="]}async exec(e,t){return t.postponedCodeViewChanges.push({command:"workbench.action.evenEditorWidths",args:{}}),t}};Dt=s([M.RegisterAction],Dt);let It=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=[["g","t"],["<C-pagedown>"]],this.runsOnceForEachCountPrefix=!1}async exec(e,t){return t.recordedState.count>0?new p.TabCommand({tab:p.Tab.Absolute,count:t.recordedState.count-1}).execute():new p.TabCommand({tab:p.Tab.Next,count:1}).execute(),t}};It=s([M.RegisterAction],It);let Nt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine],this.keys=[["g","T"],["<C-pageup>"]],this.runsOnceForEachCountPrefix=!0}async exec(e,t){return new p.TabCommand({tab:p.Tab.Previous,count:1}).execute(),t}};Nt=s([M.RegisterAction],Nt);let $t=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["x"],this.canBeRepeatedWithDot=!0}async exec(e,t){if(C.TextEditor.getLineAt(e).text.length<1)return t;let r=t.recordedState.count||1;const n=await new k.DeleteOperator(this.multicursorIndex).run(t,e,e.getRight(r-1).getLeftIfEOL());return await n.setCurrentMode(w.Mode.Normal),n}};$t=s([M.RegisterAction],$t),t.ActionDeleteChar=$t;let jt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["<Del>"],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}async execCount(e,t){return 0!==t.recordedState.count?(t.recordedState.count=Math.floor(t.recordedState.count/10),t.recordedState.actionKeys=t.recordedState.count.toString().split(""),t.recordedState.commandList=t.recordedState.count.toString().split(""),this.isCompleteAction=!1,t):(new $t).execCount(e,t)}};jt=s([M.RegisterAction],jt),t.ActionDeleteCharWithDeleteKey=jt;let Vt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["X"],this.canBeRepeatedWithDot=!0}async exec(e,t){if(0===e.character)return t;let r=t.recordedState.count||1;return await new k.DeleteOperator(this.multicursorIndex).run(t,e.getLeft(r),e.getLeft())}};Vt=s([M.RegisterAction],Vt),t.ActionDeleteLastChar=Vt;let Wt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["J"],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!1}firstNonWhitespaceIndex(e){for(let t=0,r=e.length;t<r;t++){let r=e.charCodeAt(t);if(32!==r&&9!==r)return t}return-1}async execJoinLines(e,t,r,n){n=n-1||1;let i,s,o,a,c=0;e.isEqual(t)||e.line===t.line?t.line+1<C.TextEditor.getLineCount()?(i=t.line,s=0,o=t.getDown(n).line,a=C.TextEditor.getLineLength(o)):(i=t.line,s=0,o=t.line,a=C.TextEditor.getLineLength(o)):(i=e.line,s=0,o=t.line,a=C.TextEditor.getLineLength(o));let u=C.TextEditor.getLineAt(e).text;for(let e=i+1;e<=o;e++){const t=C.TextEditor.getLine(e).text;let r=this.firstNonWhitespaceIndex(t);if(r>=0){let e=!0;""!==u&&" "!==u.charAt(u.length-1)&&"\t"!==u.charAt(u.length-1)||(e=!1);let n=t.substr(r);")"===n.charAt(0)&&(e=!1),u+=(e?" ":"")+n,c=e?n.length+1:n.length}else""===u||" "===u.charAt(u.length-1)||"\t"===u.charAt(u.length-1)?c+=0:(u+=" ",c+=1)}let l=new g.Position(i,s),d=new g.Position(o,a);return l.isEqual(d)||(e.isEqual(t)?r.recordedState.transformations.push({type:"replaceText",text:u,start:l,end:d,diff:new g.PositionDiff({character:u.length-c-t.character})}):(r.recordedState.transformations.push({type:"replaceText",text:u,start:l,end:d,manuallySetCursorPositions:!0}),r.cursorStartPosition=r.cursorStopPosition=new g.Position(e.line,u.length-c),await r.setCurrentMode(w.Mode.Normal))),r}async execCount(e,t){const r=t.cursors.map(e=>new m.Range(e.start,e.stop)).sort((e,t)=>e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>t.start.character?1:-1);let n=[];for(const[e,{start:i,stop:s}]of r.entries()){this.multicursorIndex=e,t.cursorStopPosition=s,t.cursorStartPosition=i,t=await this.execJoinLines(i,s,t,t.recordedState.count||1),n.push(new m.Range(t.cursorStartPosition,t.cursorStopPosition));for(const e of t.recordedState.transformations)S.isTextTransformation(e)&&void 0===e.cursorIndex&&(e.cursorIndex=this.multicursorIndex)}return t.cursors=n,t}};Wt=s([M.RegisterAction],Wt);let Ut=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Visual,w.Mode.VisualLine],this.keys=["J"]}async exec(e,t){const[r,n]=g.sorted(g.Position.FromVSCodePosition(t.editor.selection.start),g.Position.FromVSCodePosition(t.editor.selection.end));return t.currentRegisterMode=b.RegisterMode.CharacterWise,t=await(new Wt).execJoinLines(r,n,t,1)}};Ut=s([M.RegisterAction],Ut);let Ht=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.VisualBlock],this.keys=["J"]}async exec(e,t){const[r,n]=g.sorted(t.cursorStartPosition,t.cursorStopPosition);return t.currentRegisterMode=b.RegisterMode.CharacterWise,(new Wt).execJoinLines(r,n,t,1)}};Ht=s([M.RegisterAction],Ht);let qt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["g","J"],this.canBeRepeatedWithDot=!0}async exec(e,t){if(e.line===C.TextEditor.getLineCount()-1)return t;const r=t.recordedState.count>2?t.recordedState.count-1:1;return this.execJoin(r,e,t)}async execJoin(e,t,r){const n=Math.min(t.line+e,C.TextEditor.getLineCount()-1),i=[];for(let e=t.line+1;e<=n;e++)i.push(C.TextEditor.getLine(e).text);const s=C.TextEditor.getLine(t.line).text+i.join("");let o=await new k.DeleteOperator(this.multicursorIndex).run(r,t.getLineBegin(),C.TextEditor.getLineLength(n)>0?t.getDown(e).getLineEnd().getLeft():t.getDown(e-1).getLineEnd());const a=i[i.length-1].length;return r.recordedState.transformations.push({type:"insertText",text:s,position:t,diff:new g.PositionDiff({character:-a})}),o.cursorStopPosition=new g.Position(t.line,s.length-a),o}};qt=s([M.RegisterAction],qt);let zt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.keys=["g","J"]}async exec(e,t){const[r,n]=g.sorted(t.cursorStartPosition,t.cursorStopPosition),i=r.line===n.line?1:n.line-r.line;return t.currentRegisterMode=b.RegisterMode.CharacterWise,(new qt).execJoin(i,r,t)}};zt=s([M.RegisterAction],zt);let Kt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["r","<character>"],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!1}async exec(e,t){let r=t.recordedState.count||1;const n=this.keysPressed[1];if(["<BS>","<SHIFT+BS>"].includes(n.toUpperCase()))return t;if(e.character+r>e.getLineEnd().character)return t;let i=new g.Position(e.line,e.character+r);return i.character>C.TextEditor.getLineAt(i).text.length||(i.character>C.TextEditor.getLineAt(i).text.length&&(i=new g.Position(i.line,i.character+1)),"<tab>"===n?(t.recordedState.transformations.push({type:"deleteRange",range:new m.Range(e,i)}),t.recordedState.transformations.push({type:"tab",cursorIndex:this.multicursorIndex,diff:new g.PositionDiff({character:-1})})):"\n"===n?(t.recordedState.transformations.push({type:"deleteRange",range:new m.Range(e,i)}),t.recordedState.transformations.push({type:"insertTextVSCode",text:"\n"})):t.recordedState.transformations.push({type:"replaceText",text:n.repeat(r),start:e,end:i,diff:new g.PositionDiff({character:r-1})})),t}async execCount(e,t){return super.execCount(e,t)}};Kt=s([M.RegisterAction],Kt);let Gt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Visual,w.Mode.VisualLine],this.keys=["r","<character>"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){let r=this.keysPressed[1];"<tab>"===r&&(r=C.TextEditor.getTabCharacter(t.editor));let n=1,[i,s]=g.sorted(t.cursorStartPosition,t.cursorStopPosition);t.currentMode===w.Mode.VisualLine&&([i,s]=[i.getLineBegin(),s.getLineEnd()]);const o=C.TextEditor.getLineAt(s).text.length;o<=0&&(n=0),s=new g.Position(s.line,Math.min(s.character,o>0?o-1:0));for(let e=i.line;e<=s.line;e++){const o=C.TextEditor.getLine(e).text;i.line===s.line?t.recordedState.transformations.push({type:"replaceText",text:Array(s.character-i.character+2).join(r),start:i,end:new g.Position(s.line,s.character+1),manuallySetCursorPositions:!0}):e===i.line?t.recordedState.transformations.push({type:"replaceText",text:Array(o.length-i.character+1).join(r),start:i,end:new g.Position(i.line,o.length),manuallySetCursorPositions:!0}):e===s.line?t.recordedState.transformations.push({type:"replaceText",text:Array(s.character+1+n).join(r),start:new g.Position(s.line,0),end:new g.Position(s.line,s.character+n),manuallySetCursorPositions:!0}):t.recordedState.transformations.push({type:"replaceText",text:Array(o.length+1).join(r),start:new g.Position(e,0),end:new g.Position(e,o.length),manuallySetCursorPositions:!0})}return t.cursorStopPosition=i,t.cursorStartPosition=i,await t.setCurrentMode(w.Mode.Normal),t}};Gt=s([M.RegisterAction],Gt);let Jt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.VisualBlock],this.keys=["r","<character>"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){let r=this.keysPressed[1];"<tab>"===r&&(r=C.TextEditor.getTabCharacter(t.editor));for(const{start:e,end:n}of C.TextEditor.iterateLinesInBlock(t))n.isBeforeOrEqual(e)||t.recordedState.transformations.push({type:"replaceText",text:Array(n.character-e.character+1).join(r),start:e,end:n,manuallySetCursorPositions:!0});const n=w.visualBlockGetTopLeftPosition(t.cursorStopPosition,t.cursorStartPosition);return t.cursors=[new m.Range(n,n)],await t.setCurrentMode(w.Mode.Normal),t}};Jt=s([M.RegisterAction],Jt);let Yt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.VisualBlock],this.keys=[["d"],["x"],["X"]],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=[];for(const{line:e,start:n,end:i}of C.TextEditor.iterateLinesInBlock(t))r.push(e),t.recordedState.transformations.push({type:"deleteRange",range:new m.Range(n,i),manuallySetCursorPositions:!0});const n=1===r.length?r[0]:r.join("\n");t.currentRegisterMode=b.RegisterMode.BlockWise,b.Register.put(n,t,this.multicursorIndex);const i=w.visualBlockGetTopLeftPosition(t.cursorStopPosition,t.cursorStartPosition);return t.cursors=[new m.Range(i,i)],await t.setCurrentMode(w.Mode.Normal),t}};Yt=s([M.RegisterAction],Yt);let Qt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.VisualBlock],this.keys=["D"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){for(const{start:e}of C.TextEditor.iterateLinesInBlock(t))t.recordedState.transformations.push({type:"deleteRange",range:new m.Range(e,e.getLineEnd()),manuallySetCursorPositions:!0});const r=w.visualBlockGetTopLeftPosition(t.cursorStopPosition,t.cursorStartPosition);return t.cursors=[new m.Range(r,r)],await t.setCurrentMode(w.Mode.Normal),t}};Qt=s([M.RegisterAction],Qt);let Zt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.VisualBlock],this.keys=["I"]}runsOnceForEveryCursor(){return!1}async exec(e,t){await t.setCurrentMode(w.Mode.Insert),t.isMultiCursor=!0,t.isFakeMultiCursor=!0;for(const{line:e,start:r}of C.TextEditor.iterateLinesInBlock(t))""===e&&0!==r.character||t.cursors.push(new m.Range(r,r));return t.cursors=t.cursors.slice(1),t}};Zt=s([M.RegisterAction],Zt);let Xt=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.VisualBlock],this.keys=[["c"],["s"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){for(const{start:e,end:r}of C.TextEditor.iterateLinesInBlock(t))t.recordedState.transformations.push({type:"deleteRange",range:new m.Range(e,r),manuallySetCursorPositions:!0});await t.setCurrentMode(w.Mode.Insert),t.isMultiCursor=!0,t.isFakeMultiCursor=!0;for(const{start:e}of C.TextEditor.iterateLinesInBlock(t))t.cursors.push(new m.Range(e,e));return t.cursors=t.cursors.slice(1),t}};Xt=s([M.RegisterAction],Xt);let er=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.VisualBlock],this.keys=["C"]}runsOnceForEveryCursor(){return!1}async exec(e,t){for(const{start:e}of C.TextEditor.iterateLinesInBlock(t))t.recordedState.transformations.push({type:"deleteRange",range:new m.Range(e,e.getLineEnd()),collapseRange:!0});await t.setCurrentMode(w.Mode.Insert),t.isMultiCursor=!0,t.isFakeMultiCursor=!0;for(const{end:e}of C.TextEditor.iterateLinesInBlock(t))t.cursors.push(new m.Range(e,e));return t.cursors=t.cursors.slice(1),t}};er=s([M.RegisterAction],er);class tr extends F{runsOnceForEveryCursor(){return!1}async exec(e,t){await t.setCurrentMode(w.Mode.Insert),t.isMultiCursor=!0,t.isFakeMultiCursor=!0,t.cursors=[];for(const e of t.editor.selections){let{start:r,end:n}=e;for(let e=r.line;e<=n.line;e++){const i=C.TextEditor.getLine(e);i.isEmptyOrWhitespace||t.cursors.push(this.getCursorRangeForLine(i,r,n))}}return t}}let rr=class extends tr{constructor(){super(...arguments),this.modes=[w.Mode.VisualLine],this.keys=["I"]}getCursorRangeForLine(e){const t=new g.Position(e.lineNumber,e.firstNonWhitespaceCharacterIndex);return new m.Range(t,t)}};rr=s([M.RegisterAction],rr),t.ActionGoToInsertVisualLineMode=rr;let nr=class extends tr{constructor(){super(...arguments),this.modes=[w.Mode.VisualLine],this.keys=["A"]}getCursorRangeForLine(e){const t=new g.Position(e.lineNumber,e.range.end.character);return new m.Range(t,t)}};nr=s([M.RegisterAction],nr),t.ActionGoToInsertVisualLineModeAppend=nr;let ir=class extends tr{constructor(){super(...arguments),this.modes=[w.Mode.Visual],this.keys=["I"]}getCursorRangeForLine(e,t,r){const n=e.lineNumber===t.line?g.Position.FromVSCodePosition(t):new g.Position(e.lineNumber,e.firstNonWhitespaceCharacterIndex);return new m.Range(n,n)}};ir=s([M.RegisterAction],ir),t.ActionGoToInsertVisualMode=ir;let sr=class extends tr{constructor(){super(...arguments),this.modes=[w.Mode.Visual],this.keys=["A"]}getCursorRangeForLine(e,t,r){const n=e.lineNumber===r.line?g.Position.FromVSCodePosition(r):new g.Position(e.lineNumber,e.range.end.character);return new m.Range(n,n)}};sr=s([M.RegisterAction],sr),t.ActionGoToInsertVisualModeAppend=sr;let or=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.VisualBlock],this.keys=["A"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=[];for(const e of t.cursors){const[n,i]=g.sorted(e.start,e.stop);for(let s=n.line;s<=i.line;s++){const n=C.TextEditor.getLine(s),i=t.desiredColumn===Number.POSITIVE_INFINITY?n.text.length:Math.max(e.start.character,e.stop.character)+1;n.text.length<i&&await C.TextEditor.insertAt(" ".repeat(i-n.text.length),n.range.end);const o=new g.Position(s,i);r.push(new m.Range(o,o))}}return t.cursors=r,await t.setCurrentMode(w.Mode.Insert),t.isMultiCursor=!0,t.isFakeMultiCursor=!0,t}};or=s([M.RegisterAction],or);let ar=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Visual,w.Mode.VisualLine],this.keys=["X"]}async exec(e,t){return t.currentMode===w.Mode.Visual?new k.DeleteOperator(this.multicursorIndex).run(t,t.cursorStartPosition.getLineBegin(),t.cursorStopPosition.getLineEnd()):new k.DeleteOperator(this.multicursorIndex).run(t,e.getLineBegin(),e.getLineEnd())}};ar=s([M.RegisterAction],ar);let cr=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Visual,w.Mode.VisualLine],this.keys=["S"]}doesActionApply(e,t){return!y.configuration.surround&&super.doesActionApply(e,t)}async exec(e,t){return(new ur).exec(e,t)}};cr=s([M.RegisterAction],cr);let ur=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Visual,w.Mode.VisualLine],this.keys=[["C"],["R"]]}async exec(e,t){const[r,n]=g.sorted(t.cursorStartPosition,t.cursorStopPosition);return await new k.ChangeOperator(this.multicursorIndex).run(t,r.getLineBegin(),n.getLineEndIncludingEOL()),t}};ur=s([M.RegisterAction],ur);let lr=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.VisualBlock],this.keys=[["R"],["S"]]}async exec(e,t){return(new ur).exec(e,t)}};lr=s([M.RegisterAction],lr);let dr=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["s"],this.runsOnceForEachCountPrefix=!0}async exec(e,t){const r=await(new k.ChangeOperator).run(t,e,e);return await r.setCurrentMode(w.Mode.Insert),r}doesActionApply(e,t){return super.doesActionApply(e,t)&&!y.configuration.sneak&&!e.recordedState.operator}couldActionApply(e,t){return super.couldActionApply(e,t)&&!y.configuration.sneak&&!e.recordedState.operator}};dr=s([M.RegisterAction],dr);let hr=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["~"],this.mustBeFirstKey=!0,this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!0}async exec(e,t){return await(new k.ToggleCaseOperator).run(t,t.cursorStopPosition,t.cursorStopPosition),t.cursorStopPosition=t.cursorStopPosition.getRight(),t}};hr=s([M.RegisterAction],hr);class fr extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual,w.Mode.VisualLine,w.Mode.VisualBlock],this.canBeRepeatedWithDot=!0}async exec(e,t){const r=this.getSearchRanges(t);let n=1;for(const[i,s]of r.entries()){e=s.start;const r=C.TextEditor.getLineAt(e).text;if(r.length<=e.character)continue;const i=r[e.character].match(/\s/)?e:e.getWordLeft(!0);e:for(let{start:o,end:a,word:c}of C.TextEditor.iterateWords(i)){if(o.isAfter(s.stop))break;for("-"===r[o.character-1]&&/\d/.test(r[o.character])&&(o=o.getLeft(),c=r[o.character]+c);;){const r=v.NumericString.parse(c);if(void 0===r)break;const{num:i,suffixOffset:s}=r;if(e.character<o.character+s){const e=await this.replaceNum(i,this.offset*n*(t.recordedState.count||1),o,a);this.staircase&&n++,t.currentMode===w.Mode.Normal&&(t.cursorStartPosition=t.cursorStopPosition=e.getLeft(i.suffix.length));break e}c=c.slice(s),o=new g.Position(o.line,o.character+s)}}}return w.isVisualMode(t.currentMode)&&(t.cursorStopPosition=r[0].start),t.setCurrentMode(w.Mode.Normal),t}async replaceNum(e,t,r,n){const i=n.character+1-r.character;e.value+=t;const s=e.toString(),a=new o.Range(r,n.getRight());return await C.TextEditor.replace(a,s),i!==s.length&&(n=new g.Position(n.line,r.character+s.length-1)),n}getSearchRanges(e){let t=[];const[r,n]=g.sorted(e.cursorStartPosition,e.cursorStopPosition);switch(e.currentMode){case w.Mode.Normal:t.push(new m.Range(e.cursorStopPosition,e.cursorStopPosition.getLineEnd()));break;case w.Mode.Visual:t.push(new m.Range(r,r.getLineEnd()));for(let e=r.line+1;e<n.line;e++){const r=new g.Position(e,0);t.push(new m.Range(r,r.getLineEnd()))}t.push(new m.Range(n.getLineBegin(),n));break;case w.Mode.VisualLine:for(let e=r.line;e<=n.line;e++){const r=new g.Position(e,0);t.push(new m.Range(r,r.getLineEnd()))}break;case w.Mode.VisualBlock:{const e=w.visualBlockGetTopLeftPosition(r,n),i=w.visualBlockGetBottomRightPosition(r,n);for(let r=e.line;r<=i.line;r++)t.push(new m.Range(new g.Position(r,e.character),new g.Position(r,i.character)));break}default:throw new Error("Unexpected mode in IncrementDecrementNumberAction.getPositions()")}return t}}let pr=class extends fr{constructor(){super(...arguments),this.keys=["<C-a>"],this.offset=1,this.staircase=!1}};pr=s([M.RegisterAction],pr);let gr=class extends fr{constructor(){super(...arguments),this.keys=["<C-x>"],this.offset=-1,this.staircase=!1}};gr=s([M.RegisterAction],gr);let mr=class extends fr{constructor(){super(...arguments),this.keys=["g","<C-a>"],this.offset=1,this.staircase=!0}};mr=s([M.RegisterAction],mr);let vr=class extends fr{constructor(){super(...arguments),this.keys=["g","<C-x>"],this.offset=-1,this.staircase=!0}};vr=s([M.RegisterAction],vr);let yr=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["g","a"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=t.editor.document.getText(new o.Range(e,e.getRight())),n=r.charCodeAt(0);return R.StatusBar.setText(t,`<${r}>  ${n},  Hex ${n.toString(16)},  Octal ${n.toString(8)}`),t}};yr=s([M.RegisterAction],yr);let wr=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=["g","h"]}runsOnceForEveryCursor(){return!1}async exec(e,t){return await o.commands.executeCommand("editor.action.showHover"),t}};wr=s([M.RegisterAction],wr);let br=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual],this.keys=[["<D-d>"],["g","b"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){return await o.commands.executeCommand("editor.action.addSelectionToNextFindMatch"),t.cursors=u.getCursorsAfterSync(),t.cursors=t.cursors.map(e=>e.withNewStop(e.stop.getLeft())),await t.setCurrentMode(w.Mode.Visual),t}};br=s([M.RegisterAction],br),t.ActionOverrideCmdD=br;let xr=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Insert],this.keys=["<D-d>"],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){return o.window.activeTextEditor.selections=o.window.activeTextEditor.selections.map((e,t)=>{const r=g.Position.FromVSCodePosition(e.active);if(0===t)return new o.Selection(r.getWordLeft(!1),r.getLeft().getCurrentWordEnd(!0).getRight());{const e=g.Position.FromVSCodePosition(o.window.activeTextEditor.selections[0].active),t=e.getLeft().getCurrentWordEnd(!0).getRight().character-e.getWordLeft(!1).character,n=r.getLeft(t);return new o.Selection(n,r)}}),await o.commands.executeCommand("editor.action.addSelectionToNextFindMatch"),t.cursors=u.getCursorsAfterSync(),t}};xr=s([M.RegisterAction],xr);let Cr=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual],this.keys=[["<D-alt+down>"],["<C-alt+down>"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){return await o.commands.executeCommand("editor.action.insertCursorBelow"),t.cursors=u.getCursorsAfterSync(),t}};Cr=s([M.RegisterAction],Cr);let Sr=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal,w.Mode.Visual],this.keys=[["<D-alt+up>"],["<C-alt+up>"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){return await o.commands.executeCommand("editor.action.insertCursorAbove"),t.cursors=u.getCursorsAfterSync(),t}};Sr=s([M.RegisterAction],Sr);let Mr=class extends F{constructor(){super(...arguments),this.modes=[w.Mode.Normal],this.keys=[["<C-g>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){return P.reportFileInfo(e,t),t}};Mr=s([M.RegisterAction],Mr)},function(e,t,r){"use strict";const n=t.format=r(13);function i(e,t){t=t||e,Object.defineProperty(n,e,{get:()=>r(224)(`./${t}.js`),configurable:!0})}t.levels=r(76),i("align"),i("errors"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";var n,i,s,o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.CommentBlockOperator=t.ROT13Operator=t.CommentOperator=t.ToggleCaseOperator=t.YankVisualBlockMode=t.ChangeOperator=t.LowerCaseWithMotion=t.LowerCaseOperator=t.UpperCaseWithMotion=t.UpperCaseOperator=t.FormatOperator=t.ChangeOperatorSVisual=t.DeleteOperatorXVisual=t.ShiftYankOperatorVisual=t.FilterOperator=t.YankOperator=t.DeleteOperatorVisual=t.DeleteOperator=t.BaseOperator=void 0;const a=r(0),c=r(3),u=r(18),l=r(2),d=r(6),h=r(15),f=r(4),p=r(10),g=r(19),m=r(63),v=r(38),y=r(37);class w extends p.BaseAction{constructor(e){super(),this.canBeRepeatedWithDot=!0,this.isOperator=!0,this.multicursorIndex=void 0,this.multicursorIndex=e}doesActionApply(e,t){return!!this.doesRepeatedOperatorApply(e,t)||!!this.modes.includes(e.currentMode)&&(!!p.BaseAction.CompareKeypressSequence(this.keys,t)&&(!(this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length-t.length>0)&&!(this instanceof w&&e.recordedState.operator)))}couldActionApply(e,t){return!!this.modes.includes(e.currentMode)&&(!!p.BaseAction.CompareKeypressSequence(this.keys.slice(0,t.length),t)&&(!(this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length-t.length>0)&&!(this instanceof w&&e.recordedState.operator)))}doesRepeatedOperatorApply(e,t){const r=e.recordedState.actionsRun.filter(e=>!(e instanceof g.CommandNumber)),n=r[r.length-1];return this.isOperator&&1===t.length&&n&&this.modes.includes(e.currentMode)&&n.constructor===this.constructor&&p.BaseAction.CompareKeypressSequence(n.keysPressed.slice(-1),t)}run(e,t,r){throw new Error("You need to override this!")}runRepeat(e,t,r){return e.currentRegisterMode=h.RegisterMode.LineWise,this.run(e,t.getLineBegin(),t.getDown(Math.max(0,r-1)).getLineEnd())}highlightYankedRanges(e,t){if(!l.configuration.highlightedyank.enable)return;const r=a.window.createTextEditorDecorationType({backgroundColor:l.configuration.highlightedyank.color,color:l.configuration.highlightedyank.textColor});e.editor.setDecorations(r,t),setTimeout(()=>r.dispose(),l.configuration.highlightedyank.duration)}}t.BaseOperator=w;let b=class extends w{constructor(){super(...arguments),this.keys=["d"],this.modes=[d.Mode.Normal,d.Mode.Visual,d.Mode.VisualLine]}async delete(e,t,r,n,i,s=!0){n===h.RegisterMode.LineWise&&(e=e.getLineBegin(),t=t.getLineEnd());const o=(t=new c.Position(t.line,t.character+1)).line===f.TextEditor.getLineCount()-1;i.currentMode!==d.Mode.VisualBlock&&t.character===f.TextEditor.getLineAt(t).text.length+1&&(t=t.getDownWithDesiredColumn(0));let l=i.editor.document.getText(new a.Range(e,t));o&&0!==e.line&&n===h.RegisterMode.LineWise&&(e=e.getPreviousLineBegin().getLineEnd()),n===h.RegisterMode.LineWise&&(l=l.endsWith("\r\n")?l.slice(0,-2):l.endsWith("\n")?l.slice(0,-1):l),s&&h.Register.put(l,i,this.multicursorIndex);let p,g=new c.PositionDiff;return r===d.Mode.Visual&&(p=c.earlierOf(e,t)),e.character>f.TextEditor.getLineAt(e).text.length?(p=e.getLeft(),g=new c.PositionDiff({character:-1})):p=e,n===h.RegisterMode.LineWise&&(p=p.obeyStartOfLine(),g=new c.PositionDiff({type:c.PositionDiffType.ObeyStartOfLine})),i.recordedState.transformations.push({type:"deleteRange",range:new u.Range(e,t),diff:g}),p}async run(e,t,r,n=!0){let i=await this.delete(t,r,e.currentMode,e.effectiveRegisterMode,e,n);await e.setCurrentMode(d.Mode.Normal),e.currentMode===d.Mode.Visual&&(e.desiredColumn=i.character);const s=Math.abs(t.line-r.line)+1;return v.reportLinesChanged(-s,e),e}};b=o([p.RegisterAction],b),t.DeleteOperator=b;let x=class extends w{constructor(){super(...arguments),this.keys=["D"],this.modes=[d.Mode.Visual,d.Mode.VisualLine]}async run(e,t,r){return e.currentRegisterMode=h.RegisterMode.LineWise,new b(this.multicursorIndex).run(e,t,r)}};x=o([p.RegisterAction],x),t.DeleteOperatorVisual=x;let C=class extends w{constructor(){super(...arguments),this.keys=["y"],this.modes=[d.Mode.Normal,d.Mode.Visual,d.Mode.VisualLine],this.canBeRepeatedWithDot=!1}async run(e,t,r){if(e.surround)return e.surround.range=new u.Range(t,r),await e.setCurrentMode(d.Mode.SurroundInputMode),e.cursorStopPosition=t,e.cursorStartPosition=t,e;const n=e.currentMode;[t,r]=c.sorted(t,r);let i=new c.Position(r.line,r.character+1);e.currentRegisterMode===h.RegisterMode.LineWise&&(t=t.getLineBegin(),i=i.getLineEnd());const s=new a.Range(t,i);let o=f.TextEditor.getText(s);e.currentMode===d.Mode.Visual&&i.character===f.TextEditor.getLineAt(i).text.length+1&&(o+="\n"),this.highlightYankedRanges(e,[s]),h.Register.put(o,e,this.multicursorIndex),e.currentMode!==d.Mode.Visual&&e.currentMode!==d.Mode.VisualLine||(e.historyTracker.addMark(t,"<"),e.historyTracker.addMark(r,">")),await e.setCurrentMode(d.Mode.Normal),e.cursorStartPosition=t;let l=!1;e.recordedState.actionsRun.length>1&&e.recordedState.actionsRun[1]instanceof m.TextObjectMovement&&(l=!0),n!==d.Mode.Normal||l?e.cursorStopPosition=t:e.cursors=e.cursorsInitialState;const p=o.split("\n").length;return v.reportLinesYanked(p,e),e}};C=o([p.RegisterAction],C),t.YankOperator=C;let S=class extends w{constructor(){super(...arguments),this.keys=["!"],this.modes=[d.Mode.Normal,d.Mode.Visual,d.Mode.VisualLine,d.Mode.VisualBlock]}async run(e,t,r){return[t,r]=c.sorted(t,r),e.currentMode===d.Mode.Normal&&t.line===r.line?e.currentCommandlineText=".!":e.currentMode===d.Mode.Normal&&t.line!==r.line?e.currentCommandlineText=`.,.+${r.line-t.line}!`:e.currentCommandlineText="'<,'>!",e.cursorStartPosition=t,e.currentMode===d.Mode.Normal?e.cursorStopPosition=t:e.cursors=e.cursorsInitialState,e.statusBarCursorCharacterPos=e.currentCommandlineText.length,y.commandLine.previousMode=e.currentMode,await e.setCurrentMode(d.Mode.CommandlineInProgress),y.commandLine.commandLineHistoryIndex=y.commandLine.historyEntries.length,e}};S=o([p.RegisterAction],S),t.FilterOperator=S;let M=class extends w{constructor(){super(...arguments),this.keys=["Y"],this.modes=[d.Mode.Visual,d.Mode.VisualLine,d.Mode.VisualBlock]}async run(e,t,r){return e.currentRegisterMode=h.RegisterMode.LineWise,(new C).run(e,t,r)}};M=o([p.RegisterAction],M),t.ShiftYankOperatorVisual=M;let _=class extends w{constructor(){super(...arguments),this.keys=[["x"],["<Del>"]],this.modes=[d.Mode.Visual,d.Mode.VisualLine]}async run(e,t,r){return new b(this.multicursorIndex).run(e,t,r)}};_=o([p.RegisterAction],_),t.DeleteOperatorXVisual=_;let E=class extends w{constructor(){super(...arguments),this.keys=["s"],this.modes=[d.Mode.Visual,d.Mode.VisualLine]}doesActionApply(e,t){return super.doesActionApply(e,t)&&!l.configuration.sneak}async run(e,t,r){return(new N).run(e,t,r)}};E=o([p.RegisterAction],E),t.ChangeOperatorSVisual=E;let k=class extends w{constructor(){super(...arguments),this.keys=["="],this.modes=[d.Mode.Normal,d.Mode.Visual,d.Mode.VisualLine,d.Mode.VisualBlock]}async run(e,t,r){e.editor.selection=new a.Selection(t.getLineBegin(),r.getLineEnd()),await a.commands.executeCommand("editor.action.formatSelection");let n=e.cursorStartPosition.line;e.cursorStartPosition.isAfter(e.cursorStopPosition)&&(n=e.cursorStopPosition.line);let i=f.TextEditor.getFirstNonWhitespaceCharOnLine(n);return e.cursorStopPosition=i,e.cursorStartPosition=i,await e.setCurrentMode(d.Mode.Normal),e}};k=o([p.RegisterAction],k),t.FormatOperator=k;let A=class extends w{constructor(){super(...arguments),this.keys=[["g","U"],["U"]],this.modes=[d.Mode.Visual,d.Mode.VisualLine]}async run(e,t,r){const n=new a.Range(t,new c.Position(r.line,r.character+1));let i=e.editor.document.getText(n);return await f.TextEditor.replace(n,i.toUpperCase()),await e.setCurrentMode(d.Mode.Normal),e.cursorStopPosition=t,e}};A=o([p.RegisterAction],A),t.UpperCaseOperator=A;let R=class extends A{constructor(){super(...arguments),this.keys=[["g","U"]],this.modes=[d.Mode.Normal]}};R=o([p.RegisterAction],R),t.UpperCaseWithMotion=R;let P=class extends w{constructor(){super(...arguments),this.keys=[["g","U"],["U"]],this.modes=[d.Mode.VisualBlock]}async run(e,t,r){for(const{start:t,end:r}of f.TextEditor.iterateLinesInBlock(e)){const n=new a.Range(t,r);let i=e.editor.document.getText(n);await f.TextEditor.replace(n,i.toUpperCase())}const n=c.earlierOf(t,r);return e.cursorStopPosition=n,e.cursorStartPosition=n,await e.setCurrentMode(d.Mode.Normal),e}};P=o([p.RegisterAction],P);let T=class extends w{constructor(){super(...arguments),this.keys=[["g","u"],["u"]],this.modes=[d.Mode.Visual,d.Mode.VisualLine]}async run(e,t,r){const n=new a.Range(t,new c.Position(r.line,r.character+1));let i=e.editor.document.getText(n);return await f.TextEditor.replace(n,i.toLowerCase()),await e.setCurrentMode(d.Mode.Normal),e.cursorStopPosition=t,e}};T=o([p.RegisterAction],T),t.LowerCaseOperator=T;let L=class extends T{constructor(){super(...arguments),this.keys=[["g","u"]],this.modes=[d.Mode.Normal]}};L=o([p.RegisterAction],L),t.LowerCaseWithMotion=L;let B=class extends w{constructor(){super(...arguments),this.keys=[["g","u"],["u"]],this.modes=[d.Mode.VisualBlock]}async run(e,t,r){for(const{start:t,end:r}of f.TextEditor.iterateLinesInBlock(e)){const n=new a.Range(t,r);let i=e.editor.document.getText(n);await f.TextEditor.replace(n,i.toLowerCase())}const n=c.earlierOf(t,r);return e.cursorStopPosition=n,e.cursorStartPosition=n,await e.setCurrentMode(d.Mode.Normal),e}};B=o([p.RegisterAction],B);let O=class extends w{constructor(){super(...arguments),this.modes=[d.Mode.Normal],this.keys=[">"]}async run(e,t,r){return e.editor.selection=new a.Selection(t.getLineBegin(),r.getLineEnd()),await a.commands.executeCommand("editor.action.indentLines"),await e.setCurrentMode(d.Mode.Normal),e.cursorStopPosition=t.obeyStartOfLine(),e}};O=o([p.RegisterAction],O);let F=class extends w{constructor(){super(...arguments),this.modes=[d.Mode.Visual,d.Mode.VisualLine],this.keys=[">"]}async run(e,t,r){if(e.isRunningDotCommand&&e.dotCommandPreviousVisualSelection&&e.cursorStartPosition.isAfter(e.cursorStopPosition)){const r=e.dotCommandPreviousVisualSelection.end.line-e.dotCommandPreviousVisualSelection.start.line;t=e.cursorStartPosition;const n=e.cursorStartPosition.getDown(r);e.editor.selection=new a.Selection(t,n)}for(let t=0;t<(e.recordedState.count||1);t++)await a.commands.executeCommand("editor.action.indentLines");return await e.setCurrentMode(d.Mode.Normal),e.cursorStopPosition=t.obeyStartOfLine(),e}};F=o([p.RegisterAction],F);let D=class extends w{constructor(){super(...arguments),this.modes=[d.Mode.Normal],this.keys=["<"]}async run(e,t,r){return e.editor.selection=new a.Selection(t,r.getLineEnd()),await a.commands.executeCommand("editor.action.outdentLines"),await e.setCurrentMode(d.Mode.Normal),e.cursorStopPosition=f.TextEditor.getFirstNonWhitespaceCharOnLine(t.line),e}};D=o([p.RegisterAction],D);let I=class extends w{constructor(){super(...arguments),this.modes=[d.Mode.Visual,d.Mode.VisualLine],this.keys=["<"]}async run(e,t,r){if(e.isRunningDotCommand&&e.dotCommandPreviousVisualSelection&&e.cursorStartPosition.isAfter(e.cursorStopPosition)){const r=e.dotCommandPreviousVisualSelection.end.line-e.dotCommandPreviousVisualSelection.start.line;t=e.cursorStartPosition;const n=e.cursorStartPosition.getDown(r);e.editor.selection=new a.Selection(t,n)}for(let t=0;t<(e.recordedState.count||1);t++)await a.commands.executeCommand("editor.action.outdentLines");return await e.setCurrentMode(d.Mode.Normal),e.cursorStopPosition=f.TextEditor.getFirstNonWhitespaceCharOnLine(t.line),e}};I=o([p.RegisterAction],I);let N=class extends w{constructor(){super(...arguments),this.keys=["c"],this.modes=[d.Mode.Normal,d.Mode.Visual,d.Mode.VisualLine]}async run(e,t,r){const n=r.character===r.getLineEnd().character,i=e.currentRegisterMode===h.RegisterMode.LineWise;return(e=await new C(this.multicursorIndex).run(e,t,r)).currentRegisterMode=h.RegisterMode.CharacterWise,0===f.TextEditor.getLineLength(f.TextEditor.getLineAt(t).lineNumber)&&r.line===t.line||(e=i?await new b(this.multicursorIndex).run(e,t.getLineBegin(),r.getLineEnd().getLeftThroughLineBreaks(),!1):n?await new b(this.multicursorIndex).run(e,t,r.getLeftThroughLineBreaks(),!1):await new b(this.multicursorIndex).run(e,t,r,!1)),e.currentRegisterMode=h.RegisterMode.AscertainFromCurrentMode,await e.setCurrentMode(d.Mode.Insert),n&&(e.cursorStopPosition=r.getRight()),e}async runRepeat(e,t,r){const n=e.editor.document.getText(new a.Range(t.getLineBegin(),t.getLineBeginRespectingIndent()));return e.currentRegisterMode=h.RegisterMode.LineWise,e=await this.run(e,t.getLineBegin(),t.getDown(Math.max(0,r-1)).getLineEnd()),l.configuration.autoindent&&("plaintext"===e.editor.document.languageId?e.recordedState.transformations.push({type:"insertText",text:n,position:t.getLineBegin(),cursorIndex:this.multicursorIndex}):e.recordedState.transformations.push({type:"reindent",cursorIndex:this.multicursorIndex,diff:new c.PositionDiff({character:1})})),e}};N=o([p.RegisterAction],N),t.ChangeOperator=N;let $=class extends w{constructor(){super(...arguments),this.keys=["y"],this.modes=[d.Mode.VisualBlock],this.canBeRepeatedWithDot=!1}runsOnceForEveryCursor(){return!1}async run(e,t,r){let n="";const i=[],s=t.line!==r.line;for(const{line:t,start:r,end:o}of f.TextEditor.iterateLinesInBlock(e))i.push(new a.Range(r,o)),s?n+=t+"\n":n=t;e.currentRegisterMode=h.RegisterMode.BlockWise,this.highlightYankedRanges(e,i),h.Register.put(n,e,this.multicursorIndex),e.historyTracker.addMark(t,"<"),e.historyTracker.addMark(r,">");const o=n.split("\n").length;return v.reportLinesYanked(o,e),await e.setCurrentMode(d.Mode.Normal),e.cursorStopPosition=t,e}};$=o([p.RegisterAction],$),t.YankVisualBlockMode=$;let j=n=class extends w{constructor(){super(...arguments),this.keys=[["g","~"],["~"]],this.modes=[d.Mode.Visual,d.Mode.VisualLine]}async run(e,t,r){const i=new a.Range(t,r.getRight());await n.toggleCase(i);const s=c.earlierOf(t,r);return e.cursorStopPosition=s,e.cursorStartPosition=s,await e.setCurrentMode(d.Mode.Normal),e}static async toggleCase(e){const t=f.TextEditor.getText(e);let r="";for(const e of t){let t=e.toLocaleLowerCase();t===e&&(t=e.toLocaleUpperCase()),r+=t}await f.TextEditor.replace(e,r)}};j=n=o([p.RegisterAction],j),t.ToggleCaseOperator=j;let V=class extends w{constructor(){super(...arguments),this.keys=[["g","~"],["~"]],this.modes=[d.Mode.VisualBlock]}async run(e,t,r){for(const{start:t,end:r}of f.TextEditor.iterateLinesInBlock(e)){const e=new a.Range(t,r);await j.toggleCase(e)}const n=c.earlierOf(t,r);return e.cursorStopPosition=n,e.cursorStartPosition=n,await e.setCurrentMode(d.Mode.Normal),e}};V=o([p.RegisterAction],V);let W=class extends j{constructor(){super(...arguments),this.keys=[["g","~"]],this.modes=[d.Mode.Normal]}};W=o([p.RegisterAction],W);let U=class extends w{constructor(){super(...arguments),this.keys=["g","c"],this.modes=[d.Mode.Normal,d.Mode.Visual,d.Mode.VisualLine,d.Mode.VisualBlock]}async run(e,t,r){return e.editor.selection=new a.Selection(t.getLineBegin(),r.getLineEnd()),await a.commands.executeCommand("editor.action.commentLine"),e.cursorStopPosition=new c.Position(t.line,0),await e.setCurrentMode(d.Mode.Normal),e}};U=o([p.RegisterAction],U),t.CommentOperator=U;let H=i=class extends w{constructor(){super(...arguments),this.keys=["g","?"],this.modes=[d.Mode.Normal,d.Mode.Visual,d.Mode.VisualLine,d.Mode.VisualBlock]}async run(e,t,r){let n;n=d.isVisualMode(e.currentMode)?e.editor.selections:e.currentRegisterMode===h.RegisterMode.LineWise?[new a.Selection(t.getLineBegin(),r.getLineEnd())]:[new a.Selection(t,r.getRight())];for(const t of n){const r=f.TextEditor.getText(t);e.recordedState.transformations.push({type:"replaceText",text:i.rot13(r),start:c.Position.FromVSCodePosition(t.start),end:c.Position.FromVSCodePosition(t.end)})}return e}static rot13(e){return e.split("").map(e=>{let t=e.charCodeAt(0);if(e>="a"&&e<="z"){const e="a".charCodeAt(0);t=(t-e+13)%26+e}if(e>="A"&&e<="Z"){const e="A".charCodeAt(0);t=(t-e+13)%26+e}return String.fromCharCode(t)}).join("")}};H=i=o([p.RegisterAction],H),t.ROT13Operator=H;let q=class extends w{constructor(){super(...arguments),this.keys=["g","C"],this.modes=[d.Mode.Normal,d.Mode.Visual,d.Mode.VisualLine]}async run(e,t,r){if(e.currentMode===d.Mode.Normal){const n=r.getRight();e.editor.selection=new a.Selection(t,n)}return await a.commands.executeCommand("editor.action.blockComment"),e.cursorStopPosition=t,await e.setCurrentMode(d.Mode.Normal),e}};q=o([p.RegisterAction],q),t.CommentBlockOperator=q;let z=s=class extends w{constructor(){super(...arguments),this.modes=[d.Mode.Normal,d.Mode.Visual,d.Mode.VisualLine],this.keys=["g","q"]}getIndentation(e){for(const t of e.split("\n")){const e=t.match(/^\s+/g),r=e?e[0]:"";if(r!==t)return r}return""}reflowParagraph(e){const t=this.getIndentation(e);let r=0;for(const e of t)r+="\t"===e?l.configuration.tabstop:1;const n=l.configuration.textwidth-r-2;let i=[];for(const t of e.split("\n")){let e=i[i.length-1];const r=t.trim();let n;for(const r of s.CommentTypes){if(t.trim().startsWith(r.start)){n=r;break}if(e&&r.start===e.commentType.start&&!r.singleLine){if(t.trim().startsWith(r.inner)){n=r;break}if(t.trim().endsWith(r.final)){n=r;break}}}if(!n)break;if(e&&n.start===e.commentType.start)e=i[i.length-1],e.commentType.singleLine?e.content+="\n"+r.substr(e.commentType.start.length).trim():r.endsWith(e.commentType.final)?r.length>e.commentType.final.length&&(e.content+="\n"+r.substr(e.commentType.inner.length,r.length-e.commentType.final.length).trim()):r.startsWith(e.commentType.inner)?e.content+="\n"+r.substr(e.commentType.inner.length).trim():r.startsWith(e.commentType.start)&&(e.content+="\n"+r.substr(e.commentType.start.length).trim());else{let e={commentType:n,content:""+r.substr(n.start.length).trim(),indentLevelAfterComment:0};n.singleLine&&(e.indentLevelAfterComment=r.substr(n.start.length).length-e.content.length),i.push(e)}}let o=[];for(const{commentType:e,content:r,indentLevelAfterComment:s}of i){let i;const a=Array(s+1).join(" ");i=e.singleLine?[""]:["",""];let c=0;for(const e of r.trim().split("\n")){if(""===e.trim()){for(let e=0;e<2;e++)i.push("");c=0;continue}const t=e.split(/\s+/);for(let e=0;e<t.length;e++){const r=t[e];""!==r&&(i[i.length-1].length+r.length+1<n?i[i.length-1]+=0===c&&0===e?""+r:" "+r:i.push(""+r))}c++}e.singleLine||i.push(""),e.singleLine&&(i.length>1&&""===i[0].trim()&&(i=i.slice(1)),i.length>1&&""===i[i.length-1].trim()&&(i=i.slice(0,-1)));for(let r=0;r<i.length;r++)e.singleLine?i[r]=`${t}${e.start}${a}${i[r]}`:0===r?i[r]=`${t}${e.start} ${i[r]}`:r===i.length-1?i[r]=`${t} ${e.final}`:i[r]=`${t} ${e.inner} ${i[r]}`;o=o.concat(i)}return o.join("\n")}async run(e,t,r){[t,r]=c.sorted(t,r),t=t.getLineBegin(),r=r.getLineEnd();let n=f.TextEditor.getText(new a.Range(t,r));return n=this.reflowParagraph(n),e.recordedState.transformations.push({type:"replaceText",text:n,start:t,end:r,diff:c.PositionDiff.newBOLDiff()}),await e.setCurrentMode(d.Mode.Normal),e}};z.CommentTypes=[{singleLine:!1,start:"/**",inner:"*",final:"*/"},{singleLine:!1,start:"/*",inner:"*",final:"*/"},{singleLine:!1,start:"{-",inner:"-",final:"-}"},{singleLine:!0,start:"///"},{singleLine:!0,start:"//"},{singleLine:!0,start:"--"},{singleLine:!0,start:"#"},{singleLine:!0,start:";"},{singleLine:!0,start:"*"},{singleLine:!0,start:""}],z=s=o([p.RegisterAction],z)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalState=void 0;const n=r(0),i=r(203),s=r(6),o=r(3),a=r(158),c=r(31),u=r(2);t.globalState=new class{constructor(){this._searchStatePrevious=[],this.jumpTracker=new i.JumpTracker,this.previousFullAction=void 0,this.substituteState=void 0,this.searchState=void 0,this.searchStateIndex=0,this.hl=!0}async load(){this._searchHistory=new a.SearchHistory,this._searchHistory.get().forEach(e=>this.searchStatePrevious.push(new c.SearchState(c.SearchDirection.Forward,new o.Position(0,0),e,void 0,s.Mode.Normal)))}get searchStatePrevious(){return this._searchStatePrevious}set searchStatePrevious(e){this._searchStatePrevious=this._searchStatePrevious.concat(e)}async addSearchStateToHistory(e){const t=0===this.searchStatePrevious.length?void 0:this.searchStatePrevious[this.searchStatePrevious.length-1].searchString;e.searchString!==t&&(this.searchStatePrevious.push(e),void 0!==this._searchHistory&&await this._searchHistory.add(e.searchString)),this.searchStatePrevious.length>u.configuration.history&&this.searchStatePrevious.splice(0,1),this.searchStateIndex=this.searchStatePrevious.length-1}async showSearchHistory(){if(!n.window.activeTextEditor)return;const e=this._searchStatePrevious.slice().reverse().map(e=>({label:e.searchString,searchState:e})),t=await n.window.showQuickPick(e,{placeHolder:"Vim search history",ignoreFocusOut:!1});return t?t.searchState:void 0}}},function(e,t,r){var n=r(43);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(141)).Stream=n||t,t.Readable=t,t.Writable=r(145),t.Duplex=r(36),t.Transform=r(147),t.PassThrough=r(253),t.finished=r(93),t.pipeline=r(254))},function(e,t){e.exports=require("fs")},function(e,t,r){try{var n=r(7);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(205)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=t.TokenType=void 0,function(e){e[e.Unknown=0]="Unknown",e[e.Eof=1]="Eof",e[e.LineNumber=2]="LineNumber",e[e.Dot=3]="Dot",e[e.Dollar=4]="Dollar",e[e.Percent=5]="Percent",e[e.Comma=6]="Comma",e[e.Plus=7]="Plus",e[e.Minus=8]="Minus",e[e.CommandName=9]="CommandName",e[e.CommandArgs=10]="CommandArgs",e[e.ForwardSearch=11]="ForwardSearch",e[e.ReverseSearch=12]="ReverseSearch",e[e.Offset=13]="Offset",e[e.SelectionFirstLine=14]="SelectionFirstLine",e[e.SelectionLastLine=15]="SelectionLastLine",e[e.Mark=16]="Mark"}(t.TokenType||(t.TokenType={}));t.Token=class{constructor(e,t){this.type=e,this.content=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollView=t.clamp=t.executeShell=t.getCursorsAfterSync=void 0;const n=r(0),i=r(18),s=r(48);t.getCursorsAfterSync=function(){return n.window.activeTextEditor.selections.map(e=>i.Range.FromVSCodeSelection(e))},t.executeShell=function(e){return new Promise((t,r)=>{try{s.exec(e,(e,n,i)=>{e?r(e):t(n)})}catch(e){r(e)}})},t.clamp=function(e,t,r){return Math.min(Math.max(e,t),r)},t.scrollView=function(e,t){0!==t&&e.postponedCodeViewChanges.push({command:"editorScroll",args:{to:t>0?"up":"down",by:"line",value:Math.abs(t),revealCursor:!1,select:!1}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecordedState=void 0;const n=r(2),i=r(6),s=r(19),o=r(22);class a{constructor(){this.commandList=[],this.actionKeys=[],this.actionsRun=[],this.hasRunOperator=!1,this.hasRunSurround=!1,this.surroundKeys=[],this.surroundKeyIndexStart=0,this.isInsertion=!1,this.transformations=[],this.count=0,this.operatorCount=0,this.registerName=n.configuration.useSystemClipboard?"*":'"'}get commandString(){let e="";for(const t of this.commandList)t===n.configuration.leader?e+="<leader>":e+=t;return e}get commandWithoutCountPrefix(){return this.commandList.join("").replace(/^[0-9]+/g,"")}resetCommandList(){this.commandList=[]}getLastActionRun(){if(0!==this.actionsRun.length)return this.actionsRun[this.actionsRun.length-1]}get operator(){const e=this.operators;return e.length>0?e[0]:void 0}get operators(){return this.actionsRun.filter(e=>e instanceof o.BaseOperator).reverse()}get command(){return this.actionsRun.filter(e=>e instanceof s.BaseCommand).reverse()[0]}get hasRunAMovement(){return this.actionsRun.some(e=>e.isMotion)}clone(){const e=new a;return e.actionKeys=this.actionKeys.slice(0),e.actionsRun=this.actionsRun.slice(0),e.hasRunOperator=this.hasRunOperator,e.hasRunSurround=this.hasRunSurround,e.surroundKeys=this.surroundKeys,e}operatorReadyToExecute(e){return void 0!==this.operator&&!this.hasRunOperator&&e!==i.Mode.SearchInProgressMode&&e!==i.Mode.CommandlineInProgress&&(this.hasRunAMovement||e===i.Mode.Visual||e===i.Mode.VisualLine||this.operators.length>1&&this.operators.reverse()[0].constructor===this.operators.reverse()[1].constructor)}}t.RecordedState=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unlinkSync=t.chmodAsync=t.accessAsync=t.writeFileAsync=t.mkdirAsync=t.readFileAsync=t.unlink=t.existsAsync=t.constants=void 0;const n=r(0),i=r(7),s=r(25);t.constants={UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,O_RDONLY:0,O_WRONLY:1,O_RDWR:2,UV_DIRENT_UNKNOWN:0,UV_DIRENT_FILE:1,UV_DIRENT_DIR:2,UV_DIRENT_LINK:3,UV_DIRENT_FIFO:4,UV_DIRENT_SOCKET:5,UV_DIRENT_CHAR:6,UV_DIRENT_BLOCK:7,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,UV_FS_O_FILEMAP:0,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_DSYNC:4194304,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_COPYFILE_EXCL:1,COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_FICLONE_FORCE:4},t.existsAsync=async function(e){try{const t=n.Uri.parse("file:"+e);return await n.workspace.fs.stat(t),!0}catch(e){return!1}},t.unlink=async function(e){const t=n.Uri.parse("file:"+e);await n.workspace.fs.delete(t)},t.readFileAsync=async function(e,t){return i.promisify(s.readFile)(e,t)},t.mkdirAsync=async function(e,t){return i.promisify(s.mkdir)(e,t)},t.writeFileAsync=async function(e,t,r){return i.promisify(s.writeFile)(e,t,r)},t.accessAsync=async function(e,t){return i.promisify(s.access)(e,t)},t.chmodAsync=async function(e,t){return i.promisify(s.chmod)(e,t)},t.unlinkSync=function(e){s.unlinkSync(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchState=t.SearchDirection=void 0;const n=r(0),i=r(2),s=r(3);var o;!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(o=t.SearchDirection||(t.SearchDirection={}));class a{constructor(e,t,r="",{isRegex:n=!1,ignoreSmartcase:i=!1}={},s){this.matchRanges=new Map,this.needle="",this._searchString="",this.searchDirection=e,this.cursorStartPosition=t,this.isRegex=n,this.ignoreSmartcase=i,this.searchString=r,this.previousMode=s}getMatchRanges(e){return e||(e=n.window.activeTextEditor.document),this.recalculateSearchRanges(e)}get searchString(){return this._searchString}set searchString(e){if(this._searchString!==e){this._searchString=e;const t=this.needle;this.needle=e,this.offset=void 0;const r=this.searchDirection===o.Backward?e.split(a.notEscapedQuestionMarkRegex):e.split(a.notEscapedSlashRegex);if(r.length>1){this.needle=r[0];const e=Number(r[1]);isNaN(e)?a.searchOffsetBeginRegex.test(r[1])?this.offset={type:"beginning",num:Number(r[1].slice(1))}:a.searchOffsetEndRegex.test(r[1])&&(this.offset={type:"end",num:Number(r[1].slice(1))}):this.offset={type:"line",num:e}}this.needle!==t&&(this.matchRanges.clear(),this._needleRegex=void 0)}}get needleRegex(){if(this._needleRegex)return this._needleRegex;let e=i.configuration.ignorecase;e&&i.configuration.smartcase&&!this.ignoreSmartcase&&/[A-Z]/.test(this.needle)&&(e=!1);let t=this.needle;const r=this.needle.match(a.caseOverrideRegex);r&&(t=this.needle.replace(a.caseOverrideRegex,""),e="c"===r[0][1]),this.isRegex||(t=this.needle.replace(a.specialCharactersRegex,"\\$&"));const n=e?"gim":"gm";try{this._needleRegex=new RegExp(t,n)}catch(e){t=this.needle.replace(a.specialCharactersRegex,"\\$&"),this._needleRegex=new RegExp(t,n)}return this._needleRegex}recalculateSearchRanges(e){if(""===this.needle)return[];const t=this.matchRanges.get(e.fileName);if((null==t?void 0:t.version)===e.version)return t.ranges;const r=e.getText(),i=n.window.activeTextEditor.selection,s=e.offsetAt(i.active),o=this.needleRegex;let c;o.lastIndex=s;let u=!1,l=[];for(;;)if(c=o.exec(r),c){if(u&&c.index>=s)break;if(l.push(new n.Range(e.positionAt(c.index),e.positionAt(c.index+c[0].length))),l.length>=a.MAX_SEARCH_RANGES)break;c.index===o.lastIndex&&o.lastIndex++}else{if(u)break;o.lastIndex=0,u=!0}return l.sort((e,t)=>e.start.isBefore(t.start)?-1:1),this.matchRanges.set(e.fileName,{version:e.version,ranges:l}),l}getNextSearchMatchPosition(e,t=o.Forward){const r=this.getNextSearchMatchRange(e,t);if(void 0===r)return;const{start:n,end:i,match:a,index:c}=r;let u=n;return this.offset&&("line"===this.offset.type?u=n.add(s.PositionDiff.newBOLDiff(this.offset.num)):"beginning"===this.offset.type?u=n.getOffsetThroughLineBreaks(this.offset.num):"end"===this.offset.type&&(u=i.getOffsetThroughLineBreaks(this.offset.num-1))),{pos:u,match:a,index:c}}getNextSearchMatchRange(e,t=o.Forward){if(!n.window.activeTextEditor)return;const r=this.recalculateSearchRanges(n.window.activeTextEditor.document);if(0===r.length)return{start:e,end:e,match:!1,index:-1};if(t*this.searchDirection!==o.Forward){for(const[t,n]of r.slice(0).reverse().entries())if(n.end.isBeforeOrEqual(e))return{start:s.Position.FromVSCodePosition(n.start),end:s.Position.FromVSCodePosition(n.end),match:!0,index:r.length-t-1};if(i.configuration.wrapscan){const e=r[r.length-1];return{start:s.Position.FromVSCodePosition(e.start),end:s.Position.FromVSCodePosition(e.end),match:!0,index:r.length-1}}}else{for(const[t,n]of r.entries())if(n.start.isAfter(e))return{start:s.Position.FromVSCodePosition(n.start),end:s.Position.FromVSCodePosition(n.end),match:!0,index:t};if(i.configuration.wrapscan){const e=r[0];return{start:s.Position.FromVSCodePosition(e.start),end:s.Position.FromVSCodePosition(e.end),match:!0,index:0}}}}getSearchMatchRangeOf(e){if(!n.window.activeTextEditor)return{start:e,end:e,match:!1,index:-1};const t=this.recalculateSearchRanges(n.window.activeTextEditor.document);if(0===t.length)return{start:e,end:e,match:!1,index:-1};for(let[r,n]of t.entries())if(n.start.isBeforeOrEqual(e)&&n.end.isAfter(e))return{start:s.Position.FromVSCodePosition(n.start),end:s.Position.FromVSCodePosition(n.end),match:!0,index:r};return{start:e,end:e,match:!1,index:-1}}}t.SearchState=a,a.MAX_SEARCH_RANGES=1e3,a.specialCharactersRegex=/[\-\[\]{}()*+?.,\\\^$|#\s]/g,a.caseOverrideRegex=/\\[Cc]/g,a.notEscapedSlashRegex=/(?<=[^\\])\//g,a.notEscapedQuestionMarkRegex=/(?<=[^\\])\?/g,a.searchOffsetBeginRegex=/b(\+-)?[0-9]*/,a.searchOffsetEndRegex=/e(\+-)?[0-9]*/},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Notation=void 0;const n=r(2);class i{static ToControlCharacter(e){return"<tab>"===e?"\t":e}static IsControlKey(e){return e=e.toLocaleUpperCase(),this.isSurroundedByAngleBrackets(e)&&"<BS>"!==e&&"<SHIFT+BS>"!==e&&"<TAB>"!==e}static NormalizeKey(e,t){if("string"!=typeof e)return e;if(1===e.length)return e;if(e=e.toLocaleLowerCase(),this.isSurroundedByAngleBrackets(e)||(e=`<${e}>`),"<leader>"===e)return t;if(["<up>","<down>","<left>","<right>"].includes(e))return e;for(const[t,r]of this._notationMap)e=e.replace(t,r);return e}static printableKey(e){const t=this.NormalizeKey(e,n.configuration.leader);return" "===t?"<space>":"\n"===t?"<enter>":t}static isSurroundedByAngleBrackets(e){return e.startsWith("<")&&e.endsWith(">")}}t.Notation=i,i._notationMap=[[/ctrl\+|c\-/gi,"C-"],[/cmd\+|d\-/gi,"D-"],[/escape|esc/gi,"Esc"],[/backspace|bs/gi,"BS"],[/delete|del/gi,"Del"],[/home/gi,"Home"],[/end/gi,"End"],[/insert/gi,"Insert"],[/<space>/gi," "],[/<cr>|<enter>/gi,"\n"]]},function(e,t){e.exports=i,i.default=i,i.stable=o,i.stableStringify=o;var r=[],n=[];function i(e,t,i){var s;for(!function e(t,i,s,o){var a;if("object"==typeof t&&null!==t){for(a=0;a<s.length;a++)if(s[a]===t){var c=Object.getOwnPropertyDescriptor(o,i);return void(void 0!==c.get?c.configurable?(Object.defineProperty(o,i,{value:"[Circular]"}),r.push([o,i,t,c])):n.push([t,i]):(o[i]="[Circular]",r.push([o,i,t])))}if(s.push(t),Array.isArray(t))for(a=0;a<t.length;a++)e(t[a],a,s,t);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var l=u[a];e(t[l],l,s,t)}}s.pop()}}(e,"",[],void 0),s=0===n.length?JSON.stringify(e,t,i):JSON.stringify(e,a(t),i);0!==r.length;){var o=r.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}return s}function s(e,t){return e<t?-1:e>t?1:0}function o(e,t,i){var o,c=function e(t,i,o,a){var c;if("object"==typeof t&&null!==t){for(c=0;c<o.length;c++)if(o[c]===t){var u=Object.getOwnPropertyDescriptor(a,i);return void(void 0!==u.get?u.configurable?(Object.defineProperty(a,i,{value:"[Circular]"}),r.push([a,i,t,u])):n.push([t,i]):(a[i]="[Circular]",r.push([a,i,t])))}if("function"==typeof t.toJSON)return;if(o.push(t),Array.isArray(t))for(c=0;c<t.length;c++)e(t[c],c,o,t);else{var l={},d=Object.keys(t).sort(s);for(c=0;c<d.length;c++){var h=d[c];e(t[h],h,o,t),l[h]=t[h]}if(void 0===a)return l;r.push([a,i,t]),a[i]=l}o.pop()}}(e,"",[],void 0)||e;for(o=0===n.length?JSON.stringify(c,t,i):JSON.stringify(c,a(t),i);0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}return o}function a(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(n.length>0)for(var i=0;i<n.length;i++){var s=n[i];if(s[1]===t&&s[0]===r){r="[Circular]",n.splice(i,1);break}}return e.call(this,t,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=t.isAsyncGenerator=t.isAsync=void 0;var n,i=r(241),s=(n=i)&&n.__esModule?n:{default:n};function o(e){return"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){if("function"!=typeof e)throw new Error("expected a function");return o(e)?(0,s.default)(e):e},t.isAsync=o,t.isAsyncGenerator=function(e){return"AsyncGenerator"===e[Symbol.toStringTag]},t.isAsyncIterable=function(e){return"function"==typeof e[Symbol.asyncIterator]}},function(e,t,r){"use strict";const n={};function i(e,t,r){r||(r=Error);class i extends r{constructor(e,r,n){super(function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(e,r,n))}}i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function s(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;var i,o;let a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a=`The ${e} ${n} ${s(t,"type")}`;else{a=`The "${e}" ${function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument"} ${n} ${s(t,"type")}`}return a+=". Received type "+typeof r,a}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(141),s=r(145);r(26)(u,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var c=o[a];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commandLine=void 0;const n=r(269),i=r(0),s=r(158),o=r(6),a=r(12),c=r(16),u=r(8),l=r(2),d=r(15),h=r(29);t.commandLine=new class{constructor(){this._logger=a.Logger.get("CommandLine"),this.commandLineHistoryIndex=0,this.lastKeyPressed="",this.autoCompleteIndex=0,this.autoCompleteItems=[],this.preCompleteCharacterPos=0,this.preCompleteCommand="",this.previousMode=o.Mode.Normal,this._history=new s.CommandLineHistory}get historyEntries(){return this._history.get()}async load(){return this._history.load()}async Run(e,t){if(e&&0!==e.length){if(e.startsWith(":")&&(e=e.slice(1)),this._history.add(e),this.commandLineHistoryIndex=this._history.get().length,!e.startsWith("reg")){let t=new h.RecordedState;t.registerName=":",t.commandList=e.split(""),d.Register.putByKey(t,":",void 0,!0)}try{const r=n.parse(e);if(l.configuration.enableNeovim&&r.command&&r.command.neovimCapable()){const{statusBarText:r,error:n}=await t.nvim.run(t,e);c.StatusBar.setText(t,r,n)}else await r.execute(t.editor,t)}catch(r){if(r instanceof u.VimError)if(r.code===u.ErrorCode.NotAnEditorCommand&&l.configuration.enableNeovim){const{statusBarText:r}=await t.nvim.run(t,e);c.StatusBar.setText(t,r,!0)}else c.StatusBar.setText(t,r.toString(),!0);else this._logger.error(`Error executing cmd=${e}. err=${r}.`)}}}async PromptAndRun(e,t){if(!i.window.activeTextEditor)return void this._logger.debug("No active document");let r=await i.window.showInputBox(this.getInputBoxOptions(e));await this.Run(r,t)}getInputBoxOptions(e){return{prompt:"Vim command line",value:e,ignoreFocusOut:!1,valueSelection:[e.length,e.length]}}async showHistory(e){if(!i.window.activeTextEditor)return this._logger.debug("No active document."),"";return this._history.add(e),await i.window.showQuickPick(this._history.get().slice().reverse(),{placeHolder:"Vim command history",ignoreFocusOut:!1})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportSearch=t.reportFileInfo=t.reportLinesYanked=t.reportLinesChanged=void 0;const n=r(6),i=r(16),s=r(2);t.reportLinesChanged=function(e,t){e>s.configuration.report?i.StatusBar.setText(t,e+" more lines"):-e>s.configuration.report?i.StatusBar.setText(t,Math.abs(e)+" fewer lines"):i.StatusBar.clear(t)},t.reportLinesYanked=function(e,t){e>s.configuration.report?t.currentMode===n.Mode.VisualBlock?i.StatusBar.setText(t,`block of ${e} lines yanked`):i.StatusBar.setText(t,e+" lines yanked"):i.StatusBar.clear(t)},t.reportFileInfo=function(e,t){const r=t.editor.document,n=Math.floor((e.line+1)/r.lineCount*100);i.StatusBar.setText(t,`"${r.fileName}" ${r.lineCount} lines --${n}%--`)},t.reportSearch=function(e,t,r){i.StatusBar.setText(r,`match ${e+1} of ${t}`)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMovement=t.SelectionType=t.isIMovement=void 0;const n=r(3),i=r(10),s=r(6),o=r(28);function a(e){return void 0!==e.start&&void 0!==e.stop}var c;t.isIMovement=a,function(e){e[e.Concatenating=0]="Concatenating",e[e.Expanding=1]="Expanding"}(c=t.SelectionType||(t.SelectionType={}));class u extends i.BaseAction{constructor(e,t){super(),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine,s.Mode.VisualBlock],this.isMotion=!0,this.isJump=!1,this.isRepeat=!1,this.setsDesiredColumnToEOL=!1,this.minCount=1,this.maxCount=99999,this.selectionType=c.Concatenating,e&&(this.keysPressed=e),t&&(this.isRepeat=t)}async execAction(e,t){throw new Error("Not implemented!")}async execActionForOperator(e,t){return this.execAction(e,t)}async execActionWithCount(e,t,r){let i=t.recordedState,s=new n.Position(0,0),u={start:e,stop:e,failed:!0},l=new n.Position(e.line,e.character);r=o.clamp(r,this.minCount,this.maxCount);for(let o=0;o<r;o++){const a=0===o,c=o===r-1;if(s=await this.createMovementResult(e,t,i,c),s instanceof n.Position)e=s;else{if(s.failed)return u;a&&(l=new n.Position(s.start.line,s.start.character)),e=this.adjustPosition(e,s,c),u=s}}return this.selectionType===c.Concatenating&&a(s)&&(s.start=l),s}async createMovementResult(e,t,r,n){return r.operator&&n?await this.execActionForOperator(e,t):await this.execAction(e,t)}adjustPosition(e,t,r){return r||(e=t.stop.getRightThroughLineBreaks()),e}}t.BaseMovement=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Globals=void 0;class n{}t.Globals=n,n.isTesting=!1},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configurationValidator=void 0;const n=r(42);t.configurationValidator=new class{constructor(){this._validators=[]}registerValidator(e){this._validators.push(e)}async validate(e){const t=new n.ValidatorResults;for(const r of this._validators){let n=await r.validate(e);n.hasError&&r.disable(e),t.concat(n)}return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidatorResults=void 0;t.ValidatorResults=class{constructor(){this.errors=new Array}append(e){this.errors.push(e)}concat(e){this.errors=this.errors.concat(e.get())}get(){return this.errors}get numErrors(){return this.errors.filter(e=>"error"===e.level).length}get hasError(){return this.numErrors>0}get numWarnings(){return this.errors.filter(e=>"warning"===e.level).length}get hasWarning(){return this.numWarnings>0}}},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("buffer")},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(55),o=r(1),a=o.LEVEL,c=o.MESSAGE;s.enabled=!0;var u=/\s+/,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),t.colors&&this.addColors(t.colors),this.options=t}var t,r,o;return t=e,o=[{key:"addColors",value:function(t){var r=Object.keys(t).reduce((function(e,r){return e[r]=u.test(t[r])?t[r].split(u):t[r],e}),{});return e.allColors=Object.assign({},e.allColors||{},r),e.allColors}}],(r=[{key:"addColors",value:function(t){return e.addColors(t)}},{key:"colorize",value:function(t,r,n){if(void 0===n&&(n=r),!Array.isArray(e.allColors[t]))return s[e.allColors[t]](n);for(var i=0,o=e.allColors[t].length;i<o;i++)n=s[e.allColors[t][i]](n);return n}},{key:"transform",value:function(e,t){return t.all&&"string"==typeof e[c]&&(e[c]=this.colorize(e[a],e.level,e[c])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[a],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[a],e.level,e.message)),e}}])&&i(t.prototype,r),o&&i(t,o),e}();e.exports=function(e){return new l(e)},e.exports.Colorizer=e.exports.Format=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=e.length){if(!t)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[t-1]?e.apply(this,r):new Promise((n,i)=>{r[t-1]=(e,...t)=>{if(e)return i(e);n(t.length>1?t:t[0])},e.apply(this,r)})}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jump=void 0;class n{constructor({editor:e,fileName:t,position:r}){this.editor=e,this.fileName=t,this.position=r}static fromStateNow(e){return new n({editor:e.editor,fileName:e.editor.document.fileName,position:e.cursorStopPosition})}static fromStateBefore(e){return new n({editor:e.editor,fileName:e.editor.document.fileName,position:e.cursorsInitialState[0].stop})}isSamePosition(e){return!e||this.fileName===e.fileName&&this.position.line===e.position.line&&this.position.character===e.position.character}}t.Jump=n},function(e,t){e.exports=require("child_process")},function(e,t,r){"use strict";var n,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(53),o=Symbol("DO_REQUEST");class a extends s.EventEmitter{constructor({transport:e,data:t,logger:i,metadata:s,client:o}){super(),this[n]=(e,t=[])=>new Promise((r,n)=>{this.transport.request(e,t,(t,i)=>{this.logger.debug(`response -> neovim.api.${e}: ${i}`),t?n(new Error(`${e}: ${t[1]}`)):r(i)})}),this.setTransport(e),this.data=t,this.logger=i||r(178).logger,this.client=o,s&&Object.defineProperty(this,"metadata",{value:s})}setTransport(e){this.transport=e}equals(e){try{return String(this.data)===String(e.data)}catch(e){return!1}}asyncRequest(e,t=[],r){return i(this,void 0,void 0,(function*(){return yield this._isReady,this.logger.debug("request -> neovim.api."+e),this[o](e,t).catch(t=>{const n=new Error(t.message);throw n.stack=r,this.logger.error("Error making request to "+e,n),n})}))}request(e,t=[]){const r=new Error("Error making request to "+e);return this.asyncRequest(e,t,r.stack)}_getArgsByPrefix(...e){const t=[];return"nvim_"!==this.prefix&&t.push(this),t.concat(e)}getVar(e){return i(this,void 0,void 0,(function*(){const t=this._getArgsByPrefix(e);return this.request(this.prefix+"get_var",t).then(e=>e,e=>{if(e&&e.message&&e.message.includes("not found"))return null;throw e})}))}setVar(e,t){const r=this._getArgsByPrefix(e,t);return this.request(this.prefix+"set_var",r)}deleteVar(e){const t=this._getArgsByPrefix(e);return this.request(this.prefix+"del_var",t)}getOption(e){const t=this._getArgsByPrefix(e);return this.request(this.prefix+"get_option",t)}setOption(e,t){const r=this._getArgsByPrefix(e,t);return this.request(this.prefix+"set_option",r)}notify(e,t){this.logger.debug("notify -> neovim.api."+e),this.transport.notify(e,t)}}t.BaseApi=a,n=o},function(e,t,r){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,s,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,r)}));case 4:return process.nextTick((function(){e.call(null,t,r,n)}));default:for(i=new Array(o-1),s=0;s<i.length;)i[s++]=arguments[s];return process.nextTick((function(){e.apply(null,i)}))}}}:e.exports=process},function(e,t,r){var n=r(44),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";var n=r(50),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var s=Object.create(r(74));s.inherits=r(26);var o=r(206),a=r(113);s.inherits(d,o);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];d.prototype[l]||(d.prototype[l]=a.prototype[l])}function d(e){if(!(this instanceof d))return new d(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";const n=r(55),{LEVEL:i,MESSAGE:s}=r(1);n.enabled=!0;const o=/\s+/;class a{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){const t=Object.keys(e).reduce((t,r)=>(t[r]=o.test(e[r])?e[r].split(o):e[r],t),{});return a.allColors=Object.assign({},a.allColors||{},t),a.allColors}addColors(e){return a.addColors(e)}colorize(e,t,r){if(void 0===r&&(r=t),!Array.isArray(a.allColors[e]))return n[a.allColors[e]](r);for(let t=0,i=a.allColors[e].length;t<i;t++)r=n[a.allColors[e][t]](r);return r}transform(e,t){return t.all&&"string"==typeof e[s]&&(e[s]=this.colorize(e[i],e.level,e[s])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[i],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[i],e.level,e.message)),e}}e.exports=e=>new a(e),e.exports.Colorizer=e.exports.Format=a},function(e,t,r){var n=r(214);e.exports=n},function(e,t,r){"use strict";const n=r(13),{MESSAGE:i}=r(1),s=r(33);function o(e,t){return t instanceof Buffer?t.toString("base64"):"bigint"==typeof t?t.toString():t}e.exports=n((e,t={})=>(e[i]=(t.stable?s.stableStringify:s)(e,t.replacer||o,t.space),e))},function(e,t,r){"use strict";var n=r(45).Colorizer;e.exports=function(e){return n.addColors(e.colors||e),e}},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(1),c=a.configs,u=a.LEVEL,l=a.MESSAGE,d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{levels:c.npm.levels};s(this,e),this.paddings=e.paddingForLevels(t.levels,t.filler),this.options=t}var t,r,i;return t=e,i=[{key:"getLongestLevel",value:function(e){var t=Object.keys(e).map((function(e){return e.length}));return Math.max.apply(Math,n(t))}},{key:"paddingForLevel",value:function(e,t,r){var n=r+1-e.length,i=Math.floor(n/t.length);return"".concat(t).concat(t.repeat(i)).slice(0,n)}},{key:"paddingForLevels",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=e.getLongestLevel(t);return Object.keys(t).reduce((function(t,i){return t[i]=e.paddingForLevel(i,r,n),t}),{})}}],(r=[{key:"transform",value:function(e,t){return e.message="".concat(this.paddings[e[u]]).concat(e.message),e[l]&&(e[l]="".concat(this.paddings[e[u]]).concat(e[l])),e}}])&&o(t.prototype,r),i&&o(t,i),e}();e.exports=function(e){return new d(e)},e.exports.Padder=e.exports.Format=d},function(e,t,r){e.exports=r(255)},function(e,t){function r(e){for(var t in e)this[t]=e[t]}t.get=function(e){var r=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var n={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(n,e||t.get);var s=n.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=r,s},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map((function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var r=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(r){var n=null,i=null,s=null,o=null,a=null,c="native"===r[5];if(r[1]){var u=(s=r[1]).lastIndexOf(".");if("."==s[u-1]&&u--,u>0){n=s.substr(0,u),i=s.substr(u+1);var l=n.indexOf(".Module");l>0&&(s=s.substr(l+1),n=n.substr(0,l))}o=null}i&&(o=n,a=i),"<anonymous>"===i&&(a=null,s=null);var d={fileName:r[2]||null,lineNumber:parseInt(r[3],10)||null,functionName:s,typeName:o,methodName:a,columnNumber:parseInt(r[4],10)||null,native:c};return t._createParsedCallSite(d)}})).filter((function(e){return!!e}))};["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach((function(e){r.prototype[e]=null,r.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),["topLevel","eval","native","constructor"].forEach((function(e){r.prototype[e]=!1,r.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),t._createParsedCallSite=function(e){return new r(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Clipboard=void 0;const n=r(0),i=r(12);class s{static async Copy(e){try{await n.env.clipboard.writeText(e)}catch(e){this.logger.error(e,"Error copying to clipboard. err="+e)}}static async Paste(){return n.env.clipboard.readText()}}t.Clipboard=s,s.logger=i.Logger.get("Clipboard")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuitCommand=void 0;const n=r(0),i=r(8),s=r(5);class o extends s.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}async execute(){const e=n.window.visibleTextEditors.filter(e=>e.document===this.activeTextEditor.document).length>1;if(this.activeTextEditor.document.isDirty&&!this.arguments.bang&&(!e||this._arguments.quitAll))throw i.VimError.fromCode(i.ErrorCode.NoWriteSinceLastChange);this._arguments.quitAll?await n.commands.executeCommand("workbench.action.closeAllEditors"):this.arguments.bang?await n.commands.executeCommand("workbench.action.revertAndCloseActiveEditor"):await n.commands.executeCommand("workbench.action.closeActiveEditor")}}t.QuitCommand=o},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectAroundArgument=t.SelectInnerArgument=t.SelectEntireIgnoringLeadingTrailing=t.SelectEntire=t.SelectInnerParagraph=t.SelectParagraph=t.SelectInnerSentence=t.SelectSentence=t.SelectInnerBigWord=t.SelectInnerWord=t.SelectAnExpandingBlock=t.SelectABigWord=t.SelectWord=t.TextObjectMovement=void 0;const i=r(3),s=r(18),o=r(6),a=r(15),c=r(4),u=r(10),l=r(39),d=r(64),h=r(22),f=r(2);class p extends l.BaseMovement{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualBlock]}async execActionForOperator(e,t){const r=await this.execAction(e,t);return r.stop=new i.Position(r.stop.line,r.stop.character+1),r}}t.TextObjectMovement=p;let g=class extends p{constructor(){super(...arguments),this.keys=["a","w"]}async execAction(e,t){let r,n;const i=c.TextEditor.getCharAt(e);return/\s/.test(i)?(r=e.getLastWordEnd().getRight(),n=e.getCurrentWordEnd()):(n=e.getWordRight(),n.isEqual(c.TextEditor.getFirstNonWhitespaceCharOnLine(n.line))&&(n=n.getLineBegin()),n=n.getLeftThroughLineBreaks().getLeftIfEOL(),r=n.isEqual(e.getCurrentWordEnd(!0))&&!e.getWordLeft(!0).isEqual(c.TextEditor.getFirstNonWhitespaceCharOnLine(n.line))&&0===t.recordedState.count?e.getLastWordEnd().getRight():e.getWordLeft(!0)),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getWordLeft(!0):e.getLastWordEnd().getRight())),{start:r,stop:n}}};g=n([u.RegisterAction],g),t.SelectWord=g;let m=class extends p{constructor(){super(...arguments),this.keys=["a","W"]}async execAction(e,t){let r,n;const i=c.TextEditor.getLineAt(e).text[e.character];if(/\s/.test(i))r=e.getLastBigWordEnd().getRight(),n=e.getCurrentBigWordEnd();else{const i=e.getBigWordRight();(i.line>e.line||i.isAtDocumentEnd())&&0===t.recordedState.count?(r=e.getLastBigWordEnd().isLineBeginning()?e.getLastBigWordEnd():e.getLastBigWordEnd().getRight(),n=e.getLineEnd()):(i.isEqual(c.TextEditor.getFirstNonWhitespaceCharOnLine(i.line))||i.isLineEnd())&&0===t.recordedState.count?(r=e.getLastWordEnd().getRight(),n=e.getLineEnd()):(r=e.getBigWordLeft(!0),n=e.getBigWordRight().getLeft())}return t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getBigWordLeft():e.getLastBigWordEnd().getRight())),{start:r,stop:n}}};m=n([u.RegisterAction],m),t.SelectABigWord=m;let v=class extends d.ExpandingSelection{constructor(){super(...arguments),this.keys=["a","f"],this.modes=[o.Mode.Visual,o.Mode.VisualLine]}async execAction(e,t){const r=[new d.MoveADoubleQuotes,new d.MoveASingleQuotes,new d.MoveABacktick,new d.MoveAClosingCurlyBrace,new d.MoveAParentheses,new d.MoveASquareBracket,new d.MoveAroundTag];let n=[];for(const s of r){const r=new i.Position(e.line,e.character),o=new i.Position(t.cursorStartPosition.line,t.cursorStartPosition.character);n.push(await s.execAction(r,t)),t.cursorStartPosition=o}n=n.filter(e=>!e.failed);let a=void 0;for(const e of n){const r=new s.Range(t.cursorStartPosition,t.cursorStopPosition);if(e.failed)continue;const n=new s.Range(e.start,e.stop);let i=void 0;if(n.start.isBefore(r.start)&&n.stop.isAfter(r.stop)&&(a?n.start.isAfter(a.start)&&n.stop.isBefore(a.stop)&&(i=n):i=n),i){i.equals(new s.Range(t.cursorStartPosition,t.cursorStopPosition))||t.currentMode===o.Mode.VisualLine&&i.start.line===t.cursorStartPosition.line&&i.stop.line===t.cursorStopPosition.line||(a=i)}}return a?(t.cursorStartPosition=new i.Position(a.start.line,a.start.character),t.cursorStopPosition=new i.Position(a.stop.line,a.stop.character),t.recordedState.operatorPositionDiff=void 0,{start:a.start,stop:a.stop}):{start:t.cursorStartPosition,stop:t.cursorStopPosition}}};v=n([u.RegisterAction],v),t.SelectAnExpandingBlock=v;let y=class extends p{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["i","w"]}async execAction(e,t){let r,n;const i=c.TextEditor.getLineAt(e).text[e.character];return/\s/.test(i)?(r=e.getLastWordEnd().getRight(),n=e.getWordRight().getLeftThroughLineBreaks()):(r=e.getWordLeft(!0),n=e.getCurrentWordEnd(!0)),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getLastWordEnd().getRight():e.getWordLeft(!0))),{start:r,stop:n}}};y=n([u.RegisterAction],y),t.SelectInnerWord=y;let w=class extends p{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["i","W"]}async execAction(e,t){let r,n;const i=c.TextEditor.getLineAt(e).text[e.character];return/\s/.test(i)?(r=e.getLastBigWordEnd().getRight(),n=e.getBigWordRight().getLeft()):(r=e.getBigWordLeft(!0),n=e.getCurrentBigWordEnd(!0)),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getLastBigWordEnd().getRight():e.getBigWordLeft())),{start:r,stop:n}}};w=n([u.RegisterAction],w),t.SelectInnerBigWord=w;let b=class extends p{constructor(){super(...arguments),this.keys=["a","s"]}async execAction(e,t){let r,n;const i=e.getSentenceBegin({forward:!1}),s=i.getCurrentSentenceEnd();if(s.isBefore(e))r=s.getRight(),n=i.getSentenceBegin({forward:!0}).getCurrentSentenceEnd();else{const e=i.getSentenceBegin({forward:!0});e.isEqual(i.getCurrentSentenceEnd())?(r=i.getSentenceBegin({forward:!1}).getCurrentSentenceEnd().getRight(),n=e):(r=i,n=e.getLeft())}return t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=s.isAfter(t.cursorStopPosition)?i.getSentenceBegin({forward:!1}).getCurrentSentenceEnd().getRight():i)),{start:r,stop:n}}};b=n([u.RegisterAction],b),t.SelectSentence=b;let x=class extends p{constructor(){super(...arguments),this.keys=["i","s"]}async execAction(e,t){let r,n;const i=e.getSentenceBegin({forward:!1}),s=i.getCurrentSentenceEnd();return s.isBefore(e)?(r=s.getRight(),n=i.getSentenceBegin({forward:!0}).getLeft()):(r=i,n=s),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=s.isAfter(t.cursorStopPosition)?i:s.getRight())),{start:r,stop:n}}};x=n([u.RegisterAction],x),t.SelectInnerSentence=x;let C=class extends p{constructor(){super(...arguments),this.keys=["a","p"]}async execAction(e,t){let r;t.currentRegisterMode=a.RegisterMode.LineWise;const n=e.getCurrentParagraphBeginning(!0);r=c.TextEditor.getLineAt(e).isEmptyOrWhitespace?e.getCurrentParagraphBeginning(!0).getCurrentParagraphEnd(!0):n.isLineBeginning()&&n.isLineEnd()?n.getRightThroughLineBreaks():n;let i=e.getCurrentParagraphEnd(!0);for(;i.line<c.TextEditor.getLineCount()-1&&c.TextEditor.getLineAt(i.getDown()).isEmptyOrWhitespace;)i=i.getDownWithDesiredColumn(0);return{start:r,stop:i}}};C=n([u.RegisterAction],C),t.SelectParagraph=C;let S=class extends p{constructor(){super(...arguments),this.keys=["i","p"]}async execAction(e,t){let r,n;if(t.currentRegisterMode=a.RegisterMode.LineWise,c.TextEditor.getLineAt(e).isEmptyOrWhitespace){for(r=e.getLineBegin(),n=e.getLineEnd();r.line>0&&c.TextEditor.getLineAt(r.getUp()).isEmptyOrWhitespace;)r=r.getUpWithDesiredColumn(0);for(;n.line<c.TextEditor.getLineCount()-1&&c.TextEditor.getLineAt(n.getDown()).isEmptyOrWhitespace;)n=n.getDownWithDesiredColumn(0)}else{const t=e.getCurrentParagraphBeginning(!0);for(n=e.getCurrentParagraphEnd(!0),r=c.TextEditor.getLineAt(t).isEmptyOrWhitespace?t.getRightThroughLineBreaks():t;n.line>0&&c.TextEditor.getLineAt(n).isEmptyOrWhitespace;)n=n.getUpWithDesiredColumn(0).getLineEnd()}return{start:r,stop:n}}};S=n([u.RegisterAction],S),t.SelectInnerParagraph=S;let M=class extends p{constructor(){super(...arguments),this.keys=["a","e"]}async execAction(e,t){return{start:c.TextEditor.getDocumentBegin(),stop:c.TextEditor.getDocumentEnd()}}};M=n([u.RegisterAction],M),t.SelectEntire=M;let _=class extends p{constructor(){super(...arguments),this.keys=["i","e"]}async execAction(e,t){let r=c.TextEditor.getDocumentBegin(),n=c.TextEditor.getDocumentEnd();for(;r.line<n.line&&c.TextEditor.getLineAt(r).isEmptyOrWhitespace;)r=r.getDown();for(;n.line>r.line&&c.TextEditor.getLineAt(n).isEmptyOrWhitespace;)n=n.getUp();return n=n.getLineEnd(),{start:r,stop:n}}};_=n([u.RegisterAction],_),t.SelectEntireIgnoringLeadingTrailing=_;class E extends p{constructor(){super(...arguments),this.setsDesiredColumnToEOL=!0,this.includeLineAbove=!1,this.includeLineBelow=!1}async execAction(e,t){const r=t.recordedState.operator instanceof h.ChangeOperator,n=E.findFirstValidLine(e),s=c.TextEditor.getLine(n).firstNonWhitespaceCharacterIndex;let a=E.findRangeStartOrEnd(n,s,-1),u=E.findRangeStartOrEnd(n,s,1);this.includeLineAbove&&(a-=1),a<0&&(a=0),this.includeLineBelow&&(u+=1),u>c.TextEditor.getLineCount()-1&&(u=c.TextEditor.getLineCount()-1);let l,d=0;return r&&(d=c.TextEditor.getLine(a).firstNonWhitespaceCharacterIndex),u===c.TextEditor.getLineCount()-1||t.currentMode===o.Mode.Visual?l=c.TextEditor.getLineLength(u):(l=0,u++),{start:new i.Position(a,d),stop:new i.Position(u,l)}}async execActionForOperator(e,t){return this.execAction(e,t)}static findFirstValidLine(e){for(let t=e.line;t>=0;t--)if(!c.TextEditor.getLine(t).isEmptyOrWhitespace)return t;return e.line}static findRangeStartOrEnd(e,t,r){let n=e,i=e;const s=1===r?c.TextEditor.getLineCount():-1;for(;n!==s;n+=r){const e=c.TextEditor.getLine(n),r=e.isEmptyOrWhitespace;if(e.firstNonWhitespaceCharacterIndex<t&&!r)break;i=n}return i}}let k=class extends E{constructor(){super(...arguments),this.keys=["i","i"]}};k=n([u.RegisterAction],k);let A=class extends E{constructor(){super(...arguments),this.keys=["a","i"],this.includeLineAbove=!0}};A=n([u.RegisterAction],A);let R=class extends E{constructor(){super(...arguments),this.keys=["a","I"],this.includeLineAbove=!0,this.includeLineBelow=!0}};R=n([u.RegisterAction],R);class P extends p{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.selectAround=!1}static openingDelimiterCharacters(){return f.configuration.argumentObjectOpeningDelimiters}static closingDelimiterCharacters(){return f.configuration.argumentObjectClosingDelimiters}static separatorCharacters(){return f.configuration.argumentObjectSeparators}async execAction(e,t){const r={start:e,stop:e,failed:!0};let n=e,i=e;if(P.separatorCharacters().includes(c.TextEditor.getCharAt(e))||P.openingDelimiterCharacters().includes(c.TextEditor.getCharAt(e))?i=e.getRightThroughLineBreaks(!0):P.closingDelimiterCharacters().includes(c.TextEditor.getCharAt(e))&&(n=e.getLeftThroughLineBreaks(!0)),void 0===T.findLeftArgumentBoundary(n,!0)||void 0===T.findRightArgumentBoundary(i,!0))return r;const s=T.findLeftArgumentBoundary(n);if(void 0===s)return r;const o=T.findRightArgumentBoundary(i);if(void 0===o)return r;let a,u;if(this.selectAround){const e=P.openingDelimiterCharacters().includes(c.TextEditor.getCharAt(s)),t=P.closingDelimiterCharacters().includes(c.TextEditor.getCharAt(o));if(s.getRight().isEqual(o)&&e&&t)return r;if(e&&!t)for(u=o.getRight();/\s/.test(c.TextEditor.getCharAt(u.getRight()));)u=u.getRight();else u=o.getLeftThroughLineBreaks(!0);a=e?s.getRightThroughLineBreaks(!0):s}else{for(a=s.getRightThroughLineBreaks(!1);/\s/.test(c.TextEditor.getCharAt(a));)a=a.getRightThroughLineBreaks(!1);for(u=o.getLeftThroughLineBreaks(!1);/\s/.test(c.TextEditor.getCharAt(u));)u=u.getLeftThroughLineBreaks(!1);u.isBeforeOrEqual(a)&&(a=s.getRightThroughLineBreaks(!0),u=o.getLeftThroughLineBreaks(!0))}return e.isBefore(a)&&(t.recordedState.operatorPositionDiff=a.subtract(e)),t.cursorStartPosition=a,{start:a,stop:u}}static findLeftArgumentBoundary(e,t=!1){let r,n=e,i=0;for(;;){const e=c.TextEditor.getCharAt(n);if(0===i){let i=P.openingDelimiterCharacters().includes(e);if(t||(i=i||P.separatorCharacters().includes(e)),i){r=n;break}}if(P.closingDelimiterCharacters().includes(e)&&i++,P.openingDelimiterCharacters().includes(e)&&i--,n.isAtDocumentBegin())break;n=n.getLeftThroughLineBreaks(!0)}return r}static findRightArgumentBoundary(e,t=!1){let r,n=e,i=0;for(;;){const e=c.TextEditor.getCharAt(n);if(0===i){let i=P.closingDelimiterCharacters().includes(e);if(t||(i=i||P.separatorCharacters().includes(e)),i){r=n;break}}if(P.openingDelimiterCharacters().includes(e)&&i++,P.closingDelimiterCharacters().includes(e)&&i--,n.isAtDocumentEnd())break;n=n.getRightThroughLineBreaks(!0)}return r}}let T=class extends P{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["i","a"]}};T=n([u.RegisterAction],T),t.SelectInnerArgument=T;let L=class extends P{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["a","a"],this.selectAround=!0}};L=n([u.RegisterAction],L),t.SelectAroundArgument=L},function(e,t,r){"use strict";var n,i,s,o,a,c=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowsInInsertMode=t.MoveAroundTag=t.MoveInsideTag=t.MoveABacktick=t.MoveADoubleQuotes=t.MoveASingleQuotes=t.MoveQuoteMatch=t.MoveASquareBracket=t.MoveACaret=t.MoveAClosingCurlyBrace=t.MoveACurlyBrace=t.MoveAParentheses=t.MoveInsideCharacter=t.MoveWordBegin=t.MoveUpByDisplayLine=t.MoveLeft=t.MarkMovement=t.MarkMovementBOL=t.MoveUpByScreenLine=t.ExpandingSelection=void 0;const u=r(0),l=r(22),d=r(4),h=r(6),f=r(97),p=r(3),g=r(315),m=r(10),v=r(15),y=r(159),w=r(316),b=r(2),x=r(317),C=r(8),S=r(39),M=r(23),_=r(38),E=r(167),k=r(32),A=r(31),R=r(16),P=r(28);class T extends S.BaseMovement{constructor(){super(...arguments),this.selectionType=S.SelectionType.Expanding}adjustPosition(e,t,r){return r||(e=t.stop),e}}t.ExpandingSelection=T;class L extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine],this.value=1}async execAction(e,t){return this.execActionWithCount(e,t,1)}async execActionWithCount(e,t,r){if(await u.commands.executeCommand("cursorMove",{to:this.movementType,select:t.currentMode!==h.Mode.Normal,by:this.by,value:this.value*r}),t.currentMode===h.Mode.Normal)return p.Position.FromVSCodePosition(t.editor.selection.active);{let e=p.Position.FromVSCodePosition(t.editor.selection.start),r=p.Position.FromVSCodePosition(t.editor.selection.end),n=p.Position.FromVSCodePosition(t.editor.selection.active);return e.isEqual(n)&&(e,[e,r]=[r,e],e=e.getLeft()),{start:e,stop:r}}}async execActionForOperator(e,t){return await u.commands.executeCommand("cursorMove",{to:this.movementType,select:!0,by:this.by,value:this.value}),{start:p.Position.FromVSCodePosition(t.editor.selection.start),stop:p.Position.FromVSCodePosition(t.editor.selection.end)}}}class B extends L{constructor(){super(...arguments),this.movementType="up",this.by="wrappedLine",this.value=1}}t.MoveUpByScreenLine=B;class O extends L{constructor(){super(...arguments),this.movementType="down",this.by="wrappedLine",this.value=1}}class F extends L{preservesDesiredColumn(){return!0}async execAction(e,t){let r=t.desiredColumn,n=t.editor.selection.active.line;if(t.currentMode!==h.Mode.Normal){let r=p.Position.FromVSCodePosition(t.editor.selection.start);("down"===this.movementType&&e.line>r.line||"up"===this.movementType&&e.line<n)&&await u.commands.executeCommand("cursorMove",{to:"left",select:!0,by:"character",value:1})}if(await u.commands.executeCommand("cursorMove",{to:this.movementType,select:t.currentMode!==h.Mode.Normal,by:this.by,value:this.value}),t.currentMode===h.Mode.Normal){let e=p.Position.FromVSCodePosition(t.editor.selection.active);return n!==e.line&&(e=e.withColumn(r)),e}{let i=p.Position.FromVSCodePosition(t.editor.selection.start),s=p.Position.FromVSCodePosition(t.editor.selection.end),o=p.Position.FromVSCodePosition(t.editor.selection.active);return i.isEqual(o)&&!i.isEqual(s)&&([i,s]=[s,i],n!==i.line&&(i=i.getLeft())),e.line!==s.line&&(s=s.withColumn(r)),{start:i,stop:s}}}}class D extends F{constructor(){super(...arguments),this.movementType="down",this.by="line",this.value=1}async execAction(e,t){if(e.line>=d.TextEditor.getLineCount()-1)return e;let r,n=e.line,i=e.character;const s=t.desiredColumn,o=new O;do{r=await o.execAction(e,t),r=r instanceof p.Position?r:r.stop;const s=n!==r.line,a=i!==r.character;if(s||!a)break;i=r.character,n=r.line}while(r.line===e.line);return r.character!==s&&(r=new p.Position(r.line,s)),r}}let I=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["j"]}preservesDesiredColumn(){return!0}async execAction(e,t){return b.configuration.foldfix&&t.currentMode!==h.Mode.VisualBlock?(new D).execAction(e,t):e.getDownWithDesiredColumn(t.desiredColumn)}async execActionForOperator(e,t){return t.currentRegisterMode=v.RegisterMode.LineWise,e.getDownWithDesiredColumn(e.getLineEnd().character)}};I=c([m.RegisterAction],I);let N=class extends I{constructor(){super(...arguments),this.keys=["<down>"]}};N=c([m.RegisterAction],N);let $=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["k"]}preservesDesiredColumn(){return!0}async execAction(e,t){return b.configuration.foldfix&&t.currentMode!==h.Mode.VisualBlock?(new j).execAction(e,t):e.getUpWithDesiredColumn(t.desiredColumn)}async execActionForOperator(e,t){return t.currentRegisterMode=v.RegisterMode.LineWise,e.getUpWithDesiredColumn(e.getLineEnd().character)}};$=c([m.RegisterAction],$);let j=class extends F{constructor(){super(...arguments),this.movementType="up",this.by="line",this.value=1}async execAction(e,t){if(0===e.line)return e;let r;const n=t.desiredColumn,i=new B;do{r=await i.execAction(e,t),r=r instanceof p.Position?r:r.stop}while(r.line===e.line);return r.character!==n&&(r=new p.Position(r.line,n)),r}};j=c([m.RegisterAction],j);let V=class extends ${constructor(){super(...arguments),this.keys=["<up>"]}};V=c([m.RegisterAction],V);let W=class extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.Replace],this.keys=[["<up>"],["<down>"],["<left>"],["<right>"]]}async execAction(e,t){let r=e;switch(this.keysPressed[0]){case"<up>":r=await(new V).execAction(e,t);break;case"<down>":r=await(new N).execAction(e,t);break;case"<left>":r=await(new X).execAction(e,t);break;case"<right>":r=await(new ne).execAction(e,t)}return t.replaceState=new y.ReplaceState(r),r}};W=c([m.RegisterAction],W);let U=class extends W{constructor(){super(...arguments),this.keys=[["<up>"]]}};U=c([m.RegisterAction],U);let H=class extends W{constructor(){super(...arguments),this.keys=[["<down>"]]}};H=c([m.RegisterAction],H);let q=class extends W{constructor(){super(...arguments),this.keys=[["<left>"]]}};q=c([m.RegisterAction],q);let z=class extends W{constructor(){super(...arguments),this.keys=[["<right>"]]}};z=c([m.RegisterAction],z);let K=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["n"],this.isJump=!0}async execAction(e,t){const r=M.globalState.searchState;if(!r||""===r.searchString)return e;if(M.globalState.hl=!0,0===r.getMatchRanges().length)return R.StatusBar.displayError(t,C.VimError.fromCode(C.ErrorCode.PatternNotFound,r.searchString)),e;let n;return n=e.getRight().isEqual(e.getLineEnd())?r.getNextSearchMatchPosition(e.getRight()):r.getNextSearchMatchPosition(e),n?(_.reportSearch(n.index,r.getMatchRanges().length,t),n.pos):(R.StatusBar.displayError(t,C.VimError.fromCode(r.searchDirection===A.SearchDirection.Forward?C.ErrorCode.SearchHitBottom:C.ErrorCode.SearchHitTop,r.searchString)),e)}};K=c([m.RegisterAction],K);let G=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["N"],this.isJump=!0}async execAction(e,t){const r=M.globalState.searchState;if(!r||""===r.searchString)return e;if(M.globalState.hl=!0,0===r.getMatchRanges().length)return R.StatusBar.displayError(t,C.VimError.fromCode(C.ErrorCode.PatternNotFound,r.searchString)),e;const n=r.getNextSearchMatchPosition(e,A.SearchDirection.Backward);return n?(_.reportSearch(n.index,r.getMatchRanges().length,t),n.pos):(R.StatusBar.displayError(t,C.VimError.fromCode(r.searchDirection===A.SearchDirection.Forward?C.ErrorCode.SearchHitTop:C.ErrorCode.SearchHitBottom,r.searchString)),e)}};G=c([m.RegisterAction],G);let J=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["'","<character>"],this.isJump=!0}async execAction(e,t){const r=this.keysPressed[1],n=t.historyTracker.getMark(r);if(t.currentRegisterMode=v.RegisterMode.LineWise,null==n)throw C.VimError.fromCode(C.ErrorCode.MarkNotSet);return n.isUppercaseMark&&void 0!==n.editor&&await Q(n.editor),d.TextEditor.getFirstNonWhitespaceCharOnLine(n.position.line)}};J=c([m.RegisterAction],J),t.MarkMovementBOL=J;let Y=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["`","<character>"],this.isJump=!0}async execAction(e,t){const r=this.keysPressed[1],n=t.historyTracker.getMark(r);if(null==n)throw C.VimError.fromCode(C.ErrorCode.MarkNotSet);return n.isUppercaseMark&&void 0!==n.editor&&await Q(n.editor),n.position}};async function Q(e){e!==u.window.activeTextEditor&&await u.window.showTextDocument(e.document)}Y=c([m.RegisterAction],Y),t.MarkMovement=Y;let Z=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["h"]}async execAction(e,t){return x.shouldWrapKey(t,this.keysPressed)?e.getLeftThroughLineBreaks():e.getLeft()}};Z=c([m.RegisterAction],Z),t.MoveLeft=Z;let X=class extends Z{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.keys=["<left>"]}};X=c([m.RegisterAction],X);let ee=class extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.Normal],this.keys=["<BS>"]}async execAction(e,t){return e.getLeftThroughLineBreaks()}};ee=c([m.RegisterAction],ee);let te=class extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.Visual,h.Mode.VisualBlock],this.keys=["<BS>"]}async execAction(e,t){return b.configuration.whichwrap.includes("b")?e.getLeftThroughLineBreaks():e.getLeft()}};te=c([m.RegisterAction],te);let re=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["l"]}async execAction(e,t){if(x.shouldWrapKey(t,this.keysPressed)){const r=t.currentMode===h.Mode.Insert;return e.getRightThroughLineBreaks(r)}return e.getRight()}};re=c([m.RegisterAction],re);let ne=class extends re{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.keys=["<right>"]}};ne=c([m.RegisterAction],ne);let ie=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[" "]}async execAction(e,t){return e.getRightThroughLineBreaks()}};ie=c([m.RegisterAction],ie);let se=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["+"]}async execActionWithCount(e,t,r){return t.currentRegisterMode=v.RegisterMode.LineWise,d.TextEditor.getFirstNonWhitespaceCharOnLine(e.getDown(Math.max(r,1)).line)}};se=c([m.RegisterAction],se);let oe=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["-"]}async execActionWithCount(e,t,r){return t.currentRegisterMode=v.RegisterMode.LineWise,d.TextEditor.getFirstNonWhitespaceCharOnLine(e.getUp(Math.max(r,1)).line)}};oe=c([m.RegisterAction],oe);let ae=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["_"]}async execActionWithCount(e,t,r){return d.TextEditor.getFirstNonWhitespaceCharOnLine(e.getDown(Math.max(r-1,0)).line)}};ae=c([m.RegisterAction],ae);let ce=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["|"]}async execActionWithCount(e,t,r){return new p.Position(e.line,Math.max(0,r-1))}};function ue(e,t,r,n){const i=d.TextEditor.getLineAt(e);let s=e.character;for(;r>0&&s>=0;)s="forward"===n?i.text.indexOf(t,s+1):i.text.lastIndexOf(t,s-1),r--;if(s>=0)return new p.Position(e.line,s)}ce=c([m.RegisterAction],ce);let le=n=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["f","<character>"]}async execActionWithCount(e,t,r){if(b.configuration.sneakReplacesF){const n=await new E.SneakForward(this.keysPressed.concat("\n"),this.isRepeat).execActionWithCount(e,t,r);return t.recordedState.operator&&!S.isIMovement(n)?n.getRight():n}r=r||1;let i=ue(e,k.Notation.ToControlCharacter(this.keysPressed[1]),r,"forward");return t.lastSemicolonRepeatableMovement=new n(this.keysPressed,!0),t.lastCommaRepeatableMovement=new de(this.keysPressed,!0),i?(t.recordedState.operator&&(i=i.getRight()),i):{start:e,stop:e,failed:!0}}};le=n=c([m.RegisterAction],le);let de=i=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["F","<character>"]}async execActionWithCount(e,t,r){if(b.configuration.sneakReplacesF)return new E.SneakBackward(this.keysPressed.concat("\n"),this.isRepeat).execActionWithCount(e,t,r);r=r||1;let n=ue(e,k.Notation.ToControlCharacter(this.keysPressed[1]),r,"backward");return t.lastSemicolonRepeatableMovement=new i(this.keysPressed,!0),t.lastCommaRepeatableMovement=new le(this.keysPressed,!0),n||{start:e,stop:e,failed:!0}}};function he(e,t,r,n){const i=ue(e,t,r,n);return"forward"===n?null==i?void 0:i.getLeft():null==i?void 0:i.getRight()}de=i=c([m.RegisterAction],de);let fe=s=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["t","<character>"]}async execActionWithCount(e,t,r){r=r||1;const n=k.Notation.ToControlCharacter(this.keysPressed[1]);let i=he(e,n,r,"forward");return i&&this.isRepeat&&e.isEqual(i)&&1===r&&(i=he(e,n,2,"forward")),t.lastSemicolonRepeatableMovement=new s(this.keysPressed,!0),t.lastCommaRepeatableMovement=new pe(this.keysPressed,!0),i?(t.recordedState.operator&&(i=i.getRight()),i):{start:e,stop:e,failed:!0}}};fe=s=c([m.RegisterAction],fe);let pe=o=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["T","<character>"]}async execActionWithCount(e,t,r){r=r||1;const n=k.Notation.ToControlCharacter(this.keysPressed[1]);let i=he(e,n,r,"backward");return i&&this.isRepeat&&e.isEqual(i)&&1===r&&(i=he(e,n,2,"backward")),t.lastSemicolonRepeatableMovement=new o(this.keysPressed,!0),t.lastCommaRepeatableMovement=new fe(this.keysPressed,!0),i||{start:e,stop:e,failed:!0}}};pe=o=c([m.RegisterAction],pe);let ge=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[";"]}async execActionWithCount(e,t,r){const n=t.lastSemicolonRepeatableMovement;return n?n.execActionWithCount(e,t,r):e}};ge=c([m.RegisterAction],ge);let me=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[","]}async execActionWithCount(e,t,r){const n=t.lastSemicolonRepeatableMovement,i=t.lastCommaRepeatableMovement;if(i){const s=i.execActionWithCount(e,t,r);return t.lastSemicolonRepeatableMovement=n,t.lastCommaRepeatableMovement=i,s}return e}};me=c([m.RegisterAction],me);let ve=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[["$"],["<End>"],["<D-right>"]],this.setsDesiredColumnToEOL=!0}async execActionWithCount(e,t,r){return e.getDown(Math.max(r-1,0)).getLineEnd()}};ve=c([m.RegisterAction],ve);let ye=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[["0"],["<Home>"],["<D-left>"]]}async execAction(e,t){return e.getLineBegin()}doesActionApply(e,t){return super.doesActionApply(e,t)&&0===e.recordedState.count}couldActionApply(e,t){return super.couldActionApply(e,t)&&0===e.recordedState.count}};ye=c([m.RegisterAction],ye);let we=class extends L{constructor(){super(...arguments),this.keys=["g","0"],this.movementType="wrappedLineStart"}};we=c([m.RegisterAction],we);let be=class extends L{constructor(){super(...arguments),this.keys=["g","^"],this.movementType="wrappedLineFirstNonWhitespaceCharacter"}};be=c([m.RegisterAction],be);let xe=class extends L{constructor(){super(...arguments),this.keys=["g","$"],this.movementType="wrappedLineEnd"}};xe=c([m.RegisterAction],xe);let Ce=class extends L{constructor(){super(...arguments),this.keys=["g","_"],this.movementType="wrappedLineLastNonWhitespaceCharacter"}async execActionWithCount(e,t,r){r=r||1;const n=await super.execActionWithCount(e,t,r);return n instanceof p.Position?n.getDown(r-1):{start:n.start,stop:n.stop.getDown(r-1).getLeft()}}};Ce=c([m.RegisterAction],Ce);let Se=class extends L{constructor(){super(...arguments),this.keys=["g","m"],this.movementType="wrappedLineColumnCenter"}};Se=c([m.RegisterAction],Se);let Me=class extends L{constructor(){super(...arguments),this.modes=[h.Mode.Insert,h.Mode.Normal,h.Mode.Visual],this.keys=[["g","k"],["g","<up>"]],this.movementType="up",this.by="wrappedLine",this.value=1}};Me=c([m.RegisterAction],Me),t.MoveUpByDisplayLine=Me;let _e=class extends L{constructor(){super(...arguments),this.modes=[h.Mode.Insert,h.Mode.Normal,h.Mode.Visual],this.keys=[["g","j"],["g","<down>"]],this.movementType="down",this.by="wrappedLine",this.value=1}};_e=c([m.RegisterAction],_e);let Ee=class extends L{constructor(){super(...arguments),this.modes=[h.Mode.VisualLine],this.keys=[["g","k"],["g","<up>"]],this.movementType="up",this.by="line",this.value=1}};Ee=c([m.RegisterAction],Ee);let ke=class extends L{constructor(){super(...arguments),this.modes=[h.Mode.VisualLine],this.keys=[["g","j"],["g","<down>"]],this.movementType="down",this.by="line",this.value=1}};ke=c([m.RegisterAction],ke);let Ae=class extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.VisualBlock],this.keys=[["g","k"],["g","<up>"]]}preservesDesiredColumn(){return!0}async execAction(e,t){return e.getUpWithDesiredColumn(t.desiredColumn)}async execActionForOperator(e,t){return t.currentRegisterMode=v.RegisterMode.LineWise,e.getUpWithDesiredColumn(e.getLineEnd().character)}};Ae=c([m.RegisterAction],Ae);let Re=class extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.VisualBlock],this.keys=[["g","j"],["g","<down>"]]}preservesDesiredColumn(){return!0}async execAction(e,t){return e.getDownWithDesiredColumn(t.desiredColumn)}async execActionForOperator(e,t){return t.currentRegisterMode=v.RegisterMode.LineWise,e.getDownWithDesiredColumn(e.getLineEnd().character)}};Re=c([m.RegisterAction],Re);let Pe=class extends L{constructor(){super(...arguments),this.modes=[h.Mode.Insert,h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine],this.keys=["z","h"],this.movementType="right",this.by="character",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Pe=c([m.RegisterAction],Pe);let Te=class extends L{constructor(){super(...arguments),this.modes=[h.Mode.Insert,h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine],this.keys=["z","l"],this.movementType="left",this.by="character",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Te=c([m.RegisterAction],Te);let Le=class extends L{constructor(){super(...arguments),this.modes=[h.Mode.Insert,h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine],this.keys=["z","H"],this.movementType="right",this.by="halfLine",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Le=c([m.RegisterAction],Le);let Be=class extends L{constructor(){super(...arguments),this.modes=[h.Mode.Insert,h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine],this.keys=["z","L"],this.movementType="left",this.by="halfLine",this.value=1,this.isJump=!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Be=c([m.RegisterAction],Be);let Oe=class extends L{constructor(){super(...arguments),this.keys=["H"],this.movementType="viewPortTop",this.by="line",this.value=1,this.isJump=!0}};Oe=c([m.RegisterAction],Oe);let Fe=class extends L{constructor(){super(...arguments),this.keys=["L"],this.movementType="viewPortBottom",this.by="line",this.value=1,this.isJump=!0}};Fe=c([m.RegisterAction],Fe);let De=class extends L{constructor(){super(...arguments),this.keys=["M"],this.movementType="viewPortCenter",this.by="line",this.isJump=!0}};De=c([m.RegisterAction],De);let Ie=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["^"]}async execAction(e,t){return d.TextEditor.getFirstNonWhitespaceCharOnLine(e.line)}};Ie=c([m.RegisterAction],Ie);let Ne=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["\n"]}async execActionWithCount(e,t,r){return t.currentRegisterMode=v.RegisterMode.LineWise,0===r&&r++,d.TextEditor.getFirstNonWhitespaceCharOnLine(e.getDown(r).line)}};Ne=c([m.RegisterAction],Ne);let $e=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["g","g"],this.isJump=!0}async execActionWithCount(e,t,r){const n=P.clamp(r,1,d.TextEditor.getLineCount())-1;return{start:t.cursorStartPosition,stop:e.withLine(n).obeyStartOfLine(),registerMode:v.RegisterMode.LineWise}}};$e=c([m.RegisterAction],$e);let je=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["G"],this.isJump=!0}async execActionWithCount(e,t,r){let n;return n=0===r?new p.Position(d.TextEditor.getLineCount()-1,e.character).obeyStartOfLine():new p.Position(Math.min(r,d.TextEditor.getLineCount())-1,e.character).obeyStartOfLine(),{start:t.cursorStartPosition,stop:n,registerMode:v.RegisterMode.LineWise}}};je=c([m.RegisterAction],je);let Ve=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["w"]}async execAction(e,t,r=!1){if(r&&!b.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof l.ChangeOperator){if(d.TextEditor.getLineAt(e).text.length<1)return e;const t=d.TextEditor.getLineAt(e).text[e.character];return" \t".includes(t)?e.getWordRight():e.getCurrentWordEnd(!0).getRight()}return e.getWordRight()}async execActionForOperator(e,t){const r=await this.execAction(e,t,!0);return r.line>e.line+1||r.line===e.line+1&&r.isFirstWordOfLine()?e.getLineEnd():r.isLineEnd()?new p.Position(r.line,r.character+1):r}};Ve=c([m.RegisterAction],Ve),t.MoveWordBegin=Ve;let We=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["W"]}async execAction(e,t){return!b.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof l.ChangeOperator?e.getCurrentBigWordEnd().getRight():e.getBigWordRight()}};We=c([m.RegisterAction],We);let Ue=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["e"]}async execAction(e,t){return e.getCurrentWordEnd()}async execActionForOperator(e,t){let r=e.getCurrentWordEnd();return new p.Position(r.line,r.character+1)}};Ue=c([m.RegisterAction],Ue);let He=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["E"]}async execAction(e,t){return e.getCurrentBigWordEnd()}async execActionForOperator(e,t){return e.getCurrentBigWordEnd().getRight()}};He=c([m.RegisterAction],He);let qe=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["g","e"]}async execAction(e,t){return e.getLastWordEnd()}};qe=c([m.RegisterAction],qe);let ze=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["g","E"]}async execAction(e,t){return e.getLastBigWordEnd()}};ze=c([m.RegisterAction],ze);let Ke=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["b"]}async execAction(e,t){return e.getWordLeft()}};Ke=c([m.RegisterAction],Ke);let Ge=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["B"]}async execAction(e,t){return e.getBigWordLeft()}};Ge=c([m.RegisterAction],Ge);let Je=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["("],this.isJump=!0}async execAction(e,t){return e.getSentenceBegin({forward:!1})}};Je=c([m.RegisterAction],Je);let Ye=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[")"],this.isJump=!0}async execAction(e,t){return e.getSentenceBegin({forward:!0})}};Ye=c([m.RegisterAction],Ye);let Qe=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["}"],this.isJump=!0,this.iteration=0,this.isFirstLineWise=!1}async execAction(e,t){const r=t.recordedState.operator,n=e.getCurrentParagraphEnd();if(r){this.iteration++;const r=e.isLineBeginning()&&t.currentMode===h.Mode.Normal,i=!t.recordedState.count||t.recordedState.count===this.iteration;return this.isFirstLineWise=1===this.iteration?r:this.isFirstLineWise,t.currentRegisterMode=this.isFirstLineWise?v.RegisterMode.LineWise:v.RegisterMode.AscertainFromCurrentMode,i&&!n.isAtDocumentEnd()?n.getLeftThroughLineBreaks(!0):n}return n}};Qe=c([m.RegisterAction],Qe);let Ze=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["{"],this.isJump=!0}async execAction(e,t){return e.getCurrentParagraphBeginning()}};Ze=c([m.RegisterAction],Ze);class Xe extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine],this.isJump=!0}async execAction(e,t){if(this.forward&&e.line===d.TextEditor.getLineCount()-1||!this.forward&&0===e.line)return d.TextEditor.getFirstNonWhitespaceCharOnLine(e.line);for(e=this.forward?e.getDownWithDesiredColumn(0):e.getUpWithDesiredColumn(0);!d.TextEditor.getLineAt(e).text.startsWith(this.boundary);)if(this.forward){if(e.line===d.TextEditor.getLineCount()-1)break;e=e.getDownWithDesiredColumn(0)}else{if(0===e.line)break;e=e.getUpWithDesiredColumn(0)}return d.TextEditor.getFirstNonWhitespaceCharOnLine(e.line)}}let et=class extends Xe{constructor(){super(...arguments),this.keys=["]","]"],this.boundary="{",this.forward=!0}};et=c([m.RegisterAction],et);let tt=class extends Xe{constructor(){super(...arguments),this.keys=["]","["],this.boundary="}",this.forward=!0}};tt=c([m.RegisterAction],tt);let rt=class extends Xe{constructor(){super(...arguments),this.keys=["[","["],this.boundary="{",this.forward=!1}};rt=c([m.RegisterAction],rt);let nt=class extends Xe{constructor(){super(...arguments),this.keys=["[","]"],this.boundary="}",this.forward=!1}};nt=c([m.RegisterAction],nt);let it=a=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["%"],this.isJump=!0}async execAction(e,t){e=e.getLeftIfEOL();const r=d.TextEditor.getLineAt(e).text,n={start:e,stop:e,failed:!0};for(let t=e.character;t<r.length;t++){const i=f.PairMatcher.pairings[r[t]];if(i&&i.matchesWithPercentageMotion)return f.PairMatcher.nextPairedChar(new p.Position(e.line,t),r[t])||n}return n}async execActionForOperator(e,t){const r=await this.execAction(e,t);if(S.isIMovement(r)){if(r.failed)return r;throw new Error("Did not ever handle this case!")}return e.isAfter(r)?{start:r,stop:e.getRight()}:r.getRight()}async execActionWithCount(e,t,r){if(Object.getPrototypeOf(this)===a.prototype){if(0===r)return t.recordedState.operator?this.execActionForOperator(e,t):this.execAction(e,t);if(r<0||r>100)return{start:e,stop:e,failed:!0};const n=Math.round(r*d.TextEditor.getLineCount()/100);return d.TextEditor.getFirstNonWhitespaceCharOnLine(n-1)}return super.execActionWithCount(e,t,r)}};it=a=c([m.RegisterAction],it);class st extends T{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.includeSurrounding=!1,this.isJump=!0}async execAction(e,t){const r=f.PairMatcher.pairings[this.charToMatch].match;let n=new p.Position(t.cursorStartPosition.line,t.cursorStartPosition.character);const i={start:n,stop:e,failed:!0};if(!this.includeSurrounding){const i=n.getLeftThroughLineBreaks();let s=e.getRightThroughLineBreaks();t.recordedState.operator&&(s=s.getLeftThroughLineBreaks());const o=d.TextEditor.getCharAt(i),a=d.TextEditor.getCharAt(s);o===this.charToMatch&&a===r&&(n=i,t.cursorStartPosition=i,e=s,t.cursorStopPosition=s)}let s,o=f.PairMatcher.nextPairedChar(n,r,t);if(void 0===o)return i;s=o.isAfterOrEqual(o.getLineEnd().getLeft())?new p.Position(o.line+1,0):new p.Position(o.line,o.character+1);let a=f.PairMatcher.nextPairedChar(e,this.charToMatch,t);return void 0===a?i:(this.includeSurrounding?t.currentMode!==h.Mode.Visual&&(a=new p.Position(a.line,a.character+1)):(o=s,a.isInLeadingWhitespace()&&(a=a.getLineBegin()),t.currentMode===h.Mode.Visual&&(a=a.getLeftThroughLineBreaks())),e.isBefore(o)&&(t.recordedState.operatorPositionDiff=o.subtract(e)),t.cursorStartPosition=o,{start:o,stop:a})}}t.MoveInsideCharacter=st;let ot=class extends st{constructor(){super(...arguments),this.keys=["i","("],this.charToMatch="("}};ot=c([m.RegisterAction],ot);let at=class extends st{constructor(){super(...arguments),this.keys=["i",")"],this.charToMatch="("}};at=c([m.RegisterAction],at);let ct=class extends st{constructor(){super(...arguments),this.keys=["i","b"],this.charToMatch="("}};ct=c([m.RegisterAction],ct);let ut=class extends st{constructor(){super(...arguments),this.keys=["a","("],this.charToMatch="(",this.includeSurrounding=!0}};ut=c([m.RegisterAction],ut),t.MoveAParentheses=ut;let lt=class extends st{constructor(){super(...arguments),this.keys=["a",")"],this.charToMatch="(",this.includeSurrounding=!0}};lt=c([m.RegisterAction],lt);let dt=class extends st{constructor(){super(...arguments),this.keys=["a","b"],this.charToMatch="(",this.includeSurrounding=!0}};dt=c([m.RegisterAction],dt);let ht=class extends st{constructor(){super(...arguments),this.keys=["i","{"],this.charToMatch="{"}};ht=c([m.RegisterAction],ht);let ft=class extends st{constructor(){super(...arguments),this.keys=["i","}"],this.charToMatch="{"}};ft=c([m.RegisterAction],ft);let pt=class extends st{constructor(){super(...arguments),this.keys=["i","B"],this.charToMatch="{"}};pt=c([m.RegisterAction],pt);let gt=class extends st{constructor(){super(...arguments),this.keys=["a","{"],this.charToMatch="{",this.includeSurrounding=!0}};gt=c([m.RegisterAction],gt),t.MoveACurlyBrace=gt;let mt=class extends st{constructor(){super(...arguments),this.keys=["a","}"],this.charToMatch="{",this.includeSurrounding=!0}};mt=c([m.RegisterAction],mt),t.MoveAClosingCurlyBrace=mt;let vt=class extends st{constructor(){super(...arguments),this.keys=["a","B"],this.charToMatch="{",this.includeSurrounding=!0}};vt=c([m.RegisterAction],vt);let yt=class extends st{constructor(){super(...arguments),this.keys=["i","<"],this.charToMatch="<"}};yt=c([m.RegisterAction],yt);let wt=class extends st{constructor(){super(...arguments),this.keys=["i",">"],this.charToMatch="<"}};wt=c([m.RegisterAction],wt);let bt=class extends st{constructor(){super(...arguments),this.keys=["a","<"],this.charToMatch="<",this.includeSurrounding=!0}};bt=c([m.RegisterAction],bt),t.MoveACaret=bt;let xt=class extends st{constructor(){super(...arguments),this.keys=["a",">"],this.charToMatch="<",this.includeSurrounding=!0}};xt=c([m.RegisterAction],xt);let Ct=class extends st{constructor(){super(...arguments),this.keys=["i","["],this.charToMatch="["}};Ct=c([m.RegisterAction],Ct);let St=class extends st{constructor(){super(...arguments),this.keys=["i","]"],this.charToMatch="["}};St=c([m.RegisterAction],St);let Mt=class extends st{constructor(){super(...arguments),this.keys=["a","["],this.charToMatch="[",this.includeSurrounding=!0}};Mt=c([m.RegisterAction],Mt),t.MoveASquareBracket=Mt;let _t=class extends st{constructor(){super(...arguments),this.keys=["a","]"],this.charToMatch="[",this.includeSurrounding=!0}};_t=c([m.RegisterAction],_t);class Et extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualBlock],this.includeSurrounding=!1,this.isJump=!0}async execAction(e,t){const r=d.TextEditor.getLineAt(e).text,n=new g.QuoteMatcher(this.charToMatch,r);let i=n.findOpening(e.character),s=n.findClosing(i+1);if(s<i&&i===e.character&&(s=i,i=n.findOpening(s-1)),-1===i||-1===s||s===i||s<e.character)return{start:e,stop:e,failed:!0};let o=new p.Position(e.line,i),a=new p.Position(e.line,s);return this.includeSurrounding||(o=o.getRight(),a=a.getLeft()),e.isBefore(o)&&(t.recordedState.operatorPositionDiff=o.subtract(e)),{start:o,stop:a}}async execActionForOperator(e,t){const r=await this.execAction(e,t);return S.isIMovement(r)&&(r.failed?(t.recordedState.hasRunOperator=!1,t.recordedState.actionsRun=[]):r.stop=r.stop.getRight()),r}}t.MoveQuoteMatch=Et;let kt=class extends Et{constructor(){super(...arguments),this.keys=["i","'"],this.charToMatch="'",this.includeSurrounding=!1}};kt=c([m.RegisterAction],kt);let At=class extends Et{constructor(){super(...arguments),this.keys=["a","'"],this.charToMatch="'",this.includeSurrounding=!0}};At=c([m.RegisterAction],At),t.MoveASingleQuotes=At;let Rt=class extends Et{constructor(){super(...arguments),this.keys=["i",'"'],this.charToMatch='"',this.includeSurrounding=!1}};Rt=c([m.RegisterAction],Rt);let Pt=class extends Et{constructor(){super(...arguments),this.keys=["a",'"'],this.charToMatch='"',this.includeSurrounding=!0}};Pt=c([m.RegisterAction],Pt),t.MoveADoubleQuotes=Pt;let Tt=class extends Et{constructor(){super(...arguments),this.keys=["i","`"],this.charToMatch="`",this.includeSurrounding=!1}};Tt=c([m.RegisterAction],Tt);let Lt=class extends Et{constructor(){super(...arguments),this.keys=["a","`"],this.charToMatch="`",this.includeSurrounding=!0}};Lt=c([m.RegisterAction],Lt),t.MoveABacktick=Lt;let Bt=class extends it{constructor(){super(...arguments),this.keys=["[","("]}async execAction(e,t){const r={start:e,stop:e,failed:!0},n=f.PairMatcher.nextPairedChar(e,")");return n||r}};Bt=c([m.RegisterAction],Bt);let Ot=class extends it{constructor(){super(...arguments),this.keys=["]",")"]}async execAction(e,t){const r={start:e,stop:e,failed:!0},n=f.PairMatcher.nextPairedChar(e,"(");return n?t.recordedState.operator instanceof l.ChangeOperator||t.recordedState.operator instanceof l.DeleteOperator||t.recordedState.operator instanceof l.YankOperator?n.getLeftThroughLineBreaks():n:r}};Ot=c([m.RegisterAction],Ot);let Ft=class extends it{constructor(){super(...arguments),this.keys=["[","{"]}async execAction(e,t){const r={start:e,stop:e,failed:!0},n=f.PairMatcher.nextPairedChar(e,"}");return n||r}};Ft=c([m.RegisterAction],Ft);let Dt=class extends it{constructor(){super(...arguments),this.keys=["]","}"]}async execAction(e,t){const r={start:e,stop:e,failed:!0},n=f.PairMatcher.nextPairedChar(e,"{");return n?t.recordedState.operator instanceof l.ChangeOperator||t.recordedState.operator instanceof l.DeleteOperator||t.recordedState.operator instanceof l.YankOperator?n.getLeftThroughLineBreaks():n:r}};Dt=c([m.RegisterAction],Dt);class It extends T{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualBlock],this.includeTag=!1,this.isJump=!0}async execAction(e,t){const r=d.TextEditor.getText(),n=d.TextEditor.getOffsetAt(e),i=new w.TagMatcher(r,n,t),s=new p.Position(t.cursorStartPosition.line,t.cursorStartPosition.character),o=i.findOpening(this.includeTag),a=i.findClosing(this.includeTag);if(void 0===o||void 0===a)return{start:s,stop:e,failed:!0};let c=o>=0?d.TextEditor.getPositionAt(o):s,u=a>=0?d.TextEditor.getPositionAt(a):e;return t.currentMode!==h.Mode.Visual&&t.currentMode!==h.Mode.SurroundInputMode||(u=u.getLeftThroughLineBreaks()),e.isAfter(u)?t.recordedState.transformations.push({type:"moveCursor",diff:u.subtract(e)}):e.isBefore(c)&&t.recordedState.transformations.push({type:"moveCursor",diff:c.subtract(e)}),t.cursorStartPosition=c,{start:c,stop:u}}}let Nt=class extends It{constructor(){super(...arguments),this.keys=["i","t"],this.includeTag=!1}};Nt=c([m.RegisterAction],Nt),t.MoveInsideTag=Nt;let $t=class extends It{constructor(){super(...arguments),this.keys=["a","t"],this.includeTag=!0}};$t=c([m.RegisterAction],$t),t.MoveAroundTag=$t;class jt extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.Insert]}async execAction(e,t){let r;switch(t.recordedState.actionsRun=[t.recordedState.actionsRun.shift(),t.recordedState.actionsRun.pop()],this.keys[0]){case"<up>":r=await(new V).execAction(e,t);break;case"<down>":r=await(new N).execAction(e,t);break;case"<left>":r=await new X(this.keysPressed).execAction(e,t);break;case"<right>":r=await new ne(this.keysPressed).execAction(e,t);break;default:throw new Error("Unexpected 'arrow' key: "+this.keys[0])}return t.replaceState=new y.ReplaceState(r),r}}t.ArrowsInInsertMode=jt;let Vt=class extends jt{constructor(){super(...arguments),this.keys=["<up>"]}};Vt=c([m.RegisterAction],Vt);let Wt=class extends jt{constructor(){super(...arguments),this.keys=["<down>"]}};Wt=c([m.RegisterAction],Wt);let Ut=class extends jt{constructor(){super(...arguments),this.keys=["<left>"]}};Ut=c([m.RegisterAction],Ut);let Ht=class extends jt{constructor(){super(...arguments),this.keys=["<right>"]}};Ht=c([m.RegisterAction],Ht)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(103),i=r(110),s=r(112);!function(e){e[e.Buffer=0]="Buffer",e[e.Window=1]="Window",e[e.Tabpage=2]="Tabpage"}(t.ExtType||(t.ExtType={})),t.Metadata=[{constructor:n.Buffer,name:"Buffer",prefix:"nvim_buf_"},{constructor:i.Window,name:"Window",prefix:"nvim_win_"},{constructor:s.Tabpage,name:"Tabpage",prefix:"nvim_tabpage_"}]},function(e,t,r){var n=r(356),i=r(184);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var n,i=r(359),s=(n=i)&&n.__esModule?n:{default:n};var o="function"==typeof Symbol;function a(e){return o&&"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){return a(e)?(0,s.default)(e):e},t.isAsync=a},function(e,t,r){"use strict";var n=r(383),i=r(391),s=r(393),o=r(7),a=r(396).isatty(1),c=process.stdout;function u(e,t){return i(e)?((t=t||{}).colors="colors"in t?t.colors:a,t.ansi=t.colors?s(e,n(e)):e,t.stream=t.stream||c,Array.isArray(t.stream)||(t.stream=[t.stream]),function(e){e instanceof Error&&(e=e.stack||e.message||e),e=[t.ansi," ",e].join(""),e=o.format.apply(this,[e].concat(Array.prototype.slice.call(arguments,1)))+"\n",t.stream.forEach((function(t){t.write(e)}))}):function(){}}u.to=function(e){return c=e,u},e.exports=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VsCodeContext=void 0;const n=r(0);t.VsCodeContext=new class{constructor(){this.contextMap={}}async Set(e,t){const r=this.Get(e);if(!r||r!==t)return this.contextMap[e]=t,n.commands.executeCommand("setContext",e,t)}Get(e){return this.contextMap[e]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decoration=void 0;const n=r(0);t.decoration=new class{set Default(e){this._default&&this._default.dispose(),this._default=e}get Default(){return this._default}set SearchHighlight(e){this._searchHighlight&&this._searchHighlight.dispose(),this._searchHighlight=e}get SearchHighlight(){return this._searchHighlight}set EasyMotion(e){this._easyMotion&&this._easyMotion.dispose(),this._easyMotion=e}get EasyMotion(){return this._easyMotion}load(e){this.Default=n.window.createTextEditorDecorationType({backgroundColor:new n.ThemeColor("editorCursor.foreground"),borderColor:new n.ThemeColor("editorCursor.foreground"),dark:{color:"rgb(81,80,82)"},light:{color:"rgb(255, 255, 255)"},borderStyle:"solid",borderWidth:"1px"});const t=e.searchHighlightColor?e.searchHighlightColor:new n.ThemeColor("editor.findMatchHighlightBackground");this.SearchHighlight=n.window.createTextEditorDecorationType({backgroundColor:t,color:e.searchHighlightTextColor,overviewRulerColor:new n.ThemeColor("editorOverviewRuler.findMatchForeground")}),this.EasyMotion=n.window.createTextEditorDecorationType({backgroundColor:t})}}},function(e,t,r){(function(e){var n;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",s="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",c="[object Array]",u="[object Boolean]",l="[object Date]",d="[object Error]",h="[object Function]",f="[object GeneratorFunction]",p="[object Map]",g="[object Number]",m="[object Object]",v="[object RegExp]",y="[object Set]",w="[object String]",b="[object Symbol]",x="[object WeakMap]",C="[object ArrayBuffer]",S="[object DataView]",M="[object Float32Array]",_="[object Float64Array]",E="[object Int8Array]",k="[object Int16Array]",A="[object Int32Array]",R="[object Uint8Array]",P="[object Uint16Array]",T="[object Uint32Array]",L=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,O=/(__e\(.*?\)|\b__t\)) \+\n'';/g,F=/&(?:amp|lt|gt|quot|#39);/g,D=/[&<>"']/g,I=RegExp(F.source),N=RegExp(D.source),$=/<%-([\s\S]+?)%>/g,j=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,z=RegExp(q.source),K=/^\s+|\s+$/g,G=/^\s+/,J=/\s+$/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,X=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ne=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,se=/^\[object .+?Constructor\]$/,oe=/^0o[0-7]+$/i,ae=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,le=/['\n\r\u2028\u2029\\]/g,de="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",he="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="[\\ud800-\\udfff]",pe="["+he+"]",ge="["+de+"]",me="\\d+",ve="[\\u2700-\\u27bf]",ye="[a-z\\xdf-\\xf6\\xf8-\\xff]",we="[^\\ud800-\\udfff"+he+me+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",be="\\ud83c[\\udffb-\\udfff]",xe="[^\\ud800-\\udfff]",Ce="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",Me="[A-Z\\xc0-\\xd6\\xd8-\\xde]",_e="(?:"+ye+"|"+we+")",Ee="(?:"+Me+"|"+we+")",ke="(?:"+ge+"|"+be+")"+"?",Ae="[\\ufe0e\\ufe0f]?"+ke+("(?:\\u200d(?:"+[xe,Ce,Se].join("|")+")[\\ufe0e\\ufe0f]?"+ke+")*"),Re="(?:"+[ve,Ce,Se].join("|")+")"+Ae,Pe="(?:"+[xe+ge+"?",ge,Ce,Se,fe].join("|")+")",Te=RegExp("[']","g"),Le=RegExp(ge,"g"),Be=RegExp(be+"(?="+be+")|"+Pe+Ae,"g"),Oe=RegExp([Me+"?"+ye+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[pe,Me,"$"].join("|")+")",Ee+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[pe,Me+_e,"$"].join("|")+")",Me+"?"+_e+"+(?:['](?:d|ll|m|re|s|t|ve))?",Me+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",me,Re].join("|"),"g"),Fe=RegExp("[\\u200d\\ud800-\\udfff"+de+"\\ufe0e\\ufe0f]"),De=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ie=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ne=-1,$e={};$e[M]=$e[_]=$e[E]=$e[k]=$e[A]=$e[R]=$e["[object Uint8ClampedArray]"]=$e[P]=$e[T]=!0,$e[a]=$e[c]=$e[C]=$e[u]=$e[S]=$e[l]=$e[d]=$e[h]=$e[p]=$e[g]=$e[m]=$e[v]=$e[y]=$e[w]=$e[x]=!1;var je={};je[a]=je[c]=je[C]=je[S]=je[u]=je[l]=je[M]=je[_]=je[E]=je[k]=je[A]=je[p]=je[g]=je[m]=je[v]=je[y]=je[w]=je[b]=je[R]=je["[object Uint8ClampedArray]"]=je[P]=je[T]=!0,je[d]=je[h]=je[x]=!1;var Ve={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},We=parseFloat,Ue=parseInt,He="object"==typeof global&&global&&global.Object===Object&&global,qe="object"==typeof self&&self&&self.Object===Object&&self,ze=He||qe||Function("return this")(),Ke=t&&!t.nodeType&&t,Ge=Ke&&"object"==typeof e&&e&&!e.nodeType&&e,Je=Ge&&Ge.exports===Ke,Ye=Je&&He.process,Qe=function(){try{var e=Ge&&Ge.require&&Ge.require("util").types;return e||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),Ze=Qe&&Qe.isArrayBuffer,Xe=Qe&&Qe.isDate,et=Qe&&Qe.isMap,tt=Qe&&Qe.isRegExp,rt=Qe&&Qe.isSet,nt=Qe&&Qe.isTypedArray;function it(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function st(e,t,r,n){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(n,o,r(o),e)}return n}function ot(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function at(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function ct(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function ut(e,t){for(var r=-1,n=null==e?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}function lt(e,t){return!!(null==e?0:e.length)&&bt(e,t,0)>-1}function dt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function ht(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function ft(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function pt(e,t,r,n){var i=-1,s=null==e?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function gt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function mt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var vt=Mt("length");function yt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function wt(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function bt(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):wt(e,Ct,r)}function xt(e,t,r,n){for(var i=r-1,s=e.length;++i<s;)if(n(e[i],t))return i;return-1}function Ct(e){return e!=e}function St(e,t){var r=null==e?0:e.length;return r?kt(e,t)/r:NaN}function Mt(e){return function(t){return null==t?void 0:t[e]}}function _t(e){return function(t){return null==e?void 0:e[t]}}function Et(e,t,r,n,i){return i(e,(function(e,i,s){r=n?(n=!1,e):t(r,e,i,s)})),r}function kt(e,t){for(var r,n=-1,i=e.length;++n<i;){var s=t(e[n]);void 0!==s&&(r=void 0===r?s:r+s)}return r}function At(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Rt(e){return function(t){return e(t)}}function Pt(e,t){return ht(t,(function(t){return e[t]}))}function Tt(e,t){return e.has(t)}function Lt(e,t){for(var r=-1,n=e.length;++r<n&&bt(t,e[r],0)>-1;);return r}function Bt(e,t){for(var r=e.length;r--&&bt(t,e[r],0)>-1;);return r}function Ot(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Ft=_t({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Dt=_t({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function It(e){return"\\"+Ve[e]}function Nt(e){return Fe.test(e)}function $t(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function jt(e,t){return function(r){return e(t(r))}}function Vt(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];a!==t&&a!==s||(e[r]=s,o[i++]=r)}return o}function Wt(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function Ut(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function Ht(e){return Nt(e)?function(e){var t=Be.lastIndex=0;for(;Be.test(e);)++t;return t}(e):vt(e)}function qt(e){return Nt(e)?function(e){return e.match(Be)||[]}(e):function(e){return e.split("")}(e)}var zt=_t({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Kt=function e(t){var r,n=(t=null==t?ze:Kt.defaults(ze.Object(),t,Kt.pick(ze,Ie))).Array,de=t.Date,he=t.Error,fe=t.Function,pe=t.Math,ge=t.Object,me=t.RegExp,ve=t.String,ye=t.TypeError,we=n.prototype,be=fe.prototype,xe=ge.prototype,Ce=t["__core-js_shared__"],Se=be.toString,Me=xe.hasOwnProperty,_e=0,Ee=(r=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",ke=xe.toString,Ae=Se.call(ge),Re=ze._,Pe=me("^"+Se.call(Me).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=Je?t.Buffer:void 0,Fe=t.Symbol,Ve=t.Uint8Array,He=Be?Be.allocUnsafe:void 0,qe=jt(ge.getPrototypeOf,ge),Ke=ge.create,Ge=xe.propertyIsEnumerable,Ye=we.splice,Qe=Fe?Fe.isConcatSpreadable:void 0,vt=Fe?Fe.iterator:void 0,_t=Fe?Fe.toStringTag:void 0,Gt=function(){try{var e=Xi(ge,"defineProperty");return e({},"",{}),e}catch(e){}}(),Jt=t.clearTimeout!==ze.clearTimeout&&t.clearTimeout,Yt=de&&de.now!==ze.Date.now&&de.now,Qt=t.setTimeout!==ze.setTimeout&&t.setTimeout,Zt=pe.ceil,Xt=pe.floor,er=ge.getOwnPropertySymbols,tr=Be?Be.isBuffer:void 0,rr=t.isFinite,nr=we.join,ir=jt(ge.keys,ge),sr=pe.max,or=pe.min,ar=de.now,cr=t.parseInt,ur=pe.random,lr=we.reverse,dr=Xi(t,"DataView"),hr=Xi(t,"Map"),fr=Xi(t,"Promise"),pr=Xi(t,"Set"),gr=Xi(t,"WeakMap"),mr=Xi(ge,"create"),vr=gr&&new gr,yr={},wr=Es(dr),br=Es(hr),xr=Es(fr),Cr=Es(pr),Sr=Es(gr),Mr=Fe?Fe.prototype:void 0,_r=Mr?Mr.valueOf:void 0,Er=Mr?Mr.toString:void 0;function kr(e){if(Ho(e)&&!Bo(e)&&!(e instanceof Tr)){if(e instanceof Pr)return e;if(Me.call(e,"__wrapped__"))return ks(e)}return new Pr(e)}var Ar=function(){function e(){}return function(t){if(!Uo(t))return{};if(Ke)return Ke(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Rr(){}function Pr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Tr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Lr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Br(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Or(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Fr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Or;++t<r;)this.add(e[t])}function Dr(e){var t=this.__data__=new Br(e);this.size=t.size}function Ir(e,t){var r=Bo(e),n=!r&&Lo(e),i=!r&&!n&&Io(e),s=!r&&!n&&!i&&Zo(e),o=r||n||i||s,a=o?At(e.length,ve):[],c=a.length;for(var u in e)!t&&!Me.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||os(u,c))||a.push(u);return a}function Nr(e){var t=e.length;return t?e[Dn(0,t-1)]:void 0}function $r(e,t){return Ss(vi(e),Gr(t,0,e.length))}function jr(e){return Ss(vi(e))}function Vr(e,t,r){(void 0!==r&&!Ro(e[t],r)||void 0===r&&!(t in e))&&zr(e,t,r)}function Wr(e,t,r){var n=e[t];Me.call(e,t)&&Ro(n,r)&&(void 0!==r||t in e)||zr(e,t,r)}function Ur(e,t){for(var r=e.length;r--;)if(Ro(e[r][0],t))return r;return-1}function Hr(e,t,r,n){return Xr(e,(function(e,i,s){t(n,e,r(e),s)})),n}function qr(e,t){return e&&yi(t,ba(t),e)}function zr(e,t,r){"__proto__"==t&&Gt?Gt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Kr(e,t){for(var r=-1,i=t.length,s=n(i),o=null==e;++r<i;)s[r]=o?void 0:ga(e,t[r]);return s}function Gr(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}function Jr(e,t,r,n,i,s){var o,c=1&t,d=2&t,x=4&t;if(r&&(o=i?r(e,n,i,s):r(e)),void 0!==o)return o;if(!Uo(e))return e;var L=Bo(e);if(L){if(o=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!c)return vi(e,o)}else{var B=rs(e),O=B==h||B==f;if(Io(e))return di(e,c);if(B==m||B==a||O&&!i){if(o=d||O?{}:is(e),!c)return d?function(e,t){return yi(e,ts(e),t)}(e,function(e,t){return e&&yi(t,xa(t),e)}(o,e)):function(e,t){return yi(e,es(e),t)}(e,qr(o,e))}else{if(!je[B])return i?e:{};o=function(e,t,r){var n=e.constructor;switch(t){case C:return hi(e);case u:case l:return new n(+e);case S:return function(e,t){var r=t?hi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case M:case _:case E:case k:case A:case R:case"[object Uint8ClampedArray]":case P:case T:return fi(e,r);case p:return new n;case g:case w:return new n(e);case v:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return new n;case b:return i=e,_r?ge(_r.call(i)):{}}var i}(e,B,c)}}s||(s=new Dr);var F=s.get(e);if(F)return F;s.set(e,o),Jo(e)?e.forEach((function(n){o.add(Jr(n,t,r,n,e,s))})):qo(e)&&e.forEach((function(n,i){o.set(i,Jr(n,t,r,i,e,s))}));var D=L?void 0:(x?d?zi:qi:d?xa:ba)(e);return ot(D||e,(function(n,i){D&&(n=e[i=n]),Wr(o,i,Jr(n,t,r,i,e,s))})),o}function Yr(e,t,r){var n=r.length;if(null==e)return!n;for(e=ge(e);n--;){var i=r[n],s=t[i],o=e[i];if(void 0===o&&!(i in e)||!s(o))return!1}return!0}function Qr(e,t,r){if("function"!=typeof e)throw new ye(i);return ws((function(){e.apply(void 0,r)}),t)}function Zr(e,t,r,n){var i=-1,s=lt,o=!0,a=e.length,c=[],u=t.length;if(!a)return c;r&&(t=ht(t,Rt(r))),n?(s=dt,o=!1):t.length>=200&&(s=Tt,o=!1,t=new Fr(t));e:for(;++i<a;){var l=e[i],d=null==r?l:r(l);if(l=n||0!==l?l:0,o&&d==d){for(var h=u;h--;)if(t[h]===d)continue e;c.push(l)}else s(t,d,n)||c.push(l)}return c}kr.templateSettings={escape:$,evaluate:j,interpolate:V,variable:"",imports:{_:kr}},kr.prototype=Rr.prototype,kr.prototype.constructor=kr,Pr.prototype=Ar(Rr.prototype),Pr.prototype.constructor=Pr,Tr.prototype=Ar(Rr.prototype),Tr.prototype.constructor=Tr,Lr.prototype.clear=function(){this.__data__=mr?mr(null):{},this.size=0},Lr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Lr.prototype.get=function(e){var t=this.__data__;if(mr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Me.call(t,e)?t[e]:void 0},Lr.prototype.has=function(e){var t=this.__data__;return mr?void 0!==t[e]:Me.call(t,e)},Lr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=mr&&void 0===t?"__lodash_hash_undefined__":t,this},Br.prototype.clear=function(){this.__data__=[],this.size=0},Br.prototype.delete=function(e){var t=this.__data__,r=Ur(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ye.call(t,r,1),--this.size,!0)},Br.prototype.get=function(e){var t=this.__data__,r=Ur(t,e);return r<0?void 0:t[r][1]},Br.prototype.has=function(e){return Ur(this.__data__,e)>-1},Br.prototype.set=function(e,t){var r=this.__data__,n=Ur(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Or.prototype.clear=function(){this.size=0,this.__data__={hash:new Lr,map:new(hr||Br),string:new Lr}},Or.prototype.delete=function(e){var t=Qi(this,e).delete(e);return this.size-=t?1:0,t},Or.prototype.get=function(e){return Qi(this,e).get(e)},Or.prototype.has=function(e){return Qi(this,e).has(e)},Or.prototype.set=function(e,t){var r=Qi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Fr.prototype.add=Fr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Fr.prototype.has=function(e){return this.__data__.has(e)},Dr.prototype.clear=function(){this.__data__=new Br,this.size=0},Dr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Dr.prototype.get=function(e){return this.__data__.get(e)},Dr.prototype.has=function(e){return this.__data__.has(e)},Dr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Br){var n=r.__data__;if(!hr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Or(n)}return r.set(e,t),this.size=r.size,this};var Xr=xi(cn),en=xi(un,!0);function tn(e,t){var r=!0;return Xr(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function rn(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(null!=o&&(void 0===a?o==o&&!Qo(o):r(o,a)))var a=o,c=s}return c}function nn(e,t){var r=[];return Xr(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function sn(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=ss),i||(i=[]);++s<o;){var a=e[s];t>0&&r(a)?t>1?sn(a,t-1,r,n,i):ft(i,a):n||(i[i.length]=a)}return i}var on=Ci(),an=Ci(!0);function cn(e,t){return e&&on(e,t,ba)}function un(e,t){return e&&an(e,t,ba)}function ln(e,t){return ut(t,(function(t){return jo(e[t])}))}function dn(e,t){for(var r=0,n=(t=ai(t,e)).length;null!=e&&r<n;)e=e[_s(t[r++])];return r&&r==n?e:void 0}function hn(e,t,r){var n=t(e);return Bo(e)?n:ft(n,r(e))}function fn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_t&&_t in ge(e)?function(e){var t=Me.call(e,_t),r=e[_t];try{e[_t]=void 0;var n=!0}catch(e){}var i=ke.call(e);n&&(t?e[_t]=r:delete e[_t]);return i}(e):function(e){return ke.call(e)}(e)}function pn(e,t){return e>t}function gn(e,t){return null!=e&&Me.call(e,t)}function mn(e,t){return null!=e&&t in ge(e)}function vn(e,t,r){for(var i=r?dt:lt,s=e[0].length,o=e.length,a=o,c=n(o),u=1/0,l=[];a--;){var d=e[a];a&&t&&(d=ht(d,Rt(t))),u=or(d.length,u),c[a]=!r&&(t||s>=120&&d.length>=120)?new Fr(a&&d):void 0}d=e[0];var h=-1,f=c[0];e:for(;++h<s&&l.length<u;){var p=d[h],g=t?t(p):p;if(p=r||0!==p?p:0,!(f?Tt(f,g):i(l,g,r))){for(a=o;--a;){var m=c[a];if(!(m?Tt(m,g):i(e[a],g,r)))continue e}f&&f.push(g),l.push(p)}}return l}function yn(e,t,r){var n=null==(e=gs(e,t=ai(t,e)))?e:e[_s(Ns(t))];return null==n?void 0:it(n,e,r)}function wn(e){return Ho(e)&&fn(e)==a}function bn(e,t,r,n,i){return e===t||(null==e||null==t||!Ho(e)&&!Ho(t)?e!=e&&t!=t:function(e,t,r,n,i,s){var o=Bo(e),h=Bo(t),f=o?c:rs(e),x=h?c:rs(t),M=(f=f==a?m:f)==m,_=(x=x==a?m:x)==m,E=f==x;if(E&&Io(e)){if(!Io(t))return!1;o=!0,M=!1}if(E&&!M)return s||(s=new Dr),o||Zo(e)?Ui(e,t,r,n,i,s):function(e,t,r,n,i,s,o){switch(r){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!s(new Ve(e),new Ve(t)));case u:case l:case g:return Ro(+e,+t);case d:return e.name==t.name&&e.message==t.message;case v:case w:return e==t+"";case p:var a=$t;case y:var c=1&n;if(a||(a=Wt),e.size!=t.size&&!c)return!1;var h=o.get(e);if(h)return h==t;n|=2,o.set(e,t);var f=Ui(a(e),a(t),n,i,s,o);return o.delete(e),f;case b:if(_r)return _r.call(e)==_r.call(t)}return!1}(e,t,f,r,n,i,s);if(!(1&r)){var k=M&&Me.call(e,"__wrapped__"),A=_&&Me.call(t,"__wrapped__");if(k||A){var R=k?e.value():e,P=A?t.value():t;return s||(s=new Dr),i(R,P,r,n,s)}}if(!E)return!1;return s||(s=new Dr),function(e,t,r,n,i,s){var o=1&r,a=qi(e),c=a.length,u=qi(t).length;if(c!=u&&!o)return!1;var l=c;for(;l--;){var d=a[l];if(!(o?d in t:Me.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);var g=o;for(;++l<c;){d=a[l];var m=e[d],v=t[d];if(n)var y=o?n(v,m,d,t,e,s):n(m,v,d,e,t,s);if(!(void 0===y?m===v||i(m,v,r,n,s):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,r,n,i,s)}(e,t,r,n,bn,i))}function xn(e,t,r,n){var i=r.length,s=i,o=!n;if(null==e)return!s;for(e=ge(e);i--;){var a=r[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){var c=(a=r[i])[0],u=e[c],l=a[1];if(o&&a[2]){if(void 0===u&&!(c in e))return!1}else{var d=new Dr;if(n)var h=n(u,l,c,e,t,d);if(!(void 0===h?bn(l,u,3,n,d):h))return!1}}return!0}function Cn(e){return!(!Uo(e)||(t=e,Ee&&Ee in t))&&(jo(e)?Pe:se).test(Es(e));var t}function Sn(e){return"function"==typeof e?e:null==e?za:"object"==typeof e?Bo(e)?Rn(e[0],e[1]):An(e):tc(e)}function Mn(e){if(!ds(e))return ir(e);var t=[];for(var r in ge(e))Me.call(e,r)&&"constructor"!=r&&t.push(r);return t}function _n(e){if(!Uo(e))return function(e){var t=[];if(null!=e)for(var r in ge(e))t.push(r);return t}(e);var t=ds(e),r=[];for(var n in e)("constructor"!=n||!t&&Me.call(e,n))&&r.push(n);return r}function En(e,t){return e<t}function kn(e,t){var r=-1,i=Fo(e)?n(e.length):[];return Xr(e,(function(e,n,s){i[++r]=t(e,n,s)})),i}function An(e){var t=Zi(e);return 1==t.length&&t[0][2]?fs(t[0][0],t[0][1]):function(r){return r===e||xn(r,e,t)}}function Rn(e,t){return cs(e)&&hs(t)?fs(_s(e),t):function(r){var n=ga(r,e);return void 0===n&&n===t?ma(r,e):bn(t,n,3)}}function Pn(e,t,r,n,i){e!==t&&on(t,(function(s,o){if(i||(i=new Dr),Uo(s))!function(e,t,r,n,i,s,o){var a=vs(e,r),c=vs(t,r),u=o.get(c);if(u)return void Vr(e,r,u);var l=s?s(a,c,r+"",e,t,o):void 0,d=void 0===l;if(d){var h=Bo(c),f=!h&&Io(c),p=!h&&!f&&Zo(c);l=c,h||f||p?Bo(a)?l=a:Do(a)?l=vi(a):f?(d=!1,l=di(c,!0)):p?(d=!1,l=fi(c,!0)):l=[]:Ko(c)||Lo(c)?(l=a,Lo(a)?l=oa(a):Uo(a)&&!jo(a)||(l=is(c))):d=!1}d&&(o.set(c,l),i(l,c,n,s,o),o.delete(c));Vr(e,r,l)}(e,t,o,r,Pn,n,i);else{var a=n?n(vs(e,o),s,o+"",e,t,i):void 0;void 0===a&&(a=s),Vr(e,o,a)}}),xa)}function Tn(e,t){var r=e.length;if(r)return os(t+=t<0?r:0,r)?e[t]:void 0}function Ln(e,t,r){t=t.length?ht(t,(function(e){return Bo(e)?function(t){return dn(t,1===e.length?e[0]:e)}:e})):[za];var n=-1;return t=ht(t,Rt(Yi())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(kn(e,(function(e,r,i){return{criteria:ht(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,s=t.criteria,o=i.length,a=r.length;for(;++n<o;){var c=pi(i[n],s[n]);if(c){if(n>=a)return c;var u=r[n];return c*("desc"==u?-1:1)}}return e.index-t.index}(e,t,r)}))}function Bn(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var o=t[n],a=dn(e,o);r(a,o)&&Vn(s,ai(o,e),a)}return s}function On(e,t,r,n){var i=n?xt:bt,s=-1,o=t.length,a=e;for(e===t&&(t=vi(t)),r&&(a=ht(e,Rt(r)));++s<o;)for(var c=0,u=t[s],l=r?r(u):u;(c=i(a,l,c,n))>-1;)a!==e&&Ye.call(a,c,1),Ye.call(e,c,1);return e}function Fn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==s){var s=i;os(i)?Ye.call(e,i,1):Xn(e,i)}}return e}function Dn(e,t){return e+Xt(ur()*(t-e+1))}function In(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do{t%2&&(r+=e),(t=Xt(t/2))&&(e+=e)}while(t);return r}function Nn(e,t){return bs(ps(e,t,za),e+"")}function $n(e){return Nr(Ra(e))}function jn(e,t){var r=Ra(e);return Ss(r,Gr(t,0,r.length))}function Vn(e,t,r,n){if(!Uo(e))return e;for(var i=-1,s=(t=ai(t,e)).length,o=s-1,a=e;null!=a&&++i<s;){var c=_s(t[i]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=o){var l=a[c];void 0===(u=n?n(l,c,a):void 0)&&(u=Uo(l)?l:os(t[i+1])?[]:{})}Wr(a,c,u),a=a[c]}return e}var Wn=vr?function(e,t){return vr.set(e,t),e}:za,Un=Gt?function(e,t){return Gt(e,"toString",{configurable:!0,enumerable:!1,value:Ua(t),writable:!0})}:za;function Hn(e){return Ss(Ra(e))}function qn(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(r=r>s?s:r)<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var o=n(s);++i<s;)o[i]=e[i+t];return o}function zn(e,t){var r;return Xr(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function Kn(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var s=n+i>>>1,o=e[s];null!==o&&!Qo(o)&&(r?o<=t:o<t)?n=s+1:i=s}return i}return Gn(e,t,za,r)}function Gn(e,t,r,n){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=r(t))!=t,a=null===t,c=Qo(t),u=void 0===t;i<s;){var l=Xt((i+s)/2),d=r(e[l]),h=void 0!==d,f=null===d,p=d==d,g=Qo(d);if(o)var m=n||p;else m=u?p&&(n||h):a?p&&h&&(n||!f):c?p&&h&&!f&&(n||!g):!f&&!g&&(n?d<=t:d<t);m?i=l+1:s=l}return or(s,4294967294)}function Jn(e,t){for(var r=-1,n=e.length,i=0,s=[];++r<n;){var o=e[r],a=t?t(o):o;if(!r||!Ro(a,c)){var c=a;s[i++]=0===o?0:o}}return s}function Yn(e){return"number"==typeof e?e:Qo(e)?NaN:+e}function Qn(e){if("string"==typeof e)return e;if(Bo(e))return ht(e,Qn)+"";if(Qo(e))return Er?Er.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zn(e,t,r){var n=-1,i=lt,s=e.length,o=!0,a=[],c=a;if(r)o=!1,i=dt;else if(s>=200){var u=t?null:Ii(e);if(u)return Wt(u);o=!1,i=Tt,c=new Fr}else c=t?[]:a;e:for(;++n<s;){var l=e[n],d=t?t(l):l;if(l=r||0!==l?l:0,o&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),a.push(l)}else i(c,d,r)||(c!==a&&c.push(d),a.push(l))}return a}function Xn(e,t){return null==(e=gs(e,t=ai(t,e)))||delete e[_s(Ns(t))]}function ei(e,t,r,n){return Vn(e,t,r(dn(e,t)),n)}function ti(e,t,r,n){for(var i=e.length,s=n?i:-1;(n?s--:++s<i)&&t(e[s],s,e););return r?qn(e,n?0:s,n?s+1:i):qn(e,n?s+1:0,n?i:s)}function ri(e,t){var r=e;return r instanceof Tr&&(r=r.value()),pt(t,(function(e,t){return t.func.apply(t.thisArg,ft([e],t.args))}),r)}function ni(e,t,r){var i=e.length;if(i<2)return i?Zn(e[0]):[];for(var s=-1,o=n(i);++s<i;)for(var a=e[s],c=-1;++c<i;)c!=s&&(o[s]=Zr(o[s]||a,e[c],t,r));return Zn(sn(o,1),t,r)}function ii(e,t,r){for(var n=-1,i=e.length,s=t.length,o={};++n<i;){var a=n<s?t[n]:void 0;r(o,e[n],a)}return o}function si(e){return Do(e)?e:[]}function oi(e){return"function"==typeof e?e:za}function ai(e,t){return Bo(e)?e:cs(e,t)?[e]:Ms(aa(e))}var ci=Nn;function ui(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:qn(e,t,r)}var li=Jt||function(e){return ze.clearTimeout(e)};function di(e,t){if(t)return e.slice();var r=e.length,n=He?He(r):new e.constructor(r);return e.copy(n),n}function hi(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function fi(e,t){var r=t?hi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function pi(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,s=Qo(e),o=void 0!==t,a=null===t,c=t==t,u=Qo(t);if(!a&&!u&&!s&&e>t||s&&o&&c&&!a&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||a&&r&&i||!o&&i||!c)return-1}return 0}function gi(e,t,r,i){for(var s=-1,o=e.length,a=r.length,c=-1,u=t.length,l=sr(o-a,0),d=n(u+l),h=!i;++c<u;)d[c]=t[c];for(;++s<a;)(h||s<o)&&(d[r[s]]=e[s]);for(;l--;)d[c++]=e[s++];return d}function mi(e,t,r,i){for(var s=-1,o=e.length,a=-1,c=r.length,u=-1,l=t.length,d=sr(o-c,0),h=n(d+l),f=!i;++s<d;)h[s]=e[s];for(var p=s;++u<l;)h[p+u]=t[u];for(;++a<c;)(f||s<o)&&(h[p+r[a]]=e[s++]);return h}function vi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function yi(e,t,r,n){var i=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var a=t[s],c=n?n(r[a],e[a],a,r,e):void 0;void 0===c&&(c=e[a]),i?zr(r,a,c):Wr(r,a,c)}return r}function wi(e,t){return function(r,n){var i=Bo(r)?st:Hr,s=t?t():{};return i(r,e,Yi(n,2),s)}}function bi(e){return Nn((function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(i--,s):void 0,o&&as(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),t=ge(t);++n<i;){var a=r[n];a&&e(t,a,n,s)}return t}))}function xi(e,t){return function(r,n){if(null==r)return r;if(!Fo(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=ge(r);(t?s--:++s<i)&&!1!==n(o[s],s,o););return r}}function Ci(e){return function(t,r,n){for(var i=-1,s=ge(t),o=n(t),a=o.length;a--;){var c=o[e?a:++i];if(!1===r(s[c],c,s))break}return t}}function Si(e){return function(t){var r=Nt(t=aa(t))?qt(t):void 0,n=r?r[0]:t.charAt(0),i=r?ui(r,1).join(""):t.slice(1);return n[e]()+i}}function Mi(e){return function(t){return pt(ja(La(t).replace(Te,"")),e,"")}}function _i(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Ar(e.prototype),n=e.apply(r,t);return Uo(n)?n:r}}function Ei(e){return function(t,r,n){var i=ge(t);if(!Fo(t)){var s=Yi(r,3);t=ba(t),r=function(e){return s(i[e],e,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}function ki(e){return Hi((function(t){var r=t.length,n=r,s=Pr.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if("function"!=typeof o)throw new ye(i);if(s&&!a&&"wrapper"==Gi(o))var a=new Pr([],!0)}for(n=a?n:r;++n<r;){var c=Gi(o=t[n]),u="wrapper"==c?Ki(o):void 0;a=u&&us(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[Gi(u[0])].apply(a,u[3]):1==o.length&&us(o)?a[c]():a.thru(o)}return function(){var e=arguments,n=e[0];if(a&&1==e.length&&Bo(n))return a.plant(n).value();for(var i=0,s=r?t[i].apply(this,e):n;++i<r;)s=t[i].call(this,s);return s}}))}function Ai(e,t,r,i,s,o,a,c,u,l){var d=128&t,h=1&t,f=2&t,p=24&t,g=512&t,m=f?void 0:_i(e);return function v(){for(var y=arguments.length,w=n(y),b=y;b--;)w[b]=arguments[b];if(p)var x=Ji(v),C=Ot(w,x);if(i&&(w=gi(w,i,s,p)),o&&(w=mi(w,o,a,p)),y-=C,p&&y<l){var S=Vt(w,x);return Fi(e,t,Ai,v.placeholder,r,w,S,c,u,l-y)}var M=h?r:this,_=f?M[e]:e;return y=w.length,c?w=ms(w,c):g&&y>1&&w.reverse(),d&&u<y&&(w.length=u),this&&this!==ze&&this instanceof v&&(_=m||_i(_)),_.apply(M,w)}}function Ri(e,t){return function(r,n){return function(e,t,r,n){return cn(e,(function(e,i,s){t(n,r(e),i,s)})),n}(r,e,t(n),{})}}function Pi(e,t){return function(r,n){var i;if(void 0===r&&void 0===n)return t;if(void 0!==r&&(i=r),void 0!==n){if(void 0===i)return n;"string"==typeof r||"string"==typeof n?(r=Qn(r),n=Qn(n)):(r=Yn(r),n=Yn(n)),i=e(r,n)}return i}}function Ti(e){return Hi((function(t){return t=ht(t,Rt(Yi())),Nn((function(r){var n=this;return e(t,(function(e){return it(e,n,r)}))}))}))}function Li(e,t){var r=(t=void 0===t?" ":Qn(t)).length;if(r<2)return r?In(t,e):t;var n=In(t,Zt(e/Ht(t)));return Nt(t)?ui(qt(n),0,e).join(""):n.slice(0,e)}function Bi(e){return function(t,r,i){return i&&"number"!=typeof i&&as(t,r,i)&&(r=i=void 0),t=ra(t),void 0===r?(r=t,t=0):r=ra(r),function(e,t,r,i){for(var s=-1,o=sr(Zt((t-e)/(r||1)),0),a=n(o);o--;)a[i?o:++s]=e,e+=r;return a}(t,r,i=void 0===i?t<r?1:-1:ra(i),e)}}function Oi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=sa(t),r=sa(r)),e(t,r)}}function Fi(e,t,r,n,i,s,o,a,c,u){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var d=[e,t,i,l?s:void 0,l?o:void 0,l?void 0:s,l?void 0:o,a,c,u],h=r.apply(void 0,d);return us(e)&&ys(h,d),h.placeholder=n,xs(h,e,t)}function Di(e){var t=pe[e];return function(e,r){if(e=sa(e),(r=null==r?0:or(na(r),292))&&rr(e)){var n=(aa(e)+"e").split("e");return+((n=(aa(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Ii=pr&&1/Wt(new pr([,-0]))[1]==1/0?function(e){return new pr(e)}:Qa;function Ni(e){return function(t){var r=rs(t);return r==p?$t(t):r==y?Ut(t):function(e,t){return ht(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,r,o,a,c,u,l){var d=2&t;if(!d&&"function"!=typeof e)throw new ye(i);var h=o?o.length:0;if(h||(t&=-97,o=a=void 0),u=void 0===u?u:sr(na(u),0),l=void 0===l?l:na(l),h-=a?a.length:0,64&t){var f=o,p=a;o=a=void 0}var g=d?void 0:Ki(e),m=[e,t,r,o,a,f,p,c,u,l];if(g&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,a=128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!a)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?gi(u,c,t[4]):c,e[4]=u?Vt(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?mi(u,c,t[6]):c,e[6]=u?Vt(e[5],s):t[6]);(c=t[7])&&(e[7]=c);128&n&&(e[8]=null==e[8]?t[8]:or(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(m,g),e=m[0],t=m[1],r=m[2],o=m[3],a=m[4],!(l=m[9]=void 0===m[9]?d?0:e.length:sr(m[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,r){var i=_i(e);return function s(){for(var o=arguments.length,a=n(o),c=o,u=Ji(s);c--;)a[c]=arguments[c];var l=o<3&&a[0]!==u&&a[o-1]!==u?[]:Vt(a,u);if((o-=l.length)<r)return Fi(e,t,Ai,s.placeholder,void 0,a,l,void 0,void 0,r-o);var d=this&&this!==ze&&this instanceof s?i:e;return it(d,this,a)}}(e,t,l):32!=t&&33!=t||a.length?Ai.apply(void 0,m):function(e,t,r,i){var s=1&t,o=_i(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=i.length,d=n(l+c),h=this&&this!==ze&&this instanceof t?o:e;++u<l;)d[u]=i[u];for(;c--;)d[u++]=arguments[++a];return it(h,s?r:this,d)}}(e,t,r,o);else var v=function(e,t,r){var n=1&t,i=_i(e);return function t(){var s=this&&this!==ze&&this instanceof t?i:e;return s.apply(n?r:this,arguments)}}(e,t,r);return xs((g?Wn:ys)(v,m),e,t)}function ji(e,t,r,n){return void 0===e||Ro(e,xe[r])&&!Me.call(n,r)?t:e}function Vi(e,t,r,n,i,s){return Uo(e)&&Uo(t)&&(s.set(t,e),Pn(e,t,void 0,Vi,s),s.delete(t)),e}function Wi(e){return Ko(e)?void 0:e}function Ui(e,t,r,n,i,s){var o=1&r,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var u=s.get(e),l=s.get(t);if(u&&l)return u==t&&l==e;var d=-1,h=!0,f=2&r?new Fr:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var p=e[d],g=t[d];if(n)var m=o?n(g,p,d,t,e,s):n(p,g,d,e,t,s);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!mt(t,(function(e,t){if(!Tt(f,t)&&(p===e||i(p,e,r,n,s)))return f.push(t)}))){h=!1;break}}else if(p!==g&&!i(p,g,r,n,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Hi(e){return bs(ps(e,void 0,Bs),e+"")}function qi(e){return hn(e,ba,es)}function zi(e){return hn(e,xa,ts)}var Ki=vr?function(e){return vr.get(e)}:Qa;function Gi(e){for(var t=e.name+"",r=yr[t],n=Me.call(yr,t)?r.length:0;n--;){var i=r[n],s=i.func;if(null==s||s==e)return i.name}return t}function Ji(e){return(Me.call(kr,"placeholder")?kr:e).placeholder}function Yi(){var e=kr.iteratee||Ka;return e=e===Ka?Sn:e,arguments.length?e(arguments[0],arguments[1]):e}function Qi(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Zi(e){for(var t=ba(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,hs(i)]}return t}function Xi(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Cn(r)?r:void 0}var es=er?function(e){return null==e?[]:(e=ge(e),ut(er(e),(function(t){return Ge.call(e,t)})))}:ic,ts=er?function(e){for(var t=[];e;)ft(t,es(e)),e=qe(e);return t}:ic,rs=fn;function ns(e,t,r){for(var n=-1,i=(t=ai(t,e)).length,s=!1;++n<i;){var o=_s(t[n]);if(!(s=null!=e&&r(e,o)))break;e=e[o]}return s||++n!=i?s:!!(i=null==e?0:e.length)&&Wo(i)&&os(o,i)&&(Bo(e)||Lo(e))}function is(e){return"function"!=typeof e.constructor||ds(e)?{}:Ar(qe(e))}function ss(e){return Bo(e)||Lo(e)||!!(Qe&&e&&e[Qe])}function os(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&ae.test(e))&&e>-1&&e%1==0&&e<t}function as(e,t,r){if(!Uo(r))return!1;var n=typeof t;return!!("number"==n?Fo(r)&&os(t,r.length):"string"==n&&t in r)&&Ro(r[t],e)}function cs(e,t){if(Bo(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Qo(e))||(U.test(e)||!W.test(e)||null!=t&&e in ge(t))}function us(e){var t=Gi(e),r=kr[t];if("function"!=typeof r||!(t in Tr.prototype))return!1;if(e===r)return!0;var n=Ki(r);return!!n&&e===n[0]}(dr&&rs(new dr(new ArrayBuffer(1)))!=S||hr&&rs(new hr)!=p||fr&&"[object Promise]"!=rs(fr.resolve())||pr&&rs(new pr)!=y||gr&&rs(new gr)!=x)&&(rs=function(e){var t=fn(e),r=t==m?e.constructor:void 0,n=r?Es(r):"";if(n)switch(n){case wr:return S;case br:return p;case xr:return"[object Promise]";case Cr:return y;case Sr:return x}return t});var ls=Ce?jo:sc;function ds(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xe)}function hs(e){return e==e&&!Uo(e)}function fs(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in ge(r)))}}function ps(e,t,r){return t=sr(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,o=sr(i.length-t,0),a=n(o);++s<o;)a[s]=i[t+s];s=-1;for(var c=n(t+1);++s<t;)c[s]=i[s];return c[t]=r(a),it(e,this,c)}}function gs(e,t){return t.length<2?e:dn(e,qn(t,0,-1))}function ms(e,t){for(var r=e.length,n=or(t.length,r),i=vi(e);n--;){var s=t[n];e[n]=os(s,r)?i[s]:void 0}return e}function vs(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ys=Cs(Wn),ws=Qt||function(e,t){return ze.setTimeout(e,t)},bs=Cs(Un);function xs(e,t,r){var n=t+"";return bs(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return ot(o,(function(r){var n="_."+r[0];t&r[1]&&!lt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(Q);return t?t[1].split(Z):[]}(n),r)))}function Cs(e){var t=0,r=0;return function(){var n=ar(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ss(e,t){var r=-1,n=e.length,i=n-1;for(t=void 0===t?n:t;++r<t;){var s=Dn(r,i),o=e[s];e[s]=e[r],e[r]=o}return e.length=t,e}var Ms=function(e){var t=So(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(H,(function(e,r,n,i){t.push(n?i.replace(ee,"$1"):r||e)})),t}));function _s(e){if("string"==typeof e||Qo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Es(e){if(null!=e){try{return Se.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ks(e){if(e instanceof Tr)return e.clone();var t=new Pr(e.__wrapped__,e.__chain__);return t.__actions__=vi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var As=Nn((function(e,t){return Do(e)?Zr(e,sn(t,1,Do,!0)):[]})),Rs=Nn((function(e,t){var r=Ns(t);return Do(r)&&(r=void 0),Do(e)?Zr(e,sn(t,1,Do,!0),Yi(r,2)):[]})),Ps=Nn((function(e,t){var r=Ns(t);return Do(r)&&(r=void 0),Do(e)?Zr(e,sn(t,1,Do,!0),void 0,r):[]}));function Ts(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:na(r);return i<0&&(i=sr(n+i,0)),wt(e,Yi(t,3),i)}function Ls(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return void 0!==r&&(i=na(r),i=r<0?sr(n+i,0):or(i,n-1)),wt(e,Yi(t,3),i,!0)}function Bs(e){return(null==e?0:e.length)?sn(e,1):[]}function Os(e){return e&&e.length?e[0]:void 0}var Fs=Nn((function(e){var t=ht(e,si);return t.length&&t[0]===e[0]?vn(t):[]})),Ds=Nn((function(e){var t=Ns(e),r=ht(e,si);return t===Ns(r)?t=void 0:r.pop(),r.length&&r[0]===e[0]?vn(r,Yi(t,2)):[]})),Is=Nn((function(e){var t=Ns(e),r=ht(e,si);return(t="function"==typeof t?t:void 0)&&r.pop(),r.length&&r[0]===e[0]?vn(r,void 0,t):[]}));function Ns(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var $s=Nn(js);function js(e,t){return e&&e.length&&t&&t.length?On(e,t):e}var Vs=Hi((function(e,t){var r=null==e?0:e.length,n=Kr(e,t);return Fn(e,ht(t,(function(e){return os(e,r)?+e:e})).sort(pi)),n}));function Ws(e){return null==e?e:lr.call(e)}var Us=Nn((function(e){return Zn(sn(e,1,Do,!0))})),Hs=Nn((function(e){var t=Ns(e);return Do(t)&&(t=void 0),Zn(sn(e,1,Do,!0),Yi(t,2))})),qs=Nn((function(e){var t=Ns(e);return t="function"==typeof t?t:void 0,Zn(sn(e,1,Do,!0),void 0,t)}));function zs(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(Do(e))return t=sr(e.length,t),!0})),At(t,(function(t){return ht(e,Mt(t))}))}function Ks(e,t){if(!e||!e.length)return[];var r=zs(e);return null==t?r:ht(r,(function(e){return it(t,void 0,e)}))}var Gs=Nn((function(e,t){return Do(e)?Zr(e,t):[]})),Js=Nn((function(e){return ni(ut(e,Do))})),Ys=Nn((function(e){var t=Ns(e);return Do(t)&&(t=void 0),ni(ut(e,Do),Yi(t,2))})),Qs=Nn((function(e){var t=Ns(e);return t="function"==typeof t?t:void 0,ni(ut(e,Do),void 0,t)})),Zs=Nn(zs);var Xs=Nn((function(e){var t=e.length,r=t>1?e[t-1]:void 0;return r="function"==typeof r?(e.pop(),r):void 0,Ks(e,r)}));function eo(e){var t=kr(e);return t.__chain__=!0,t}function to(e,t){return t(e)}var ro=Hi((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return Kr(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Tr&&os(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:to,args:[i],thisArg:void 0}),new Pr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var no=wi((function(e,t,r){Me.call(e,r)?++e[r]:zr(e,r,1)}));var io=Ei(Ts),so=Ei(Ls);function oo(e,t){return(Bo(e)?ot:Xr)(e,Yi(t,3))}function ao(e,t){return(Bo(e)?at:en)(e,Yi(t,3))}var co=wi((function(e,t,r){Me.call(e,r)?e[r].push(t):zr(e,r,[t])}));var uo=Nn((function(e,t,r){var i=-1,s="function"==typeof t,o=Fo(e)?n(e.length):[];return Xr(e,(function(e){o[++i]=s?it(t,e,r):yn(e,t,r)})),o})),lo=wi((function(e,t,r){zr(e,r,t)}));function ho(e,t){return(Bo(e)?ht:kn)(e,Yi(t,3))}var fo=wi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var po=Nn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&as(e,t[0],t[1])?t=[]:r>2&&as(t[0],t[1],t[2])&&(t=[t[0]]),Ln(e,sn(t,1),[])})),go=Yt||function(){return ze.Date.now()};function mo(e,t,r){return t=r?void 0:t,$i(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function vo(e,t){var r;if("function"!=typeof t)throw new ye(i);return e=na(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var yo=Nn((function(e,t,r){var n=1;if(r.length){var i=Vt(r,Ji(yo));n|=32}return $i(e,n,t,r,i)})),wo=Nn((function(e,t,r){var n=3;if(r.length){var i=Vt(r,Ji(wo));n|=32}return $i(t,n,e,r,i)}));function bo(e,t,r){var n,s,o,a,c,u,l=0,d=!1,h=!1,f=!0;if("function"!=typeof e)throw new ye(i);function p(t){var r=n,i=s;return n=s=void 0,l=t,a=e.apply(i,r)}function g(e){return l=e,c=ws(v,t),d?p(e):a}function m(e){var r=e-u;return void 0===u||r>=t||r<0||h&&e-l>=o}function v(){var e=go();if(m(e))return y(e);c=ws(v,function(e){var r=t-(e-u);return h?or(r,o-(e-l)):r}(e))}function y(e){return c=void 0,f&&n?p(e):(n=s=void 0,a)}function w(){var e=go(),r=m(e);if(n=arguments,s=this,u=e,r){if(void 0===c)return g(u);if(h)return li(c),c=ws(v,t),p(u)}return void 0===c&&(c=ws(v,t)),a}return t=sa(t)||0,Uo(r)&&(d=!!r.leading,o=(h="maxWait"in r)?sr(sa(r.maxWait)||0,t):o,f="trailing"in r?!!r.trailing:f),w.cancel=function(){void 0!==c&&li(c),l=0,n=u=s=c=void 0},w.flush=function(){return void 0===c?a:y(go())},w}var xo=Nn((function(e,t){return Qr(e,1,t)})),Co=Nn((function(e,t,r){return Qr(e,sa(t)||0,r)}));function So(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(So.Cache||Or),r}function Mo(e){if("function"!=typeof e)throw new ye(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}So.Cache=Or;var _o=ci((function(e,t){var r=(t=1==t.length&&Bo(t[0])?ht(t[0],Rt(Yi())):ht(sn(t,1),Rt(Yi()))).length;return Nn((function(n){for(var i=-1,s=or(n.length,r);++i<s;)n[i]=t[i].call(this,n[i]);return it(e,this,n)}))})),Eo=Nn((function(e,t){return $i(e,32,void 0,t,Vt(t,Ji(Eo)))})),ko=Nn((function(e,t){return $i(e,64,void 0,t,Vt(t,Ji(ko)))})),Ao=Hi((function(e,t){return $i(e,256,void 0,void 0,void 0,t)}));function Ro(e,t){return e===t||e!=e&&t!=t}var Po=Oi(pn),To=Oi((function(e,t){return e>=t})),Lo=wn(function(){return arguments}())?wn:function(e){return Ho(e)&&Me.call(e,"callee")&&!Ge.call(e,"callee")},Bo=n.isArray,Oo=Ze?Rt(Ze):function(e){return Ho(e)&&fn(e)==C};function Fo(e){return null!=e&&Wo(e.length)&&!jo(e)}function Do(e){return Ho(e)&&Fo(e)}var Io=tr||sc,No=Xe?Rt(Xe):function(e){return Ho(e)&&fn(e)==l};function $o(e){if(!Ho(e))return!1;var t=fn(e);return t==d||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ko(e)}function jo(e){if(!Uo(e))return!1;var t=fn(e);return t==h||t==f||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Vo(e){return"number"==typeof e&&e==na(e)}function Wo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Uo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ho(e){return null!=e&&"object"==typeof e}var qo=et?Rt(et):function(e){return Ho(e)&&rs(e)==p};function zo(e){return"number"==typeof e||Ho(e)&&fn(e)==g}function Ko(e){if(!Ho(e)||fn(e)!=m)return!1;var t=qe(e);if(null===t)return!0;var r=Me.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Se.call(r)==Ae}var Go=tt?Rt(tt):function(e){return Ho(e)&&fn(e)==v};var Jo=rt?Rt(rt):function(e){return Ho(e)&&rs(e)==y};function Yo(e){return"string"==typeof e||!Bo(e)&&Ho(e)&&fn(e)==w}function Qo(e){return"symbol"==typeof e||Ho(e)&&fn(e)==b}var Zo=nt?Rt(nt):function(e){return Ho(e)&&Wo(e.length)&&!!$e[fn(e)]};var Xo=Oi(En),ea=Oi((function(e,t){return e<=t}));function ta(e){if(!e)return[];if(Fo(e))return Yo(e)?qt(e):vi(e);if(vt&&e[vt])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[vt]());var t=rs(e);return(t==p?$t:t==y?Wt:Ra)(e)}function ra(e){return e?(e=sa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function na(e){var t=ra(e),r=t%1;return t==t?r?t-r:t:0}function ia(e){return e?Gr(na(e),0,4294967295):0}function sa(e){if("number"==typeof e)return e;if(Qo(e))return NaN;if(Uo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Uo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(K,"");var r=ie.test(e);return r||oe.test(e)?Ue(e.slice(2),r?2:8):ne.test(e)?NaN:+e}function oa(e){return yi(e,xa(e))}function aa(e){return null==e?"":Qn(e)}var ca=bi((function(e,t){if(ds(t)||Fo(t))yi(t,ba(t),e);else for(var r in t)Me.call(t,r)&&Wr(e,r,t[r])})),ua=bi((function(e,t){yi(t,xa(t),e)})),la=bi((function(e,t,r,n){yi(t,xa(t),e,n)})),da=bi((function(e,t,r,n){yi(t,ba(t),e,n)})),ha=Hi(Kr);var fa=Nn((function(e,t){e=ge(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&as(t[0],t[1],i)&&(n=1);++r<n;)for(var s=t[r],o=xa(s),a=-1,c=o.length;++a<c;){var u=o[a],l=e[u];(void 0===l||Ro(l,xe[u])&&!Me.call(e,u))&&(e[u]=s[u])}return e})),pa=Nn((function(e){return e.push(void 0,Vi),it(Sa,void 0,e)}));function ga(e,t,r){var n=null==e?void 0:dn(e,t);return void 0===n?r:n}function ma(e,t){return null!=e&&ns(e,t,mn)}var va=Ri((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ke.call(t)),e[t]=r}),Ua(za)),ya=Ri((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ke.call(t)),Me.call(e,t)?e[t].push(r):e[t]=[r]}),Yi),wa=Nn(yn);function ba(e){return Fo(e)?Ir(e):Mn(e)}function xa(e){return Fo(e)?Ir(e,!0):_n(e)}var Ca=bi((function(e,t,r){Pn(e,t,r)})),Sa=bi((function(e,t,r,n){Pn(e,t,r,n)})),Ma=Hi((function(e,t){var r={};if(null==e)return r;var n=!1;t=ht(t,(function(t){return t=ai(t,e),n||(n=t.length>1),t})),yi(e,zi(e),r),n&&(r=Jr(r,7,Wi));for(var i=t.length;i--;)Xn(r,t[i]);return r}));var _a=Hi((function(e,t){return null==e?{}:function(e,t){return Bn(e,t,(function(t,r){return ma(e,r)}))}(e,t)}));function Ea(e,t){if(null==e)return{};var r=ht(zi(e),(function(e){return[e]}));return t=Yi(t),Bn(e,r,(function(e,r){return t(e,r[0])}))}var ka=Ni(ba),Aa=Ni(xa);function Ra(e){return null==e?[]:Pt(e,ba(e))}var Pa=Mi((function(e,t,r){return t=t.toLowerCase(),e+(r?Ta(t):t)}));function Ta(e){return $a(aa(e).toLowerCase())}function La(e){return(e=aa(e))&&e.replace(ce,Ft).replace(Le,"")}var Ba=Mi((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Oa=Mi((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Fa=Si("toLowerCase");var Da=Mi((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Ia=Mi((function(e,t,r){return e+(r?" ":"")+$a(t)}));var Na=Mi((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),$a=Si("toUpperCase");function ja(e,t,r){return e=aa(e),void 0===(t=r?void 0:t)?function(e){return De.test(e)}(e)?function(e){return e.match(Oe)||[]}(e):function(e){return e.match(X)||[]}(e):e.match(t)||[]}var Va=Nn((function(e,t){try{return it(e,void 0,t)}catch(e){return $o(e)?e:new he(e)}})),Wa=Hi((function(e,t){return ot(t,(function(t){t=_s(t),zr(e,t,yo(e[t],e))})),e}));function Ua(e){return function(){return e}}var Ha=ki(),qa=ki(!0);function za(e){return e}function Ka(e){return Sn("function"==typeof e?e:Jr(e,1))}var Ga=Nn((function(e,t){return function(r){return yn(r,e,t)}})),Ja=Nn((function(e,t){return function(r){return yn(e,r,t)}}));function Ya(e,t,r){var n=ba(t),i=ln(t,n);null!=r||Uo(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=ln(t,ba(t)));var s=!(Uo(r)&&"chain"in r&&!r.chain),o=jo(e);return ot(i,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(s||t){var r=e(this.__wrapped__),i=r.__actions__=vi(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,ft([this.value()],arguments))})})),e}function Qa(){}var Za=Ti(ht),Xa=Ti(ct),ec=Ti(mt);function tc(e){return cs(e)?Mt(_s(e)):function(e){return function(t){return dn(t,e)}}(e)}var rc=Bi(),nc=Bi(!0);function ic(){return[]}function sc(){return!1}var oc=Pi((function(e,t){return e+t}),0),ac=Di("ceil"),cc=Pi((function(e,t){return e/t}),1),uc=Di("floor");var lc,dc=Pi((function(e,t){return e*t}),1),hc=Di("round"),fc=Pi((function(e,t){return e-t}),0);return kr.after=function(e,t){if("function"!=typeof t)throw new ye(i);return e=na(e),function(){if(--e<1)return t.apply(this,arguments)}},kr.ary=mo,kr.assign=ca,kr.assignIn=ua,kr.assignInWith=la,kr.assignWith=da,kr.at=ha,kr.before=vo,kr.bind=yo,kr.bindAll=Wa,kr.bindKey=wo,kr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Bo(e)?e:[e]},kr.chain=eo,kr.chunk=function(e,t,r){t=(r?as(e,t,r):void 0===t)?1:sr(na(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,o=0,a=n(Zt(i/t));s<i;)a[o++]=qn(e,s,s+=t);return a},kr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var s=e[t];s&&(i[n++]=s)}return i},kr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ft(Bo(r)?vi(r):[r],sn(t,1))},kr.cond=function(e){var t=null==e?0:e.length,r=Yi();return e=t?ht(e,(function(e){if("function"!=typeof e[1])throw new ye(i);return[r(e[0]),e[1]]})):[],Nn((function(r){for(var n=-1;++n<t;){var i=e[n];if(it(i[0],this,r))return it(i[1],this,r)}}))},kr.conforms=function(e){return function(e){var t=ba(e);return function(r){return Yr(r,e,t)}}(Jr(e,1))},kr.constant=Ua,kr.countBy=no,kr.create=function(e,t){var r=Ar(e);return null==t?r:qr(r,t)},kr.curry=function e(t,r,n){var i=$i(t,8,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},kr.curryRight=function e(t,r,n){var i=$i(t,16,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},kr.debounce=bo,kr.defaults=fa,kr.defaultsDeep=pa,kr.defer=xo,kr.delay=Co,kr.difference=As,kr.differenceBy=Rs,kr.differenceWith=Ps,kr.drop=function(e,t,r){var n=null==e?0:e.length;return n?qn(e,(t=r||void 0===t?1:na(t))<0?0:t,n):[]},kr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?qn(e,0,(t=n-(t=r||void 0===t?1:na(t)))<0?0:t):[]},kr.dropRightWhile=function(e,t){return e&&e.length?ti(e,Yi(t,3),!0,!0):[]},kr.dropWhile=function(e,t){return e&&e.length?ti(e,Yi(t,3),!0):[]},kr.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&as(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=na(r))<0&&(r=-r>i?0:i+r),(n=void 0===n||n>i?i:na(n))<0&&(n+=i),n=r>n?0:ia(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},kr.filter=function(e,t){return(Bo(e)?ut:nn)(e,Yi(t,3))},kr.flatMap=function(e,t){return sn(ho(e,t),1)},kr.flatMapDeep=function(e,t){return sn(ho(e,t),1/0)},kr.flatMapDepth=function(e,t,r){return r=void 0===r?1:na(r),sn(ho(e,t),r)},kr.flatten=Bs,kr.flattenDeep=function(e){return(null==e?0:e.length)?sn(e,1/0):[]},kr.flattenDepth=function(e,t){return(null==e?0:e.length)?sn(e,t=void 0===t?1:na(t)):[]},kr.flip=function(e){return $i(e,512)},kr.flow=Ha,kr.flowRight=qa,kr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},kr.functions=function(e){return null==e?[]:ln(e,ba(e))},kr.functionsIn=function(e){return null==e?[]:ln(e,xa(e))},kr.groupBy=co,kr.initial=function(e){return(null==e?0:e.length)?qn(e,0,-1):[]},kr.intersection=Fs,kr.intersectionBy=Ds,kr.intersectionWith=Is,kr.invert=va,kr.invertBy=ya,kr.invokeMap=uo,kr.iteratee=Ka,kr.keyBy=lo,kr.keys=ba,kr.keysIn=xa,kr.map=ho,kr.mapKeys=function(e,t){var r={};return t=Yi(t,3),cn(e,(function(e,n,i){zr(r,t(e,n,i),e)})),r},kr.mapValues=function(e,t){var r={};return t=Yi(t,3),cn(e,(function(e,n,i){zr(r,n,t(e,n,i))})),r},kr.matches=function(e){return An(Jr(e,1))},kr.matchesProperty=function(e,t){return Rn(e,Jr(t,1))},kr.memoize=So,kr.merge=Ca,kr.mergeWith=Sa,kr.method=Ga,kr.methodOf=Ja,kr.mixin=Ya,kr.negate=Mo,kr.nthArg=function(e){return e=na(e),Nn((function(t){return Tn(t,e)}))},kr.omit=Ma,kr.omitBy=function(e,t){return Ea(e,Mo(Yi(t)))},kr.once=function(e){return vo(2,e)},kr.orderBy=function(e,t,r,n){return null==e?[]:(Bo(t)||(t=null==t?[]:[t]),Bo(r=n?void 0:r)||(r=null==r?[]:[r]),Ln(e,t,r))},kr.over=Za,kr.overArgs=_o,kr.overEvery=Xa,kr.overSome=ec,kr.partial=Eo,kr.partialRight=ko,kr.partition=fo,kr.pick=_a,kr.pickBy=Ea,kr.property=tc,kr.propertyOf=function(e){return function(t){return null==e?void 0:dn(e,t)}},kr.pull=$s,kr.pullAll=js,kr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?On(e,t,Yi(r,2)):e},kr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?On(e,t,void 0,r):e},kr.pullAt=Vs,kr.range=rc,kr.rangeRight=nc,kr.rearg=Ao,kr.reject=function(e,t){return(Bo(e)?ut:nn)(e,Mo(Yi(t,3)))},kr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],s=e.length;for(t=Yi(t,3);++n<s;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return Fn(e,i),r},kr.rest=function(e,t){if("function"!=typeof e)throw new ye(i);return Nn(e,t=void 0===t?t:na(t))},kr.reverse=Ws,kr.sampleSize=function(e,t,r){return t=(r?as(e,t,r):void 0===t)?1:na(t),(Bo(e)?$r:jn)(e,t)},kr.set=function(e,t,r){return null==e?e:Vn(e,t,r)},kr.setWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:Vn(e,t,r,n)},kr.shuffle=function(e){return(Bo(e)?jr:Hn)(e)},kr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&as(e,t,r)?(t=0,r=n):(t=null==t?0:na(t),r=void 0===r?n:na(r)),qn(e,t,r)):[]},kr.sortBy=po,kr.sortedUniq=function(e){return e&&e.length?Jn(e):[]},kr.sortedUniqBy=function(e,t){return e&&e.length?Jn(e,Yi(t,2)):[]},kr.split=function(e,t,r){return r&&"number"!=typeof r&&as(e,t,r)&&(t=r=void 0),(r=void 0===r?4294967295:r>>>0)?(e=aa(e))&&("string"==typeof t||null!=t&&!Go(t))&&!(t=Qn(t))&&Nt(e)?ui(qt(e),0,r):e.split(t,r):[]},kr.spread=function(e,t){if("function"!=typeof e)throw new ye(i);return t=null==t?0:sr(na(t),0),Nn((function(r){var n=r[t],i=ui(r,0,t);return n&&ft(i,n),it(e,this,i)}))},kr.tail=function(e){var t=null==e?0:e.length;return t?qn(e,1,t):[]},kr.take=function(e,t,r){return e&&e.length?qn(e,0,(t=r||void 0===t?1:na(t))<0?0:t):[]},kr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?qn(e,(t=n-(t=r||void 0===t?1:na(t)))<0?0:t,n):[]},kr.takeRightWhile=function(e,t){return e&&e.length?ti(e,Yi(t,3),!1,!0):[]},kr.takeWhile=function(e,t){return e&&e.length?ti(e,Yi(t,3)):[]},kr.tap=function(e,t){return t(e),e},kr.throttle=function(e,t,r){var n=!0,s=!0;if("function"!=typeof e)throw new ye(i);return Uo(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),bo(e,t,{leading:n,maxWait:t,trailing:s})},kr.thru=to,kr.toArray=ta,kr.toPairs=ka,kr.toPairsIn=Aa,kr.toPath=function(e){return Bo(e)?ht(e,_s):Qo(e)?[e]:vi(Ms(aa(e)))},kr.toPlainObject=oa,kr.transform=function(e,t,r){var n=Bo(e),i=n||Io(e)||Zo(e);if(t=Yi(t,4),null==r){var s=e&&e.constructor;r=i?n?new s:[]:Uo(e)&&jo(s)?Ar(qe(e)):{}}return(i?ot:cn)(e,(function(e,n,i){return t(r,e,n,i)})),r},kr.unary=function(e){return mo(e,1)},kr.union=Us,kr.unionBy=Hs,kr.unionWith=qs,kr.uniq=function(e){return e&&e.length?Zn(e):[]},kr.uniqBy=function(e,t){return e&&e.length?Zn(e,Yi(t,2)):[]},kr.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Zn(e,void 0,t):[]},kr.unset=function(e,t){return null==e||Xn(e,t)},kr.unzip=zs,kr.unzipWith=Ks,kr.update=function(e,t,r){return null==e?e:ei(e,t,oi(r))},kr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:ei(e,t,oi(r),n)},kr.values=Ra,kr.valuesIn=function(e){return null==e?[]:Pt(e,xa(e))},kr.without=Gs,kr.words=ja,kr.wrap=function(e,t){return Eo(oi(t),e)},kr.xor=Js,kr.xorBy=Ys,kr.xorWith=Qs,kr.zip=Zs,kr.zipObject=function(e,t){return ii(e||[],t||[],Wr)},kr.zipObjectDeep=function(e,t){return ii(e||[],t||[],Vn)},kr.zipWith=Xs,kr.entries=ka,kr.entriesIn=Aa,kr.extend=ua,kr.extendWith=la,Ya(kr,kr),kr.add=oc,kr.attempt=Va,kr.camelCase=Pa,kr.capitalize=Ta,kr.ceil=ac,kr.clamp=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=sa(r))==r?r:0),void 0!==t&&(t=(t=sa(t))==t?t:0),Gr(sa(e),t,r)},kr.clone=function(e){return Jr(e,4)},kr.cloneDeep=function(e){return Jr(e,5)},kr.cloneDeepWith=function(e,t){return Jr(e,5,t="function"==typeof t?t:void 0)},kr.cloneWith=function(e,t){return Jr(e,4,t="function"==typeof t?t:void 0)},kr.conformsTo=function(e,t){return null==t||Yr(e,t,ba(t))},kr.deburr=La,kr.defaultTo=function(e,t){return null==e||e!=e?t:e},kr.divide=cc,kr.endsWith=function(e,t,r){e=aa(e),t=Qn(t);var n=e.length,i=r=void 0===r?n:Gr(na(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},kr.eq=Ro,kr.escape=function(e){return(e=aa(e))&&N.test(e)?e.replace(D,Dt):e},kr.escapeRegExp=function(e){return(e=aa(e))&&z.test(e)?e.replace(q,"\\$&"):e},kr.every=function(e,t,r){var n=Bo(e)?ct:tn;return r&&as(e,t,r)&&(t=void 0),n(e,Yi(t,3))},kr.find=io,kr.findIndex=Ts,kr.findKey=function(e,t){return yt(e,Yi(t,3),cn)},kr.findLast=so,kr.findLastIndex=Ls,kr.findLastKey=function(e,t){return yt(e,Yi(t,3),un)},kr.floor=uc,kr.forEach=oo,kr.forEachRight=ao,kr.forIn=function(e,t){return null==e?e:on(e,Yi(t,3),xa)},kr.forInRight=function(e,t){return null==e?e:an(e,Yi(t,3),xa)},kr.forOwn=function(e,t){return e&&cn(e,Yi(t,3))},kr.forOwnRight=function(e,t){return e&&un(e,Yi(t,3))},kr.get=ga,kr.gt=Po,kr.gte=To,kr.has=function(e,t){return null!=e&&ns(e,t,gn)},kr.hasIn=ma,kr.head=Os,kr.identity=za,kr.includes=function(e,t,r,n){e=Fo(e)?e:Ra(e),r=r&&!n?na(r):0;var i=e.length;return r<0&&(r=sr(i+r,0)),Yo(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&bt(e,t,r)>-1},kr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:na(r);return i<0&&(i=sr(n+i,0)),bt(e,t,i)},kr.inRange=function(e,t,r){return t=ra(t),void 0===r?(r=t,t=0):r=ra(r),function(e,t,r){return e>=or(t,r)&&e<sr(t,r)}(e=sa(e),t,r)},kr.invoke=wa,kr.isArguments=Lo,kr.isArray=Bo,kr.isArrayBuffer=Oo,kr.isArrayLike=Fo,kr.isArrayLikeObject=Do,kr.isBoolean=function(e){return!0===e||!1===e||Ho(e)&&fn(e)==u},kr.isBuffer=Io,kr.isDate=No,kr.isElement=function(e){return Ho(e)&&1===e.nodeType&&!Ko(e)},kr.isEmpty=function(e){if(null==e)return!0;if(Fo(e)&&(Bo(e)||"string"==typeof e||"function"==typeof e.splice||Io(e)||Zo(e)||Lo(e)))return!e.length;var t=rs(e);if(t==p||t==y)return!e.size;if(ds(e))return!Mn(e).length;for(var r in e)if(Me.call(e,r))return!1;return!0},kr.isEqual=function(e,t){return bn(e,t)},kr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:void 0)?r(e,t):void 0;return void 0===n?bn(e,t,void 0,r):!!n},kr.isError=$o,kr.isFinite=function(e){return"number"==typeof e&&rr(e)},kr.isFunction=jo,kr.isInteger=Vo,kr.isLength=Wo,kr.isMap=qo,kr.isMatch=function(e,t){return e===t||xn(e,t,Zi(t))},kr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:void 0,xn(e,t,Zi(t),r)},kr.isNaN=function(e){return zo(e)&&e!=+e},kr.isNative=function(e){if(ls(e))throw new he("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Cn(e)},kr.isNil=function(e){return null==e},kr.isNull=function(e){return null===e},kr.isNumber=zo,kr.isObject=Uo,kr.isObjectLike=Ho,kr.isPlainObject=Ko,kr.isRegExp=Go,kr.isSafeInteger=function(e){return Vo(e)&&e>=-9007199254740991&&e<=9007199254740991},kr.isSet=Jo,kr.isString=Yo,kr.isSymbol=Qo,kr.isTypedArray=Zo,kr.isUndefined=function(e){return void 0===e},kr.isWeakMap=function(e){return Ho(e)&&rs(e)==x},kr.isWeakSet=function(e){return Ho(e)&&"[object WeakSet]"==fn(e)},kr.join=function(e,t){return null==e?"":nr.call(e,t)},kr.kebabCase=Ba,kr.last=Ns,kr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return void 0!==r&&(i=(i=na(r))<0?sr(n+i,0):or(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):wt(e,Ct,i,!0)},kr.lowerCase=Oa,kr.lowerFirst=Fa,kr.lt=Xo,kr.lte=ea,kr.max=function(e){return e&&e.length?rn(e,za,pn):void 0},kr.maxBy=function(e,t){return e&&e.length?rn(e,Yi(t,2),pn):void 0},kr.mean=function(e){return St(e,za)},kr.meanBy=function(e,t){return St(e,Yi(t,2))},kr.min=function(e){return e&&e.length?rn(e,za,En):void 0},kr.minBy=function(e,t){return e&&e.length?rn(e,Yi(t,2),En):void 0},kr.stubArray=ic,kr.stubFalse=sc,kr.stubObject=function(){return{}},kr.stubString=function(){return""},kr.stubTrue=function(){return!0},kr.multiply=dc,kr.nth=function(e,t){return e&&e.length?Tn(e,na(t)):void 0},kr.noConflict=function(){return ze._===this&&(ze._=Re),this},kr.noop=Qa,kr.now=go,kr.pad=function(e,t,r){e=aa(e);var n=(t=na(t))?Ht(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Li(Xt(i),r)+e+Li(Zt(i),r)},kr.padEnd=function(e,t,r){e=aa(e);var n=(t=na(t))?Ht(e):0;return t&&n<t?e+Li(t-n,r):e},kr.padStart=function(e,t,r){e=aa(e);var n=(t=na(t))?Ht(e):0;return t&&n<t?Li(t-n,r)+e:e},kr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),cr(aa(e).replace(G,""),t||0)},kr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&as(e,t,r)&&(t=r=void 0),void 0===r&&("boolean"==typeof t?(r=t,t=void 0):"boolean"==typeof e&&(r=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ra(e),void 0===t?(t=e,e=0):t=ra(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=ur();return or(e+i*(t-e+We("1e-"+((i+"").length-1))),t)}return Dn(e,t)},kr.reduce=function(e,t,r){var n=Bo(e)?pt:Et,i=arguments.length<3;return n(e,Yi(t,4),r,i,Xr)},kr.reduceRight=function(e,t,r){var n=Bo(e)?gt:Et,i=arguments.length<3;return n(e,Yi(t,4),r,i,en)},kr.repeat=function(e,t,r){return t=(r?as(e,t,r):void 0===t)?1:na(t),In(aa(e),t)},kr.replace=function(){var e=arguments,t=aa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},kr.result=function(e,t,r){var n=-1,i=(t=ai(t,e)).length;for(i||(i=1,e=void 0);++n<i;){var s=null==e?void 0:e[_s(t[n])];void 0===s&&(n=i,s=r),e=jo(s)?s.call(e):s}return e},kr.round=hc,kr.runInContext=e,kr.sample=function(e){return(Bo(e)?Nr:$n)(e)},kr.size=function(e){if(null==e)return 0;if(Fo(e))return Yo(e)?Ht(e):e.length;var t=rs(e);return t==p||t==y?e.size:Mn(e).length},kr.snakeCase=Da,kr.some=function(e,t,r){var n=Bo(e)?mt:zn;return r&&as(e,t,r)&&(t=void 0),n(e,Yi(t,3))},kr.sortedIndex=function(e,t){return Kn(e,t)},kr.sortedIndexBy=function(e,t,r){return Gn(e,t,Yi(r,2))},kr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Kn(e,t);if(n<r&&Ro(e[n],t))return n}return-1},kr.sortedLastIndex=function(e,t){return Kn(e,t,!0)},kr.sortedLastIndexBy=function(e,t,r){return Gn(e,t,Yi(r,2),!0)},kr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=Kn(e,t,!0)-1;if(Ro(e[r],t))return r}return-1},kr.startCase=Ia,kr.startsWith=function(e,t,r){return e=aa(e),r=null==r?0:Gr(na(r),0,e.length),t=Qn(t),e.slice(r,r+t.length)==t},kr.subtract=fc,kr.sum=function(e){return e&&e.length?kt(e,za):0},kr.sumBy=function(e,t){return e&&e.length?kt(e,Yi(t,2)):0},kr.template=function(e,t,r){var n=kr.templateSettings;r&&as(e,t,r)&&(t=void 0),e=aa(e),t=la({},t,n,ji);var i,s,o=la({},t.imports,n.imports,ji),a=ba(o),c=Pt(o,a),u=0,l=t.interpolate||ue,d="__p += '",h=me((t.escape||ue).source+"|"+l.source+"|"+(l===V?te:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),f="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ne+"]")+"\n";e.replace(h,(function(t,r,n,o,a,c){return n||(n=o),d+=e.slice(u,c).replace(le,It),r&&(i=!0,d+="' +\n__e("+r+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),d+="';\n";var p=Me.call(t,"variable")&&t.variable;p||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(L,""):d).replace(B,"$1").replace(O,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Va((function(){return fe(a,f+"return "+d).apply(void 0,c)}));if(g.source=d,$o(g))throw g;return g},kr.times=function(e,t){if((e=na(e))<1||e>9007199254740991)return[];var r=4294967295,n=or(e,4294967295);e-=4294967295;for(var i=At(n,t=Yi(t));++r<e;)t(r);return i},kr.toFinite=ra,kr.toInteger=na,kr.toLength=ia,kr.toLower=function(e){return aa(e).toLowerCase()},kr.toNumber=sa,kr.toSafeInteger=function(e){return e?Gr(na(e),-9007199254740991,9007199254740991):0===e?e:0},kr.toString=aa,kr.toUpper=function(e){return aa(e).toUpperCase()},kr.trim=function(e,t,r){if((e=aa(e))&&(r||void 0===t))return e.replace(K,"");if(!e||!(t=Qn(t)))return e;var n=qt(e),i=qt(t);return ui(n,Lt(n,i),Bt(n,i)+1).join("")},kr.trimEnd=function(e,t,r){if((e=aa(e))&&(r||void 0===t))return e.replace(J,"");if(!e||!(t=Qn(t)))return e;var n=qt(e);return ui(n,0,Bt(n,qt(t))+1).join("")},kr.trimStart=function(e,t,r){if((e=aa(e))&&(r||void 0===t))return e.replace(G,"");if(!e||!(t=Qn(t)))return e;var n=qt(e);return ui(n,Lt(n,qt(t))).join("")},kr.truncate=function(e,t){var r=30,n="...";if(Uo(t)){var i="separator"in t?t.separator:i;r="length"in t?na(t.length):r,n="omission"in t?Qn(t.omission):n}var s=(e=aa(e)).length;if(Nt(e)){var o=qt(e);s=o.length}if(r>=s)return e;var a=r-Ht(n);if(a<1)return n;var c=o?ui(o,0,a).join(""):e.slice(0,a);if(void 0===i)return c+n;if(o&&(a+=c.length-a),Go(i)){if(e.slice(a).search(i)){var u,l=c;for(i.global||(i=me(i.source,aa(re.exec(i))+"g")),i.lastIndex=0;u=i.exec(l);)var d=u.index;c=c.slice(0,void 0===d?a:d)}}else if(e.indexOf(Qn(i),a)!=a){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+n},kr.unescape=function(e){return(e=aa(e))&&I.test(e)?e.replace(F,zt):e},kr.uniqueId=function(e){var t=++_e;return aa(e)+t},kr.upperCase=Na,kr.upperFirst=$a,kr.each=oo,kr.eachRight=ao,kr.first=Os,Ya(kr,(lc={},cn(kr,(function(e,t){Me.call(kr.prototype,t)||(lc[t]=e)})),lc),{chain:!1}),kr.VERSION="4.17.19",ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){kr[e].placeholder=kr})),ot(["drop","take"],(function(e,t){Tr.prototype[e]=function(r){r=void 0===r?1:sr(na(r),0);var n=this.__filtered__&&!t?new Tr(this):this.clone();return n.__filtered__?n.__takeCount__=or(r,n.__takeCount__):n.__views__.push({size:or(r,4294967295),type:e+(n.__dir__<0?"Right":"")}),n},Tr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),ot(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Tr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Yi(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),ot(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Tr.prototype[e]=function(){return this[r](1).value()[0]}})),ot(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Tr.prototype[e]=function(){return this.__filtered__?new Tr(this):this[r](1)}})),Tr.prototype.compact=function(){return this.filter(za)},Tr.prototype.find=function(e){return this.filter(e).head()},Tr.prototype.findLast=function(e){return this.reverse().find(e)},Tr.prototype.invokeMap=Nn((function(e,t){return"function"==typeof e?new Tr(this):this.map((function(r){return yn(r,e,t)}))})),Tr.prototype.reject=function(e){return this.filter(Mo(Yi(e)))},Tr.prototype.slice=function(e,t){e=na(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Tr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),void 0!==t&&(r=(t=na(t))<0?r.dropRight(-t):r.take(t-e)),r)},Tr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Tr.prototype.toArray=function(){return this.take(4294967295)},cn(Tr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=kr[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);i&&(kr.prototype[t]=function(){var t=this.__wrapped__,o=n?[1]:arguments,a=t instanceof Tr,c=o[0],u=a||Bo(t),l=function(e){var t=i.apply(kr,ft([e],o));return n&&d?t[0]:t};u&&r&&"function"==typeof c&&1!=c.length&&(a=u=!1);var d=this.__chain__,h=!!this.__actions__.length,f=s&&!d,p=a&&!h;if(!s&&u){t=p?t:new Tr(this);var g=e.apply(t,o);return g.__actions__.push({func:to,args:[l],thisArg:void 0}),new Pr(g,d)}return f&&p?e.apply(this,o):(g=this.thru(l),f?n?g.value()[0]:g.value():g)})})),ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=we[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);kr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Bo(i)?i:[],e)}return this[r]((function(r){return t.apply(Bo(r)?r:[],e)}))}})),cn(Tr.prototype,(function(e,t){var r=kr[t];if(r){var n=r.name+"";Me.call(yr,n)||(yr[n]=[]),yr[n].push({name:t,func:r})}})),yr[Ai(void 0,2).name]=[{name:"wrapper",func:void 0}],Tr.prototype.clone=function(){var e=new Tr(this.__wrapped__);return e.__actions__=vi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vi(this.__views__),e},Tr.prototype.reverse=function(){if(this.__filtered__){var e=new Tr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Tr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Bo(e),n=t<0,i=r?e.length:0,s=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var s=r[n],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=or(t,e+o);break;case"takeRight":e=sr(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,c=a-o,u=n?a:o-1,l=this.__iteratees__,d=l.length,h=0,f=or(c,this.__takeCount__);if(!r||!n&&i==c&&f==c)return ri(e,this.__actions__);var p=[];e:for(;c--&&h<f;){for(var g=-1,m=e[u+=t];++g<d;){var v=l[g],y=v.iteratee,w=v.type,b=y(m);if(2==w)m=b;else if(!b){if(1==w)continue e;break e}}p[h++]=m}return p},kr.prototype.at=ro,kr.prototype.chain=function(){return eo(this)},kr.prototype.commit=function(){return new Pr(this.value(),this.__chain__)},kr.prototype.next=function(){void 0===this.__values__&&(this.__values__=ta(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},kr.prototype.plant=function(e){for(var t,r=this;r instanceof Rr;){var n=ks(r);n.__index__=0,n.__values__=void 0,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},kr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Tr){var t=e;return this.__actions__.length&&(t=new Tr(this)),(t=t.reverse()).__actions__.push({func:to,args:[Ws],thisArg:void 0}),new Pr(t,this.__chain__)}return this.thru(Ws)},kr.prototype.toJSON=kr.prototype.valueOf=kr.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},kr.prototype.first=kr.prototype.head,vt&&(kr.prototype[vt]=function(){return this}),kr}();ze._=Kt,void 0===(n=function(){return Kt}.call(t,r,t,e))||(e.exports=n)}).call(this)}).call(this,r(72)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileCommand=t.FilePosition=void 0;const n=r(25),i=r(7),s=r(0),o=r(12),a=r(96),c=r(5),u=r(157);async function l(e){if(!s.window.activeTextEditor){return i.promisify(n.exists)(e.fsPath)}try{return await s.workspace.fs.stat(e),!0}catch{return!1}}var d;!function(e){e[e.NewWindowVerticalSplit=0]="NewWindowVerticalSplit",e[e.NewWindowHorizontalSplit=1]="NewWindowHorizontalSplit"}(d=t.FilePosition||(t.FilePosition={}));class h extends c.CommandBase{constructor(e){super(),this._logger=o.Logger.get("File"),this._arguments=e}get arguments(){return this._arguments}async execute(){if(this.arguments.bang)return void await s.commands.executeCommand("workbench.action.files.revert");const e=s.window.activeTextEditor.document.uri;let t=e.fsPath,r=!1;this.arguments.position===d.NewWindowVerticalSplit&&(await s.commands.executeCommand("workbench.action.splitEditorRight"),r=!0),this.arguments.position===d.NewWindowHorizontalSplit&&(await s.commands.executeCommand("workbench.action.splitEditorDown"),r=!0);let n=async function(){!0===r&&(await s.commands.executeCommand("workbench.action.previousEditor"),await s.commands.executeCommand("workbench.action.closeActiveEditor"))};if(void 0===this.arguments.name)return void(!0===this.arguments.createFileIfNotExists&&(await s.commands.executeCommand("workbench.action.files.newUntitledFile"),await n()));this.arguments.name&&"file"===e.scheme&&(this._arguments.name=u(this.arguments.name));let i=e;if(""===this.arguments.name){if(!0===r)return;const e=await s.window.showOpenDialog({});e&&e.length>0&&(i=e[0])}else{this._arguments.name=this.arguments.name.replace(/^file:\/\//,"");const r=!!s.env.remoteName,{fullPath:n,path:o}=a.getPathDetails(this.arguments.name,e,r);if(n!==t){const s=a.resolveUri(n,o.sep,e,r);if(null===s)return;let c=await l(s);if(c)i=s;else{const s=n+o.extname(t),u=a.resolveUri(s,o.sep,e,r);null!==u&&(c=await l(u),c&&(i=u))}if(!c){if(!this.arguments.createFileIfNotExists)return void this._logger.error(this.arguments.name+" does not exist.");i=s.with({scheme:"untitled"})}}}const o=await s.workspace.openTextDocument(i);s.window.showTextDocument(o),this.arguments.lineNumber&&s.window.activeTextEditor.revealRange(new s.Range(new s.Position(this.arguments.lineNumber,0),new s.Position(this.arguments.lineNumber,0))),await n()}}t.FileCommand=h},function(e,t){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,r){"use strict";const n=r(7),{LEVEL:i}=r(1),s=r(17),o=e.exports=function(e={}){if(s.call(this,e),!e.transport||"function"!=typeof e.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(e){this.emit("error",e,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};n.inherits(o,s),o.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);(!this.level||this.levels[this.level]>=this.levels[e[i]])&&this.transport.log(e[i],e.message,e,this._nop),r(null)},o.prototype._writev=function(e,t){for(let t=0;t<e.length;t++)this._accept(e[t])&&(this.transport.log(e[t].chunk[i],e[t].chunk.message,e[t].chunk,this._nop),e[t].callback());return t(null)},o.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},o.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(e,t,r){"use strict";const{Colorizer:n}=r(54);e.exports=e=>(n.addColors(e.colors||e),e)},function(e,t,r){"use strict";const{configs:n,LEVEL:i,MESSAGE:s}=r(1);class o{constructor(e={levels:n.npm.levels}){this.paddings=o.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){const t=Object.keys(e).map(e=>e.length);return Math.max(...t)}static paddingForLevel(e,t,r){const n=r+1-e.length,i=Math.floor(n/t.length);return`${t}${t.repeat(i)}`.slice(0,n)}static paddingForLevels(e,t=" "){const r=o.getLongestLevel(e);return Object.keys(e).reduce((e,n)=>(e[n]=o.paddingForLevel(n,t,r),e),{})}transform(e,t){return e.message=`${this.paddings[e[i]]}${e.message}`,e[s]&&(e[s]=`${this.paddings[e[i]]}${e[s]}`),e}}e.exports=e=>new o(e),e.exports.Padder=e.exports.Format=o},function(e,t,r){"use strict";var n=r(11);e.exports=n((function(e){return e.message="\t".concat(e.message),e}))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(45).Colorizer,o=r(58).Padder,a=r(1),c=a.configs,u=a.MESSAGE,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),t.levels||(t.levels=c.npm.levels),this.colorizer=new s(t),this.padder=new o(t),this.options=t}var t,r,a;return t=e,(r=[{key:"transform",value:function(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[u]="".concat(e.level,":").concat(e.message),e}}])&&i(t.prototype,r),a&&i(t,a),e}();e.exports=function(e){return new l(e)},e.exports.Format=l},function(e,t,r){"use strict";var n=r(11);function i(e){if(e.every(s))return function(t){for(var r=t,n=0;n<e.length;n++)if(!(r=e[n].transform(r,e[n].options)))return!1;return r}}function s(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=n(i(t)),o=s();return o.Format=s.Format,o},e.exports.cascade=i},function(e,t,r){"use strict";var n=r(11),i=r(1).MESSAGE,s=r(33);function o(e,t){return t instanceof Buffer?t.toString("base64"):"bigint"==typeof t?t.toString():t}e.exports=n((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i]=(t.stable?s.stableStringify:s)(e,t.replacer||o,t.space),e}))},function(e,t,r){"use strict";var n=r(11);e.exports=n((function(e,t){return t.message?(e.message="[".concat(t.label,"] ").concat(e.message),e):(e.label=t.label,e)}))},function(e,t,r){"use strict";var n=r(11),i=r(1).MESSAGE,s=r(33);e.exports=n((function(e){var t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=s(t),e}))},function(e,t,r){"use strict";var n=r(11);function i(e,t,r){var n,i,s,o=t.reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{}),a=Object.keys(e).reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{});return Object.assign(e,o,(s=a,(i=r)in(n={})?Object.defineProperty(n,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[i]=s,n)),e}function s(e,t,r){return e[r]=t.reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{}),e}e.exports=n((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="metadata";t.key&&(r=t.key);var n=[];return t.fillExcept||t.fillWith||(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?i(e,n,r):t.fillWith?s(e,t.fillWith,r):e}))},function(e,t,r){"use strict";var n=r(7).inspect,i=r(11),s=r(1),o=s.LEVEL,a=s.MESSAGE,c=s.SPLAT;e.exports=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},e);return delete r[o],delete r[a],delete r[c],e[a]=n(r,!1,t.depth||null,t.colorize),e}))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(1).MESSAGE,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=t}var t,r,s;return t=e,(r=[{key:"transform",value:function(e){return e[i]=this.template(e),e}}])&&n(t.prototype,r),s&&n(t,s),e}();e.exports=function(e){return new s(e)},e.exports.Printf=e.exports.Format=s},function(e,t,r){"use strict";var n=r(11),i=r(1).MESSAGE,s=r(33);e.exports=n((function(e){var t=s(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?"".concat(e.level,":").concat(r," ").concat(e.message," ").concat(t):"".concat(e.level,":").concat(r," ").concat(e.message),e}))},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(7),a=r(1).SPLAT,c=/%[scdjifoO%]/g,u=/%%/g,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}var t,r,i;return t=e,(r=[{key:"_splat",value:function(e,t){var r=e.message,i=e[a]||e.splat||[],s=r.match(u),c=s&&s.length||0,l=t.length-c-i.length,d=l<0?i.splice(l,-1*l):[],h=d.length;if(h)for(var f=0;f<h;f++)Object.assign(e,d[f]);return e.message=o.format.apply(o,[r].concat(n(i))),e}},{key:"transform",value:function(e){var t=e.message,r=e[a]||e.splat;if(!r||!r.length)return e;var n=t&&t.match&&t.match(c);if(!n&&(r||r.length)){var i=r.length>1?r.splice(0):r,s=i.length;if(s)for(var o=0;o<s;o++)Object.assign(e,i[o]);return e}return n?this._splat(e,n):e}}])&&s(t.prototype,r),i&&s(t,i),e}();e.exports=function(e){return new l(e)}},function(e,t,r){"use strict";var n=r(129),i=r(11);e.exports=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.format&&(e.timestamp="function"==typeof t.format?t.format():n.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e}))},function(e,t,r){"use strict";var n=r(55),i=r(11),s=r(1).MESSAGE;e.exports=i((function(e,t){return!1!==t.level&&(e.level=n.strip(e.level)),!1!==t.message&&(e.message=n.strip(e.message)),!1!==t.raw&&e[s]&&(e[s]=n.strip(e[s])),e}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={},e.exports=t.default},function(e,t,r){"use strict";var n=r(35).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,o||s.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){o=!1,d=!0,a||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return o&&!d?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",h),t.on("finish",l),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",p)}}},function(e,t,r){"use strict";const n=r(20),{configs:i}=r(1);t.cli=n.levels(i.cli),t.npm=n.levels(i.npm),t.syslog=n.levels(i.syslog),t.addColors=n.levels},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(261)),i=a(r(262)),s=a(r(34)),o=a(r(46));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,r){return(0,n.default)(e,(0,i.default)((0,s.default)(t)),r)}),3),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.join=t.readDirectory=t.resolveUri=t.getPathDetails=t.separatePath=void 0;const n=r(0),i=r(21),s=r(157);function o(e,t){if(t===i.win32.sep&&e[0]===t&&e[1]===t){if(-1===e.indexOf(t,2))return[e,""]}const r=e.lastIndexOf(t)+1,n=e.slice(r);return[e.slice(0,r),n]}function a(e,t,r,s){const o=t===i.win32.sep;if(o&&!/^(\\\\.+\\)|([a-zA-Z]:\\)/.test(e))return null;if(!o&&e[0]!==t)return null;const a=!s&&"untitled"===r.scheme;return o?n.Uri.file(e):r.with({scheme:a?"file":r.scheme,path:e})}t.separatePath=o,t.getPathDetails=function(e,t,r){let n;n="untitled"===t.scheme?i===i.win32&&!r:"file"===t.scheme&&"/"!==t.fsPath[0];const a=n?i.win32:i.posix;n&&(e=e.replace(/\//g,"\\"));const c=e;("file"===t.scheme||"untitled"===t.scheme&&!r)&&(e=s(e));let u,[l,d]=o(e,a.sep);return u=a.isAbsolute(l)?l:a.join(o(n?t.fsPath:t.path,a.sep)[0],l),{fullPath:a.join(u,d),fullDirPath:u,dirName:l,baseName:d,partialPath:c,path:a}},t.resolveUri=a,t.readDirectory=async function(e,t,r,i,s){try{const o=a(e,t,r,i);return null===o?[]:(await n.workspace.fs.readDirectory(o)).map(e=>e[0]+(e[1]===n.FileType.Directory?t:"")).concat(s?["."+t,".."+t]:[])}catch{return[]}},t.join=function(...e){return i.join(...e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PairMatcher=void 0;const n=r(0),i=r(4),s=r(3),o=r(2);class a{static findPairedChar(e,t,r,n,o,c){let u=e.line,l=e.character,d=i.TextEditor.getLineCount(),h=i.TextEditor.getCharAt(e);if(c){let r=c.cursorStartPosition,n=c.cursorStopPosition;if(r.isEqual(n)&&h===t)return e}for(;a.keepSearching(u,d,o);){let a=i.TextEditor.getLine(u).text.split("");const c=a.length;for(u===e.line&&(a=o?a.slice(l+1,c):a.slice(0,l));!(a.length<=0||n<=-1);){let e;if(e=o?a.shift():a.pop(),e===r)n++;else{if(e!==t)continue;n--}}if(n<=-1){let e;return e=o?Math.max(0,c-a.length-1):a.length,new s.Position(u,e)}o?u++:u--}}static keepSearching(e,t,r){return r?e<=t-1:e>=0}static nextPairedChar(e,t,r){const n=this.pairings[t];if(void 0===n||n.directionless)return;let i;const s=n.match,o=t;return i=a.findPairedChar(e,s,o,0,n.isNextMatchForward,r),i||void 0}static shouldDeleteMatchingBracket(e){const t="bracket"===e?"editor.autoClosingBrackets":"editor.autoClosingQuotes",r=o.configuration.getConfiguration().get(t);return"never"!==r}static immediateMatchingBracket(e){if(e.isLineEnd())return;const t=(this.shouldDeleteMatchingBracket("bracket")?"{[(":"")+(this.shouldDeleteMatchingBracket("quote")?"\"'`":""),r=new n.Range(e,e.getLeftThroughLineBreaks()),i=n.window.activeTextEditor.document.getText(r);let s,o=!1;if(t.includes(i)){const t=e.getRight();s=new n.Range(t,t.getLeftThroughLineBreaks()),o=n.window.activeTextEditor.document.getText(s)===a.pairings[i].match}return o&&s?s:void 0}}t.PairMatcher=a,a.pairings={"(":{match:")",isNextMatchForward:!0,matchesWithPercentageMotion:!0},"{":{match:"}",isNextMatchForward:!0,matchesWithPercentageMotion:!0},"[":{match:"]",isNextMatchForward:!0,matchesWithPercentageMotion:!0},")":{match:"(",isNextMatchForward:!1,matchesWithPercentageMotion:!0},"}":{match:"{",isNextMatchForward:!1,matchesWithPercentageMotion:!0},"]":{match:"[",isNextMatchForward:!1,matchesWithPercentageMotion:!0},"<":{match:">",isNextMatchForward:!0},">":{match:"<",isNextMatchForward:!1},'"':{match:'"',isNextMatchForward:!1,directionless:!0},"'":{match:"'",isNextMatchForward:!1,directionless:!0},"`":{match:"`",isNextMatchForward:!1,directionless:!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorIdentity=void 0;class n{constructor(e){this._fileName=e}static fromEditor(e){var t,r;return new n(null!==(r=null===(t=null==e?void 0:e.document)||void 0===t?void 0:t.fileName)&&void 0!==r?r:"")}get fileName(){return this._fileName}isEqual(e){return this.fileName===e.fileName}toString(){return this.fileName}}t.EditorIdentity=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utf8DecodeTD=t.TEXT_DECODER_THRESHOLD=t.utf8DecodeJs=t.utf8EncodeTE=t.TEXT_ENCODER_THRESHOLD=t.utf8EncodeJs=t.utf8Count=t.TEXT_ENCODING_AVAILABLE=void 0,t.TEXT_ENCODING_AVAILABLE="undefined"!=typeof process&&"never"!==process.env.TEXT_ENCODING&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder,t.utf8Count=function(e){const t=e.length;let r=0,n=0;for(;n<t;){let i=e.charCodeAt(n++);if(0!=(4294967168&i))if(0==(4294965248&i))r+=2;else{if(i>=55296&&i<=56319&&n<t){const t=e.charCodeAt(n);56320==(64512&t)&&(++n,i=((1023&i)<<10)+(1023&t)+65536)}r+=0==(4294901760&i)?3:4}else r++}return r},t.utf8EncodeJs=function(e,t,r){const n=e.length;let i=r,s=0;for(;s<n;){let r=e.charCodeAt(s++);if(0!=(4294967168&r)){if(0==(4294965248&r))t[i++]=r>>6&31|192;else{if(r>=55296&&r<=56319&&s<n){const t=e.charCodeAt(s);56320==(64512&t)&&(++s,r=((1023&r)<<10)+(1023&t)+65536)}0==(4294901760&r)?(t[i++]=r>>12&15|224,t[i++]=r>>6&63|128):(t[i++]=r>>18&7|240,t[i++]=r>>12&63|128,t[i++]=r>>6&63|128)}t[i++]=63&r|128}else t[i++]=r}};const n=t.TEXT_ENCODING_AVAILABLE?new TextEncoder:void 0;t.TEXT_ENCODER_THRESHOLD="undefined"!=typeof process&&"force"!==process.env.TEXT_ENCODING?200:0,t.utf8EncodeTE=(null==n?void 0:n.encodeInto)?function(e,t,r){n.encodeInto(e,t.subarray(r))}:function(e,t,r){t.set(n.encode(e),r)};t.utf8DecodeJs=function(e,t,r){let n=t;const i=n+r,s=[];let o="";for(;n<i;){const t=e[n++];if(0==(128&t))s.push(t);else if(192==(224&t)){const r=63&e[n++];s.push((31&t)<<6|r)}else if(224==(240&t)){const r=63&e[n++],i=63&e[n++];s.push((31&t)<<12|r<<6|i)}else if(240==(248&t)){let r=(7&t)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++];r>65535&&(r-=65536,s.push(r>>>10&1023|55296),r=56320|1023&r),s.push(r)}else s.push(t);s.length>=4096&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o};const i=t.TEXT_ENCODING_AVAILABLE?new TextDecoder:null;t.TEXT_DECODER_THRESHOLD="undefined"!=typeof process&&"force"!==process.env.TEXT_DECODER?200:0,t.utf8DecodeTD=function(e,t,r){const n=e.subarray(t,t+r);return i.decode(n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionCodec=void 0;const n=r(174),i=r(175);let s=(()=>{class e{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(i.timestampExtension)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{const n=1+e;this.builtInEncoders[n]=t,this.builtInDecoders[n]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(null!=i){const s=i(e,t);if(null!=s){const e=-1-r;return new n.ExtData(e,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(null!=i){const s=i(e,t);if(null!=s){const e=r;return new n.ExtData(e,s)}}}return e instanceof n.ExtData?e:null}decode(e,t,r){const i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,r):new n.ExtData(t,e)}}return e.defaultCodec=new e,e})();t.ExtensionCodec=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUint64=t.getInt64=t.setInt64=t.setUint64=void 0,t.setUint64=function(e,t,r){const n=r/4294967296,i=r;e.setUint32(t,n),e.setUint32(t+4,i)},t.setInt64=function(e,t,r){const n=Math.floor(r/4294967296),i=r;e.setUint32(t,n),e.setUint32(t+4,i)},t.getInt64=function(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)},t.getUint64=function(e,t){return 4294967296*e.getUint32(t)+e.getUint32(t+4)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.DataViewIndexOutOfBoundsError=void 0;const n=r(345),i=r(100),s=r(101),o=r(99),a=r(176),c=r(346),u=e=>{const t=typeof e;return"string"===t||"number"===t},l=new DataView(new ArrayBuffer(0)),d=new Uint8Array(l.buffer);t.DataViewIndexOutOfBoundsError=(()=>{try{l.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")})();const h=new t.DataViewIndexOutOfBoundsError("Insufficient data"),f=new c.CachedKeyDecoder;t.Decoder=class{constructor(e=i.ExtensionCodec.defaultCodec,t,r=4294967295,n=4294967295,s=4294967295,o=4294967295,a=4294967295,c=f){this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=n,this.maxArrayLength=s,this.maxMapLength=o,this.maxExtLength=a,this.cachedKeyDecoder=c,this.totalPos=0,this.pos=0,this.view=l,this.bytes=d,this.headByte=-1,this.stack=[]}setBuffer(e){this.bytes=a.ensureUint8Array(e),this.view=a.createDataView(this.bytes),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining()){const t=this.bytes.subarray(this.pos),r=a.ensureUint8Array(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)}hasRemaining(e=1){return this.view.byteLength-this.pos>=e}createNoExtraBytesError(e){const{view:t,pos:r}=this;return new RangeError(`Extra ${t.byteLength-r} byte(s) found at buffer[${e}]`)}decodeSingleSync(){const e=this.decodeSync();if(this.hasRemaining())throw this.createNoExtraBytesError(this.pos);return e}async decodeSingleAsync(e){let r,i=!1;for await(const n of e){if(i)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(n);try{r=this.decodeSync(),i=!0}catch(e){if(!(e instanceof t.DataViewIndexOutOfBoundsError))throw e}this.totalPos+=this.pos}if(i){if(this.hasRemaining())throw this.createNoExtraBytesError(this.totalPos);return r}const{headByte:s,pos:o,totalPos:a}=this;throw new RangeError(`Insufficient data in parcing ${n.prettyByte(s)} at ${a} (${o} in the current buffer)`)}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){let n=r,i=-1;for await(const s of e){if(r&&0===i)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.decodeSync(),0!=--i;);}catch(e){if(!(e instanceof t.DataViewIndexOutOfBoundsError))throw e}this.totalPos+=this.pos}}decodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const r=e-128;if(0!==r){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){const r=e-144;if(0!==r){this.pushArrayState(r),this.complete();continue e}t=[]}else{const r=e-160;t=this.decodeUtf8String(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e){const e=this.lookU8();t=this.decodeUtf8String(e,1)}else if(218===e){const e=this.lookU16();t=this.decodeUtf8String(e,2)}else if(219===e){const e=this.lookU32();t=this.decodeUtf8String(e,4)}else if(220===e){const e=this.readU16();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(221===e){const e=this.readU32();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(222===e){const e=this.readU16();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(223===e){const e=this.readU32();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(196===e){const e=this.lookU8();t=this.decodeBinary(e,1)}else if(197===e){const e=this.lookU16();t=this.decodeBinary(e,2)}else if(198===e){const e=this.lookU32();t=this.decodeBinary(e,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){const e=this.lookU8();t=this.decodeExtension(e,1)}else if(200===e){const e=this.lookU16();t=this.decodeExtension(e,2)}else{if(201!==e)throw new Error("Unrecognized type byte: "+n.prettyByte(e));{const e=this.lookU32();t=this.decodeExtension(e,4)}}this.complete();const r=this.stack;for(;r.length>0;){const e=r[r.length-1];if(0===e.type){if(e.array[e.position]=t,e.position++,e.position!==e.size)continue e;r.pop(),t=e.array}else{if(1===e.type){if(!u(t))throw new Error("The type of key must be string or number but "+typeof t);e.key=t,e.type=2;continue e}if(e.map[e.key]=t,e.readCount++,e.readCount!==e.size){e.key=null,e.type=1;continue e}r.pop(),t=e.map}}return t}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new Error("Unrecognized array type byte: "+n.prettyByte(e))}}pushMapState(e){if(e>this.maxMapLength)throw new Error(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})}pushArrayState(e){if(e>this.maxArrayLength)throw new Error(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.push({type:0,size:e,array:new Array(e),position:0})}decodeUtf8String(e,t){var r;if(e>this.maxStrLength)throw new Error(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw h;const n=this.pos+t;let i;return i=this.stateIsMapKey()&&(null===(r=this.cachedKeyDecoder)||void 0===r?void 0:r.canBeCached(e))?this.cachedKeyDecoder.decode(this.bytes,n,e):o.TEXT_ENCODING_AVAILABLE&&e>o.TEXT_DECODER_THRESHOLD?o.utf8DecodeTD(this.bytes,n,e):o.utf8DecodeJs(this.bytes,n,e),this.pos+=t+e,i}stateIsMapKey(){if(this.stack.length>0){return 1===this.stack[this.stack.length-1].type}return!1}decodeBinary(e,t){if(e>this.maxBinLength)throw new Error(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw h;const r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n}decodeExtension(e,t){if(e>this.maxExtLength)throw new Error(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=s.getUint64(this.view,this.pos);return this.pos+=8,e}readI64(){const e=s.getInt64(this.view,this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}},function(e,t,r){"use strict";var n,i,s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(49),a=r(65);t.DETACH=Symbol("detachBuffer"),t.ATTACH=Symbol("attachBuffer");class c extends o.BaseApi{constructor(){super(...arguments),this.prefix=a.Metadata[a.ExtType.Buffer].prefix,this[n]=(e=!1,t={})=>s(this,void 0,void 0,(function*(){return!!this.client.isAttached(this)||this.request(this.prefix+"attach",[this,e,t])})),this[i]=()=>this.request(this.prefix+"detach",[this])}get isAttached(){return this.client.isAttached(this)}get id(){return this.data}get length(){return this.request(this.prefix+"line_count",[this])}get lines(){return this.getLines()}get changedtick(){return this.request(this.prefix+"get_changedtick",[this])}get commands(){return this.getCommands()}getCommands(e={}){return this.request(this.prefix+"get_commands",[this,e])}getLines({start:e,end:t,strictIndexing:r}={start:0,end:-1,strictIndexing:!0}){const n=void 0===r||r;return this.request(this.prefix+"get_lines",[this,e,t,n])}setLines(e,{start:t,end:r,strictIndexing:n}={strictIndexing:!0}){const i=void 0===n||n,s="string"==typeof e?[e]:e,o=void 0!==r?r:t+1;return this.request(this.prefix+"set_lines",[this,t,o,i,s])}insert(e,t){return this.setLines(e,{start:t,end:t,strictIndexing:!0})}replace(e,t){const r="string"==typeof e?[e]:e;return this.setLines(r,{start:t,end:t+r.length,strictIndexing:!1})}remove(e,t,r){return this.setLines([],{start:e,end:t,strictIndexing:r})}append(e){return this.setLines(e,{start:-1,end:-1,strictIndexing:!1})}get name(){return this.request(this.prefix+"get_name",[this])}set name(e){this.request(this.prefix+"set_name",[this,e])}get valid(){return this.request(this.prefix+"is_valid",[this])}mark(e){return this.request(this.prefix+"get_mark",[this,e])}getKeymap(e){return this.request(this.prefix+"get_keymap",[this,e])}get loaded(){return this.request(this.prefix+"is_loaded",[this])}getOffset(e){return this.request(this.prefix+"get_offset",[this,e])}addHighlight({hlGroup:e,line:t,colStart:r,colEnd:n,srcId:i}){const s=void 0!==e?e:"",o=void 0!==n?n:-1,a=void 0!==r?r:-0,c=void 0!==i?i:-1;return this.request(this.prefix+"add_highlight",[this,c,s,t,a,o])}clearHighlight(e={}){console.warn("`clearHighlight` is deprecated, use ``clearNamespace()` instead");const{srcId:t,lineStart:r,lineEnd:n}=Object.assign(Object.assign({},{srcId:-1,lineStart:0,lineEnd:-1}),e);return this.request(this.prefix+"clear_highlight",[this,t,r,n])}clearNamespace(e){const{nsId:t,lineStart:r,lineEnd:n}=Object.assign(Object.assign({},{nsId:-1,lineStart:0,lineEnd:-1}),e);this.request(this.prefix+"clear_namespace",[this,t,r,n])}setVirtualText(e,t,r,n={}){return this.request(this.prefix+"set_virtual_text",[this,e,t,r,n])}listen(e,r){return this.isAttached||this[t.ATTACH]().then(t=>{t||this.unlisten(e,r)}),this.client.attachBuffer(this,e,r),()=>{this.unlisten(e,r)}}unlisten(e,r){if(!this.isAttached)return;this.client.detachBuffer(this,e,r)&&this[t.DETACH]()}}t.Buffer=c,n=t.ATTACH,i=t.DETACH},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(180),i=r(357),s=r(358),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):s(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=e[t+i];return n},e.exports=t.default},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){"use strict";const n=r(20),{configs:i}=r(1);t.cli=n.levels(i.cli),t.npm=n.levels(i.npm),t.syslog=n.levels(i.syslog),t.addColors=n.levels},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,n.default)(e,(0,i.default)((0,s.default)(t)),r)};var n=o(r(401)),i=o(r(402)),s=o(r(67));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(49),i=r(65),s=r(111),o=r(112),a=r(103);class c extends n.BaseApi{constructor(){super(...arguments),this.prefix=i.Metadata[i.ExtType.Window].prefix}get id(){return this.data}get buffer(){return s.createChainableApi.call(this,"Buffer",a.Buffer,()=>this.request(this.prefix+"get_buf",[this]))}get tabpage(){return s.createChainableApi.call(this,"Tabpage",o.Tabpage,()=>this.request(this.prefix+"get_tabpage",[this]))}get cursor(){return this.request(this.prefix+"get_cursor",[this])}set cursor(e){this.request(this.prefix+"set_cursor",[this,e])}get height(){return this.request(this.prefix+"get_height",[this])}set height(e){this.request(this.prefix+"set_height",[this,e])}get width(){return this.request(this.prefix+"get_width",[this])}set width(e){this.request(this.prefix+"set_width",[this,e])}get position(){return this.request(this.prefix+"get_position",[this])}get row(){return this.request(this.prefix+"get_position",[this]).then(e=>e[0])}get col(){return this.request(this.prefix+"get_position",[this]).then(e=>e[1])}get valid(){return this.request(this.prefix+"is_valid",[this])}get number(){return this.request(this.prefix+"get_number",[this])}close(e=!1){return this.request(this.prefix+"close",[this,e])}config(e={}){return this.request(this.prefix+"set_config",[this,e])}}t.Window=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(49),i=Object.getOwnPropertyNames(n.BaseApi.prototype);t.createChainableApi=function(e,t,r,s){if(this[e+"Promise"]&&0===this[e+"Promise"].status&&this[e+"Proxy"])return this[e+"Proxy"];this[e+"Promise"]=r(),[...i,...Object.getOwnPropertyNames(t.prototype)].forEach(t=>{Object.defineProperty(this[e+"Promise"],t,{enumerable:!0,writable:!0,configurable:!0})});const o={get:(r,i)=>{const o=Object.prototype.hasOwnProperty.call(t.prototype,i)||Object.prototype.hasOwnProperty.call(n.BaseApi.prototype,i),a=Object.getOwnPropertyDescriptor(t.prototype,i)||Object.getOwnPropertyDescriptor(n.BaseApi.prototype,i),c=a&&(void 0!==a.get||void 0!==a.set);return t&&o?o&&!c&&(i in t.prototype&&"function"==typeof t.prototype[i]||i in n.BaseApi.prototype&&"function"==typeof n.BaseApi.prototype[i])?(...t)=>this[e+"Promise"].then(e=>e[i].call(e,...t)):s&&s()||this[e+"Promise"].then(e=>e[i]):i in r?"function"==typeof r[i]?r[i].bind(r):r[i]:null},set:(e,t,r,n)=>(n&&(n instanceof Promise||"then"in n)?n.then(e=>{t in e&&(e[t]=r)}):e[t]=r,!0)};return this[e+"Proxy"]=new Proxy(this[e+"Promise"],o),this[e+"Proxy"]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(49),i=r(65),s=r(111),o=r(110);class a extends n.BaseApi{constructor(){super(...arguments),this.prefix=i.Metadata[i.ExtType.Tabpage].prefix}get windows(){return this.request(this.prefix+"list_wins",[this])}get window(){return s.createChainableApi.call(this,"Window",o.Window,()=>this.request(this.prefix+"get_win",[this]))}get valid(){return this.request(this.prefix+"is_valid",[this])}get number(){return this.request(this.prefix+"get_number",[this])}getOption(){this.logger.error("Tabpage does not have `getOption`")}setOption(){this.logger.error("Tabpage does not have `setOption`")}}t.Tabpage=a},function(e,t,r){"use strict";var n=r(50);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=m;var s,o=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:n.nextTick;m.WritableState=g;var a=Object.create(r(74));a.inherits=r(26);var c={deprecate:r(114)},u=r(115),l=r(51).Buffer,d=global.Uint8Array||function(){};var h,f=r(116);function p(){}function g(e,t){s=s||r(52),e=e||{};var a=t instanceof s;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,s=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,s){--t.pendingcb,r?(n.nextTick(s,i),n.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(s(i),e._writableState.errorEmitted=!0,e.emit("error",i),C(e,t))}(e,r,i,t,s);else{var a=b(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),i?o(y,e,r,a,s):y(e,r,a,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function m(e){if(s=s||r(52),!(h.call(m,this)||this instanceof s))return new m(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function v(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function y(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,s=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)s[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;s.allBuffers=c,v(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(v(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function b(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),C(e,t)}))}function C(e,t){var r=b(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}a.inherits(m,u),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===m&&(e&&e._writableState instanceof g)}})):h=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,r){var i,s=this._writableState,o=!1,a=!s.objectMode&&(i=e,l.isBuffer(i)||i instanceof d);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=p),s.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}(this,r):(a||function(e,t,r,i){var s=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),n.nextTick(i,o),s=!1),s}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,n,i,s);return c}(this,s,a,e,t,r)),o},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,r){t.ending=!0,C(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=f.destroy,m.prototype._undestroy=f.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,r){e.exports=r(7).deprecate},function(e,t,r){e.exports=r(43)},function(e,t,r){"use strict";var n=r(50);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(51).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";const n=r(13);e.exports=n(e=>(e.message="\t"+e.message,e))},function(e,t,r){"use strict";const{Colorizer:n}=r(54),{Padder:i}=r(77),{configs:s,MESSAGE:o}=r(1);class a{constructor(e={}){e.levels||(e.levels=s.npm.levels),this.colorizer=new n(e),this.padder=new i(e),this.options=e}transform(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[o]=`${e.level}:${e.message}`,e}}e.exports=e=>new a(e),e.exports.Format=a},function(e,t,r){"use strict";const n=r(13);function i(e){if(e.every(s))return t=>{let r=t;for(let t=0;t<e.length;t++)if(r=e[t].transform(r,e[t].options),!r)return!1;return r}}function s(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=(...e)=>{const t=n(i(e)),r=t();return r.Format=t.Format,r},e.exports.cascade=i},function(e,t,r){"use strict";const n=r(13);e.exports=n((e,t)=>t.message?(e.message=`[${t.label}] ${e.message}`,e):(e.label=t.label,e))},function(e,t,r){"use strict";const n=r(13),{MESSAGE:i}=r(1),s=r(33);e.exports=n(e=>{const t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=s(t),e})},function(e,t,r){"use strict";const n=r(13);e.exports=n((e,t={})=>{let r="metadata";t.key&&(r=t.key);let n=[];return t.fillExcept||t.fillWith||(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?function(e,t,r){const n=t.reduce((t,r)=>(t[r]=e[r],delete e[r],t),{}),i=Object.keys(e).reduce((t,r)=>(t[r]=e[r],delete e[r],t),{});return Object.assign(e,n,{[r]:i}),e}(e,n,r):t.fillWith?function(e,t,r){return e[r]=t.reduce((t,r)=>(t[r]=e[r],delete e[r],t),{}),e}(e,t.fillWith,r):e})},function(e,t,r){"use strict";const n=r(7).inspect,i=r(13),{LEVEL:s,MESSAGE:o,SPLAT:a}=r(1);e.exports=i((e,t={})=>{const r=Object.assign({},e);return delete r[s],delete r[o],delete r[a],e[o]=n(r,!1,t.depth||null,t.colorize),e})},function(e,t,r){"use strict";const{MESSAGE:n}=r(1);class i{constructor(e){this.template=e}transform(e){return e[n]=this.template(e),e}}e.exports=e=>new i(e),e.exports.Printf=e.exports.Format=i},function(e,t,r){"use strict";const n=r(13),{MESSAGE:i}=r(1),s=r(33);e.exports=n(e=>{const t=s(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?`${e.level}:${r} ${e.message} ${t}`:`${e.level}:${r} ${e.message}`,e})},function(e,t,r){"use strict";const n=r(7),{SPLAT:i}=r(1),s=/%[scdjifoO%]/g,o=/%%/g;class a{constructor(e){this.options=e}_splat(e,t){const r=e.message,s=e[i]||e.splat||[],a=r.match(o),c=a&&a.length||0,u=t.length-c-s.length,l=u<0?s.splice(u,-1*u):[],d=l.length;if(d)for(let t=0;t<d;t++)Object.assign(e,l[t]);return e.message=n.format(r,...s),e}transform(e){const t=e.message,r=e[i]||e.splat;if(!r||!r.length)return e;const n=t&&t.match&&t.match(s);if(!n&&(r||r.length)){const t=r.length>1?r.splice(0):r,n=t.length;if(n)for(let r=0;r<n;r++)Object.assign(e,t[r]);return e}return n?this._splat(e,n):e}}e.exports=e=>new a(e)},function(e,t,r){"use strict";const n=r(129),i=r(13);e.exports=i((e,t={})=>(t.format&&(e.timestamp="function"==typeof t.format?t.format():n.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e))},function(e,t,r){"use strict";r.r(t),r.d(t,"assign",(function(){return c})),r.d(t,"format",(function(){return E})),r.d(t,"parse",(function(){return k})),r.d(t,"defaultI18n",(function(){return h})),r.d(t,"setGlobalDateI18n",(function(){return p})),r.d(t,"setGlobalDateMasks",(function(){return _}));var n=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,i="[^\\s]+",s=/\[([^]*?)\]/gm;function o(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r.push(e[n].substr(0,t));return r}var a=function(e){return function(t,r){var n=r[e].map((function(e){return e.toLowerCase()})).indexOf(t.toLowerCase());return n>-1?n:null}};function c(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t;n<i.length;n++){var s=i[n];for(var o in s)e[o]=s[o]}return e}var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],d=o(l,3),h={dayNamesShort:o(u,3),dayNames:u,monthNamesShort:d,monthNames:l,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10?1:0)*e%10]}},f=c({},h),p=function(e){return f=c(f,e)},g=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},m=function(e,t){for(void 0===t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},v={D:function(e){return String(e.getDate())},DD:function(e){return m(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return m(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return m(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return m(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return m(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return m(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return m(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return m(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return m(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return m(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return m(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+m(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+m(Math.floor(Math.abs(t)/60),2)+":"+m(Math.abs(t)%60,2)}},y=function(e){return+e-1},w=[null,"[1-9]\\d?"],b=[null,i],x=["isPm",i,function(e,t){var r=e.toLowerCase();return r===t.amPm[0]?0:r===t.amPm[1]?1:null}],C=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var r=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?r:-r}return 0}],S={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+i,function(e){return parseInt(e,10)}],M:["month","[1-9]\\d?",y],MM:["month","\\d\\d",y],YY:["year","\\d\\d",function(e){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(e){return 100*+e}],SS:["millisecond","\\d\\d",function(e){return 10*+e}],SSS:["millisecond","\\d{3}"],d:w,dd:w,ddd:b,dddd:b,MMM:["month",i,a("monthNamesShort")],MMMM:["month",i,a("monthNames")],a:x,A:x,ZZ:C,Z:C},M={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},_=function(e){return c(M,e)},E=function(e,t,r){if(void 0===t&&(t=M.default),void 0===r&&(r={}),"number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var i=[];t=(t=M[t]||t).replace(s,(function(e,t){return i.push(t),"@@@"}));var o=c(c({},f),r);return(t=t.replace(n,(function(t){return v[t](e,o)}))).replace(/@@@/g,(function(){return i.shift()}))};function k(e,t,r){if(void 0===r&&(r={}),"string"!=typeof t)throw new Error("Invalid format in fecha parse");if(t=M[t]||t,e.length>1e3)return null;var i={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},o=[],a=[],u=t.replace(s,(function(e,t){return a.push(g(t)),"@@@"})),l={},d={};u=g(u).replace(n,(function(e){var t=S[e],r=t[0],n=t[1],i=t[3];if(l[r])throw new Error("Invalid format. "+r+" specified twice in format");return l[r]=!0,i&&(d[i]=!0),o.push(t),"("+n+")"})),Object.keys(d).forEach((function(e){if(!l[e])throw new Error("Invalid format. "+e+" is required in specified format")})),u=u.replace(/@@@/g,(function(){return a.shift()}));var h=e.match(new RegExp(u,"i"));if(!h)return null;for(var p=c(c({},f),r),m=1;m<h.length;m++){var v=o[m-1],y=v[0],w=v[2],b=w?w(h[m],p):+h[m];if(null==b)return null;i[y]=b}1===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:0===i.isPm&&12==+i.hour&&(i.hour=0);for(var x=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond),C=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],_=(m=0,C.length);m<_;m++)if(l[C[m][0]]&&i[C[m][0]]!==x[C[m][1]]())return null;return null==i.timezoneOffset?x:new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond))}var A={format:E,parse:k,defaultI18n:h,setGlobalDateI18n:p,setGlobalDateMasks:_};t.default=A},function(e,t,r){"use strict";const n=r(55),i=r(13),{MESSAGE:s}=r(1);e.exports=i((e,t)=>(!1!==t.level&&(e.level=n.strip(e.level)),!1!==t.message&&(e.message=n.strip(e.message)),!1!==t.raw&&e[s]&&(e[s]=n.strip(e[s])),e))},function(e,t,r){"use strict";var n=t.format=r(11);t.levels=r(57),Object.defineProperty(n,"align",{value:r(78)}),Object.defineProperty(n,"cli",{value:r(79)}),Object.defineProperty(n,"combine",{value:r(80)}),Object.defineProperty(n,"colorize",{value:r(45)}),Object.defineProperty(n,"json",{value:r(81)}),Object.defineProperty(n,"label",{value:r(82)}),Object.defineProperty(n,"logstash",{value:r(83)}),Object.defineProperty(n,"metadata",{value:r(84)}),Object.defineProperty(n,"padLevels",{value:r(58)}),Object.defineProperty(n,"prettyPrint",{value:r(85)}),Object.defineProperty(n,"printf",{value:r(86)}),Object.defineProperty(n,"simple",{value:r(87)}),Object.defineProperty(n,"splat",{value:r(88)}),Object.defineProperty(n,"timestamp",{value:r(89)}),Object.defineProperty(n,"uncolorize",{value:r(90)})},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(11),s=r(1),o=s.LEVEL,a=s.MESSAGE;e.exports=i((function(e,t){var r=t.stack;if(e instanceof Error){var i,s=Object.assign({},e,(n(i={level:e.level},o,e[o]||e.level),n(i,"message",e.message),n(i,a,e[a]||e.message),i));return r&&(s.stack=e.stack),s}if(!(e.message instanceof Error))return e;Object.assign(e,e.message);var c=e.message;return e.message=c.message,e[a]=c.message,r&&(e.stack=c.stack),e}))},function(e,t,r){"use strict";var n=t.format=r(11);function i(e,t){t=t||e,Object.defineProperty(n,e,{get:function(){return r(226)("./".concat(t,".js"))},configurable:!0})}t.levels=r(57),i("align"),i("errors"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},function(e,t,r){"use strict";var n=r(11),i=r(135);e.exports=n((function(e){var t=+new Date;return(void 0).diff=t-((void 0).prevTime||t),(void 0).prevTime=t,e.ms="+".concat(i((void 0).diff)),e}))},function(e,t){var r=1e3,n=6e4,i=60*n,s=24*i;function o(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*i;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return o(e,t,s,"day");if(t>=i)return o(e,t,i,"hour");if(t>=n)return o(e,t,n,"minute");if(t>=r)return o(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";const{format:n}=r(7);t.warn={deprecated:e=>()=>{throw new Error(n("{ %s } was removed in winston@3.0.0.",e))},useFormat:e=>()=>{throw new Error([n("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join("\n"))},forFunctions(e,r,n){n.forEach(n=>{e[n]=t.warn[r](n)})},moved(e,t,r){function i(){return()=>{throw new Error([n("winston.%s was moved in winston@3.0.0.",r),n("Use a winston.%s instead.",t)].join("\n"))}}Object.defineProperty(e,r,{get:i,set:i})},forProperties(e,r,n){n.forEach(n=>{const i=t.warn[r](n);Object.defineProperty(e,n,{get:i,set:i})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(245)),i=o(r(34)),s=o(r(46));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,s.default)((function(e,t,r,s){return(0,n.default)(t)(e,(0,i.default)(r),s)}),4),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}},e.exports=t.default},function(e,t){e.exports=require("zlib")},function(e,t,r){"use strict";var n;e.exports=S,S.ReadableState=C;r(53).EventEmitter;var i=function(e,t){return e.listeners(t).length},s=r(142),o=r(44).Buffer,a=global.Uint8Array||function(){};var c,u=r(7);c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,h=r(249),f=r(143),p=r(144).getHighWaterMark,g=r(35).codes,m=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,y=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b=r(250).emitExperimentalWarning;r(26)(S,s);var x=["error","close","destroy","pause","resume"];function C(e,t,i){n=n||r(36),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=p(this,e,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(146).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||r(36),!(this instanceof S))return new S(e);var t=this instanceof n;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function M(e,t,r,n,i){c("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,u);else if(i||(s=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),s)e.emit("error",s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)u.endEmitted?e.emit("error",new w):_(e,u,t,!0);else if(u.ended)e.emit("error",new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?_(e,u,t,!1):R(e,u)):_(e,u,t,!1)}else n||(u.reading=!1,R(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),R(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=f.destroy,S.prototype._undestroy=f.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},S.prototype.unshift=function(e){return M(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){return l||(l=r(146).StringDecoder),this._readableState.decoder=new l(e),this._readableState.encoding=this._readableState.decoder.encoding,this};function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,O(e)}function R(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function T(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){c("readable nexttick read 0"),e.read(0)}function B(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function F(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function D(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(I,t,e))}function I(e,t){c("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):k(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?F(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){this.emit("error",new y("_read()"))},S.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var s=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:g;function o(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",g),r.removeListener("data",d),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(s):r.once("end",s),e.on("unpipe",o);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,O(e))}}(r);e.on("drain",u);var l=!1;function d(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==N(n.pipes,e))&&!l&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){c("onerror",t),g(),e.removeListener("error",h),0===i(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",p),g()}function p(){c("onfinish"),e.removeListener("close",f),g()}function g(){c("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",f),e.once("finish",p),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=N(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?k(this):n.reading||process.nextTick(L,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(T,this),r},S.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(T,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(B,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<x.length;s++)e.on(x[s],this.emit.bind(this,x[s]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return b("Readable[Symbol.asyncIterator]"),void 0===d&&(d=r(252)),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=F,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})},function(e,t,r){e.exports=r(43)},function(e,t,r){"use strict";function n(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||process.nextTick(s,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(process.nextTick(n,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t?(process.nextTick(i,r),t(e)):process.nextTick(i,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(35).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=S,S.WritableState=C;var s={deprecate:r(114)},o=r(142),a=r(44).Buffer,c=global.Uint8Array||function(){};var u,l=r(143),d=r(144).getHighWaterMark,h=r(35).codes,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,b=h.ERR_UNKNOWN_ENCODING;function x(){}function C(e,t,s){i=i||r(36),e=e||{},"boolean"!=typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(R,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),R(e,t))}(e,r,n,t,i);else{var s=k(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||E(e,r),n?process.nextTick(_,e,r,s,i):_(e,r,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(e){var t=this instanceof(i=i||r(36));if(!t&&!u.call(S,this))return new S(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function M(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function _(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function E(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)s[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;s.allBuffers=c,M(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(M(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var r=k(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}r(26)(S,o),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===S&&(e&&e._writableState instanceof C)}})):u=function(e){return e instanceof this},S.prototype.pipe=function(){this.emit("error",new m)},S.prototype.write=function(e,t,r){var n,i=this._writableState,s=!1,o=!i.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return o&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=x),i.ending?function(e,t){var r=new w;e.emit("error",r),process.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var i;return null===r?i=new y:"string"==typeof r||t.objectMode||(i=new f("chunk",["string","Buffer"],r)),!i||(e.emit("error",i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,s=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,c,n,i,s);return u}(this,i,o,e,t,r)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||E(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new p("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,R(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(e,t){t(e)}},function(e,t,r){"use strict";var n=r(251).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=l;var n=r(35).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(36);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}r(26)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t){e.exports=require("string_decoder")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t,r){"use strict";const n=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;n.writable=e=>n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,n.readable=e=>n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,n.duplex=e=>n.writable(e)&&n.readable(e),n.transform=e=>n.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=n},function(e,t,r){"use strict";const{LEVEL:n}=r(1),i=r(94),s=r(260),o=r(59)("winston:create-logger");e.exports=function(e={}){e.levels=e.levels||i.npm.levels;class t extends s{constructor(e){super(e)}}const r=new t(e);return Object.keys(e.levels).forEach((function(e){o('Define prototype method for "%s"',e),"log"!==e?(t.prototype[e]=function(...t){const i=this||r;if(1===t.length){const[s]=t,o=s&&s.message&&s||{message:s};return o.level=o[n]=e,i._addDefaultMeta(o),i.write(o),this||r}return 0===t.length?(i.log(e,""),i):i.log(e,...t)},t.prototype[function(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}(e)]=function(){return(this||r).isLevelEnabled(e)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')})),r}},function(e,t,r){"use strict";const n=r(14),i=r(95),s=r(59)("winston:exception"),o=r(154),a=r(60),c=r(155);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:["uncaughtException: "+(t||"(no error message)"),e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:n.loadavg(),uptime:n.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_uncaughtException(e){const t=this.getAllInfo(e),r=this._getExceptionHandlers();let n,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){s("doExit",a),s("process._exiting",process._exiting),a&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!r.length&&a&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),a=!1),!r||0===r.length)return process.nextTick(c);i(r,(e,t)=>{const r=o(t),n=e.transport||e;function i(e){return()=>{s(e),r()}}n._ending=!0,n.once("finish",i("finished")),n.once("error",i("error"))},()=>a&&c()),this.logger.log(t),a&&(n=setTimeout(c,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}}},function(e,t,r){"use strict";var n=r(263);e.exports=function(e){var t,r=0;function i(){return r||(r=1,t=e.apply(this,arguments),e=null),t}return i.displayName=n(e),i}},function(e,t,r){"use strict";const{Writable:n}=r(24);e.exports=class extends n{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,t,r){return e.exception?this.transport.log(e,r):(r(),!0)}}},function(e,t,r){"use strict";const n=r(14),i=r(95),s=r(59)("winston:rejection"),o=r(154),a=r(60),c=r(155);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:["unhandledRejection: "+(t||"(no error message)"),e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:n.loadavg(),uptime:n.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleRejections=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_unhandledRejection(e){const t=this.getAllInfo(e),r=this._getRejectionHandlers();let n,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){s("doExit",a),s("process._exiting",process._exiting),a&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!r.length&&a&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),a=!1),!r||0===r.length)return process.nextTick(c);i(r,(e,t)=>{const r=o(t),n=e.transport||e;function i(e){return()=>{s(e),r()}}n._ending=!0,n.once("finish",i("finished")),n.once("error",i("error"))},()=>a&&c()),this.logger.log(t),a&&(n=setTimeout(c,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}}},function(e,t,r){"use strict";const n=r(14).homedir();e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);return n?e.replace(/^~(?=$|\/|\\)/,n):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandLineHistory=t.SearchHistory=t.HistoryFile=void 0;const n=r(21),i=r(12),s=r(2),o=r(40),a=r(30);class c{constructor(e){this._logger=i.Logger.get("HistoryFile"),this._history=[],this._historyFileName=e}get historyFilePath(){return n.join(o.Globals.extensionStoragePath,this._historyFileName)}async add(e){if(!e||0===e.length)return;let t=this._history.indexOf(e);return-1!==t&&this._history.splice(t,1),this._history.push(e),this._history.length>s.configuration.history&&(this._history=this._history.slice(this._history.length-s.configuration.history)),this.save()}get(){return this._history.length>s.configuration.history&&(this._history=this._history.slice(this._history.length-s.configuration.history)),this._history}clear(){try{this._history=[],a.unlinkSync(this.historyFilePath)}catch(e){this._logger.warn(`Unable to delete ${this.historyFilePath}. err=${e}.`)}}async load(){let e="";try{e=await a.readFileAsync(this.historyFilePath,"utf-8")}catch(e){return void("ENOENT"===e.code?this._logger.debug("History does not exist. path="+this.historyFilePath):this._logger.warn(`Failed to load history. path=${this.historyFilePath} err=${e}.`))}if(0!==e.length)try{let t=JSON.parse(e);if(!Array.isArray(t))throw Error("Unexpected format in history file. Expected JSON.");this._history=t}catch(e){this._logger.warn(`Deleting corrupted history file. path=${this.historyFilePath} err=${e}.`),this.clear()}}async save(){try{try{await a.mkdirAsync(o.Globals.extensionStoragePath,{recursive:!0})}catch(e){if("EEXIST"!==e.code)throw e}await a.writeFileAsync(this.historyFilePath,JSON.stringify(this._history),"utf-8")}catch(e){throw this._logger.error(`Failed to save history. filepath=${this.historyFilePath}. err=${e}.`),e}}}t.HistoryFile=c;t.SearchHistory=class extends c{constructor(){super(".search_history")}};t.CommandLineHistory=class extends c{constructor(){super(".cmdline_history")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaceState=void 0;const n=r(4);t.ReplaceState=class{constructor(e,t=1){this.originalChars=[],this.newChars=[],this.replaceCursorStartPosition=e,this.timesToRepeat=t;let r=n.TextEditor.getLineAt(e).text.substring(e.character);for(let[t,n]of r.split("").entries())this.originalChars[t+e.character]=n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnlyCommand=void 0;const n=r(0),i=r(5);class s extends i.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}async execute(){await Promise.all([n.commands.executeCommand("workbench.action.closeEditorsInOtherGroups"),n.commands.executeCommand("workbench.action.maximizeEditor"),n.commands.executeCommand("workbench.action.closePanel")])}}t.OnlyCommand=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabCommand=t.Tab=void 0;const n=r(21),i=r(0),s=r(5);var o;!function(e){e[e.Next=0]="Next",e[e.Previous=1]="Previous",e[e.First=2]="First",e[e.Last=3]="Last",e[e.Absolute=4]="Absolute",e[e.New=5]="New",e[e.Close=6]="Close",e[e.Only=7]="Only",e[e.Move=8]="Move"}(o=t.Tab||(t.Tab={}));class a extends s.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}async executeCommandWithCount(e,t){for(let r=0;r<e;r++)await i.commands.executeCommand(t)}async execute(){switch(this._arguments.tab){case o.Absolute:void 0!==this._arguments.count&&this._arguments.count>=0&&await i.commands.executeCommand("workbench.action.openEditorAtIndex",this._arguments.count);break;case o.Next:if(void 0!==this._arguments.count&&this._arguments.count<=0)break;await this.executeCommandWithCount(this._arguments.count||1,"workbench.action.nextEditorInGroup");break;case o.Previous:if(void 0!==this._arguments.count&&this._arguments.count<=0)break;await this.executeCommandWithCount(this._arguments.count||1,"workbench.action.previousEditorInGroup");break;case o.First:await i.commands.executeCommand("workbench.action.openEditorAtIndex1");break;case o.Last:await i.commands.executeCommand("workbench.action.lastEditorInGroup");break;case o.New:if(!(void 0===this.arguments.file||""===this.arguments.file)){const e=n.isAbsolute(this.arguments.file),t=void 0!==i.workspace.workspaceFolders&&i.workspace.workspaceFolders.length>0,r=i.window.activeTextEditor.document.uri.fsPath;let s;if(e)s=this.arguments.file;else if(t){const e=i.workspace.workspaceFolders[0].uri.path;s=n.join(e,this.arguments.file)}else s=n.join(n.dirname(r),this.arguments.file);s!==r&&await i.commands.executeCommand("vscode.open",i.Uri.file(s))}else await i.commands.executeCommand("workbench.action.files.newUntitledFile");break;case o.Close:if(void 0===this._arguments.count){await i.commands.executeCommand("workbench.action.closeActiveEditor");break}if(0===this._arguments.count)break;break;case o.Only:await i.commands.executeCommand("workbench.action.closeOtherEditors");break;case o.Move:{const{count:e,direction:t}=this.arguments;let r;r=void 0!==t?{to:t,by:"tab",value:e}:0===e?{to:"first"}:void 0===e?{to:"last"}:{to:"position",by:"tab",value:e+1},await i.commands.executeCommand("moveActiveEditor",r);break}}}}t.TabCommand=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areAllSameTransformation=t.areAnyTransformationsOverlapping=t.isMultiCursorTextTransformation=t.isTextTransformation=void 0;const n=r(18);t.isTextTransformation=e=>"insertText"===e.type||"replaceText"===e.type||"deleteText"===e.type||"deleteRange"===e.type||"moveCursor"===e.type,t.isMultiCursorTextTransformation=e=>{var t;return null!==(t="insertTextVSCode"===e.type&&e.isMultiCursor)&&void 0!==t&&t};const i=e=>{switch(e.type){case"insertText":return new n.Range(e.position,e.position);case"replaceText":return new n.Range(e.start,e.end);case"deleteText":return new n.Range(e.position,e.position);case"deleteRange":return e.range;case"moveCursor":return}throw new Error("Unhandled text transformation: "+e)};t.areAnyTransformationsOverlapping=e=>{for(let t=0;t<e.length;t++)for(let r=t+1;r<e.length;r++){const n=e[t],s=e[r],o=i(n),a=i(s);if(o&&a&&o.overlaps(a))return!0}return!1},t.areAllSameTransformation=e=>{const t=e[0];return e.every(e=>Object.entries(e).every(([e,r])=>t[e]===r))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParser=t.commandParsers=void 0;const n=r(271),i=r(273),s=r(275),o=r(277),a=r(278),c=r(279),u=r(281),l=r(283),d=r(285),h=r(287),f=r(290),p=r(291),g=r(292),m=r(293),v=r(295),y=r(297),w=r(299),b=r(301),x=r(5),C=r(303),S=r(305),M=r(160),_=r(306),E=r(307),k=r(308),A=r(313),R=r(16),P=r(314);t.commandParsers={"!":{parser:k.parseBangCommand},bdelete:{abbrev:"bd",parser:void 0},buffers:{parser:void 0},center:{abbrev:"ce",parser:void 0},clearjumps:{abbrev:"cle",parser:()=>new A.ClearJumpsCommand},close:{abbrev:"clo",parser:n.parseCloseCommandArgs},copy:{abbrev:"co",parser:void 0},delete:{abbrev:"d",parser:i.parseDeleteRangeLinesCommandArgs},digraphs:{abbrev:"dig",parser:s.parseDigraphCommandArgs},display:{abbrev:"di",parser:u.parseRegisterCommandArgs},edit:{abbrev:"e",parser:o.parseEditFileCommandArgs},enew:{abbrev:"ene",parser:o.parseEditNewFileCommandArgs},file:{abbrev:"f",parser:y.parseFileInfoCommandArgs},files:{parser:void 0},global:{abbrev:"g",parser:void 0},help:{abbrev:"h",parser:void 0},history:{abbrev:"his",parser:C.parseHistoryCommandArgs},jumps:{abbrev:"ju",parser:()=>new A.JumpsCommand},left:{abbrev:"le",parser:void 0},ls:{parser:void 0},marks:{parser:w.parseMarksCommandArgs},move:{abbrev:"m",parser:void 0},new:{parser:o.parseEditNewFileInNewHorizontalWindowCommandArgs},nohlsearch:{abbrev:"noh",parser:()=>new S.NohlCommand({})},normal:{abbrev:"norm",parser:void 0},only:{abbrev:"on",parser:()=>new M.OnlyCommand({})},put:{abbrev:"pu",parser:b.parsePutExCommandArgs},qall:{abbrev:"qa",parser:a.parseQuitAllCommandArgs},quit:{abbrev:"q",parser:a.parseQuitCommandArgs},quitall:{abbrev:"quita",parser:a.parseQuitAllCommandArgs},read:{abbrev:"r",parser:c.parseReadCommandArgs},registers:{abbrev:"reg",parser:u.parseRegisterCommandArgs},right:{abbrev:"ri",parser:void 0},set:{abbrev:"se",parser:l.parseOptionsCommandArgs},shell:{abbrev:"sh",parser:()=>new P.ShCommand},smile:{parser:()=>new _.SmileCommand},sort:{abbrev:"sor",parser:d.parseSortCommandArgs},split:{abbrev:"sp",parser:o.parseEditFileInNewHorizontalWindowCommandArgs},substitute:{abbrev:"s",parser:h.parseSubstituteCommandArgs},t:{parser:void 0},tabclose:{abbrev:"tabc",parser:f.parseTabCloseCommandArgs},tabedit:{abbrev:"tabe",parser:f.parseTabNewCommandArgs},tabfirst:{abbrev:"tabfir",parser:f.parseTabFirstCommandArgs},tablast:{abbrev:"tabl",parser:f.parseTabLastCommandArgs},tabmove:{abbrev:"tabm",parser:f.parseTabMovementCommandArgs},tabnew:{parser:f.parseTabNewCommandArgs},tabnext:{abbrev:"tabn",parser:f.parseTabNCommandArgs},tabNext:{abbrev:"tabN",parser:f.parseTabPCommandArgs},tabonly:{abbrev:"tabo",parser:f.parseTabOnlyCommandArgs},tabprevious:{abbrev:"tabp",parser:f.parseTabPCommandArgs},undo:{abbrev:"u",parser:()=>new E.UndoCommand({})},vnew:{abbrev:"vne",parser:o.parseEditNewFileInNewVerticalWindowCommandArgs},vsplit:{abbrev:"vs",parser:o.parseEditFileInNewVerticalWindowCommandArgs},wall:{abbrev:"wa",parser:p.parseWallCommandArgs},wq:{parser:m.parseWriteQuitCommandArgs},wqall:{abbrev:"wqa",parser:v.parseWriteQuitAllCommandArgs},write:{abbrev:"w",parser:g.parseWriteCommandArgs},x:{parser:m.parseWriteQuitCommandArgs},xall:{abbrev:"xa",parser:v.parseWriteQuitAllCommandArgs}},t.getParser=function(e){var r;if(""!==e)for(const n of Object.keys(t.commandParsers)){const i=t.commandParsers[n],s=null!==(r=i.parser)&&void 0!==r?r:e=>new T(n,i);if(void 0!==i.abbrev){if(e.startsWith(i.abbrev)&&n.startsWith(e))return s}else if(e===n)return s}};class T extends x.CommandBase{constructor(e,t){super(),this.fullName=e,this.parserMapping=t}neovimCapable(){return!0}async execute(e){const t=this.parserMapping.abbrev?`${this.parserMapping.abbrev}[${this.fullName.substr(this.parserMapping.abbrev.length)}]`:this.fullName;R.StatusBar.setText(e,`Command :${t} is not yet implemented`,!0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultDigraphs=void 0,t.DefaultDigraphs={SH:["^A",1],SX:["^B",2],EX:["^C",3],ET:["^D",4],EQ:["^E",5],AK:["^F",6],BL:["^G",7],BS:["^H",8],HT:["^I",9],LF:["^@",10],NU:["^@",10],VT:["^K",11],FF:["^L",12],CR:["^M",13],SO:["^N",14],SI:["^O",15],DL:["^P",16],D1:["^Q",17],D2:["^R",18],D3:["^S",19],D4:["^T",20],NK:["^U",21],SY:["^V",22],EB:["^W",23],CN:["^X",24],EM:["^Y",25],SB:["^Z",26],EC:["^[",27],FS:["^\\",28],GS:["^]",29],RS:["^^",30],US:["^_",31],SP:[" ",32],Nb:["#",35],DO:["$",36],At:["@",64],"<(":["[",91],"//":["\\",92],")>":["]",93],"'>":["^",94],"'!":["`",96],"(!":["{",123],"!!":["|",124],"!)":["}",125],"'?":["~",126],DT:["^?",127],PA:["<80>",128],HO:["<81>",129],BH:["<82>",130],NH:["<83>",131],IN:["<84>",132],NL:["<85>",133],SA:["<86>",134],ES:["<87>",135],HS:["<88>",136],HJ:["<89>",137],VS:["<8a>",138],PD:["<8b>",139],PU:["<8c>",140],RI:["<8d>",141],S2:["<8e>",142],S3:["<8f>",143],DC:["<90>",144],P1:["<91>",145],P2:["<92>",146],TS:["<93>",147],CC:["<94>",148],MW:["<95>",149],SG:["<96>",150],EG:["<97>",151],SS:["<98>",152],GC:["<99>",153],SC:["<9a>",154],CI:["<9b>",155],ST:["<9c>",156],OC:["<9d>",157],PM:["<9e>",158],AC:["<9f>",159],NS:["",160],"~!":["",161],"!I":["",161],Ct:["",162],"c|":["",162],Pd:["",163],$$:["",163],Cu:["",164],ox:["",164],Ye:["",165],"Y-":["",165],BB:["",166],"||":["",166],SE:["",167],"':":["",168],Co:["",169],cO:["",169],"-a":["",170],"<<":["",171],NO:["",172],"-,":["",172],"--":["",173],Rg:["",174],"'m":["",175],"-=":["",175],DG:["",176],"~o":["",176],"+-":["",177],"2S":["",178],22:["",178],"3S":["",179],33:["",179],"''":["",180],My:["",181],PI:["",182],pp:["",182],".M":["",183],"~.":["",183],"',":["",184],"1S":["",185],11:["",185],"-o":["",186],">>":["",187],14:["",188],12:["",189],34:["",190],"?I":["",191],"~?":["",191],"A!":["",192],"A`":["",192],"A'":["",193],"A>":["",194],"A^":["",194],"A?":["",195],"A~":["",195],"A:":["",196],'A"':["",196],AA:["",197],"A@":["",197],AE:["",198],"C,":["",199],"E!":["",200],"E`":["",200],"E'":["",201],"E>":["",202],"E^":["",202],"E:":["",203],'E"':["",203],"I!":["",204],"I`":["",204],"I'":["",205],"I>":["",206],"I^":["",206],"I:":["",207],'I"':["",207],"D-":["",208],"N?":["",209],"N~":["",209],"O!":["",210],"O`":["",210],"O'":["",211],"O>":["",212],"O^":["",212],"O?":["",213],"O~":["",213],"O:":["",214],"*X":["",215],"/\\":["",215],"O/":["",216],"U!":["",217],"U`":["",217],"U'":["",218],"U>":["",219],"U^":["",219],"U:":["",220],"Y'":["",221],TH:["",222],Ip:["",222],ss:["",223],"a!":["",224],"a`":["",224],"a'":["",225],"a>":["",226],"a^":["",226],"a?":["",227],"a~":["",227],"a:":["",228],'a"':["",228],aa:["",229],"a@":["",229],ae:["",230],"c,":["",231],"e!":["",232],"e`":["",232],"e'":["",233],"e>":["",234],"e^":["",234],"e:":["",235],'e"':["",235],"i!":["",236],"i`":["",236],"i'":["",237],"i>":["",238],"i^":["",238],"i:":["",239],"d-":["",240],"n?":["",241],"n~":["",241],"o!":["",242],"o`":["",242],"o'":["",243],"o>":["",244],"o^":["",244],"o?":["",245],"o~":["",245],"o:":["",246],"-:":["",247],"o/":["",248],"u!":["",249],"u`":["",249],"u'":["",250],"u>":["",251],"u^":["",251],"u:":["",252],"y'":["",253],th:["",254],"y:":["",255],'y"':["",255],"A-":["",256],"a-":["",257],"A(":["",258],"a(":["",259],"A;":["",260],"a;":["",261],"C'":["",262],"c'":["",263],"C>":["",264],"c>":["",265],"C.":["",266],"c.":["",267],"C<":["",268],"c<":["",269],"D<":["",270],"d<":["",271],"D/":["",272],"d/":["",273],"E-":["",274],"e-":["",275],"E(":["",276],"e(":["",277],"E.":["",278],"e.":["",279],"E;":["",280],"e;":["",281],"E<":["",282],"e<":["",283],"G>":["",284],"g>":["",285],"G(":["",286],"g(":["",287],"G.":["",288],"g.":["",289],"G,":["",290],"g,":["",291],"H>":["",292],"h>":["",293],"H/":["",294],"h/":["",295],"I?":["",296],"i?":["",297],"I-":["",298],"i-":["",299],"I(":["",300],"i(":["",301],"I;":["",302],"i;":["",303],"I.":["",304],"i.":["",305],IJ:["",306],ij:["",307],"J>":["",308],"j>":["",309],"K,":["",310],"k,":["",311],kk:["",312],"L'":["",313],"l'":["",314],"L,":["",315],"l,":["",316],"L<":["",317],"l<":["",318],"L.":["",319],"l.":["",320],"L/":["",321],"l/":["",322],"N'":["",323],"n'":["",324],"N,":["",325],"n,":["",326],"N<":["",327],"n<":["",328],"'n":["",329],NG:["",330],ng:["",331],"O-":["",332],"o-":["",333],"O(":["",334],"o(":["",335],'O"':["",336],'o"':["",337],OE:["",338],oe:["",339],"R'":["",340],"r'":["",341],"R,":["",342],"r,":["",343],"R<":["",344],"r<":["",345],"S'":["",346],"s'":["",347],"S>":["",348],"s>":["",349],"S,":["",350],"s,":["",351],"S<":["",352],"s<":["",353],"T,":["",354],"t,":["",355],"T<":["",356],"t<":["",357],"T/":["",358],"t/":["",359],"U?":["",360],"u?":["",361],"U-":["",362],"u-":["",363],"U(":["",364],"u(":["",365],U0:["",366],u0:["",367],'U"':["",368],'u"':["",369],"U;":["",370],"u;":["",371],"W>":["",372],"w>":["",373],"Y>":["",374],"y>":["",375],"Y:":["",376],"Z'":["",377],"z'":["",378],"Z.":["",379],"z.":["",380],"Z<":["",381],"z<":["",382],fs:["",383],O9:["",416],o9:["",417],OI:["",418],oi:["",419],yr:["",422],U9:["",431],u9:["",432],"Z/":["",437],"z/":["",438],ED:["",439],"A<":["",461],"a<":["",462],"I<":["",463],"i<":["",464],"O<":["",465],"o<":["",466],"U<":["",467],"u<":["",468],A1:["",478],a1:["",479],A7:["",480],a7:["",481],A3:["",482],a3:["",483],"G/":["",484],"g/":["",485],"G<":["",486],"g<":["",487],"K<":["",488],"k<":["",489],"O;":["",490],"o;":["",491],O1:["",492],o1:["",493],EZ:["",494],ez:["",495],"j<":["",496],"G'":["",500],"g'":["",501],";S":["",703],"'<":["",711],"'(":["",728],"'.":["",729],"'0":["",730],"';":["",731],"'\"":["",733],"A%":["",902],"E%":["",904],"Y%":["",905],"I%":["",906],"O%":["",908],"U%":["",910],"W%":["",911],i3:["",912],"A*":["",913],"B*":["",914],"G*":["",915],"D*":["",916],"E*":["",917],"Z*":["",918],"Y*":["",919],"H*":["",920],"I*":["",921],"K*":["",922],"L*":["",923],"M*":["",924],"N*":["",925],"C*":["",926],"O*":["",927],"P*":["",928],"R*":["",929],"S*":["",931],"T*":["",932],"U*":["",933],"F*":["",934],"X*":["",935],"Q*":["",936],"W*":["",937],"J*":["",938],"V*":["",939],"a%":["",940],"e%":["",941],"y%":["",942],"i%":["",943],u3:["",944],"a*":["",945],"b*":["",946],"g*":["",947],"d*":["",948],"e*":["",949],"z*":["",950],"y*":["",951],"h*":["",952],"i*":["",953],"k*":["",954],"l*":["",955],"m*":["",956],"n*":["",957],"c*":["",958],"o*":["",959],"p*":["",960],"r*":["",961],"*s":["",962],"s*":["",963],"t*":["",964],"u*":["",965],"f*":["",966],"x*":["",967],"q*":["",968],"w*":["",969],"j*":["",970],"v*":["",971],"o%":["",972],"u%":["",973],"w%":["",974],"'G":["",984],",G":["",985],T3:["",986],t3:["",987],M3:["",988],m3:["",989],K3:["",990],k3:["",991],P3:["",992],p3:["",993],"'%":["",1012],j3:["",1013],IO:["",1025],"D%":["",1026],"G%":["",1027],IE:["",1028],DS:["",1029],II:["",1030],YI:["",1031],"J%":["",1032],LJ:["",1033],NJ:["",1034],Ts:["",1035],KJ:["",1036],"V%":["",1038],DZ:["",1039],"A=":["",1040],"B=":["",1041],"V=":["",1042],"G=":["",1043],"D=":["",1044],"E=":["",1045],"Z%":["",1046],"Z=":["",1047],"I=":["",1048],"J=":["",1049],"K=":["",1050],"L=":["",1051],"M=":["",1052],"N=":["",1053],"O=":["",1054],"P=":["",1055],"R=":["",1056],"S=":["",1057],"T=":["",1058],"U=":["",1059],"F=":["",1060],"H=":["",1061],"C=":["",1062],"C%":["",1063],"S%":["",1064],Sc:["",1065],'="':["",1066],"Y=":["",1067],'%"':["",1068],JE:["",1069],JU:["",1070],JA:["",1071],"a=":["",1072],"b=":["",1073],"v=":["",1074],"g=":["",1075],"d=":["",1076],"e=":["",1077],"z%":["",1078],"z=":["",1079],"i=":["",1080],"j=":["",1081],"k=":["",1082],"l=":["",1083],"m=":["",1084],"n=":["",1085],"o=":["",1086],"p=":["",1087],"r=":["",1088],"s=":["",1089],"t=":["",1090],"u=":["",1091],"f=":["",1092],"h=":["",1093],"c=":["",1094],"c%":["",1095],"s%":["",1096],sc:["",1097],"='":["",1098],"y=":["",1099],"%'":["",1100],je:["",1101],ju:["",1102],ja:["",1103],io:["",1105],"d%":["",1106],"g%":["",1107],ie:["",1108],ds:["",1109],ii:["",1110],yi:["",1111],"j%":["",1112],lj:["",1113],nj:["",1114],ts:["",1115],kj:["",1116],"v%":["",1118],dz:["",1119],Y3:["",1122],y3:["",1123],O3:["",1130],o3:["",1131],F3:["",1138],f3:["",1139],V3:["",1140],v3:["",1141],C3:["",1152],c3:["",1153],G3:["",1168],g3:["",1169],"A+":["",1488],"B+":["",1489],"G+":["",1490],"D+":["",1491],"H+":["",1492],"W+":["",1493],"Z+":["",1494],"X+":["",1495],Tj:["",1496],"J+":["",1497],"K%":["",1498],"K+":["",1499],"L+":["",1500],"M%":["",1501],"M+":["",1502],"N%":["",1503],"N+":["",1504],"S+":["",1505],"E+":["",1506],"P%":["",1507],"P+":["",1508],Zj:["",1509],ZJ:["",1510],"Q+":["",1511],"R+":["",1512],Sh:["",1513],"T+":["",1514],",+":["",1548],";+":["",1563],"?+":["",1567],"H'":["",1569],aM:["",1570],aH:["",1571],wH:["",1572],ah:["",1573],yH:["",1574],"a+":["",1575],"b+":["",1576],tm:["",1577],"t+":["",1578],tk:["",1579],"g+":["",1580],hk:["",1581],"x+":["",1582],"d+":["",1583],dk:["",1584],"r+":["",1585],"z+":["",1586],"s+":["",1587],sn:["",1588],"c+":["",1589],dd:["",1590],tj:["",1591],zH:["",1592],"e+":["",1593],"i+":["",1594],"++":["",1600],"f+":["",1601],"q+":["",1602],"k+":["",1603],"l+":["",1604],"m+":["",1605],"n+":["",1606],"h+":["",1607],"w+":["",1608],"j+":["",1609],"y+":["",1610],":+":["",1611],'"+':["",1612],"=+":["",1613],"/+":["",1614],"'+":["",1615],"1+":["",1616],"3+":["",1617],"0+":["",1618],aS:["",1648],"p+":["",1662],"v+":["",1700],gf:["",1711],"0a":["",1776],"1a":["",1777],"2a":["",1778],"3a":["",1779],"4a":["",1780],"5a":["",1781],"6a":["",1782],"7a":["",1783],"8a":["",1784],"9a":["",1785],"B.":["",7682],"b.":["",7683],B_:["",7686],b_:["",7687],"D.":["",7690],"d.":["",7691],D_:["",7694],d_:["",7695],"D,":["",7696],"d,":["",7697],"F.":["",7710],"f.":["",7711],"G-":["",7712],"g-":["",7713],"H.":["",7714],"h.":["",7715],"H:":["",7718],"h:":["",7719],"H,":["",7720],"h,":["",7721],"K'":["",7728],"k'":["",7729],K_:["",7732],k_:["",7733],L_:["",7738],l_:["",7739],"M'":["",7742],"m'":["",7743],"M.":["",7744],"m.":["",7745],"N.":["",7748],"n.":["",7749],N_:["",7752],n_:["",7753],"P'":["",7764],"p'":["",7765],"P.":["",7766],"p.":["",7767],"R.":["",7768],"r.":["",7769],R_:["",7774],r_:["",7775],"S.":["",7776],"s.":["",7777],"T.":["",7786],"t.":["",7787],T_:["",7790],t_:["",7791],"V?":["",7804],"v?":["",7805],"W!":["",7808],"w!":["",7809],"W'":["",7810],"w'":["",7811],"W:":["",7812],"w:":["",7813],"W.":["",7814],"w.":["",7815],"X.":["",7818],"x.":["",7819],"X:":["",7820],"x:":["",7821],"Y.":["",7822],"y.":["",7823],"Z>":["",7824],"z>":["",7825],Z_:["",7828],z_:["",7829],h_:["",7830],"t:":["",7831],w0:["",7832],y0:["",7833],A2:["",7842],a2:["",7843],E2:["",7866],e2:["",7867],"E?":["",7868],"e?":["",7869],I2:["",7880],i2:["",7881],O2:["",7886],o2:["",7887],U2:["",7910],u2:["",7911],"Y!":["",7922],"y!":["",7923],Y2:["",7926],y2:["",7927],"Y?":["",7928],"y?":["",7929],";'":["",7936],",'":["",7937],";!":["",7938],",!":["",7939],"?;":["",7940],"?,":["",7941],"!:":["",7942],"?:":["",7943],"1N":["",8194],"1M":["",8195],"3M":["",8196],"4M":["",8197],"6M":["",8198],"1T":["",8201],"1H":["",8202],"-1":["",8208],"-N":["",8211],"-M":["",8212],"-3":["",8213],"!2":["",8214],"=2":["",8215],"'6":["",8216],"'9":["",8217],".9":["",8218],"9'":["",8219],'"6':["",8220],'"9':["",8221],":9":["",8222],'9"':["",8223],"/-":["",8224],"/=":["",8225],"..":["",8229],",.":["",8230],"%0":["",8240],"1'":["",8242],"2'":["",8243],"3'":["",8244],'1"':["",8245],'2"':["",8246],'3"':["",8247],Ca:["",8248],"<1":["",8249],">1":["",8250],":X":["",8251],"'-":["",8254],"/f":["",8260],"0S":["",8304],"4S":["",8308],"5S":["",8309],"6S":["",8310],"7S":["",8311],"8S":["",8312],"9S":["",8313],"+S":["",8314],"-S":["",8315],"=S":["",8316],"(S":["",8317],")S":["",8318],nS:["",8319],"0s":["",8320],"1s":["",8321],"2s":["",8322],"3s":["",8323],"4s":["",8324],"5s":["",8325],"6s":["",8326],"7s":["",8327],"8s":["",8328],"9s":["",8329],"+s":["",8330],"-s":["",8331],"=s":["",8332],"(s":["",8333],")s":["",8334],Li:["",8356],Pt:["",8359],"W=":["",8361],"=e":["",8364],Eu:["",8364],"=R":["",8381],"=P":["",8381],oC:["",8451],co:["",8453],oF:["",8457],N0:["",8470],PO:["",8471],Rx:["",8478],SM:["",8480],TM:["",8482],Om:["",8486],AO:["",8491],13:["",8531],23:["",8532],15:["",8533],25:["",8534],35:["",8535],45:["",8536],16:["",8537],56:["",8538],18:["",8539],38:["",8540],58:["",8541],78:["",8542],"1R":["",8544],"2R":["",8545],"3R":["",8546],"4R":["",8547],"5R":["",8548],"6R":["",8549],"7R":["",8550],"8R":["",8551],"9R":["",8552],aR:["",8553],bR:["",8554],cR:["",8555],"1r":["",8560],"2r":["",8561],"3r":["",8562],"4r":["",8563],"5r":["",8564],"6r":["",8565],"7r":["",8566],"8r":["",8567],"9r":["",8568],ar:["",8569],br:["",8570],cr:["",8571],"<-":["",8592],"-!":["",8593],"->":["",8594],"-v":["",8595],"<>":["",8596],UD:["",8597],"<=":["",8656],"=>":["",8658],"==":["",8660],FA:["",8704],dP:["",8706],TE:["",8707],"/0":["",8709],DE:["",8710],NB:["",8711],"(-":["",8712],"-)":["",8715],"*P":["",8719],"+Z":["",8721],"-2":["",8722],"-+":["",8723],"*-":["",8727],Ob:["",8728],Sb:["",8729],RT:["",8730],"0(":["",8733],"00":["",8734],"-L":["",8735],"-V":["",8736],PP:["",8741],AN:["",8743],OR:["",8744],"(U":["",8745],")U":["",8746],In:["",8747],DI:["",8748],Io:["",8750],".:":["",8756],":.":["",8757],":R":["",8758],"::":["",8759],"?1":["",8764],CG:["",8766],"?-":["",8771],"?=":["",8773],"?2":["",8776],"=?":["",8780],HI:["",8787],"!=":["",8800],"=3":["",8801],"=<":["",8804],">=":["",8805],"<*":["",8810],"*>":["",8811],"!<":["",8814],"!>":["",8815],"(C":["",8834],")C":["",8835],"(_":["",8838],")_":["",8839],"0.":["",8857],"02":["",8858],"-T":["",8869],".P":["",8901],":3":["",8942],".3":["",8943],Eh:["",8962],"<7":["",8968],">7":["",8969],"7<":["",8970],"7>":["",8971],NI:["",8976],"(A":["",8978],TR:["",8981],Iu:["",8992],Il:["",8993],"</":["",9001],"/>":["",9002],Vs:["",9251],"1h":["",9280],"3h":["",9281],"2h":["",9282],"4h":["",9283],"1j":["",9286],"2j":["",9287],"3j":["",9288],"4j":["",9289],"1.":["",9352],"2.":["",9353],"3.":["",9354],"4.":["",9355],"5.":["",9356],"6.":["",9357],"7.":["",9358],"8.":["",9359],"9.":["",9360],hh:["",9472],HH:["",9473],vv:["",9474],VV:["",9475],"3-":["",9476],"3_":["",9477],"3!":["",9478],"3/":["",9479],"4-":["",9480],"4_":["",9481],"4!":["",9482],"4/":["",9483],dr:["",9484],dR:["",9485],Dr:["",9486],DR:["",9487],dl:["",9488],dL:["",9489],Dl:["",9490],LD:["",9491],ur:["",9492],uR:["",9493],Ur:["",9494],UR:["",9495],ul:["",9496],uL:["",9497],Ul:["",9498],UL:["",9499],vr:["",9500],vR:["",9501],Vr:["",9504],VR:["",9507],vl:["",9508],vL:["",9509],Vl:["",9512],VL:["",9515],dh:["",9516],dH:["",9519],Dh:["",9520],DH:["",9523],uh:["",9524],uH:["",9527],Uh:["",9528],UH:["",9531],vh:["",9532],vH:["",9535],Vh:["",9538],VH:["",9547],FD:["",9585],BD:["",9586],TB:["",9600],LB:["",9604],FB:["",9608],lB:["",9612],RB:["",9616],".S":["",9617],":S":["",9618],"?S":["",9619],fS:["",9632],OS:["",9633],RO:["",9634],Rr:["",9635],RF:["",9636],RY:["",9637],RH:["",9638],RZ:["",9639],RK:["",9640],RX:["",9641],sB:["",9642],SR:["",9644],Or:["",9645],UT:["",9650],uT:["",9651],PR:["",9654],Tr:["",9655],Dt:["",9660],dT:["",9661],PL:["",9664],Tl:["",9665],Db:["",9670],Dw:["",9671],LZ:["",9674],"0m":["",9675],"0o":["",9678],"0M":["",9679],"0L":["",9680],"0R":["",9681],Sn:["",9688],Ic:["",9689],Fd:["",9698],Bd:["",9699],"*2":["",9733],"*1":["",9734],"<H":["",9756],">H":["",9758],"0u":["",9786],"0U":["",9787],SU:["",9788],Fm:["",9792],Ml:["",9794],cS:["",9824],cH:["",9825],cD:["",9826],cC:["",9827],Md:["",9833],M8:["",9834],M2:["",9835],Mb:["",9837],Mx:["",9838],MX:["",9839],OK:["",10003],XX:["",10007],"-X":["",10016],IS:["",12288],",_":["",12289],"._":["",12290],'+"':["",12291],"+_":["",12292],"*_":["",12293],";_":["",12294],"0_":["",12295],"<+":["",12298],">+":["",12299],"<'":["",12300],">'":["",12301],'<"':["",12302],'>"':["",12303],'("':["",12304],')"':["",12305],"=T":["",12306],"=_":["",12307],"('":["",12308],")'":["",12309],"(I":["",12310],")I":["",12311],"-?":["",12316],A5:["",12353],a5:["",12354],I5:["",12355],i5:["",12356],U5:["",12357],u5:["",12358],E5:["",12359],e5:["",12360],O5:["",12361],o5:["",12362],ka:["",12363],ga:["",12364],ki:["",12365],gi:["",12366],ku:["",12367],gu:["",12368],ke:["",12369],ge:["",12370],ko:["",12371],go:["",12372],sa:["",12373],za:["",12374],si:["",12375],zi:["",12376],su:["",12377],zu:["",12378],se:["",12379],ze:["",12380],so:["",12381],zo:["",12382],ta:["",12383],da:["",12384],ti:["",12385],di:["",12386],tU:["",12387],tu:["",12388],du:["",12389],te:["",12390],de:["",12391],to:["",12392],do:["",12393],na:["",12394],ni:["",12395],nu:["",12396],ne:["",12397],no:["",12398],ha:["",12399],ba:["",12400],pa:["",12401],hi:["",12402],bi:["",12403],pi:["",12404],hu:["",12405],bu:["",12406],pu:["",12407],he:["",12408],be:["",12409],pe:["",12410],ho:["",12411],bo:["",12412],po:["",12413],ma:["",12414],mi:["",12415],mu:["",12416],me:["",12417],mo:["",12418],yA:["",12419],ya:["",12420],yU:["",12421],yu:["",12422],yO:["",12423],yo:["",12424],ra:["",12425],ri:["",12426],ru:["",12427],re:["",12428],ro:["",12429],wA:["",12430],wa:["",12431],wi:["",12432],we:["",12433],wo:["",12434],n5:["",12435],vu:["",12436],'"5':["",12443],"05":["",12444],"*5":["",12445],"+5":["",12446],a6:["",12449],A6:["",12450],i6:["",12451],I6:["",12452],u6:["",12453],U6:["",12454],e6:["",12455],E6:["",12456],o6:["",12457],O6:["",12458],Ka:["",12459],Ga:["",12460],Ki:["",12461],Gi:["",12462],Ku:["",12463],Gu:["",12464],Ke:["",12465],Ge:["",12466],Ko:["",12467],Go:["",12468],Sa:["",12469],Za:["",12470],Si:["",12471],Zi:["",12472],Su:["",12473],Zu:["",12474],Se:["",12475],Ze:["",12476],So:["",12477],Zo:["",12478],Ta:["",12479],Da:["",12480],Ti:["",12481],Di:["",12482],TU:["",12483],Tu:["",12484],Du:["",12485],Te:["",12486],De:["",12487],To:["",12488],Do:["",12489],Na:["",12490],Ni:["",12491],Nu:["",12492],Ne:["",12493],No:["",12494],Ha:["",12495],Ba:["",12496],Pa:["",12497],Hi:["",12498],Bi:["",12499],Pi:["",12500],Hu:["",12501],Bu:["",12502],Pu:["",12503],He:["",12504],Be:["",12505],Pe:["",12506],Ho:["",12507],Bo:["",12508],Po:["",12509],Ma:["",12510],Mi:["",12511],Mu:["",12512],Me:["",12513],Mo:["",12514],YA:["",12515],Ya:["",12516],YU:["",12517],Yu:["",12518],YO:["",12519],Yo:["",12520],Ra:["",12521],Ri:["",12522],Ru:["",12523],Re:["",12524],Ro:["",12525],WA:["",12526],Wa:["",12527],Wi:["",12528],We:["",12529],Wo:["",12530],N6:["",12531],Vu:["",12532],KA:["",12533],KE:["",12534],Va:["",12535],Vi:["",12536],Ve:["",12537],Vo:["",12538],".6":["",12539],"-6":["",12540],"*6":["",12541],"+6":["",12542],b4:["",12549],p4:["",12550],m4:["",12551],f4:["",12552],d4:["",12553],t4:["",12554],n4:["",12555],l4:["",12556],g4:["",12557],k4:["",12558],h4:["",12559],j4:["",12560],q4:["",12561],x4:["",12562],zh:["",12563],ch:["",12564],sh:["",12565],r4:["",12566],z4:["",12567],c4:["",12568],s4:["",12569],a4:["",12570],o4:["",12571],e4:["",12572],ai:["",12574],ei:["",12575],au:["",12576],ou:["",12577],an:["",12578],en:["",12579],aN:["",12580],eN:["",12581],er:["",12582],i4:["",12583],u4:["",12584],iu:["",12585],v4:["",12586],nG:["",12587],gn:["",12588],"1c":["",12832],"2c":["",12833],"3c":["",12834],"4c":["",12835],"5c":["",12836],"6c":["",12837],"7c":["",12838],"8c":["",12839],"9c":["",12840],ff:["",64256],fi:["",64257],fl:["",64258],ft:["",64261],st:["",64262],"W`":["",7808],"w`":["",7809],"Y`":["",7922],"y`":["",7923]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WallCommand=void 0;const n=r(0),i=r(5);class s extends i.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}async execute(){await n.workspace.saveAll(!1)}}t.WallCommand=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteCommand=void 0;const n=r(30),i=r(5),s=r(21),o=r(0),a=r(12),c=r(16);class u extends i.CommandBase{constructor(e){super(),this._logger=a.Logger.get("Write"),this._arguments=e}get arguments(){return this._arguments}async execute(e){if(this.arguments.opt)this._logger.warn("not implemented");else if(this.arguments.file)this._logger.warn("not implemented");else if(this.arguments.append)this._logger.warn("not implemented");else if(this.arguments.cmd)this._logger.warn("not implemented");else if(e.editor.document.isUntitled||"file"!==e.editor.document.uri.scheme)await this.background(o.commands.executeCommand("workbench.action.files.save"));else try{return await n.accessAsync(e.editor.document.fileName,n.constants.W_OK),this.save(e)}catch(t){if(this.arguments.bang)try{return await n.chmodAsync(e.editor.document.fileName,666),this.save(e)}catch(t){c.StatusBar.setText(e,t.message)}else c.StatusBar.setText(e,t.message)}}async save(e){await this.background(e.editor.document.save().then(()=>{let t='"'+s.basename(e.editor.document.fileName)+'" '+e.editor.document.lineCount+"L "+e.editor.document.getText().length+"C written";c.StatusBar.setText(e,t)},t=>c.StatusBar.setText(e,t)))}async background(e){this._arguments.bgWrite||await e}}t.WriteCommand=u},function(e,t,r){"use strict";var n,i,s=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.SneakBackward=t.SneakForward=void 0;const o=r(0),a=r(2),c=r(10),u=r(3),l=r(39);let d=n=class extends l.BaseMovement{constructor(){super(...arguments),this.keys=[["s","<character>","<character>"],["z","<character>","<character>"]],this.isJump=!0}couldActionApply(e,t){const r=void 0===e.recordedState.operator?"s":"z";return a.configuration.sneak&&super.couldActionApply(e,t)&&t[0]===r}async execAction(e,t){this.isRepeat||(t.lastSemicolonRepeatableMovement=new n(this.keysPressed,!0),t.lastCommaRepeatableMovement=new h(this.keysPressed,!0));const r=o.window.activeTextEditor.document,i=r.lineCount;"\n"===this.keysPressed[2]&&(this.keysPressed[2]="");const s=this.keysPressed[1]+this.keysPressed[2];for(let t=e.line;t<i;++t){const n=r.lineAt(t).text,i=t===e.line?e.character+1:0;let o=-1;if(o=a.configuration.sneakUseIgnorecaseAndSmartcase&&a.configuration.ignorecase&&!(a.configuration.smartcase&&/[A-Z]/.test(s))?n.toLocaleLowerCase().indexOf(s.toLocaleLowerCase(),i):n.indexOf(s,i),o>=0)return new u.Position(t,o)}return e}};d=n=s([c.RegisterAction],d),t.SneakForward=d;let h=i=class extends l.BaseMovement{constructor(){super(...arguments),this.keys=[["S","<character>","<character>"],["Z","<character>","<character>"]],this.isJump=!0}couldActionApply(e,t){const r=void 0===e.recordedState.operator?"S":"Z";return a.configuration.sneak&&super.couldActionApply(e,t)&&t[0]===r}async execAction(e,t){this.isRepeat||(t.lastSemicolonRepeatableMovement=new i(this.keysPressed,!0),t.lastCommaRepeatableMovement=new d(this.keysPressed,!0));const r=o.window.activeTextEditor.document;"\n"===this.keysPressed[2]&&(this.keysPressed[2]="");const n=this.keysPressed[1]+this.keysPressed[2];for(let t=e.line;t>=0;--t){const i=r.lineAt(t).text,s=t===e.line?e.character-1:1/0;let o=-1;if(o=a.configuration.sneakUseIgnorecaseAndSmartcase&&a.configuration.ignorecase&&!(a.configuration.smartcase&&/[A-Z]/.test(n))?i.toLocaleLowerCase().lastIndexOf(n.toLocaleLowerCase(),s):i.lastIndexOf(n,s),o>=0)return new u.Position(t,o)}return e}};h=i=s([c.RegisterAction],h),t.SneakBackward=h},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandOneNormalCommandInInsertMode=t.CommandInsertInInsertMode=t.CommandDeleteInInsertMode=t.CommandBackspaceInInsertMode=t.CommandInsertPreviousText=void 0;const i=r(0),s=r(8),o=r(318),a=r(29),c=r(3),u=r(18),l=r(2),d=r(6),h=r(15),f=r(4),p=r(10),g=r(64),m=r(19),v=r(164),y=r(61);let w=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){t.cursors=t.cursors.map(e=>e.withNewStop(e.stop.getLeft())),t.returnToInsertAfterCommand&&0!==e.character&&(t.cursors=t.cursors.map(e=>e.withNewStop(e.stop.getRight())));for(let e=0;e<t.cursors.length;e++){const r=t.keyHistory[t.keyHistory.length-2];["o","O","\n"].includes(r)&&"plaintext"!==t.editor.document.languageId&&/^\s+$/.test(f.TextEditor.getLineAt(t.cursors[e].stop).text)&&(t.recordedState.transformations.push({type:"deleteRange",range:new u.Range(t.cursors[e].stop.getLineBegin(),t.cursors[e].stop.getLineEnd())}),t.cursors[e]=t.cursors[e].withNewStop(t.cursors[e].stop.getLineBegin()))}await t.setCurrentMode(d.Mode.Normal);const r=t.recordedState.actionsRun[t.recordedState.actionsRun.length-3],n=r instanceof m.CommandInsertAtCursor||r instanceof m.CommandInsertAfterCursor||r instanceof m.CommandInsertAtLineEnd||r instanceof m.CommandInsertAtFirstCharacter;if(t.recordedState.count>1&&n){const e=t.recordedState.actionsRun[t.recordedState.actionsRun.length-2];for(let r=0;r<t.recordedState.count-1;r++){const n=r===t.recordedState.count-2?new c.PositionDiff({character:-1}):new c.PositionDiff;t.recordedState.transformations.push(e.getTransformation(n))}}return t.historyTracker.currentContentChanges.length>0&&(t.historyTracker.lastContentChanges=t.historyTracker.currentContentChanges,t.historyTracker.currentContentChanges=[]),t.isFakeMultiCursor&&(t.cursors=[t.cursors[0]],t.isMultiCursor=!1,t.isFakeMultiCursor=!1),t}};w=n([p.RegisterAction],w);let b=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-a>"]}async exec(e,t){let r=(await h.Register.getByKey(".")).text;if(!r.actionsRun)throw s.VimError.fromCode(s.ErrorCode.NoInsertedTextYet);let n=r.actionsRun.slice(0);n.shift(),n.length>0&&n[0]instanceof g.ArrowsInInsertMode&&n.shift();for(let e of n)e instanceof m.BaseCommand&&(t=await e.execCount(t.cursorStopPosition,t)),e instanceof m.DocumentContentChangeAction&&(t=await e.exec(t.cursorStopPosition,t));return t.cursorStopPosition=c.Position.FromVSCodePosition(t.editor.selection.end),t.cursorStartPosition=c.Position.FromVSCodePosition(t.editor.selection.start),await t.setCurrentMode(d.Mode.Insert),t}};b=n([p.RegisterAction],b),t.CommandInsertPreviousText=b;let x=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-shift+2>"]}async exec(e,t){return t=await(new b).exec(e,t),await t.setCurrentMode(d.Mode.Normal),t}};x=n([p.RegisterAction],x);let C=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-e>"]}async exec(e,t){if(f.TextEditor.isLastLine(e))return t;const r=e.getDown();if(r.isLineEnd())return t;const n=f.TextEditor.getText(new i.Range(r,r.getRight()));return await f.TextEditor.insert(n,e),t.cursorStartPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t.cursorStopPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t}};C=n([p.RegisterAction],C);let S=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-t>"]}async exec(e,t){const r=f.TextEditor.getLineAt(e).text,n=f.TextEditor.getIndentationLevel(r),i=l.configuration.tabstop||Number(t.editor.options.tabSize),s=(n/i+1)*i;return t.recordedState.transformations.push({type:"replaceText",text:f.TextEditor.setIndentationLevel(r,s),start:e.getLineBegin(),end:e.getLineEnd(),diff:new c.PositionDiff({character:s-n})}),t}};S=n([p.RegisterAction],S);let M=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<BS>"]}async exec(e,t){const r=f.TextEditor.getLineAt(e).text,n=t.editor.selections.find(t=>t.contains(e));if(n&&!n.isEmpty)t.recordedState.transformations.push({type:"deleteRange",range:new u.Range(n.start,n.end)});else if(e.character>0&&r.length>0&&r.match(/^\s+$/)&&l.configuration.expandtab){const n=t.editor.options.tabSize,i=Math.floor((e.character-1)/n)*n;t.recordedState.transformations.push({type:"deleteRange",range:new u.Range(e.withColumn(i),e.withColumn(r.length))})}else e.isAtDocumentBegin()||t.recordedState.transformations.push({type:"deleteText",position:e});return t.cursorStopPosition=t.cursorStopPosition.getLeft(),t.cursorStartPosition=t.cursorStartPosition.getLeft(),t}};M=n([p.RegisterAction],M),t.CommandBackspaceInInsertMode=M;let _=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<Del>"]}async exec(e,t){const r=f.TextEditor.getSelection();return r.isEmpty?e.isAtDocumentEnd()||t.recordedState.transformations.push({type:"deleteText",position:e.getRightThroughLineBreaks(!0)}):t.recordedState.transformations.push({type:"deleteRange",range:new u.Range(r.start,r.end)}),t}};_=n([p.RegisterAction],_),t.CommandDeleteInInsertMode=_;let E=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<character>"]}async exec(e,t){const r=this.keysPressed[this.keysPressed.length-1];return t.recordedState.transformations.push({type:"insertTextVSCode",text:r,isMultiCursor:t.isMultiCursor}),t}toString(){return this.keysPressed[this.keysPressed.length-1]}};E=n([p.RegisterAction],E),t.CommandInsertInInsertMode=E;let k=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-k>","<any>","<any>"],this.isCompleteAction=!1}async exec(e,t){const r=this.keysPressed.slice(1,3).join(""),n=r.split("").reverse().join("");let i=(v.DefaultDigraphs[r]||v.DefaultDigraphs[n]||l.configuration.digraphs[r]||l.configuration.digraphs[n])[1];i instanceof Array||(i=[i]);const s=String.fromCharCode(...i);return await f.TextEditor.insertAt(s,e),await t.setCurrentMode(d.Mode.Insert),t.cursorStartPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t.cursorStopPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t}doesActionApply(e,t){if(!super.doesActionApply(e,t))return!1;const r=t.slice(1,3).join(""),n=r.split("").reverse().join("");return r in l.configuration.digraphs||n in l.configuration.digraphs||r in v.DefaultDigraphs||n in v.DefaultDigraphs}couldActionApply(e,t){if(!super.couldActionApply(e,t))return!1;const r=t.slice(1,t.length).join(""),n=r.split("").reverse().join("");if(r.length>0){const e=e=>{const t=e.substring(0,r.length);return r===t||n===t};return void 0!==(Object.keys(l.configuration.digraphs).find(e)||Object.keys(v.DefaultDigraphs).find(e))}return!0}};k=n([p.RegisterAction],k);let A=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}async exec(e,t){t.recordedState.registerName=this.keysPressed[1];const r=await h.Register.get(t);let n;if(r.text instanceof Array)n=r.text.join("\n");else{if(r.text instanceof a.RecordedState)return t.recordedState.transformations.push({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"}),t;n=r.text}return r.registerMode===h.RegisterMode.LineWise&&(n+="\n"),await f.TextEditor.insertAt(n,e),await t.setCurrentMode(d.Mode.Insert),t.cursorStartPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t.cursorStopPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t}doesActionApply(e,t){const r=t[1];return super.doesActionApply(e,t)&&h.Register.isValidRegister(r)}couldActionApply(e,t){const r=t[1];return super.couldActionApply(e,t)&&h.Register.isValidRegister(r)}};A=n([p.RegisterAction],A);let R=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-o>"]}async exec(e,t){return t.returnToInsertAfterCommand=!0,t.actionCount=0,(new w).exec(e,t)}};R=n([p.RegisterAction],R),t.CommandOneNormalCommandInInsertMode=R;let P=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-w>"]}async exec(e,t){let r;return r=e.isInLeadingWhitespace()?e.getLineBegin():e.isLineBeginning()?e.getPreviousLineBegin().getLineEnd():e.getWordLeft(),await f.TextEditor.delete(new i.Range(r,e)),t.cursorStopPosition=r,t}};P=n([p.RegisterAction],P);let T=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-d>"]}async exec(e,t){const r=f.TextEditor.getLineAt(e).text,n=f.TextEditor.getIndentationLevel(r);if(0===n)return t;const s=l.configuration.tabstop,o=(n/s-1)*s;await f.TextEditor.replace(new i.Range(e.getLineBegin(),e.getLineEnd()),f.TextEditor.setIndentationLevel(r,o<0?0:o));const a=c.Position.FromVSCodePosition(e.with(e.line,e.character+(o-n)/s));return t.cursorStopPosition=a,t.cursorStartPosition=a,await t.setCurrentMode(d.Mode.Insert),t}};T=n([p.RegisterAction],T);let L=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-y>"]}async exec(e,t){if(f.TextEditor.isFirstLine(e))return t;const r=e.getUp(1);if(r.isLineEnd())return t;const n=f.TextEditor.getText(new i.Range(r,r.getRight()));return await f.TextEditor.insert(n,e),t.cursorStartPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t.cursorStopPosition=c.Position.FromVSCodePosition(t.editor.selection.start),t}};L=n([p.RegisterAction],L);let B=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-h>"]}async exec(e,t){return t.recordedState.transformations.push({type:"deleteText",position:e}),t}};B=n([p.RegisterAction],B);let O=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-u>"]}async exec(e,t){const r=e.isInLeadingWhitespace()?e.getLineBegin():e.getLineBeginRespectingIndent();return await f.TextEditor.delete(new i.Range(r,e)),t.cursorStopPosition=r,t.cursorStartPosition=r,t}};O=n([p.RegisterAction],O);let F=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=[["<C-n>"],["<C-j>"]]}async exec(e,t){if(t.isMultiCursor&&i.window.activeTextEditor){const t=i.window.activeTextEditor.selections[0];t.active.line===e.line&&t.active.character===e.character&&await i.commands.executeCommand("selectNextSuggestion")}else await i.commands.executeCommand("selectNextSuggestion");return t}};F=n([p.RegisterAction],F);let D=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-p>"]}async exec(e,t){if(t.isMultiCursor&&i.window.activeTextEditor){const t=i.window.activeTextEditor.selections[0];t.active.line===e.line&&t.active.character===e.character&&await i.commands.executeCommand("selectPrevSuggestion")}else await i.commands.executeCommand("selectPrevSuggestion");return t}};D=n([p.RegisterAction],D);let I=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-v>"]}async exec(e,t){const r=await y.Clipboard.Paste();return t.recordedState.transformations.push({type:"deleteRange",range:new u.Range(t.cursorStartPosition,t.cursorStopPosition)}),t.isMultiCursor?t.recordedState.transformations.push({type:"insertText",text:r,position:t.cursorStopPosition}):t.recordedState.transformations.push({type:"insertTextVSCode",text:r}),t}};I=n([p.RegisterAction],I);let N=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<C-x>","<C-l>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){return await o.lineCompletionProvider.showLineCompletionsQuickPick(e,t),t}};N=n([p.RegisterAction],N);let $=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=[["<C-j>"],["<C-m>"]]}async exec(e,t){return t.recordedState.transformations.push({type:"insertText",text:"\n",position:e,diff:new c.PositionDiff({character:-1})}),t}};$=n([p.RegisterAction],$);let j=class extends m.BaseCommand{constructor(){super(...arguments),this.modes=[d.Mode.Insert],this.keys=["<Insert>"]}async exec(e,t){return(new m.CommandReplaceAtCursorFromNormalMode).exec(e,t)}};j=n([p.RegisterAction],j)},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.EasyMotionLineMoveCommandBase=t.EasyMotionWordMoveCommandBase=t.EasyMotionCharMoveCommandBase=t.SearchByNCharCommand=t.SearchByCharCommand=t.buildTriggerKeys=void 0;const i=r(3),s=r(2),o=r(6),a=r(10),c=r(19),u=r(170),l=r(23),d=r(4),h=r(322);function f(e){return[...Array.from({length:e.leaderCount||2},()=>"<leader>"),...e.key.split("")]}t.buildTriggerKeys=f;class p extends c.BaseCommand{constructor(e,t){super(),this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualLine,o.Mode.VisualBlock],this._baseOptions=e,t&&(this.keys=f(t))}processMarkers(e,t,r){r.easyMotion.clearMarkers();let n=0;const i=new h.MarkerGenerator(e.length);for(const s of e){const e=this.resolveMatchPosition(s);if(!e.isEqual(t)){const t=i.generateMarker(n++,e);t&&r.easyMotion.addMarker(t)}}}searchOptions(e){switch(this._baseOptions.searchOptions){case"min":return{min:e};case"max":return{max:e};default:return{}}}async exec(e,t){if(s.configuration.easymotion){const r=this.getMatches(e,t);if(o.isVisualMode(t.easyMotion.previousMode)&&(t.cursorStartPosition=t.lastVisualSelection.start,t.cursorStopPosition=t.lastVisualSelection.end),0===r.length)return t;if(t.easyMotion=new u.EasyMotion,this.processMarkers(r,e,t),1===r.length){const e=t.easyMotion.markers[0];return t.cursorStopPosition=e.position,t.easyMotion.clearDecorations(),t}return t.easyMotion.previousMode=t.currentMode,await t.setCurrentMode(o.Mode.EasyMotionMode),t}return t}}function g(e,t,r,n){switch(r){case"":return[];case" ":return t.easyMotion.sortedSearch(e,new RegExp(" {1,}","g"),n);default:if(!/[a-zA-Z]/.test(r))return t.easyMotion.sortedSearch(e,r,n);const i=s.configuration.ignorecase&&!(s.configuration.smartcase&&/[A-Z]/.test(r))?"gi":"g";return t.easyMotion.sortedSearch(e,new RegExp(r,i),n)}}t.SearchByCharCommand=class extends p{constructor(e){super(e),this._searchString="",this._options=e}get searchCharCount(){return this._options.charCount}getMatches(e,t){return g(e,t,this._searchString,this.searchOptions(e))}updateSearchString(e){this._searchString=e}getSearchString(){return this._searchString}shouldFire(){const e=this._options.charCount;return!e||this._searchString.length>=e}fire(e,t){return this.exec(e,t)}resolveMatchPosition(e){const{line:t,character:r}=e.position;switch(this._options.labelPosition){case"after":return new i.Position(t,r+this._options.charCount);case"before":return new i.Position(t,Math.max(0,r-1));default:return e.position}}};t.SearchByNCharCommand=class extends p{constructor(){super({}),this._searchString=""}get searchCharCount(){return-1}resolveMatchPosition(e){return e.position}updateSearchString(e){this._searchString=e}getSearchString(){return this._searchString}getMatches(e,t){return g(e,t,this.removeTrailingLineBreak(this._searchString),{})}removeTrailingLineBreak(e){return e.replace(new RegExp("\n+$","g"),"")}shouldFire(){return this._searchString.endsWith("\n")}async fire(e,t){return""===this.removeTrailingLineBreak(this._searchString)?t:this.exec(e,t)}};class m extends c.BaseCommand{constructor(e,t){super(),this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualLine,o.Mode.VisualBlock],this._action=t,this.keys=f(e)}async exec(e,t){return s.configuration.easymotion?(t.easyMotion=new u.EasyMotion,t.easyMotion.previousMode=t.currentMode,t.easyMotion.searchAction=this._action,l.globalState.hl=!0,await t.setCurrentMode(o.Mode.EasyMotionInputMode),t):t}}t.EasyMotionCharMoveCommandBase=m;t.EasyMotionWordMoveCommandBase=class extends p{constructor(e,t={}){super(t,e),this._options=t}getMatches(e,t){return this.getMatchesForWord(e,t,this.searchOptions(e))}resolveMatchPosition(e){const{line:t,character:r}=e.position;switch(this._options.labelPosition){case"after":return new i.Position(t,r+e.text.length-1);default:return e.position}}getMatchesForWord(e,t,r){const n=this._options.jumpToAnywhere?new RegExp(s.configuration.easymotionJumpToAnywhereRegex,"g"):new RegExp("\\w{1,}","g");return t.easyMotion.sortedSearch(e,n,r)}};t.EasyMotionLineMoveCommandBase=class extends p{constructor(e,t={}){super(t,e),this._options=t}resolveMatchPosition(e){return e.position}getMatches(e,t){return this.getMatchesForLineStart(e,t,this.searchOptions(e))}getMatchesForLineStart(e,t,r){const n=t.easyMotion.sortedSearch(e,new RegExp("^.","gm"),r);for(const e of n)e.position=d.TextEditor.getFirstNonWhitespaceCharOnLine(e.position.line);return n}};let v=class extends c.BaseCommand{constructor(){super(...arguments),this.modes=[o.Mode.EasyMotionInputMode],this.keys=["<character>"]}async exec(e,t){const r=this.keysPressed[0],n=t.easyMotion.searchAction,i=n.getSearchString(),s="<BS>"===r||"<shift+BS>"===r?i.slice(0,-1):i+r;if(n.updateSearchString(s),n.shouldFire()){return await t.setCurrentMode(t.easyMotion.previousMode),await n.fire(t.cursorStopPosition,t)}return t}};v=n([a.RegisterAction],v);let y=class extends c.BaseCommand{constructor(){super(...arguments),this.modes=[o.Mode.EasyMotionInputMode],this.keys=["<Esc>"]}async exec(e,t){return await t.setCurrentMode(o.Mode.Normal),t}};y=n([a.RegisterAction],y);let w=class extends c.BaseCommand{constructor(){super(...arguments),this.modes=[o.Mode.EasyMotionMode],this.keys=["<character>"]}async exec(e,t){const r=this.keysPressed[0];if(r){const e=t.easyMotion.accumulation+r;t.easyMotion.accumulation=e;const n=t.easyMotion.findMarkers(e,!0);if(o.isVisualMode(t.easyMotion.previousMode)&&(t.cursorStartPosition=t.lastVisualSelection.start,t.cursorStopPosition=t.lastVisualSelection.end),1===n.length){const e=n[0];return t.easyMotion.clearDecorations(),await t.setCurrentMode(t.easyMotion.previousMode),t.cursorStopPosition=e.position,t}return 0===n.length?(t.easyMotion.clearDecorations(),await t.setCurrentMode(t.easyMotion.previousMode),t):t}return t}};w=n([a.RegisterAction],w)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EasyMotion=void 0;const n=r(0),i=r(3),s=r(2),o=r(4);class a{constructor(){this.accumulation="",this.fade=n.window.createTextEditorDecorationType({textDecoration:"none;\n    filter: grayscale(1);"}),this.hide=n.window.createTextEditorDecorationType({opacity:`0;\n    visibility: hidden;\n    margin: 0 ${s.configuration.easymotionMarkerMargin/2}px;`}),this._markers=[],this.visibleMarkers=[],this.decorations=[]}get markers(){return this._markers}static getDecorationType(e,t){const r=this.decorationTypeCache[e];if(r)return r;{const r=n.window.createTextEditorDecorationType(t||{});return this.decorationTypeCache[e]=r,r}}clearDecorations(){const e=n.window.activeTextEditor;for(let t=1;t<=this.decorations.length;t++)e.setDecorations(a.getDecorationType(t),[]);e.setDecorations(this.fade,[]),e.setDecorations(this.hide,[])}clearMarkers(){this._markers=[],this.visibleMarkers=[]}addMarker(e){this._markers.push(e)}getMarker(e){return this._markers[e]}findMarkers(e,t){return(t?this.visibleMarkers:this._markers).filter(t=>t.name.startsWith(e))}sortedSearch(e,t="",r={}){const n="string"==typeof t?new RegExp(t.replace(a.specialCharactersRegex,"\\$&"),"g"):t,s=[];let c,u=e.character;const l=o.TextEditor.getLineCount(),d=r.min?Math.max(r.min.line,0):0,h=r.max?Math.min(r.max.line+1,l):l;e:for(let t=d;t<h;t++){const l=o.TextEditor.getLine(t).text;let d=n.exec(l);for(;d;){if(s.length>=1e3)break e;{const o=new i.Position(t,d.index);r.min&&o.isBefore(r.min)||r.max&&o.isAfter(r.max)||Math.abs(o.line-e.line)>100||(c&&!c.position.isBefore(e)||(u=s.length),o.isEqual(e)||(c=new a.Match(o,d[0],s.length),s.push(c))),d=n.exec(l)}}}return s.sort((e,t)=>{return r(e.index)-r(t.index);function r(e){const t=Math.abs(u-e);return e<u?t-.5:t}}),s}getMarkerColor(e,t){return e||new n.ThemeColor(t)}getEasymotionMarkerBackgroundColor(){return this.getMarkerColor(s.configuration.easymotionMarkerBackgroundColor,"#0000")}getEasymotionMarkerForegroundColorOneChar(){return this.getMarkerColor(s.configuration.easymotionMarkerForegroundColorOneChar,"activityBarBadge.foreground")}getEasymotionMarkerForegroundColorTwoChar(){return this.getMarkerColor(s.configuration.easymotionMarkerForegroundColorTwoChar,"activityBarBadge.foreground")}updateDecorations(){this.clearDecorations(),this.visibleMarkers=[],this.decorations=[];const e=n.window.activeTextEditor,t=[],r=[],o=this._markers.filter(e=>e.name.startsWith(this.accumulation)).sort((e,t)=>e.position.isBefore(t.position)?-1:1);for(const e of o){const i=e.position,a=e.name.substr(this.accumulation.length);this.decorations[a.length]||(this.decorations[a.length]=[]);const c=a.length>1?this.getEasymotionMarkerForegroundColorTwoChar():this.getEasymotionMarkerForegroundColorOneChar(),u=i.character,l=new n.Range(i.line,u,i.line,u);let d=0;const h=o[o.indexOf(e)+1];if(h&&h.position.character-i.character==1){const e=h.name.substr(this.accumulation.length);a.length>1&&e.length>1&&(d=-1)}const f=s.configuration.easymotionMarkerFontSize||s.configuration.getConfiguration("editor").fontSize,p=s.configuration.easymotionMarkerFontFamily||s.configuration.getConfiguration("editor").fontFamily,g={before:{contentText:-1===d?a.substring(0,1):a,backgroundColor:this.getEasymotionMarkerBackgroundColor(),color:c,width:`${a.length*s.configuration.easymotionMarkerWidthPerChar}px;\n          position: absolute;\n          z-index: 1;\n          margin: 0 ${s.configuration.easymotionMarkerMargin/2}px;\n          transform: translateX(-0.05ch);\n          border-radius: 1px;\n          font-family: ${p};\n          font-size: ${f}px;\n          font-weight: ${s.configuration.easymotionMarkerFontWeight};`}};if(r.push(new n.Range(i.line,i.character,i.line,i.character+a.length+d)),s.configuration.easymotionDimBackground){const e=i.getLineEndIncludingEOL().character-u==1?i.character:u;if(0===t.length)t.push(new n.Range(0,0,i.line,e));else{const r=t[t.length-1];t.push(new n.Range(r.end.line,r.end.character,i.line,e))}}this.decorations[a.length].push({range:l,renderOptions:{dark:g,light:g}}),this.visibleMarkers.push(e)}s.configuration.easymotionDimBackground&&t.push(new n.Range(o[o.length-1].position,new i.Position(e.document.lineCount,Number.MAX_VALUE)));for(let t=1;t<this.decorations.length;t++)this.decorations[t]&&e.setDecorations(a.getDecorationType(t),this.decorations[t]);e.setDecorations(this.hide,r),s.configuration.easymotionDimBackground&&e.setDecorations(this.fade,t)}}t.EasyMotion=a,a.specialCharactersRegex=/[\-\[\]{}()*+?.,\\\^$|#\s]/g,a.decorationTypeCache=[],function(e){e.Match=class{constructor(e,t,r){this.position=e,this.text=t,this.index=r}toRange(){return new n.Range(this.position,this.position.translate(0,this.text.length))}}}(a=t.EasyMotion||(t.EasyMotion={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activate=t.getAndUpdateModeHandler=void 0;const n=r(0),i=r(21),s=r(330),o=r(98),a=r(40),c=r(47),u=r(172),l=r(6),d=r(32),h=r(12),f=r(3),p=r(16),g=r(69),m=r(37),v=r(2),y=r(23),w=r(406),b=r(15);let x,C=void 0,S=null;async function M(e=!1){const t=n.window.activeTextEditor,r=o.EditorIdentity.fromEditor(t);let[i,s]=await u.ModeHandlerMap.getOrCreate(r);if(s&&x.subscriptions.push(i),i.vimState.editor=t,!e&&C&&C.isEqual(r)||(i.syncCursors(),await i.updateView(i.vimState,{drawSelection:!1,revealRange:!1})),C=r,i.vimState.focusChanged&&(i.vimState.focusChanged=!1,C)){u.ModeHandlerMap.get(C).vimState.focusChanged=!0}return i}async function _(){const e=h.Logger.get("Configuration"),t=await v.configuration.load();if(e.debug(t.numErrors+" errors found with vim configuration"),t.numErrors>0)for(let r of t.get())switch(r.level){case"error":e.error(r.message);break;case"warning":e.warn(r.message)}}async function E(e,t){if(await g.VsCodeContext.Set("vim.active",!e),!n.window.activeTextEditor)return;let r=await M();e?(await r.handleKeyEvent("<ExtensionDisable>"),t.reset(),u.ModeHandlerMap.clear()):await r.handleKeyEvent("<ExtensionEnable>")}function k(e,t,r){const i=n.commands.registerCommand(t,async e=>v.configuration.disableExtension?n.commands.executeCommand("default:"+t,e):n.window.activeTextEditor?n.window.activeTextEditor.document&&"debug:input"===n.window.activeTextEditor.document.uri.toString()?n.commands.executeCommand("default:"+t,e):r(e):void 0);e.subscriptions.push(i)}function A(e,t,r){const i=n.commands.registerCommand(t,async e=>{n.window.activeTextEditor&&r(e)});e.subscriptions.push(i)}function R(e,t,r,n=!0,i=!1){const s=t(async e=>{n&&v.configuration.disableExtension||i&&a.Globals.isTesting||r(e)});e.subscriptions.push(s)}async function P(e){const t=await M();w.taskQueue.enqueueTask(async()=>{await t.handleKeyEvent(e)})}t.getAndUpdateModeHandler=M,t.activate=async function(e,t=!0){await _();const r=h.Logger.get("Extension Startup");if(r.debug("Start"),x=e,x.subscriptions.push(p.StatusBar),n.window.activeTextEditor){const e=n.window.activeTextEditor.document.fileName.split(/\\|\//);b.Register.putByKey(e[e.length-1],"%",void 0,!0)}await Promise.all([m.commandLine.load(),y.globalState.load()]),R(e,n.workspace.onDidChangeConfiguration,async()=>{await _()},!1),R(e,n.workspace.onDidChangeTextDocument,async e=>{var r;1===(r=e).contentChanges.length&&""===r.contentChanges[0].text&&r.contentChanges[0].range.start.line!==r.contentChanges[0].range.end.line?y.globalState.jumpTracker.handleTextDeleted(e.document,e.contentChanges[0].range):(e=>1===e.contentChanges.length&&("\n"===e.contentChanges[0].text||"\r\n"===e.contentChanges[0].text)&&e.contentChanges[0].range.start.line===e.contentChanges[0].range.end.line)(e)&&y.globalState.jumpTracker.handleTextAdded(e.document,e.contentChanges[0].range,e.contentChanges[0].text);const n=t=>{t.vimState.currentMode===l.Mode.Insert&&(void 0===t.vimState.historyTracker.currentContentChanges&&(t.vimState.historyTracker.currentContentChanges=[]),t.vimState.historyTracker.currentContentChanges=t.vimState.historyTracker.currentContentChanges.concat(e.contentChanges))};a.Globals.isTesting&&a.Globals.mockModeHandler?n(a.Globals.mockModeHandler):u.ModeHandlerMap.getAll().filter(t=>t.vimState.identity.fileName===e.document.fileName).forEach(e=>{n(e)}),t&&setTimeout(()=>{var t;e.document.isDirty||e.document.isUntitled||!e.contentChanges.length||(t=e.document,u.ModeHandlerMap.getAll().filter(e=>e.vimState.identity.fileName===t.fileName).forEach(e=>{e.vimState.historyTracker.clear()}))},0)}),R(e,n.workspace.onDidCloseTextDocument,async e=>{const t=n.workspace.textDocuments;for(let r of u.ModeHandlerMap.getKeys()){const n=u.ModeHandlerMap.get(r);let i=!1;if(null==n||void 0===n.vimState.editor)i=!0;else{const r=n.vimState.editor.document;t.includes(r)||(i=!0,e===r&&(S=n))}i&&u.ModeHandlerMap.delete(r)}},!1),R(e,n.workspace.onDidSaveTextDocument,async e=>{v.configuration.vimrc.enable&&""===i.relative(e.fileName,v.configuration.vimrc.path)&&(await v.configuration.load(),n.window.showInformationMessage("Sourced new .vimrc"))}),R(e,n.window.onDidChangeActiveTextEditor,async()=>{const e=C?u.ModeHandlerMap.get(C):void 0;if(S=e||S,void 0===n.window.activeTextEditor)return void b.Register.putByKey("","%",void 0,!0);const t=n.window.activeTextEditor.document.fileName.split(/\\|\//);b.Register.putByKey(t[t.length-1],"%",void 0,!0),w.taskQueue.enqueueTask(async()=>{if(void 0!==n.window.activeTextEditor){const e=await M(!0);y.globalState.jumpTracker.handleFileJump(S?c.Jump.fromStateNow(S.vimState):null,c.Jump.fromStateNow(e.vimState))}})},!0,!0),R(e,n.window.onDidChangeTextEditorSelection,async e=>{if(void 0===n.window.activeTextEditor||e.textEditor.document!==n.window.activeTextEditor.document)return;const t=await M();e.textEditor===t.vimState.editor&&(t.vimState.focusChanged?t.vimState.focusChanged=!1:t.currentMode!==l.Mode.EasyMotionMode&&w.taskQueue.enqueueTask(()=>t.handleSelectionChange(e),void 0,!0))},!0,!0);const o=new s.CompositionState;k(e,"type",async e=>{w.taskQueue.enqueueTask(async()=>{const t=await M();o.isInComposition?o.composingText+=e.text:await t.handleKeyEvent(e.text)})}),k(e,"replacePreviousChar",async e=>{w.taskQueue.enqueueTask(async()=>{const t=await M();o.isInComposition?o.composingText=o.composingText.substr(0,o.composingText.length-e.replaceCharCnt)+e.text:(await n.commands.executeCommand("default:replacePreviousChar",{text:e.text,replaceCharCnt:e.replaceCharCnt}),t.vimState.cursorStopPosition=f.Position.FromVSCodePosition(t.vimState.editor.selection.start),t.vimState.cursorStartPosition=f.Position.FromVSCodePosition(t.vimState.editor.selection.start))})}),k(e,"compositionStart",async()=>{w.taskQueue.enqueueTask(async()=>{(await M()).vimState.currentMode!==l.Mode.Insert&&(o.isInComposition=!0)})}),k(e,"compositionEnd",async()=>{w.taskQueue.enqueueTask(async()=>{const e=await M();if(e.vimState.currentMode!==l.Mode.Insert){let t=o.composingText;o.reset(),e.handleMultipleKeyEvents(t.split(""))}})}),A(e,"vim.showQuickpickCmdLine",async()=>{const e=await M();await m.commandLine.PromptAndRun("",e.vimState),e.updateView(e.vimState)}),A(e,"vim.remap",async e=>{w.taskQueue.enqueueTask(async()=>{const t=await M();if(e.after)for(const r of e.after)await t.handleKeyEvent(d.Notation.NormalizeKey(r,v.configuration.leader));else if(e.commands)for(const r of e.commands)r.command.startsWith(":")?(await m.commandLine.Run(r.command.slice(1,r.command.length),t.vimState),t.updateView(t.vimState)):n.commands.executeCommand(r.command,r.args)})}),A(e,"toggleVim",async()=>{v.configuration.disableExtension=!v.configuration.disableExtension,E(v.configuration.disableExtension,o)}),A(e,"vim.editVimrc",async()=>{const e=await n.workspace.openTextDocument(v.configuration.vimrc.path);await n.window.showTextDocument(e)});for(const t of v.configuration.boundKeyCombinations)A(e,t.command,()=>P(""+t.key));if(n.window.activeTextEditor){let e=await M();e.updateView(e.vimState,{drawSelection:!1,revealRange:!1})}await g.VsCodeContext.Set("listAutomaticKeyboardNavigation",!1),await E(v.configuration.disableExtension,o),r.debug("Finish.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModeHandlerMap=void 0;const n=r(331);t.ModeHandlerMap=new class{constructor(){this.modeHandlerMap=new Map}async getOrCreate(e){let t=!1,r=this.get(e);return r||(t=!0,r=await n.ModeHandler.create(),this.modeHandlerMap.set(e,r)),[r,t]}get(e){for(const[t,r]of this.modeHandlerMap.entries())if(t.isEqual(e))return r}getKeys(){return[...this.modeHandlerMap.keys()]}getAll(){return[...this.modeHandlerMap.values()]}delete(e){const t=this.modeHandlerMap.get(e);t&&(t.dispose(),this.modeHandlerMap.delete(e))}clear(){for(const e of this.modeHandlerMap.keys())this.delete(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Encoder=t.DEFAULT_INITIAL_BUFFER_SIZE=t.DEFAULT_MAX_DEPTH=void 0;const n=r(99),i=r(100),s=r(101),o=r(176);t.DEFAULT_MAX_DEPTH=100,t.DEFAULT_INITIAL_BUFFER_SIZE=2048;t.Encoder=class{constructor(e=i.ExtensionCodec.defaultCodec,r,n=t.DEFAULT_MAX_DEPTH,s=t.DEFAULT_INITIAL_BUFFER_SIZE,o=!1,a=!1,c=!1){this.extensionCodec=e,this.context=r,this.maxDepth=n,this.initialBufferSize=s,this.sortKeys=o,this.forceFloat32=a,this.ignoreUndefined=c,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}encode(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth "+t);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)}getUint8Array(){return this.bytes.subarray(0,this.pos)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){const t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error(`Too long string: ${e} bytes in UTF-8`);this.writeU8(219),this.writeU32(e)}}encodeString(e){const t=e.length;if(n.TEXT_ENCODING_AVAILABLE&&t>n.TEXT_ENCODER_THRESHOLD){const t=n.utf8Count(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),n.utf8EncodeTE(e,this.bytes,this.pos),this.pos+=t}else{const t=n.utf8Count(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),n.utf8EncodeJs(e,this.bytes,this.pos),this.pos+=t}}encodeObject(e,t){const r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: "+Object.prototype.toString.apply(e));this.encodeMap(e,t)}}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: "+t);this.writeU8(198),this.writeU32(t)}const r=o.ensureUint8Array(e);this.writeU8a(r)}encodeArray(e,t){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large array: "+r);this.writeU8(221),this.writeU32(r)}for(const r of e)this.encode(r,t+1)}countWithoutUndefined(e,t){let r=0;for(const n of t)void 0!==e[n]&&r++;return r}encodeMap(e,t){const r=Object.keys(e);this.sortKeys&&r.sort();const n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large map object: "+n);this.writeU8(223),this.writeU32(n)}for(const n of r){const r=e[n];this.ignoreUndefined&&void 0===r||(this.encodeString(n),this.encode(r,t+1))}}encodeExtension(e){const t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: "+t);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),s.setUint64(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),s.setInt64(this.view,this.pos,e),this.pos+=8}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtData=void 0;t.ExtData=class{constructor(e,t){this.type=e,this.data=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timestampExtension=t.decodeTimestampExtension=t.decodeTimestampToTimeSpec=t.encodeTimestampExtension=t.encodeDateToTimeSpec=t.encodeTimeSpecToTimestamp=t.EXT_TIMESTAMP=void 0;const n=r(101);t.EXT_TIMESTAMP=-1;function i({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=17179869183){if(0===t&&e<=4294967295){const t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}{const r=e/4294967296,n=4294967295&e,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,t<<2|3&r),s.setUint32(4,n),i}}{const r=new Uint8Array(12),i=new DataView(r.buffer);return i.setUint32(0,t),n.setInt64(i,4,e),r}}function s(e){const t=e.getTime(),r=Math.floor(t/1e3),n=1e6*(t-1e3*r),i=Math.floor(n/1e9);return{sec:r+i,nsec:n-1e9*i}}function o(e){if(e instanceof Date){return i(s(e))}return null}function a(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const e=t.getUint32(0);return{sec:4294967296*(3&e)+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:n.getInt64(t,4),nsec:t.getUint32(0)};default:throw new Error("Unrecognized data size for timestamp: "+e.length)}}function c(e){const t=a(e);return new Date(1e3*t.sec+t.nsec/1e6)}t.encodeTimeSpecToTimestamp=i,t.encodeDateToTimeSpec=s,t.encodeTimestampExtension=o,t.decodeTimestampToTimeSpec=a,t.decodeTimestampExtension=c,t.timestampExtension={type:t.EXT_TIMESTAMP,encode:o,decode:c}},function(e,t,r){"use strict";function n(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDataView=t.ensureUint8Array=void 0,t.ensureUint8Array=n,t.createDataView=function(e){if(e instanceof ArrayBuffer)return new DataView(e);const t=n(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.defaultDecodeOptions=void 0;const n=r(102);t.defaultDecodeOptions={},t.decode=function(e,r=t.defaultDecodeOptions){const i=new n.Decoder(r.extensionCodec,r.context,r.maxStrLength,r.maxBinLength,r.maxArrayLength,r.maxMapLength,r.maxExtLength);return i.setBuffer(e),i.decodeSingleSync()}},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(349)),s=process.env.NVIM_NODE_LOG_LEVEL||"debug",o=i.createLogger({level:s});process.env.NVIM_NODE_LOG_FILE&&o.add(new i.transports.File({filename:process.env.NVIM_NODE_LOG_FILE,level:s})),process.env.ALLOW_CONSOLE&&o.add(new i.transports.Console({format:i.format.simple()})),t.logger=o},function(e,t,r){"use strict";const{format:n}=r(7);t.warn={deprecated:e=>()=>{throw new Error(n("{ %s } was removed in winston@3.0.0.",e))},useFormat:e=>()=>{throw new Error([n("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join("\n"))},forFunctions(e,r,n){n.forEach(n=>{e[n]=t.warn[r](n)})},moved(e,t,r){function i(){return()=>{throw new Error([n("winston.%s was moved in winston@3.0.0.",r),n("Use a winston.%s instead.",t)].join("\n"))}}Object.defineProperty(e,r,{get:i,set:i})},forProperties(e,r,n){n.forEach(n=>{const i=t.warn[r](n);Object.defineProperty(e,n,{get:i,set:i})})}}},function(e,t,r){var n=r(181).Symbol;e.exports=n},function(e,t,r){var n=r(182),i="object"==typeof self&&self&&self.Object===Object&&self,s=n||i||Function("return this")();e.exports=s},function(e,t){var r="object"==typeof global&&global&&global.Object===Object&&global;e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,s){(0,n.default)(t)(e,(0,i.default)(r),s)};var n=s(r(363)),i=s(r(67));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,n,i){return e(r,t,n,i)}},e.exports=t.default},function(e,t,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,r){var n=r(190),i={};for(var s in n)n.hasOwnProperty(s)&&(i[n[s]]=s);var o=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in o)if(o.hasOwnProperty(a)){if(!("channels"in o[a]))throw new Error("missing channels property: "+a);if(!("labels"in o[a]))throw new Error("missing channel labels property: "+a);if(o[a].labels.length!==o[a].channels)throw new Error("channel and label counts mismatch: "+a);var c=o[a].channels,u=o[a].labels;delete o[a].channels,delete o[a].labels,Object.defineProperty(o[a],"channels",{value:c}),Object.defineProperty(o[a],"labels",{value:u})}o.rgb.hsl=function(e){var t,r,n=e[0]/255,i=e[1]/255,s=e[2]/255,o=Math.min(n,i,s),a=Math.max(n,i,s),c=a-o;return a===o?t=0:n===a?t=(i-s)/c:i===a?t=2+(s-n)/c:s===a&&(t=4+(n-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),r=(o+a)/2,[t,100*(a===o?0:r<=.5?c/(a+o):c/(2-a-o)),100*r]},o.rgb.hsv=function(e){var t,r,n,i,s,o=e[0]/255,a=e[1]/255,c=e[2]/255,u=Math.max(o,a,c),l=u-Math.min(o,a,c),d=function(e){return(u-e)/6/l+.5};return 0===l?i=s=0:(s=l/u,t=d(o),r=d(a),n=d(c),o===u?i=n-r:a===u?i=1/3+t-n:c===u&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*s,100*u]},o.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[o.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,n))),100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},o.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-i)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},o.rgb.keyword=function(e){var t=i[e];if(t)return t;var r,s,o,a=1/0;for(var c in n)if(n.hasOwnProperty(c)){var u=n[c],l=(s=e,o=u,Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)+Math.pow(s[2]-o[2],2));l<a&&(a=l,r=c)}return r},o.keyword.rgb=function(e){return n[e]},o.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},o.rgb.lab=function(e){var t=o.rgb.xyz(e),r=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},o.hsl.rgb=function(e){var t,r,n,i,s,o=e[0]/360,a=e[1]/100,c=e[2]/100;if(0===a)return[s=255*c,s,s];t=2*c-(r=c<.5?c*(1+a):c+a-c*a),i=[0,0,0];for(var u=0;u<3;u++)(n=o+1/3*-(u-1))<0&&n++,n>1&&n--,s=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[u]=255*s;return i},o.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=s<=1?s:2-s,[t,100*(0===n?2*i/(s+i):2*r/(n+r)),100*((n+r)/2)]},o.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),c=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,c,o];case 1:return[a,n,o];case 2:return[o,n,c];case 3:return[o,a,n];case 4:return[c,o,n];case 5:return[n,o,a]}},o.hsv.hsl=function(e){var t,r,n,i=e[0],s=e[1]/100,o=e[2]/100,a=Math.max(o,.01);return n=(2-s)*o,r=s*a,[i,100*(r=(r/=(t=(2-s)*a)<=1?t:2-t)||0),100*(n/=2)]},o.hwb.rgb=function(e){var t,r,n,i,s,o,a,c=e[0]/360,u=e[1]/100,l=e[2]/100,d=u+l;switch(d>1&&(u/=d,l/=d),n=6*c-(t=Math.floor(6*c)),0!=(1&t)&&(n=1-n),i=u+n*((r=1-l)-u),t){default:case 6:case 0:s=r,o=i,a=u;break;case 1:s=i,o=r,a=u;break;case 2:s=u,o=r,a=i;break;case 3:s=u,o=i,a=r;break;case 4:s=i,o=u,a=r;break;case 5:s=r,o=u,a=i}return[255*s,255*o,255*a]},o.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},o.xyz.rgb=function(e){var t,r,n,i=e[0]/100,s=e[1]/100,o=e[2]/100;return r=-.9689*i+1.8758*s+.0415*o,n=.0557*i+-.204*s+1.057*o,t=(t=3.2406*i+-1.5372*s+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},o.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},o.lab.xyz=function(e){var t,r,n,i=e[0];t=e[1]/500+(r=(i+16)/116),n=r-e[2]/200;var s=Math.pow(r,3),o=Math.pow(t,3),a=Math.pow(n,3);return r=s>.008856?s:(r-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},o.lab.lch=function(e){var t,r=e[0],n=e[1],i=e[2];return(t=360*Math.atan2(i,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+i*i),t]},o.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},o.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:o.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===i&&(s+=60),s},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},o.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},o.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},o.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map((function(e){return e+e})).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},o.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,s=Math.max(Math.max(r,n),i),o=Math.min(Math.min(r,n),i),a=s-o;return t=a<=0?0:s===r?(n-i)/a%6:s===n?2+(i-r)/a:4+(r-n)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?o/(1-a):0)]},o.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,i=0;return(n=r<.5?2*t*r:2*t*(1-r))<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},o.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},o.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i,s=[0,0,0],o=t%1*6,a=o%1,c=1-a;switch(Math.floor(o)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=c,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=c,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=c}return i=(1-r)*n,[255*(r*s[0]+i),255*(r*s[1]+i),255*(r*s[2]+i)]},o.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},o.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},o.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},o.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=o.gray.hsv=function(e){return[0,0,e[0]]},o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,r){"use strict";var n=e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe};n.writable=function(e){return n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState},n.readable=function(e){return n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState},n.duplex=function(e){return n.writable(e)&&n.readable(e)},n.transform=function(e){return n.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState}},function(e,t,r){"use strict";const{LEVEL:n}=r(1),i=r(108),s=r(400),o=r(68)("winston:create-logger");e.exports=function(e={}){e.levels=e.levels||i.npm.levels;class t extends s{constructor(e){super(e)}}const r=new t(e);return Object.keys(e.levels).forEach((function(e){o('Define prototype method for "%s"',e),"log"!==e?(t.prototype[e]=function(...t){const i=this||r;if(1===t.length){const[s]=t,o=s&&s.message&&s||{message:s};return o.level=o[n]=e,i._addDefaultMeta(o),i.write(o),this||r}return 0===t.length?(i.log(e,""),i):i.log(e,...t)},t.prototype[function(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}(e)]=function(){return(this||r).isLevelEnabled(e)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')})),r}},function(e,t,r){"use strict";const n=r(14),i=r(109),s=r(68)("winston:exception"),o=r(195),a=r(60),c=r(196);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:["uncaughtException: "+(t||"(no error message)"),e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:n.loadavg(),uptime:n.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_uncaughtException(e){const t=this.getAllInfo(e),r=this._getExceptionHandlers();let n,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){s("doExit",a),s("process._exiting",process._exiting),a&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!r.length&&a&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),a=!1),!r||0===r.length)return process.nextTick(c);i(r,(e,t)=>{const r=o(t),n=e.transport||e;function i(e){return()=>{s(e),r()}}n._ending=!0,n.once("finish",i("finished")),n.once("error",i("error"))},()=>a&&c()),this.logger.log(t),a&&(n=setTimeout(c,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}}},function(e,t,r){"use strict";e.exports=function(e){var t,r=0;function n(){return r||(r=1,t=e.apply(this,arguments),e=null),t}return n.displayName=e.displayName||e.name||n.displayName||n.name,n}},function(e,t,r){"use strict";const{Writable:n}=r(24);e.exports=class extends n{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,t,r){return e.exception?this.transport.log(e,r):(r(),!0)}}},function(e,t,r){"use strict";const n=r(14),i=r(109),s=r(68)("winston:rejection"),o=r(195),a=r(60),c=r(196);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:["unhandledRejection: "+(t||"(no error message)"),e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:n.loadavg(),uptime:n.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_unhandledRejection(e){const t=this.getAllInfo(e),r=this._getRejectionHandlers();let n,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){s("doExit",a),s("process._exiting",process._exiting),a&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!r.length&&a&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),a=!1),!r||0===r.length)return process.nextTick(c);i(r,(e,t)=>{const r=o(t),n=e.transport||e;function i(e){return()=>{s(e),r()}}n._ending=!0,n.once("finish",i("finished")),n.once("error",i("error"))},()=>a&&c()),this.logger.log(t),a&&(n=setTimeout(c,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activate=void 0,r(199),r(320),r(326),r(327),r(328),r(329);const n=r(171),i=r(40);var s=r(171);Object.defineProperty(t,"getAndUpdateModeHandler",{enumerable:!0,get:function(){return s.getAndUpdateModeHandler}}),t.activate=async function(e){i.Globals.extensionStoragePath=e.globalStoragePath,n.activate(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(10),r(22),r(64),r(63),r(168),r(19),r(319)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vimrc=void 0;const n=r(71),i=r(30),s=r(14),o=r(21),a=r(0),c=r(201),u=r(0),l=r(2);class d{get vimrcPath(){return this._vimrcPath}async load(e){const t=e.vimrc.path?d.expandHome(e.vimrc.path):await d.findDefaultVimrc();if(t)if(await i.existsAsync(t)){this._vimrcPath=t,d.removeAllRemapsFromConfig(e);try{const t=(await i.readFileAsync(this.vimrcPath,"utf8")).split(/\r?\n/);for(const r of t){const t=await c.vimrcKeyRemappingBuilder.build(r);t&&d.addRemapToConfig(e,t)}}catch(e){u.window.showWarningMessage(`vimrc file "${this._vimrcPath}" is broken, err=${e}`)}}else u.window.showWarningMessage(`No .vimrc found at ${t}.`,"Create it").then(async e=>{if("Create it"===e){const e=await a.window.showSaveDialog({defaultUri:a.Uri.file(t)});e&&(await i.writeFileAsync(e.fsPath,"","utf-8"),l.configuration.getConfiguration("vim").update("vimrc.path",e.fsPath,!0),await a.workspace.openTextDocument(e),await a.window.showTextDocument(e))}});else await u.window.showWarningMessage("No .vimrc found. Please set `vim.vimrc.path.`")}static addRemapToConfig(e,t){const r=(()=>{switch(t.keyRemappingType){case"map":return[e.normalModeKeyBindings,e.visualModeKeyBindings];case"nmap":return[e.normalModeKeyBindings];case"vmap":return[e.visualModeKeyBindings];case"imap":return[e.insertModeKeyBindings];case"cmap":return[e.commandLineModeKeyBindings];case"noremap":return[e.normalModeKeyBindingsNonRecursive,e.visualModeKeyBindingsNonRecursive];case"nnoremap":return[e.normalModeKeyBindingsNonRecursive];case"vnoremap":return[e.visualModeKeyBindingsNonRecursive];case"inoremap":return[e.insertModeKeyBindingsNonRecursive];case"cnoremap":return[e.commandLineModeKeyBindingsNonRecursive];default:return void console.warn(`Encountered an unrecognized mapping type: '${t.keyRemappingType}'`)}})();null==r||r.forEach(e=>{e.some(e=>n.isEqual(e.before,t.keyRemapping.before))||e.push(t.keyRemapping)})}static removeAllRemapsFromConfig(e){const t=[e.normalModeKeyBindings,e.visualModeKeyBindings,e.insertModeKeyBindings,e.commandLineModeKeyBindings,e.normalModeKeyBindingsNonRecursive,e.visualModeKeyBindingsNonRecursive,e.insertModeKeyBindingsNonRecursive,e.commandLineModeKeyBindingsNonRecursive];for(const e of t)n.remove(e,e=>"vimrc"===e.source)}static async findDefaultVimrc(){let e=o.join(s.homedir(),".vimrc");return await i.existsAsync(e)?e:(e=o.join(s.homedir(),"_vimrc"),await i.existsAsync(e)?e:(e=o.join(s.homedir(),".config/","nvim/","init.vim"),await i.existsAsync(e)?e:void 0))}static expandHome(e){const t=e.match(/(?<=^(?:~|\$HOME)).*/);return!t||t.length>1?e:o.join(s.homedir(),t[0])}}t.vimrc=new d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vimrcKeyRemappingBuilder=void 0;const n=r(0);class i{async build(e){if(e.trimLeft().startsWith('"'))return;const t=i.KEY_REMAPPING_REG_EX.exec(e);if(!t||t.length<4)return;const r=t[1],s=t[2],o=t[3],a=await n.commands.getCommands(),c=o.match(i.VIM_COMMAND_REG_EX);let u;return u=a.includes(o)?{commands:[o]}:c?{commands:[c[1]]}:{after:i.buildKeyList(o)},{keyRemapping:{before:i.buildKeyList(s),source:"vimrc",...u},keyRemappingType:r}}static buildKeyList(e){let t=[],r=null;do{r=i.KEY_LIST_REG_EX.exec(e),r&&t.push(r[0])}while(r);return t}}i.KEY_REMAPPING_REG_EX=/(^.*map)\s([\S]+)\s+(?!<Plug>)([\S]+)$/,i.KEY_LIST_REG_EX=/(<[^>]+>|.)/g,i.VIM_COMMAND_REG_EX=/^(:\w+)<[Cc][Rr]>$/,t.vimrcKeyRemappingBuilder=new i},function(e){e.exports=JSON.parse('{"name":"vim","displayName":"Vim","description":"Vim emulation for Visual Studio Code","icon":"images/icon.png","version":"1.16.0","publisher":"vscodevim","galleryBanner":{"color":"#e3f4ff","theme":"light"},"license":"MIT","keywords":["vim","vi","vscodevim"],"repository":{"type":"git","url":"https://github.com/VSCodeVim/Vim.git"},"homepage":"https://github.com/VSCodeVim/Vim","bugs":{"url":"https://github.com/VSCodeVim/Vim/issues"},"engines":{"vscode":"^1.37.0"},"categories":["Other","Keymaps"],"extensionKind":["ui","workspace"],"activationEvents":["*","onCommand:type"],"qna":"https://vscodevim.herokuapp.com/","main":"./out/extension","contributes":{"commands":[{"command":"vim.remap","title":"Vim: Remap any key combination that VS Code supports to Vim motions/operators/ExCommands/macro."},{"command":"toggleVim","title":"Vim: Toggle Vim Mode"},{"command":"vim.showQuickpickCmdLine","title":"Vim: Show Command Line"},{"command":"vim.editVimrc","title":"Vim: Edit .vimrc"}],"keybindings":[{"key":"Escape","command":"extension.vim_escape","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"Home","command":"extension.vim_home","when":"editorTextFocus && vim.active && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"End","command":"extension.vim_end","when":"editorTextFocus && vim.active && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"Insert","command":"extension.vim_insert","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"Backspace","command":"extension.vim_backspace","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"Delete","command":"extension.vim_delete","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"tab","command":"extension.vim_tab","when":"editorFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"shift+tab","command":"extension.vim_shift+tab","when":"editorFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"left","command":"extension.vim_left","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"right","command":"extension.vim_right","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"up","command":"extension.vim_up","when":"editorTextFocus && vim.active && !inDebugRepl && !suggestWidgetVisible && !parameterHintsVisible"},{"key":"down","command":"extension.vim_down","when":"editorTextFocus && vim.active && !inDebugRepl && !suggestWidgetVisible && !parameterHintsVisible"},{"key":"g g","command":"list.focusFirst","when":"listFocus && !inputFocus"},{"key":"h","command":"list.collapse","when":"listFocus && !inputFocus"},{"key":"j","command":"list.focusDown","when":"listFocus && !inputFocus"},{"key":"k","command":"list.focusUp","when":"listFocus && !inputFocus"},{"key":"l","command":"list.select","when":"listFocus && !inputFocus"},{"key":"o","command":"list.toggleExpand","when":"listFocus && !inputFocus"},{"key":"/","command":"list.toggleKeyboardNavigation","when":"listFocus && !inputFocus && listSupportsKeyboardNavigation"},{"key":"ctrl+a","command":"extension.vim_ctrl+a","when":"editorTextFocus && vim.active && vim.use<C-a> && !inDebugRepl"},{"key":"ctrl+b","command":"extension.vim_ctrl+b","when":"editorTextFocus && vim.active && vim.use<C-b> && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+c","command":"extension.vim_ctrl+c","when":"editorTextFocus && vim.active && vim.use<C-c> && !inDebugRepl && vim.overrideCtrlC"},{"key":"ctrl+d","command":"extension.vim_ctrl+d","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"ctrl+d","command":"list.focusPageDown","when":"listFocus && !inputFocus"},{"key":"ctrl+e","command":"extension.vim_ctrl+e","when":"editorTextFocus && vim.active && vim.use<C-e> && !inDebugRepl"},{"key":"ctrl+f","command":"extension.vim_ctrl+f","when":"editorTextFocus && vim.active && vim.use<C-f> && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+g","command":"extension.vim_ctrl+g","when":"editorTextFocus && vim.active && vim.use<C-g> && !inDebugRepl"},{"key":"ctrl+h","command":"extension.vim_ctrl+h","when":"editorTextFocus && vim.active && vim.use<C-h> && !inDebugRepl"},{"key":"ctrl+i","command":"extension.vim_ctrl+i","when":"editorTextFocus && vim.active && vim.use<C-i> && !inDebugRepl"},{"key":"ctrl+j","command":"extension.vim_ctrl+j","when":"editorTextFocus && vim.active && vim.use<C-j> && !inDebugRepl"},{"key":"ctrl+k","command":"extension.vim_ctrl+k","when":"editorTextFocus && vim.active && vim.use<C-k> && !inDebugRepl"},{"key":"ctrl+l","command":"extension.vim_navigateCtrlL","when":"editorTextFocus && vim.active && vim.use<C-l> && !inDebugRepl"},{"key":"ctrl+m","command":"extension.vim_ctrl+m","when":"editorTextFocus && vim.active && vim.use<C-m> && !inDebugRepl || vim.mode == \'CommandlineInProgress\' && vim.active && vim.use<C-m> && !inDebugRepl || vim.mode == \'SearchInProgressMode\' && vim.active && vim.use<C-m> && !inDebugRepl"},{"key":"ctrl+n","command":"extension.vim_ctrl+n","when":"editorTextFocus && vim.active && vim.use<C-n> && !inDebugRepl || vim.mode == \'CommandlineInProgress\' && vim.active && vim.use<C-n> && !inDebugRepl || vim.mode == \'SearchInProgressMode\' && vim.active && vim.use<C-n> && !inDebugRepl"},{"key":"ctrl+o","command":"extension.vim_ctrl+o","when":"editorTextFocus && vim.active && vim.use<C-o> && !inDebugRepl"},{"key":"ctrl+p","command":"extension.vim_ctrl+p","when":"suggestWidgetVisible && vim.active && vim.use<C-p> && !inDebugRepl || vim.mode == \'CommandlineInProgress\' && vim.active && vim.use<C-p> && !inDebugRepl || vim.mode == \'SearchInProgressMode\' && vim.active && vim.use<C-p> && !inDebugRepl"},{"key":"ctrl+q","command":"extension.vim_winCtrlQ","when":"editorTextFocus && vim.active && vim.use<C-q> && !inDebugRepl"},{"key":"ctrl+r","command":"extension.vim_ctrl+r","when":"editorTextFocus && vim.active && vim.use<C-r> && !inDebugRepl"},{"key":"ctrl+t","command":"extension.vim_ctrl+t","when":"editorTextFocus && vim.active && vim.use<C-t> && !inDebugRepl"},{"key":"ctrl+u","command":"extension.vim_ctrl+u","when":"editorTextFocus && vim.active && vim.use<C-u> && !inDebugRepl"},{"key":"ctrl+u","command":"list.focusPageUp","when":"listFocus && !inputFocus"},{"key":"ctrl+v","command":"extension.vim_ctrl+v","when":"editorTextFocus && vim.active && vim.use<C-v> && !inDebugRepl"},{"key":"ctrl+w","command":"extension.vim_ctrl+w","when":"editorTextFocus && vim.active && vim.use<C-w> && !inDebugRepl"},{"key":"ctrl+x","command":"extension.vim_ctrl+x","when":"editorTextFocus && vim.active && vim.use<C-x> && !inDebugRepl"},{"key":"ctrl+y","command":"extension.vim_ctrl+y","when":"editorTextFocus && vim.active && vim.use<C-y> && !inDebugRepl"},{"key":"ctrl+[","command":"extension.vim_ctrl+[","when":"editorTextFocus && vim.active && vim.use<C-[> && !inDebugRepl"},{"key":"ctrl+]","command":"extension.vim_ctrl+]","when":"editorTextFocus && vim.active && vim.use<C-]> && !inDebugRepl"},{"key":"ctrl+shift+2","command":"extension.vim_ctrl+shift+2","when":"editorTextFocus && vim.active && vim.use<C-shift+2>"},{"key":"ctrl+pagedown","command":"extension.vim_ctrl+pagedown","when":"editorTextFocus && vim.active && vim.use<C-pagedown> && !inDebugRepl"},{"key":"ctrl+pageup","command":"extension.vim_ctrl+pageup","when":"editorTextFocus && vim.active && vim.use<C-pageup> && !inDebugRepl"},{"key":"ctrl+space","command":"extension.vim_ctrl+space","when":"editorTextFocus && vim.active && vim.use<C-space> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"shift+G","command":"list.focusLast","when":"listFocus && !inputFocus"},{"key":"ctrl+backspace","command":"extension.vim_ctrl+backspace","when":"editorTextFocus && vim.active && vim.use<C-BS> && vim.mode == \'CommandlineInProgress\' && !inDebugRepl || editorTextFocus && vim.active && vim.use<C-BS> && vim.mode == \'SearchInProgressMode\' && !inDebugRepl"},{"key":"shift+backspace","command":"extension.vim_shift+backspace","when":"editorTextFocus && vim.active && vim.use<shift+BS> && vim.mode == \'CommandlineInProgress\' && !inDebugRepl || editorTextFocus && vim.active && vim.use<shift+BS> && vim.mode == \'SearchInProgressMode\' && !inDebugRepl"},{"key":"cmd+left","command":"extension.vim_cmd+left","when":"editorTextFocus && vim.active && vim.use<D-left> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"cmd+right","command":"extension.vim_cmd+right","when":"editorTextFocus && vim.active && vim.use<D-right> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"cmd+a","command":"extension.vim_cmd+a","when":"editorTextFocus && vim.active && vim.use<D-a> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"cmd+c","command":"extension.vim_cmd+c","when":"editorTextFocus && vim.active && vim.use<D-c> && vim.overrideCopy && !inDebugRepl"},{"key":"cmd+d","command":"extension.vim_cmd+d","when":"editorTextFocus && vim.active && vim.use<D-d> && !inDebugRepl"},{"key":"cmd+v","command":"extension.vim_cmd+v","when":"editorTextFocus && vim.active && vim.use<D-v> && vim.overrideCmdV && !inDebugRepl"},{"key":"ctrl+alt+down","linux":"shift+alt+down","mac":"cmd+alt+down","command":"extension.vim_cmd+alt+down","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"ctrl+alt+up","linux":"shift+alt+up","mac":"cmd+alt+up","command":"extension.vim_cmd+alt+up","when":"editorTextFocus && vim.active && !inDebugRepl"}],"configuration":{"title":"Vim","type":"object","properties":{"vim.debug.silent":{"type":"boolean","description":"If true, all logs are suppressed.","default":false},"vim.debug.loggingLevelForAlert":{"type":"string","description":"Maximum level of messages to present as VS Code information window.","default":"error","enum":["error","warn","info","verbose","debug"]},"vim.debug.loggingLevelForConsole":{"type":"string","description":"Maximum level of messages to log to console. Logs are visible in developer tools.","default":"error","enum":["error","warn","info","verbose","debug"]},"vim.normalModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in Normal mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.normalModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive remapped keys in Normal mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.useCtrlKeys":{"type":"boolean","markdownDescription":"Enable some Vim Ctrl key commands that override otherwise common operations, like `Ctrl+C`.","default":true},"vim.leader":{"type":"string","markdownDescription":"What key should `<leader>` map to in remappings?","default":"\\\\"},"vim.searchHighlightColor":{"type":"string","description":"Color of the search highlight."},"vim.searchHighlightTextColor":{"type":"string","description":"Color of the search highlight text."},"vim.highlightedyank.enable":{"type":"boolean","description":"Enable highlighting when yanking.","default":false},"vim.highlightedyank.color":{"type":"string","description":"Color of the yank highlight.","default":"rgba(250, 240, 170, 0.5)"},"vim.highlightedyank.textColor":{"type":"string","description":"Color of the yank highlight text."},"vim.highlightedyank.duration":{"type":"number","description":"Duration in milliseconds of the yank highlight.","default":200,"minimum":1},"vim.useSystemClipboard":{"type":"boolean","description":"Use system clipboard for unnamed register.","default":false},"vim.overrideCopy":{"type":"boolean","description":"Override VS Code\'s copy command with our own copy command, which works better with VSCodeVim. Turn this off if copying is not working.","default":true},"vim.insertModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in Insert mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.insertModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive keybinding overrides to use for Insert mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.visualModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in Visual mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.visualModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive keybinding overrides to use for Visual mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.commandLineModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in command line mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.commandLineModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive keybinding overrides to use for command line mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details."},"vim.textwidth":{"type":"number","markdownDescription":"Width to word-wrap to when using `gq`.","default":80,"minimum":1},"vim.timeout":{"type":"number","description":"Timeout in milliseconds for remapped commands.","default":1000,"minimum":0},"vim.scroll":{"type":"number","markdownDescription":"Number of lines to scroll with `Ctrl-U` and `Ctrl-D` commands. Set to 0 to use a half page scroll.","default":0,"minimum":0},"vim.showcmd":{"type":"boolean","description":"Show the text of any command you are in the middle of writing.","default":true},"vim.showmodename":{"type":"boolean","description":"Show the name of the current mode in the statusbar.","default":true},"vim.iskeyword":{"type":"string","markdownDescription":"Keywords contain alphanumeric characters and \'_\'. If not configured, `#editor.wordSeparators#` is used."},"vim.ignorecase":{"type":"boolean","description":"Ignore case in search patterns.","default":true},"vim.smartcase":{"type":"boolean","markdownDescription":"Override the `ignorecase` option if the search pattern contains upper case characters.","default":true},"vim.camelCaseMotion.enable":{"type":"boolean","markdownDescription":"Enable the [CamelCaseMotion](https://github.com/bkad/CamelCaseMotion) plugin for Vim.","default":false},"vim.easymotion":{"type":"boolean","markdownDescription":"Enable the [EasyMotion](https://github.com/easymotion/vim-easymotion) plugin for Vim.","default":false},"vim.easymotionMarkerBackgroundColor":{"type":"string","description":"Set a custom background color for EasyMotion markers."},"vim.easymotionMarkerForegroundColorOneChar":{"type":"string","description":"Set a custom color for the text on one character long markers."},"vim.easymotionMarkerForegroundColorTwoChar":{"type":"string","description":"Set a custom color for the text on two character long markers."},"vim.easymotionMarkerWidthPerChar":{"type":"number","description":"Set the width (in pixels) allocated to each character in the match.","default":8,"minimum":1},"vim.easymotionDimBackground":{"type":"boolean","description":"Whether to dim other text while markers are visible.","default":true},"vim.easymotionMarkerFontFamily":{"type":"string","description":"Set the font family of the marker text.","default":"","markdownDeprecationMessage":"**Deprecated**: Please don\'t use this setting; the extension now uses `#editor.fontFamily#` instead.","deprecationMessage":"Deprecated: Please don\'t use this setting; the extension now uses editor.fontFamily instead."},"vim.easymotionMarkerFontSize":{"type":"string","description":"Set the font size of the marker text.","default":"","markdownDeprecationMessage":"**Deprecated**: Please don\'t use this setting; the extension now uses `#editor.fontSize#` instead.","deprecationMessage":"Deprecated: Please don\'t use this setting; the extension now uses editor.fontSize instead."},"vim.easymotionMarkerFontWeight":{"type":"string","description":"Set the font weight of the marker text.","default":"normal"},"vim.easymotionMarkerMargin":{"type":"number","description":"Set the margin around each marker, in pixels.","default":0},"vim.easymotionKeys":{"type":"string","description":"Set the characters used for jump marker name.","default":"hklyuiopnm,qwertzxcvbasdgjf;"},"vim.easymotionJumpToAnywhereRegex":{"type":"string","description":"Regex matches for JumpToAnywhere motion.","default":"\\\\b[A-Za-z0-9]|[A-Za-z0-9]\\\\b|_.|#.|[a-z][A-Z]"},"vim.replaceWithRegister":{"type":"boolean","markdownDescription":"Enable the [ReplaceWithRegister](https://github.com/vim-scripts/ReplaceWithRegister) plugin for Vim.","default":false},"vim.sneak":{"type":"boolean","markdownDescription":"Enable the [Sneak](https://github.com/justinmk/vim-sneak) plugin for Vim.","default":false},"vim.sneakUseIgnorecaseAndSmartcase":{"type":"boolean","markdownDescription":"Case sensitivity is determined by `#vim.ignorecase#` and `#vim.smartcase#`.","default":false},"vim.sneakReplacesF":{"type":"boolean","markdownDescription":"Use single-character [Sneak](https://github.com/justinmk/vim-sneak) instead of Vim\'s native `f`.","default":false},"vim.surround":{"type":"boolean","markdownDescription":"Enable the [Surround](https://github.com/tpope/vim-surround) plugin for Vim.","default":true},"vim.argumentObjectSeparators":{"type":"array","items":{"type":"string"},"markdownDescription":"Set separators for the argument text object.","default":[","]},"vim.argumentObjectOpeningDelimiters":{"type":"array","items":{"type":"string"},"markdownDescription":"Set opening delimiters for the argument text object.","default":["(","["]},"vim.argumentObjectClosingDelimiters":{"type":"array","items":{"type":"string"},"markdownDescription":"Set closing delimiters for the argument text object.","default":[")","]"]},"vim.hlsearch":{"type":"boolean","description":"Show all matches of the most recent search pattern.","default":false},"vim.incsearch":{"type":"boolean","markdownDescription":"Show where a `/` or `?` search matches as you type it.","default":true},"vim.history":{"type":"number","description":"How much search or command history should be remembered.","default":50,"minimum":1},"vim.autoindent":{"type":"boolean","description":"Indent code automatically.","default":true},"vim.startInInsertMode":{"type":"boolean","description":"Start in Insert mode."},"vim.handleKeys":{"type":"object","description":"Delegate certain key combinations back to VSCode to be handled natively.","default":{"<C-d>":true}},"vim.statusBarColorControl":{"type":"boolean","markdownDescription":"Allow VSCodeVim to change status bar color based on mode. **NOTE:** Using this feature will have a negative impact on performance.","default":false},"vim.statusBarColors.normal":{"type":["string","array"],"description":"Status bar color when in Normal mode.","default":"#005f5f"},"vim.statusBarColors.insert":{"type":["string","array"],"description":"Status bar color when in Insert mode.","default":"#5f0000"},"vim.statusBarColors.visual":{"type":["string","array"],"description":"Status bar color when in Visual mode.","default":"#5f00af"},"vim.statusBarColors.visualline":{"type":["string","array"],"description":"Status bar color when in VisualLine mode.","default":"#005f5f"},"vim.statusBarColors.visualblock":{"type":["string","array"],"description":"Status bar color when in VisualBlock mode.","default":"#86592d"},"vim.statusBarColors.replace":{"type":["string","array"],"description":"Status bar color when in Replace mode.","default":"#00000"},"vim.statusBarColors.commandlineinprogress":{"type":["string","array"],"description":"Status bar color when in CommandLineInProgress mode.","default":"#007acc"},"vim.statusBarColors.searchinprogressmode":{"type":["string","array"],"description":"Status bar color when in SearchInProgress mode.","default":"#007acc"},"vim.statusBarColors.easymotionmode":{"type":["string","array"],"description":"Status bar color when in EasyMotion mode.","default":"#007acc"},"vim.statusBarColors.easymotioninputmode":{"type":["string","array"],"description":"Status bar color when in EasyMotionInput mode.","default":"#007acc"},"vim.statusBarColors.surroundinputmode":{"type":["string","array"],"description":"Status bar color when in SurroundInput mode.","default":"#007acc"},"vim.visualstar":{"type":"boolean","markdownDescription":"In Visual mode, start a search with `*` or `#` using the current selection.","default":false},"vim.changeWordIncludesWhitespace":{"type":"boolean","description":"Includes trailing whitespace when changing word.","default":false},"vim.foldfix":{"type":"boolean","description":"Uses a hack to move around folds properly.","default":false},"vim.mouseSelectionGoesIntoVisualMode":{"type":"boolean","description":"If enabled, dragging with the mouse activates Visual mode.","default":true},"vim.disableExtension":{"type":"boolean","description":"Disables the VSCodeVim extension. The extension will continue to be loaded and activated, but Vim functionality will be disabled.","default":false},"vim.enableNeovim":{"type":"boolean","markdownDescription":"Use Neovim to execute Ex commands. You should restart VS Code after enabling/disabling this for the changes to take effect. **NOTE:** Neovim version 0.2.0 or greater must be installed, and if the executable is not on your PATH, `#vim.neovimPath#` must be set.","default":false},"vim.neovimPath":{"type":"string","markdownDescription":"Path to Neovim executable. For example, `/usr/bin/nvim`, or  `C:\\\\Program Files\\\\Neovim\\\\bin\\\\nvim.exe`.","default":"","scope":"machine-overridable"},"vim.vimrc.enable":{"type":"boolean","markdownDescription":"Use key mappings from a `.vimrc` file.","default":false},"vim.vimrc.path":{"type":"string","markdownDescription":"Path to a Vim configuration file. If unset, it will check for `$HOME/.vimrc`, `$HOME/_vimrc`, and `$HOME/.config/nvim/init.vim`, in that order."},"vim.substituteGlobalFlag":{"type":"boolean","markdownDescription":"Automatically apply the global flag, `/g`, to substitute commands. When set to true, use `/g` to mean only first match should be replaced.","default":false,"markdownDeprecationMessage":"**Deprecated**: Please use `#vim.gdefault#` instead.","deprecationMessage":"Deprecated: Please use vim.gdefault instead."},"vim.gdefault":{"type":"boolean","markdownDescription":"Automatically apply the global flag, `/g`, to substitute commands. When set to true, use `/g` to mean only first match should be replaced.","default":false},"vim.cursorStylePerMode.normal":{"type":"string","description":"Cursor style for Normal mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.insert":{"type":"string","description":"Cursor style for Insert mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.replace":{"type":"string","description":"Cursor style for Replace mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.visual":{"type":"string","description":"Cursor style for Visual mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.visualline":{"type":"string","description":"Cursor style for VisualLine mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.visualblock":{"type":"string","description":"Cursor style for VisualBlock mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.autoSwitchInputMethod.enable":{"type":"boolean","description":"If enabled, the input method switches automatically when the mode changes.","default":false},"vim.autoSwitchInputMethod.defaultIM":{"type":"string","markdownDescription":"The input method for your normal mode, find more information [here](https://github.com/VSCodeVim/Vim#input-method).","default":""},"vim.autoSwitchInputMethod.switchIMCmd":{"type":"string","description":"The shell command to switch input method.","default":"/path/to/im-select {im}"},"vim.autoSwitchInputMethod.obtainIMCmd":{"type":"string","description":"The shell command to get current input method.","default":"/path/to/im-select"},"vim.whichwrap":{"type":"string","description":"Comma-separated list of motion keys that should wrap to next/previous line.","default":""},"vim.report":{"type":"number","description":"Threshold for reporting number of lines changed.","default":2,"minimum":1},"vim.digraphs":{"type":"object","description":"Custom digraph shortcuts for inserting special characters, expressed as UTF16 code points.","default":{}},"vim.wrapscan":{"type":"boolean","description":"Searches wrap around the end of the file.","default":true},"vim.startofline":{"type":"boolean","markdownDescription":"When `true` the commands listed below move the cursor to the first non-blank of the line.  When `false` the cursor is kept in the same column (if possible).  This applies to the commands: `<C-d>`, `<C-u>`, `<C-b>`, `<C-f>`, `G`, `H`, `M`, `L`, `gg`, and to the commands `d`, `<<` and `>>` with a linewise operator.","default":true}}},"languages":[{"id":"vimrc","extensions":[".vimrc"]}],"grammars":[{"language":"vimrc","scopeName":"source.vimrc","path":"./syntaxes/vimrc.tmLanguage.json"}]},"scripts":{"vscode:prepublish":"gulp build","build":"gulp build","test":"node ./out/test/runTest.js","forceprettier":"gulp forceprettier"},"husky":{"hooks":{"pre-commit":"pretty-quick --staged"}},"dependencies":{"diff-match-patch":"1.0.5","lodash":"^4.17.15","neovim":"4.9.0","untildify":"4.0.0","winston":"3.3.3","winston-console-for-electron":"0.0.6","winston-transport":"4.4.0"},"devDependencies":{"@types/diff":"4.0.2","@types/diff-match-patch":"1.0.32","@types/glob":"7.1.3","@types/lodash":"4.14.157","@types/mocha":"8.0.0","@types/node":"12.12.31","@types/sinon":"9.0.4","@types/vscode":"1.37.0","clean-webpack-plugin":"3.0.0","gulp":"4.0.2","gulp-bump":"3.2.0","gulp-git":"2.10.1","gulp-sourcemaps":"2.6.5","gulp-tag-version":"1.3.1","gulp-tslint":"8.1.4","gulp-typescript":"5.0.1","husky":"4.2.5","minimist":"1.2.5","mocha":"8.0.1","plugin-error":"1.0.1","prettier":"2.0.5","pretty-quick":"2.0.1","sinon":"9.0.2","ts-loader":"8.0.1","tslint":"6.1.2","typescript":"3.9.7","vscode-test":"1.4.0","webpack":"4.43.0","webpack-cli":"3.3.12","webpack-merge":"5.0.9","webpack-stream":"5.2.1"}}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JumpTracker=void 0;const n=r(0),i=r(73),s=r(3),o=r(47),a=r(28),c=r(30);t.JumpTracker=class{constructor(){this._jumps=[],this._currentJumpNumber=0,this.isJumpingThroughHistory=!1}get jumps(){for(let e=0;e<this._jumps.length;e++){this._jumps[e].number=e}return this._jumps}get currentJumpNumber(){return this._currentJumpNumber}get currentJump(){return this._jumps[this._currentJumpNumber]||null}get hasJumps(){return this._jumps.length>0}get end(){return this._jumps[this._jumps.length-1]}get start(){return this._jumps[0]}recordJump(e,t){e&&t&&e.isSamePosition(t)||this.pushJump(e,t)}handleFileJump(e,t){this.isJumpingThroughHistory?this.isJumpingThroughHistory=!1:t.editor&&t.editor.document&&t.editor.document.isClosed||this.pushJump(e,t)}async performFileJump(e,t){if(this.isJumpingThroughHistory=!0,e.editor)await n.window.showTextDocument(e.editor.document);else if(await c.existsAsync(e.fileName))await new i.FileCommand({name:e.fileName,lineNumber:e.position.line,createFileIfNotExists:!1}).execute();else{const t=n.window.visibleTextEditors.filter(t=>t.document.fileName===e.fileName)[0];t&&await n.window.showTextDocument(t.document,e.position.character,!1)}return t}async jumpForward(e,t){return this.jumpThroughHistory(this.recordJumpForward.bind(this),e,t)}async jumpBack(e,t){return this.jumpThroughHistory(this.recordJumpBack.bind(this),e,t)}async jumpThroughHistory(e,t,r){if(!r)return r;let n=new o.Jump({editor:r.editor,fileName:r.editor.document.fileName,position:t});const i=r.recordedState.count||1;for(let t=0;t<i;t++)n=e(o.Jump.fromStateNow(r));return n?(n.fileName!==r.editor.document.fileName?(await this.performFileJump(n,r),r.cursors=a.getCursorsAfterSync()):r.cursorStopPosition=n.position,r):r}recordJumpBack(e){if(!this.hasJumps)return e;if(this._currentJumpNumber<=0)return this._jumps[0];const t=this._jumps[this._currentJumpNumber-1];return this._currentJumpNumber===this._jumps.length?(this.recordJump(e,t),this._currentJumpNumber=this._currentJumpNumber-2):this._currentJumpNumber=this._currentJumpNumber-1,t}recordJumpForward(e){if(!this.hasJumps)return e;if(this._currentJumpNumber>=this._jumps.length)return e;return this._currentJumpNumber=Math.min(this._currentJumpNumber+1,this._jumps.length-1),this._jumps[this._currentJumpNumber]}handleTextAdded(e,t,r){const n=r.split("").filter(e=>"\n"===e).length;this._jumps.forEach((r,i)=>{if(r.fileName===e.fileName&&r.position.line>t.start.line){const e=new s.Position(r.position.line+n,r.position.character);this.changePositionForJumpNumber(i,r,e)}})}handleTextDeleted(e,t){const r=t.end.line-t.start.line;for(let n=this._jumps.length-1;n>=0;n--){const i=this._jumps[n];if(i.fileName===e.fileName&&i.position.line>t.start.line){const e=i.position.line-Math.min(i.position.line-t.start.line,r),o=new s.Position(e,i.position.character);this.changePositionForJumpNumber(n,i,o)}}this.removeDuplicateJumps()}clearJumps(){this._jumps.splice(0,this._jumps.length),this._currentJumpNumber=0}pushJump(e,t){e&&this.clearJumpsOnSamePosition(e),e&&!e.isSamePosition(t)&&this._jumps.push(e),this._currentJumpNumber=this._jumps.length,this.clearOldJumps()}changePositionForJumpNumber(e,t,r){this._jumps.splice(e,1,new o.Jump({editor:t.editor,fileName:t.fileName,position:r}))}clearOldJumps(){this._jumps.length>100&&this._jumps.splice(0,this._jumps.length-100)}clearJumpsOnSamePosition(e){this._jumps=this._jumps.filter(t=>t===e||!t.isSamePosition(e))}removeDuplicateJumps(){const e={};for(let t=this._jumps.length-1;t>=0;t--){const r=this._jumps[t];e[r.fileName]||(e[r.fileName]=[]),e[r.fileName].includes(r.position.line)?this._jumps.splice(t,1):e[r.fileName].push(r.position.line)}}}},function(e,t,r){var n=r(43),i=r(113);"disable"===process.env.READABLE_STREAM?e.exports=n&&n.Writable||i:e.exports=i},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){"use strict";var n=r(50);e.exports=y;var i,s=r(207);y.ReadableState=v;r(53).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=r(115),c=r(51).Buffer,u=global.Uint8Array||function(){};var l=Object.create(r(74));l.inherits=r(26);var d=r(7),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var f,p=r(208),g=r(116);l.inherits(y,a);var m=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var n=t instanceof(i=i||r(52));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var s=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:n&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(117).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||r(52),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function w(e,t,r,n,i){var s,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,C(e)}(e,o)):(i||(s=function(e,t){var r;n=t,c.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):b(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?b(e,o,t,!1):M(e,o)):b(e,o,t,!1))):n||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function b(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&C(e)),M(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return f||(f=r(117).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(S,e):S(e))}function S(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(_,e,t))}function _(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function E(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),0===(e-=o)){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),0===(e-=o)){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):C(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&P(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&P(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?u:y;function c(t,n){h("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",m),e.removeListener("finish",v),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",c),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",p),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){h("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",c);var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var d=!1;var f=!1;function p(t){h("ondata"),f=!1,!1!==e.write(t)||f||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!d&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function g(t){h("onerror",t),y(),e.removeListener("error",g),0===o(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",v),y()}function v(){h("onfinish"),e.removeListener("close",m),y()}function y(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",m),e.once("finish",v),e.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=L(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},y.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&C(this):n.nextTick(E,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(k,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<m.length;s++)e.on(m[s],this.emit.bind(this,m[s]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=R},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n=r(51).Buffer,i=r(7);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,s=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=s,i=a,t.copy(r,i),a+=o.data.length,o=o.next;return s},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,r){"use strict";Object.defineProperty(t,"cli",{value:r(210)}),Object.defineProperty(t,"npm",{value:r(211)}),Object.defineProperty(t,"syslog",{value:r(212)})},function(e,t,r){"use strict";t.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},t.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(e,t,r){"use strict";t.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},t.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(e,t,r){"use strict";t.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},t.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(e,t,r){"use strict";const n=r(20),{warn:i}=r(136),s=t;s.version=r(235).version,s.transports=r(236),s.config=r(94),s.addColors=n.levels,s.format=n.format,s.createLogger=r(152),s.ExceptionHandler=r(153),s.RejectionHandler=r(156),s.Container=r(265),s.Transport=r(17),s.loggers=new s.Container;const o=s.createLogger();Object.keys(s.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(e=>s[e]=(...t)=>o[e](...t)),Object.defineProperty(s,"level",{get:()=>o.level,set(e){o.level=e}}),Object.defineProperty(s,"exceptions",{get:()=>o.exceptions}),["exitOnError"].forEach(e=>{Object.defineProperty(s,e,{get:()=>o[e],set(t){o[e]=t}})}),Object.defineProperty(s,"default",{get:()=>({exceptionHandlers:o.exceptionHandlers,rejectionHandlers:o.rejectionHandlers,transports:o.transports})}),i.deprecated(s,"setLevels"),i.forFunctions(s,"useFormat",["cli"]),i.forProperties(s,"useFormat",["padLevels","stripColors"]),i.forFunctions(s,"deprecated",["addRewriter","addFilter","clone","extend"]),i.forProperties(s,"deprecated",["emitErrs","levelLength"]),i.moved(s,"createLogger","Logger")},function(e,t,r){var n={};e.exports=n,n.themes={};var i=r(7),s=n.styles=r(215),o=Object.defineProperties,a=new RegExp(/[\r\n]+/g);n.supportsColor=r(216).supportsColor,void 0===n.enabled&&(n.enabled=!1!==n.supportsColor()),n.enable=function(){n.enabled=!0},n.disable=function(){n.enabled=!1},n.stripColors=n.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};n.stylize=function(e,t){if(!n.enabled)return e+"";var r=s[t];return!r&&t in n?n[t](e):r.open+e+r.close};var c=/[|\\{}()[\]^$+*?.]/g;function u(e){var t=function e(){return f.apply(e,arguments)};return t._styles=e,t.__proto__=h,t}var l,d=(l={},s.grey=s.gray,Object.keys(s).forEach((function(e){s[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(c,"\\$&")}(s[e].close),"g"),l[e]={get:function(){return u(this._styles.concat(e))}}})),l),h=o((function(){}),d);function f(){var e=Array.prototype.slice.call(arguments),t=e.map((function(e){return null!=e&&e.constructor===String?e:i.inspect(e)})).join(" ");if(!n.enabled||!t)return t;for(var r=-1!=t.indexOf("\n"),o=this._styles,c=o.length;c--;){var u=s[o[c]];t=u.open+t.replace(u.closeRe,u.open)+u.close,r&&(t=t.replace(a,(function(e){return u.close+e+u.open})))}return t}n.setTheme=function(e){if("string"!=typeof e)for(var t in e)!function(t){n[t]=function(r){if("object"==typeof e[t]){var i=r;for(var s in e[t])i=n[e[t][s]](i);return i}return n[e[t]](r)}}(t);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var p=function(e,t){var r=t.split("");return(r=r.map(e)).join("")};for(var g in n.trap=r(218),n.zalgo=r(219),n.maps={},n.maps.america=r(220)(n),n.maps.zebra=r(221)(n),n.maps.rainbow=r(222)(n),n.maps.random=r(223)(n),n.maps)!function(e){n[e]=function(t){return p(n.maps[e],t)}}(g);o(n,function(){var e={};return Object.keys(d).forEach((function(t){e[t]={get:function(){return u([t])}}})),e}())},function(e,t){var r={};e.exports=r;var n={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(n).forEach((function(e){var t=n[e],i=r[e]=[];i.open="["+t[0]+"m",i.close="["+t[1]+"m"}))},function(e,t,r){"use strict";var n=r(14),i=r(217),s=process.env,o=void 0;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===o)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==o)return 0;var t=o?1:0;if("win32"===process.platform){var r=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(e){return e in s}))||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in s){var a=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:(s.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?o=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(o=!0),"FORCE_COLOR"in s&&(o=0===s.FORCE_COLOR.length||0!==parseInt(s.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,r){"use strict";e.exports=function(e,t){var r=(t=t||process.argv).indexOf("--"),n=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(n+e);return-1!==i&&(-1===r||i<r)}},function(e,t){e.exports=function(e,t){var r="";e=(e=e||"Run the trap, drop the bass").split("");var n={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return e.forEach((function(e){e=e.toLowerCase();var t=n[e]||[" "],i=Math.floor(Math.random()*t.length);r+=void 0!==n[e]?n[e][i]:e})),r}},function(e,t){e.exports=function(e,t){e=e||"   he is here   ";var r={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},n=[].concat(r.up,r.down,r.mid);function i(e){return Math.floor(Math.random()*e)}function s(e){var t=!1;return n.filter((function(r){t=r===e})),t}return function(e,t){var n,o,a="";for(o in(t=t||{}).up=void 0===t.up||t.up,t.mid=void 0===t.mid||t.mid,t.down=void 0===t.down||t.down,t.size=void 0!==t.size?t.size:"maxi",e=e.split(""))if(!s(o)){switch(a+=e[o],n={up:0,down:0,mid:0},t.size){case"mini":n.up=i(8),n.mid=i(2),n.down=i(8);break;case"maxi":n.up=i(16)+3,n.mid=i(4)+1,n.down=i(64)+3;break;default:n.up=i(8)+1,n.mid=i(6)/2,n.down=i(8)+1}var c=["up","mid","down"];for(var u in c)for(var l=c[u],d=0;d<=n[l];d++)t[l]&&(a+=r[l][i(r[l].length)])}return a}(e,t)}},function(e,t){e.exports=function(e){return function(t,r,n){if(" "===t)return t;switch(r%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}},function(e,t){e.exports=function(e){return function(t,r,n){return r%2==0?t:e.inverse(t)}}},function(e,t){e.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(r,n,i){return" "===r?r:e[t[n++%t.length]](r)}}},function(e,t){e.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,i){return" "===r?r:e[t[Math.round(Math.random()*(t.length-2))]](r)}}},function(e,t,r){var n={"./align.js":118,"./browser.js":225,"./cli.js":119,"./colorize.js":54,"./combine.js":120,"./dist/align.js":78,"./dist/browser.js":131,"./dist/cli.js":79,"./dist/colorize.js":45,"./dist/combine.js":80,"./dist/errors.js":132,"./dist/format.js":11,"./dist/index.js":133,"./dist/json.js":81,"./dist/label.js":82,"./dist/levels.js":57,"./dist/logstash.js":83,"./dist/metadata.js":84,"./dist/ms.js":134,"./dist/pad-levels.js":58,"./dist/pretty-print.js":85,"./dist/printf.js":86,"./dist/simple.js":87,"./dist/splat.js":88,"./dist/timestamp.js":89,"./dist/uncolorize.js":90,"./errors.js":227,"./examples/combine.js":228,"./examples/filter.js":229,"./examples/invalid.js":230,"./examples/metadata.js":231,"./examples/padLevels.js":232,"./examples/volume.js":233,"./format.js":13,"./index.js":20,"./json.js":56,"./label.js":121,"./levels.js":76,"./logstash.js":122,"./metadata.js":123,"./ms.js":234,"./pad-levels.js":77,"./pretty-print.js":124,"./printf.js":125,"./simple.js":126,"./splat.js":127,"./timestamp.js":128,"./uncolorize.js":130};function i(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=224},function(e,t,r){"use strict";const n=t.format=r(13);t.levels=r(76),Object.defineProperty(n,"align",{value:r(118)}),Object.defineProperty(n,"cli",{value:r(119)}),Object.defineProperty(n,"combine",{value:r(120)}),Object.defineProperty(n,"colorize",{value:r(54)}),Object.defineProperty(n,"json",{value:r(56)}),Object.defineProperty(n,"label",{value:r(121)}),Object.defineProperty(n,"logstash",{value:r(122)}),Object.defineProperty(n,"metadata",{value:r(123)}),Object.defineProperty(n,"padLevels",{value:r(77)}),Object.defineProperty(n,"prettyPrint",{value:r(124)}),Object.defineProperty(n,"printf",{value:r(125)}),Object.defineProperty(n,"simple",{value:r(126)}),Object.defineProperty(n,"splat",{value:r(127)}),Object.defineProperty(n,"timestamp",{value:r(128)}),Object.defineProperty(n,"uncolorize",{value:r(130)})},function(e,t,r){var n={"./align.js":78,"./browser.js":131,"./cli.js":79,"./colorize.js":45,"./combine.js":80,"./errors.js":132,"./format.js":11,"./index.js":133,"./json.js":81,"./label.js":82,"./levels.js":57,"./logstash.js":83,"./metadata.js":84,"./ms.js":134,"./pad-levels.js":58,"./pretty-print.js":85,"./printf.js":86,"./simple.js":87,"./splat.js":88,"./timestamp.js":89,"./uncolorize.js":90};function i(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=226},function(e,t,r){"use strict";const n=r(13),{LEVEL:i,MESSAGE:s}=r(1);e.exports=n((e,{stack:t})=>{if(e instanceof Error){const r=Object.assign({},e,{level:e.level,[i]:e[i]||e.level,message:e.message,[s]:e[s]||e.message});return t&&(r.stack=e.stack),r}if(!(e.message instanceof Error))return e;Object.assign(e,e.message);const r=e.message;return e.message=r.message,e[s]=r.message,t&&(e.stack=r.stack),e})},function(e,t,r){const{format:n}=r(20),{combine:i,timestamp:s,label:o}=n,a=i(o({label:"right meow!"}),s()).transform({level:"info",message:"What time is the testing at?"});console.dir(a)},function(e,t,r){const{format:n}=r(20),{combine:i,timestamp:s,label:o}=n,a=n((e,t)=>!e.private&&e)();console.dir(a.transform({level:"error",message:"Public error to share"})),console.dir(a.transform({level:"error",private:!0,message:"This is super secret - hide it."}));const c=n.combine(n(e=>!1)(),n(e=>{throw new Error("Never reached")})());console.dir(c.transform({level:"info",message:"wow such testing"}))},function(e,t,r){const{format:n}=r(20);n((function(e,t,r,n){return e}))},function(e,t,r){const{format:n}=r(20),{combine:i,json:s,metadata:o,timestamp:a}=n,c=i(a(),o(),s()).transform({level:"info",message:"This should be a message.",application:"Microsoft Office",store:"Big Box Store",purchaseAmount:"9.99"});console.dir(c);const u=i(a(),o({fillExcept:["message","level","timestamp"]}),s()).transform({level:"info",message:"This should have attached metadata",category:"movies",subCategory:"action"});console.dir(u);const l=i(a(),o({fillWith:["publisher","author","book"],key:"bookInfo"}),s()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel"});console.dir(l);const d=i(a(),o({fillWith:["publisher","author","book"],key:"bookInfo"}),o({fillWith:["purchasePrice","purchaseDate","transactionId"],key:"transactionInfo"}),o({fillExcept:["level","message","label","timestamp"]}),s()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel",purchasePrice:"9.99",purchaseDate:"2.10.2018",transactionId:"123ABC"});console.dir(d)},function(e,t,r){const{format:n}=r(20),{combine:i,padLevels:s,simple:o}=n,{MESSAGE:a}=r(1),c=i(s({levels:{error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6}}),o()),u=c.transform({level:"info",message:"This is an info level message."}),l=c.transform({level:"error",message:"This is an error level message."}),d=c.transform({level:"verbose",message:"This is a verbose level message."});console.dir(u[a]),console.dir(l[a]),console.dir(d[a])},function(e,t,r){const{format:n}=r(20),i=n((e,t)=>(t.yell?e.message=e.message.toUpperCase():t.whisper&&(e.message=e.message.toLowerCase()),e)),s=i({yell:!0});console.dir(s.transform({level:"info",message:"sorry for making you YELL in your head!"},s.options));const o=i({whisper:!0});console.dir(o.transform({level:"info",message:"WHY ARE THEY MAKING US YELL SO MUCH!"},o.options))},function(e,t,r){"use strict";const n=r(13),i=r(135);e.exports=n(e=>{const t=+new Date;return this.diff=t-(this.prevTime||t),this.prevTime=t,e.ms="+"+i(this.diff),e})},function(e){e.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.3.3","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0","logform":"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},"devDependencies":{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1","assume":"^2.2.0","colors":"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.4.1","mocha":"^8.0.1","nyc":"^15.1.0","rimraf":"^3.0.2","split2":"^3.1.1","std-mocks":"^1.0.1","through2":"^3.0.1","winston-compat":"^0.1.5"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT","_resolved":"https://registry.npmjs.org/winston/-/winston-3.3.3.tgz","_integrity":"sha512-oEXTISQnC8VlSAKf1KYSSd7J6IWuRPQqDdo8eoRNaYKLvwSb5+79Z3Yi1lrl6KDpU6/VWaxpakDAtb1oQ4n9aw==","_from":"winston@3.3.3"}')},function(e,t,r){"use strict";Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:()=>r(237)}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:()=>r(238)}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:()=>r(258)}),Object.defineProperty(t,"Stream",{configurable:!0,enumerable:!0,get:()=>r(259)})},function(e,t,r){"use strict";const n=r(14),{LEVEL:i,MESSAGE:s}=r(1),o=r(17);e.exports=class extends o{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=e.eol||n.EOL,this.setMaxListeners(30)}log(e,t){return setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[i]]?(console._stderr?console._stderr.write(`${e[s]}${this.eol}`):console.error(e[s]),void(t&&t())):this.consoleWarnLevels[e[i]]?(console._stderr?console._stderr.write(`${e[s]}${this.eol}`):console.warn(e[s]),void(t&&t())):(console._stdout?console._stdout.write(`${e[s]}${this.eol}`):console.log(e[s]),void(t&&t()))}_stringArrayToSet(e,t){if(!e)return{};if(t=t||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(t);return e.reduce((e,r)=>{if("string"!=typeof r)throw new Error(t);return e[r]=!0,e},{})}}},function(e,t,r){"use strict";const n=r(25),i=r(21),s=r(239),o=r(140),{MESSAGE:a}=r(1),{Stream:c,PassThrough:u}=r(24),l=r(17),d=r(59)("winston:file"),h=r(14),f=r(257);e.exports=class extends l{constructor(e={}){function t(t,...r){r.slice(1).forEach(r=>{if(e[r])throw new Error(`Cannot set ${r} and ${t} together`)})}if(super(e),this.name=e.name||"file",this._stream=new u,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)t("filename or dirname","stream"),this._basename=this.filename=e.filename?i.basename(e.filename):"winston.log",this.dirname=e.dirname||i.dirname(e.filename),this.options=e.options||{flags:"a"};else{if(!e.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),t("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=i.dirname(this._dest.path)}this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=e.eol||h.EOL,this.tailable=e.tailable||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,t=(()=>{})){if(this.silent)return t(),!0;if(this._drain)return void this._stream.once("drain",()=>{this._drain=!1,this.log(e,t)});if(this._rotate)return void this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,t)});const r=`${e[a]}${this.eol}`,n=Buffer.byteLength(r);this._pendingSize+=n,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);const i=this._stream.write(r,function(){this._size+=n,this._pendingSize-=n,d("logged %s %s",this._size,r),this.emit("logged",e),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(()=>this._rotateFile()))}.bind(this));return i?t():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,t()})),d("written",i,this._drain),this.finishIfEnding(),i}query(e,t){"function"==typeof e&&(t=e,e={}),e=function(e){(e=e||{}).rows=e.rows||e.limit||10,e.start=e.start||0,e.until=e.until||new Date,"object"!=typeof e.until&&(e.until=new Date(e.until));e.from=e.from||e.until-864e5,"object"!=typeof e.from&&(e.from=new Date(e.from));return e.order=e.order||"desc",e}(e);const r=i.join(this.dirname,this.filename);let s="",o=[],a=0;const c=n.createReadStream(r,{encoding:"utf8"});function u(t,r){try{const r=JSON.parse(t);(function(t){if(!t)return;if("object"!=typeof t)return;const r=new Date(t.timestamp);if(e.from&&r<e.from||e.until&&r>e.until||e.level&&e.level!==t.level)return;return!0})(r)&&function(t){if(e.rows&&o.length>=e.rows&&"desc"!==e.order)return void(c.readable&&c.destroy());e.fields&&(t=e.fields.reduce((e,r)=>(e[r]=t[r],e),{}));"desc"===e.order&&o.length>=e.rows&&o.shift();o.push(t)}(r)}catch(e){r||c.emit("error",e)}}c.on("error",e=>{if(c.readable&&c.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,o)}),c.on("data",t=>{const r=(t=(s+t).split(/\n+/)).length-1;let n=0;for(;n<r;n++)(!e.start||a>=e.start)&&u(t[n]),a++;s=t[r]}),c.on("close",()=>{s&&u(s,!0),"desc"===e.order&&(o=o.reverse()),t&&t(null,o)})}stream(e={}){const t=i.join(this.dirname,this.filename),r=new c,n={file:t,start:e.start};return r.destroy=f(n,(e,t)=>{if(e)return r.emit("error",e);try{r.emit("data",t),t=JSON.parse(t),r.emit("log",t)}catch(e){r.emit("error",e)}}),r}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,t)=>{if(e)return this.emit("error",e);d("stat done: %s { size: %s }",this.filename,t),this._size=t,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})))}stat(e){const t=this._getFile(),r=i.join(this.dirname,t);n.stat(r,(n,i)=>n&&"ENOENT"===n.code?(d("ENOENTok",r),this.filename=t,e(null,0)):n?(d(`err ${n.code} ${r}`),e(n)):!i||this._needsNewFile(i.size)?this._incFile(()=>this.stat(e)):(this.filename=t,void e(null,i.size)))}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=(()=>{})){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){const t=i.join(this.dirname,this.filename);d("create stream start",t,this.options);const r=n.createWriteStream(t,this.options).on("error",e=>d(e)).on("close",()=>d("close",r.path,r.bytesWritten)).on("open",()=>{d("file open ok",t),this.emit("open",t),e.pipe(r),this.rotatedWhileOpening&&(this._stream=new u,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(r),e.end())});if(d("create stream ok",t),this.zippedArchive){const e=o.createGzip();return e.pipe(r),e}return r}_incFile(e){d("_incFile",this.filename);const t=i.extname(this._basename),r=i.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,r,e):(this._created+=1,this._checkMaxFilesIncrementing(t,r,e))}_getFile(){const e=i.extname(this._basename),t=i.basename(this._basename,e),r=this.rotationFormat?this.rotationFormat():this._created,n=!this.tailable&&this._created?`${t}${r}${e}`:`${t}${e}`;return this.zippedArchive&&!this.tailable?n+".gz":n}_checkMaxFilesIncrementing(e,t,r){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(r);const s=this._created-this.maxFiles,o=`${t}${0!==s?s:""}${e}${this.zippedArchive?".gz":""}`,a=i.join(this.dirname,o);n.unlink(a,r)}_checkMaxFilesTailable(e,t,r){const o=[];if(!this.maxFiles)return;const a=this.zippedArchive?".gz":"";for(let r=this.maxFiles-1;r>1;r--)o.push(function(r,s){let o=`${t}${r-1}${e}${a}`;const c=i.join(this.dirname,o);n.exists(c,u=>{if(!u)return s(null);o=`${t}${r}${e}${a}`,n.rename(c,i.join(this.dirname,o),s)})}.bind(this,r));s(o,()=>{n.rename(i.join(this.dirname,`${t}${e}`),i.join(this.dirname,`${t}1${e}${a}`),r)})}_createLogDirIfNotExist(e){n.existsSync(e)||n.mkdirSync(e,{recursive:!0})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(i.default,e,t)};var n=s(r(240)),i=s(r(244));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(91)),i=o(r(34)),s=o(r(46));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,s.default)((e,t,r)=>{var s=(0,n.default)(t)?[]:{};e(t,(e,t,r)=>{(0,i.default)(e)((e,...n)=>{n.length<2&&([n]=n),s[t]=n,r(e)})},e=>r(e,s))},3),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,s.isAsync)(e))return function(...t){const r=t.pop();return a(e.apply(this,t),r)};return(0,n.default)((function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}if(n&&"function"==typeof n.then)return a(n,r);r(null,n)}))};var n=o(r(242)),i=o(r(243)),s=r(34);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return e.then(e=>{c(t,null,e)},e=>{c(t,e&&e.message?e:new Error(e))})}function c(e,t,r){try{e(t,r)}catch(e){(0,i.default)(e=>{throw e},e)}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(...t){var r=t.pop();return e.call(this,t,r)}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fallback=o,t.wrap=a;var n,i=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,s=t.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function o(e){setTimeout(e,0)}function a(e){return(t,...r)=>e(()=>t(...r))}n=i?setImmediate:s?process.nextTick:o,t.default=a(n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(137)),i=s(r(46));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)((function(e,t,r){return(0,n.default)(e,1,t,r)}),3),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(138)),i=u(r(246)),s=u(r(139)),o=r(34),a=u(r(248)),c=u(r(92));function u(e){return e&&e.__esModule?e:{default:e}}t.default=e=>(t,r,u)=>{if(u=(0,n.default)(u),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return u(null);if((0,o.isAsyncGenerator)(t))return(0,a.default)(t,e,r,u);if((0,o.isAsyncIterable)(t))return(0,a.default)(t[Symbol.asyncIterator](),e,r,u);var l=(0,i.default)(t),d=!1,h=!1,f=0,p=!1;function g(e,t){if(!h)if(f-=1,e)d=!0,u(e);else if(!1===e)d=!0,h=!0;else{if(t===c.default||d&&f<=0)return d=!0,u(null);p||m()}}function m(){for(p=!0;f<e&&!d;){var t=l();if(null===t)return d=!0,void(f<=0&&u(null));f+=1,r(t.value,t.key,(0,s.default)(g))}p=!1}m()},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t=(0,i.default)(e);return t?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(t):(r=e,s=r?Object.keys(r):[],o=-1,a=s.length,function(){var e=s[++o];return o<a?{value:r[e],key:e}:null});var r,s,o,a};var n=s(r(91)),i=s(r(247));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){let i=!1,o=!1,a=!1,c=0,u=0;function l(){c>=t||a||i||(a=!0,e.next().then(({value:e,done:t})=>{if(!o&&!i){if(a=!1,t)return i=!0,void(c<=0&&n(null));c++,r(e,u,d),u++,l()}}).catch(h))}function d(e,t){if(c-=1,!o)return e?h(e):!1===e?(i=!0,void(o=!0)):t===s.default||i&&c<=0?(i=!0,n(null)):void l()}function h(e){o||(a=!1,i=!0,n(e))}l()};var n,i=r(92),s=(n=i)&&n.__esModule?n:{default:n};e.exports=t.default},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(44).Buffer,s=r(7).inspect,o=s&&s.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},t.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,r,n,s=i.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=s,n=a,i.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return s},t.consume=function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0===(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n},t._getBuffer=function(e){var t=i.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(s.copy(t,t.length-e,0,o),0===(e-=o)){o===s.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=s.slice(o));break}++n}return this.length-=n,t},t[o]=function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}({},t,{depth:0,customInspect:!1}))},e}()},function(e,t,r){"use strict";var n=new Set;e.exports.emitExperimentalWarning=process.emitWarning?function(e){if(!n.has(e)){var t=e+" is an experimental feature. This feature could change at any time";n.add(e),process.emitWarning(t,"ExperimentalWarning")}}:function(){}},function(e,t,r){var n=r(44),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(93),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[h].read();null!==r&&(e[l]=null,e[o]=null,e[a]=null,t(f(r,!1)))}}function g(e){process.nextTick(p,e)}var m=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(f(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(f(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(f(i,!1));r=new Promise(this[d])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(f(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(v,(i(t={},h,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[h].read();n?(r[l]=null,r[o]=null,r[a]=null,e(f(n,!1))):(r[o]=e,r[a]=t)},writable:!0}),t));return r[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[o]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[o];null!==n&&(r[l]=null,r[o]=null,r[a]=null,n(f(void 0,!0))),r[u]=!0})),e.on("readable",g.bind(null,r)),r}},function(e,t,r){"use strict";e.exports=i;var n=r(147);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(26)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var i=r(35).codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(93)),n(e,{readable:t,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,r){var s=r<t.length-1;return c(e,s,r>0,(function(e){n||(n=e),e&&o.forEach(u),s||(o.forEach(u),i(n))}))}));return t.reduce(l)}},function(e,t,r){var n=r(256)((function e(t,r){return(r=r||{}).namespace=t,r.prod=!0,r.dev=!1,r.force||e.force?e.yep(r):e.nope(r)}));e.exports=n},function(e,t){var r=[],n=[],i=function(){};function s(e){return!~r.indexOf(e)&&(r.push(e),!0)}function o(e){i=e}function a(e){for(var t=[],n=0;n<r.length;n++)if(r[n].async)t.push(r[n]);else if(r[n](e))return!0;return!!t.length&&new Promise((function(r){Promise.all(t.map((function(t){return t(e)}))).then((function(e){r(e.some(Boolean))}))}))}function c(e){return!~n.indexOf(e)&&(n.push(e),!0)}function u(){i.apply(i,arguments)}function l(e){for(var t=0;t<n.length;t++)e=n[t].apply(n[t],arguments);return e}function d(e,t){var r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e}function h(e){return e.enabled=!1,e.modify=c,e.set=o,e.use=s,d((function(){return!1}),e)}function f(e){return e.enabled=!0,e.modify=c,e.set=o,e.use=s,d((function(){var t=Array.prototype.slice.call(arguments,0);return u.call(u,e,l(t,e)),!0}),e)}e.exports=function(e){return e.introduce=d,e.enabled=a,e.process=l,e.modify=c,e.write=u,e.nope=h,e.yep=f,e.set=o,e.use=s,e}},function(e,t,r){"use strict";const n=r(25),{StringDecoder:i}=r(148),{Stream:s}=r(24);function o(){}e.exports=(e,t)=>{const r=Buffer.alloc(65536),a=new i("utf8"),c=new s;let u="",l=0,d=0;return-1===e.start&&delete e.start,c.readable=!0,c.destroy=()=>{c.destroyed=!0,c.emit("end"),c.emit("close")},n.open(e.file,"a+","0644",(i,s)=>{if(i)return t?t(i):c.emit("error",i),void c.destroy();!function i(){if(!c.destroyed)return n.read(s,r,0,r.length,l,(n,s)=>{if(n)return t?t(n):c.emit("error",n),void c.destroy();if(!s)return u&&((null==e.start||d>e.start)&&(t?t(null,u):c.emit("line",u)),d++,u=""),setTimeout(i,1e3);let o=a.write(r.slice(0,s));t||c.emit("data",o),o=(u+o).split(/\n+/);const h=o.length-1;let f=0;for(;f<h;f++)(null==e.start||d>e.start)&&(t?t(null,o[f]):c.emit("line",o[f])),d++;return u=o[h],l+=s,i()});n.close(s,o)}()}),t?c.destroy:c}},function(e,t,r){"use strict";const n=r(149),i=r(150),{Stream:s}=r(24),o=r(17);e.exports=class extends o{constructor(e={}){super(e),this.options=e,this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80)}log(e,t){this._request(e,(t,r)=>{r&&200!==r.statusCode&&(t=new Error("Invalid HTTP Status Code: "+r.statusCode)),t?this.emit("warn",t):this.emit("logged",e)}),t&&setImmediate(t)}query(e,t){"function"==typeof e&&(t=e,e={}),(e={method:"query",params:this.normalizeQuery(e)}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),this._request(e,(e,r,n)=>{if(r&&200!==r.statusCode&&(e=new Error("Invalid HTTP Status Code: "+r.statusCode)),e)return t(e);if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return t(e)}t(null,n)})}stream(e={}){const t=new s;(e={method:"stream",params:e}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth);let r="";const n=this._request(e);return t.destroy=()=>n.destroy(),n.on("data",e=>{const n=(e=(r+e).split(/\n+/)).length-1;let i=0;for(;i<n;i++)try{t.emit("log",JSON.parse(e[i]))}catch(e){t.emit("error",e)}r=e[n]}),n.on("error",e=>t.emit("error",e)),t}_request(e,t){const r=(e=e||{}).auth||this.auth,s=e.path||this.path||"";delete e.auth,delete e.path;const o=Object.assign({},this.headers);r&&r.bearer&&(o.Authorization="Bearer "+r.bearer);const a=(this.ssl?i:n).request({...this.options,method:"POST",host:this.host,port:this.port,path:"/"+s.replace(/^\//,""),headers:o,auth:r&&r.username&&r.password?`${r.username}:${r.password}`:"",agent:this.agent});a.on("error",t),a.on("response",e=>e.on("end",()=>t(null,e)).resume()),a.end(Buffer.from(JSON.stringify(e),"utf8"))}}},function(e,t,r){"use strict";const n=r(151),{MESSAGE:i}=r(1),s=r(14),o=r(17);e.exports=class extends o{constructor(e={}){if(super(e),!e.stream||!n(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=e.eol||s.EOL}log(e,t){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode)return this._stream.write(e),void(t&&t());this._stream.write(`${e[i]}${this.eol}`),t&&t()}}},function(e,t,r){"use strict";const{Stream:n,Transform:i}=r(24),s=r(95),{LEVEL:o,SPLAT:a}=r(1),c=r(151),u=r(153),l=r(156),d=r(75),h=r(264),{warn:f}=r(136),p=r(94),g=/%[scdjifoO%]/g;class m extends i{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){const t=this;return Object.create(t,{write:{value:function(r){const n=Object.assign({},e,r);r instanceof Error&&(n.stack=r.stack,n.message=r.message),t.write(n)}}})}configure({silent:e,format:t,defaultMeta:n,levels:i,level:s="info",exitOnError:o=!0,transports:a,colors:c,emitErrs:d,formatters:h,padLevels:f,rewriters:g,stripColors:m,exceptionHandlers:v,rejectionHandlers:y}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=t||this.format||r(56)(),this.defaultMeta=n||null,this.levels=i||this.levels||p.npm.levels,this.level=s,this.exceptions=new u(this),this.rejections=new l(this),this.profilers={},this.exitOnError=o,a&&(a=Array.isArray(a)?a:[a]).forEach(e=>this.add(e)),c||d||h||f||g||m)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));v&&this.exceptions.handle(v),y&&this.rejections.handle(y)}isLevelEnabled(e){const t=v(this.levels,e);if(null===t)return!1;const r=v(this.levels,this.level);return null!==r&&(this.transports&&0!==this.transports.length?-1!==this.transports.findIndex(e=>{let n=v(this.levels,e.level);return null===n&&(n=r),n>=t}):r>=t)}log(e,t,...r){if(1===arguments.length)return e[o]=e.level,this._addDefaultMeta(e),this.write(e),this;if(2===arguments.length)return t&&"object"==typeof t?(t[o]=t.level=e,this._addDefaultMeta(t),this.write(t),this):(this.write({[o]:e,level:e,message:t}),this);const[n]=r;if("object"==typeof n&&null!==n){if(!(t&&t.match&&t.match(g))){const i=Object.assign({},this.defaultMeta,n,{[o]:e,[a]:r,level:e,message:t});return n.message&&(i.message=`${i.message} ${n.message}`),n.stack&&(i.stack=n.stack),this.write(i),this}}return this.write(Object.assign({},this.defaultMeta,{[o]:e,[a]:r,level:e,message:t})),this}_transform(e,t,r){if(this.silent)return r();e[o]||(e[o]=e.level),this.levels[e[o]]||0===this.levels[e[o]]||console.error("[winston] Unknown logger level: %s",e[o]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",e);try{this.push(this.format.transform(e,this.format.options))}catch(e){throw e}finally{r()}}_final(e){const t=this.transports.slice();s(t,(e,t)=>{if(!e||e.finished)return setImmediate(t);e.once("finish",t),e.end()},e)}add(e){const t=!c(e)||e.log.length>2?new d({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",t),this._onEvent("warn",t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){if(!e)return this;let t=e;return(!c(e)||e.log.length>2)&&(t=this.transports.filter(t=>t.transport===e)[0]),t&&this.unpipe(t),this}clear(){return this.unpipe(),this}close(){return this.clear(),this.emit("close"),this}setLevels(){f.deprecated("setLevels")}query(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};const r={},n=Object.assign({},e.query||{});s(this.transports.filter(e=>!!e.query),(function(t,i){!function(t,r){e.query&&"function"==typeof t.formatQuery&&(e.query=t.formatQuery(n)),t.query(e,(n,i)=>{if(n)return r(n);"function"==typeof t.formatResults&&(i=t.formatResults(i,e.format)),r(null,i)})}(t,(e,n)=>{i&&((n=e||n)&&(r[t.name]=n),i()),i=null})}),()=>t(null,r))}stream(e={}){const t=new n,r=[];return t._streams=r,t.destroy=()=>{let e=r.length;for(;e--;)r[e].destroy()},this.transports.filter(e=>!!e.stream).forEach(n=>{const i=n.stream(e);i&&(r.push(i),i.on("log",e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("log",e)}),i.on("error",e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("error",e)}))}),t}startTimer(){return new h(this)}profile(e,...t){const r=Date.now();if(this.profilers[e]){const n=this.profilers[e];delete this.profilers[e],"function"==typeof t[t.length-2]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());const i="object"==typeof t[t.length-1]?t.pop():{};return i.level=i.level||"info",i.durationMs=r-n,i.message=i.message||e,this.write(i)}return this.profilers[e]=r,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}_onEvent(e,t){t["__winston"+e]||(t["__winston"+e]=function(r){"error"!==e||this.transports.includes(t)||this.add(t),this.emit(e,r,t)}.bind(this),t.on(e,t["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}}function v(e,t){const r=e[t];return r||0===r?r:null}Object.defineProperty(m.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}}),e.exports=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(91)),i=l(r(92)),s=l(r(137)),o=l(r(138)),a=l(r(139)),c=l(r(34)),u=l(r(46));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){r=(0,o.default)(r);var n=0,s=0,{length:c}=e,u=!1;function l(e,t){!1===e&&(u=!0),!0!==u&&(e?r(e):++s!==c&&t!==i.default||r(null))}for(0===c&&r(null);n<c;n++)t(e[n],n,(0,a.default)(l))}function h(e,t,r){return(0,s.default)(e,1/0,t,r)}t.default=(0,u.default)((function(e,t,r){return((0,n.default)(e)?d:h)(e,(0,c.default)(t),r)}),3),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(t,r,n)=>e(t,n)},e.exports=t.default},function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){if("string"==typeof e.displayName&&e.constructor.name)return e.displayName;if("string"==typeof e.name&&e.name)return e.name;if("object"==typeof e&&e.constructor&&"string"==typeof e.constructor.name)return e.constructor.name;var t=e.toString(),r=n.call(e).slice(8,-1);return(t="Function"===r?t.substring(t.indexOf("(")+1,t.indexOf(")")):r)||"anonymous"}},function(e,t,r){"use strict";e.exports=class{constructor(e){if(!e)throw new Error("Logger is required for profiling.");this.logger=e,this.start=Date.now()}done(...e){"function"==typeof e[e.length-1]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());const t="object"==typeof e[e.length-1]?e.pop():{};return t.level=t.level||"info",t.durationMs=Date.now()-this.start,this.logger.write(t)}}},function(e,t,r){"use strict";const n=r(152);e.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,t){if(!this.loggers.has(e)){const r=(t=Object.assign({},t||this.options)).transports||this.options.transports;t.transports=r?r.slice():[];const i=n(t);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,t){return this.add(e,t)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((e,t)=>this._removeLogger(t))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(267);t.ConsoleForElectron=class extends i{constructor(e){super(e),this.prefix=e.prefix,this.stderrLevels=this._getStderrLevels(e.stderrLevels)}log(e,t){let r=e[n.MESSAGE];this.prefix&&(r=this.prefix+": "+r),this.stderrLevels.has(e[n.LEVEL])?console.error(r):console.log(r),t&&t()}_getStderrLevels(e){if(void 0===e)return new Set(["error"]);if(!Array.isArray(e))throw new Error("Cannot set stderrLevels to type other than Array");return this._stringArrayToSet(e)}_stringArrayToSet(e){if(!e)return new Set;if(!Array.isArray(e))throw new Error("Cannot make set from type other than Array of string elements");return e.reduce((e,t)=>{if("string"!=typeof t)throw new Error("Cannot make set from type other than Array of string elements");return e[t]=!0,e},new Set)}}},function(e,t,r){"use strict";const n=r(7),{Writable:i}=r(43),{LEVEL:s}=r(1),o=e.exports=function(e={}){i.call(this,{objectMode:!0}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",e=>{this.levels=e.levels,this.level=this.level||e.level,this.parent=e}),this.once("unpipe",e=>{e===this.parent&&(this.parent=null,this.close&&this.close())})};n.inherits(o,i),o.prototype._write=function(e,t,r){return this.silent||!0===e.exception&&!this.handleExceptions?r(null):(!this.level||this.levels[this.level]>=this.levels[e[s]])&&(e=this.format?this.format.transform(Object.assign({},e),this.format.options):e)?this.log(e,r):r(null)},o.prototype._writev=function(e,t){if(this.logv){const r=e.filter(this._accept,this);return r.length?this.logv(r,t):t(null)}for(let t=0;t<e.length;t++)if(this._accept(e[t])){const r=this.format?this.format.transform(Object.assign({},e[t].chunk),this.format.options):e[t].chunk;r&&this.log(r,e[t].callback)}return t(null)},o.prototype._accept=function(e){const t=e.chunk;return!this.silent&&!(!0!==t.exception&&this.level&&!(this.levels[this.level]>=this.levels[t[s]])||!this.handleExceptions&&!0===t.exception)},o.prototype._nop=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumericString=void 0;class n{constructor(e,t,r,n,i,s){this.value=e,this.radix=t,this.numLength=r,this.prefix=n,this.suffix=i,this.negative=s}static parse(e){let t=-1,r=-1,i=-1,s=!1;for(const{regex:o,radix:a}of n.matchings){const n=o.exec(e);null!=n&&(i<0||n.index<t||n.index===t&&n[0].length>r)&&(t=n.index,r=n[0].length,i=a,s="-"===n[1])}if(i<0)return;const o=t+r,a=e.slice(0,t),c=e.slice(t,o),u=e.slice(o,e.length);let l=parseInt(c,i);const d=r-n.numPrefix[i].length-(s?1:0);let h=!1;return 10!==i&&s&&(l=-l,h=!0),{num:new n(l,i,d,a,u,h),suffixOffset:o}}toString(){if(10!==this.radix){const e=4294967295;for(;this.value<0;)this.value=e+this.value+1}let e=Math.abs(this.value).toString(this.radix);if(10!==this.radix){const t=this.numLength-e.length;t>0&&(e="0".repeat(t)+e)}const t=(this.negative||this.value<0?"-":"")+n.numPrefix[this.radix]+e;return this.prefix+t+this.suffix}}t.NumericString=n,n.numPrefix={8:"0",10:"",16:"0x"},n.matchings=[{regex:/(-)?0[0-7]+/,radix:8},{regex:/(-)?\d+/,radix:10},{regex:/(-)?0x[\da-fA-F]+/,radix:16}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;const n=r(270),i=r(5),s=r(27),o=r(12),a=r(8),c=r(163);function u(e,t){const r=o.Logger.get("Parser");for(;;){let n=e.next();switch(n.type){case s.TokenType.Eof:return null;case s.TokenType.Dot:case s.TokenType.Dollar:case s.TokenType.Percent:case s.TokenType.Comma:case s.TokenType.LineNumber:case s.TokenType.SelectionFirstLine:case s.TokenType.SelectionLastLine:case s.TokenType.Mark:case s.TokenType.Offset:case s.TokenType.Plus:case s.TokenType.Minus:t.range.addToken(n);continue;case s.TokenType.CommandName:return e.backup(),l;default:return r.warn(`Parser: skipping token Token(${n.type},{${n.content}})`),null}}}function l(e,t){for(;!e.isAtEof;){const r=e.next();switch(r.type){case s.TokenType.CommandName:const n=c.getParser(r.content);if(!n)throw a.VimError.fromCode(a.ErrorCode.NotAnEditorCommand,e.input);const i=e.next(),o=i.type===s.TokenType.CommandArgs?i.content:void 0;return t.command=n(o),null;default:throw new Error("Not implemented")}}return e.isAtEof?null:(e.backup(),l)}t.parse=function(e){const t=new i.CommandLine;let r=u,n=new d(e);for(;r;)r=r(n,t);return t};class d{constructor(e){this.tokens=[],this.pos=0,this.input=e,this.lex(e)}lex(e){this.tokens=n.lex(e)}next(){if(this.pos>=this.tokens.length)return this.pos=this.tokens.length,new s.Token(s.TokenType.Eof,"__EOF__");let e=this.tokens[this.pos];return this.pos++,e}backup(){this.pos--}get isAtEof(){return this.pos>=this.tokens.length}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lex=void 0;const n=r(9),i=r(27);function s(e,t){const r=t.emit();return r.length>0?new i.Token(e,r):null}var o;t.lex=function(e){const t=new n.Scanner(e);let r=[],i=o.lexRange;for(;i;)i=i(t,r);return r},function(e){function t(e,t){for(;!e.isAtEof;){switch(e.next()){case",":case";":t.push(s(i.TokenType.Comma,e));continue;case"%":t.push(s(i.TokenType.Percent,e));continue;case"$":t.push(s(i.TokenType.Dollar,e));continue;case".":t.push(s(i.TokenType.Dot,e));continue;case"/":return c;case"?":return u;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(t.length<1)return n(i.TokenType.LineNumber);{const e=t[t.length-1].type;return e===i.TokenType.Plus||e===i.TokenType.Minus?n(i.TokenType.Offset):n(i.TokenType.LineNumber)}case"+":t.push(s(i.TokenType.Plus,e));continue;case"-":t.push(s(i.TokenType.Minus,e));continue;case"*":e.emit(),t.push(new i.Token(i.TokenType.SelectionFirstLine,"<")),t.push(new i.Token(i.TokenType.Comma,",")),t.push(new i.Token(i.TokenType.SelectionLastLine,">"));continue;case"'":return r;case"!":return t.push(s(i.TokenType.CommandName,e)),a;default:return o}}return null}function r(e,r){if(e.isAtEof)return null;const n=e.next();switch(n){case"<":r.push(s(i.TokenType.SelectionFirstLine,e));break;case">":r.push(s(i.TokenType.SelectionLastLine,e));break;default:/[a-zA-Z]/.test(n)?(e.emit(),r.push(new i.Token(i.TokenType.Mark,n))):e.backup()}return t}function n(e){return function(r,n){for(;;){if(r.isAtEof)return n.push(s(e,r)),null;if(!/[0-9]/.test(r.next()))return r.backup(),n.push(s(e,r)),t}}}function o(e,t){for(;;){if(e.isAtEof){t.push(s(i.TokenType.CommandName,e));break}const r=e.next().toLowerCase();if(!(r>="a"&&r<="z"))return e.backup(),t.push(s(i.TokenType.CommandName,e)),a}return null}function a(e,t){for(;!e.isAtEof;)e.next();const r=s(i.TokenType.CommandArgs,e);return r&&t.push(r),null}function c(e,r){e.skip("/");let n=!1,s="";for(;!e.isAtEof;){const t=e.next();if("/"===t&&!n)break;"\\"!==t?(n=!1,s+="\\"!==t?t:"\\\\"):n=!0}return r.push(new i.Token(i.TokenType.ForwardSearch,s)),e.ignore(),e.isAtEof||e.skip("/"),t}function u(e,r){e.skip("?");let n=!1,s="";for(;!e.isAtEof;){const t=e.next();if("?"===t&&!n)break;"\\"!==t?(n=!1,s+="\\"!==t?t:"\\\\"):n=!0}return r.push(new i.Token(i.TokenType.ReverseSearch,s)),e.ignore(),e.isAtEof||e.skip("?"),t}e.lexRange=t}(o||(o={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCloseCommandArgs=void 0;const n=r(8),i=r(272),s=r(9);t.parseCloseCommandArgs=function(e){if(!e)return new i.CloseCommand({});const t={},r=new s.Scanner(e),o=r.next();if("!"===o)t.bang=!0,r.ignore();else if(" "!==o)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);return new i.CloseCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseCommand=void 0;const n=r(0),i=r(8),s=r(5);class o extends s.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}async execute(){if(this.activeTextEditor.document.isDirty&&!this.arguments.bang)throw i.VimError.fromCode(i.ErrorCode.NoWriteSinceLastChange);if(1===n.window.visibleTextEditors.length)throw i.VimError.fromCode(i.ErrorCode.CannotCloseLastWindow);let e=this.activeTextEditor.viewColumn;await n.commands.executeCommand("workbench.action.closeActiveEditor"),void 0!==n.window.activeTextEditor&&n.window.activeTextEditor.viewColumn===e&&await n.commands.executeCommand("workbench.action.previousEditor")}}t.CloseCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDeleteRangeLinesCommandArgs=void 0;const n=r(274),i=r(9);t.parseDeleteRangeLinesCommandArgs=function(e){return e?new n.DeleteRangeCommand({register:new i.Scanner(e).nextWord()}):new n.DeleteRangeCommand({})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteRangeCommand=void 0;const n=r(0),i=r(3),s=r(15),o=r(4),a=r(5),c=r(27);class u extends a.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}neovimCapable(){return!0}async deleteRange(e,t,r){e=e.getLineBegin(),t=t.getLineEnd();const s=(t=i.Position.FromVSCodePosition(t.with(t.line,t.character+1))).line===o.TextEditor.getLineCount()-1;t.character===o.TextEditor.getLineAt(t).text.length+1&&(t=t.getDownWithDesiredColumn(0)),s&&0!==e.line&&(e=e.getPreviousLineBegin().getLineEnd());let a=r.editor.document.getText(new n.Range(e,t));a=a.endsWith("\r\n")?a.slice(0,-2):a.slice(0,-1),await o.TextEditor.delete(new n.Range(e,t));let c=i.earlierOf(e,t);return c=e.character>o.TextEditor.getLineAt(e).text.length?e.getLeft():e,c=c.getLineBegin(),r.editor.selection=new n.Selection(c,c),a}async execute(e){if(!e.editor)return;let t=i.Position.FromVSCodePosition(e.editor.selection.active),r=await this.deleteRange(t,t,e);s.Register.putByKey(r,this._arguments.register,s.RegisterMode.LineWise)}async executeWithRange(e,t){let r,a;t.left[0].type===c.TokenType.Percent?(r=new n.Position(0,0),a=new n.Position(o.TextEditor.getLineCount()-1,0)):(r=t.lineRefToPosition(e.editor,t.left,e),a=t.lineRefToPosition(e.editor,t.right,e));let u=await this.deleteRange(i.Position.FromVSCodePosition(r),i.Position.FromVSCodePosition(a),e);s.Register.putByKey(u,this._arguments.register,s.RegisterMode.LineWise)}}t.DeleteRangeCommand=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDigraphCommandArgs=void 0;const n=r(276),i=r(9);t.parseDigraphCommandArgs=function(e){return e?new n.DigraphsCommand({arg:new i.Scanner(e).nextWord()}):new n.DigraphsCommand({})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DigraphsCommand=void 0;const n=r(0),i=r(2),s=r(164),o=r(5),a=r(4);class c extends o.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}makeQuickPicks(e){const t=new Array;for(let r of Object.keys(e)){let[n,i]=e[r];t.push({label:r,description:n+" (user)",charCodes:i})}return t}async execute(e){void 0!==this.arguments.arg&&this.arguments.arg.length;const t=this.makeQuickPicks(i.configuration.digraphs).concat(this.makeQuickPicks(s.DefaultDigraphs));n.window.showQuickPick(t).then(async e=>{if(e){const t=String.fromCharCode(...e.charCodes);await a.TextEditor.insert(t)}})}}t.DigraphsCommand=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEditNewFileInNewHorizontalWindowCommandArgs=t.parseEditNewFileInNewVerticalWindowCommandArgs=t.parseEditFileInNewHorizontalWindowCommandArgs=t.parseEditFileInNewVerticalWindowCommandArgs=t.parseEditNewFileCommandArgs=t.parseEditFileCommandArgs=void 0;const n=r(73),i=r(9);t.parseEditFileCommandArgs=function(e){if(!e)return new n.FileCommand({name:"",createFileIfNotExists:!0});let t=new i.Scanner(e);const r="!"===t.next();if(t.isAtEof)return new n.FileCommand({name:"",bang:r,createFileIfNotExists:!0});let s=t.remaining();return new n.FileCommand({name:s.trim(),bang:r,createFileIfNotExists:!0})},t.parseEditNewFileCommandArgs=function(){return new n.FileCommand({name:void 0,createFileIfNotExists:!0})},t.parseEditFileInNewVerticalWindowCommandArgs=function(e){let t="";if(e){t=new i.Scanner(e).nextWord()}return new n.FileCommand({name:t,position:n.FilePosition.NewWindowVerticalSplit})},t.parseEditFileInNewHorizontalWindowCommandArgs=function(e){let t="";if(e){t=new i.Scanner(e).nextWord()}return new n.FileCommand({name:t,position:n.FilePosition.NewWindowHorizontalSplit})},t.parseEditNewFileInNewVerticalWindowCommandArgs=function(){return new n.FileCommand({name:void 0,createFileIfNotExists:!0,position:n.FilePosition.NewWindowVerticalSplit})},t.parseEditNewFileInNewHorizontalWindowCommandArgs=function(){return new n.FileCommand({name:void 0,createFileIfNotExists:!0,position:n.FilePosition.NewWindowHorizontalSplit})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseQuitAllCommandArgs=t.parseQuitCommandArgs=void 0;const n=r(8),i=r(62),s=r(9);function o(e){if(!e)return new i.QuitCommand({});const t={},r=new s.Scanner(e),o=r.next();if("!"===o)t.bang=!0,r.ignore();else if(" "!==o)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);return new i.QuitCommand(t)}t.parseQuitCommandArgs=o,t.parseQuitAllCommandArgs=function(e){let t=o(e);return t.arguments.quitAll=!0,t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseReadCommandArgs=void 0;const n=r(280),i=r(9);t.parseReadCommandArgs=function(e){if(!e)throw Error("Expected arguments.");const t={},r=new i.Scanner(e);if(r.skipWhiteSpace(),"!"===r.next()){if(r.ignore(),r.skipWhiteSpace(),t.cmd=r.remaining(),!t.cmd||0===t.cmd.length)throw Error("Expected shell command.")}else if(t.file=r.remaining(),!t.file||0===t.file.length)throw Error("Expected file path.");return new n.ReadCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadCommand=void 0;const n=r(48),i=r(30),s=r(4),o=r(5);class a extends o.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}neovimCapable(){return!0}async execute(){const e=await this.getTextToInsert();e&&await s.TextEditor.insert(e)}async getTextToInsert(){if(this.arguments.file&&this.arguments.file.length>0)return this.getTextToInsertFromFile();if(this.arguments.cmd&&this.arguments.cmd.length>0)return this.getTextToInsertFromCmd();throw Error("Invalid arguments")}async getTextToInsertFromFile(){try{return await i.readFileAsync(this.arguments.file,"utf8")}catch(e){throw e}}async getTextToInsertFromCmd(){return new Promise((e,t)=>{try{n.exec(this.arguments.cmd,(r,n,i)=>{r?t(r):e(n)})}catch(e){t(e)}})}}t.ReadCommand=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseRegisterCommandArgs=void 0;const n=r(282),i=r(9);t.parseRegisterCommandArgs=function(e){if(!e||!e.trim())return new n.RegisterCommand({registers:[]});let t=new i.Scanner(e),r=[],s=t.nextWord();for(;s!==i.Scanner.EOF;)r.push(s),s=t.nextWord();return new n.RegisterCommand({registers:r})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterCommand=void 0;const n=r(0),i=r(15),s=r(29),o=r(5);class a extends o.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}async getRegisterDisplayValue(e){let t=(await i.Register.getByKey(e)).text;return t instanceof Array?t=t.join("\n").substr(0,100):t instanceof s.RecordedState&&(t=t.actionsRun.map(e=>e.keysPressed.join("")).join("")),t}async displayRegisterValue(e){let t=await this.getRegisterDisplayValue(e);t=t.replace(/\n/g,"\\n"),n.window.showInformationMessage(`${e} ${t}`)}async execute(e){if(1===this.arguments.registers.length)await this.displayRegisterValue(this.arguments.registers[0]);else{const e=i.Register.getKeys().filter(e=>"_"!==e&&(0===this.arguments.registers.length||this.arguments.registers.includes(e))),t=new Array;for(let r of e)t.push({label:r,description:await this.getRegisterDisplayValue(r)});n.window.showQuickPick(t).then(async e=>{if(e){let t=e.description;n.window.showInformationMessage(`${e.label} ${t}`)}})}}}t.RegisterCommand=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseOptionsCommandArgs=t.parseOption=void 0;const n=r(284),i=r(9);function s(e){let t=new i.Scanner(e);if(t.skipWhiteSpace(),t.isAtEof)return{};let r=t.nextWord("?!&=:^+-".split(""));if(r.startsWith("no"))return{name:r.substring(2,r.length),operator:n.SetOptionOperator.Reset};if(r.startsWith("inv"))return{name:r.substring(3,r.length),operator:n.SetOptionOperator.Invert};if(t.skipWhiteSpace(),t.isAtEof)return{name:r,operator:n.SetOptionOperator.Set};let s=t.next(),o={name:r,value:t.nextWord([])};switch(s){case"=":case":":o.operator=n.SetOptionOperator.Equal;break;case"!":o.operator=n.SetOptionOperator.Invert;break;case"^":o.operator=n.SetOptionOperator.Multiply;break;case"+":o.operator=n.SetOptionOperator.Append;break;case"-":o.operator=n.SetOptionOperator.Subtract;break;case"?":o.operator=n.SetOptionOperator.Info;break;case"&":o.operator=n.SetOptionOperator.Reset;break;default:throw new Error(`Unsupported operator (${s}).`)}return o}t.parseOption=s,t.parseOptionsCommandArgs=function(e){return new n.SetOptionsCommand(s(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetOptionsCommand=t.SetOptionOperator=void 0;const n=r(5),i=r(2),s=r(8),o=r(16);var a;!function(e){e[e.Equal=0]="Equal",e[e.Set=1]="Set",e[e.Reset=2]="Reset",e[e.Invert=3]="Invert",e[e.Append=4]="Append",e[e.Subtract=5]="Subtract",e[e.Multiply=6]="Multiply",e[e.Info=7]="Info"}(a=t.SetOptionOperator||(t.SetOptionOperator={}));class c extends n.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}async execute(e){if(!this._arguments.name)throw new Error("Missing argument.");if(null==i.configuration[this._arguments.name])throw s.VimError.fromCode(s.ErrorCode.UnknownOption);switch(this._arguments.operator){case a.Set:i.configuration[this._arguments.name]=!0;break;case a.Reset:i.configuration[this._arguments.name]=!1;break;case a.Equal:i.configuration[this._arguments.name]=this._arguments.value;break;case a.Invert:i.configuration[this._arguments.name]=!i.configuration[this._arguments.name];break;case a.Append:i.configuration[this._arguments.name]+=this._arguments.value;break;case a.Subtract:if("number"==typeof this._arguments.value)i.configuration[this._arguments.name]-=this._arguments.value;else{let e=i.configuration[this._arguments.name];i.configuration[this._arguments.name]=e.split(this._arguments.value).join("")}break;case a.Info:let t=i.configuration[this._arguments.name];if(void 0===t)throw s.VimError.fromCode(s.ErrorCode.UnknownOption);o.StatusBar.setText(e,`${this._arguments.name}=${t}`)}}}t.SetOptionsCommand=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSortCommandArgs=void 0;const n=r(286),i=r(9);t.parseSortCommandArgs=function(e){if(!e)return new n.SortCommand({reverse:!1,ignoreCase:!1,unique:!1});let t={reverse:!1,ignoreCase:!1,unique:!1},r=new i.Scanner(e);const s=r.next();t.reverse="!"===s;const o=r.nextWord();return t.ignoreCase="i"===o,t.unique="u"===o,new n.SortCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SortCommand=void 0;const n=r(0),i=r(6),s=r(4),o=r(5),a=r(27);class c extends o.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}neovimCapable(){return!0}async execute(e){if(i.isVisualMode(e.currentMode)){const t=e.editor.selection;let r=t.start,n=t.end;r.isAfter(n)&&([r,n]=[n,r]),await this.sortLines(r,n)}else await this.sortLines(new n.Position(0,0),new n.Position(s.TextEditor.getLineCount()-1,0))}async sortLines(e,t){let r=[];for(let n=e.line;n<=t.line&&n<s.TextEditor.getLineCount();n++)r.push(s.TextEditor.readLineAt(n));this._arguments.unique&&(r=[...new Set(r)]);let i=r[r.length-1].length,o=this._arguments.ignoreCase?r.sort((e,t)=>e.localeCompare(t)):r.sort();this._arguments.reverse&&o.reverse();let a=o.join("\n");await s.TextEditor.replace(new n.Range(e.line,0,t.line,i),a)}async executeWithRange(e,t){let r,i;t.left[0].type===a.TokenType.Percent?(r=new n.Position(0,0),i=new n.Position(s.TextEditor.getLineCount()-1,0)):(r=t.lineRefToPosition(e.editor,t.left,e),i=t.lineRefToPosition(e.editor,t.right,e)),await this.sortLines(r,i)}}t.SortCommand=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSubstituteCommandArgs=void 0;const n=r(288),i=r(9),s=r(8);function o(e,t,r){if(t.isAtEof)return[e,!1];{let n=t.next();if(n===r)return[e,!0];if("\\"===n){if(!t.isAtEof)if(n=t.next(),n!==r)switch(n){case"r":e+="\r";break;case"n":e+="\n";break;default:e+="\\",e+=n}else e+=n;return o(e,t,r)}return o(e+=n,t,r)}}t.parseSubstituteCommandArgs=function(e){try{let t,r,s,a,c;if(!e)return new n.SubstituteCommand({pattern:void 0,replace:"",flags:n.SubstituteFlags.None});let u=e[0];if(/^[^\w\s\\|"]{1}$/g.exec(u)){if(1===e.length)return new n.SubstituteCommand({pattern:"",replace:"",flags:n.SubstituteFlags.None});let s;if(c=new i.Scanner(e.substr(1,e.length-1)),[t,s]=o("",c,u),!s)return new n.SubstituteCommand({pattern:t,replace:"",flags:n.SubstituteFlags.None});r=o("",c,u)[0]}else t=void 0,r="",c=new i.Scanner(e);return c.skipWhiteSpace(),s=function(e){let t=0,r=0;for(;!e.isAtEof;){switch(e.next()){case"&":if(0!==r)return n.SubstituteFlags.None;t|=n.SubstituteFlags.KeepPreviousFlags;break;case"c":t|=n.SubstituteFlags.ConfirmEach;break;case"e":t|=n.SubstituteFlags.SuppressError;break;case"g":t|=n.SubstituteFlags.ReplaceAll;break;case"i":t|=n.SubstituteFlags.IgnoreCase;break;case"I":t|=n.SubstituteFlags.NoIgnoreCase;break;case"n":t|=n.SubstituteFlags.PrintCount;break;case"p":t|=n.SubstituteFlags.PrintLastMatchedLine;break;case"#":t|=n.SubstituteFlags.PrintLastMatchedLineWithNumber;break;case"l":t|=n.SubstituteFlags.PrintLastMatchedLineWithList;break;case"r":t|=n.SubstituteFlags.UsePreviousPattern;break;default:return e.backup(),t}r++}return t}(c),c.skipWhiteSpace(),a=function(e){let t="";for(;!e.isAtEof;)t+=e.next();let r=Number.parseInt(t,10);return Number.isInteger(r)?r:-1}(c),new n.SubstituteCommand({pattern:t,replace:r,flags:s,count:a})}catch(e){throw s.VimError.fromCode(s.ErrorCode.PatternNotFound)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubstituteCommand=t.SubstituteFlags=void 0;const n=r(0),i=r(5),s=r(27),o=r(47),a=r(3),c=r(31),u=r(289),l=r(4),d=r(8),h=r(2),f=r(70),p=r(23);var g;!function(e){e[e.None=0]="None",e[e.KeepPreviousFlags=1]="KeepPreviousFlags",e[e.ConfirmEach=2]="ConfirmEach",e[e.SuppressError=4]="SuppressError",e[e.ReplaceAll=8]="ReplaceAll",e[e.IgnoreCase=16]="IgnoreCase",e[e.NoIgnoreCase=32]="NoIgnoreCase",e[e.PrintCount=64]="PrintCount",e[e.PrintLastMatchedLine=128]="PrintLastMatchedLine",e[e.PrintLastMatchedLineWithNumber=256]="PrintLastMatchedLineWithNumber",e[e.PrintLastMatchedLineWithList=512]="PrintLastMatchedLineWithList",e[e.UsePreviousPattern=1024]="UsePreviousPattern"}(g=t.SubstituteFlags||(t.SubstituteFlags={}));class m extends i.CommandBase{constructor(e){super(),this._arguments=e,this._abort=!1}get arguments(){return this._arguments}neovimCapable(){return 0==(this._arguments.flags&g.ConfirmEach)}getRegex(e,t){let r="";if(h.configuration.gdefault||h.configuration.substituteGlobalFlag?e.flags&g.ReplaceAll||(r+="g"):e.flags&g.ReplaceAll&&(r+="g"),e.flags&g.IgnoreCase&&(r+="i"),void 0===e.pattern){const t=p.globalState.substituteState;if(void 0===t||""===t.searchPattern)throw d.VimError.fromCode(d.ErrorCode.NoPreviousRegularExpression);e.pattern=t.searchPattern,e.replace=t.replaceString}else{if(""===e.pattern){const t=p.globalState.searchState;if(void 0===t||""===t.searchString)throw d.VimError.fromCode(d.ErrorCode.NoPreviousRegularExpression);e.pattern=t.searchString}p.globalState.substituteState=new u.SubstituteState(e.pattern,e.replace),p.globalState.searchState=new c.SearchState(c.SearchDirection.Forward,t.cursorStopPosition,e.pattern,{isRegex:!0},t.currentMode)}return new RegExp(e.pattern,r)}async replaceTextAtLine(e,t,r){const i=l.TextEditor.readLineAt(e);if(!t.test(i))return!1;if(this._arguments.flags&g.ConfirmEach){let s=i;const c=s.match(t),u=new RegExp(t.source,t.flags.replace("g",""));let d=0;for(const t of c){if(this._abort)break;if(d=s.indexOf(t,d),!(this._arguments.flags&g.ConfirmEach)||await this.confirmReplacement(this._arguments.replace,e,r,t,d)){const t=s.length;s=s.slice(0,d)+s.slice(d).replace(u,this._arguments.replace),await l.TextEditor.replace(new n.Range(e,0,e,t),s),p.globalState.jumpTracker.recordJump(new o.Jump({editor:r.editor,fileName:r.editor.document.fileName,position:new a.Position(e,0)}),o.Jump.fromStateNow(r))}d+=this._arguments.replace.length}}else await l.TextEditor.replace(new n.Range(e,0,e,i.length),i.replace(t,this._arguments.replace)),p.globalState.jumpTracker.recordJump(new o.Jump({editor:r.editor,fileName:r.editor.document.fileName,position:new a.Position(e,0)}),o.Jump.fromStateNow(r));return!0}async confirmReplacement(e,t,r,i,s){const o=new n.CancellationTokenSource,a=["y","n","a","q","l"];let c="";const u=[new n.Range(t,s,t,s+i.length)];r.editor.revealRange(new n.Range(t,0,t,0)),r.editor.setDecorations(f.decoration.SearchHighlight,u);const l=`Replace with ${e} (${a.join("/")})?`;return await n.window.showInputBox({ignoreFocusOut:!0,prompt:l,placeHolder:a.join("/"),validateInput:e=>(a.includes(e)&&(c=e,o.cancel()),l)},o.token),"q"!==c&&"l"!==c&&c?"a"===c&&(this._arguments.flags=this._arguments.flags&~g.ConfirmEach):this._abort=!0,"y"===c||"a"===c||"l"===c}async execute(e){const t=this.getRegex(this._arguments,e),r=e.editor.selection,n=r.start.isBefore(r.end)?r.start.line:r.end.line;if(!this._abort){if(!await this.replaceTextAtLine(n,t,e))throw d.VimError.fromCode(d.ErrorCode.PatternNotFound)}}async executeWithRange(e,t){let r,i;t.left[0].type===s.TokenType.Percent?(r=new n.Position(0,0),i=new n.Position(l.TextEditor.getLineCount()-1,0)):(r=t.lineRefToPosition(e.editor,t.left,e),i=0===t.right.length?r:t.lineRefToPosition(e.editor,t.right,e)),this._arguments.count&&this._arguments.count>=0&&(r=i,i=new n.Position(i.line+this._arguments.count-1,0));let o=this.getRegex(this._arguments,e),a=!1;for(let t=r.line;t<=i.line&&t<l.TextEditor.getLineCount()&&!this._abort;t++)a=await this.replaceTextAtLine(t,o,e)||a;if(!a)throw d.VimError.fromCode(d.ErrorCode.PatternNotFound)}}t.SubstituteCommand=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubstituteState=void 0;t.SubstituteState=class{constructor(e,t){this.searchPattern=e,this.replaceString=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTabMovementCommandArgs=t.parseTabOnlyCommandArgs=t.parseTabCloseCommandArgs=t.parseTabNewCommandArgs=t.parseTabLastCommandArgs=t.parseTabFirstCommandArgs=t.parseTabPCommandArgs=t.parseTabNCommandArgs=void 0;const n=r(161),i=r(9),s=r(8),o=e=>"0"<=e&&e<="9";function a(e){if(!e)return;const t=new i.Scanner(e);if(t.skipWhiteSpace(),t.isAtEof)return;const r=t.nextWhile(o);t.skipWhiteSpace();const n=Number.parseInt(r,10);if(t.isAtEof&&Number.isInteger(n)&&n>=0)return n;throw s.VimError.fromCode(s.ErrorCode.InvalidArgument)}t.parseTabNCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Next,count:a(e)})},t.parseTabPCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Previous,count:a(e)})},t.parseTabFirstCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.First})},t.parseTabLastCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Last})},t.parseTabNewCommandArgs=function(e){let t="";if(e){t=new i.Scanner(e).nextWord()}return new n.TabCommand({tab:n.Tab.New,file:t})},t.parseTabCloseCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Close,count:a(e)})},t.parseTabOnlyCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Only})},t.parseTabMovementCommandArgs=function(e){const{count:t,direction:r}=function(e){if(!e)return{count:void 0};const t=new i.Scanner(e);if(t.skipWhiteSpace(),t.isAtEof)return{count:void 0};const r=t.next(),n="-"===r?"left":"+"===r?"right":void 0;void 0===n?t.backup():t.ignore();const a=t.nextWhile(o);if(t.skipWhiteSpace(),t.isAtEof){const e=0===a.length?1:Number.parseInt(a,10);if(Number.isInteger(e)&&(e>0||void 0===n&&0===e))return{count:e,direction:n}}throw s.VimError.fromCode(s.ErrorCode.InvalidArgument)}(e);return new n.TabCommand({tab:n.Tab.Move,count:t,direction:r})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseWallCommandArgs=void 0;const n=r(8),i=r(165),s=r(9);t.parseWallCommandArgs=function(e){if(!e)return new i.WallCommand({});const t={},r=new s.Scanner(e),o=r.next();if("!"===o)t.bang=!0,r.ignore();else if(" "!==o)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);return new i.WallCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseWriteCommandArgs=void 0;const n=r(166),i=r(9);t.parseWriteCommandArgs=function(e){if(!e)return new n.WriteCommand({bgWrite:!0});const t={bgWrite:!0},r=new i.Scanner(e);for(;r.skipWhiteSpace(),!r.isAtEof;){let e=r.next();switch(e){case"!":if(r.start>0){for(r.ignore();!r.isAtEof;)r.next();t.cmd=r.emit().trim()||void 0;continue}t.bang=!0,r.ignore();continue;case"+":for(r.expect("+"),r.ignore(),r.expectOneOf(["bin","nobin","ff","enc"]),t.opt=r.emit(),r.expect("="),r.ignore();!r.isAtEof;)e=r.next()," "!==e&&"\t"!==e||r.backup();let n=r.emit();if(!n)throw new Error("Expected value for option.");t.optValue=n;continue;default:throw new Error("Not implemented.")}}return new n.WriteCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseWriteQuitCommandArgs=void 0;const n=r(294),i=r(9);t.parseWriteQuitCommandArgs=function(e){if(!e)return new n.WriteQuitCommand({});const t={},r=new i.Scanner(e);for(;r.skipWhiteSpace(),!r.isAtEof;){let e=r.next();switch(e){case"!":t.bang=!0,r.ignore();continue;case"+":for(r.expect("+"),r.ignore(),r.expectOneOf(["bin","nobin","ff","enc"]),t.opt=r.emit(),r.expect("="),r.ignore();!r.isAtEof;)e=r.next()," "!==e&&"\t"!==e||r.backup();let n=r.emit();if(!n)throw new Error("Expected value for option.");t.optValue=n;continue;default:throw new Error("Not implemented")}}return new n.WriteQuitCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteQuitCommand=void 0;const n=r(5),i=r(62),s=r(166);class o extends n.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}async execute(e){let t={opt:this.arguments.opt,optValue:this.arguments.optValue,bang:this.arguments.bang,file:this.arguments.file,range:this.arguments.range},r=new s.WriteCommand(t);await r.execute(e);let n={bang:!1,range:this.arguments.range},o=new i.QuitCommand(n);await o.execute()}}t.WriteQuitCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseWriteQuitAllCommandArgs=void 0;const n=r(8),i=r(296),s=r(9);t.parseWriteQuitAllCommandArgs=function(e){if(!e)return new i.WriteQuitAllCommand({});const t={},r=new s.Scanner(e),o=r.next();if("!"===o)t.bang=!0,r.ignore();else if(" "!==o)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);return new i.WriteQuitAllCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteQuitAllCommand=void 0;const n=r(165),i=r(5),s=r(62);class o extends i.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}async execute(e){let t={bang:this.arguments.bang},r={bang:!1};const i=new n.WallCommand(t);await i.execute(),r.quitAll=!0;const o=new s.QuitCommand(r);await o.execute()}}t.WriteQuitAllCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFileInfoCommandArgs=void 0;const n=r(298);t.parseFileInfoCommandArgs=function(e){return new n.FileInfoCommand}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileInfoCommand=void 0;const n=r(5),i=r(38);class s extends n.CommandBase{async execute(e){i.reportFileInfo(e.cursors[0].start,e)}}t.FileInfoCommand=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMarksCommandArgs=void 0;const n=r(300);t.parseMarksCommandArgs=function(e){return e?new n.MarksCommand(e.split("")):new n.MarksCommand}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarksCommand=void 0;const n=r(0),i=r(5),s=r(4),o=r(18);class a{constructor(e){this.picked=!1,this.alwaysShow=!1,this.mark=e,this.label=e.name,this.description=s.TextEditor.getLineAt(e.position).text.trim(),this.detail=`line ${e.position.line} col ${e.position.character}`}}class c extends i.CommandBase{constructor(e){super(),this.marksFilter=e}async execute(e){const t=e.historyTracker.getMarks().filter(e=>!this.marksFilter||this.marksFilter.includes(e.name)).map(e=>new a(e));if(t.length>0){const r=await n.window.showQuickPick(t,{canPickMany:!1});r&&(e.cursors=[new o.Range(r.mark.position,r.mark.position)])}else n.window.showInformationMessage("No marks set")}}t.MarksCommand=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePutExCommandArgs=void 0;const n=r(302),i=r(8),s=r(9);t.parsePutExCommandArgs=function(e){if(!e)return new n.PutExCommand({});const t={},r=new s.Scanner(e),o=r.next();if("!"===o)t.bang=!0,r.ignore();else if(" "!==o)throw i.VimError.fromCode(i.ErrorCode.TrailingCharacters);return r.skipWhiteSpace(),r.isAtEof||(t.register=r.nextWord()),new n.PutExCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PutExCommand=void 0;const n=r(0),i=r(27),s=r(4),o=r(5),a=r(2),c=r(19),u=r(3);class l extends o.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}async doPut(e,t){const r=this.arguments.register||(a.configuration.useSystemClipboard?"*":'"');e.recordedState.registerName=r;let n={forceLinewise:!0,forceCursorLastLine:!0,after:this.arguments.bang};await(new c.PutCommand).exec(t,e,n)}async execute(e){await this.doPut(e,e.cursorStopPosition)}async executeWithRange(e,t){let r,o;t.left[0].type===i.TokenType.Percent?(r=new n.Position(0,0),o=new n.Position(s.TextEditor.getLineCount()-1,0)):(r=t.lineRefToPosition(e.editor,t.left,e),o=0===t.right.length?r:t.lineRefToPosition(e.editor,t.right,e)),await this.doPut(e,u.Position.FromVSCodePosition(o))}}t.PutExCommand=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHistoryCommandArgs=void 0;const n=r(304),i=r(9);t.parseHistoryCommandArgs=function(e){const t={type:n.HistoryCommandType.Cmd};if(e){const r=new i.Scanner(e);r.skipWhiteSpace();const s=r.nextWord();("/"===s||s.startsWith("s")&&"search".startsWith(s))&&(t.type=n.HistoryCommandType.Search)}return new n.HistoryCommand(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryCommand=t.HistoryCommandType=void 0;const n=r(5),i=r(19),s=r(31);var o;!function(e){e[e.Cmd=0]="Cmd",e[e.Search=1]="Search",e[e.Expr=2]="Expr",e[e.Input=3]="Input",e[e.Debug=4]="Debug",e[e.All=5]="All"}(o=t.HistoryCommandType||(t.HistoryCommandType={}));class a extends n.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}async execute(e){switch(this._arguments.type){case o.Cmd:await(new i.CommandShowCommandHistory).exec(e.cursorStopPosition,e);break;case o.Search:await new i.CommandShowSearchHistory(s.SearchDirection.Forward).exec(e.cursorStopPosition,e);break;case o.Expr:case o.Input:case o.Debug:case o.All:throw new Error("Not implemented")}}}t.HistoryCommand=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NohlCommand=void 0;const n=r(5),i=r(23),s=r(16);class o extends n.CommandBase{constructor(e){super(),this._arguments=e}get arguments(){return this._arguments}async execute(e){i.globalState.hl=!1,s.StatusBar.clear(e)}}t.NohlCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmileCommand=void 0;const n=r(0),i=r(4),s=r(5);class o extends s.CommandBase{constructor(){super()}async execute(){await n.commands.executeCommand("workbench.action.files.newUntitledFile"),await i.TextEditor.insert(o.smileText)}}t.SmileCommand=o,o.smileText='\n                               oooo$$$$$$$$$$$$oooo\n                          oo$$$$$$$$$$$$$$$$$$$$$$$$o\n                       oo$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$o         o$   $$ o$\n     o $ oo          o$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$o       $$ $$ $$o$\n    oo $ $ "$      o$$$$$$$$$    $$$$$$$$$$$$$    $$$$$$$$$o       $$$o$$o$\n    "$$$$$$o$     o$$$$$$$$$      $$$$$$$$$$$      $$$$$$$$$$o    $$$$$$$$\n      $$$$$$$    $$$$$$$$$$$      $$$$$$$$$$$      $$$$$$$$$$$$$$$$$$$$$$$\n      $$$$$$$$$$$$$$$$$$$$$$$    $$$$$$$$$$$$$    $$$$$$$$$$$$$$  """$$$\n       "$$$""""$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     "$$$\n        $$$   o$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     "$$$o\n       o$$"   $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$       $$$o\n       $$$    $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$" "$$$$$$ooooo$$$$o\n      o$$$oooo$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$   o$$$$$$$$$$$$$$$$$\n      $$$$$$$$"$$$$   $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     $$$$""""""""\n     """"       $$$$    "$$$$$$$$$$$$$$$$$$$$$$$$$$$$"      o$$$\n                "$$$o     """$$$$$$$$$$$$$$$$$$"$$"         $$$\n                  $$$o          "$$""$$$$$$""""           o$$$\n                   $$$$o                                o$$$"\n                    "$$$$o      o$$$$$$o"$$$$o        o$$$$\n                      "$$$$$oo     ""$$$$o$$$$$o   o$$$$""\n                         ""$$$$$oooo  "$$$o$$$$$$$$$"""\n                            ""$$$$$$$oo $$$$$$$$$$\n                                    """"$$$$$$$$$$$\n                                        $$$$$$$$$$$$\n                                         $$$$$$$$$$"\n                                          "$$$""""'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UndoCommand=void 0;const n=r(5),i=r(12),s=r(19),o=r(3);class a extends n.CommandBase{constructor(e){super(),this._logger=i.Logger.get("Undo"),this._arguments=e}get arguments(){return this._arguments}async execute(e){await(new s.CommandUndo).exec(new o.Position(0,0),e)}}t.UndoCommand=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBangCommand=void 0;const n=r(309);t.parseBangCommand=function(e){return new n.BangCommand({command:e})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BangCommand=void 0;const n=r(0),i=r(27),s=r(4),o=r(5),a=r(3),c=r(310);class u extends o.CommandBase{constructor(e){super(),this._arguments=e}getReplaceDiff(e){const t=e.split("\n"),r=t.length-1,n=t[0].match(/^\s*/),i=n?n[0].length:0;return new a.PositionDiff({line:-r,character:i,type:a.PositionDiffType.ExactCharacter})}async execute(e){await c.externalCommand.run(this._arguments.command)}async executeWithRange(e,t){let r,o;t.left[0].type===i.TokenType.Percent?(r=new n.Position(0,0),o=new n.Position(s.TextEditor.getLineCount()-1,0)):(r=t.lineRefToPosition(e.editor,t.left,e),o=0===t.right.length?r:t.lineRefToPosition(e.editor,t.right,e));const u=a.Position.FromVSCodePosition(r).getLineBegin(),l=a.Position.FromVSCodePosition(o).getLineEnd(),d=new n.Range(u,l),h=s.TextEditor.getText(d),f=await c.externalCommand.run(this._arguments.command,h),p=this.getReplaceDiff(f);e.recordedState.transformations.push({type:"replaceText",text:f,start:u,end:l,diff:p})}}t.BangCommand=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.externalCommand=void 0;const n=r(311),i=r(30),s=r(312),o=r(96),a=r(8);t.externalCommand=new class{getRandomFileName(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,10)}expandCommand(e){let t=[];for(let r=0;r<e.length;r++)if("!"===e[r])if(r>0&&"\\"===e[r-1])t.pop(),t.push("!");else{if(!this.previousExternalCommand)throw a.VimError.fromCode(a.ErrorCode.NoPreviousCommand);t.push(this.previousExternalCommand)}else t.push(e[r]);return t.join("")}redirectCommand(e,t,r){let n;if("win32"===process.platform){const i=e.indexOf("|");if(-1!==i){n=`${e.slice(0,i)} < ${t} ${e.slice(i)} > ${r}`}else n=`${e} < ${t} > ${r}`}else n="fish"===process.env.SHELL?`begin; ${e}; end < ${t} > ${r}`:`(${e}) < ${t} > ${r}`;return n+=" 2>&1",n}async run(e,t=""){const r=o.join(s.tmpdir(),this.getRandomFileName()),a=o.join(s.tmpdir(),this.getRandomFileName());let c="";try{await i.writeFileAsync(r,t,"utf8"),e=this.expandCommand(e),this.previousExternalCommand=e,e=this.redirectCommand(e,r,a);try{await n.exec(e)}catch(e){}c=await i.readFileAsync(a,"utf8"),c.endsWith("\n")&&(c=c.slice(0,-1))}finally{await i.unlink(r),await i.unlink(a)}return c}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exec=void 0;const n=r(48),i=r(7);t.exec=async function(e){return i.promisify(n.exec)(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tmpdir=void 0;const n=r(14);t.tmpdir=function(){return n.tmpdir()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClearJumpsCommand=t.JumpsCommand=void 0;const n=r(0),i=r(5),s=r(23),o=r(18);class a{constructor(e){var t,r;this.jump=e,this.label=e.fileName,this.detail=`jump ${e.number} line ${e.position.line+1} col ${e.position.character}`;try{this.description=null===(r=null===(t=e.editor)||void 0===t?void 0:t.document.lineAt(e.position))||void 0===r?void 0:r.text}catch(e){this.description=void 0}}}class c extends i.CommandBase{async execute(e){const t=s.globalState.jumpTracker;if(t.hasJumps){const r=t.jumps.map(e=>new a(e)),i=await n.window.showQuickPick(r,{canPickMany:!1});i&&null!=i.jump.editor&&(n.window.showTextDocument(i.jump.editor.document),e.cursors=[new o.Range(i.jump.position,i.jump.position)])}else n.window.showInformationMessage("No jumps available")}}t.JumpsCommand=c;class u extends i.CommandBase{async execute(){s.globalState.jumpTracker.clearJumps()}}t.ClearJumpsCommand=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShCommand=void 0;const n=r(5),i=r(0);class s extends n.CommandBase{async execute(){i.window.createTerminal().show()}}t.ShCommand=s},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteMatcher=void 0,function(e){e[e.None=0]="None",e[e.Opening=1]="Opening",e[e.Closing=2]="Closing"}(n||(n={}));class i{constructor(e,t){this.quoteMap=[];let r=!1;for(let s=0;s<t.length;s++)t[s]!==i.escapeChar?t[s]===e&&(r=!r,this.quoteMap[s]=r?n.Opening:n.Closing):s+=1}findOpening(e){for(let t=e;t>=0;t--)if(this.quoteMap[t])return t;return this.findClosing(e)}findClosing(e){for(let t=e;t<=this.quoteMap.length;t++)if(this.quoteMap[t])return t;return-1}}t.QuoteMatcher=i,i.escapeChar="\\"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TagMatcher=void 0;const n=r(4);class i{constructor(e,t,r){let s=i.TAG_REGEX.exec(e);const o=[];for(;s;)s[i.CLOSE_FORWARD_SLASH]||o.push({name:s[i.TAG_NAME],type:s[i.OPEN_FORWARD_SLASH]?"close":"open",startPos:s.index,endPos:i.TAG_REGEX.lastIndex}),s=i.TAG_REGEX.exec(e);const a=[],c=[];for(let e of o)if("open"===e.type)a.push(e);else for(let t=a.length-1;t>=0;t--){const r=a[t];if("open"===r.type&&r.name===e.name){c.push({tag:r.name,openingTagStart:r.startPos,openingTagEnd:r.endPos,closingTagStart:e.startPos,closingTagEnd:e.endPos}),a.splice(t);break}}const u=n.TextEditor.getFirstNonWhitespaceCharOnLine(r.cursorStartPosition.line),l=r.cursorStartPosition.character<u.character?u:r.cursorStartPosition,d=n.TextEditor.getOffsetAt(l),h=t,f=c.filter(e=>d>=e.openingTagStart&&h<e.closingTagEnd);if(!f.length)return;const p=this.determineRelevantTag(f,d,0!==r.cursorStartPosition.compareTo(r.cursorStopPosition));p&&(this.openStart=p.openingTagStart,this.closeEnd=p.closingTagEnd,d===p.openingTagEnd&&h+1===p.closingTagStart?(this.openEnd=this.openStart,this.closeStart=this.closeEnd):(this.openEnd=p.openingTagEnd,this.closeStart=p.closingTagStart))}determineRelevantTag(e,t,r){const n=e[0];return r&&t===n.openingTagStart?e[1]:n}findOpening(e){return e?this.openStart:this.openEnd}findClosing(e){return e?this.closeEnd:this.closeStart}}t.TagMatcher=i,i.TAG_REGEX=/\<(\/)?([^\>\<\s\/]+)(?:[^\>\<]*?)(\/)?\>/g,i.OPEN_FORWARD_SLASH=1,i.TAG_NAME=2,i.CLOSE_FORWARD_SLASH=3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldWrapKey=void 0;const n=r(2),i=r(6),s={};s[i.Mode.Normal]={"<left>":"<","<right>":">"},s[i.Mode.Visual]=s[i.Mode.Normal],s[i.Mode.Insert]={"<left>":"[","<right>":"]"};t.shouldWrapKey=(e,t)=>{const r=((e,t)=>(s[e]||{})[t]||t)(e.currentMode,t[0]);return!!n.configuration.wrapKeys[r]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lineCompletionProvider=t.getCompletionsForCurrentLine=void 0;const n=r(0),i=r(4),s=r(18),o=(e,t,r)=>{const n=e=>{let n=r?t-e:e-t;return n<0&&(n=t+Math.abs(n)),n};return e.getText().split("\n").map((e,t)=>({sortPriority:n(t),text:e.replace(/^[ \t]*/,"")})).sort((e,t)=>e.sortPriority>t.sortPriority?1:-1)},a=(e,t,r)=>{const i=[];for(const s of(e=>n.workspace.textDocuments.sort((t,r)=>t.fileName===e?-1:r.fileName===e?1:0))(t)){let n=0,a=!1;s.fileName===t&&(n=r.line,a=!0);for(const t of o(s,n,a))!i.includes(t.text)&&t.text&&t.text.startsWith(e)&&t.text!==e&&i.push(t.text)}return i};t.getCompletionsForCurrentLine=(e,t)=>{const r=i.TextEditor.getText(new n.Range(i.TextEditor.getFirstNonWhitespaceCharOnLine(e.line),e));return a(r,t.fileName,e)},t.lineCompletionProvider={showLineCompletionsQuickPick:async(e,r)=>{const o=t.getCompletionsForCurrentLine(e,r.editor.document);if(!o)return r;const a=await n.window.showQuickPick(o);return a?(r.recordedState.transformations.push({type:"deleteRange",range:new s.Range(i.TextEditor.getFirstNonWhitespaceCharOnLine(e.line),e.getLineEnd())}),r.recordedState.transformations.push({type:"insertTextVSCode",text:a}),r):r}}},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),s=r(10),o=r(19),a=r(6),c=r(37),u=r(23),l=r(15),d=r(38),h=r(29),f=r(4),p=r(16),g=r(163),m=r(96),v=r(61),y=r(3),w=r(8),b=r(31),x=r(28);let C=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=[["<tab>"],["<shift+tab>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}cycleCompletion(e,t){const r=c.commandLine.autoCompleteItems;if(0===r.length)return;c.commandLine.autoCompleteIndex=t?(c.commandLine.autoCompleteIndex+1)%r.length:(c.commandLine.autoCompleteIndex-1+r.length)%r.length;const n=c.commandLine.preCompleteCharacterPos,i=c.commandLine.preCompleteCommand,s=i.slice(0,n),o=i.slice(n);e.currentCommandlineText=s+r[c.commandLine.autoCompleteIndex]+o,e.statusBarCursorCharacterPos=e.currentCommandlineText.length-o.length}async exec(e,t){const r=this.keysPressed[0],n="<tab>"===r;if(0!==c.commandLine.autoCompleteItems.length&&this.keys.some(e=>c.commandLine.lastKeyPressed===e[0]))return this.cycleCompletion(t,n),c.commandLine.lastKeyPressed=r,t;let s=[];const o=t.currentCommandlineText,a=t.statusBarCursorCharacterPos;let u=o.slice(0,a),l=o.slice(a);const d=/^\s*\w+\s+/g;if(/^\s*\w+$/.test(u))s=Object.keys(g.commandParsers).filter(e=>e.startsWith(u)).map(e=>e.slice(e.search(u)+u.length)).sort();else if(d.exec(u)){let e=u.substring(d.lastIndex);const t=i.window.activeTextEditor.document.uri,r=!!i.env.remoteName,{fullDirPath:n,baseName:o,partialPath:a,path:c}=m.getPathDetails(e,t,r);u=u.slice(0,d.lastIndex)+a;const l=/^\.\.?$/g.test(o);s=(await m.readDirectory(n,c.sep,t,r,l)).filter(e=>e.startsWith(o)).map(e=>e.slice(e.search(o)+o.length)).sort()}const h=n?0:s.length-1;c.commandLine.autoCompleteIndex=h,c.commandLine.autoCompleteItems=s.length<=1?[]:s,c.commandLine.preCompleteCharacterPos=a,c.commandLine.preCompleteCommand=u+l;const f=0===s.length?"":s[h];return t.currentCommandlineText=u+f+l,t.statusBarCursorCharacterPos=t.currentCommandlineText.length-l.length,c.commandLine.lastKeyPressed=r,t}};C=n([s.RegisterAction],C);let S=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=[["\n"],["<C-m>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}async exec(e,t){return await c.commandLine.Run(t.currentCommandlineText.trim(),t),await t.setCurrentMode(a.Mode.Normal),t}};S=n([s.RegisterAction],S);let M=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=[["<C-w>"],["<C-BS>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=this.keysPressed[0],n=t.statusBarCursorCharacterPos,i=t.currentCommandlineText,s=y.Position.getWordLeft(i,n);return void 0!==s&&(t.currentCommandlineText=i.substring(0,s).concat(i.slice(n)),t.statusBarCursorCharacterPos=n-(n-s)),c.commandLine.lastKeyPressed=r,t}};M=n([s.RegisterAction],M);let _=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=[["<C-w>"],["<C-BS>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=u.globalState.searchState,n=t.statusBarCursorCharacterPos,i=r.searchString,s=y.Position.getWordLeft(i,n);return void 0!==s&&(r.searchString=i.substring(0,s).concat(i.slice(n)),t.statusBarCursorCharacterPos=n-(n-s)),t}};_=n([s.RegisterAction],_);let E=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=[["<character>"],["<up>"],["<down>"],["<C-b>"],["<C-e>"],["<C-h>"],["<C-p>"],["<C-n>"],["<C-f>"],["<C-u>"],["<Home>"],["<End>"],["<Del>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}async exec(e,t){const r=this.keysPressed[0];if("<BS>"===r||"<shift+BS>"===r||"<C-h>"===r){if(0===t.statusBarCursorCharacterPos)return await t.setCurrentMode(a.Mode.Normal),t;t.currentCommandlineText=t.currentCommandlineText.slice(0,t.statusBarCursorCharacterPos-1)+t.currentCommandlineText.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=Math.max(t.statusBarCursorCharacterPos-1,0)}else if("<C-f>"===r)(new o.CommandShowCommandHistory).exec(e,t);else if("<C-u>"===r)t.currentCommandlineText=t.currentCommandlineText.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=0;else if("<Del>"===r)t.currentCommandlineText=t.currentCommandlineText.slice(0,t.statusBarCursorCharacterPos)+t.currentCommandlineText.slice(t.statusBarCursorCharacterPos+1);else if("<Home>"===r||"<C-b>"===r)t.statusBarCursorCharacterPos=0;else if("<End>"===r||"<C-e>"===r)t.statusBarCursorCharacterPos=t.currentCommandlineText.length;else if("<up>"===r||"<C-p>"===r)c.commandLine.commandLineHistoryIndex-=1,c.commandLine.commandLineHistoryIndex=Math.max(c.commandLine.commandLineHistoryIndex,0),void 0!==c.commandLine.historyEntries[c.commandLine.commandLineHistoryIndex]&&(t.currentCommandlineText=c.commandLine.historyEntries[c.commandLine.commandLineHistoryIndex]),t.statusBarCursorCharacterPos=t.currentCommandlineText.length;else if("<down>"===r||"<C-n>"===r){if(c.commandLine.commandLineHistoryIndex+=1,c.commandLine.commandLineHistoryIndex>c.commandLine.historyEntries.length-1)return c.commandLine.previousMode===a.Mode.Normal?t.currentCommandlineText="":t.currentCommandlineText="'<,'>",c.commandLine.commandLineHistoryIndex=c.commandLine.historyEntries.length,t.statusBarCursorCharacterPos=t.currentCommandlineText.length,t;void 0!==c.commandLine.historyEntries[c.commandLine.commandLineHistoryIndex]&&(t.currentCommandlineText=c.commandLine.historyEntries[c.commandLine.commandLineHistoryIndex]),t.statusBarCursorCharacterPos=t.currentCommandlineText.length}else{let e=t.currentCommandlineText.split("");e.splice(t.statusBarCursorCharacterPos,0,r),t.currentCommandlineText=e.join(""),t.statusBarCursorCharacterPos+=r.length}return c.commandLine.lastKeyPressed=r,t}};E=n([s.RegisterAction],E);let k=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=[["<character>"],["<up>"],["<down>"],["<C-b>"],["<C-e>"],["<C-h>"],["<C-p>"],["<C-n>"],["<C-f>"],["<C-u>"],["<C-m>"],["<Home>"],["<End>"],["<Del>"]],this.isJump=!0}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}async exec(e,t){const r=this.keysPressed[0],n=u.globalState.searchState,i=u.globalState.searchStatePrevious;if("<BS>"===r||"<shift+BS>"===r||"<C-h>"===r){if(0===n.searchString.length)return(new R).exec(e,t);if(0===t.statusBarCursorCharacterPos)return t;n.searchString=n.searchString.slice(0,t.statusBarCursorCharacterPos-1)+n.searchString.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=Math.max(t.statusBarCursorCharacterPos-1,0)}else{if("<C-f>"===r)return new o.CommandShowSearchHistory(u.globalState.searchState.searchDirection).exec(e,t);if("<C-u>"===r)n.searchString=n.searchString.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=0;else if("<Del>"===r)n.searchString=n.searchString.slice(0,t.statusBarCursorCharacterPos)+n.searchString.slice(t.statusBarCursorCharacterPos+1);else if("<Home>"===r||"<C-b>"===r)t.statusBarCursorCharacterPos=0;else if("<End>"===r||"<C-e>"===r)t.statusBarCursorCharacterPos=u.globalState.searchState.searchString.length;else{if("\n"===r||"<C-m>"===r){if(await t.setCurrentMode(u.globalState.searchState.previousMode),""===n.searchString&&i.length>0&&(n.searchString=i[i.length-1].searchString),t.statusBarCursorCharacterPos=0,l.Register.putByKey(n.searchString,"/",void 0,!0),u.globalState.addSearchStateToHistory(n),u.globalState.hl=!0,0===n.getMatchRanges().length)return p.StatusBar.displayError(t,w.VimError.fromCode(w.ErrorCode.PatternNotFound,n.searchString)),t;const e=t.recordedState.count||1;let r,s=t.cursorStopPosition;for(let t=0;t<e&&(r=n.getNextSearchMatchPosition(s),void 0!==r);t++)s=r.pos;return void 0===r?(p.StatusBar.displayError(t,w.VimError.fromCode(n.searchDirection===b.SearchDirection.Backward?w.ErrorCode.SearchHitTop:w.ErrorCode.SearchHitBottom,n.searchString)),t):(t.cursorStopPosition=r.pos,d.reportSearch(r.index,n.getMatchRanges().length,t),t)}if("<up>"===r||"<C-p>"===r)u.globalState.searchStateIndex-=1,u.globalState.searchStateIndex=Math.max(u.globalState.searchStateIndex,0),void 0!==i[u.globalState.searchStateIndex]&&(n.searchString=i[u.globalState.searchStateIndex].searchString,t.statusBarCursorCharacterPos=n.searchString.length);else if("<down>"===r||"<C-n>"===r){if(u.globalState.searchStateIndex+=1,u.globalState.searchStateIndex>u.globalState.searchStatePrevious.length-1)return n.searchString="",u.globalState.searchStateIndex=u.globalState.searchStatePrevious.length,t;void 0!==i[u.globalState.searchStateIndex]&&(n.searchString=i[u.globalState.searchStateIndex].searchString),t.statusBarCursorCharacterPos=n.searchString.length}else{let e=n.searchString.split("");e.splice(t.statusBarCursorCharacterPos,0,r),n.searchString=e.join(""),t.statusBarCursorCharacterPos+=r.length}}}return t}};k=n([s.RegisterAction],k);let A=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}async exec(e,t){const r=this.keysPressed[0];return await t.setCurrentMode(a.Mode.Normal),c.commandLine.lastKeyPressed=r,t}};A=n([s.RegisterAction],A);let R=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}async exec(e,t){const r=u.globalState.searchState;t.cursorStopPosition=r.cursorStartPosition;const n=u.globalState.searchStatePrevious;if(u.globalState.searchState=n?n[n.length-1]:void 0,void 0!==t.firstVisibleLineBeforeSearch){const e=t.editor.visibleRanges[0].start.line-t.firstVisibleLineBeforeSearch;x.scrollView(t,e)}return await t.setCurrentMode(r.previousMode),t.statusBarCursorCharacterPos=0,r.searchString.length>0&&u.globalState.addSearchStateToHistory(r),t}};R=n([s.RegisterAction],R);let P=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}async exec(e,t){t.recordedState.registerName=this.keysPressed[1];const r=await l.Register.get(t);let n;if(r.text instanceof Array)n=r.text.join("\n");else if(r.text instanceof h.RecordedState){let e=[];for(let t of r.text.actionsRun)e=e.concat(t.keysPressed);n=e.join("\n")}else n=r.text;return r.registerMode===l.RegisterMode.LineWise&&(n+="\n"),t.currentCommandlineText+=n,t.statusBarCursorCharacterPos+=n.length,t}};P=n([s.RegisterAction],P);let T=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}async exec(e,t){t.recordedState.registerName=this.keysPressed[1];const r=await l.Register.get(t);let n;if(r.text instanceof Array)n=r.text.join("\n");else if(r.text instanceof h.RecordedState){let e=[];for(let t of r.text.actionsRun)e=e.concat(t.keysPressed);n=e.join("\n")}else n=r.text;return r.registerMode===l.RegisterMode.LineWise&&(n+="\n"),u.globalState.searchState.searchString+=n,t.statusBarCursorCharacterPos+=n.length,t}};T=n([s.RegisterAction],T);let L=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress,a.Mode.SearchInProgressMode],this.keys=["<C-r>","<C-w>"]}async exec(e,t){const r=f.TextEditor.getWord(e.getLeftIfEOL());if(void 0!==r){if(t.currentMode===a.Mode.SearchInProgressMode){u.globalState.searchState.searchString+=r}else t.currentCommandlineText+=r;t.statusBarCursorCharacterPos+=r.length}return t}};L=n([s.RegisterAction],L);let B=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress,a.Mode.SearchInProgressMode],this.keys=[["<left>"],["<right>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}getTrimmedStatusBarText(){return p.StatusBar.getText().replace(/^(?:\/|\:)(.*)(?:\|)(.*)/,"$1$2").replace(/(.*) $/,"$1")}async exec(e,t){const r=this.keysPressed[0];let n=this.getTrimmedStatusBarText();return"<right>"===r?t.statusBarCursorCharacterPos=Math.min(t.statusBarCursorCharacterPos+1,n.length):"<left>"===r&&(t.statusBarCursorCharacterPos=Math.max(t.statusBarCursorCharacterPos-1,0)),c.commandLine.lastKeyPressed=r,t}};B=n([s.RegisterAction],B);let O=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=[["<C-v>"],["<D-v>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=this.keysPressed[0],n=t.statusBarCursorCharacterPos,i=t.currentCommandlineText,s=await v.Clipboard.Paste();return t.currentCommandlineText=i.substring(0,n).concat(s).concat(i.slice(n)),t.statusBarCursorCharacterPos+=s.length,c.commandLine.lastKeyPressed=r,t}};O=n([s.RegisterAction],O);let F=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=[["<C-v>"],["<D-v>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=u.globalState.searchState,n=r.searchString,i=t.statusBarCursorCharacterPos,s=await v.Clipboard.Paste();return r.searchString=n.substring(0,i).concat(s).concat(n.slice(i)),t.statusBarCursorCharacterPos+=s.length,t}};F=n([s.RegisterAction],F)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(321),r(169),r(323),r(167),r(324),r(325)},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectInnerCamelCaseWord=void 0;const i=r(63),s=r(10),o=r(6),a=r(3),c=r(39),u=r(4),l=r(2),d=r(22);class h extends c.BaseMovement{doesActionApply(e,t){return l.configuration.camelCaseMotion.enable&&super.doesActionApply(e,t)}couldActionApply(e,t){return l.configuration.camelCaseMotion.enable&&super.couldActionApply(e,t)}}class f extends i.TextObjectMovement{doesActionApply(e,t){return l.configuration.camelCaseMotion.enable&&super.doesActionApply(e,t)}couldActionApply(e,t){return l.configuration.camelCaseMotion.enable&&super.couldActionApply(e,t)}}let p=class extends h{constructor(){super(...arguments),this.keys=["<leader>","w"]}async execAction(e,t){return!l.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof d.ChangeOperator?e.getCurrentCamelCaseWordEnd().getRight():e.getCamelCaseWordRight()}};p=n([s.RegisterAction],p);let g=class extends h{constructor(){super(...arguments),this.keys=["<leader>","e"]}async execAction(e,t){return e.getCurrentCamelCaseWordEnd()}async execActionForOperator(e,t){let r=e.getCurrentCamelCaseWordEnd();return new a.Position(r.line,r.character+1)}};g=n([s.RegisterAction],g);let m=class extends h{constructor(){super(...arguments),this.keys=["<leader>","b"]}async execAction(e,t){return e.getCamelCaseWordLeft()}};m=n([s.RegisterAction],m);let v=class extends f{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["i","<leader>","w"]}async execAction(e,t){let r,n;const i=u.TextEditor.getLineAt(e).text[e.character];return/\s/.test(i)?(r=e.getLastCamelCaseWordEnd().getRight(),n=e.getCamelCaseWordRight().getLeftThroughLineBreaks()):(r=e.getCamelCaseWordLeft(!0),n=e.getCurrentCamelCaseWordEnd(!0)),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.getLastCamelCaseWordEnd().getRight():e.getCamelCaseWordLeft(!0))),{start:r,stop:n}}};v=n([s.RegisterAction],v),t.SelectInnerCamelCaseWord=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerGenerator=void 0;const n=r(2);t.MarkerGenerator=class{constructor(e){this.matchesCount=e,this.keyTable=this.getKeyTable(),this.prefixKeyTable=this.createPrefixKeyTable()}generateMarker(e,t){const{keyTable:r,prefixKeyTable:n}=this;if(e>=r.length-n.length){const i=e-(r.length-n.length),s=Math.floor(i/r.length)+1;if(s>n.length)return null;return{name:n[s-1]+r[i%r.length],position:t}}return{name:r[e],position:t}}createPrefixKeyTable(){const e=Math.max(this.matchesCount-this.keyTable.length,0),t=Math.ceil(e/this.keyTable.length),r=this.keyTable.slice().reverse(),n=Math.min(t,r.length);return r.slice(0,n)}getKeyTable(){return n.configuration.easymotionKeys?n.configuration.easymotionKeys.split(""):"hklyuiopnm,qwertzxcvbasdgjf;".split("")}}},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=r(10),s=r(169);let o=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"/"},new s.SearchByNCharCommand)}};o=n([i.RegisterAction],o);let a=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"2s"},new s.SearchByCharCommand({charCount:2}))}};a=n([i.RegisterAction],a);let c=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"2f"},new s.SearchByCharCommand({charCount:2,searchOptions:"min"}))}};c=n([i.RegisterAction],c);let u=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"2F"},new s.SearchByCharCommand({charCount:2,searchOptions:"max"}))}};u=n([i.RegisterAction],u);let l=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"2t"},new s.SearchByCharCommand({charCount:2,searchOptions:"min",labelPosition:"before"}))}};l=n([i.RegisterAction],l);let d=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"bd2t",leaderCount:3},new s.SearchByCharCommand({charCount:2,labelPosition:"before"}))}};d=n([i.RegisterAction],d);let h=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"2T"},new s.SearchByCharCommand({charCount:2,searchOptions:"max",labelPosition:"after"}))}};h=n([i.RegisterAction],h);let f=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"s"},new s.SearchByCharCommand({charCount:1}))}};f=n([i.RegisterAction],f);let p=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"f"},new s.SearchByCharCommand({charCount:1,searchOptions:"min"}))}};p=n([i.RegisterAction],p);let g=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"F"},new s.SearchByCharCommand({charCount:1,searchOptions:"max"}))}};g=n([i.RegisterAction],g);let m=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"t"},new s.SearchByCharCommand({charCount:1,searchOptions:"min",labelPosition:"before"}))}};m=n([i.RegisterAction],m);let v=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"bdt",leaderCount:3},new s.SearchByCharCommand({charCount:1,labelPosition:"before"}))}};v=n([i.RegisterAction],v);let y=class extends s.EasyMotionCharMoveCommandBase{constructor(){super({key:"T"},new s.SearchByCharCommand({charCount:1,searchOptions:"max",labelPosition:"after"}))}};y=n([i.RegisterAction],y);let w=class extends s.EasyMotionWordMoveCommandBase{constructor(){super({key:"w"},{searchOptions:"min"})}};w=n([i.RegisterAction],w);let b=class extends s.EasyMotionWordMoveCommandBase{constructor(){super({key:"bdw",leaderCount:3})}};b=n([i.RegisterAction],b);let x=class extends s.EasyMotionWordMoveCommandBase{constructor(){super({key:"l"},{jumpToAnywhere:!0,searchOptions:"min",labelPosition:"after"})}};x=n([i.RegisterAction],x);let C=class extends s.EasyMotionWordMoveCommandBase{constructor(){super({key:"h"},{jumpToAnywhere:!0,searchOptions:"max",labelPosition:"after"})}};C=n([i.RegisterAction],C);let S=class extends s.EasyMotionWordMoveCommandBase{constructor(){super({key:"j",leaderCount:3},{jumpToAnywhere:!0,labelPosition:"after"})}};S=n([i.RegisterAction],S);let M=class extends s.EasyMotionWordMoveCommandBase{constructor(){super({key:"e"},{searchOptions:"min",labelPosition:"after"})}};M=n([i.RegisterAction],M);let _=class extends s.EasyMotionWordMoveCommandBase{constructor(){super({key:"bde",leaderCount:3},{labelPosition:"after"})}};_=n([i.RegisterAction],_);let E=class extends s.EasyMotionWordMoveCommandBase{constructor(){super({key:"b"},{searchOptions:"max"})}};E=n([i.RegisterAction],E);let k=class extends s.EasyMotionWordMoveCommandBase{constructor(){super({key:"ge"},{searchOptions:"max",labelPosition:"after"})}};k=n([i.RegisterAction],k);let A=class extends s.EasyMotionLineMoveCommandBase{constructor(){super({key:"j"},{searchOptions:"min"})}};A=n([i.RegisterAction],A);let R=class extends s.EasyMotionLineMoveCommandBase{constructor(){super({key:"k"},{searchOptions:"max"})}};R=n([i.RegisterAction],R);let P=class extends s.EasyMotionLineMoveCommandBase{constructor(){super({key:"bdjk",leaderCount:3})}};P=n([i.RegisterAction],P)},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaceOperator=void 0;const i=r(0),s=r(3),o=r(2),a=r(6),c=r(15),u=r(4),l=r(22),d=r(10);let h=class extends l.BaseOperator{constructor(){super(...arguments),this.keys=["g","r"],this.modes=[a.Mode.Normal,a.Mode.Visual,a.Mode.VisualLine]}doesActionApply(e,t){return o.configuration.replaceWithRegister&&super.doesActionApply(e,t)}couldActionApply(e,t){return o.configuration.replaceWithRegister&&super.doesActionApply(e,t)}async run(e,t,r){const n=e.currentRegisterMode===c.RegisterMode.LineWise?new i.Range(t.getLineBegin(),r.getLineEndIncludingEOL()):new i.Range(t,r.getRight()),s=(await c.Register.get(e)).text;return await u.TextEditor.replace(n,s),await e.setCurrentMode(a.Mode.Normal),f(e,n,s)}};h=n([d.RegisterAction],h),t.ReplaceOperator=h;const f=(e,t,r)=>{const{recordedState:{actionKeys:n}}=e,i=r.split("\n"),s=0===n.indexOf("r")&&1===n.length,o=1===i.length&&t.isSingleLine&&!s?p(t,r):g(t);return m(e,o)},p=(e,t)=>new s.Position(e.start.line,Math.max(0,e.start.character+t.length-1)),g=e=>u.TextEditor.getFirstNonWhitespaceCharOnLine(e.start.line),m=(e,t)=>(e.cursorStopPosition=t,e.cursorStartPosition=t,e)},function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandSurroundAddToReplacement=void 0;const s=r(97),o=r(3),a=r(18),c=r(2),u=r(6),l=r(4),d=r(10),h=r(19),f=r(39),p=r(64),g=r(22),m=r(63);let v=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.SurroundInputMode],this.keys=[["("],[")"],["{"],["}"],["["],["]"],["<"],[">"],["'"],['"'],["`"],["t"],["w"],["W"],["s"],["p"],["b"],["B"],["r"],["a"]],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}async exec(e,t){return t.surround?(t.surround.target=this.keysPressed[this.keysPressed.length-1],"b"===t.surround.target&&(t.surround.target=")"),"B"===t.surround.target&&(t.surround.target="}"),"r"===t.surround.target&&(t.surround.target="]"),"a"===t.surround.target&&(t.surround.target=">"),await x.TryToExecuteSurround(t,e)&&(this.isCompleteAction=!0),t):t}doesActionApply(e,t){return super.doesActionApply(e,t)&&!(!e.surround||!e.surround.active||e.surround.target||e.surround.range)}couldActionApply(e,t){return super.doesActionApply(e,t)&&!(!e.surround||!e.surround.active||e.surround.target||e.surround.range)}};v=i([d.RegisterAction],v);let y=class extends f.BaseMovement{constructor(){super(...arguments),this.modes=[u.Mode.Normal],this.keys=["s"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}async execAction(e,t){return{start:e.getLineBeginRespectingIndent(),stop:e.getLineEnd().getLastWordEnd().getRight()}}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0!==e.surround}};y=i([d.RegisterAction],y);let w=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Normal],this.keys=["s"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}async exec(e,t){if(!c.configuration.surround)return t;const r=t.recordedState.operator;let n;return r instanceof g.ChangeOperator?n="change":r instanceof g.DeleteOperator?n="delete":r instanceof g.YankOperator&&(n="yank"),n?(t.recordedState.surroundKeys.push(t.keyHistory[t.keyHistory.length-2]),t.recordedState.surroundKeys.push("s"),t.recordedState.surroundKeyIndexStart=t.keyHistory.length,t.surround={active:!0,target:void 0,operator:n,replacement:void 0,range:void 0,previousMode:t.currentMode},"yank"!==n&&await t.setCurrentMode(u.Mode.SurroundInputMode),t):t}doesActionApply(e,t){const r=!!e.recordedState.operator;return super.doesActionApply(e,t)&&r}couldActionApply(e,t){const r=!!e.recordedState.operator;return super.doesActionApply(e,t)&&r}};w=i([d.RegisterAction],w);let b=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Visual,u.Mode.VisualLine],this.keys=["S"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}async exec(e,t){if(!c.configuration.surround)return t;t.recordedState.surroundKeys.push("S"),t.recordedState.surroundKeyIndexStart=t.keyHistory.length;let[r,n]=o.sorted(t.cursorStartPosition,t.cursorStopPosition);return t.currentMode===u.Mode.VisualLine&&([r,n]=[r.getLineBegin(),n.getLineEnd()]),t.surround={active:!0,target:void 0,operator:"yank",replacement:void 0,range:new a.Range(r,n),previousMode:t.currentMode},await t.setCurrentMode(u.Mode.SurroundInputMode),t.cursorStopPosition=r,t.cursorStartPosition=n,t}};b=i([d.RegisterAction],b);let x=n=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.SurroundInputMode],this.keys=["<any>"]}async exec(e,t){if(!t.surround)return t;if(void 0!==t.surround.replacement&&"<BS>"===this.keysPressed[this.keysPressed.length-1]&&"<"===t.surround.replacement[0])return t.surround.replacement.length>1&&(t.surround.replacement=t.surround.replacement.slice(0,t.surround.replacement.length-1)),t;t.surround.replacement||(t.surround.replacement="");let r=this.keysPressed[this.keysPressed.length-1];return"t"===this.keysPressed[0]&&0===t.surround.replacement.length&&(r="<"),0===t.surround.replacement.length&&("b"===r&&(r=")"),"B"===r&&(r="}"),"r"===r&&(r="]"),"a"===r&&(r=">")),t.surround.replacement+=r,await n.TryToExecuteSurround(t,e)&&(this.isCompleteAction=!0),t}static async Finish(e){e.recordedState.hasRunOperator=!1,e.recordedState.actionsRun=[],e.recordedState.hasRunSurround=!0,e.surround=void 0,await e.setCurrentMode(u.Mode.Normal);for(let t=e.recordedState.surroundKeyIndexStart;t<e.keyHistory.length;t++)e.recordedState.surroundKeys.push(e.keyHistory[t]);return!0}static RemoveWhitespace(e,t,r){const n=t.getRight();let i=t.getRight(),s=r.getLeftThroughLineBreaks(),o=r.getLeftThroughLineBreaks().getRight();if(r.isLineBeginning()&&(s=r,o=r.getRight()),i.isEqual(s))return;for(;!i.isEqual(r)&&!i.isLineEnd()&&l.TextEditor.getCharAt(i).match(/[ \t]/);)i=i.getRight();for(;!s.isEqual(i)&&l.TextEditor.getCharAt(s).match(/[ \t]/)&&!s.isLineBeginning();)s=s.getLeftThroughLineBreaks(!1);s=s.getRight();const c=new a.Range(n,i),u=new a.Range(s,o);e.recordedState.transformations.push({type:"deleteRange",range:c}),e.recordedState.transformations.push({type:"deleteRange",range:u})}static GetStartAndEndReplacements(e){if(!e)return{startReplace:"",endReplace:""};let t=e,r=e;if("<"===t[0]){let e=/([-\w.]+)/.exec(t);r=e?`</${e[1]}>`:"</"+t.slice(1)}return 1===t.length&&t in s.PairMatcher.pairings&&(r=s.PairMatcher.pairings[t].match,s.PairMatcher.pairings[t].isNextMatchForward?(t+=" ",r=" "+r):[t,r]=[r,t]),{startReplace:t,endReplace:r}}static async TryToExecuteSurround(e,t){var r;const{target:i,operator:s}=e.surround;let c=e.surround.replacement,d=!1;if("change"===s||"yank"===s){if(!c)return!1;if("<"===c[0])if("\n"===c[c.length-1])c=c.slice(0,c.length-1),d=!0;else if(">"!==c[c.length-1])return!1}let h,f,g,v,{startReplace:y,endReplace:w}=this.GetStartAndEndReplacements(c);if("yank"===s){if(!(null===(r=e.surround)||void 0===r?void 0:r.range))return!1;let{start:t,stop:i}=e.surround.range;return" "!==l.TextEditor.getCharAt(i)&&(i=i.getRight()),e.surround.previousMode===u.Mode.VisualLine&&(y+="\n",w="\n"+w),e.recordedState.transformations.push({type:"insertText",text:y,position:t,diff:new o.PositionDiff({character:-y.length})}),e.recordedState.transformations.push({type:"insertText",text:w,position:i}),n.Finish(e)}const b=[{char:"'",movement:()=>new p.MoveASingleQuotes},{char:'"',movement:()=>new p.MoveADoubleQuotes},{char:"`",movement:()=>new p.MoveABacktick}];for(const{char:r,movement:s}of b){if(r!==i)continue;const{start:o,stop:c,failed:u}=await s().execAction(t,e);if(u)return n.Finish(e);h=new a.Range(o,o.getRight()),f=new a.Range(c,c.getRight())}const x=[{open:"{",close:"}",movement:()=>new p.MoveACurlyBrace},{open:"[",close:"]",movement:()=>new p.MoveASquareBracket},{open:"(",close:")",movement:()=>new p.MoveAParentheses},{open:"<",close:">",movement:()=>new p.MoveACaret}];for(const{open:r,close:s,movement:o}of x){if(i!==r&&i!==s)continue;let{start:c,stop:u,failed:l}=await o().execAction(t,e);if(l)return n.Finish(e);u=u.getLeft(),h=new a.Range(c,c.getRight()),f=new a.Range(u,u.getRight()),i===r&&n.RemoveWhitespace(e,c,u)}if("t"===i){let r=await(new p.MoveInsideTag).execAction(t,e),{start:i,stop:s,failed:o}=await(new p.MoveAroundTag).execAction(t,e);if(o||r.failed)return n.Finish(e);if(s=s.getRight(),r.stop=r.stop.getRight(),o)return n.Finish(e);if(h=new a.Range(i,i.getRight()),f=new a.Range(r.stop,r.stop.getRight()),d){const e=i.getCurrentBigWordEnd().getRight();g=new a.Range(i.getRight(),e)}else g=new a.Range(i.getRight(),r.start);v=new a.Range(r.stop.getRight(),s)}if("change"===s){if(!c)return!1;const r=[{char:"w",movement:()=>new m.SelectInnerWord,addNewline:"no"},{char:"p",movement:()=>new m.SelectInnerParagraph,addNewline:"both"},{char:"s",movement:()=>new m.SelectInnerSentence,addNewline:"end-only"},{char:"W",movement:()=>new m.SelectInnerBigWord,addNewline:"no"}];for(const{char:s,movement:o,addNewline:a}of r){if(i!==s)continue;let{stop:r,start:c,failed:u}=await o().execAction(t,e);return r=r.getRight(),u?n.Finish(e):("end-only"!==a&&"both"!==a||(w="\n"+w),"both"===a&&(y+="\n"),e.recordedState.transformations.push({type:"insertText",text:y,position:c}),e.recordedState.transformations.push({type:"insertText",text:w,position:r}),n.Finish(e))}}return!!(h||f||g||v)&&("change"===s?!!c&&(h&&e.recordedState.transformations.push({type:"replaceText",text:y,start:h.start,end:h.stop}),f&&e.recordedState.transformations.push({type:"replaceText",text:w,start:f.start,end:f.stop}),g&&e.recordedState.transformations.push({type:"deleteRange",range:g}),v&&e.recordedState.transformations.push({type:"deleteRange",range:v}),n.Finish(e)):"delete"===s&&(h&&e.recordedState.transformations.push({type:"deleteRange",range:h}),f&&e.recordedState.transformations.push({type:"deleteRange",range:f}),g&&e.recordedState.transformations.push({type:"deleteRange",range:g}),v&&e.recordedState.transformations.push({type:"deleteRange",range:v}),n.Finish(e)))}};x=n=i([d.RegisterAction],x),t.CommandSurroundAddToReplacement=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputMethodSwitcherConfigurationValidator=void 0;const n=r(42),i=r(30),s=r(40),o=r(41);class a{async validate(e){const t=new n.ValidatorResults,r=e.autoSwitchInputMethod;return!r.enable||s.Globals.isTesting||(r.switchIMCmd.includes("{im}")||t.append({level:"error",message:"vim.autoSwitchInputMethod.switchIMCmd is incorrect, it should contain the placeholder {im}."}),void 0===r.obtainIMCmd||""===r.obtainIMCmd?t.append({level:"error",message:"vim.autoSwitchInputMethod.obtainIMCmd is empty."}):await i.existsAsync(this.getRawCmd(r.obtainIMCmd))||t.append({level:"error",message:`Unable to find ${r.obtainIMCmd}. Check your 'vim.autoSwitchInputMethod.obtainIMCmd' in VSCode setting.`}),void 0===r.defaultIM||""===r.defaultIM?t.append({level:"error",message:"vim.autoSwitchInputMethod.defaultIM is empty."}):await i.existsAsync(this.getRawCmd(r.switchIMCmd))||t.append({level:"error",message:`Unable to find ${r.switchIMCmd}. Check your 'vim.autoSwitchInputMethod.switchIMCmd' in VSCode setting.`})),Promise.resolve(t)}disable(e){e.autoSwitchInputMethod.enable=!1}getRawCmd(e){return e.split(" ")[0]}}t.InputMethodSwitcherConfigurationValidator=a,o.configurationValidator.registerValidator(new a)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemappingValidator=void 0;const n=r(0),i=r(32),s=r(42),o=r(41);class a{async validate(e){const t=new s.ValidatorResults,r=["insertModeKeyBindings","insertModeKeyBindingsNonRecursive","normalModeKeyBindings","normalModeKeyBindingsNonRecursive","visualModeKeyBindings","visualModeKeyBindingsNonRecursive","commandLineModeKeyBindings","commandLineModeKeyBindingsNonRecursive"];for(const n of r){let r=e[n];const s=new Map;for(let n=r.length-1;n>=0;n--){let o=r[n],a=await this.isRemappingValid(o);if(t.concat(a),a.hasError){r.splice(n,1);continue}o.before&&o.before.forEach((t,r)=>o.before[r]=i.Notation.NormalizeKey(t,e.leader)),o.after&&o.after.forEach((t,r)=>o.after[r]=i.Notation.NormalizeKey(t,e.leader));const c=o.before.join("");s.has(c)?t.append({level:"warning",message:`${o.before}. Duplicate remapped key for ${c}.`}):s.set(c,o)}e[n+"Map"]=s}return t}disable(e){}async isRemappingValid(e){const t=new s.ValidatorResults;if(e.after||e.commands||t.append({level:"error",message:e.before+" missing 'after' key or 'command'."}),e.before instanceof Array||t.append({level:"error",message:`Remapping of '${e.before}' should be a string array.`}),!e.after||e.after instanceof Array||t.append({level:"error",message:`Remapping of '${e.after}' should be a string array.`}),e.commands)for(const r of e.commands){let e;e="string"==typeof r?r:r.command,await this.isCommandValid(e)||t.append({level:"warning",message:e+" does not exist."})}return t}async isCommandValid(e){return!!e.startsWith(":")||(await this.getCommandMap()).has(e)}async getCommandMap(){return null==this._commandMap&&(this._commandMap=new Map((await n.commands.getCommands(!0)).map(e=>[e,!0]))),this._commandMap}}t.RemappingValidator=a,o.configurationValidator.registerValidator(new a)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NeovimValidator=void 0;const n=r(42),i=r(48),s=r(21),o=r(25),a=r(41);class c{validate(e){const t=new n.ValidatorResults;if(e.enableNeovim){let r=!1;try{if(""===e.neovimPath){const t=process.env.PATH;t&&t.split(s.delimiter).forEach(t=>{let n="nvim";"win32"===process.platform&&(n+=".exe");const i=s.join(t,n);if(o.existsSync(i))return e.neovimPath=i,void(r=!0)})}i.execFileSync(e.neovimPath,["--version"])}catch(n){let i=`Invalid neovimPath. ${n.message}.`;r&&(i+=`Tried to parse PATH ${e.neovimPath}.`),t.append({level:"error",message:i})}}return Promise.resolve(t)}disable(e){e.enableNeovim=!1}}t.NeovimValidator=c,a.configurationValidator.registerValidator(new c)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VimrcValidator=void 0;const n=r(42),i=r(41);class s{async validate(e){return new n.ValidatorResults}disable(e){}}t.VimrcValidator=s,i.configurationValidator.registerValidator(new s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionState=void 0;t.CompositionState=class{constructor(){this.isInComposition=!1,this.composingText=""}reset(){this.isInComposition=!1,this.composingText=""}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModeHandler=void 0;const n=r(0),i=r(10),s=r(39),o=r(168),a=r(47),c=r(12),u=r(6),l=r(97),d=r(3),h=r(18),f=r(29),p=r(15),g=r(332),m=r(16),v=r(4),y=r(8),w=r(333),b=r(69),x=r(37),C=r(2),S=r(70),M=r(28),_=r(19),E=r(162),k=r(23),A=r(38),R=r(32),P=r(172),T=r(98),L=r(22);class B{constructor(e){this._disposables=[],this._logger=c.Logger.get("ModeHandler"),this._remappers=new g.Remappers,this.vimState=new w.VimState(e),this._disposables.push(this.vimState)}get currentMode(){return this._currentMode}async setCurrentMode(e){await this.vimState.setCurrentMode(e),this._currentMode=e}static async create(e=n.window.activeTextEditor){const t=new B(e);return await t.vimState.load(),await t.setCurrentMode(C.configuration.startInInsertMode?u.Mode.Insert:u.Mode.Normal),t.syncCursors(),t}syncCursors(){setImmediate(()=>{if(this.vimState.editor){const{selections:e}=this.vimState.editor;this.vimState.cursorStartPosition.isEqual(e[0].anchor)&&this.vimState.cursorStopPosition.isEqual(e[0].active)||(this.vimState.desiredColumn=e[0].active.character),this.vimState.cursors=e.map(({active:e,anchor:t})=>e.isBefore(t)?new h.Range(d.Position.FromVSCodePosition(t).getLeft(),d.Position.FromVSCodePosition(e)):new h.Range(d.Position.FromVSCodePosition(t),d.Position.FromVSCodePosition(e)))}},0)}async handleSelectionChange(e){let t=e.selections[0];if((e.selections.length!==this.vimState.cursors.length||this.vimState.isMultiCursor)&&this.vimState.currentMode!==u.Mode.VisualBlock)return this.vimState.cursors=e.textEditor.selections.map(e=>new h.Range(e.anchor.isAfter(e.active)?d.Position.FromVSCodePosition(e.anchor).getLeft():d.Position.FromVSCodePosition(e.anchor),d.Position.FromVSCodePosition(e.active))),this.updateView(this.vimState);if(e.kind!==n.TextEditorSelectionChangeKind.Mouse){if(t){if(u.isVisualMode(this.vimState.currentMode))return;this.vimState.cursorStopPosition=d.Position.FromVSCodePosition(t.active),this.vimState.cursorStartPosition=d.Position.FromVSCodePosition(t.start)}return}if(1===e.selections.length&&(this.vimState.isMultiCursor=!1),u.isStatusBarMode(this.vimState.currentMode))return;let r=!1;if(t){let e=d.Position.FromVSCodePosition(t.active);if(e.character>=e.getLineEnd().character&&t.isEmpty?this.vimState.currentMode!==u.Mode.Insert&&(this.vimState.lastClickWasPastEol=!0,e=e.withColumn(Math.max(e.getLineEnd().character-1,0)),await this.setCurrentMode(u.Mode.Normal),r=!0):t.isEmpty&&(this.vimState.lastClickWasPastEol=!1),this.vimState.cursorStopPosition=e,this.vimState.cursorStartPosition=e,this.vimState.desiredColumn=e.character,t.anchor.line===t.active.line&&t.anchor.character>=e.getLineEnd().character-1&&t.active.character>=e.getLineEnd().character-1);else if(t.anchor.isEqual(t.active))this.vimState.currentMode!==u.Mode.Insert&&await this.setCurrentMode(u.Mode.Normal);else{let r=new d.Position(t.anchor.line,t.anchor.character);if(r.character>r.getLineEnd().character&&(r=new d.Position(r.line,r.getLineEnd().character)),this.vimState.cursorStartPosition=r,r.isAfter(e)&&(this.vimState.cursorStartPosition=this.vimState.cursorStartPosition.getLeft()),this.vimState.lastClickWasPastEol){const e=new d.Position(t.anchor.line,t.anchor.character+1);this.vimState.editor.selection=new n.Selection(e,t.end),this.vimState.cursorStartPosition=r,this.vimState.lastClickWasPastEol=!1}C.configuration.mouseSelectionGoesIntoVisualMode&&!u.isVisualMode(this.vimState.currentMode)&&this.currentMode!==u.Mode.Insert&&await this.setCurrentMode(u.Mode.Visual)}return this.updateView(this.vimState,{drawSelection:r,revealRange:!1})}}async handleMultipleKeyEvents(e){for(const t of e)await this.handleKeyEvent(t)}async handleKeyEvent(e){const t=Number(new Date),r=R.Notation.printableKey(e);this._logger.debug(`handling key=${r}.`),C.configuration.overrideCopy&&("<D-c>"===e&&(e="<copy>"),"<C-c>"===e&&"darwin"!==process.platform&&(C.configuration.useCtrlKeys&&this.vimState.currentMode!==u.Mode.Visual&&this.vimState.currentMode!==u.Mode.VisualBlock&&this.vimState.currentMode!==u.Mode.VisualLine||(e="<copy>"))),"<C-d>"===e&&!0!==C.configuration.handleKeys["<C-d>"]&&(e="<D-d>"),this.vimState.cursorsInitialState=this.vimState.cursors,this.vimState.recordedState.commandList.push(e);const n=this.vimState.currentMode,i=this.vimState.editor.visibleRanges[0],s=m.StatusBar.getText();try{t-this.vimState.lastKeyPressedTimestamp<C.configuration.timeout||(this.vimState.recordedState.commandList=[this.vimState.recordedState.commandList[this.vimState.recordedState.commandList.length-1]]);let r=!1;const n=this.vimState.recordedState.operator;this.vimState.isCurrentlyPerformingRemapping||n&&this.vimState.currentMode===u.Mode.Normal||(r=await this._remappers.sendKey(this.vimState.recordedState.commandList,this,this.vimState)),r?this.vimState.recordedState.resetCommandList():this.vimState=await this.handleKeyEventHelper(e,this.vimState)}catch(t){if(!(t instanceof y.VimError))throw new Error(`Failed to handle key=${e}. ${t.message}`);m.StatusBar.displayError(this.vimState,t)}if(this.vimState.lastKeyPressedTimestamp=t,m.StatusBar.getText()===s){const e=this.vimState.currentMode!==n&&this.vimState.currentMode!==u.Mode.Normal||this.vimState.editor.visibleRanges[0]!==i||this.vimState.isRecordingMacro;m.StatusBar.clear(this.vimState,e)}this._logger.debug(`handleKeyEvent('${r}') took ${Number(new Date)-t}ms`)}async handleKeyEventHelper(e,t){if(n.window.activeTextEditor!==this.vimState.editor)return this._logger.warn("Current window is not active"),this.vimState;t.historyTracker.addChange(this.vimState.cursorsInitialState.map(e=>e.stop)),t.keyHistory.push(e);let r=t.recordedState;r.actionKeys.push(e);let s=i.Actions.getRelevantAction(r.actionKeys,t);switch(s){case i.KeypressState.NoPossibleMatch:return this._remappers.isPotentialRemap||(t.recordedState=new f.RecordedState),m.StatusBar.updateShowCmd(this.vimState),t;case i.KeypressState.WaitingOnKeys:return m.StatusBar.updateShowCmd(this.vimState),t}let c=s,l=c;if(0===r.actionsRun.length)r.actionsRun.push(c);else{let n=r.actionsRun[r.actionsRun.length-1];if(n instanceof _.DocumentContentChangeAction)n.keysPressed.push(e),c instanceof o.CommandInsertInInsertMode||c instanceof o.CommandInsertPreviousText?l=void 0:(n.addChanges(t.historyTracker.currentContentChanges),t.historyTracker.currentContentChanges=[],r.actionsRun.push(c));else if(c instanceof o.CommandInsertInInsertMode||c instanceof o.CommandInsertPreviousText){t.historyTracker.currentContentChanges=[];let n=new _.DocumentContentChangeAction;n.keysPressed.push(e),r.actionsRun.push(n),l=n}else r.actionsRun.push(c)}return!t.isRecordingMacro||!l||l instanceof _.CommandQuitRecordMacro||t.recordedMacro.actionsRun.push(l),(t=await this.runAction(t,r,c)).currentMode===u.Mode.Insert&&(r.isInsertion=!0),await this.updateView(t),c.isJump&&k.globalState.jumpTracker.recordJump(a.Jump.fromStateBefore(t),a.Jump.fromStateNow(t)),!this._remappers.isPotentialRemap&&r.isInsertion&&t.recordedState.resetCommandList(),t}async runAction(e,t,r){let i=!1,o=!1;e.currentMode===u.Mode.Visual&&(e.cursors=e.cursors.map(e=>e.start.isBefore(e.stop)?e.withNewStop(e.stop.getLeftThroughLineBreaks(!0)):e)),r instanceof s.BaseMovement&&(({vimState:e,recordedState:t}=await this.executeMovement(e,r)),o=!0),r instanceof _.BaseCommand&&(e=await r.execCount(e.cursorStopPosition,e),e=await this.executeCommand(e),r.isCompleteAction&&(o=!0),r.canBeRepeatedWithDot&&(i=!0)),r instanceof _.DocumentContentChangeAction&&(e=await r.exec(e.cursorStopPosition,e)),r instanceof L.BaseOperator&&(t.operatorCount=t.count);const a=this.currentMode;return e.currentMode!==this.currentMode&&(await this.setCurrentMode(e.currentMode),e.currentMode===u.Mode.Normal&&a!==u.Mode.SearchInProgressMode&&a!==u.Mode.CommandlineInProgress&&a!==u.Mode.EasyMotionInputMode&&a!==u.Mode.EasyMotionMode&&(i=!0)),u.isStatusBarMode(e.currentMode)!==u.isStatusBarMode(a)&&await b.VsCodeContext.Set("vim.overrideCmdV",u.isStatusBarMode(e.currentMode)),t.operatorReadyToExecute(e.currentMode)&&e.recordedState.operator&&((e=await this.executeOperator(e)).recordedState.hasRunOperator=!0,i=e.recordedState.operator.canBeRepeatedWithDot,o=!0),e.currentMode===u.Mode.Visual&&(e.cursors=e.cursors.map(e=>e.start.isBefore(e.stop)?e.withNewStop(e.stop.isLineEnd()?e.stop.getRightThroughLineBreaks():e.stop.getRight()):e)),e.currentMode!==this.currentMode&&(await this.setCurrentMode(e.currentMode),e.currentMode===u.Mode.Normal&&(i=!0)),(o&&!(r instanceof _.CommandRegister)&&e.currentMode!==u.Mode.Insert||r instanceof _.CommandVisualMode)&&e.recordedState.resetCommandList(),i=i&&e.currentMode===u.Mode.Normal||this.createUndoPointForBrackets(e),o=o&&e.currentMode===u.Mode.Normal,i&&(k.globalState.previousFullAction=e.recordedState,t.isInsertion&&p.Register.putByKey(t,".",void 0,!0)),r.preservesDesiredColumn()||(r instanceof s.BaseMovement?r.setsDesiredColumnToEOL&&!t.operator?e.desiredColumn=Number.POSITIVE_INFINITY:e.desiredColumn=e.cursorStopPosition.character:e.currentMode!==u.Mode.VisualBlock&&(e.desiredColumn=e.cursorStopPosition.character)),o&&(e.recordedState=new f.RecordedState,e.returnToInsertAfterCommand&&(e.actionCount>0?await this.setCurrentMode(u.Mode.Insert):e.actionCount++)),this.vimState.focusChanged||(this.vimState.alteredHistory?(this.vimState.alteredHistory=!1,e.historyTracker.ignoreChange()):e.historyTracker.addChange(this.vimState.cursorsInitialState.map(e=>e.stop))),i&&!e.isReplayingMacro&&e.historyTracker.finishCurrentStep(),t.actionKeys=[],e.currentRegisterMode=p.RegisterMode.AscertainFromCurrentMode,this.currentMode===u.Mode.Normal&&(e.cursorStartPosition=e.cursorStopPosition),e.editor.document.isClosed||e.editor!==n.window.activeTextEditor||(e.cursors=e.cursors.map(t=>{const r=v.TextEditor.getDocumentEnd(e.editor),n=v.TextEditor.getLineCount(e.editor);if(t.start.line>=n&&(t=t.withNewStart(r)),t.stop.line>=n&&(t=t.withNewStop(r)),e.currentMode===u.Mode.Normal){const e=v.TextEditor.getLineLength(t.stop.line);if(e>0){const r=t.start.getLineEnd().getLeftThroughLineBreaks(!0);t.start.character>=e&&(t=t.withNewStart(r)),t.stop.character>=e&&(t=t.withNewStop(r))}}return t})),e.historyTracker.setLastHistoryEndPosition(e.cursors.map(e=>e.stop)),u.isVisualMode(this.vimState.currentMode)&&!this.vimState.isRunningDotCommand&&(this.vimState.lastVisualSelection={mode:this.vimState.currentMode,start:this.vimState.cursorStartPosition,end:this.vimState.cursorStopPosition}),e}async executeMovement(e,t){e.lastMovementFailed=!1;let r=e.recordedState;for(let n=0;n<e.cursors.length;n++){const i=e.cursorStartPosition,s=e.cursorStopPosition;e.cursorStartPosition=e.cursors[n].start;let o=e.cursors[n].stop;e.cursorStopPosition=o;const a=await t.execActionWithCount(o,e,r.count);e.cursors[n]=new h.Range(e.cursorStartPosition,e.cursorStopPosition),e.cursorStartPosition=i,e.cursorStopPosition=s,a instanceof d.Position?(e.cursors[n]=e.cursors[n].withNewStop(a),u.isVisualMode(this.currentMode)||e.recordedState.operator||(e.cursors[n]=e.cursors[n].withNewStart(a))):(a.failed&&(e.recordedState=new f.RecordedState,e.lastMovementFailed=!0),e.cursors[n]=new h.Range(a.start,a.stop),a.registerMode&&(e.currentRegisterMode=a.registerMode))}if(e.recordedState.count=0,e.currentMode!==u.Mode.Normal||r.operator){let t=e.cursorStopPosition;t.character>v.TextEditor.getLineLength(t.line)&&(e.cursorStopPosition=t.getLineEnd())}return{vimState:e,recordedState:r}}async executeOperator(e){let t=e.recordedState;const r=t.operator,i=e.currentMode,s=e.currentRegisterMode,o=[];for(let[n,{start:a,stop:c}]of e.cursors.entries()){r.multicursorIndex=n,a.isAfter(c)&&([a,c]=[c,a]),u.isVisualMode(i)||s===p.RegisterMode.LineWise||(c=c.getLeftThroughLineBreaks(!0)),this.currentMode===u.Mode.VisualLine&&(a=a.getLineBegin(),c=c.getLineEnd(),e.currentRegisterMode=p.RegisterMode.LineWise),await e.setCurrentMode(i),e=t.operators.length>1&&t.operators.reverse()[0].constructor===t.operators.reverse()[1].constructor?await r.runRepeat(e,a,t.count):await r.run(e,a,c);for(const t of e.recordedState.transformations)E.isTextTransformation(t)&&void 0===t.cursorIndex&&(t.cursorIndex=r.multicursorIndex);let l=new h.Range(e.cursorStartPosition,e.cursorStopPosition);o.push(l)}return e.recordedState.transformations.length>0?e=await this.executeCommand(e):(e.cursors=o,e.editor.selections=e.cursors.map(e=>new n.Selection(e.start,e.stop))),e}async executeCommand(e){var t;const r=e.recordedState.transformations;if(0===r.length)return e;const i=r.filter(e=>E.isTextTransformation(e)),s=r.filter(e=>E.isMultiCursorTextTransformation(e)),o=r.filter(e=>!E.isTextTransformation(e)&&!E.isMultiCursorTextTransformation(e));let a={};const c=(e,t)=>{switch(e.type){case"insertText":t.insert(e.position,e.text);break;case"replaceText":t.replace(new n.Selection(e.end,e.start),e.text);break;case"deleteText":let r=l.PairMatcher.immediateMatchingBracket(e.position);r&&t.delete(r),t.delete(new n.Range(e.position,e.position.getLeftThroughLineBreaks()));break;case"deleteRange":t.delete(new n.Selection(e.range.start,e.range.stop));break;case"moveCursor":break;default:this._logger.warn(`Unhandled text transformation type: ${e.type}.`)}if(void 0===e.cursorIndex)throw new Error("No cursor index - this should never ever happen!");e.diff&&(a[e.cursorIndex]||(a[e.cursorIndex]=[]),a[e.cursorIndex].push(e.diff))};if(i.length>0)if(E.areAnyTransformationsOverlapping(i)){this._logger.debug("Text transformations are overlapping. Falling back to serial\n           transformations. This is generally a very bad sign. Try to make\n           your text transformations operate on non-overlapping ranges.");for(const e of i)await this.vimState.editor.edit(t=>c(e,t))}else await this.vimState.editor.edit(e=>{for(const t of i)c(t,e)});if(s.length>0)if(E.areAllSameTransformation(s)){const{text:e}=s[0];await v.TextEditor.insert(e)}else this._logger.warn("Unhandled multicursor transformations. Not all transformations are the same!");for(const t of o)switch(t.type){case"insertTextVSCode":await v.TextEditor.insert(t.text),e.cursors[0]=h.Range.FromVSCodeSelection(this.vimState.editor.selection);break;case"showCommandHistory":let r=await x.commandLine.showHistory(e.currentCommandlineText);r&&0!==r.length&&(await x.commandLine.Run(r,this.vimState),this.updateView(this.vimState));break;case"showSearchHistory":const i=await k.globalState.showSearchHistory();if(i){k.globalState.searchState=i;const r=i.getNextSearchMatchPosition(e.cursorStartPosition,t.direction);if(!r)throw y.VimError.fromCode(t.direction>0?y.ErrorCode.SearchHitBottom:y.ErrorCode.SearchHitTop,i.searchString);e.cursorStopPosition=r.pos,this.updateView(this.vimState),A.reportSearch(r.index,i.getMatchRanges().length,e)}break;case"dot":if(!k.globalState.previousFullAction)return e;await this.rerunRecordedState(e,k.globalState.previousFullAction.clone());break;case"macro":let s=(await p.Register.getByKey(t.register)).text;if(!(s instanceof f.RecordedState))return e;if(e.isReplayingMacro=!0,":"===t.register)await x.commandLine.Run(s.commandString,e);else if("contentChange"===t.replay)e=await this.runMacro(e,s);else{let e=[];for(let t of s.actionsRun)e=e.concat(t.keysPressed);this.vimState.recordedState=new f.RecordedState,await this.handleMultipleKeyEvents(e)}if(e.isReplayingMacro=!1,e.historyTracker.lastInvokedMacro=s,e.lastMovementFailed)return e.lastMovementFailed=!1,e;break;case"contentChange":for(const r of t.changes)await v.TextEditor.insert(r.text),e.cursorStopPosition=d.Position.FromVSCodePosition(this.vimState.editor.selection.start);const o=e.cursorStopPosition.add(t.diff);this.vimState.editor.selection=new n.Selection(o,o);break;case"tab":if(await n.commands.executeCommand("tab"),t.diff){if(void 0===t.cursorIndex)throw new Error("No cursor index - this should never ever happen!");a[t.cursorIndex]||(a[t.cursorIndex]=[]),a[t.cursorIndex].push(t.diff)}break;case"reindent":if(await n.commands.executeCommand("editor.action.reindentselectedlines"),t.diff){if(void 0===t.cursorIndex)throw new Error("No cursor index - this should never ever happen!");a[t.cursorIndex]||(a[t.cursorIndex]=[]),a[t.cursorIndex].push(t.diff)}break;default:this._logger.warn(`Unhandled text transformation type: ${t.type}.`)}const g=this.vimState.editor.selections.map(e=>{let t=h.Range.FromVSCodeSelection(e);return t.start.isBefore(t.stop)&&(t=t.withNewStop(t.stop.getLeftThroughLineBreaks(!0))),new n.Selection(t.start,t.stop)}),m=r[0],w=("deleteRange"===m.type||"replaceText"===m.type||"insertText"===m.type)&&m.manuallySetCursorPositions;if(e.currentMode===u.Mode.VisualBlock||w){if((null===(t=a[0])||void 0===t?void 0:t.length)>0){const t=a[0][0];e.cursorStopPosition=e.cursorStopPosition.add(t),e.cursorStartPosition=e.cursorStartPosition.add(t)}}else e.cursors=g.map((t,r)=>{var n;const i=null!==(n=a[r])&&void 0!==n?n:[];return e.recordedState.operatorPositionDiff&&i.push(e.recordedState.operatorPositionDiff),i.reduce((e,t)=>new h.Range(e.start.add(t),e.stop.add(t)),h.Range.FromVSCodeSelection(t))}),e.recordedState.operatorPositionDiff=void 0;return"deleteRange"===m.type&&m.collapseRange&&(e.cursorStopPosition=new d.Position(e.cursorStopPosition.line,e.cursorStartPosition.character)),e.recordedState.transformations=[],e}async rerunRecordedState(e,t){const r=[...t.actionsRun],{hasRunSurround:i,surroundKeys:s}=t;if(e.isRunningDotCommand=!0,e.lastVisualSelection&&(e.dotCommandPreviousVisualSelection=new n.Selection(e.lastVisualSelection.start,e.lastVisualSelection.end)),t=new f.RecordedState,e.recordedState=t,i)await this.handleMultipleKeyEvents(s);else{for(const[n,i]of r.entries()){if(t.actionsRun=r.slice(0,n+1),(e=await this.runAction(e,t,i)).lastMovementFailed)return e;await this.updateView(e)}t.actionsRun=r}return e.isRunningDotCommand=!1,e}async runMacro(e,t){let r=new f.RecordedState;e.recordedState=r,e.isRunningDotCommand=!0;for(let n of t.actionsRun){let t=a.Jump.fromStateNow(e);if(e.cursorsInitialState=e.cursors,r.actionsRun.push(n),e.keyHistory=e.keyHistory.concat(n.keysPressed),0===(e=await this.runAction(e,r,n)).recordedState.actionsRun.length&&(r=new f.RecordedState,e.recordedState=r),e.lastMovementFailed)break;await this.updateView(e),n.isJump&&k.globalState.jumpTracker.recordJump(t,a.Jump.fromStateNow(e))}return e.isRunningDotCommand=!1,e.cursorsInitialState=e.cursors,e}updateSearchHighlights(e){var t,r;let n=[];e&&(n=null!==(r=null===(t=k.globalState.searchState)||void 0===t?void 0:t.getMatchRanges(this.vimState.editor.document))&&void 0!==r?r:[]),this.vimState.editor.setDecorations(S.decoration.SearchHighlight,n)}async updateView(e,t={drawSelection:!0,revealRange:!0}){var r;if(t.drawSelection&&!e.recordedState.actionsRun.some(e=>e instanceof _.DocumentContentChangeAction)){let t=e.currentMode;e.currentMode===u.Mode.SearchInProgressMode?t=k.globalState.searchState.previousMode:e.currentMode===u.Mode.CommandlineInProgress?t=x.commandLine.previousMode:e.currentMode===u.Mode.SurroundInputMode&&(t=e.surround.previousMode);const r=[];for(const i of e.cursors){let{start:s,stop:o}=i;switch(t){case u.Mode.Visual:s.isAfter(o)&&(s=s.getRight()),r.push(new n.Selection(s,o));break;case u.Mode.VisualLine:s.isBeforeOrEqual(o)?r.push(new n.Selection(s.getLineBegin(),o.getLineEnd())):r.push(new n.Selection(s.getLineEnd(),o.getLineBegin()));break;case u.Mode.VisualBlock:for(const t of v.TextEditor.iterateLinesInBlock(e,i))r.push(new n.Selection(t.start,t.end));break;default:r.push(new n.Selection(o,o))}}this.vimState.editor.selections=r}if(e.editor.visibleRanges.length>0&&!e.postponedCodeViewChanges.some(e=>"editorScroll"===e.command)){const r=e.recordedState.getLastActionRun()instanceof _.ActionOverrideCmdD;let i;i=r?e.cursors[e.cursors.length-1]:e.cursors[0];const s=e=>e.start.line-i.stop.line>=15,o=e=>i.stop.line-e.end.line>=15,{visibleRanges:a}=e.editor,c=a.every(s)||a.every(o)?n.TextEditorRevealType.InCenter:n.TextEditorRevealType.Default;if(this.vimState.currentMode===u.Mode.SearchInProgressMode){const t=k.globalState.searchState.getNextSearchMatchPosition(e.cursorStopPosition);if(null==t?void 0:t.match)this.vimState.editor.revealRange(new n.Range(t.pos,t.pos),c);else if(void 0!==e.firstVisibleLineBeforeSearch){const t=e.editor.visibleRanges[0].start.line-e.firstVisibleLineBeforeSearch;M.scrollView(e,t)}}else t.revealRange&&(r&&this.vimState.cursorsInitialState.length===this.vimState.cursors.length||this.vimState.editor.revealRange(new n.Range(i.stop,i.stop),c))}let i=C.configuration.getCursorStyleForMode(u.Mode[this.currentMode]);if(!i){const e=O(this.vimState,this.currentMode);i=u.getCursorStyle(e),e===u.VSCodeVimCursorType.Native&&void 0!==C.configuration.editorCursorStyle&&(i=C.configuration.editorCursorStyle)}this.vimState.editor.options.cursorStyle=i;let s=[];if(O(this.vimState,this.currentMode)===u.VSCodeVimCursorType.TextDecoration&&this.currentMode!==u.Mode.Insert)if(this.currentMode===u.Mode.Visual)for(const{start:t,stop:r}of e.cursors)t.isBefore(r)?s.push(new n.Range(r.getLeft(),r)):s.push(new n.Range(r,r.getRight()));else for(const{stop:t}of e.cursors)s.push(new n.Range(t,t.getRight()));this.vimState.editor.setDecorations(S.decoration.Default,s);const o=C.configuration.incsearch&&this.currentMode===u.Mode.SearchInProgressMode||C.configuration.hlsearch&&k.globalState.hl;for(const e of n.window.visibleTextEditors)null===(r=P.ModeHandlerMap.get(T.EditorIdentity.fromEditor(e)))||void 0===r||r.updateSearchHighlights(o);const a=this.currentMode===u.Mode.EasyMotionInputMode?e.easyMotion.searchAction.getMatches(e.cursorStopPosition,e).map(e=>e.toRange()):[];this.vimState.editor.setDecorations(S.decoration.EasyMotion,a);for(const e of this.vimState.postponedCodeViewChanges)await n.commands.executeCommand(e.command,e.args);this.vimState.postponedCodeViewChanges=[],this.currentMode===u.Mode.EasyMotionMode&&this.vimState.easyMotion.updateDecorations(),m.StatusBar.clear(this.vimState,!1),m.StatusBar.updateShowCmd(this.vimState),await b.VsCodeContext.Set("vim.mode",u.Mode[this.vimState.currentMode]);const c=new n.Range(e.cursorStartPosition,e.cursorStopPosition);/\s+/.test(e.editor.document.getText(c))||n.commands.executeCommand("editor.action.wordHighlight.trigger")}createUndoPointForBrackets(e){const t=e.recordedState.actionKeys[e.recordedState.actionKeys.length-1];if(void 0===t)return!1;if(e.currentMode===u.Mode.Insert){let r=l.PairMatcher.nextPairedChar(e.cursorStopPosition,t);if(void 0!==r&&e.cursorStopPosition.isEqual(r))return!0;if(r=l.PairMatcher.nextPairedChar(e.cursorStopPosition.getLeft(),t),void 0!==r&&e.cursorStopPosition.getLeft(2).isEqual(r))return!0}return!1}dispose(){this._disposables.map(e=>e.dispose())}}function O(e,t){switch(t){case u.Mode.Normal:return u.VSCodeVimCursorType.Block;case u.Mode.Insert:return u.VSCodeVimCursorType.Native;case u.Mode.Visual:case u.Mode.VisualBlock:case u.Mode.VisualLine:return u.VSCodeVimCursorType.TextDecoration;case u.Mode.SearchInProgressMode:return O(e,k.globalState.searchState.previousMode);case u.Mode.CommandlineInProgress:return O(e,x.commandLine.previousMode);case u.Mode.Replace:return u.VSCodeVimCursorType.Underline;case u.Mode.EasyMotionMode:case u.Mode.EasyMotionInputMode:return u.VSCodeVimCursorType.Block;case u.Mode.SurroundInputMode:return O(e,e.surround.previousMode);case u.Mode.Disabled:default:return u.VSCodeVimCursorType.Line}}t.ModeHandler=B},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Remapper=t.Remappers=void 0;const n=r(0),i=r(12),s=r(6),o=r(37),a=r(2),c=r(16);t.Remappers=class{constructor(){this.remappers=[new d(!0),new h(!0),new f(!0),new p(!0),new d(!1),new h(!1),new f(!1),new p(!1)]}get isPotentialRemap(){return this.remappers.some(e=>e.isPotentialRemap)}async sendKey(e,t,r){let n=!1;for(let i of this.remappers)n=n||await i.sendKey(e,t,r);return n}};class u{constructor(e,t,r){this._logger=i.Logger.get("Remapper"),this._isPotentialRemap=!1,this._configKey=e,this._recursive=r,this._remappedModes=t}get isPotentialRemap(){return this._isPotentialRemap}async sendKey(e,t,r){if(this._isPotentialRemap=!1,!this._remappedModes.includes(r.currentMode))return!1;const n=a.configuration[this._configKey];this._logger.debug(`trying to find matching remap. keys=${e}. mode=${s.Mode[r.currentMode]}. keybindings=${this._configKey}.`);let i=this.findMatchingRemap(n,e,r.currentMode);if(i){this._logger.debug(`${this._configKey}. match found. before=${i.before}. after=${i.after}. command=${i.commands}.`),this._recursive||(r.isCurrentlyPerformingRemapping=!0);try{await this.handleRemapping(i,r,t)}finally{r.isCurrentlyPerformingRemapping=!1}return!0}const o=e.join("");for(let e of n.keys())if(e.startsWith(o)){this._isPotentialRemap=!0;break}return!1}async handleRemapping(e,t,r){const i=e.before.length-1;if(t.currentMode===s.Mode.Insert&&(await t.historyTracker.undoAndRemoveChanges(Math.max(0,i*t.cursors.length)),t.cursors=t.cursors.map(e=>e.withNewStop(e.stop.getLeft(i)))),t.recordedState.actionKeys=t.recordedState.actionKeys.slice(0,-i),t.keyHistory=t.keyHistory.slice(0,-i),e.after&&await r.handleMultipleKeyEvents(e.after),e.commands){const i=t.recordedState.count||1;t.recordedState.count=0;for(let s=0;s<i;s++)for(const i of e.commands){let e,s;"string"==typeof i?(e=i,s=[]):(e=i.command,s=i.args),":"===e.slice(0,1)?(await o.commandLine.Run(e.slice(1,e.length),r.vimState),await r.updateView(r.vimState)):s?await n.commands.executeCommand(e,s):await n.commands.executeCommand(e),c.StatusBar.setText(t,`${e} ${s}`)}}}findMatchingRemap(e,t,r){if(0===e.size)return;const n=u.getRemappedKeysLengthRange(e);for(let i=Math.max(n[1],t.length);i>=n[0];i--){const n=t.slice(-i).join("");if(this._logger.verbose(`key=${t}. keySlice=${n}.`),e.has(n)){if(r!==s.Mode.Insert){const e=t.slice(0,t.length-n.length).join("");if(e.length>0&&!/^[0-9]+$/.test(e)){this._logger.verbose(`key sequences need to match precisely. precedingKeys=${e}.`);break}}return e.get(n)}}}static getRemappedKeysLengthRange(e){if(0===e.size)return[0,0];const t=Array.from(e.keys()).map(e=>e.length);return[Math.min(...t),Math.max(...t)]}}function l(e,t){return`${e}ModeKeyBindings${t?"":"NonRecursive"}Map`}t.Remapper=u;class d extends u{constructor(e){super(l("insert",e),[s.Mode.Insert,s.Mode.Replace],e)}}class h extends u{constructor(e){super(l("normal",e),[s.Mode.Normal],e)}}class f extends u{constructor(e){super(l("visual",e),[s.Mode.Visual,s.Mode.VisualLine,s.Mode.VisualBlock],e)}}class p extends u{constructor(e){super(l("commandLine",e),[s.Mode.CommandlineInProgress,s.Mode.SearchInProgressMode],e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewChange=t.VimState=void 0;const n=r(170),i=r(98),s=r(334),o=r(336),a=r(12),c=r(6),u=r(3),l=r(18),d=r(29),h=r(15);t.VimState=class{constructor(e){this.logger=a.Logger.get("VimState"),this.desiredColumn=0,this.lastKeyPressedTimestamp=0,this.isMultiCursor=!1,this.isFakeMultiCursor=!1,this.lastSemicolonRepeatableMovement=void 0,this.lastCommaRepeatableMovement=void 0,this.lastMovementFailed=!1,this.alteredHistory=!1,this.isRunningDotCommand=!1,this.dotCommandPreviousVisualSelection=void 0,this.firstVisibleLineBeforeSearch=void 0,this.focusChanged=!1,this.surround=void 0,this.returnToInsertAfterCommand=!1,this.actionCount=0,this.postponedCodeViewChanges=[],this.isCurrentlyPerformingRemapping=!1,this.keyHistory=[],this._cursors=[new l.Range(new u.Position(0,0),new u.Position(0,0))],this.isRecordingMacro=!1,this.isReplayingMacro=!1,this.replaceState=void 0,this.lastVisualSelection=void 0,this.lastClickWasPastEol=!1,this._currentMode=c.Mode.Normal,this.currentRegisterMode=h.RegisterMode.AscertainFromCurrentMode,this.registerName='"',this.currentCommandlineText="",this.statusBarCursorCharacterPos=0,this.recordedState=new d.RecordedState,this.recordedMacro=new d.RecordedState,this.editor=e,this.identity=i.EditorIdentity.fromEditor(e),this.historyTracker=new s.HistoryTracker(this),this.easyMotion=new n.EasyMotion,this._inputMethodSwitcher=new o.InputMethodSwitcher}get cursorStartPosition(){return this.cursors[0].start}set cursorStartPosition(e){e.isValid(this.editor)||this.logger.warn(`invalid cursor start position. ${e.toString()}.`),this.cursors[0]=this.cursors[0].withNewStart(e)}get cursorStopPosition(){return this.cursors[0].stop}set cursorStopPosition(e){e.isValid(this.editor)||this.logger.warn(`invalid cursor stop position. ${e.toString()}.`),this.cursors[0]=this.cursors[0].withNewStop(e)}get cursors(){return this._cursors}set cursors(e){const t=new Map;for(const r of e)r.isValid(this.editor)||this.logger.warn(`invalid cursor position. ${r.toString()}.`),t.set(r.toString(),r);this._cursors=[...t.values()],this.isMultiCursor=this._cursors.length>1}get cursorsInitialState(){return this._cursorsInitialState}set cursorsInitialState(e){this._cursorsInitialState=[...e]}get currentMode(){return this._currentMode}async setCurrentMode(e){await this._inputMethodSwitcher.switchInputMethod(this._currentMode,e),this.returnToInsertAfterCommand&&e===c.Mode.Insert&&(this.returnToInsertAfterCommand=!1),this._currentMode=e,e===c.Mode.SearchInProgressMode?this.firstVisibleLineBeforeSearch=this.editor.visibleRanges[0].start.line:this.firstVisibleLineBeforeSearch=void 0}get effectiveRegisterMode(){if(this.currentRegisterMode!==h.RegisterMode.AscertainFromCurrentMode)return this.currentRegisterMode;switch(this.currentMode){case c.Mode.VisualLine:return h.RegisterMode.LineWise;case c.Mode.VisualBlock:return h.RegisterMode.BlockWise;default:return h.RegisterMode.CharacterWise}}async load(){const e=await Promise.resolve().then(()=>r(337));this.nvim=new e.NeovimWrapper}dispose(){this.nvim.dispose()}};t.ViewChange=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryTracker=void 0;const n=r(335),i=r(0),s=r(3),o=r(12),a=r(4),c=r(16),u=new n.diff_match_patch;u.Diff_Timeout=1;class l{constructor(e,t,r){this.start=e,this.text=t,this.isAdd=r}async do(e=!1){this.isAdd&&!e||!this.isAdd&&e?await a.TextEditor.insert(this.text,this.start,!1):await a.TextEditor.delete(new i.Range(this.start,this.end))}async undo(){return this.do(!0)}get end(){return this._end}get text(){return this._text}set text(e){this._text=e,this._end=this.start.advancePositionByText(this.text)}}class d{constructor(e){this.marks=[],this.changes=e.changes=[],this.isFinished=e.isFinished||!1,this.cursorStart=e.cursorStart||void 0,this.cursorEnd=e.cursorEnd||void 0,this.marks=e.marks||[],this.timestamp=new Date}merge(){if(this.changes.length<2)return;const e=[];let t=this.changes[0];for(const r of this.changes.slice(1)){if(0===t.text.length){if(!(e.length>0)){t=r;continue}t=e.pop()}t.isAdd&&r.isAdd&&t.end.isEqual(r.start)?t.text+=r.text:t.isAdd||r.isAdd||!r.end.isEqual(t.start)?t.isAdd&&!r.isAdd&&t.end.isEqual(r.end)?t.text=t.text.slice(0,-r.text.length):(e.push(t),t=r):(r.text+=t.text,t=r)}e.push(t),this.changes=e}howLongAgo(){const e=(new Date).getTime()-this.timestamp.getTime(),t=Math.floor(e/1e3);if(1===t)return"1 second ago";if(t>=100){return`${this.timestamp.getHours()}:${this.timestamp.getMinutes().toString().padStart(2,"0")}:${this.timestamp.getSeconds().toString().padStart(2,"0")}`}return t+" seconds ago"}}d.globalMarks=[];t.HistoryTracker=class{constructor(e){this._logger=o.Logger.get("DocumentChange"),this.changelistIndex=0,this.historySteps=[],this.currentHistoryStepIndex=0,this.vimState=e,this._initialize()}get currentHistoryStep(){if(-1===this.currentHistoryStepIndex){const e="Tried to modify history at index -1";throw this._logger.warn(e),new Error("HistoryTracker:"+e)}return this.historySteps[this.currentHistoryStepIndex]}clear(){this.historySteps=[],this.currentHistoryStepIndex=0,this._initialize()}_initialize(){this.historySteps.push(new d({changes:[new l(new s.Position(0,0),this._getDocumentText(),!0)],isFinished:!0,cursorStart:[new s.Position(0,0)],cursorEnd:[new s.Position(0,0)]})),this.finishCurrentStep(),this.previousDocumentState={text:this._getDocumentText(),versionNumber:this._getDocumentVersion()},this.currentContentChanges=[],this.lastContentChanges=[]}_getDocumentText(){var e,t;return null!==(t=null===(e=this.vimState.editor)||void 0===e?void 0:e.document.getText())&&void 0!==t?t:""}_getDocumentVersion(){var e,t;return null!==(t=null===(e=this.vimState.editor)||void 0===e?void 0:e.document.version)&&void 0!==t?t:-1}_addNewHistoryStep(){this.historySteps.push(new d({marks:this.currentHistoryStep.marks})),this.currentHistoryStepIndex++}updateAndReturnMarks(){const e=this.getAllCurrentDocumentMarks();let t=[];for(const r of e)t.push({...r});for(const e of this.currentHistoryStep.changes)for(const r of t){let t=e.start;if(e.isAdd)for(const n of e.text)t.isBeforeOrEqual(r.position)&&("\n"===n?r.position=new s.Position(r.position.line+1,r.position.character):"\n"!==n&&t.line===r.position.line&&(r.position=new s.Position(r.position.line,r.position.character+1))),t="\n"===n?new s.Position(t.line+1,0):new s.Position(t.line,t.character+1);else for(const n of e.text)t.isBefore(r.position)&&("\n"===n?r.position=new s.Position(r.position.line-1,r.position.character):t.line===r.position.line&&(r.position=new s.Position(r.position.line,r.position.character-1))),t="\n"===n?new s.Position(Math.max(t.line-1,0),99999):new s.Position(t.line,Math.max(t.character-1,0))}for(const e of t)e.position.isAfter(a.TextEditor.getDocumentEnd())&&(e.position=a.TextEditor.getDocumentEnd());return t}updateMarks(){const e=this.updateAndReturnMarks();this.currentHistoryStep.marks=e.filter(e=>!e.isUppercaseMark),e.filter(e=>e.isUppercaseMark).forEach(this.putMarkInList.bind)}getMarkList(e){return e?d.globalMarks:this.currentHistoryStep.marks}getAllCurrentDocumentMarks(){const e=d.globalMarks.filter(e=>e.editor===i.window.activeTextEditor);return[...this.currentHistoryStep.marks,...e]}addMark(e,t){const r=t.toUpperCase()===t,n={position:e,name:t,isUppercaseMark:r,editor:r?i.window.activeTextEditor:void 0};this.putMarkInList(n)}putMarkInList(e){const t=this.getMarkList(e.isUppercaseMark),r=t.findIndex(t=>t.name===e.name);-1!==r?t[r]=e:t.push(e)}getMark(e){return this.getMarkList(e.toUpperCase()===e).find(t=>t.name===e)}getLocalMarks(){return[...this.currentHistoryStep.marks]}getGlobalMarks(){return[...d.globalMarks]}getMarks(){return[...this.currentHistoryStep.marks,...d.globalMarks]}_isDocumentTextNeeded(){if(this._getDocumentVersion()===this.previousDocumentState.versionNumber)return!1;const e=this.currentMode!==this.vimState.currentMode,t=this.currentHistoryStepIndex===this.historySteps.length-1&&this.currentHistoryStep.isFinished||this.currentHistoryStepIndex!==this.historySteps.length-1;return e&&(this.currentMode=this.vimState.currentMode),t||e}addChange(e=[new s.Position(0,0)]){if(!this._isDocumentTextNeeded())return;const t=this._getDocumentText();if(t===this.previousDocumentState.text)return;this.currentHistoryStepIndex===this.historySteps.length-1&&this.currentHistoryStep.isFinished?this._addNewHistoryStep():this.currentHistoryStepIndex!==this.historySteps.length-1&&(this.historySteps=this.historySteps.slice(0,this.currentHistoryStepIndex+1),this._addNewHistoryStep());const r=u.diff_main(this.previousDocumentState.text,t);u.diff_cleanupEfficiency(r);let i=new s.Position(0,0);for(const t of r){const[r,s]=t,o=r===n.DIFF_INSERT,a=r===n.DIFF_DELETE;let c;(o||a)&&(c=new l(i,s,!!o),this.currentHistoryStep.changes.push(c),c&&void 0===this.currentHistoryStep.cursorStart&&(this.currentHistoryStep.cursorStart=e)),a||(i=i.advancePositionByText(s))}this.currentHistoryStep.cursorEnd=e,this.previousDocumentState={text:t,versionNumber:this._getDocumentVersion()},this.changelistIndex=this.historySteps.length-1}async undoAndRemoveChanges(e){var t;if(this.currentContentChanges.length<e)return void this._logger.warn("Something bad happened in removeChange");if(0===e)return;const r=this.currentContentChanges.splice(this.currentContentChanges.length-e,this.currentContentChanges.length);await(null===(t=i.window.activeTextEditor)||void 0===t?void 0:t.edit(e=>{for(const t of r.reverse())e.delete(new i.Range(t.range.start,t.range.end.translate({characterDelta:1})))})),this.currentContentChanges.splice(this.currentContentChanges.length-r.length,r.length)}ignoreChange(){this.previousDocumentState={text:this._getDocumentText(),versionNumber:this._getDocumentVersion()}}finishCurrentStep(){0===this.currentHistoryStep.changes.length||this.currentHistoryStep.isFinished||(this.currentHistoryStep.isFinished=!0,this.currentHistoryStep.timestamp=new Date,this.currentHistoryStep.merge(),this.currentHistoryStep.marks=this.updateAndReturnMarks())}async goBackHistoryStep(){if(0===this.currentHistoryStepIndex)return;if(0===this.currentHistoryStep.changes.length&&(this.currentHistoryStepIndex--,0===this.currentHistoryStepIndex))return;const e=this.currentHistoryStep;for(const t of e.changes.slice(0).reverse())await t.undo();const t=1===e.changes.length?"1 change":e.changes.length+" changes";return c.StatusBar.setText(this.vimState,`${t}; before #${this.currentHistoryStepIndex}  ${e.howLongAgo()}`),this.currentHistoryStepIndex--,e&&e.cursorStart}async goBackHistoryStepsOnLine(){let e=!1,t=0,r=[];if(0===this.currentHistoryStepIndex)return;if(0===this.currentHistoryStep.changes.length&&(this.currentHistoryStepIndex--,0===this.currentHistoryStepIndex))return;let n=this.currentHistoryStep.changes[0],i=this.currentHistoryStep.changes[this.currentHistoryStep.changes.length-1].start.line;const o=this.currentHistoryStep.changes[0].text;o.includes("\n")&&"\n"!==o&&"\r\n"!==o&&i++;for(const o of this.historySteps.slice(1,this.currentHistoryStepIndex+1).reverse()){for(let a of o.changes.reverse()){if(a.text.includes("\n")&&a.start.line+1===i&&(e=!0,a=new l(new s.Position(a.start.line+1,0),a.text.replace("\n","").replace("\r",""),a.isAdd),t++),a.text.includes("\n")||a.start.line!==i){e=!0;break}if(r.push(a),n=a,e)break}if(e)break;t++}for(const e of r)await e.undo(),e.isAdd=!e.isAdd;for(let e=t;e>0;e--)this.historySteps.pop();const a=new d({isFinished:!0,cursorStart:[n.start],cursorEnd:[n.start]});return a.changes=r,this.historySteps.push(a),this.currentHistoryStepIndex=this.currentHistoryStepIndex-t+1,n&&[n.start]}async goForwardHistoryStep(){if(this.currentHistoryStepIndex===this.historySteps.length-1)return;this.currentHistoryStepIndex++;const e=this.currentHistoryStep;for(const t of e.changes)await t.do();const t=1===e.changes.length?"1 change":e.changes.length+" changes";return c.StatusBar.setText(this.vimState,`${t}; after #${this.currentHistoryStepIndex}  ${e.howLongAgo()}`),e.cursorStart}getLastChangeEndPosition(){if(0===this.currentHistoryStepIndex)return;const e=this.currentHistoryStep.changes.length;if(0===e)return;const t=this.currentHistoryStep.changes[e-1];return t.isAdd?t.end:t.start}getLastHistoryStartPosition(){if(0!==this.currentHistoryStepIndex)return this.currentHistoryStep.cursorStart}getLastChangeStartPosition(){if(0===this.currentHistoryStepIndex)return;const e=this.currentHistoryStep.changes.length;return 0!==e?this.currentHistoryStep.changes[e-1].start:void 0}setLastHistoryEndPosition(e){this.currentHistoryStep.cursorEnd=e}getChangePositionAtIndex(e){if(0!==this.currentHistoryStepIndex)return void 0!==this.historySteps[e]&&this.historySteps[e].changes.length>0?this.historySteps[e].changes[0].isAdd?[this.historySteps[e].changes[0].end]:[this.historySteps[e].changes[0].start]:void 0}toString(){let e="";for(let t=0;t<this.historySteps.length;t++){const r=this.historySteps[t];e+=r.changes.map(e=>e.text.replace(/\n/g,"\\n")).join(""),this.currentHistoryStepIndex===t&&(e+="+"),r.isFinished&&(e+=""),e+="| "}return e}}},function(e,t){var r=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};r.Diff=function(e,t){return[e,t]},r.prototype.diff_main=function(e,t,n,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var s=i;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[new r.Diff(0,e)]:[];void 0===n&&(n=!0);var o=n,a=this.diff_commonPrefix(e,t),c=e.substring(0,a);e=e.substring(a),t=t.substring(a),a=this.diff_commonSuffix(e,t);var u=e.substring(e.length-a);e=e.substring(0,e.length-a),t=t.substring(0,t.length-a);var l=this.diff_compute_(e,t,o,s);return c&&l.unshift(new r.Diff(0,c)),u&&l.push(new r.Diff(0,u)),this.diff_cleanupMerge(l),l},r.prototype.diff_compute_=function(e,t,n,i){var s;if(!e)return[new r.Diff(1,t)];if(!t)return[new r.Diff(-1,e)];var o=e.length>t.length?e:t,a=e.length>t.length?t:e,c=o.indexOf(a);if(-1!=c)return s=[new r.Diff(1,o.substring(0,c)),new r.Diff(0,a),new r.Diff(1,o.substring(c+a.length))],e.length>t.length&&(s[0][0]=s[2][0]=-1),s;if(1==a.length)return[new r.Diff(-1,e),new r.Diff(1,t)];var u=this.diff_halfMatch_(e,t);if(u){var l=u[0],d=u[1],h=u[2],f=u[3],p=u[4],g=this.diff_main(l,h,n,i),m=this.diff_main(d,f,n,i);return g.concat([new r.Diff(0,p)],m)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},r.prototype.diff_lineMode_=function(e,t,n){var i=this.diff_linesToChars_(e,t);e=i.chars1,t=i.chars2;var s=i.lineArray,o=this.diff_main(e,t,!1,n);this.diff_charsToLines_(o,s),this.diff_cleanupSemantic(o),o.push(new r.Diff(0,""));for(var a=0,c=0,u=0,l="",d="";a<o.length;){switch(o[a][0]){case 1:u++,d+=o[a][1];break;case-1:c++,l+=o[a][1];break;case 0:if(c>=1&&u>=1){o.splice(a-c-u,c+u),a=a-c-u;for(var h=this.diff_main(l,d,!1,n),f=h.length-1;f>=0;f--)o.splice(a,0,h[f]);a+=h.length}u=0,c=0,l="",d=""}a++}return o.pop(),o},r.prototype.diff_bisect_=function(e,t,n){for(var i=e.length,s=t.length,o=Math.ceil((i+s)/2),a=o,c=2*o,u=new Array(c),l=new Array(c),d=0;d<c;d++)u[d]=-1,l[d]=-1;u[a+1]=0,l[a+1]=0;for(var h=i-s,f=h%2!=0,p=0,g=0,m=0,v=0,y=0;y<o&&!((new Date).getTime()>n);y++){for(var w=-y+p;w<=y-g;w+=2){for(var b=a+w,x=(E=w==-y||w!=y&&u[b-1]<u[b+1]?u[b+1]:u[b-1]+1)-w;E<i&&x<s&&e.charAt(E)==t.charAt(x);)E++,x++;if(u[b]=E,E>i)g+=2;else if(x>s)p+=2;else if(f){if((M=a+h-w)>=0&&M<c&&-1!=l[M])if(E>=(S=i-l[M]))return this.diff_bisectSplit_(e,t,E,x,n)}}for(var C=-y+m;C<=y-v;C+=2){for(var S,M=a+C,_=(S=C==-y||C!=y&&l[M-1]<l[M+1]?l[M+1]:l[M-1]+1)-C;S<i&&_<s&&e.charAt(i-S-1)==t.charAt(s-_-1);)S++,_++;if(l[M]=S,S>i)v+=2;else if(_>s)m+=2;else if(!f){if((b=a+h-C)>=0&&b<c&&-1!=u[b]){var E;x=a+(E=u[b])-b;if(E>=(S=i-S))return this.diff_bisectSplit_(e,t,E,x,n)}}}}return[new r.Diff(-1,e),new r.Diff(1,t)]},r.prototype.diff_bisectSplit_=function(e,t,r,n,i){var s=e.substring(0,r),o=t.substring(0,n),a=e.substring(r),c=t.substring(n),u=this.diff_main(s,o,!1,i),l=this.diff_main(a,c,!1,i);return u.concat(l)},r.prototype.diff_linesToChars_=function(e,t){var r=[],n={};function i(e){for(var t="",i=0,o=-1,a=r.length;o<e.length-1;){-1==(o=e.indexOf("\n",i))&&(o=e.length-1);var c=e.substring(i,o+1);(n.hasOwnProperty?n.hasOwnProperty(c):void 0!==n[c])?t+=String.fromCharCode(n[c]):(a==s&&(c=e.substring(i),o=e.length),t+=String.fromCharCode(a),n[c]=a,r[a++]=c),i=o+1}return t}r[0]="";var s=4e4,o=i(e);return s=65535,{chars1:o,chars2:i(t),lineArray:r}},r.prototype.diff_charsToLines_=function(e,t){for(var r=0;r<e.length;r++){for(var n=e[r][1],i=[],s=0;s<n.length;s++)i[s]=t[n.charCodeAt(s)];e[r][1]=i.join("")}},r.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,s=0;r<i;)e.substring(s,i)==t.substring(s,i)?s=r=i:n=i,i=Math.floor((n-r)/2+r);return i},r.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,s=0;r<i;)e.substring(e.length-i,e.length-s)==t.substring(t.length-i,t.length-s)?s=r=i:n=i,i=Math.floor((n-r)/2+r);return i},r.prototype.diff_commonOverlap_=function(e,t){var r=e.length,n=t.length;if(0==r||0==n)return 0;r>n?e=e.substring(r-n):r<n&&(t=t.substring(0,r));var i=Math.min(r,n);if(e==t)return i;for(var s=0,o=1;;){var a=e.substring(i-o),c=t.indexOf(a);if(-1==c)return s;o+=c,0!=c&&e.substring(i-o)!=t.substring(0,o)||(s=o,o++)}},r.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;var i=this;function s(e,t,r){for(var n,s,o,a,c=e.substring(r,r+Math.floor(e.length/4)),u=-1,l="";-1!=(u=t.indexOf(c,u+1));){var d=i.diff_commonPrefix(e.substring(r),t.substring(u)),h=i.diff_commonSuffix(e.substring(0,r),t.substring(0,u));l.length<h+d&&(l=t.substring(u-h,u)+t.substring(u,u+d),n=e.substring(0,r-h),s=e.substring(r+d),o=t.substring(0,u-h),a=t.substring(u+d))}return 2*l.length>=e.length?[n,s,o,a,l]:null}var o,a,c,u,l,d=s(r,n,Math.ceil(r.length/4)),h=s(r,n,Math.ceil(r.length/2));return d||h?(o=h?d&&d[4].length>h[4].length?d:h:d,e.length>t.length?(a=o[0],c=o[1],u=o[2],l=o[3]):(u=o[0],l=o[1],a=o[2],c=o[3]),[a,c,u,l,o[4]]):null},r.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],i=0,s=null,o=0,a=0,c=0,u=0,l=0;o<e.length;)0==e[o][0]?(n[i++]=o,a=u,c=l,u=0,l=0,s=e[o][1]):(1==e[o][0]?u+=e[o][1].length:l+=e[o][1].length,s&&s.length<=Math.max(a,c)&&s.length<=Math.max(u,l)&&(e.splice(n[i-1],0,new r.Diff(-1,s)),e[n[i-1]+1][0]=1,i--,o=--i>0?n[i-1]:-1,a=0,c=0,u=0,l=0,s=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(-1==e[o-1][0]&&1==e[o][0]){var d=e[o-1][1],h=e[o][1],f=this.diff_commonOverlap_(d,h),p=this.diff_commonOverlap_(h,d);f>=p?(f>=d.length/2||f>=h.length/2)&&(e.splice(o,0,new r.Diff(0,h.substring(0,f))),e[o-1][1]=d.substring(0,d.length-f),e[o+1][1]=h.substring(f),o++):(p>=d.length/2||p>=h.length/2)&&(e.splice(o,0,new r.Diff(0,d.substring(0,p))),e[o-1][0]=1,e[o-1][1]=h.substring(0,h.length-p),e[o+1][0]=-1,e[o+1][1]=d.substring(p),o++),o++}o++}},r.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),s=n.match(r.nonAlphaNumericRegex_),o=i.match(r.nonAlphaNumericRegex_),a=s&&n.match(r.whitespaceRegex_),c=o&&i.match(r.whitespaceRegex_),u=a&&n.match(r.linebreakRegex_),l=c&&i.match(r.linebreakRegex_),d=u&&e.match(r.blanklineEndRegex_),h=l&&t.match(r.blanklineStartRegex_);return d||h?5:u||l?4:s&&!a&&c?3:a||c?2:s||o?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var i=e[n-1][1],s=e[n][1],o=e[n+1][1],a=this.diff_commonSuffix(i,s);if(a){var c=s.substring(s.length-a);i=i.substring(0,i.length-a),s=c+s.substring(0,s.length-a),o=c+o}for(var u=i,l=s,d=o,h=t(i,s)+t(s,o);s.charAt(0)===o.charAt(0);){i+=s.charAt(0),s=s.substring(1)+o.charAt(0),o=o.substring(1);var f=t(i,s)+t(s,o);f>=h&&(h=f,u=i,l=s,d=o)}e[n-1][1]!=u&&(u?e[n-1][1]=u:(e.splice(n-1,1),n--),e[n][1]=l,d?e[n+1][1]=d:(e.splice(n+1,1),n--))}n++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],i=0,s=null,o=0,a=!1,c=!1,u=!1,l=!1;o<e.length;)0==e[o][0]?(e[o][1].length<this.Diff_EditCost&&(u||l)?(n[i++]=o,a=u,c=l,s=e[o][1]):(i=0,s=null),u=l=!1):(-1==e[o][0]?l=!0:u=!0,s&&(a&&c&&u&&l||s.length<this.Diff_EditCost/2&&a+c+u+l==3)&&(e.splice(n[i-1],0,new r.Diff(-1,s)),e[n[i-1]+1][0]=1,i--,s=null,a&&c?(u=l=!0,i=0):(o=--i>0?n[i-1]:-1,u=l=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},r.prototype.diff_cleanupMerge=function(e){e.push(new r.Diff(0,""));for(var t,n=0,i=0,s=0,o="",a="";n<e.length;)switch(e[n][0]){case 1:s++,a+=e[n][1],n++;break;case-1:i++,o+=e[n][1],n++;break;case 0:i+s>1?(0!==i&&0!==s&&(0!==(t=this.diff_commonPrefix(a,o))&&(n-i-s>0&&0==e[n-i-s-1][0]?e[n-i-s-1][1]+=a.substring(0,t):(e.splice(0,0,new r.Diff(0,a.substring(0,t))),n++),a=a.substring(t),o=o.substring(t)),0!==(t=this.diff_commonSuffix(a,o))&&(e[n][1]=a.substring(a.length-t)+e[n][1],a=a.substring(0,a.length-t),o=o.substring(0,o.length-t))),n-=i+s,e.splice(n,i+s),o.length&&(e.splice(n,0,new r.Diff(-1,o)),n++),a.length&&(e.splice(n,0,new r.Diff(1,a)),n++),n++):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,s=0,i=0,o="",a=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),c=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),c=!0)),n++;c&&this.diff_cleanupMerge(e)},r.prototype.diff_xIndex=function(e,t){var r,n=0,i=0,s=0,o=0;for(r=0;r<e.length&&(1!==e[r][0]&&(n+=e[r][1].length),-1!==e[r][0]&&(i+=e[r][1].length),!(n>t));r++)s=n,o=i;return e.length!=r&&-1===e[r][0]?o:o+(t-s)},r.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,n=/</g,i=/>/g,s=/\n/g,o=0;o<e.length;o++){var a=e[o][0],c=e[o][1].replace(r,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(s,"&para;<br>");switch(a){case 1:t[o]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case-1:t[o]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:t[o]="<span>"+c+"</span>"}}return t.join("")},r.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},r.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)-1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},r.prototype.diff_levenshtein=function(e){for(var t=0,r=0,n=0,i=0;i<e.length;i++){var s=e[i][0],o=e[i][1];switch(s){case 1:r+=o.length;break;case-1:n+=o.length;break;case 0:t+=Math.max(r,n),r=0,n=0}}return t+=Math.max(r,n)},r.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]="+"+encodeURI(e[r][1]);break;case-1:t[r]="-"+e[r][1].length;break;case 0:t[r]="="+e[r][1].length}return t.join("\t").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(e,t){for(var n=[],i=0,s=0,o=t.split(/\t/g),a=0;a<o.length;a++){var c=o[a].substring(1);switch(o[a].charAt(0)){case"+":try{n[i++]=new r.Diff(1,decodeURI(c))}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var u=parseInt(c,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+c);var l=e.substring(s,s+=u);"="==o[a].charAt(0)?n[i++]=new r.Diff(0,l):n[i++]=new r.Diff(-1,l);break;default:if(o[a])throw new Error("Invalid diff operation in diff_fromDelta: "+o[a])}}if(s!=e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+").");return n},r.prototype.match_main=function(e,t,r){if(null==e||null==t||null==r)throw new Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,e.length)),e==t?0:e.length?e.substring(r,r+t.length)==t?r:this.match_bitap_(e,t,r):-1},r.prototype.match_bitap_=function(e,t,r){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var n=this.match_alphabet_(t),i=this;function s(e,n){var s=e/t.length,o=Math.abs(r-n);return i.Match_Distance?s+o/i.Match_Distance:o?1:s}var o=this.Match_Threshold,a=e.indexOf(t,r);-1!=a&&(o=Math.min(s(0,a),o),-1!=(a=e.lastIndexOf(t,r+t.length))&&(o=Math.min(s(0,a),o)));var c,u,l=1<<t.length-1;a=-1;for(var d,h=t.length+e.length,f=0;f<t.length;f++){for(c=0,u=h;c<u;)s(f,r+u)<=o?c=u:h=u,u=Math.floor((h-c)/2+c);h=u;var p=Math.max(1,r-u+1),g=Math.min(r+u,e.length)+t.length,m=Array(g+2);m[g+1]=(1<<f)-1;for(var v=g;v>=p;v--){var y=n[e.charAt(v-1)];if(m[v]=0===f?(m[v+1]<<1|1)&y:(m[v+1]<<1|1)&y|(d[v+1]|d[v])<<1|1|d[v+1],m[v]&l){var w=s(f,v-1);if(w<=o){if(o=w,!((a=v-1)>r))break;p=Math.max(1,2*r-a)}}}if(s(f+1,r)>o)break;d=m}return a},r.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},r.prototype.patch_addContext_=function(e,t){if(0!=t.length){if(null===e.start2)throw Error("patch not initialized");for(var n=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var s=t.substring(e.start2-i,e.start2);s&&e.diffs.unshift(new r.Diff(0,s));var o=t.substring(e.start2+e.length1,e.start2+e.length1+i);o&&e.diffs.push(new r.Diff(0,o)),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+o.length,e.length2+=s.length+o.length}},r.prototype.patch_make=function(e,t,n){var i,s;if("string"==typeof e&&"string"==typeof t&&void 0===n)i=e,(s=this.diff_main(i,t,!0)).length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&"object"==typeof e&&void 0===t&&void 0===n)s=e,i=this.diff_text1(s);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===n)i=e,s=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");i=e,s=n}if(0===s.length)return[];for(var o=[],a=new r.patch_obj,c=0,u=0,l=0,d=i,h=i,f=0;f<s.length;f++){var p=s[f][0],g=s[f][1];switch(c||0===p||(a.start1=u,a.start2=l),p){case 1:a.diffs[c++]=s[f],a.length2+=g.length,h=h.substring(0,l)+g+h.substring(l);break;case-1:a.length1+=g.length,a.diffs[c++]=s[f],h=h.substring(0,l)+h.substring(l+g.length);break;case 0:g.length<=2*this.Patch_Margin&&c&&s.length!=f+1?(a.diffs[c++]=s[f],a.length1+=g.length,a.length2+=g.length):g.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(a,d),o.push(a),a=new r.patch_obj,c=0,d=h,u=l)}1!==p&&(u+=g.length),-1!==p&&(l+=g.length)}return c&&(this.patch_addContext_(a,d),o.push(a)),o},r.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],s=new r.patch_obj;s.diffs=[];for(var o=0;o<i.diffs.length;o++)s.diffs[o]=new r.Diff(i.diffs[o][0],i.diffs[o][1]);s.start1=i.start1,s.start2=i.start2,s.length1=i.length1,s.length2=i.length2,t[n]=s}return t},r.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var n=0,i=[],s=0;s<e.length;s++){var o,a,c=e[s].start2+n,u=this.diff_text1(e[s].diffs),l=-1;if(u.length>this.Match_MaxBits?-1!=(o=this.match_main(t,u.substring(0,this.Match_MaxBits),c))&&(-1==(l=this.match_main(t,u.substring(u.length-this.Match_MaxBits),c+u.length-this.Match_MaxBits))||o>=l)&&(o=-1):o=this.match_main(t,u,c),-1==o)i[s]=!1,n-=e[s].length2-e[s].length1;else if(i[s]=!0,n=o-c,u==(a=-1==l?t.substring(o,o+u.length):t.substring(o,l+this.Match_MaxBits)))t=t.substring(0,o)+this.diff_text2(e[s].diffs)+t.substring(o+u.length);else{var d=this.diff_main(u,a,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(d)/u.length>this.Patch_DeleteThreshold)i[s]=!1;else{this.diff_cleanupSemanticLossless(d);for(var h,f=0,p=0;p<e[s].diffs.length;p++){var g=e[s].diffs[p];0!==g[0]&&(h=this.diff_xIndex(d,f)),1===g[0]?t=t.substring(0,o+h)+g[1]+t.substring(o+h):-1===g[0]&&(t=t.substring(0,o+h)+t.substring(o+this.diff_xIndex(d,f+g[1].length))),-1!==g[0]&&(f+=g[1].length)}}}}return[t=t.substring(r.length,t.length-r.length),i]},r.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",i=1;i<=t;i++)n+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var s=e[0],o=s.diffs;if(0==o.length||0!=o[0][0])o.unshift(new r.Diff(0,n)),s.start1-=t,s.start2-=t,s.length1+=t,s.length2+=t;else if(t>o[0][1].length){var a=t-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],s.start1-=a,s.start2-=a,s.length1+=a,s.length2+=a}if(0==(o=(s=e[e.length-1]).diffs).length||0!=o[o.length-1][0])o.push(new r.Diff(0,n)),s.length1+=t,s.length2+=t;else if(t>o[o.length-1][1].length){a=t-o[o.length-1][1].length;o[o.length-1][1]+=n.substring(0,a),s.length1+=a,s.length2+=a}return n},r.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var i=e[n];e.splice(n--,1);for(var s=i.start1,o=i.start2,a="";0!==i.diffs.length;){var c=new r.patch_obj,u=!0;for(c.start1=s-a.length,c.start2=o-a.length,""!==a&&(c.length1=c.length2=a.length,c.diffs.push(new r.Diff(0,a)));0!==i.diffs.length&&c.length1<t-this.Patch_Margin;){var l=i.diffs[0][0],d=i.diffs[0][1];1===l?(c.length2+=d.length,o+=d.length,c.diffs.push(i.diffs.shift()),u=!1):-1===l&&1==c.diffs.length&&0==c.diffs[0][0]&&d.length>2*t?(c.length1+=d.length,s+=d.length,u=!1,c.diffs.push(new r.Diff(l,d)),i.diffs.shift()):(d=d.substring(0,t-c.length1-this.Patch_Margin),c.length1+=d.length,s+=d.length,0===l?(c.length2+=d.length,o+=d.length):u=!1,c.diffs.push(new r.Diff(l,d)),d==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(d.length))}a=(a=this.diff_text2(c.diffs)).substring(a.length-this.Patch_Margin);var h=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==h&&(c.length1+=h.length,c.length2+=h.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=h:c.diffs.push(new r.Diff(0,h))),u||e.splice(++n,0,c)}}},r.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},r.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split("\n"),i=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var o=n[i].match(s);if(!o)throw new Error("Invalid patch string: "+n[i]);var a=new r.patch_obj;for(t.push(a),a.start1=parseInt(o[1],10),""===o[2]?(a.start1--,a.length1=1):"0"==o[2]?a.length1=0:(a.start1--,a.length1=parseInt(o[2],10)),a.start2=parseInt(o[3],10),""===o[4]?(a.start2--,a.length2=1):"0"==o[4]?a.length2=0:(a.start2--,a.length2=parseInt(o[4],10)),i++;i<n.length;){var c=n[i].charAt(0);try{var u=decodeURI(n[i].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==c)a.diffs.push(new r.Diff(-1,u));else if("+"==c)a.diffs.push(new r.Diff(1,u));else if(" "==c)a.diffs.push(new r.Diff(0,u));else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+u)}i++}}return t},(r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}t[r+1]=e+encodeURI(this.diffs[r][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=r,e.exports.diff_match_patch=r,e.exports.DIFF_DELETE=-1,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputMethodSwitcher=void 0;const n=r(28),i=r(12),s=r(6),o=r(2);t.InputMethodSwitcher=class{constructor(e=n.executeShell){this.logger=i.Logger.get("IMSwitcher"),this.savedIMKey="",this.execute=e}async switchInputMethod(e,t){if(!0!==o.configuration.autoSwitchInputMethod.enable)return;let r=this.isInsertLikeMode(e),n=this.isInsertLikeMode(t);r!==n&&(n?await this.resumeIM():await this.switchToDefaultIM())}async switchToDefaultIM(){const e=o.configuration.autoSwitchInputMethod.obtainIMCmd;try{const t=await this.execute(e);void 0!==t&&(this.savedIMKey=t.trim())}catch(e){this.logger.error("Error switching to default IM. err="+e)}const t=o.configuration.autoSwitchInputMethod.defaultIM;t!==this.savedIMKey&&await this.switchToIM(t)}async resumeIM(){this.savedIMKey!==o.configuration.autoSwitchInputMethod.defaultIM&&await this.switchToIM(this.savedIMKey)}async switchToIM(e){let t=o.configuration.autoSwitchInputMethod.switchIMCmd;if(""!==e&&void 0!==e){t=t.replace("{im}",e);try{await this.execute(t)}catch(e){this.logger.error("Error switching to IM. err="+e)}}}isInsertLikeMode(e){return[s.Mode.Insert,s.Mode.Replace,s.Mode.SurroundInputMode].includes(e)}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.NeovimWrapper=void 0;const n=r(7),i=r(0),s=r(12),o=r(3),a=r(15),c=r(4),u=r(2),l=r(21),d=r(25),h=r(48),f=r(338);t.NeovimWrapper=class{constructor(){this.logger=s.Logger.get("Neovim"),this.processTimeoutInSeconds=3}async run(e,t){if(!this.nvim){this.nvim=await this.startNeovim();try{const e=this.nvim.uiAttach(80,20,{ext_cmdline:!1,ext_popupmenu:!1,ext_tabline:!1,ext_wildmenu:!1,rgb:!1}),t=new Promise((e,t)=>{setTimeout(()=>t(new Error("Timeout")),1e3*this.processTimeoutInSeconds)});await Promise.race([e,t])}catch(e){throw u.configuration.enableNeovim=!1,new Error("Failed to attach to neovim process. "+e.message)}const e=(await this.nvim.apiInfo)[1].version;this.logger.debug(`version: ${e.major}.${e.minor}.${e.patch}`)}await this.syncVSCodeToVim(e),t=(":"+t+"\n").replace("<","<lt>"),await this.nvim.command('let v:errmsg="" | let v:statusmsg=""'),this.logger.debug(`Running ${t}.`),await this.nvim.input(t),(await this.nvim.mode).blocking&&await this.nvim.input("<esc>");const r=await this.nvim.getVvar("errmsg");let n="",i=!1;if(r&&""!==r.toString())n=r.toString(),i=!0;else{const e=await this.nvim.getVvar("statusmsg");e&&""!==e.toString()&&(n=e.toString())}return await this.syncVimToVSCode(e),{statusBarText:n,error:i}}async startNeovim(){this.logger.debug("Spawning Neovim process...");let t=l.dirname(i.window.activeTextEditor.document.uri.fsPath);return await n.promisify(d.exists)(t)||(t=e),this.process=h.spawn(u.configuration.neovimPath,["-u","NONE","-i","NONE","-n","--embed"],{cwd:t}),this.process.on("error",e=>{this.logger.error(`Error spawning neovim. ${e.message}.`),u.configuration.enableNeovim=!1}),f.attach({proc:this.process})}async syncVSCodeToVim(e){const t=await this.nvim.buffer;u.configuration.expandtab&&await i.commands.executeCommand("editor.action.indentationToTabs"),await this.nvim.setOption("gdefault",!0===u.configuration.gdefault),await t.setLines(c.TextEditor.getText().split("\n"),{start:0,end:-1,strictIndexing:!0});const[r,n]=o.sorted(e.cursorStartPosition,e.cursorStopPosition);await this.nvim.callFunction("setpos",[".",[0,e.cursorStopPosition.line+1,e.cursorStopPosition.character,!1]]),await this.nvim.callFunction("setpos",["'<",[0,r.line+1,n.character,!1]]),await this.nvim.callFunction("setpos",["'>",[0,n.line+1,n.character,!1]]);for(const t of e.historyTracker.getLocalMarks())await this.nvim.callFunction("setpos",["'"+t.name,[0,t.position.line+1,t.position.character,!1]]);let s=await a.Register.get(e),l=[void 0,"c","l","b"];await this.nvim.callFunction("setreg",['"',s.text,l[e.effectiveRegisterMode]])}async syncVimToVSCode(e){const t=await this.nvim.buffer,r=await t.getLines({start:0,end:-1,strictIndexing:!1}),n="win32"===process.platform?r.map((e,t)=>e.replace(/\r$/,"")):r,s=c.TextEditor.getLineCount();await c.TextEditor.replace(new i.Range(0,0,s-1,c.TextEditor.getLineLength(s-1)),n.join("\n")),this.logger.debug(`${r.length} lines in nvim. ${s} in editor.`);let[l,d]=(await this.nvim.callFunction("getpos",["."])).slice(1,3);e.editor.selection=new i.Selection(new o.Position(l-1,d),new o.Position(l-1,d)),u.configuration.expandtab&&await i.commands.executeCommand("editor.action.indentationToSpaces");const h={v:a.RegisterMode.CharacterWise,V:a.RegisterMode.LineWise,"":a.RegisterMode.BlockWise};e.currentRegisterMode=h[await this.nvim.callFunction("getregtype",['"'])],a.Register.put(await this.nvim.callFunction("getreg",['"']),e)}dispose(){this.nvim&&this.nvim.quit(),this.process&&this.process.kill()}}}).call(this,"/")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(339);t.attach=n.attach},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(340),i=r(341);t.attach=function({reader:e,writer:t,proc:s,socket:o,options:a={}}){let c,u;if(o){const e=n.createConnection(o);c=e,u=e}else e&&t?(c=t,u=e):s&&(c=s.stdin,u=s.stdout);if(c&&u){const e=a.logger||r(178).logger,t=new i.NeovimClient({logger:e});return t.attach({writer:c,reader:u}),t}throw new Error("Invalid arguments, could not attach")}},function(e,t){e.exports=require("net")},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(342),s=r(405);class o extends s.Neovim{constructor(e={}){super({logger:e.logger}),this.attachedBuffers=new Map;const t=e.transport||new i.Transport;this.setTransport(t),this.requestQueue=[],this.transportAttached=!1,this.handleRequest=this.handleRequest.bind(this),this.handleNotification=this.handleNotification.bind(this)}attach({reader:e,writer:t}){this.transport.attach(t,e,this),this.transportAttached=!0,this.setupTransport()}get isApiReady(){return this.transportAttached&&void 0!==this._channelId}get channelId(){return(()=>n(this,void 0,void 0,(function*(){return yield this._isReady,this._channelId})))()}isAttached(e){const t=""+e.data;return this.attachedBuffers.has(t)}handleRequest(e,t,r,...n){this.logger.info("handleRequest: ",e),this.isApiReady||"specs"===e?this.emit("request",e,t,r):this.requestQueue.push({type:"request",args:[e,t,r,...n]})}emitNotification(e,t){if(e.endsWith("_event")){if(!e.startsWith("nvim_buf_"))return void this.logger.error("Unhandled event: ",e);const r=e.replace(/nvim_buf_(.*)_event/,"$1"),[n]=t,i=""+n.data;if(!this.attachedBuffers.has(i))return;(this.attachedBuffers.get(i).get(r)||[]).forEach(e=>e(...t)),"detach"===r&&this.attachedBuffers.delete(i)}else this.emit("notification",e,t)}handleNotification(e,t,...r){this.logger.info("handleNotification: ",e),this.isApiReady?this.emitNotification(e,t):this.requestQueue.push({type:"notification",args:[e,t,...r]})}setupTransport(){if(!this.transportAttached)throw new Error("Not attached to input/output");this.transport.on("request",this.handleRequest),this.transport.on("notification",this.handleNotification),this.transport.on("detach",()=>{this.emit("disconnect"),this.transport.removeAllListeners("request"),this.transport.removeAllListeners("notification"),this.transport.removeAllListeners("detach")}),this._isReady=this.generateApi()}requestApi(){return new Promise((e,t)=>{this.transport.request("nvim_get_api_info",[],(r,n)=>{r?t(r):e(n)})})}generateApi(){return n(this,void 0,void 0,(function*(){let e;try{e=yield this.requestApi()}catch(e){this.logger.error("Could not get vim api results"),this.logger.error(e)}if(e)try{const[t]=e;return this._channelId=t,this.requestQueue.forEach(e=>{"notification"===e.type?this.emitNotification(e.args[0],e.args[1]):this.emit(e.type,...e.args)}),this.requestQueue=[],!0}catch(e){return this.logger.error("Could not dynamically generate neovim API: "+e,{error:e}),this.logger.error(e.stack),null}return null}))}attachBuffer(e,t,r){const n=""+e.data;this.attachedBuffers.has(n)||this.attachedBuffers.set(n,new Map);const i=this.attachedBuffers.get(n);i.get(t)||i.set(t,[]);const s=i.get(t);return-1!==s.indexOf(r)||(s.push(r),i.set(t,s),this.attachedBuffers.set(n,i)),r}detachBuffer(e,t,r){const n=""+e.data,i=this.attachedBuffers.get(n);if(!i)return!1;const s=(i.get(t)||[]).filter(e=>e!==r);return s.length?i.set(t,s):i.delete(t),!i.size&&(this.attachedBuffers.delete(n),!0)}}t.NeovimClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(53),i=r(343),s=r(65);class o{constructor(e,t){this.encoder=e,this.requestId=t}send(e,t){if(this.sent)throw new Error(`Response to id ${this.requestId} already sent`);const r=i.encode([1,this.requestId,t?e:null,t?null:e]);this.encoder.write(Buffer.from(r.buffer,r.byteOffset,r.byteLength)),this.sent=!0}}class a extends n.EventEmitter{constructor(){super(...arguments),this.pending=new Map,this.nextRequestId=1,this.extensionCodec=this.initializeExtensionCodec()}initializeExtensionCodec(){const e=new i.ExtensionCodec;return s.Metadata.forEach(({constructor:t},r)=>{e.register({type:r,encode:e=>e instanceof t?i.encode(e.data):null,decode:e=>new t({transport:this,client:this.client,data:i.decode(e)})})}),e}encodeToBuffer(e){const t=i.encode(e,{extensionCodec:this.extensionCodec});return Buffer.from(t.buffer,t.byteOffset,t.byteLength)}attach(e,t,r){this.writer=e,this.reader=t,this.client=r,this.reader.on("end",()=>{this.emit("detach")});const n=i.decodeStream(this.reader,{extensionCodec:this.extensionCodec}),s=e=>{e.next().then(t=>t.done?Promise.resolve():(this.parseMessage(t.value),s(e)))};s(n)}request(e,t,r){this.nextRequestId=this.nextRequestId+1,this.writer.write(this.encodeToBuffer([0,this.nextRequestId,e,t])),this.pending.set(this.nextRequestId,r)}notify(e,t){this.writer.write(this.encodeToBuffer([2,e,t]))}parseMessage(e){const t=e[0];if(0===t)this.emit("request",e[2].toString(),e[3],new o(this.writer,e[1]));else if(1===t){const t=e[1],r=this.pending.get(t);this.pending.delete(t),r(e[2],e[3])}else 2===t?this.emit("notification",e[1].toString(),e[2]):this.writer.write(this.encodeToBuffer([1,0,"Invalid message type",null]))}}t.Transport=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(344);Object.defineProperty(t,"encode",{enumerable:!0,get:function(){return n.encode}});var i=r(177);Object.defineProperty(t,"decode",{enumerable:!0,get:function(){return i.decode}});var s=r(347);Object.defineProperty(t,"decodeAsync",{enumerable:!0,get:function(){return s.decodeAsync}}),Object.defineProperty(t,"decodeArrayStream",{enumerable:!0,get:function(){return s.decodeArrayStream}}),Object.defineProperty(t,"decodeStream",{enumerable:!0,get:function(){return s.decodeStream}});var o=r(102);Object.defineProperty(t,"Decoder",{enumerable:!0,get:function(){return o.Decoder}});var a=r(173);Object.defineProperty(t,"Encoder",{enumerable:!0,get:function(){return a.Encoder}});var c=r(100);Object.defineProperty(t,"ExtensionCodec",{enumerable:!0,get:function(){return c.ExtensionCodec}});var u=r(174);Object.defineProperty(t,"ExtData",{enumerable:!0,get:function(){return u.ExtData}});var l=r(175);Object.defineProperty(t,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return l.EXT_TIMESTAMP}}),Object.defineProperty(t,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return l.encodeDateToTimeSpec}}),Object.defineProperty(t,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return l.encodeTimeSpecToTimestamp}}),Object.defineProperty(t,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return l.decodeTimestampToTimeSpec}}),Object.defineProperty(t,"encodeTimestampExtension",{enumerable:!0,get:function(){return l.encodeTimestampExtension}}),Object.defineProperty(t,"decodeTimestampExtension",{enumerable:!0,get:function(){return l.decodeTimestampExtension}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=void 0;const n=r(173),i={};t.encode=function(e,t=i){const r=new n.Encoder(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined);return r.encode(e,1),r.getUint8Array()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prettyByte=void 0,t.prettyByte=function(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CachedKeyDecoder=void 0;const n=r(99);t.CachedKeyDecoder=class{constructor(e=16,t=16){this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}get(e,t,r){const n=this.caches[r-1],i=n.length;e:for(let s=0;s<i;s++){const i=n[s],o=i.bytes;for(let n=0;n<r;n++)if(o[n]!==e[t+n])continue e;return i.value}return null}store(e,t){const r=this.caches[e.length-1],n={bytes:e,value:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)}decode(e,t,r){const i=this.get(e,t,r);if(null!=i)return i;const s=n.utf8DecodeJs(e,t,r),o=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(o,s),s}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeStream=t.decodeArrayStream=t.decodeAsync=void 0;const n=r(102),i=r(177),s=r(348);t.decodeAsync=async function(e,t=i.defaultDecodeOptions){const r=s.ensureAsyncIterabe(e);return new n.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeSingleAsync(r)},t.decodeArrayStream=function(e,t=i.defaultDecodeOptions){const r=s.ensureAsyncIterabe(e);return new n.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(r)},t.decodeStream=function(e,t=i.defaultDecodeOptions){const r=s.ensureAsyncIterabe(e);return new n.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(r)}},function(e,t,r){"use strict";function n(e){return null!=e[Symbol.asyncIterator]}function i(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}async function*s(e){const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)return;i(r),yield r}}finally{t.releaseLock()}}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureAsyncIterabe=t.asyncIterableFromStream=t.isAsyncIterable=void 0,t.isAsyncIterable=n,t.asyncIterableFromStream=s,t.ensureAsyncIterabe=function(e){return n(e)?e:s(e)}},function(e,t,r){"use strict";const n=r(20),{warn:i}=r(179),s=t;s.version=r(350).version,s.transports=r(351),s.config=r(108),s.addColors=n.levels,s.format=n.format,s.createLogger=r(193),s.ExceptionHandler=r(194),s.RejectionHandler=r(197),s.Container=r(404),s.Transport=r(17),s.loggers=new s.Container;const o=s.createLogger();Object.keys(s.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure"]).forEach(e=>s[e]=(...t)=>o[e](...t)),Object.defineProperty(s,"level",{get:()=>o.level,set(e){o.level=e}}),Object.defineProperty(s,"exceptions",{get:()=>o.exceptions}),["exitOnError"].forEach(e=>{Object.defineProperty(s,e,{get:()=>o[e],set(t){o[e]=t}})}),Object.defineProperty(s,"default",{get:()=>({exceptionHandlers:o.exceptionHandlers,rejectionHandlers:o.rejectionHandlers,transports:o.transports})}),i.deprecated(s,"setLevels"),i.forFunctions(s,"useFormat",["cli"]),i.forProperties(s,"useFormat",["padLevels","stripColors"]),i.forFunctions(s,"deprecated",["addRewriter","addFilter","clone","extend"]),i.forProperties(s,"deprecated",["emitErrs","levelLength"]),i.moved(s,"createLogger","Logger")},function(e){e.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.2.1","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^2.6.1","diagnostics":"^1.1.1","is-stream":"^1.1.0","logform":"^2.1.1","one-time":"0.0.4","readable-stream":"^3.1.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.3.0"},"devDependencies":{"@babel/cli":"^7.2.3","@babel/core":"^7.2.2","@babel/preset-env":"^7.3.1","@types/node":"^10.12.19","abstract-winston-transport":">= 0.5.1","assume":"^2.1.0","colors":"^1.3.3","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.3.3","mocha":"^5.2.0","nyc":"^13.1.0","rimraf":"^2.6.3","split2":"^3.1.0","std-mocks":"^1.0.1","through2":"^3.0.0","winston-compat":"^0.1.4"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT","_resolved":"https://registry.npmjs.org/winston/-/winston-3.2.1.tgz","_integrity":"sha512-zU6vgnS9dAWCEKg/QYigd6cgMVVNwyTzKs81XZtTFuRwJOcDdBg7AU0mXVyNbs7O5RH2zdv+BdNZUlx7mXPuOw==","_from":"winston@3.2.1"}')},function(e,t,r){"use strict";Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:()=>r(352)}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:()=>r(353)}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:()=>r(398)}),Object.defineProperty(t,"Stream",{configurable:!0,enumerable:!0,get:()=>r(399)})},function(e,t,r){"use strict";const n=r(14),{LEVEL:i,MESSAGE:s}=r(1),o=r(17);e.exports=class extends o{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=e.eol||n.EOL,this.setMaxListeners(30)}log(e,t){return setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[i]]?(console._stderr?console._stderr.write(`${e[s]}${this.eol}`):console.error(e[s]),void(t&&t())):this.consoleWarnLevels[e[i]]?(console._stderr?console._stderr.write(`${e[s]}${this.eol}`):console.warn(e[s]),void(t&&t())):(console._stdout?console._stdout.write(`${e[s]}${this.eol}`):console.log(e[s]),void(t&&t()))}_stringArrayToSet(e,t){if(!e)return{};if(t=t||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(t);return e.reduce((e,r)=>{if("string"!=typeof r)throw new Error(t);return e[r]=!0,e},{})}}},function(e,t,r){"use strict";const n=r(25),i=r(21),s=r(354),o=r(140),{MESSAGE:a}=r(1),{Stream:c,PassThrough:u}=r(24),l=r(17),d=r(68)("winston:file"),h=r(14),f=r(397);e.exports=class extends l{constructor(e={}){function t(t,...r){r.slice(1).forEach(r=>{if(e[r])throw new Error(`Cannot set ${r} and ${t} together`)})}if(super(e),this.name=e.name||"file",this._stream=new u,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)t("filename or dirname","stream"),this._basename=this.filename=e.filename?i.basename(e.filename):"winston.log",this.dirname=e.dirname||i.dirname(e.filename),this.options=e.options||{flags:"a"};else{if(!e.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),t("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=i.dirname(this._dest.path)}this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=e.eol||h.EOL,this.tailable=e.tailable||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,t=(()=>{})){if(this.silent)return t(),!0;if(this._drain)return void this._stream.once("drain",()=>{this._drain=!1,this.log(e,t)});if(this._rotate)return void this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,t)});const r=`${e[a]}${this.eol}`,n=Buffer.byteLength(r);this._pendingSize+=n,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);const i=this._stream.write(r,function(){this._size+=n,this._pendingSize-=n,d("logged %s %s",this._size,r),this.emit("logged",e),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(()=>this._rotateFile()))}.bind(this));return i?t():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,t()})),d("written",i,this._drain),this.finishIfEnding(),i}query(e,t){"function"==typeof e&&(t=e,e={}),e=function(e){(e=e||{}).rows=e.rows||e.limit||10,e.start=e.start||0,e.until=e.until||new Date,"object"!=typeof e.until&&(e.until=new Date(e.until));e.from=e.from||e.until-864e5,"object"!=typeof e.from&&(e.from=new Date(e.from));return e.order=e.order||"desc",e.fields=e.fields,e}(e);const r=i.join(this.dirname,this.filename);let s="",o=[],a=0;const c=n.createReadStream(r,{encoding:"utf8"});function u(t,r){try{const r=JSON.parse(t);(function(t){if(!t)return;if("object"!=typeof t)return;const r=new Date(t.timestamp);if(e.from&&r<e.from||e.until&&r>e.until||e.level&&e.level!==t.level)return;return!0})(r)&&function(t){if(e.rows&&o.length>=e.rows&&"desc"!==e.order)return void(c.readable&&c.destroy());e.fields&&(t=e.fields.reduce((e,r)=>(e[r]=t[r],e),{}));"desc"===e.order&&o.length>=e.rows&&o.shift();o.push(t)}(r)}catch(e){r||c.emit("error",e)}}c.on("error",e=>{if(c.readable&&c.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,o)}),c.on("data",t=>{const r=(t=(s+t).split(/\n+/)).length-1;let n=0;for(;n<r;n++)(!e.start||a>=e.start)&&u(t[n]),a++;s=t[r]}),c.on("close",()=>{s&&u(s,!0),"desc"===e.order&&(o=o.reverse()),t&&t(null,o)})}stream(e={}){const t=i.join(this.dirname,this.filename),r=new c,n={file:t,start:e.start};return r.destroy=f(n,(e,t)=>{if(e)return r.emit("error",e);try{r.emit("data",t),t=JSON.parse(t),r.emit("log",t)}catch(e){r.emit("error",e)}}),r}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,t)=>{if(e)return this.emit("error",e);d("stat done: %s { size: %s }",this.filename,t),this._size=t,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})))}stat(e){const t=this._getFile(),r=i.join(this.dirname,t);n.stat(r,(n,i)=>n&&"ENOENT"===n.code?(d("ENOENTok",r),this.filename=t,e(null,0)):n?(d(`err ${n.code} ${r}`),e(n)):!i||this._needsNewFile(i.size)?this._incFile(()=>this.stat(e)):(this.filename=t,void e(null,i.size)))}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=(()=>{})){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){const t=i.join(this.dirname,this.filename);d("create stream start",t,this.options);const r=n.createWriteStream(t,this.options).on("error",e=>d(e)).on("close",()=>d("close",r.path,r.bytesWritten)).on("open",()=>{d("file open ok",t),this.emit("open",t),e.pipe(r),this.rotatedWhileOpening&&(this._stream=new u,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(r),e.end())});if(d("create stream ok",t),this.zippedArchive){const e=o.createGzip();return e.pipe(r),e}return r}_incFile(e){d("_incFile",this.filename);const t=i.extname(this._basename),r=i.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,r,e):(this._created+=1,this._checkMaxFilesIncrementing(t,r,e))}_getFile(){const e=i.extname(this._basename),t=i.basename(this._basename,e),r=this.rotationFormat?this.rotationFormat():this._created,n=!this.tailable&&this._created?`${t}${r}${e}`:`${t}${e}`;return this.zippedArchive&&!this.tailable?n+".gz":n}_checkMaxFilesIncrementing(e,t,r){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(r);const s=this._created-this.maxFiles,o=`${t}${0!==s?s:""}${e}${this.zippedArchive?".gz":""}`,a=i.join(this.dirname,o);n.unlink(a,r)}_checkMaxFilesTailable(e,t,r){const o=[];if(!this.maxFiles)return;const a=this.zippedArchive?".gz":"";for(let r=this.maxFiles-1;r>1;r--)o.push(function(r,s){let o=`${t}${r-1}${e}${a}`;const c=i.join(this.dirname,o);n.exists(c,u=>{if(!u)return s(null);o=`${t}${r}${e}${a}`,n.rename(c,i.join(this.dirname,o),s)})}.bind(this,r));s(o,()=>{n.rename(i.join(this.dirname,`${t}${e}`),i.join(this.dirname,`${t}1${e}${a}`),r)})}_createLogDirIfNotExist(e){n.existsSync(e)||n.mkdirSync(e,{recursive:!0})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(i.default,e,t)};var n=s(r(355)),i=s(r(362));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){r=r||n.default;var a=(0,i.default)(t)?[]:{};e(t,(function(e,t,r){(0,o.default)(e)((function(e,n){arguments.length>2&&(n=(0,s.default)(arguments,1)),a[t]=n,r(e)}))}),(function(e){r(e,a)}))};var n=a(r(104)),i=a(r(66)),s=a(r(106)),o=a(r(67));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){var n=r(105),i=r(183);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,r){var n=r(180),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=o.call(e);return n&&(t?e[a]=r:delete e[a]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)((function(t,r){var i;try{i=e.apply(this,t)}catch(e){return r(e)}(0,n.default)(i)&&"function"==typeof i.then?i.then((function(e){a(r,null,e)}),(function(e){a(r,e.message?e:new Error(e))})):r(null,i)}))};var n=o(r(183)),i=o(r(360)),s=o(r(361));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){try{e(t,r)}catch(e){(0,s.default)(c,e)}}function c(e){throw e}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,s.default)(arguments),r=t.pop();e.call(this,t,r)}};var n,i=r(106),s=(n=i)&&n.__esModule?n:{default:n};e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNextTick=t.hasSetImmediate=void 0,t.fallback=u,t.wrap=l;var n,i=r(106),s=(n=i)&&n.__esModule?n:{default:n};var o,a=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,c=t.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function u(e){setTimeout(e,0)}function l(e){return function(t){var r=(0,s.default)(arguments,1);e((function(){t.apply(null,r)}))}}o=a?setImmediate:c?process.nextTick:u,t.default=l(o)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(185)),i=s(r(189));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(n.default,1),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,c){if(c=(0,i.default)(c||n.default),e<=0||!t)return c(null);var u=(0,s.default)(t),l=!1,d=0,h=!1;function f(e,t){if(d-=1,e)l=!0,c(e);else{if(t===a.default||l&&d<=0)return l=!0,c(null);h||p()}}function p(){for(h=!0;d<e&&!l;){var t=u();if(null===t)return l=!0,void(d<=0&&c(null));d+=1,r(t.value,t.key,(0,o.default)(f))}h=!1}p()}};var n=c(r(104)),i=c(r(186)),s=c(r(364)),o=c(r(187)),a=c(r(188));function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t=(0,i.default)(e);return t?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(t):(r=e,o=(0,s.default)(r),a=-1,c=o.length,function(){var e=o[++a];return a<c?{value:r[e],key:e}:null});var r,o,a,c};var n=o(r(66)),i=o(r(365)),s=o(r(366));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n&&e[n]&&e[n]()};var n="function"==typeof Symbol&&Symbol.iterator;e.exports=t.default},function(e,t,r){var n=r(367),i=r(379),s=r(66);e.exports=function(e){return s(e)?n(e):i(e)}},function(e,t,r){var n=r(368),i=r(369),s=r(371),o=r(372),a=r(374),c=r(375),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=s(e),l=!r&&i(e),d=!r&&!l&&o(e),h=!r&&!l&&!d&&c(e),f=r||l||d||h,p=f?n(e.length,String):[],g=p.length;for(var m in e)!t&&!u.call(e,m)||f&&("length"==m||d&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||p.push(m);return p}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(370),i=r(107),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&o.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},function(e,t,r){var n=r(105),i=r(107);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){(function(e){var n=r(181),i=r(373),s=t&&!t.nodeType&&t,o=s&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===s?n.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;e.exports=c}).call(this,r(72)(e))},function(e,t){e.exports=function(){return!1}},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(376),i=r(377),s=r(378),o=s&&s.isTypedArray,a=o?i(o):n;e.exports=a},function(e,t,r){var n=r(105),i=r(184),s=r(107),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&i(e.length)&&!!o[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(182),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===i&&n.process,a=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}).call(this,r(72)(e))},function(e,t,r){var n=r(380),i=r(381),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(382)(Object.keys,Object);e.exports=n},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){"use strict";var n=r(384),i=r(390);e.exports=function(e,t){var r=e.split(t||":"),s=i(r[0]);if(!r.length)return s;for(var o=0,a=r.length-1;o<a;o++)s=n(s).mix(n(i(r[o+1]))).saturate(1).hex();return s}},function(e,t,r){"use strict";var n=r(385),i=r(388),s=[].slice,o=["keyword","gray","hex"],a={};Object.keys(i).forEach((function(e){a[s.call(i[e].labels).sort().join("")]=e}));var c={};function u(e,t){if(!(this instanceof u))return new u(e,t);if(t&&t in o&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var r,l;if(e)if(e instanceof u)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=n.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,l=i[this.model].channels,this.color=d.value.slice(0,l),this.valpha="number"==typeof d.value[l]?d.value[l]:1}else if(e.length){this.model=t||"rgb",l=i[this.model].channels;var h=s.call(e,0,l);this.color=f(h,l),this.valpha="number"==typeof e[l]?e[l]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var g=p.sort().join("");if(!(g in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[g];var m=i[this.model].labels,v=[];for(r=0;r<m.length;r++)v.push(e[m[r]]);this.color=f(v)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(c[this.model])for(l=i[this.model].channels,r=0;r<l;r++){var y=c[this.model][r];y&&(this.color[r]=y(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(e,t,r){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(c[e]||(c[e]=[]))[t]=r})),e=e[0],function(n){var i;return arguments.length?(r&&(n=r(n)),(i=this[e]()).color[t]=n,i):(i=this[e]().color[t],r&&(i=r(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function h(e){return Array.isArray(e)?e:[e]}function f(e,t){for(var r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in n.to?this:this.rgb(),r=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return n.to[t.model](r)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:t.color.concat(this.valpha);return n.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,r=i[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new u(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:l("rgb",0,d(255)),green:l("rgb",1,d(255)),blue:l("rgb",2,d(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:l("hsl",1,d(100)),lightness:l("hsl",2,d(100)),saturationv:l("hsv",1,d(100)),value:l("hsv",2,d(100)),chroma:l("hcg",1,d(100)),gray:l("hcg",2,d(100)),white:l("hwb",1,d(100)),wblack:l("hwb",2,d(100)),cyan:l("cmyk",0,d(100)),magenta:l("cmyk",1,d(100)),yellow:l("cmyk",2,d(100)),black:l("cmyk",3,d(100)),x:l("xyz",0,d(100)),y:l("xyz",1,d(100)),z:l("xyz",2,d(100)),l:l("lab",0,d(100)),a:l("lab",1),b:l("lab",2),keyword:function(e){return arguments.length?new u(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new u(e):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return u.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r=(r+e)%360)<0?360+r:r,t.color[0]=r,t},mix:function(e,t){var r=e.rgb(),n=this.rgb(),i=void 0===t?.5:t,s=2*i-1,o=r.alpha()-n.alpha(),a=((s*o==-1?s:(s+o)/(1+s*o))+1)/2,c=1-a;return u.rgb(a*r.red()+c*n.red(),a*r.green()+c*n.green(),a*r.blue()+c*n.blue(),r.alpha()*i+n.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===o.indexOf(e)){var t=i[e].channels;u.prototype[e]=function(){if(this.model===e)return new u(this);if(arguments.length)return new u(arguments,e);var r="number"==typeof arguments[t]?t:this.valpha;return new u(h(i[this.model][e].raw(this.color)).concat(r),e)},u[e]=function(r){return"number"==typeof r&&(r=f(s.call(arguments),t)),new u(r,e)}}})),e.exports=u},function(e,t,r){var n=r(190),i=r(386),s={};for(var o in n)n.hasOwnProperty(o)&&(s[n[o]]=o);var a=e.exports={to:{},get:{}};function c(e,t,r){return Math.min(Math.max(t,e),r)}function u(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}a.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=a.get.hsl(e),r="hsl";break;case"hwb":t=a.get.hwb(e),r="hwb";break;default:t=a.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},a.get.rgb=function(e){if(!e)return null;var t,r,i,s=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],r=0;r<3;r++){var o=2*r;s[r]=parseInt(t.slice(o,o+2),16)}i&&(s[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],r=0;r<3;r++)s[r]=parseInt(t[r]+t[r],16);i&&(s[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)s[r]=parseInt(t[r+1],0);t[4]&&(s[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(s=n[t[1]])?(s[3]=1,s):null:null;for(r=0;r<3;r++)s[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(s[3]=parseFloat(t[4]))}for(r=0;r<3;r++)s[r]=c(s[r],0,255);return s[3]=c(s[3],0,1),s},a.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},a.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},a.to.hex=function(){var e=i(arguments);return"#"+u(e[0])+u(e[1])+u(e[2])+(e[3]<1?u(Math.round(255*e[3])):"")},a.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},a.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},a.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},a.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},a.to.keyword=function(e){return s[e.slice(0,3)]}},function(e,t,r){"use strict";var n=r(387),i=Array.prototype.concat,s=Array.prototype.slice,o=e.exports=function(e){for(var t=[],r=0,o=e.length;r<o;r++){var a=e[r];n(a)?t=i.call(t,s.call(a)):t.push(a)}return t};o.wrap=function(e){return function(){return e(o(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,r){var n=r(191),i=r(389),s={};Object.keys(n).forEach((function(e){s[e]={},Object.defineProperty(s[e],"channels",{value:n[e].channels}),Object.defineProperty(s[e],"labels",{value:n[e].labels});var t=i(e);Object.keys(t).forEach((function(r){var n=t[r];s[e][r]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),s[e][r].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))})),e.exports=s},function(e,t,r){var n=r(191);function i(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var i=r.pop(),s=Object.keys(n[i]),o=s.length,a=0;a<o;a++){var c=s[a],u=t[c];-1===u.distance&&(u.distance=t[i].distance+1,u.parent=i,r.unshift(c))}return t}function s(e,t){return function(r){return t(e(r))}}function o(e,t){for(var r=[t[e].parent,e],i=n[t[e].parent][e],o=t[e].parent;t[o].parent;)r.unshift(t[o].parent),i=s(n[t[o].parent][o],i),o=t[o].parent;return i.conversion=r,i}e.exports=function(e){for(var t=i(e),r={},n=Object.keys(t),s=n.length,a=0;a<s;a++){var c=n[a];null!==t[c].parent&&(r[c]=o(c,t))}return r}},function(e,t,r){"use strict";e.exports=function(e){for(var t=0,r=0;t<e.length;r=e.charCodeAt(t++)+((r<<5)-r));var n=Math.floor(Math.abs(1e4*Math.sin(r)%1*16777216)).toString(16);return"#"+Array(6-n.length+1).join("0")+n}},function(e,t,r){"use strict";var n=r(392);e.exports=function(e,t){var r,i=n(),s=0;for(t=t||["diagnostics","debug"];s<t.length&&!(r=i[t[s]]);s++);if(!r)return!1;for(t=r.split(/[\s,]+/),s=0;s<t.length;s++)if("-"!==(r=t[s].replace("*",".*?")).charAt(0)){if(new RegExp("^"+r+"$").test(e))return!0}else if(new RegExp("^"+r.substr(1)+"$").test(e))return!1;return!1}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function i(e){if(e=e||{},"object"==typeof process&&"object"==typeof process.env&&i.merge(e,process.env),"undefined"!=typeof window){"string"===window.name&&window.name.length&&i.merge(e,i.parse(window.name));try{window.localStorage&&i.merge(e,i.parse(window.localStorage.env||window.localStorage.debug))}catch(e){}"object"==typeof window.location&&"string"==typeof window.location.hash&&window.location.hash.length&&i.merge(e,i.parse("#"===window.location.hash.charAt(0)?window.location.hash.slice(1):window.location.hash))}var t,r;for(t in e)(r=t.toLowerCase())in e||(e[r]=e[t]);return e}i.merge=function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e},i.parse=function(e){var t,r=/([^=?&]+)=([^&]*)/g,n={};if(!e)return n;for(;t=r.exec(e);n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return n.env||n},e.exports=i},function(e,t,r){"use strict";var n=r(394);function i(e,t){return t?new i(e).style(t):this instanceof i?void(this.text=e):new i(e)}i.prototype.prefix="[",i.prototype.suffix="m",i.prototype.hex=function(e){3===(e="#"===e[0]?e.substring(1):e).length&&((e=e.split(""))[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var t=e.substring(0,2),r=e.substring(2,4),n=e.substring(4,6);return[parseInt(t,16),parseInt(r,16),parseInt(n,16)]},i.prototype.rgb=function(e,t,r){var n=e/255*5,i=t/255*5,s=r/255*5;return this.ansi(n,i,s)},i.prototype.ansi=function(e,t,r){return 16+36*Math.round(e)+6*Math.round(t)+Math.round(r)},i.prototype.reset=function(){return this.prefix+"39;49"+this.suffix},i.prototype.style=function(e){return/^#?(?:[0-9a-fA-F]{3}){1,2}$/.test(e)||(e=n(e)),this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()},e.exports=i},function(e,t,r){var n=r(395),i=n.filter((function(e){return!!e.css})),s=n.filter((function(e){return!!e.vga}));e.exports=function(t){var r=e.exports.get(t);return r&&r.value},e.exports.get=function(e){return e=(e=e||"").trim().toLowerCase(),n.filter((function(t){return t.name.toLowerCase()===e})).pop()},e.exports.all=e.exports.get.all=function(){return n},e.exports.get.css=function(e){return e?(e=(e=e||"").trim().toLowerCase(),i.filter((function(t){return t.name.toLowerCase()===e})).pop()):i},e.exports.get.vga=function(e){return e?(e=(e=e||"").trim().toLowerCase(),s.filter((function(t){return t.name.toLowerCase()===e})).pop()):s}},function(e,t){e.exports=[{value:"#B0171F",name:"indian red"},{value:"#DC143C",css:!0,name:"crimson"},{value:"#FFB6C1",css:!0,name:"lightpink"},{value:"#FFAEB9",name:"lightpink 1"},{value:"#EEA2AD",name:"lightpink 2"},{value:"#CD8C95",name:"lightpink 3"},{value:"#8B5F65",name:"lightpink 4"},{value:"#FFC0CB",css:!0,name:"pink"},{value:"#FFB5C5",name:"pink 1"},{value:"#EEA9B8",name:"pink 2"},{value:"#CD919E",name:"pink 3"},{value:"#8B636C",name:"pink 4"},{value:"#DB7093",css:!0,name:"palevioletred"},{value:"#FF82AB",name:"palevioletred 1"},{value:"#EE799F",name:"palevioletred 2"},{value:"#CD6889",name:"palevioletred 3"},{value:"#8B475D",name:"palevioletred 4"},{value:"#FFF0F5",name:"lavenderblush 1"},{value:"#FFF0F5",css:!0,name:"lavenderblush"},{value:"#EEE0E5",name:"lavenderblush 2"},{value:"#CDC1C5",name:"lavenderblush 3"},{value:"#8B8386",name:"lavenderblush 4"},{value:"#FF3E96",name:"violetred 1"},{value:"#EE3A8C",name:"violetred 2"},{value:"#CD3278",name:"violetred 3"},{value:"#8B2252",name:"violetred 4"},{value:"#FF69B4",css:!0,name:"hotpink"},{value:"#FF6EB4",name:"hotpink 1"},{value:"#EE6AA7",name:"hotpink 2"},{value:"#CD6090",name:"hotpink 3"},{value:"#8B3A62",name:"hotpink 4"},{value:"#872657",name:"raspberry"},{value:"#FF1493",name:"deeppink 1"},{value:"#FF1493",css:!0,name:"deeppink"},{value:"#EE1289",name:"deeppink 2"},{value:"#CD1076",name:"deeppink 3"},{value:"#8B0A50",name:"deeppink 4"},{value:"#FF34B3",name:"maroon 1"},{value:"#EE30A7",name:"maroon 2"},{value:"#CD2990",name:"maroon 3"},{value:"#8B1C62",name:"maroon 4"},{value:"#C71585",css:!0,name:"mediumvioletred"},{value:"#D02090",name:"violetred"},{value:"#DA70D6",css:!0,name:"orchid"},{value:"#FF83FA",name:"orchid 1"},{value:"#EE7AE9",name:"orchid 2"},{value:"#CD69C9",name:"orchid 3"},{value:"#8B4789",name:"orchid 4"},{value:"#D8BFD8",css:!0,name:"thistle"},{value:"#FFE1FF",name:"thistle 1"},{value:"#EED2EE",name:"thistle 2"},{value:"#CDB5CD",name:"thistle 3"},{value:"#8B7B8B",name:"thistle 4"},{value:"#FFBBFF",name:"plum 1"},{value:"#EEAEEE",name:"plum 2"},{value:"#CD96CD",name:"plum 3"},{value:"#8B668B",name:"plum 4"},{value:"#DDA0DD",css:!0,name:"plum"},{value:"#EE82EE",css:!0,name:"violet"},{value:"#FF00FF",vga:!0,name:"magenta"},{value:"#FF00FF",vga:!0,css:!0,name:"fuchsia"},{value:"#EE00EE",name:"magenta 2"},{value:"#CD00CD",name:"magenta 3"},{value:"#8B008B",name:"magenta 4"},{value:"#8B008B",css:!0,name:"darkmagenta"},{value:"#800080",vga:!0,css:!0,name:"purple"},{value:"#BA55D3",css:!0,name:"mediumorchid"},{value:"#E066FF",name:"mediumorchid 1"},{value:"#D15FEE",name:"mediumorchid 2"},{value:"#B452CD",name:"mediumorchid 3"},{value:"#7A378B",name:"mediumorchid 4"},{value:"#9400D3",css:!0,name:"darkviolet"},{value:"#9932CC",css:!0,name:"darkorchid"},{value:"#BF3EFF",name:"darkorchid 1"},{value:"#B23AEE",name:"darkorchid 2"},{value:"#9A32CD",name:"darkorchid 3"},{value:"#68228B",name:"darkorchid 4"},{value:"#4B0082",css:!0,name:"indigo"},{value:"#8A2BE2",css:!0,name:"blueviolet"},{value:"#9B30FF",name:"purple 1"},{value:"#912CEE",name:"purple 2"},{value:"#7D26CD",name:"purple 3"},{value:"#551A8B",name:"purple 4"},{value:"#9370DB",css:!0,name:"mediumpurple"},{value:"#AB82FF",name:"mediumpurple 1"},{value:"#9F79EE",name:"mediumpurple 2"},{value:"#8968CD",name:"mediumpurple 3"},{value:"#5D478B",name:"mediumpurple 4"},{value:"#483D8B",css:!0,name:"darkslateblue"},{value:"#8470FF",name:"lightslateblue"},{value:"#7B68EE",css:!0,name:"mediumslateblue"},{value:"#6A5ACD",css:!0,name:"slateblue"},{value:"#836FFF",name:"slateblue 1"},{value:"#7A67EE",name:"slateblue 2"},{value:"#6959CD",name:"slateblue 3"},{value:"#473C8B",name:"slateblue 4"},{value:"#F8F8FF",css:!0,name:"ghostwhite"},{value:"#E6E6FA",css:!0,name:"lavender"},{value:"#0000FF",vga:!0,css:!0,name:"blue"},{value:"#0000EE",name:"blue 2"},{value:"#0000CD",name:"blue 3"},{value:"#0000CD",css:!0,name:"mediumblue"},{value:"#00008B",name:"blue 4"},{value:"#00008B",css:!0,name:"darkblue"},{value:"#000080",vga:!0,css:!0,name:"navy"},{value:"#191970",css:!0,name:"midnightblue"},{value:"#3D59AB",name:"cobalt"},{value:"#4169E1",css:!0,name:"royalblue"},{value:"#4876FF",name:"royalblue 1"},{value:"#436EEE",name:"royalblue 2"},{value:"#3A5FCD",name:"royalblue 3"},{value:"#27408B",name:"royalblue 4"},{value:"#6495ED",css:!0,name:"cornflowerblue"},{value:"#B0C4DE",css:!0,name:"lightsteelblue"},{value:"#CAE1FF",name:"lightsteelblue 1"},{value:"#BCD2EE",name:"lightsteelblue 2"},{value:"#A2B5CD",name:"lightsteelblue 3"},{value:"#6E7B8B",name:"lightsteelblue 4"},{value:"#778899",css:!0,name:"lightslategray"},{value:"#708090",css:!0,name:"slategray"},{value:"#C6E2FF",name:"slategray 1"},{value:"#B9D3EE",name:"slategray 2"},{value:"#9FB6CD",name:"slategray 3"},{value:"#6C7B8B",name:"slategray 4"},{value:"#1E90FF",name:"dodgerblue 1"},{value:"#1E90FF",css:!0,name:"dodgerblue"},{value:"#1C86EE",name:"dodgerblue 2"},{value:"#1874CD",name:"dodgerblue 3"},{value:"#104E8B",name:"dodgerblue 4"},{value:"#F0F8FF",css:!0,name:"aliceblue"},{value:"#4682B4",css:!0,name:"steelblue"},{value:"#63B8FF",name:"steelblue 1"},{value:"#5CACEE",name:"steelblue 2"},{value:"#4F94CD",name:"steelblue 3"},{value:"#36648B",name:"steelblue 4"},{value:"#87CEFA",css:!0,name:"lightskyblue"},{value:"#B0E2FF",name:"lightskyblue 1"},{value:"#A4D3EE",name:"lightskyblue 2"},{value:"#8DB6CD",name:"lightskyblue 3"},{value:"#607B8B",name:"lightskyblue 4"},{value:"#87CEFF",name:"skyblue 1"},{value:"#7EC0EE",name:"skyblue 2"},{value:"#6CA6CD",name:"skyblue 3"},{value:"#4A708B",name:"skyblue 4"},{value:"#87CEEB",css:!0,name:"skyblue"},{value:"#00BFFF",name:"deepskyblue 1"},{value:"#00BFFF",css:!0,name:"deepskyblue"},{value:"#00B2EE",name:"deepskyblue 2"},{value:"#009ACD",name:"deepskyblue 3"},{value:"#00688B",name:"deepskyblue 4"},{value:"#33A1C9",name:"peacock"},{value:"#ADD8E6",css:!0,name:"lightblue"},{value:"#BFEFFF",name:"lightblue 1"},{value:"#B2DFEE",name:"lightblue 2"},{value:"#9AC0CD",name:"lightblue 3"},{value:"#68838B",name:"lightblue 4"},{value:"#B0E0E6",css:!0,name:"powderblue"},{value:"#98F5FF",name:"cadetblue 1"},{value:"#8EE5EE",name:"cadetblue 2"},{value:"#7AC5CD",name:"cadetblue 3"},{value:"#53868B",name:"cadetblue 4"},{value:"#00F5FF",name:"turquoise 1"},{value:"#00E5EE",name:"turquoise 2"},{value:"#00C5CD",name:"turquoise 3"},{value:"#00868B",name:"turquoise 4"},{value:"#5F9EA0",css:!0,name:"cadetblue"},{value:"#00CED1",css:!0,name:"darkturquoise"},{value:"#F0FFFF",name:"azure 1"},{value:"#F0FFFF",css:!0,name:"azure"},{value:"#E0EEEE",name:"azure 2"},{value:"#C1CDCD",name:"azure 3"},{value:"#838B8B",name:"azure 4"},{value:"#E0FFFF",name:"lightcyan 1"},{value:"#E0FFFF",css:!0,name:"lightcyan"},{value:"#D1EEEE",name:"lightcyan 2"},{value:"#B4CDCD",name:"lightcyan 3"},{value:"#7A8B8B",name:"lightcyan 4"},{value:"#BBFFFF",name:"paleturquoise 1"},{value:"#AEEEEE",name:"paleturquoise 2"},{value:"#AEEEEE",css:!0,name:"paleturquoise"},{value:"#96CDCD",name:"paleturquoise 3"},{value:"#668B8B",name:"paleturquoise 4"},{value:"#2F4F4F",css:!0,name:"darkslategray"},{value:"#97FFFF",name:"darkslategray 1"},{value:"#8DEEEE",name:"darkslategray 2"},{value:"#79CDCD",name:"darkslategray 3"},{value:"#528B8B",name:"darkslategray 4"},{value:"#00FFFF",name:"cyan"},{value:"#00FFFF",css:!0,name:"aqua"},{value:"#00EEEE",name:"cyan 2"},{value:"#00CDCD",name:"cyan 3"},{value:"#008B8B",name:"cyan 4"},{value:"#008B8B",css:!0,name:"darkcyan"},{value:"#008080",vga:!0,css:!0,name:"teal"},{value:"#48D1CC",css:!0,name:"mediumturquoise"},{value:"#20B2AA",css:!0,name:"lightseagreen"},{value:"#03A89E",name:"manganeseblue"},{value:"#40E0D0",css:!0,name:"turquoise"},{value:"#808A87",name:"coldgrey"},{value:"#00C78C",name:"turquoiseblue"},{value:"#7FFFD4",name:"aquamarine 1"},{value:"#7FFFD4",css:!0,name:"aquamarine"},{value:"#76EEC6",name:"aquamarine 2"},{value:"#66CDAA",name:"aquamarine 3"},{value:"#66CDAA",css:!0,name:"mediumaquamarine"},{value:"#458B74",name:"aquamarine 4"},{value:"#00FA9A",css:!0,name:"mediumspringgreen"},{value:"#F5FFFA",css:!0,name:"mintcream"},{value:"#00FF7F",css:!0,name:"springgreen"},{value:"#00EE76",name:"springgreen 1"},{value:"#00CD66",name:"springgreen 2"},{value:"#008B45",name:"springgreen 3"},{value:"#3CB371",css:!0,name:"mediumseagreen"},{value:"#54FF9F",name:"seagreen 1"},{value:"#4EEE94",name:"seagreen 2"},{value:"#43CD80",name:"seagreen 3"},{value:"#2E8B57",name:"seagreen 4"},{value:"#2E8B57",css:!0,name:"seagreen"},{value:"#00C957",name:"emeraldgreen"},{value:"#BDFCC9",name:"mint"},{value:"#3D9140",name:"cobaltgreen"},{value:"#F0FFF0",name:"honeydew 1"},{value:"#F0FFF0",css:!0,name:"honeydew"},{value:"#E0EEE0",name:"honeydew 2"},{value:"#C1CDC1",name:"honeydew 3"},{value:"#838B83",name:"honeydew 4"},{value:"#8FBC8F",css:!0,name:"darkseagreen"},{value:"#C1FFC1",name:"darkseagreen 1"},{value:"#B4EEB4",name:"darkseagreen 2"},{value:"#9BCD9B",name:"darkseagreen 3"},{value:"#698B69",name:"darkseagreen 4"},{value:"#98FB98",css:!0,name:"palegreen"},{value:"#9AFF9A",name:"palegreen 1"},{value:"#90EE90",name:"palegreen 2"},{value:"#90EE90",css:!0,name:"lightgreen"},{value:"#7CCD7C",name:"palegreen 3"},{value:"#548B54",name:"palegreen 4"},{value:"#32CD32",css:!0,name:"limegreen"},{value:"#228B22",css:!0,name:"forestgreen"},{value:"#00FF00",vga:!0,name:"green 1"},{value:"#00FF00",vga:!0,css:!0,name:"lime"},{value:"#00EE00",name:"green 2"},{value:"#00CD00",name:"green 3"},{value:"#008B00",name:"green 4"},{value:"#008000",vga:!0,css:!0,name:"green"},{value:"#006400",css:!0,name:"darkgreen"},{value:"#308014",name:"sapgreen"},{value:"#7CFC00",css:!0,name:"lawngreen"},{value:"#7FFF00",name:"chartreuse 1"},{value:"#7FFF00",css:!0,name:"chartreuse"},{value:"#76EE00",name:"chartreuse 2"},{value:"#66CD00",name:"chartreuse 3"},{value:"#458B00",name:"chartreuse 4"},{value:"#ADFF2F",css:!0,name:"greenyellow"},{value:"#CAFF70",name:"darkolivegreen 1"},{value:"#BCEE68",name:"darkolivegreen 2"},{value:"#A2CD5A",name:"darkolivegreen 3"},{value:"#6E8B3D",name:"darkolivegreen 4"},{value:"#556B2F",css:!0,name:"darkolivegreen"},{value:"#6B8E23",css:!0,name:"olivedrab"},{value:"#C0FF3E",name:"olivedrab 1"},{value:"#B3EE3A",name:"olivedrab 2"},{value:"#9ACD32",name:"olivedrab 3"},{value:"#9ACD32",css:!0,name:"yellowgreen"},{value:"#698B22",name:"olivedrab 4"},{value:"#FFFFF0",name:"ivory 1"},{value:"#FFFFF0",css:!0,name:"ivory"},{value:"#EEEEE0",name:"ivory 2"},{value:"#CDCDC1",name:"ivory 3"},{value:"#8B8B83",name:"ivory 4"},{value:"#F5F5DC",css:!0,name:"beige"},{value:"#FFFFE0",name:"lightyellow 1"},{value:"#FFFFE0",css:!0,name:"lightyellow"},{value:"#EEEED1",name:"lightyellow 2"},{value:"#CDCDB4",name:"lightyellow 3"},{value:"#8B8B7A",name:"lightyellow 4"},{value:"#FAFAD2",css:!0,name:"lightgoldenrodyellow"},{value:"#FFFF00",vga:!0,name:"yellow 1"},{value:"#FFFF00",vga:!0,css:!0,name:"yellow"},{value:"#EEEE00",name:"yellow 2"},{value:"#CDCD00",name:"yellow 3"},{value:"#8B8B00",name:"yellow 4"},{value:"#808069",name:"warmgrey"},{value:"#808000",vga:!0,css:!0,name:"olive"},{value:"#BDB76B",css:!0,name:"darkkhaki"},{value:"#FFF68F",name:"khaki 1"},{value:"#EEE685",name:"khaki 2"},{value:"#CDC673",name:"khaki 3"},{value:"#8B864E",name:"khaki 4"},{value:"#F0E68C",css:!0,name:"khaki"},{value:"#EEE8AA",css:!0,name:"palegoldenrod"},{value:"#FFFACD",name:"lemonchiffon 1"},{value:"#FFFACD",css:!0,name:"lemonchiffon"},{value:"#EEE9BF",name:"lemonchiffon 2"},{value:"#CDC9A5",name:"lemonchiffon 3"},{value:"#8B8970",name:"lemonchiffon 4"},{value:"#FFEC8B",name:"lightgoldenrod 1"},{value:"#EEDC82",name:"lightgoldenrod 2"},{value:"#CDBE70",name:"lightgoldenrod 3"},{value:"#8B814C",name:"lightgoldenrod 4"},{value:"#E3CF57",name:"banana"},{value:"#FFD700",name:"gold 1"},{value:"#FFD700",css:!0,name:"gold"},{value:"#EEC900",name:"gold 2"},{value:"#CDAD00",name:"gold 3"},{value:"#8B7500",name:"gold 4"},{value:"#FFF8DC",name:"cornsilk 1"},{value:"#FFF8DC",css:!0,name:"cornsilk"},{value:"#EEE8CD",name:"cornsilk 2"},{value:"#CDC8B1",name:"cornsilk 3"},{value:"#8B8878",name:"cornsilk 4"},{value:"#DAA520",css:!0,name:"goldenrod"},{value:"#FFC125",name:"goldenrod 1"},{value:"#EEB422",name:"goldenrod 2"},{value:"#CD9B1D",name:"goldenrod 3"},{value:"#8B6914",name:"goldenrod 4"},{value:"#B8860B",css:!0,name:"darkgoldenrod"},{value:"#FFB90F",name:"darkgoldenrod 1"},{value:"#EEAD0E",name:"darkgoldenrod 2"},{value:"#CD950C",name:"darkgoldenrod 3"},{value:"#8B6508",name:"darkgoldenrod 4"},{value:"#FFA500",name:"orange 1"},{value:"#FF8000",css:!0,name:"orange"},{value:"#EE9A00",name:"orange 2"},{value:"#CD8500",name:"orange 3"},{value:"#8B5A00",name:"orange 4"},{value:"#FFFAF0",css:!0,name:"floralwhite"},{value:"#FDF5E6",css:!0,name:"oldlace"},{value:"#F5DEB3",css:!0,name:"wheat"},{value:"#FFE7BA",name:"wheat 1"},{value:"#EED8AE",name:"wheat 2"},{value:"#CDBA96",name:"wheat 3"},{value:"#8B7E66",name:"wheat 4"},{value:"#FFE4B5",css:!0,name:"moccasin"},{value:"#FFEFD5",css:!0,name:"papayawhip"},{value:"#FFEBCD",css:!0,name:"blanchedalmond"},{value:"#FFDEAD",name:"navajowhite 1"},{value:"#FFDEAD",css:!0,name:"navajowhite"},{value:"#EECFA1",name:"navajowhite 2"},{value:"#CDB38B",name:"navajowhite 3"},{value:"#8B795E",name:"navajowhite 4"},{value:"#FCE6C9",name:"eggshell"},{value:"#D2B48C",css:!0,name:"tan"},{value:"#9C661F",name:"brick"},{value:"#FF9912",name:"cadmiumyellow"},{value:"#FAEBD7",css:!0,name:"antiquewhite"},{value:"#FFEFDB",name:"antiquewhite 1"},{value:"#EEDFCC",name:"antiquewhite 2"},{value:"#CDC0B0",name:"antiquewhite 3"},{value:"#8B8378",name:"antiquewhite 4"},{value:"#DEB887",css:!0,name:"burlywood"},{value:"#FFD39B",name:"burlywood 1"},{value:"#EEC591",name:"burlywood 2"},{value:"#CDAA7D",name:"burlywood 3"},{value:"#8B7355",name:"burlywood 4"},{value:"#FFE4C4",name:"bisque 1"},{value:"#FFE4C4",css:!0,name:"bisque"},{value:"#EED5B7",name:"bisque 2"},{value:"#CDB79E",name:"bisque 3"},{value:"#8B7D6B",name:"bisque 4"},{value:"#E3A869",name:"melon"},{value:"#ED9121",name:"carrot"},{value:"#FF8C00",css:!0,name:"darkorange"},{value:"#FF7F00",name:"darkorange 1"},{value:"#EE7600",name:"darkorange 2"},{value:"#CD6600",name:"darkorange 3"},{value:"#8B4500",name:"darkorange 4"},{value:"#FFA54F",name:"tan 1"},{value:"#EE9A49",name:"tan 2"},{value:"#CD853F",name:"tan 3"},{value:"#CD853F",css:!0,name:"peru"},{value:"#8B5A2B",name:"tan 4"},{value:"#FAF0E6",css:!0,name:"linen"},{value:"#FFDAB9",name:"peachpuff 1"},{value:"#FFDAB9",css:!0,name:"peachpuff"},{value:"#EECBAD",name:"peachpuff 2"},{value:"#CDAF95",name:"peachpuff 3"},{value:"#8B7765",name:"peachpuff 4"},{value:"#FFF5EE",name:"seashell 1"},{value:"#FFF5EE",css:!0,name:"seashell"},{value:"#EEE5DE",name:"seashell 2"},{value:"#CDC5BF",name:"seashell 3"},{value:"#8B8682",name:"seashell 4"},{value:"#F4A460",css:!0,name:"sandybrown"},{value:"#C76114",name:"rawsienna"},{value:"#D2691E",css:!0,name:"chocolate"},{value:"#FF7F24",name:"chocolate 1"},{value:"#EE7621",name:"chocolate 2"},{value:"#CD661D",name:"chocolate 3"},{value:"#8B4513",name:"chocolate 4"},{value:"#8B4513",css:!0,name:"saddlebrown"},{value:"#292421",name:"ivoryblack"},{value:"#FF7D40",name:"flesh"},{value:"#FF6103",name:"cadmiumorange"},{value:"#8A360F",name:"burntsienna"},{value:"#A0522D",css:!0,name:"sienna"},{value:"#FF8247",name:"sienna 1"},{value:"#EE7942",name:"sienna 2"},{value:"#CD6839",name:"sienna 3"},{value:"#8B4726",name:"sienna 4"},{value:"#FFA07A",name:"lightsalmon 1"},{value:"#FFA07A",css:!0,name:"lightsalmon"},{value:"#EE9572",name:"lightsalmon 2"},{value:"#CD8162",name:"lightsalmon 3"},{value:"#8B5742",name:"lightsalmon 4"},{value:"#FF7F50",css:!0,name:"coral"},{value:"#FF4500",name:"orangered 1"},{value:"#FF4500",css:!0,name:"orangered"},{value:"#EE4000",name:"orangered 2"},{value:"#CD3700",name:"orangered 3"},{value:"#8B2500",name:"orangered 4"},{value:"#5E2612",name:"sepia"},{value:"#E9967A",css:!0,name:"darksalmon"},{value:"#FF8C69",name:"salmon 1"},{value:"#EE8262",name:"salmon 2"},{value:"#CD7054",name:"salmon 3"},{value:"#8B4C39",name:"salmon 4"},{value:"#FF7256",name:"coral 1"},{value:"#EE6A50",name:"coral 2"},{value:"#CD5B45",name:"coral 3"},{value:"#8B3E2F",name:"coral 4"},{value:"#8A3324",name:"burntumber"},{value:"#FF6347",name:"tomato 1"},{value:"#FF6347",css:!0,name:"tomato"},{value:"#EE5C42",name:"tomato 2"},{value:"#CD4F39",name:"tomato 3"},{value:"#8B3626",name:"tomato 4"},{value:"#FA8072",css:!0,name:"salmon"},{value:"#FFE4E1",name:"mistyrose 1"},{value:"#FFE4E1",css:!0,name:"mistyrose"},{value:"#EED5D2",name:"mistyrose 2"},{value:"#CDB7B5",name:"mistyrose 3"},{value:"#8B7D7B",name:"mistyrose 4"},{value:"#FFFAFA",name:"snow 1"},{value:"#FFFAFA",css:!0,name:"snow"},{value:"#EEE9E9",name:"snow 2"},{value:"#CDC9C9",name:"snow 3"},{value:"#8B8989",name:"snow 4"},{value:"#BC8F8F",css:!0,name:"rosybrown"},{value:"#FFC1C1",name:"rosybrown 1"},{value:"#EEB4B4",name:"rosybrown 2"},{value:"#CD9B9B",name:"rosybrown 3"},{value:"#8B6969",name:"rosybrown 4"},{value:"#F08080",css:!0,name:"lightcoral"},{value:"#CD5C5C",css:!0,name:"indianred"},{value:"#FF6A6A",name:"indianred 1"},{value:"#EE6363",name:"indianred 2"},{value:"#8B3A3A",name:"indianred 4"},{value:"#CD5555",name:"indianred 3"},{value:"#A52A2A",css:!0,name:"brown"},{value:"#FF4040",name:"brown 1"},{value:"#EE3B3B",name:"brown 2"},{value:"#CD3333",name:"brown 3"},{value:"#8B2323",name:"brown 4"},{value:"#B22222",css:!0,name:"firebrick"},{value:"#FF3030",name:"firebrick 1"},{value:"#EE2C2C",name:"firebrick 2"},{value:"#CD2626",name:"firebrick 3"},{value:"#8B1A1A",name:"firebrick 4"},{value:"#FF0000",vga:!0,name:"red 1"},{value:"#FF0000",vga:!0,css:!0,name:"red"},{value:"#EE0000",name:"red 2"},{value:"#CD0000",name:"red 3"},{value:"#8B0000",name:"red 4"},{value:"#8B0000",css:!0,name:"darkred"},{value:"#800000",vga:!0,css:!0,name:"maroon"},{value:"#8E388E",name:"sgi beet"},{value:"#7171C6",name:"sgi slateblue"},{value:"#7D9EC0",name:"sgi lightblue"},{value:"#388E8E",name:"sgi teal"},{value:"#71C671",name:"sgi chartreuse"},{value:"#8E8E38",name:"sgi olivedrab"},{value:"#C5C1AA",name:"sgi brightgray"},{value:"#C67171",name:"sgi salmon"},{value:"#555555",name:"sgi darkgray"},{value:"#1E1E1E",name:"sgi gray 12"},{value:"#282828",name:"sgi gray 16"},{value:"#515151",name:"sgi gray 32"},{value:"#5B5B5B",name:"sgi gray 36"},{value:"#848484",name:"sgi gray 52"},{value:"#8E8E8E",name:"sgi gray 56"},{value:"#AAAAAA",name:"sgi lightgray"},{value:"#B7B7B7",name:"sgi gray 72"},{value:"#C1C1C1",name:"sgi gray 76"},{value:"#EAEAEA",name:"sgi gray 92"},{value:"#F4F4F4",name:"sgi gray 96"},{value:"#FFFFFF",vga:!0,css:!0,name:"white"},{value:"#F5F5F5",name:"white smoke"},{value:"#F5F5F5",name:"gray 96"},{value:"#DCDCDC",css:!0,name:"gainsboro"},{value:"#D3D3D3",css:!0,name:"lightgrey"},{value:"#C0C0C0",vga:!0,css:!0,name:"silver"},{value:"#A9A9A9",css:!0,name:"darkgray"},{value:"#808080",vga:!0,css:!0,name:"gray"},{value:"#696969",css:!0,name:"dimgray"},{value:"#696969",name:"gray 42"},{value:"#000000",vga:!0,css:!0,name:"black"},{value:"#FCFCFC",name:"gray 99"},{value:"#FAFAFA",name:"gray 98"},{value:"#F7F7F7",name:"gray 97"},{value:"#F2F2F2",name:"gray 95"},{value:"#F0F0F0",name:"gray 94"},{value:"#EDEDED",name:"gray 93"},{value:"#EBEBEB",name:"gray 92"},{value:"#E8E8E8",name:"gray 91"},{value:"#E5E5E5",name:"gray 90"},{value:"#E3E3E3",name:"gray 89"},{value:"#E0E0E0",name:"gray 88"},{value:"#DEDEDE",name:"gray 87"},{value:"#DBDBDB",name:"gray 86"},{value:"#D9D9D9",name:"gray 85"},{value:"#D6D6D6",name:"gray 84"},{value:"#D4D4D4",name:"gray 83"},{value:"#D1D1D1",name:"gray 82"},{value:"#CFCFCF",name:"gray 81"},{value:"#CCCCCC",name:"gray 80"},{value:"#C9C9C9",name:"gray 79"},{value:"#C7C7C7",name:"gray 78"},{value:"#C4C4C4",name:"gray 77"},{value:"#C2C2C2",name:"gray 76"},{value:"#BFBFBF",name:"gray 75"},{value:"#BDBDBD",name:"gray 74"},{value:"#BABABA",name:"gray 73"},{value:"#B8B8B8",name:"gray 72"},{value:"#B5B5B5",name:"gray 71"},{value:"#B3B3B3",name:"gray 70"},{value:"#B0B0B0",name:"gray 69"},{value:"#ADADAD",name:"gray 68"},{value:"#ABABAB",name:"gray 67"},{value:"#A8A8A8",name:"gray 66"},{value:"#A6A6A6",name:"gray 65"},{value:"#A3A3A3",name:"gray 64"},{value:"#A1A1A1",name:"gray 63"},{value:"#9E9E9E",name:"gray 62"},{value:"#9C9C9C",name:"gray 61"},{value:"#999999",name:"gray 60"},{value:"#969696",name:"gray 59"},{value:"#949494",name:"gray 58"},{value:"#919191",name:"gray 57"},{value:"#8F8F8F",name:"gray 56"},{value:"#8C8C8C",name:"gray 55"},{value:"#8A8A8A",name:"gray 54"},{value:"#878787",name:"gray 53"},{value:"#858585",name:"gray 52"},{value:"#828282",name:"gray 51"},{value:"#7F7F7F",name:"gray 50"},{value:"#7D7D7D",name:"gray 49"},{value:"#7A7A7A",name:"gray 48"},{value:"#787878",name:"gray 47"},{value:"#757575",name:"gray 46"},{value:"#737373",name:"gray 45"},{value:"#707070",name:"gray 44"},{value:"#6E6E6E",name:"gray 43"},{value:"#666666",name:"gray 40"},{value:"#636363",name:"gray 39"},{value:"#616161",name:"gray 38"},{value:"#5E5E5E",name:"gray 37"},{value:"#5C5C5C",name:"gray 36"},{value:"#595959",name:"gray 35"},{value:"#575757",name:"gray 34"},{value:"#545454",name:"gray 33"},{value:"#525252",name:"gray 32"},{value:"#4F4F4F",name:"gray 31"},{value:"#4D4D4D",name:"gray 30"},{value:"#4A4A4A",name:"gray 29"},{value:"#474747",name:"gray 28"},{value:"#454545",name:"gray 27"},{value:"#424242",name:"gray 26"},{value:"#404040",name:"gray 25"},{value:"#3D3D3D",name:"gray 24"},{value:"#3B3B3B",name:"gray 23"},{value:"#383838",name:"gray 22"},{value:"#363636",name:"gray 21"},{value:"#333333",name:"gray 20"},{value:"#303030",name:"gray 19"},{value:"#2E2E2E",name:"gray 18"},{value:"#2B2B2B",name:"gray 17"},{value:"#292929",name:"gray 16"},{value:"#262626",name:"gray 15"},{value:"#242424",name:"gray 14"},{value:"#212121",name:"gray 13"},{value:"#1F1F1F",name:"gray 12"},{value:"#1C1C1C",name:"gray 11"},{value:"#1A1A1A",name:"gray 10"},{value:"#171717",name:"gray 9"},{value:"#141414",name:"gray 8"},{value:"#121212",name:"gray 7"},{value:"#0F0F0F",name:"gray 6"},{value:"#0D0D0D",name:"gray 5"},{value:"#0A0A0A",name:"gray 4"},{value:"#080808",name:"gray 3"},{value:"#050505",name:"gray 2"},{value:"#030303",name:"gray 1"},{value:"#F5F5F5",css:!0,name:"whitesmoke"}]},function(e,t){e.exports=require("tty")},function(e,t,r){"use strict";const n=r(25),{StringDecoder:i}=r(148),{Stream:s}=r(24);function o(){}e.exports=(e,t)=>{const r=Buffer.alloc(65536),a=new i("utf8"),c=new s;let u="",l=0,d=0;return-1===e.start&&delete e.start,c.readable=!0,c.destroy=()=>{c.destroyed=!0,c.emit("end"),c.emit("close")},n.open(e.file,"a+","0644",(i,s)=>{if(i)return t?t(i):c.emit("error",i),void c.destroy();!function i(){if(!c.destroyed)return n.read(s,r,0,r.length,l,(n,s)=>{if(n)return t?t(n):c.emit("error",n),void c.destroy();if(!s)return u&&((null==e.start||d>e.start)&&(t?t(null,u):c.emit("line",u)),d++,u=""),setTimeout(i,1e3);let o=a.write(r.slice(0,s));t||c.emit("data",o),o=(u+o).split(/\n+/);const h=o.length-1;let f=0;for(;f<h;f++)(null==e.start||d>e.start)&&(t?t(null,o[f]):c.emit("line",o[f])),d++;return u=o[h],l+=s,i()});n.close(s,o)}()}),t?c.destroy:c}},function(e,t,r){"use strict";const n=r(149),i=r(150),{Stream:s}=r(24),o=r(17);e.exports=class extends o{constructor(e={}){super(e),this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80)}log(e,t){this._request(e,(t,r)=>{r&&200!==r.statusCode&&(t=new Error("Invalid HTTP Status Code: "+r.statusCode)),t?this.emit("warn",t):this.emit("logged",e)}),t&&setImmediate(t)}query(e,t){"function"==typeof e&&(t=e,e={}),(e={method:"query",params:this.normalizeQuery(e)}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),this._request(e,(e,r,n)=>{if(r&&200!==r.statusCode&&(e=new Error("Invalid HTTP Status Code: "+r.statusCode)),e)return t(e);if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return t(e)}t(null,n)})}stream(e={}){const t=new s;(e={method:"stream",params:e}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth);let r="";const n=this._request(e);return t.destroy=()=>n.destroy(),n.on("data",e=>{const n=(e=(r+e).split(/\n+/)).length-1;let i=0;for(;i<n;i++)try{t.emit("log",JSON.parse(e[i]))}catch(e){t.emit("error",e)}r=e[n]}),n.on("error",e=>t.emit("error",e)),t}_request(e,t){const r=(e=e||{}).auth||this.auth,s=e.path||this.path||"";delete e.auth,delete e.path;const o=(this.ssl?i:n).request({method:"POST",host:this.host,port:this.port,path:"/"+s.replace(/^\//,""),headers:this.headers,auth:r?`${r.username}:${r.password}`:"",agent:this.agent});o.on("error",t),o.on("response",e=>e.on("end",()=>t(null,e)).resume()),o.end(Buffer.from(JSON.stringify(e),"utf8"))}}},function(e,t,r){"use strict";const n=r(192),{MESSAGE:i}=r(1),s=r(14),o=r(17);e.exports=class extends o{constructor(e={}){if(super(e),!e.stream||!n(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=e.eol||s.EOL}log(e,t){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode)return this._stream.write(e),void(t&&t());this._stream.write(`${e[i]}${this.eol}`),t&&t()}}},function(e,t,r){"use strict";const{Stream:n,Transform:i}=r(24),s=r(109),{LEVEL:o,SPLAT:a}=r(1),c=r(192),u=r(194),l=r(197),d=r(75),h=r(403),{warn:f}=r(179),p=r(108),g=/%[scdjifoO%]/g;class m extends i{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){const t=this;return Object.create(t,{write:{value:function(r){const n=Object.assign({},e,r);r instanceof Error&&(n.stack=r.stack,n.message=r.message),t.write(n)}}})}configure({silent:e,format:t,defaultMeta:n,levels:i,level:s="info",exitOnError:o=!0,transports:a,colors:c,emitErrs:d,formatters:h,padLevels:f,rewriters:g,stripColors:m,exceptionHandlers:v,rejectionHandlers:y}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=t||this.format||r(56)(),this.defaultMeta=n||null,this.levels=i||this.levels||p.npm.levels,this.level=s,this.exceptions=new u(this),this.rejections=new l(this),this.profilers={},this.exitOnError=o,a&&(a=Array.isArray(a)?a:[a]).forEach(e=>this.add(e)),c||d||h||f||g||m)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));v&&this.exceptions.handle(v),y&&this.rejections.handle(y)}isLevelEnabled(e){const t=v(this.levels,e);if(null===t)return!1;const r=v(this.levels,this.level);return null!==r&&(this.transports&&0!==this.transports.length?-1!==this.transports.findIndex(e=>{let n=v(this.levels,e.level);return null===n&&(n=r),n>=t}):r>=t)}log(e,t,...r){if(1===arguments.length)return e[o]=e.level,this._addDefaultMeta(e),this.write(e),this;if(2===arguments.length)return t&&"object"==typeof t?(t[o]=t.level=e,this._addDefaultMeta(t),this.write(t),this):(this.write({[o]:e,level:e,message:t}),this);const[n]=r;if("object"==typeof n&&null!==n){if(!(t&&t.match&&t.match(g))){const i=Object.assign({},this.defaultMeta,n,{[o]:e,[a]:r,level:e,message:t});return n.message&&(i.message+=""+n.message),n.stack&&(i.stack=n.stack),this.write(i),this}}return this.write(Object.assign({},this.defaultMeta,{[o]:e,[a]:r,level:e,message:t})),this}_transform(e,t,r){if(this.silent)return r();e[o]||(e[o]=e.level),this.levels[e[o]]||0===this.levels[e[o]]||console.error("[winston] Unknown logger level: %s",e[o]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",e);try{this.push(this.format.transform(e,this.format.options))}catch(e){throw e}finally{r()}}_final(e){const t=this.transports.slice();s(t,(e,t)=>{if(!e||e.finished)return setImmediate(t);e.once("finish",t),e.end()},e)}add(e){const t=!c(e)||e.log.length>2?new d({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",t),this._onEvent("warn",t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){let t=e;return(!c(e)||e.log.length>2)&&(t=this.transports.filter(t=>t.transport===e)[0]),t&&this.unpipe(t),this}clear(){return this.unpipe(),this}close(){return this.clear(),this.emit("close"),this}setLevels(){f.deprecated("setLevels")}query(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};const r={},n=Object.assign({},e.query||{});s(this.transports.filter(e=>!!e.query),(function(t,i){!function(t,r){e.query&&"function"==typeof t.formatQuery&&(e.query=t.formatQuery(n)),t.query(e,(n,i)=>{if(n)return r(n);"function"==typeof t.formatResults&&(i=t.formatResults(i,e.format)),r(null,i)})}(t,(e,n)=>{i&&((n=e||n)&&(r[t.name]=n),i()),i=null})}),()=>t(null,r))}stream(e={}){const t=new n,r=[];return t._streams=r,t.destroy=()=>{let e=r.length;for(;e--;)r[e].destroy()},this.transports.filter(e=>!!e.stream).forEach(n=>{const i=n.stream(e);i&&(r.push(i),i.on("log",e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("log",e)}),i.on("error",e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("error",e)}))}),t}startTimer(){return new h(this)}profile(e,...t){const r=Date.now();if(this.profilers[e]){const n=this.profilers[e];delete this.profilers[e],"function"==typeof t[t.length-2]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());const i="object"==typeof t[t.length-1]?t.pop():{};return i.level=i.level||"info",i.durationMs=r-n,i.message=i.message||e,this.write(i)}return this.profilers[e]=r,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}_onEvent(e,t){t["__winston"+e]||(t["__winston"+e]=function(r){this.emit(e,r,t)}.bind(this),t.on(e,t["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}}function v(e,t){const r=e[t];return r||0===r?r:null}Object.defineProperty(m.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}}),e.exports=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){((0,n.default)(e)?h:f)(e,(0,l.default)(t),r)};var n=d(r(66)),i=d(r(188)),s=d(r(185)),o=d(r(189)),a=d(r(104)),c=d(r(186)),u=d(r(187)),l=d(r(67));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r){r=(0,c.default)(r||a.default);var n=0,s=0,o=e.length;function l(e,t){e?r(e):++s!==o&&t!==i.default||r(null)}for(0===o&&r(null);n<o;n++)t(e[n],n,(0,u.default)(l))}var f=(0,o.default)(s.default,1/0);e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,n){return e(t,n)}},e.exports=t.default},function(e,t,r){"use strict";e.exports=class{constructor(e){if(!e)throw new Error("Logger is required for profiling.");this.logger=e,this.start=Date.now()}done(...e){"function"==typeof e[e.length-1]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());const t="object"==typeof e[e.length-1]?e.pop():{};return t.level=t.level||"info",t.durationMs=Date.now()-this.start,this.logger.write(t)}}},function(e,t,r){"use strict";const n=r(193);e.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,t){if(!this.loggers.has(e)){const r=(t=Object.assign({},t||this.options)).transports||this.options.transports;t.transports=r?r.slice():[];const i=n(t);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,t){return this.add(e,t)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((e,t)=>this._removeLogger(t))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(49),i=r(111),s=r(103),o=r(112),a=r(110);class c extends n.BaseApi{constructor(){super(...arguments),this.prefix="nvim_",this.Buffer=s.Buffer,this.Window=a.Window,this.Tabpage=o.Tabpage}get apiInfo(){return this.request(this.prefix+"get_api_info")}get buffers(){return this.request(this.prefix+"list_bufs")}get buffer(){return i.createChainableApi.call(this,"Buffer",s.Buffer,()=>this.request(this.prefix+"get_current_buf"))}set buffer(e){this.request(this.prefix+"set_current_buf",[e])}get chans(){return this.request(this.prefix+"list_chans")}getChanInfo(e){return this.request(this.prefix+"get_chan_info",[e])}get commands(){return this.getCommands()}getCommands(e={}){return this.request(this.prefix+"get_commands",[e])}get tabpages(){return this.request(this.prefix+"list_tabpages")}get tabpage(){return i.createChainableApi.call(this,"Tabpage",o.Tabpage,()=>this.request(this.prefix+"get_current_tabpage"))}set tabpage(e){this.request(this.prefix+"set_current_tabpage",[e])}get windows(){return this.getWindows()}get window(){return this.getWindow()}set window(e){this.setWindow(e)}getWindows(){return this.request(this.prefix+"list_wins")}getWindow(){return i.createChainableApi.call(this,"Window",a.Window,()=>this.request(this.prefix+"get_current_win"))}setWindow(e){return this.request(this.prefix+"set_current_win",[e])}get runtimePaths(){return this.request(this.prefix+"list_runtime_paths")}set dir(e){this.request(this.prefix+"set_current_dir",[e])}get line(){return this.getLine()}set line(e){"string"==typeof e&&this.setLine(e)}getLine(){return this.request(this.prefix+"get_current_line")}setLine(e){return this.request(this.prefix+"set_current_line",[e])}getKeymap(e){return this.request(this.prefix+"get_keymap",[e])}get mode(){return this.request(this.prefix+"get_mode")}get colorMap(){return this.request(this.prefix+"get_color_map")}getColorByName(e){return this.request(this.prefix+"get_color_by_name",[e])}getHighlight(e,t=!0){const r="string"==typeof e?"by_name":"by_id";return this.request(`${this.prefix}get_hl_${r}`,[e,t])}getHighlightByName(e,t=!0){return this.request(this.prefix+"get_hl_by_name",[e,t])}getHighlightById(e,t=!0){return this.request(this.prefix+"get_hl_by_id",[e,t])}deleteCurrentLine(){return this.request(this.prefix+"del_current_line")}eval(e){return this.request(this.prefix+"eval",[e])}lua(e,t=[]){const r=Array.isArray(t)?t:[t];return this.request(this.prefix+"execute_lua",[e,r])}executeLua(e,t=[]){return this.lua(e,t)}callDictFunction(e,t,r=[]){const n=Array.isArray(r)?r:[r];return this.request(this.prefix+"call_dict_function",[e,t,n])}call(e,t=[]){const r=Array.isArray(t)?t:[t];return this.request(this.prefix+"call_function",[e,r])}callFunction(e,t=[]){return this.call(e,t)}callAtomic(e){return this.request(this.prefix+"call_atomic",[e])}command(e){return this.request(this.prefix+"command",[e])}commandOutput(e){return this.request(this.prefix+"command_output",[e])}getVvar(e){return this.request(this.prefix+"get_vvar",[e])}setVvar(e,t){return this.request(this.prefix+"set_vvar",[e,t])}feedKeys(e,t,r){return this.request(this.prefix+"feedkeys",[e,t,r])}input(e){return this.request(this.prefix+"input",[e])}inputMouse(e,t,r,n,i,s){return this.request(this.prefix+"input_mouse",[e,t,r,n,i,s])}parseExpression(e,t,r){return this.request(this.prefix+"parse_expression",[e,t,r])}getProc(e){return this.request(this.prefix+"get_proc",[e])}getProcChildren(e){return this.request(this.prefix+"get_proc_children",[e])}replaceTermcodes(e,t,r,n){return this.request(this.prefix+"replace_termcodes",[e,t,r,n])}strWidth(e){return this.request(this.prefix+"strwidth",[e])}outWrite(e){return this.request(this.prefix+"out_write",[e])}outWriteLine(e){return this.outWrite(e+"\n")}errWrite(e){return this.request(this.prefix+"err_write",[e])}errWriteLine(e){return this.request(this.prefix+"err_writeln",[e])}get uis(){return this.request(this.prefix+"list_uis")}uiAttach(e,t,r){return this.request(this.prefix+"ui_attach",[e,t,r])}uiDetach(){return this.request(this.prefix+"ui_detach",[])}uiTryResize(e,t){return this.request(this.prefix+"ui_try_resize",[e,t])}uiTryResizeGrid(e,t,r){return this.request(this.prefix+"ui_try_resize_grid",[e,t,r])}uiSetOption(e,t){return this.request(this.prefix+"ui_set_option",[e,t])}subscribe(e){return this.request(this.prefix+"subscribe",[e])}unsubscribe(e){return this.request(this.prefix+"unsubscribe",[e])}setClientInfo(e,t,r,n,i){this.request(this.prefix+"set_client_info",[e,t,r,n,i])}createNamespace(e=""){return this.request(this.prefix+"create_namespace",[e])}get namespaces(){return this.getNamespaces()}getNamespaces(){return this.request(this.prefix+"get_namespaces")}selectPopupmenuItem(e,t,r,n={}){return this.request(this.prefix+"select_popupmenu_item",[e,t,r,n])}createBuf(e,t){return this.request(this.prefix+"create_buf",[e,t])}createBuffer(e,t){return this.createBuf(e,t)}openWin(e,t,r){return this.request(this.prefix+"open_win",[e,t,r])}openWindow(e,t,r){return this.openWin(e,t,r)}winConfig(e,t={}){return e.config(t)}windowConfig(e,t={}){return this.winConfig(e,t)}winClose(e,t){return e.close(t)}windowClose(e,t){return this.winClose(e,t)}quit(){this.command("qa!")}}t.Neovim=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.taskQueue=void 0;const n=r(12);t.taskQueue=new class{constructor(){this._logger=n.Logger.get("TaskQueue"),this._taskQueue={}}isRunning(e){return this._taskQueue[e]&&this._taskQueue[e].tasks.some(e=>e.isRunning)}numHighPriority(e){return this._taskQueue[e]?this._taskQueue[e].tasks.filter(e=>e.isHighPriority).length:0}async runTasks(e){for(;this._taskQueue[e].tasks.length>0;){let t=this._taskQueue[e].tasks[0];try{t.isRunning=!0,await t.promise(),t.isRunning=!1}catch(e){this._logger.error(`Error running task. ${e.message}.`)}finally{this.dequeueTask(t)}}}dequeueTask(e){this._taskQueue[e.queue].tasks=this._taskQueue[e.queue].tasks.filter(t=>t!==e)}enqueueTask(e,t="default",r=!1){let n={promise:e,queue:t,isHighPriority:r,isRunning:!1};if(this._taskQueue[t]||(this._taskQueue[t]={tasks:[]}),r){const e=this.numHighPriority(t);this._taskQueue[t].tasks.splice(e,0,n)}else this._taskQueue[t].tasks.push(n);this.isRunning(t)||this.runTasks(t)}}}]);
//# sourceMappingURL=extension.js.map