/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.14.3(dc287eaa860a16e82ea8dd1a547599a9f416cd95)
 * Released under the MIT license
 * https://github.com/Microsoft/vscode/blob/master/LICENSE.txt
 *-----------------------------------------------------------*/
(function(){
var e=["exports","require","vs/nls","vs/base/common/lifecycle","vs/platform/instantiation/common/instantiation","vs/base/common/event","vs/base/common/uri","vs/platform/registry/common/platform","vs/base/browser/dom","vs/platform/configuration/common/configuration","vs/workbench/services/editor/common/editorService","vs/platform/contextkey/common/contextkey","vs/platform/theme/common/themeService","vs/base/common/async","vs/base/common/actions","vs/base/common/winjs.base","vs/platform/files/common/files","vs/workbench/common/editor","vs/base/common/errors","vs/base/common/arrays","vs/base/common/platform","vs/platform/workspace/common/workspace","vs/base/common/strings","vs/css!vs/editor/codesandbox.editor.main","vs/base/common/resources","vs/platform/notification/common/notification","vs/platform/actions/common/actions","vs/platform/theme/common/colorRegistry","vs/platform/storage/common/storage","vs/base/common/types","vs/platform/telemetry/common/telemetry","vs/workbench/services/textfile/common/textfiles","vs/base/common/network","vs/base/common/paths","vs/platform/commands/common/commands","vs/workbench/api/node/extHost.protocol","vs/editor/common/services/modeService","vs/platform/contextview/browser/contextView","vs/editor/common/services/modelService","vs/base/common/objects","vs/workbench/api/electron-browser/extHostCustomers","vs/workbench/services/group/common/editorGroupsService","vs/platform/windows/common/windows","vs/platform/keybinding/common/keybinding","vs/base/common/map","vs/workbench/services/extensions/common/extensions","vs/editor/common/core/range","vs/workbench/common/actions","vs/platform/environment/common/environment","vs/workbench/services/part/common/partService","vs/platform/theme/common/styler","vs/workbench/services/viewlet/browser/viewlet","vs/base/common/cancellation","vs/base/browser/ui/actionbar/actionbar","vs/platform/quickOpen/common/quickOpen","vs/platform/label/common/label","vs/workbench/services/untitled/common/untitledEditorService","vs/workbench/common/theme","vs/editor/common/services/resolverService","vs/platform/list/browser/listService","vs/workbench/services/preferences/common/preferences","vs/platform/quickinput/common/quickInput","vs/base/common/color","vs/editor/browser/editorBrowser","vs/workbench/browser/quickopen","path","vs/workbench/parts/files/common/files","vs/editor/browser/editorExtensions","vs/platform/log/common/log","vs/base/common/keyCodes","vs/platform/lifecycle/common/lifecycle","vs/platform/search/common/search","vs/base/browser/keyboardEvent","vs/base/common/json","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/configuration/common/configurationRegistry","vs/platform/progress/common/progress","vs/base/parts/quickopen/browser/quickOpenModel","vs/workbench/services/extensions/common/extensionsRegistry","vs/editor/common/modes","vs/editor/common/model/textModel","vs/base/common/filters","vs/workbench/browser/parts/editor/baseEditor","vs/editor/browser/services/codeEditorService","vs/base/common/errorMessage","vs/platform/dialogs/common/dialogs","vs/workbench/browser/dnd","vs/workbench/browser/viewlet","vs/editor/common/core/editOperation","vs/workbench/services/themes/common/workbenchThemeService","vs/base/common/collections","vs/editor/common/core/selection","vs/platform/extensionManagement/common/extensionManagement","vs/workbench/services/panel/common/panelService","vs/workbench/services/configuration/common/configuration","vs/platform/instantiation/common/extensions","vs/platform/extensionManagement/common/extensionManagementUtil","vs/base/common/labels","vs/base/browser/ui/widget","vs/platform/clipboard/common/clipboardService","vs/codesandbox/services/codesandbox/common/codesandbox","vs/workbench/services/backup/common/backup","vs/workbench/browser/labels","vs/workbench/browser/editor","vs/workbench/browser/parts/editor/editor","vs/base/browser/mouseEvent","vs/editor/common/services/resourceConfiguration","vs/workbench/parts/preferences/common/preferences","vs/workbench/common/contributions","vs/workbench/common/views","vs/workbench/browser/parts/quickopen/quickopen","vs/workbench/browser/actions","vs/editor/browser/services/bulkEditService","vs/editor/common/services/getIconClasses","vs/workbench/services/hash/common/hashService","vs/workbench/parts/snippets/electron-browser/snippets.contribution","vs/workbench/common/editor/resourceEditorInput","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/workbench/parts/files/common/explorerModel","vs/editor/contrib/snippet/snippetController2","vs/base/browser/ui/splitview/splitview","vs/platform/instantiation/common/descriptors","vs/workbench/services/workspace/common/workspaceEditing","vs/workbench/browser/parts/editor/editorCommands","vs/workbench/browser/parts/editor/breadcrumbs","vs/base/browser/ui/button/button","vs/workbench/parts/search/common/searchModel","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/browser","vs/editor/common/core/position","vs/platform/actions/browser/menuItemActionItem","vs/base/browser/touch","vs/workbench/services/activity/common/activity","vs/workbench/browser/parts/editor/textEditor","vs/editor/common/editorContextKeys","vs/platform/opener/common/opener","vs/workbench/common/editor/diffEditorInput","vs/workbench/common/editor/textEditorModel","vs/workbench/parts/search/common/search","vs/workbench/parts/search/common/replace","vs/workbench/services/textfile/common/textFileEditorModel","vs/workbench/common/component","vs/workbench/parts/files/common/editors/fileEditorInput","vs/workbench/browser/part","vs/base/common/htmlContent","vs/workbench/services/history/common/history","vs/workbench/services/decorations/browser/decorations","electron","vs/editor/contrib/documentSymbols/outlineModel","vs/workbench/services/configuration/common/jsonEditing","vs/base/browser/dnd","vs/workbench/parts/search/browser/searchActions","vs/base/common/glob","vs/workbench/common/editor/binaryEditorModel","vs/platform/statusbar/common/statusbar","vs/workbench/common/editor/untitledEditorInput","vs/editor/common/model","vs/base/parts/quickopen/common/quickOpenScorer","vs/base/common/idGenerator","vs/base/browser/ui/inputbox/inputBox","vs/css!vs/workbench/browser/parts/quickinput/quickInput","vs/base/common/scanCode","vs/workbench/parts/preferences/browser/preferencesWidgets","vs/workbench/common/resources","vs/base/common/decorators","vs/base/node/pfs","vs/base/common/mime","vs/workbench/parts/search/common/constants","vs/platform/url/common/url","vs/workbench/browser/parts/views/panelViewlet","vs/editor/common/config/editorOptions","vs/editor/common/modes/modesRegistry","vs/workbench/browser/parts/editor/sideBySideEditor","vs/workbench/browser/parts/editor/binaryEditor","vs/editor/common/view/editorColorRegistry","vs/workbench/browser/parts/statusbar/statusbar","vs/workbench/parts/files/electron-browser/fileActions","vs/editor/common/services/editorWorkerService","vs/platform/workspaces/common/workspaces","vs/workbench/api/electron-browser/mainThreadHeapService","vs/workbench/parts/files/electron-browser/fileCommands","vs/workbench/parts/preferences/browser/settingsWidgets","vs/workbench/parts/search/common/queryBuilder","vs/workbench/services/mode/common/workbenchModeService","vs/base/common/severity","vs/workbench/parts/preferences/browser/settingsTreeModels","vs/base/common/jsonErrorMessages","vs/workbench/services/preferences/common/preferencesModels","vs/workbench/browser/parts/editor/editorActions","vs/codesandbox/services/codesandbox/inputs/ReactEditorInput","vs/base/common/comparers","os","vs/workbench/browser/parts/compositeBarActions","vs/base/common/keybindingParser","vs/workbench/services/jsonschemas/common/jsonValidationExtensionPoint","vs/workbench/common/editor/textDiffEditorModel","vs/workbench/common/editor/editorGroup","vs/base/parts/tree/browser/treeImpl","vs/workbench/parts/files/electron-browser/views/explorerViewer","vs/workbench/parts/search/browser/openSymbolHandler","vs/workbench/common/editor/diffEditorModel","vs/workbench/common/editor/dataUriEditorInput","vs/workbench/parts/files/browser/files","vs/workbench/services/extensions/electron-browser/inactiveExtensionUrlHandler","vs/base/browser/ui/iconLabel/iconLabel","vs/workbench/services/extensions/node/proxyIdentifier","vs/workbench/browser/parts/quickinput/quickInputUtils","vs/workbench/parts/snippets/electron-browser/snippetCompletionProvider","vs/workbench/parts/snippets/electron-browser/snippetsFile","vs/base/browser/ui/checkbox/checkbox","vs/workbench/api/electron-browser/mainThreadEditor","vs/editor/browser/widget/codeEditorWidget","vs/workbench/parts/preferences/browser/settingsLayout","vs/workbench/browser/parts/editor/editorWidgets","vs/workbench/services/extensions/electron-browser/extensionService","vs/workbench/browser/parts/editor/breadcrumbsModel","vs/workbench/api/electron-browser/mainThreadEditors","vs/workbench/api/node/extHostTypes","vs/workbench/browser/parts/editor/editorPicker","vs/platform/markers/common/markers","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/workbench/parts/codeEditor/electron-browser/selectionClipboard","vs/platform/telemetry/common/telemetryUtils","vs/editor/common/modes/languageConfigurationRegistry","vs/workbench/parts/codeEditor/browser/menuPreventer","vs/workbench/browser/actions/workspaceActions","vs/workbench/browser/actions/workspaceCommands","vs/workbench/parts/preferences/electron-browser/preferencesSearch","vs/workbench/parts/snippets/electron-browser/snippetsService","vs/editor/contrib/suggest/suggest","vs/base/common/performance","vs/workbench/electron-browser/resources","vs/workbench/browser/parts/quickinput/quickInput","vs/base/browser/ui/progressbar/progressbar","vs/platform/node/package","vs/workbench/services/preferences/common/keybindingsEditorModel","vs/platform/broadcast/electron-browser/broadcastService","vs/workbench/services/crashReporter/electron-browser/crashReporterService","vs/workbench/parts/preferences/browser/settingsTree","vs/platform/node/product","vs/base/parts/tree/browser/treeDefaults","vs/css!vs/workbench/browser/parts/editor/media/breadcrumbscontrol","vs/workbench/services/preferences/common/preferencesEditorInput","vs/workbench/parts/preferences/browser/keybindingWidgets","vs/workbench/services/search/common/searchHelpers","vs/css!vs/editor/contrib/documentSymbols/media/symbol-icons","vs/workbench/services/textMate/electron-browser/textMateService","vs/base/browser/ui/splitview/panelview","vs/base/browser/ui/grid/gridview","vs/workbench/browser/parts/editor/textDiffEditor","vs/base/browser/event","vs/workbench/browser/panel","vs/workbench/browser/parts/quickopen/quickOpenController","vs/base/browser/ui/scrollbar/scrollableElement","vs/css!vs/base/browser/ui/grid/gridview","vs/workbench/api/node/extHostTypeConverters","vs/codesandbox/services/codesandbox/browser/codesandboxService","vs/platform/instantiation/common/serviceCollection","vs/workbench/services/progress/browser/progressService","vs/workbench/services/keybinding/common/keybindingEditing","vs/workbench/api/shared/editor","vs/workbench/services/themes/common/colorThemeSchema","vs/base/node/stream","vs/workbench/services/themes/electron-browser/fileIconThemeData","vs/workbench/services/themes/electron-browser/colorThemeData","net","vs/workbench/parts/search/browser/searchWidget","vs/workbench/api/electron-browser/mainThreadDocuments","vs/workbench/browser/composite","fs","vs/base/node/extfs","vs/workbench/parts/output/common/output","vs/base/common/amd","vs/workbench/browser/parts/editor/breadcrumbsControl","vs/workbench/browser/parts/editor/titleControl","vs/workbench/services/editor/browser/editorService","vs/workbench/browser/parts/editor/binaryDiffEditor","vs/base/common/jsonEdit","vs/workbench/common/editor/resourceEditorModel","vs/workbench/browser/parts/views/viewsViewlet","vs/base/common/errorsWithActions","vs/workbench/parts/preferences/common/smartSnippetInserter","vs/workbench/parts/search/browser/patternInputWidget","vs/css!vs/workbench/browser/parts/activitybar/media/activityaction","vs/platform/widget/browser/contextScopedHistoryWidget","vs/css!vs/workbench/browser/parts/activitybar/media/activitybarpart","vs/editor/contrib/indentation/indentation","vs/codesandbox/hashService","vs/workbench/parts/preferences/electron-browser/preferences.contribution","vs/editor/common/modes/nullMode","vs/css!vs/workbench/browser/parts/editor/media/editordroptarget","vs/css!vs/workbench/browser/parts/editor/media/editorgroupview","vs/css!vs/workbench/browser/parts/editor/media/editorpicker","vs/workbench/parts/snippets/electron-browser/configureSnippets","vs/css!vs/workbench/browser/parts/editor/media/editorstatus","vs/css!vs/workbench/browser/parts/editor/media/notabstitlecontrol","vs/editor/contrib/snippet/snippetParser","vs/css!vs/workbench/browser/parts/editor/media/resourceviewer","vs/workbench/parts/preferences/browser/preferencesActions","vs/workbench/parts/snippets/electron-browser/insertSnippet","vs/workbench/parts/terminal/common/terminal","vs/workbench/services/textMate/electron-browser/TMSyntax","vs/css!vs/workbench/browser/parts/editor/media/tabstitlecontrol","vs/workbench/common/editor/untitledEditorModel","vs/platform/url/common/urlService","vs/platform/windows/electron-browser/windowService","vs/css!vs/workbench/browser/parts/editor/media/titlecontrol","vs/editor/contrib/documentSymbols/outlineTree","vs/workbench/parts/files/electron-browser/files.contribution","vs/css!vs/workbench/browser/parts/media/compositepart","vs/codesandbox/outputService","vs/css!vs/workbench/browser/parts/quickopen/media/quickopen","vs/css!vs/workbench/browser/parts/sidebar/media/sidebarpart","vs/workbench/services/decorations/browser/decorationsService","vs/workbench/parts/files/electron-browser/explorerViewlet","vs/css!vs/workbench/browser/parts/statusbar/media/statusbarpart","vs/codesandbox/services/codesandbox/browser/codesandboxEditorConnectorService","vs/css!vs/workbench/browser/parts/views/media/panelviewlet","vs/workbench/parts/files/electron-browser/views/openEditorsView","vs/workbench/api/node/apiCommands","vs/platform/extensionManagement/common/extensionEnablementService","vs/workbench/browser/parts/editor/rangeDecorations","vs/workbench/browser/parts/editor/resourceViewer","vs/css!vs/workbench/browser/parts/views/media/views","vs/css!vs/workbench/parts/codeEditor/electron-browser/media/suggestEnabledInput","vs/css!vs/workbench/parts/files/electron-browser/media/explorerviewlet","vs/workbench/browser/parts/statusbar/statusbarPart","vs/workbench/parts/files/electron-browser/views/explorerView","vs/editor/common/editorCommon","vs/css!vs/workbench/parts/files/electron-browser/media/fileactions","crypto","vs/workbench/parts/quickopen/browser/gotoLineHandler","vs/css!vs/workbench/parts/preferences/browser/media/keybindings","vs/css!vs/workbench/parts/preferences/browser/media/keybindingsEditor","vs/workbench/parts/quickopen/browser/gotoSymbolHandler","vs/css!vs/workbench/parts/preferences/browser/media/preferences","vs/workbench/parts/quickopen/browser/helpHandler","vs/css!vs/workbench/parts/preferences/browser/media/settingsWidgets","vs/css!vs/workbench/parts/preferences/electron-browser/media/settingsEditor2","vs/workbench/services/codeEditor/browser/codeEditorService","vs/workbench/parts/files/electron-browser/views/emptyView","vs/css!vs/workbench/parts/search/browser/media/searchview","vs/workbench/parts/quickopen/browser/commandsHandler","vs/workbench/services/commands/common/commandService","vs/css!vs/workbench/parts/search/electron-browser/media/search.contribution","vs/workbench/services/actions/electron-browser/menusExtensionPoint","vs/workbench/services/configuration/common/configurationExtensionPoint","vs/workbench/services/extensions/electron-browser/extensionHost","vs/workbench/parts/files/electron-browser/saveErrorHandler","vs/workbench/services/extensions/electron-browser/extensionHostProfiler","vs/css!vs/workbench/services/progress/browser/media/progressService2","vs/base/browser/ui/dropdown/dropdown","vs/workbench/services/extensions/electron-browser/runtimeExtensionsInput","vs/workbench/services/extensions/node/extensionDescriptionRegistry","vs/workbench/services/extensions/node/extensionPoints","vs/workbench/services/extensions/node/lazyPromise","vs/codesandbox/panelService","vs/codesandbox/requestService","vs/workbench/api/electron-browser/mainThreadClipboard","vs/workbench/api/electron-browser/mainThreadCommands","vs/workbench/browser/parts/quickinput/quickInputBox","vs/workbench/api/electron-browser/mainThreadConfiguration","vs/workbench/api/electron-browser/mainThreadDecorations","vs/workbench/api/electron-browser/mainThreadDiagnostics","vs/workbench/api/electron-browser/mainThreadDialogs","vs/workbench/api/electron-browser/mainThreadDocumentContentProviders","vs/base/browser/contextmenu","vs/codesandbox/codesandbox.services","vs/workbench/browser/parts/quickinput/quickInputList","vs/workbench/api/electron-browser/mainThreadErrors","vs/workbench/api/electron-browser/mainThreadFileSystem","vs/base/node/console","vs/codesandbox/shims/encoding","vs/workbench/api/electron-browser/mainThreadLanguageFeatures","vs/workbench/api/electron-browser/mainThreadLanguages","vs/workbench/api/electron-browser/mainThreadLogService","vs/workbench/api/electron-browser/mainThreadMessageService","vs/workbench/api/electron-browser/mainThreadProgress","vs/codesandbox/storageService","vs/workbench/api/electron-browser/mainThreadQuickOpen","vs/workbench/api/electron-browser/mainThreadStatusBar","vs/workbench/api/electron-browser/mainThreadStorage","vs/workbench/api/electron-browser/mainThreadTelemetry","vs/workbench/api/electron-browser/mainThreadUrls","vs/workbench/api/electron-browser/mainThreadWindow","vs/workbench/services/extensions/node/rpcProtocol","vs/codesandbox/windowsService","vs/workbench/api/electron-browser/mainThreadExtensionService","vs/workbench/services/files/node/watcher/common","vs/codesandbox/fileService","vs/codesandbox/workspacesService","vs/platform/extensionManagement/node/extensionManagementUtil","semver","vs/workbench/browser/actions/toggleEditorLayout","vs/workbench/browser/actions/toggleTabsVisibility","vs/workbench/common/activity","vs/platform/extensions/common/extensionHost","vs/platform/extensions/common/extensions","vs/css!vs/base/browser/ui/breadcrumbs/breadcrumbsWidget","vs/base/common/octicon","vs/css!vs/base/browser/ui/button/button","vs/workbench/services/keybinding/common/keybindingIO","vs/workbench/services/keybinding/common/macLinuxFallbackKeyboardMapper","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/codesandbox/keybindingService","vs/base/node/ports","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/codesandbox/services/codesandbox/common/codesandboxEditorConnector","vs/workbench/services/keybinding/common/windowsKeyboardMapper","vs/base/common/keybindingLabels","vs/workbench/parts/preferences/browser/keybindingsEditorContribution","vs/codesandbox/workbench","vs/workbench/api/electron-browser/extensionHost.contribution","vs/base/parts/ipc/node/ipc.net","vs/editor/codesandbox.editor.api","vs/workbench/parts/snippets/electron-browser/tabCompletion","vs/base/common/jsonFormatter","vs/workbench/services/backup/node/backupFileService","vs/workbench/browser/actions/toggleActivityBarVisibility","vs/workbench/browser/actions/toggleSidebarPosition","vs/workbench/browser/actions/toggleSidebarVisibility","vs/workbench/browser/actions/toggleZenMode","vs/workbench/browser/parts/editor/editorControl","vs/base/parts/ipc/node/ipc","vs/base/browser/ui/countBadge/countBadge","vs/workbench/common/extensionHostProtocol","vs/workbench/common/memento","vs/workbench/browser/parts/quickinput/quickInput.contribution","vs/workbench/services/history/electron-browser/history","vs/codesandbox/commandService","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/base/parts/tree/browser/treeUtils","vs/base/browser/ui/breadcrumbs/breadcrumbsWidget","vs/workbench/api/electron-browser/mainThreadWorkspace","vs/base/browser/ui/aria/aria","vs/codesandbox/activityService","vs/codesandbox/backupFileService","vs/css!vs/base/browser/ui/splitview/panelview","vs/workbench/parts/preferences/browser/tocTree","vs/workbench/parts/preferences/common/preferencesContribution","vs/workbench/parts/preferences/electron-browser/settingsEditor2","vs/platform/extensions/node/extensionValidator","vs/css!vs/base/browser/ui/splitview/splitview","vs/workbench/parts/preferences/browser/preferencesRenderers","vs/workbench/services/preferences/browser/preferencesService","vs/codesandbox/notificationService","vs/codesandbox/broadcastService","vs/workbench/services/search/node/searchHistoryService","vs/workbench/services/textMate/electron-browser/TMGrammars","vs/codesandbox/clipboardService","vs/workbench/parts/codeEditor/electron-browser/languageConfiguration/languageConfigurationExtensionPoint","vs/base/common/numbers","vs/workbench/api/electron-browser/mainThreadFileSystemEventService","vs/workbench/parts/codeEditor/browser/simpleEditorOptions","vs/workbench/parts/codeEditor/electron-browser/largeFileOptimizations","vs/editor/browser/widget/diffNavigator","vs/workbench/services/viewlet/browser/viewletService","vs/editor/standalone/browser/codesandbox.standaloneEditor","vs/workbench/parts/codeEditor/electron-browser/suggestEnabledInput","vs/codesandbox/crashReporterService","vs/workbench/services/progress/browser/progressService2","vs/workbench/browser/parts/quickopen/quickopen.contribution","vs/base/browser/ui/centered/centeredViewLayout","vs/workbench/browser/parts/editor/textResourceEditor","vs/workbench/services/workspace/node/workspaceEditingService","vs/workbench/browser/parts/sidebar/sidebarPart","vs/codesandbox/environmentService","vs/codesandbox/services/codesandbox/configurationUIService","vs/codesandbox/services/codesandbox/inputs/reactEditor","vs/codesandbox/services/codesandbox/codesandbox.contribution","vs/codesandbox/codesandbox.all","vs/workbench/parts/files/browser/editors/binaryFileEditor","vs/workbench/parts/files/browser/editors/fileEditorTracker","vs/workbench/parts/preferences/browser/preferencesEditor","vs/workbench/browser/parts/editor/editorPart","vs/editor/contrib/find/findController","vs/workbench/browser/parts/editor/editorGroupView","vs/workbench/parts/codeEditor/electron-browser/toggleMinimap","vs/workbench/browser/parts/compositePart","vs/workbench/parts/search/browser/replaceService","vs/workbench/parts/search/browser/replaceContributions","vs/workbench/services/bulkEdit/electron-browser/bulkEditService","vs/workbench/services/configuration/node/jsonEditingService","vs/workbench/parts/codeEditor/electron-browser/toggleMultiCursorModifier","vs/workbench/parts/codeEditor/electron-browser/toggleRenderControlCharacter","vs/workbench/parts/preferences/browser/keybindingsEditor","vs/workbench/parts/codeEditor/electron-browser/toggleRenderWhitespace","vs/codesandbox/services/codesandbox/saveParticipant","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/contrib/format/format","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/codeAction/codeActionTrigger","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/codeAction/codeAction","vs/workbench/api/electron-browser/mainThreadSaveParticipant","vs/workbench/services/textfile/common/textFileEditorModelManager","vs/workbench/services/textfile/common/textFileService","vs/workbench/services/themes/common/colorExtensionPoint","vs/workbench/parts/codeEditor/electron-browser/toggleWordWrap","vs/workbench/services/themes/common/fileIconThemeSchema","vs/base/browser/ui/grid/grid","vs/workbench/parts/search/browser/openFileHandler","vs/workbench/parts/search/browser/openAnythingHandler","vs/codesandbox/extensionGalleryService","vs/workbench/services/themes/electron-browser/fileIconThemeStore","vs/workbench/services/themes/electron-browser/themeCompatibility","vs/workbench/parts/themes/electron-browser/themes.contribution","vs/editor/contrib/find/findModel","vs/codesandbox/fileDialogService","vs/workbench/services/themes/electron-browser/colorThemeStore","vs/workbench/services/themes/electron-browser/workbenchThemeService","vs/workbench/parts/codeEditor/electron-browser/workbenchReferenceSearch","vs/codesandbox/searchService","vs/workbench/parts/search/electron-browser/search.contribution","vs/workbench/parts/extensions/common/extensions","vs/workbench/api/electron-browser/mainThreadDocumentsAndEditors","vs/codesandbox/services/codesandbox/codesandboxActions","vs/codesandbox/configuration.contribution","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/list/listWidget","vs/workbench/browser/parts/compositeBar","vs/workbench/parts/files/electron-browser/views/explorerDecorationsProvider","vs/workbench/browser/parts/editor/breadcrumbsPicker","vs/css!vs/editor/contrib/documentSymbols/media/outlineTree","vs/workbench/browser/parts/editor/editorDropTarget","vs/workbench/browser/parts/editor/editorStatus","vs/workbench/parts/search/browser/searchViewLocationUpdater","vs/workbench/parts/search/browser/searchResultsView","vs/workbench/browser/parts/editor/editor.contribution","vs/platform/search/common/replace","vs/workbench/browser/parts/editor/noTabsTitleControl","vs/workbench/browser/parts/editor/tabsTitleControl","vs/workbench/parts/files/common/dirtyFilesTracker","vs/codesandbox/extensionManagementService","vs/workbench/services/textfile/electron-browser/textFileService","vs/workbench/services/textmodelResolver/common/textModelResolverService","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/workbench/browser/parts/activitybar/activitybarActions","vs/workbench/browser/parts/activitybar/activitybarPart","vs/workbench/parts/search/browser/searchView","vs/css!vs/workbench/browser/actions/media/actions","vs/workbench/browser/parts/views/views","vs/css!vs/workbench/browser/media/part","vs/workbench/parts/files/browser/editors/textFileEditor","vs/workbench/parts/quickopen/browser/viewPickerHandler","vs/workbench/parts/quickopen/browser/quickopen.contribution","vs/codesandbox/lifecycleService","vs/editor/common/model/textModelSearch","vs/editor/common/config/commonEditorConfig","vs/base/common/stopwatch","vs/editor/contrib/referenceSearch/referencesWidget","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/base/node/encoding","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/message/messageController","vs/editor/contrib/folding/folding","vs/base/common/iterator","vs/platform/workbench/common/contextkeys","vs/base/parts/quickopen/browser/quickOpenWidget","vs/editor/browser/widget/diffEditorWidget","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/htmlContentRenderer","vs/editor/common/services/modeServiceImpl","vs/base/node/config","vs/platform/keybinding/common/abstractKeybindingService","util","vs/base/common/marshalling","child_process","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/contrib/quickOpen/quickOpen","vs/base/common/functional","vs/base/parts/tree/browser/tree","vs/base/parts/tree/browser/treeDnd","vs/base/browser/ui/octiconLabel/octiconLabel","vs/base/common/marked/marked","vs/base/common/linkedList","vs/base/node/request","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/linesOperations/linesOperations","vs/base/browser/fastDomNode","vs/editor/contrib/referenceSearch/referencesController","vs/editor/contrib/suggest/suggestController","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/indentation/indentUtils","vs/editor/common/core/token","vs/editor/common/commands/shiftCommand","vs/editor/common/modes/supports/tokenization","vscode-textmate","vs/base/browser/ui/menu/menu","vs/platform/request/node/request","vs/base/browser/ui/sash/sash","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneServices","vs/editor/common/standalone/standaloneEnums","vs/editor/browser/services/openerService","vs/editor/standalone/browser/colorizer","vs/editor/standalone/browser/simpleServices","vs/editor/common/services/webWorker","vs/editor/standalone/common/standaloneThemeService","vs/editor/common/config/fontInfo","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/base/common/uuid","vs/editor/common/standalone/standaloneBase","vs/editor/standalone/browser/standaloneLanguages","vs/base/common/winjs.polyfill.promise","vs/editor/codesandbox.editor.main","vs/editor/editor.all","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard"],t=function(t){
for(var i=[],n=0,r=t.length;n<r;n++)i[n]=e[t[n]];return i};define(e[280],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorWithActions=function(e){return e instanceof Error&&Array.isArray(e.actions)},t.createErrorWithActions=function(e,t){void 0===t&&(t=Object.create(null));var i=new Error(e);return t.actions&&(i.actions=t.actions),i}}),define(e[417],t([1,0,73]),function(e,t,i){"use strict";function n(e,t,n){function s(){return v+r(g,l+y)}function a(){var e=S.scan();for(m=!1;15===e||14===e;)m=m||14===e,e=S.scan();return b=16===e||0!==S.getTokenError(),e}function c(t,i,n){!b&&i<h&&n>p&&e.substring(i,n)!==t&&E.push({offset:i,length:n-i,content:t})}var l,u,d,p,h;if(t){for(p=t.offset,h=p+t.length,d=p;d>0&&!o(e,d-1);)d--;for(var f=h;f<e.length&&!o(e,f);)f++;u=e.substring(d,f),l=function(e,t){var i=0,n=0,r=t.tabSize||4;for(;i<e.length;){var o=e.charAt(i);if(" "===o)n++;else{if("\t"!==o)break;n+=r}i++}return Math.floor(n/r)}(u,n)}else u=e,l=0,d=0,p=0,h=e.length
;var g,v=function(e,t){for(var i=0;i<t.length;i++){var n=t.charAt(i);if("\r"===n)return i+1<t.length&&"\n"===t.charAt(i+1)?"\r\n":"\r";if("\n"===n)return"\n"}return e&&e.eol||"\n"}(n,e),m=!1,y=0;g=n.insertSpaces?r(" ",n.tabSize||4):"\t";var S=i.createScanner(u,!1),b=!1,E=[],_=a();if(17!==_){var C=S.getTokenOffset()+d;c(r(g,l),d,C)}for(;17!==_;){for(var w=S.getTokenOffset()+S.getTokenLength()+d,I=a(),x="";!m&&(12===I||13===I);){c(" ",w,S.getTokenOffset()+d),w=S.getTokenOffset()+S.getTokenLength()+d,x=12===I?s():"",I=a()}if(2===I)1!==_&&(y--,x=s());else if(4===I)3!==_&&(y--,x=s());else{switch(_){case 3:case 1:y++,x=s();break;case 5:case 12:x=s();break;case 13:x=m?s():" ";break;case 6:x=" ";break;case 10:if(6===I){x="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===I||13===I?x=" ":5!==I&&17!==I&&(b=!0);break;case 16:b=!0}!m||12!==I&&13!==I||(x=s())}c(x,w,S.getTokenOffset()+d),_=I}return E}function r(e,t){for(var i="",n=0;n<t;n++)i+=e;return i}function o(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}
Object.defineProperty(t,"__esModule",{value:!0}),t.format=n,t.isEOL=o}),define(e[277],t([1,0,73,417]),function(e,t,i,n){"use strict";function r(e,t,n,r,s){for(var a,c=t.slice(),l=i.parseTree(e,[]),u=void 0,d=void 0;c.length>0&&(d=c.pop(),void 0===(u=i.findNodeAtLocation(l,c))&&void 0!==n);)"string"==typeof d?((a={})[d]=n,n=a):n=[n];if(u){if("object"===u.type&&"string"==typeof d&&Array.isArray(u.children)){var p=i.findNodeAtLocation(u,[d]);if(void 0!==p){if(void 0===n){if(!p.parent)throw new Error("Malformed AST");var h=u.children.indexOf(p.parent),f=void 0,g=p.parent.offset+p.parent.length;if(h>0){f=(E=u.children[h-1]).offset+E.length}else if(f=u.offset+1,u.children.length>1){g=u.children[1].offset}return o(e,{offset:f,length:g-f,content:""},r)}return o(e,{offset:p.offset,length:p.length,content:JSON.stringify(n)},r)}if(void 0===n)return[];var v=JSON.stringify(d)+": "+JSON.stringify(n),m=s?s(u.children.map(function(e){return e.children[0].value})):u.children.length,y=void 0;if(m>0){y={
offset:(E=u.children[m-1]).offset+E.length,length:0,content:","+v}}else y=0===u.children.length?{offset:u.offset+1,length:0,content:v}:{offset:u.offset+1,length:0,content:v+","};return o(e,y,r)}if("array"===u.type&&"number"==typeof d&&Array.isArray(u.children)){if(-1===d){var v=""+JSON.stringify(n),y=void 0;if(0===u.children.length)y={offset:u.offset+1,length:0,content:v};else{y={offset:(E=u.children[u.children.length-1]).offset+E.length,length:0,content:","+v}}return o(e,y,r)}if(void 0===n&&u.children.length>=0){var S=d,b=u.children[S],y=void 0;if(1===u.children.length)y={offset:u.offset+1,length:u.length-2,content:""};else if(u.children.length-1===S){var E=u.children[S-1],_=E.offset+E.length;y={offset:_,length:u.offset+u.length-2-_,content:""}}else y={offset:b.offset,length:u.children[S+1].offset-b.offset,content:""};return o(e,y,r)}throw new Error("Array modification not supported yet")}throw new Error("Can not add "+("number"!=typeof d?"index":"property")+" to parent of type "+u.type)}
if(void 0===n)throw new Error("Can not delete in empty document");return o(e,{offset:l?l.offset:0,length:l?l.length:0,content:JSON.stringify(n)},r)}function o(e,t,i){var r=s(e,t),o=t.offset,a=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;o>0&&!n.isEOL(r,o-1);)o--;for(;a<r.length&&!n.isEOL(r,a);)a++}for(var c=n.format(r,{offset:o,length:a-o},i),l=c.length-1;l>=0;l--){var u=c[l];r=s(r,u),o=Math.min(o,u.offset),a=Math.max(a,u.offset+u.length),a+=u.content.length-u.length}return[{offset:o,length:e.length-(r.length-a)-o,content:r.substring(o,a)}]}function s(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeProperty=function(e,t,i){return r(e,t,void 0,i)},t.setProperty=r,t.applyEdit=s,t.isWS=function(e,t){return-1!=="\r\n \t".indexOf(e.charAt(t))}}),define(e[161],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],n=Object.create(null),r=Object.create(null)
;t.ScanCodeUtils={lowerCaseToEnum:function(e){return r[e]||0},toEnum:function(e){return n[e]||0},toString:function(e){return i[e]||"None"}},t.IMMUTABLE_CODE_TO_KEY_CODE=[],t.IMMUTABLE_KEY_CODE_TO_CODE=[];var o=function(){function e(e,t,i,n,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.scanCode=r}return e.prototype.equals=function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.scanCode===e.scanCode},e.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&(157===this.scanCode||161===this.scanCode)||this.shiftKey&&(158===this.scanCode||162===this.scanCode)||this.altKey&&(159===this.scanCode||163===this.scanCode)||this.metaKey&&(160===this.scanCode||164===this.scanCode)},e}();t.ScanCodeBinding=o,function(){function e(e,t){i[e]=t,n[t]=e,r[t.toLowerCase()]=e}e(0,"None"),e(1,"Hyper"),e(2,"Super"),e(3,"Fn"),e(4,"FnLock"),e(5,"Suspend"),e(6,"Resume"),e(7,"Turbo"),e(8,"Sleep"),e(9,"WakeUp"),e(10,"KeyA"),
e(11,"KeyB"),e(12,"KeyC"),e(13,"KeyD"),e(14,"KeyE"),e(15,"KeyF"),e(16,"KeyG"),e(17,"KeyH"),e(18,"KeyI"),e(19,"KeyJ"),e(20,"KeyK"),e(21,"KeyL"),e(22,"KeyM"),e(23,"KeyN"),e(24,"KeyO"),e(25,"KeyP"),e(26,"KeyQ"),e(27,"KeyR"),e(28,"KeyS"),e(29,"KeyT"),e(30,"KeyU"),e(31,"KeyV"),e(32,"KeyW"),e(33,"KeyX"),e(34,"KeyY"),e(35,"KeyZ"),e(36,"Digit1"),e(37,"Digit2"),e(38,"Digit3"),e(39,"Digit4"),e(40,"Digit5"),e(41,"Digit6"),e(42,"Digit7"),e(43,"Digit8"),e(44,"Digit9"),e(45,"Digit0"),e(46,"Enter"),e(47,"Escape"),e(48,"Backspace"),e(49,"Tab"),e(50,"Space"),e(51,"Minus"),e(52,"Equal"),e(53,"BracketLeft"),e(54,"BracketRight"),e(55,"Backslash"),e(56,"IntlHash"),e(57,"Semicolon"),e(58,"Quote"),e(59,"Backquote"),e(60,"Comma"),e(61,"Period"),e(62,"Slash"),e(63,"CapsLock"),e(64,"F1"),e(65,"F2"),e(66,"F3"),e(67,"F4"),e(68,"F5"),e(69,"F6"),e(70,"F7"),e(71,"F8"),e(72,"F9"),e(73,"F10"),e(74,"F11"),e(75,"F12"),e(76,"PrintScreen"),e(77,"ScrollLock"),e(78,"Pause"),e(79,"Insert"),e(80,"Home"),e(81,"PageUp"),e(82,"Delete"),e(83,"End"),
e(84,"PageDown"),e(85,"ArrowRight"),e(86,"ArrowLeft"),e(87,"ArrowDown"),e(88,"ArrowUp"),e(89,"NumLock"),e(90,"NumpadDivide"),e(91,"NumpadMultiply"),e(92,"NumpadSubtract"),e(93,"NumpadAdd"),e(94,"NumpadEnter"),e(95,"Numpad1"),e(96,"Numpad2"),e(97,"Numpad3"),e(98,"Numpad4"),e(99,"Numpad5"),e(100,"Numpad6"),e(101,"Numpad7"),e(102,"Numpad8"),e(103,"Numpad9"),e(104,"Numpad0"),e(105,"NumpadDecimal"),e(106,"IntlBackslash"),e(107,"ContextMenu"),e(108,"Power"),e(109,"NumpadEqual"),e(110,"F13"),e(111,"F14"),e(112,"F15"),e(113,"F16"),e(114,"F17"),e(115,"F18"),e(116,"F19"),e(117,"F20"),e(118,"F21"),e(119,"F22"),e(120,"F23"),e(121,"F24"),e(122,"Open"),e(123,"Help"),e(124,"Select"),e(125,"Again"),e(126,"Undo"),e(127,"Cut"),e(128,"Copy"),e(129,"Paste"),e(130,"Find"),e(131,"AudioVolumeMute"),e(132,"AudioVolumeUp"),e(133,"AudioVolumeDown"),e(134,"NumpadComma"),e(135,"IntlRo"),e(136,"KanaMode"),e(137,"IntlYen"),e(138,"Convert"),e(139,"NonConvert"),e(140,"Lang1"),e(141,"Lang2"),e(142,"Lang3"),e(143,"Lang4"),e(144,"Lang5"),
e(145,"Abort"),e(146,"Props"),e(147,"NumpadParenLeft"),e(148,"NumpadParenRight"),e(149,"NumpadBackspace"),e(150,"NumpadMemoryStore"),e(151,"NumpadMemoryRecall"),e(152,"NumpadMemoryClear"),e(153,"NumpadMemoryAdd"),e(154,"NumpadMemorySubtract"),e(155,"NumpadClear"),e(156,"NumpadClearEntry"),e(157,"ControlLeft"),e(158,"ShiftLeft"),e(159,"AltLeft"),e(160,"MetaLeft"),e(161,"ControlRight"),e(162,"ShiftRight"),e(163,"AltRight"),e(164,"MetaRight"),e(165,"BrightnessUp"),e(166,"BrightnessDown"),e(167,"MediaPlay"),e(168,"MediaRecord"),e(169,"MediaFastForward"),e(170,"MediaRewind"),e(171,"MediaTrackNext"),e(172,"MediaTrackPrevious"),e(173,"MediaStop"),e(174,"Eject"),e(175,"MediaPlayPause"),e(176,"MediaSelect"),e(177,"LaunchMail"),e(178,"LaunchApp2"),e(179,"LaunchApp1"),e(180,"SelectTask"),e(181,"LaunchScreenSaver"),e(182,"BrowserSearch"),e(183,"BrowserHome"),e(184,"BrowserBack"),e(185,"BrowserForward"),e(186,"BrowserStop"),e(187,"BrowserRefresh"),e(188,"BrowserFavorites"),e(189,"ZoomToggle"),e(190,"MailReply"),
e(191,"MailForward"),e(192,"MailSend")}(),function(){function e(e,i){t.IMMUTABLE_CODE_TO_KEY_CODE[e]=i,0!==i&&3!==i&&5!==i&&4!==i&&6!==i&&57!==i&&(t.IMMUTABLE_KEY_CODE_TO_CODE[i]=e)}for(i=0;i<=193;i++)t.IMMUTABLE_CODE_TO_KEY_CODE[i]=-1;for(var i=0;i<=112;i++)t.IMMUTABLE_KEY_CODE_TO_CODE[i]=-1;t.IMMUTABLE_KEY_CODE_TO_CODE[3]=46,e(0,0),e(1,0),e(2,0),e(3,0),e(4,0),e(5,0),e(6,0),e(7,0),e(8,0),e(9,0),e(46,3),e(47,9),e(48,1),e(49,2),e(50,10),e(63,8),e(64,59),e(65,60),e(66,61),e(67,62),e(68,63),e(69,64),e(70,65),e(71,66),e(72,67),e(73,68),e(74,69),e(75,70),e(76,0),e(77,79),e(78,7),e(79,19),e(80,14),e(81,11),e(82,20),e(83,13),e(84,12),e(85,17),e(86,15),e(87,18),e(88,16),e(89,78),e(90,108),e(91,103),e(92,106),e(93,104),e(94,3),e(95,94),e(96,95),e(97,96),e(98,97),e(99,98),e(100,99),e(101,100),e(102,101),e(103,102),e(104,93),e(105,107),e(107,58),e(108,0),e(109,0),e(110,71),e(111,72),e(112,73),e(113,74),e(114,75),e(115,76),e(116,77),e(117,0),e(118,0),e(119,0),e(120,0),e(121,0),e(122,0),e(123,0),e(124,0),e(125,0),
e(126,0),e(127,0),e(128,0),e(129,0),e(130,0),e(131,0),e(132,0),e(133,0),e(134,105),e(136,0),e(138,0),e(139,0),e(140,0),e(141,0),e(142,0),e(143,0),e(144,0),e(145,0),e(146,0),e(147,0),e(148,0),e(149,0),e(150,0),e(151,0),e(152,0),e(153,0),e(154,0),e(155,0),e(156,0),e(157,5),e(158,4),e(159,6),e(160,57),e(161,5),e(162,4),e(163,6),e(164,57),e(165,0),e(166,0),e(167,0),e(168,0),e(169,0),e(170,0),e(171,0),e(172,0),e(173,0),e(174,0),e(175,0),e(176,0),e(177,0),e(178,0),e(179,0),e(180,0),e(181,0),e(182,0),e(183,0),e(184,0),e(185,0),e(186,0),e(187,0),e(188,0),e(189,0),e(190,0),e(191,0),e(192,0)}()}),define(e[193],t([1,0,69,161]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e._readModifiers=function(e){e=e.toLowerCase().trim();var t,i=!1,n=!1,r=!1,o=!1;do{t=!1,/^ctrl(\+|\-)/.test(e)&&(i=!0,e=e.substr("ctrl-".length),t=!0),/^shift(\+|\-)/.test(e)&&(n=!0,e=e.substr("shift-".length),t=!0),/^alt(\+|\-)/.test(e)&&(r=!0,e=e.substr("alt-".length),t=!0),
/^meta(\+|\-)/.test(e)&&(o=!0,e=e.substr("meta-".length),t=!0),/^win(\+|\-)/.test(e)&&(o=!0,e=e.substr("win-".length),t=!0),/^cmd(\+|\-)/.test(e)&&(o=!0,e=e.substr("cmd-".length),t=!0)}while(t);var s,a=e.indexOf(" ");return a>0?(s=e.substring(0,a),e=e.substring(a)):(s=e,e=""),{remains:e,ctrl:i,shift:n,alt:r,meta:o,key:s}},e.parseSimpleKeybinding=function(e){var t=this._readModifiers(e),n=i.KeyCodeUtils.fromUserSettings(t.key);return[new i.SimpleKeybinding(t.ctrl,t.shift,t.alt,t.meta,n),t.remains]},e.parseKeybinding=function(e,t){if(!e)return null;var n=this.parseSimpleKeybinding(e),r=n[0],o=n[1],s=null;return o.length>0&&(s=this.parseSimpleKeybinding(o)[0]),s?new i.ChordKeybinding(r,s):r},e.parseSimpleUserBinding=function(e){var t=this._readModifiers(e),r=t.key.match(/^\[([^\]]+)\]$/);if(r){var o=r[1],s=n.ScanCodeUtils.lowerCaseToEnum(o);return[new n.ScanCodeBinding(t.ctrl,t.shift,t.alt,t.meta,s),t.remains]}var a=i.KeyCodeUtils.fromUserSettings(t.key)
;return[new i.SimpleKeybinding(t.ctrl,t.shift,t.alt,t.meta,a),t.remains]},e.parseUserBinding=function(e){if(!e)return[null,null];var t=this.parseSimpleUserBinding(e),i=t[0],n=t[1],r=null;return n.length>0&&(r=this.parseSimpleUserBinding(n)[0]),[i,r]},e}();t.KeybindingParser=r}),define(e[272],t([1,0,6]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPathFromAmdModule=function(e,t){return i.URI.parse(e.toUrl(t)).fsPath}}),define(e[399],t([1,0,81,22]),function(e,t,i,n){"use strict";function r(e){var t=e.indexOf(o);return-1===t?{text:e}:function(e,t){function i(e){if(e){r+=e;for(var t=0;t<e.length;t++)n.push(u)}}var n=[],r="";var s,a,c=-1,l="",u=0,d=t,p=e.length;i(e.substr(0,t));for(;d<p;){if(s=e[d],a=e[d+1],s===o[0]&&a===o[1])c=d,i(l),l=o,d++;else if(")"===s&&-1!==c){u+=d-c+1,c=-1,l=""}else-1!==c?l+=s:i(s);d++}return i(l),{text:r,octiconOffsets:n}}(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var o="$(";t.parseOcticons=r,t.matchesFuzzyOcticonAware=function(e,t,r){
void 0===r&&(r=!1);var o=t.text,s=t.octiconOffsets;if(!s||0===s.length)return i.matchesFuzzy(e,o,r);var a=n.ltrim(o," "),c=o.length-a.length,l=i.matchesFuzzy(e,a,r);if(l)for(var u=0;u<l.length;u++){var d=s[l[u].start+c]+c;l[u].start+=d,l[u].end+=d}return l}}),define(e[371],t([1,0,6]),function(e,t,i){"use strict";function n(e){var t,i=[];try{var n=JSON.parse(e.arguments),r=n[n.length-1];r&&r.__$stack&&(n.pop(),t=r.__$stack),i.push.apply(i,n)}catch(t){i.push("Unable to log remote console arguments",e.arguments)}return{args:i,stack:t}}function r(e){if("string"!=typeof e)return r(n(e).stack);var t=e;if(t){var s=o(t),a=/at [^\/]*((?:(?:[a-zA-Z]+:)|(?:[\/])|(?:\\\\))(?:.+)):(\d+):(\d+)/.exec(s||"");if(a&&4===a.length)return{uri:i.URI.file(a[1]),line:Number(a[2]),column:Number(a[3])}}}function o(e){if(!e)return e;var t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function s(e){return"color: "+e}Object.defineProperty(t,"__esModule",{value:!0}),t.isRemoteConsoleLog=function(e){var t=e
;return t&&"string"==typeof t.type&&"string"==typeof t.severity},t.parse=n,t.getFirstFrame=r,t.log=function(e,t){var i=n(e),r=i.args,a=i.stack,c="string"==typeof r[0]&&1===r.length,l=o(a);l&&(l="("+l.trim()+")");var u=[];u="string"==typeof r[0]?l&&c?["%c["+t+"] %c"+r[0]+" %c"+l,s("blue"),s("black"),s("grey")]:["%c["+t+"] %c"+r[0],s("blue"),s("black")].concat(r.slice(1)):["%c["+t+"]%",s("blue")].concat(r),l&&!c&&u.push(l),console[e.severity].apply(console,u)}}),define(e[165],t([1,0,270,65,13,269,191,20,5,15]),function(e,t,i,n,r,o,s,a,c,l){"use strict";function u(e){return r.nfcall(i.readdir,e)}function d(e){return h(e).then(function(t){return t.isDirectory()&&!t.isSymbolicLink()?u(e).then(function(t){return l.TPromise.join(t.map(function(t){return d(n.join(e,t))}))}).then(function(){return f(e)}):g(e)},function(e){if("ENOENT"!==e.code)return l.TPromise.wrapError(e)})}function p(e){return r.nfcall(o.stat,e)}function h(e){return r.nfcall(o.lstat,e)}function f(e){return r.nfcall(o.rmdir,e)}function g(e){
return r.nfcall(o.unlink,e)}function v(e,t,n){return function(e){var t=S[e];if(!t){t=new r.Queue,S[e]=t;c.once(t.onFinished)(function(){delete S[e],t.dispose()})}return t}(function(e){var t=e;(a.isWindows||a.isMacintosh)&&(t=t.toLowerCase());return t}(e)).queue(function(){return r.nfcall(i.writeFileAndFlush,e,t,n)})}function m(e){return p(e).then(function(e){return e.isDirectory()},function(){return!1})}function y(e,t){return void 0===t&&(b||(b=s.tmpdir()),t=b),r.nfcall(i.del,e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.readdir=u,t.exists=function(e){return new l.TPromise(function(t){return o.exists(e,t)})},t.chmod=function(e,t){return r.nfcall(o.chmod,e,t)},t.mkdirp=i.mkdirp,t.rimraf=d,t.realpath=function(e){return r.nfcall(i.realpath,e)},t.stat=p,t.statLink=function(e){return r.nfcall(i.statLink,e)},t.lstat=h,t.rename=function(e,t){return r.nfcall(o.rename,e,t)},t.rmdir=f,t.unlink=g,t.symlink=function(e,t,i){return r.nfcall(o.symlink,e,t,i)},t.readlink=function(e){return r.nfcall(o.readlink,e)},
t.truncate=function(e,t){return r.nfcall(o.truncate,e,t)},t.readFile=function(e,t){return r.nfcall(o.readFile,e,t)};var S=Object.create(null);t.writeFile=v,t.readDirsInDir=function(e){return u(e).then(function(t){return l.TPromise.join(t.map(function(t){return m(n.join(e,t))})).then(function(e){return t.filter(function(t,i){return e[i]})})})},t.dirExists=m,t.fileExists=function(e){return p(e).then(function(e){return e.isFile()},function(){return!1})};var b=null;t.del=y,t.whenDeleted=function(e){return new l.TPromise(function(t){var i=!1,n=setInterval(function(){i||(i=!0,o.exists(e,function(e){i=!1,e||(clearInterval(n),t(void 0))}))},1e3)})},t.copy=function(e,t){return r.nfcall(i.copy,e,t)}}),define(e[405],t([1,0,265]),function(e,t,i){"use strict";function n(e,t,o){if(0===t)return o(0);var s=new i.Socket;s.once("connect",function(){return r(s),n(e+1,t-1,o)}),s.once("data",function(){}),s.once("error",function(i){return r(s),"ECONNREFUSED"!==i.code?n(e+1,t-1,o):o(e)}),s.connect(e,"127.0.0.1")}function r(e){try{
e.removeAllListeners("connect"),e.removeAllListeners("error"),e.end(),e.destroy(),e.unref()}catch(e){console.error(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.randomPort=function(){return 1025+Math.floor(64510*Math.random())},t.findFreePort=function(e,t,i){var r=!1;return new Promise(function(o){var s=setTimeout(function(){if(!r)return r=!0,o(0)},i);n(e,t,function(e){if(!r)return r=!0,clearTimeout(s),o(e)})})}}),define(e[262],t([1,0,269]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readExactlyByFile=function(e,t){return new Promise(function(n,r){i.open(e,"r",null,function(e,o){function s(e,t,s){i.close(o,function(i){return i?r(i):e&&"EISDIR"===e.code?r(e):n({buffer:t,bytesRead:s})})}function a(){i.read(o,c,l,t-l,null,function(e,i){return e?s(e,null,0):0===i?s(null,c,l):(l+=i)===t?s(null,c,l):a()})}if(e)return r(e);var c=Buffer.allocUnsafe(t),l=0;a()})})},t.readToMatchingString=function(e,t,n,r){return new Promise(function(o,s){
return i.open(e,"r",null,function(a,c){function l(e,t){i.close(c,function(i){return i?s(i):e&&"EISDIR"===e.code?s(e):o(t)})}function u(){i.read(c,d,p,n,null,function(i,n){if(i)return l(i,null);if(0===n)return l(null,null);p+=n;var o=d.indexOf(t);return o>=0?l(null,d.toString("utf8").substr(0,o)):p>=r?l(new Error("Could not find "+t+" in first "+r+" bytes of "+e),null):u()})}if(a)return s(a);var d=Buffer.allocUnsafe(r),p=0;u()})})}}),define(e[424],t([1,0,3,5,13,52,18]),function(e,t,i,n,r,o,s){"use strict";function a(e){var t=Buffer.allocUnsafe(4);return t.writeUInt32BE(e,0),t}function c(e){return e.read(4).readUInt32BE(0)}function l(e,t){if(void 0===t)e.write(v.Undefined);else if("string"==typeof t){r=Buffer.from(t);e.write(v.String),e.write(a(r.length)),e.write(r)}else if(Buffer.isBuffer(t))e.write(v.Buffer),e.write(a(t.length)),e.write(t);else if(Array.isArray(t)){e.write(v.Array),e.write(a(t.length));for(var i=0,n=t;i<n.length;i++){l(e,n[i])}}else{var r=Buffer.from(JSON.stringify(t));e.write(v.Object),
e.write(a(r.length)),e.write(r)}}function u(e){switch(e.read(1).readUInt8(0)){case h.Undefined:return;case h.String:return e.read(c(e)).toString();case h.Buffer:return e.read(c(e));case h.Array:for(var t=c(e),i=[],n=0;n<t;n++)i.push(u(e));return i;case h.Object:return JSON.parse(e.read(c(e)).toString())}}function d(e){return{call:function(t,i,n){return e.then(function(e){return e.call(t,i,n)})},listen:function(t,i){var r=new n.Relay;return e.then(function(e){return r.input=e.listen(t,i)}),r.event}}}Object.defineProperty(t,"__esModule",{value:!0});var p;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Idle=1]="Idle"}(p||(p={}));var h,f=function(){function e(e){this.buffer=e,this.pos=0}return e.prototype.read=function(e){var t=this.buffer.slice(this.pos,this.pos+e);return this.pos+=t.length,t},e}(),g=function(){function e(){this.buffers=[]}return Object.defineProperty(e.prototype,"buffer",{get:function(){return Buffer.concat(this.buffers)},enumerable:!0,configurable:!0}),e.prototype.write=function(e){
this.buffers.push(e)},e}();!function(e){e[e.Undefined=0]="Undefined",e[e.String=1]="String",e[e.Buffer=2]="Buffer",e[e.Array=3]="Array",e[e.Object=4]="Object"}(h||(h={}));var v={Undefined:Buffer.alloc(1,h.Undefined),String:Buffer.alloc(1,h.String),Buffer:Buffer.alloc(1,h.Buffer),Array:Buffer.alloc(1,h.Array),Object:Buffer.alloc(1,h.Object)},m=function(){function e(e){var t=this;this.protocol=e,this.channels=new Map,this.activeRequests=new Map,this.protocolListener=this.protocol.onMessage(function(e){return t.onRawMessage(e)}),this.sendResponse({type:200})}return e.prototype.registerChannel=function(e,t){this.channels.set(e,t)},e.prototype.sendResponse=function(e){switch(e.type){case 200:return this.send([e.type]);case 201:case 202:case 204:case 203:return this.send([e.type,e.id],e.data)}},e.prototype.send=function(e,t){void 0===t&&(t=void 0);var i=new g;l(i,e),l(i,t),this.sendBuffer(i.buffer)},e.prototype.sendBuffer=function(e){try{this.protocol.send(e)}catch(e){}},e.prototype.onRawMessage=function(e){
var t=new f(e),i=u(t),n=u(t),r=i[0];switch(r){case 100:return this.onPromise({type:r,id:i[1],channelName:i[2],name:i[3],arg:n});case 102:return this.onEventListen({type:r,id:i[1],channelName:i[2],name:i[3],arg:n});case 101:case 103:return this.disposeActiveRequest({type:r,id:i[1]})}},e.prototype.onPromise=function(e){var t,n=this,r=this.channels.get(e.channelName),s=new o.CancellationTokenSource;try{t=r.call(e.name,e.arg,s.token)}catch(e){t=Promise.reject(e)}var a=e.id;t.then(function(t){n.sendResponse({id:a,data:t,type:201}),n.activeRequests.delete(e.id)},function(t){t instanceof Error?n.sendResponse({id:a,data:{message:t.message,name:t.name,stack:t.stack?t.stack.split?t.stack.split("\n"):t.stack:void 0},type:202}):n.sendResponse({id:a,data:t,type:203}),n.activeRequests.delete(e.id)});var c=i.toDisposable(function(){return s.cancel()});this.activeRequests.set(e.id,c)},e.prototype.onEventListen=function(e){var t=this,i=this.channels.get(e.channelName),n=e.id,r=i.listen(e.name,e.arg)(function(e){
return t.sendResponse({id:n,data:e,type:204})});this.activeRequests.set(e.id,r)},e.prototype.disposeActiveRequest=function(e){var t=this.activeRequests.get(e.id);t&&(t.dispose(),this.activeRequests.delete(e.id))},e.prototype.dispose=function(){this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),this.activeRequests.forEach(function(e){return e.dispose()}),this.activeRequests.clear()},e}();t.ChannelServer=m;var y=function(){function e(e){var t=this;this.protocol=e,this.state=p.Uninitialized,this.activeRequests=new Set,this.handlers=new Map,this.lastRequestId=0,this._onDidInitialize=new n.Emitter,this.onDidInitialize=this._onDidInitialize.event,this.protocolListener=this.protocol.onMessage(function(e){return t.onBuffer(e)})}return e.prototype.getChannel=function(e){var t=this;return{call:function(i,n,r){return t.requestPromise(e,i,n,r)},listen:function(i,n){return t.requestEvent(e,i,n)}}},e.prototype.requestPromise=function(e,t,n,a){var c=this
;void 0===a&&(a=o.CancellationToken.None);var l=this.lastRequestId++,u={id:l,type:100,channelName:e,name:t,arg:n};if(a.isCancellationRequested)return Promise.reject(s.canceled());var d,p=new Promise(function(e,t){if(a.isCancellationRequested)return t(s.canceled());var n=r.createCancelablePromise(function(e){return c.whenInitialized()});n.then(function(){n=null;c.handlers.set(l,function(i){switch(i.type){case 201:c.handlers.delete(l),e(i.data);break;case 202:c.handlers.delete(l);var n=new Error(i.data.message);n.stack=i.data.stack,n.name=i.data.name,t(n);break;case 203:c.handlers.delete(l),t(i.data)}}),c.sendRequest(u)});var o=function(){n?(n.cancel(),n=null):c.sendRequest({id:l,type:101}),t(s.canceled())},p=a.onCancellationRequested(o);d=i.combinedDisposable([i.toDisposable(o),p]),c.activeRequests.add(d)});return r.always(p,function(){return c.activeRequests.delete(d)}),p},e.prototype.requestEvent=function(e,t,i){var o=this,s=this.lastRequestId++,a={id:s,type:102,channelName:e,name:t,arg:i
},c=null,l=new n.Emitter({onFirstListenerAdd:function(){(c=r.createCancelablePromise(function(e){return o.whenInitialized()})).then(function(){c=null,o.activeRequests.add(l),o.sendRequest(a)})},onLastListenerRemove:function(){c?(c.cancel(),c=null):(o.activeRequests.delete(l),o.sendRequest({id:s,type:103}))}});return this.handlers.set(s,function(e){return l.fire(e.data)}),l.event},e.prototype.sendRequest=function(e){switch(e.type){case 100:case 102:return this.send([e.type,e.id,e.channelName,e.name],e.arg);case 101:case 103:return this.send([e.type,e.id])}},e.prototype.send=function(e,t){void 0===t&&(t=void 0);var i=new g;l(i,e),l(i,t),this.sendBuffer(i.buffer)},e.prototype.sendBuffer=function(e){try{this.protocol.send(e)}catch(e){}},e.prototype.onBuffer=function(e){var t=new f(e),i=u(t),n=u(t);switch(i[0]){case 200:return this.onResponse({type:i[0]});case 201:case 202:case 204:case 203:return this.onResponse({type:i[0],id:i[1],data:n})}},e.prototype.onResponse=function(e){
if(200===e.type)return this.state=p.Idle,void this._onDidInitialize.fire();var t=this.handlers.get(e.id);t&&t(e)},e.prototype.whenInitialized=function(){return this.state===p.Idle?Promise.resolve():n.toPromise(this.onDidInitialize)},e.prototype.dispose=function(){this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),this.activeRequests.forEach(function(e){return e.dispose()}),this.activeRequests.clear()},e}();t.ChannelClient=y;var S=function(){function e(e){var t=this;this.channels=new Map,this.channelClients=new Map,this.onClientAdded=new n.Emitter,e(function(e){var i=e.protocol,r=e.onDidClientDisconnect;n.once(i.onMessage)(function(e){var n=new m(i),o=new y(i);t.channels.forEach(function(e,t){return n.registerChannel(t,e)});var s=e.toString();t.channelClients.has(s)&&console.warn("IPC client with id '"+s+"' is already registered."),t.channelClients.set(s,o),t.onClientAdded.fire(s),r(function(){n.dispose(),o.dispose(),t.channelClients.delete(s)})})})}
return Object.defineProperty(e.prototype,"clientKeys",{get:function(){var e=[];return this.channelClients.forEach(function(t,i){return e.push(i)}),e},enumerable:!0,configurable:!0}),e.prototype.getChannel=function(e,t){var i=this;return{call:function(n,r,o){return d(t.routeCall(i.clientKeys,n,r).then(function(e){return i.getClient(e)}).then(function(t){return t.getChannel(e)})).call(n,r,o)},listen:function(n,r){return d(t.routeEvent(i.clientKeys,n,r).then(function(e){return i.getClient(e)}).then(function(t){return t.getChannel(e)})).listen(n,r)}}},e.prototype.registerChannel=function(e,t){this.channels.set(e,t)},e.prototype.getClient=function(e){var t=this;if(!e)return Promise.reject(new Error("Client id should be provided"));var i=this.channelClients.get(e);return i?Promise.resolve(i):new Promise(function(i){n.once(n.filterEvent(t.onClientAdded.event,function(t){return t===e}))(function(){return i(t.channelClients.get(e))})})},e.prototype.dispose=function(){this.channels.clear(),this.channelClients.clear(),
this.onClientAdded.dispose()},e}();t.IPCServer=S;var b=function(){function e(e,t){e.send(Buffer.from(t)),this.channelClient=new y(e),this.channelServer=new m(e)}return e.prototype.getChannel=function(e){return this.channelClient.getChannel(e)},e.prototype.registerChannel=function(e,t){this.channelServer.registerChannel(e,t)},e.prototype.dispose=function(){this.channelClient.dispose(),this.channelServer.dispose()},e}();t.IPCClient=b,t.getDelayedChannel=d,t.getNextTickChannel=function(e){var t=!1;return{call:function(i,n,o){return t?e.call(i,n,o):r.timeout(0).then(function(){return t=!0}).then(function(){return e.call(i,n,o)})},listen:function(i,o){if(t)return e.listen(i,o);var s=new n.Relay;return r.timeout(0).then(function(){return t=!0}).then(function(){return s.input=e.listen(i,o)}),s.event}}}});var i=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])
})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define(e[414],t([1,0,265,5,424,65,191,602,13]),function(e,t,n,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomPipeName=function(){var e=c.generateUuid();return"win32"===process.platform?"\\\\.\\pipe\\vscode-ipc-"+e+"-sock":s.join(a.tmpdir(),"vscode-ipc-"+e+".sock")};var u=function(){function e(t,i){var n=this;this._socket=t,this._onMessage=new r.Emitter,this.onMessage=this._onMessage.event,this._onClose=new r.Emitter,this.onClose=this._onClose.event,this._writeBuffer=new(function(){function e(){this._data=[],this._totalLength=0}return e.prototype.add=function(e,t){var i=0===this._totalLength;return this._data.push(e,t),this._totalLength+=e.length+t.length,i},e.prototype.take=function(){var e=Buffer.concat(this._data,this._totalLength);return this._data.length=0,this._totalLength=0,e},e}()),this._isDisposed=!1,this._chunks=[]
;var o=0,s={readHead:!0,bodyLen:-1},a=function(t){for(n._chunks.push(t),o+=t.length;o>0;){if(s.readHead){if(!(o>=e._headerLen))break;i=Buffer.concat(n._chunks);s.bodyLen=i.readUInt32BE(0),s.readHead=!1;a=i.slice(e._headerLen);o=a.length,n._chunks=[a]}if(!s.readHead){if(!(o>=s.bodyLen))break;var i,r=(i=Buffer.concat(n._chunks)).slice(0,s.bodyLen),a=i.slice(s.bodyLen);if(o=a.length,n._chunks=[a],s.bodyLen=-1,s.readHead=!0,n._onMessage.fire(r),n._isDisposed)break}}},c=function(){if(i&&i.length>0){var e=i;i=void 0,a(e)}};this._firstChunkTimer=new l.TimeoutTimer,this._firstChunkTimer.setIfNotSet(function(){c()},0),this._socketDataListener=function(e){c(),a(e)},t.on("data",this._socketDataListener),this._socketEndListener=function(){c()},t.on("end",this._socketEndListener),this._socketCloseListener=function(){n._onClose.fire()},t.once("close",this._socketCloseListener)}return e.prototype.dispose=function(){this._isDisposed=!0,this._firstChunkTimer.dispose(),
this._socket.removeListener("data",this._socketDataListener),this._socket.removeListener("end",this._socketEndListener),this._socket.removeListener("close",this._socketCloseListener)},e.prototype.end=function(){this._socket.end()},e.prototype.getBuffer=function(){return Buffer.concat(this._chunks)},e.prototype.send=function(t){var i=Buffer.allocUnsafe(e._headerLen);i.writeUInt32BE(t.length,0,!0),this._writeSoon(i,t)},e.prototype._writeSoon=function(e,t){var i=this;this._writeBuffer.add(e,t)&&setImmediate(function(){i._socket.destroyed||i._socket.write(i._writeBuffer.take())})},e._headerLen=4,e}();t.Protocol=u;var d=function(e){function t(i){var n=e.call(this,t.toClientConnectionEvent(i))||this;return n.server=i,n}return i(t,e),t.toClientConnectionEvent=function(e){var t=r.fromNodeEventEmitter(e,"connection");return r.mapEvent(t,function(e){return{protocol:new u(e),onDidClientDisconnect:r.once(r.fromNodeEventEmitter(e,"close"))}})},t.prototype.dispose=function(){e.prototype.dispose.call(this),
this.server&&(this.server.close(),this.server=null)},t}(o.IPCServer);t.Server=d;var p=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.protocol=t,n}return i(t,e),t.fromSocket=function(e,i){return new t(new u(e),i)},Object.defineProperty(t.prototype,"onClose",{get:function(){return this.protocol.onClose},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.protocol.end()},t}(o.IPCClient);t.Client=p,t.serve=function(e){return new Promise(function(t,i){var r=n.createServer();r.on("error",i),r.listen(e,function(){r.removeListener("error",i),t(new d(r))})})},t.connect=function(e,t){return new Promise(function(i,r){var o=n.createConnection(e,function(){o.removeListener("error",r),i(p.fromSocket(o,t))});o.once("error",r)})}}),define(e[157],t([1,0,190,81,33,20,22]),function(e,t,i,n,r,o,s){"use strict";function a(e,t,i,r){if(!e||!t)return p;var o=e.length,s=t.length;if(o<s)return p;var a=e.toLowerCase();if(!r){if(-1===a.indexOf(i))return p}
return function(e,t,i,r,o,s){for(var a=[],c=[],l=0;l<i;l++)for(var u=0;u<s;u++){var p=l*s+u,h=(l-1)*s+u-1,f=u>0?a[p-1]:0,g=l>0&&u>0?a[h]:0,v=l>0&&u>0?c[h]:0,m=void 0;(m=!g&&l>0?0:function(e,t,i,r,o,s,a){var c=0;if(t[i]!==o[s])return c;c+=1,a>0&&(c+=5*a);e[i]===r[s]&&(c+=1);if(0===s)c+=8;else{var l=function(e){switch(e){case 47:case 92:return 5;case 95:case 45:case 46:case 32:case 39:case 34:case 58:return 4;default:return 0}}(r.charCodeAt(s-1));l?c+=l:n.isUpper(r.charCodeAt(s))&&(c+=1)}return c}(e,t,l,r,o,u,v))&&g+m>=f?(c[p]=v+1,a[p]=g+m):(c[p]=d,a[p]=f)}var y=[],S=i-1,b=s-1;for(;S>=0&&b>=0;){c[p=S*s+b]===d?b--:(y.push(b),S--,b--)}return[a[i*s-1],y.reverse()]}(t,i,s,e,a,o)}function c(e,t,i,c,l){if(!e||!t.value)return h;var u=c.getItemLabel(e);if(!u)return h;var d,p=c.getItemDescription(e),y=l[d=p?""+u+p+t.value+i:""+u+t.value+i];if(y)return y;var S=function(e,t,i,c,l){if(i&&o.isLinux?c.original===i:s.equalsIgnoreCase(c.original,i))return{score:f,labelMatch:[{start:0,end:e.length}],descriptionMatch:t?[{
start:0,end:t.length}]:void 0};if(!i||!c.containsPathSeparator){var u=n.matchesPrefix(c.value,e);if(u)return{score:g,labelMatch:u};var d=n.matchesCamelCase(c.value,e);if(d)return{score:v,labelMatch:d};var p=a(e,c.value,c.lowercase,l),y=p[0],S=p[1];if(y)return{score:y+m,labelMatch:n.createMatches(S)}}if(t){var b=t;i&&(b=""+t+r.nativeSep);var E=b.length,_=a(""+b+e,c.value,c.lowercase,l),C=_[0],w=_[1];if(C){var I=[],x=[];return n.createMatches(w).forEach(function(e){e.start<E&&e.end>E?(I.push({start:0,end:e.end-E}),x.push({start:e.start,end:E})):e.start>=E?I.push({start:e.start-E,end:e.end-E}):x.push(e)}),{score:C,labelMatch:I,descriptionMatch:x}}}return h}(u,p,c.getItemPath(e),t,i);return l[d]=S,S}function l(e,t,i){var n=-1,r=-1;if(t.descriptionMatch&&t.descriptionMatch.length?n=t.descriptionMatch[0].start:t.labelMatch&&t.labelMatch.length&&(n=t.labelMatch[0].start),t.labelMatch&&t.labelMatch.length){if(r=t.labelMatch[t.labelMatch.length-1].end,t.descriptionMatch&&t.descriptionMatch.length){
var o=i.getItemDescription(e);o&&(r+=o.length)}}else t.descriptionMatch&&t.descriptionMatch.length&&(r=t.descriptionMatch[t.descriptionMatch.length-1].end);return r-n}function u(e,t,n,r){var o=r.getItemLabel(e),s=r.getItemLabel(t),a=r.getItemDescription(e),c=r.getItemDescription(t),l=o.length+(a?a.length:0),u=s.length+(c?c.length:0);if(l!==u)return l-u;var d=r.getItemPath(e),p=r.getItemPath(t);return d&&p&&d.length!==p.length?d.length-p.length:o!==s?i.compareAnything(o,s,n.value):a&&c&&a!==c?i.compareAnything(a,c,n.value):d&&p&&d!==p?i.compareAnything(d,p,n.value):0}Object.defineProperty(t,"__esModule",{value:!0});var d=0,p=[d,[]];t.score=a;var h=Object.freeze({score:0}),f=1<<18,g=1<<17,v=65536,m=32768;t.prepareQuery=function(e){e||(e="");var t=s.stripWildcards(e).replace(/\s/g,"");return o.isWindows&&(t=t.replace(/\//g,r.nativeSep)),{original:e,value:t,lowercase:t.toLowerCase(),containsPathSeparator:t.indexOf(r.nativeSep)>=0}},t.scoreItem=c,t.compareItemsByScore=function(e,t,i,n,r,o,s){void 0===s&&(s=u)
;var a=c(e,i,n,r,o),d=c(t,i,n,r,o),p=a.score,h=d.score;if((p===f||h===f)&&p!==h)return p===f?-1:1;if(p===g||h===g){if(p!==h)return p===g?-1:1;var y=r.getItemLabel(e),S=r.getItemLabel(t);if(y.length!==S.length)return y.length-S.length}if(p===v||h===v){if(p!==h)return p===v?-1:1;var y=r.getItemLabel(e),S=r.getItemLabel(t),b=function(e,t){if(!e&&!t||!(e&&e.length||t&&t.length))return 0;if(!t||!t.length)return-1;if(!e||!e.length)return 1;var i=e[0].start,n=e[e.length-1].end-i,r=t[0].start,o=t[t.length-1].end-r;return n===o?0:o<n?1:-1}(a.labelMatch,d.labelMatch);if(0!==b)return b;if(y.length!==S.length)return y.length-S.length}if(p>m||h>m){if(h<m)return-1;if(p<m)return 1}if(p!==h)return p>h?-1:1;var E=l(e,a,r),_=l(t,d,r);return E&&_&&E!==_?_>E?-1:1:s(e,t,i,r)},t.fallbackCompare=u}),define(e[432],t([1,0]),function(e,t){"use strict";function i(e,t,i){var n=e.getNavigator(t);do{if(t===i)return!0}while(t=n.parent());return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.collapseAll=function(e,t){
for(var n,r=e.getNavigator();n=r.next();)t&&i(e,t,n)||e.collapse(n)},t.isEqualOrParent=i,t.expandAll=function(e){for(var t,i=e.getNavigator();t=i.next();)e.expand(t)}}),define(e[436],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.showActivity=function(e,t,n,r){return console.log("activityService",e,t,n,r),i.toDisposable(function(){return!0})},e.prototype.getPinnedViewletIds=function(){return console.log("getPinnedViewletIds called"),[]},e}();t.CodeSandboxActivityService=n}),define(e[437],t([1,0,15]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.hasBackups=function(){return new i.TPromise(function(e){return e(!1)})},e.prototype.loadBackupResource=function(e){return new i.TPromise(function(e){return e(null)})},e.prototype.toBackupResource=function(e){return e},e.prototype.backupResource=function(e,t,n){return new i.TPromise(function(e){
return e(null)})},e.prototype.getWorkspaceFileBackups=function(){return new i.TPromise(function(e){return e(null)})},e.prototype.resolveBackupContent=function(e){return new i.TPromise(function(e){return e(null)})},e.prototype.discardResourceBackup=function(e){return new i.TPromise(function(e){return e(null)})},e.prototype.discardAllWorkspaceBackups=function(){return new i.TPromise(function(e){return e(null)})},e}();t.CodeSandboxBackupService=n}),define(e[447],t([1,0,5]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.windowId=e,this._onBroadcast=new i.Emitter,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;(window||self).addEventListener("message",function(t){var i=t.data;if("broadcast"===i.$type&&i.$windowId!==e.windowId){var n=i.b;e._onBroadcast.fire(n)}})},Object.defineProperty(e.prototype,"onBroadcast",{get:function(){return this._onBroadcast.event},enumerable:!0,configurable:!0}),
e.prototype.broadcast=function(e){console.log("Sending broadcast",e),(window.parent||window).postMessage({$type:"broadcast",$windowId:this.windowId,b:e},"*")},e}();t.CodeSandboxBroadcastService=n}),define(e[450],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.writeText=function(e){navigator.clipboard.writeText(e)},e.prototype.readText=function(){return function(){var e=document.createElement("input");document.body.appendChild(e),e.focus(),document.execCommand("paste");var t=e.value;return document.body.removeChild(e),t}()||""},e.prototype.readFindText=function(){return""},e.prototype.writeFindText=function(e){},e.prototype.writeResources=function(e){},e.prototype.readResources=function(){return[]},e.prototype.hasResources=function(){return!1},e}();t.CodeSandboxClipboardService=i}),define(e[460],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}
return e.prototype.getChildProcessStartOptions=function(e){console.log("CrashReporter called",e)},e}();t.CodeSandboxCrashReporterService=i}),define(e[467],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(){this.args={_:[]},this.appRoot="/vscode",this.userHome="/home/codesandbox",this.userDataPath="/vscode/userdata",this.appNameLong="CodeSandbox",this.appQuality="Very Good",this.appSettingsHome="/vscode",this.appSettingsPath="/vscode/settings.json",this.appKeybindingsPath="/vscode/keybindings.json",this.isExtensionDevelopment=!1,this.extensionsPath="/vscode/extensions",this.debugExtensionHost={debugId:"",port:null,break:!1},this.logsPath="/vscode/logs"}}();t.CodeSandboxEnvironmentService=i}),define(e[504],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.getExtension=function(e,t){throw new Error("Method not implemented.")},e.prototype.isEnabled=function(){
return!1},e.prototype.reportStatistic=function(e,t,i,n){throw new Error("Method not implemented.")},e.prototype.query=function(e){throw new Error("query not implemented")},e.prototype.download=function(e,t){throw new Error("\tdownload not implemented")},e.prototype.getReadme=function(e){throw new Error("\tgetReadme not implemented")},e.prototype.getManifest=function(e){throw new Error("\tgetManifest not implemented")},e.prototype.getChangelog=function(e){throw new Error("\tgetChangelog not implemented")},e.prototype.getCoreTranslation=function(e,t){throw new Error("getCoreTranslation not implemented")},e.prototype.loadCompatibleVersion=function(e){throw new Error("loadCompatibleVersion not implemented")},e.prototype.loadAllDependencies=function(e){throw new Error("loadAllDependencies not implemented")},e.prototype.getExtensionsReport=function(){throw new Error("getExtensionsReport not implemented")},e}();t.CodeSandboxExtensionGalleryService=i}),define(e[534],t([1,0,5]),function(e,t,i){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._onInstallExtension=new i.Emitter,this.onInstallExtension=this._onInstallExtension.event,this._onDidInstallExtension=new i.Emitter,this.onDidInstallExtension=this._onDidInstallExtension.event,this._onUninstallExtension=new i.Emitter,this.onUninstallExtension=this._onUninstallExtension.event,this._onDidUninstallExtension=new i.Emitter,this.onDidUninstallExtension=this._onDidUninstallExtension.event}return e.prototype.zip=function(e){throw new Error("zip not implemented")},e.prototype.unzip=function(e,t){throw new Error("unzip not implemented")},e.prototype.install=function(e){throw new Error("install not implemented")},e.prototype.installFromGallery=function(e){throw new Error("installFromGallery not implemented")},e.prototype.uninstall=function(e,t){throw new Error("uninstall not implemented")},e.prototype.reinstallFromGallery=function(e){throw new Error("reinstallFromGallery not implemented")},
e.prototype.getInstalled=function(e){return new Promise(function(){return[]})},e.prototype.getExtensionsReport=function(){throw new Error("getExtensionsReport not implemented")},e.prototype.updateMetadata=function(e,t){throw new Error("updateMetadata not implemented")},e}();t.CodeSandboxExtensionManagementService=n}),define(e[287],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.createSHA1=function(e){return e},e}();t.CodeSandboxHashService=i}),define(e[310],t([1,0,5]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.onActiveOutputChannel=(new i.Emitter).event}return e.prototype.getChannelDescriptors=function(){throw new Error("Method not implemented.")},e.prototype.getChannel=function(e){throw new Error("getChannel not implemented.")},e.prototype.getActiveChannel=function(){throw new Error("getActiveChannel not implemented.")},
e.prototype.showChannel=function(e,t){throw new Error("showChannel not implemented.")},e}();t.CodeSandboxOutputService=n}),define(e[356],t([1,0,5,15]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new(function(){function e(){}return e.prototype.getId=function(){return"panel"},e.prototype.getTitle=function(){return"codesandboxPanel"},e.prototype.getActions=function(){return console.log("getActions"),[]},e.prototype.getSecondaryActions=function(){return console.log("getSecondaryActions"),[]},e.prototype.getContextMenuActions=function(){return console.log("getContextMenuActions"),[]},e.prototype.getActionItem=function(e){throw new Error("getActionItem")},e.prototype.getControl=function(){throw new Error("getControl")},e.prototype.focus=function(){console.log("focus")},e}()),o=function(){function e(){this.onDidPanelOpen=(new i.Emitter).event,this.onDidPanelClose=(new i.Emitter).event}return e.prototype.openPanel=function(e,t){return console.log("openPanel",e,t),
new n.TPromise(function(e){return e(r)})},e.prototype.getActivePanel=function(){return r},e.prototype.getPanels=function(){return[{id:"codesandboxPanel",name:"CodeSandbox Panel",cssClass:"csb"}]},e.prototype.setPanelEnablement=function(e,t){console.log("setPanelEnablement",e,t)},e}();t.CodeSandboxPanelService=o}),define(e[357],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.request=function(e,t){var i={url:e.url,headers:e.headers,cache:"only-if-cached",credentials:"same-origin",destination:"document",integrity:void 0,isHistoryNavigation:!1,isReloadNavigation:!1,keepalive:!0,method:"GET",mode:"same-origin",redirect:"error",referrer:document.location.origin,referrerPolicy:"origin-only"};return console.log("got request",i),window.fetch(i).then(function(e){var t={};return e.headers.forEach(function(e,i){t[i]=e}),{res:{headers:t,statusCode:e.status},stream:e.body.getReader()}})},e}();t.CodeSandboxRequestService=i}),
define(e[256],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.controller=e}return e.prototype.getController=function(){return this.controller},e.prototype.runSignal=function(e,t){return this.controller.getSignal(e)(t)},e.prototype.getThemes=function(){return this.controller.getState("editor.themes")},e.prototype.getCurrentTheme=function(){return this.controller.getState("preferences.settings.editorTheme")},e.prototype.getFilesByPath=function(){var e={},t=this.controller.getState("editor.modulesByPath");return Object.keys(t).forEach(function(i){e["/sandbox"+i]=t[i]}),e},e.prototype.openPreviewExternally=function(){"function"==typeof window.openNewWindow&&window.openNewWindow()},e.prototype.showNotification=function(e,t){this.runSignal("notificationAdded",{type:e,message:t})},e}();t.CodeSandboxService=i}),define(e[372],t([1,0,262,15]),function(e,t,i,n){"use strict";function r(e,i){if(!e||i<2)return null
;var n=e.readUInt8(0),r=e.readUInt8(1);if(254===n&&255===r)return t.UTF16be;if(255===n&&254===r)return t.UTF16le;if(i<3)return null;var o=e.readUInt8(2);return 239===n&&187===r&&191===o?t.UTF8:null}function o(t){return n.TPromise.wrap(new Promise(function(t,i){e(["jschardet"],t,i)})).then(function(e){e.Constants.MINIMUM_THRESHOLD=s;var i=e.detect(t);if(!i||!i.encoding)return null;var n=i.encoding.toLowerCase();return 0<=a.indexOf(n)?null:function(e){var t=e.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return c[t]||t}(i.encoding)})}Object.defineProperty(t,"__esModule",{value:!0}),t.UTF8="utf8",t.UTF8_with_bom="utf8bom",t.UTF16be="utf16be",t.UTF16le="utf16le",t.bomLength=function(e){switch(e){case t.UTF8:return 3;case t.UTF16be:case t.UTF16le:return 2}return 0},t.detectEncodingByBOMFromBuffer=r,t.detectEncodingByBOM=function(e){return i.readExactlyByFile(e,3).then(function(e){return r(e.buffer,e.bytesRead)})};var s=.2,a=["ascii","utf-8","utf-16","utf-32"];t.guessEncodingByBuffer=o;var c={ibm866:"cp866",
big5:"cp950"};t.toCanonicalName=function(e){switch(e){case"shiftjis":return"shift-jis";case"utf16le":return"utf-16le";case"utf16be":return"utf-16be";case"big5hkscs":return"big5-hkscs";case"eucjp":return"euc-jp";case"euckr":return"euc-kr";case"koi8r":return"koi8-r";case"koi8u":return"koi8-u";case"macroman":return"x-mac-roman";case"utf8bom":return"utf8";default:var t=e.match(/windows(\d+)/);return t?"windows-"+t[1]:e}};var l=512;t.detectEncodingFromBuffer=function(e,i){var n=e.buffer,s=e.bytesRead,a=r(n,s),c=!1;if(a!==t.UTF16be&&a!==t.UTF16le){for(var u=!0,d=!0,p=!1,h=0;h<s&&h<l;h++){var f=h%2==1,g=0===n.readInt8(h);if(g&&(p=!0),u&&(f&&!g||!f&&g)&&(u=!1),d&&(f&&g||!f&&!g)&&(d=!1),g&&!u&&!d)break}p&&(u?a=t.UTF16le:d?a=t.UTF16be:c=!0)}return!i||c||a?{seemsBinary:c,encoding:a}:o(n.slice(0,s)).then(function(e){return{seemsBinary:!1,encoding:e}})}}),define(e[378],t([1,0,5]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return 0===e?"vs-global://":"vs-workspace://"
},r=function(){function e(){this._serviceBrand=void 0,this.onDidChangeStorage=i.Event.None,this.onWillSaveState=i.Event.None}return e.prototype.get=function(e,t,i){var r=localStorage.getItem(n(t)+e);return r||i},e.prototype.getBoolean=function(e,t,i){var r=localStorage.getItem(n(t)+e);return r?!!r:i},e.prototype.getInteger=function(e,t,i){var r=localStorage.getItem(n(t)+e);return r?+r:i},e.prototype.store=function(e,t,i){return localStorage.setItem(n(i)+e,t),Promise.resolve()},e.prototype.remove=function(e,t){return localStorage.removeItem(n(t)+e),Promise.resolve()},e}();t.CodeSandboxStorageService=r}),define(e[386],t([1,0,15,5]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this._onWindowOpen=new n.Emitter,this._onWindowFocus=new n.Emitter,this._onWindowBlur=new n.Emitter,this._onWindowMaximize=new n.Emitter,this._onWindowUnmaximize=new n.Emitter,this.onWindowOpen=this._onWindowOpen.event,this.onWindowFocus=this._onWindowFocus.event,
this.onWindowBlur=this._onWindowBlur.event,this.onWindowMaximize=this._onWindowMaximize.event,this.onWindowUnmaximize=this._onWindowUnmaximize.event,this.listenForFocus=function(){e._onWindowFocus.fire(0)},this.listenForBlur=function(){e._onWindowBlur.fire(0)},window.addEventListener("focus",this.listenForFocus),window.addEventListener("blur",this.listenForBlur)}return e.prototype.dispose=function(){window.removeEventListener("focus",this.listenForFocus),window.removeEventListener("blur",this.listenForBlur)},e.prototype.pickFileFolderAndOpen=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.pickFileAndOpen=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.pickFolderAndOpen=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.pickWorkspaceAndOpen=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},
e.prototype.showMessageBox=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.showSaveDialog=function(e,t){var n=t.filters,r="/Untitled";n&&n[0]&&n[0].extensions&&n[0].extensions[0]&&(r="/Untitled."+n[0].extensions[0]);var o=window.prompt("Where do you want to save the file?",t.defaultPath+r);return i.TPromise.as(o)},e.prototype.showOpenDialog=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.reloadWindow=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.openDevTools=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.toggleDevTools=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.closeWorkspace=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.enterWorkspace=function(e,t){
throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.createAndEnterWorkspace=function(e,t,i){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.saveAndEnterWorkspace=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.toggleFullScreen=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.setRepresentedFilename=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.addRecentlyOpened=function(e){throw new Error("Method not implemented.")},e.prototype.newWindowTab=function(){throw new Error("Method not implemented.")},e.prototype.removeFromRecentlyOpened=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.clearRecentlyOpened=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},
e.prototype.getRecentlyOpened=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.focusWindow=function(e){return new i.TPromise(function(e){window.focus(),e(void 0)})},e.prototype.closeWindow=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.isFocused=function(e){return i.TPromise.as(document.hasFocus())},e.prototype.isMaximized=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.maximizeWindow=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.unmaximizeWindow=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.minimizeWindow=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.onWindowTitleDoubleClick=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},
e.prototype.setDocumentEdited=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.quit=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.relaunch=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.showPreviousWindowTab=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.showNextWindowTab=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.moveWindowTabToNewWindow=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.mergeAllWindowTabs=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.toggleWindowTabsBar=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.updateTouchBar=function(e,t){
throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.whenSharedProcessReady=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.toggleSharedProcess=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.openWindow=function(e,t,i){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.openNewWindow=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.showWindow=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.getWindows=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.getWindowCount=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.log=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i]
;throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.showItemInFolder=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.getActiveWindowId=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.openExternal=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.startCrashReporter=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.openAccessibilityOptions=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.openAboutDialog=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e}();t.CodeSandboxWindowsService=r}),define(e[390],t([1,0,15]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}
return e.prototype.createWorkspace=function(e){return new i.TPromise(function(e){return e({id:"codesandbox-workspace",configPath:"/codesandbox/config.json"})})},e}();t.CodeSandboxWorkspacesService=n}),define(e[398],t([23]),{}),define(e[400],t([23]),{}),define(e[125],t([1,0,8,72,62,39,5,3,131,400]),function(e,t,n,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u={buttonBackground:o.Color.fromHex("#0E639C"),buttonHoverBackground:o.Color.fromHex("#006BB3"),buttonForeground:o.Color.white},d=function(e){function t(t,i){var o=e.call(this)||this;return o._onDidClick=o._register(new a.Emitter),o.options=i||Object.create(null),s.mixin(o.options,u,!1),o.buttonBackground=o.options.buttonBackground,o.buttonHoverBackground=o.options.buttonHoverBackground,o.buttonForeground=o.options.buttonForeground,o.buttonBorder=o.options.buttonBorder,o._element=document.createElement("a"),n.addClass(o._element,"monaco-button"),o._element.tabIndex=0,o._element.setAttribute("role","button"),
t.appendChild(o._element),l.Gesture.addTarget(o._element),o._register(n.addDisposableListener(o._element,n.EventType.CLICK,function(e){o.enabled?o._onDidClick.fire(e):n.EventHelper.stop(e)})),o._register(n.addDisposableListener(o._element,n.EventType.KEY_DOWN,function(e){var t=new r.StandardKeyboardEvent(e),i=!1;o.enabled&&t.equals(3)||t.equals(10)?(o._onDidClick.fire(e),i=!0):t.equals(9)&&(o._element.blur(),i=!0),i&&n.EventHelper.stop(t,!0)})),o._register(n.addDisposableListener(o._element,n.EventType.MOUSE_OVER,function(e){n.hasClass(o._element,"disabled")||o.setHoverBackground()})),o._register(n.addDisposableListener(o._element,n.EventType.MOUSE_OUT,function(e){o.applyStyles()})),o.focusTracker=o._register(n.trackFocus(o._element)),o._register(o.focusTracker.onDidFocus(function(){return o.setHoverBackground()})),o._register(o.focusTracker.onDidBlur(function(){return o.applyStyles()})),o.applyStyles(),o}return i(t,e),Object.defineProperty(t.prototype,"onDidClick",{get:function(){
return this._onDidClick.event},enumerable:!0,configurable:!0}),t.prototype.setHoverBackground=function(){var e=this.buttonHoverBackground?this.buttonHoverBackground.toString():null;e&&(this._element.style.backgroundColor=e)},t.prototype.style=function(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()},t.prototype.applyStyles=function(){if(this._element){var e=this.buttonBackground?this.buttonBackground.toString():null,t=this.buttonForeground?this.buttonForeground.toString():null,i=this.buttonBorder?this.buttonBorder.toString():null;this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":null,this._element.style.borderStyle=i?"solid":null,this._element.style.borderColor=i}},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"label",{set:function(e){n.hasClass(this._element,"monaco-text-button")||n.addClass(this._element,"monaco-text-button"),this._element.textContent=e,this.options.title&&(this._element.title=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{set:function(e){n.addClass(this._element,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return!n.hasClass(this._element,"disabled")},set:function(e){e?(n.removeClass(this._element,"disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(n.addClass(this._element,"disabled"),this._element.setAttribute("aria-disabled",String(!0)),n.removeTabIndexAndUpdateFocus(this._element))},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._element.focus()},t}(c.Disposable);t.Button=d;var p=function(e){function t(t,i,n){var r=e.call(this)||this;return r._buttons=[],r.create(t,i,n),r}return i(t,e),
Object.defineProperty(t.prototype,"buttons",{get:function(){return this._buttons},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,i){for(var o=this,s=function(s){var c=a._register(new d(e,i));a._buttons.push(c),t>1&&a._register(n.addDisposableListener(c.element,n.EventType.KEY_DOWN,function(e){var t,i=new r.StandardKeyboardEvent(e),a=!0;i.equals(15)?t=s>0?s-1:o._buttons.length-1:i.equals(17)?t=s===o._buttons.length-1?0:s+1:a=!1,a&&"number"==typeof t&&(o._buttons[t].focus(),n.EventHelper.stop(e,!0))}))},a=this,c=0;c<t;c++)s(c)},t}(c.Disposable);t.ButtonGroup=p}),define(e[431],t([23]),{}),define(e[254],t([23]),{}),define(e[433],t([1,0,8,253,19,5,3,398]),function(e,t,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(){}return e.prototype.dispose=function(){},e}();t.BreadcrumbsItem=c;var l=function(e){function t(t,i){void 0===i&&(i=t);var n=e.call(this)||this;return n.text=t,n.title=i,n}return i(t,e),t.prototype.equals=function(e){
return e===this||e instanceof t&&e.text===this.text&&e.title===this.title},t.prototype.render=function(e){var t=document.createElement("div");t.title=this.title,t.innerText=this.text,e.appendChild(t)},t}(c);t.SimpleBreadcrumbsItem=l;var u=function(){function e(e){var t=this;this._disposables=new Array,this._onDidSelectItem=new s.Emitter,this._onDidFocusItem=new s.Emitter,this._onDidChangeFocus=new s.Emitter,this.onDidSelectItem=this._onDidSelectItem.event,this.onDidFocusItem=this._onDidFocusItem.event,this.onDidChangeFocus=this._onDidChangeFocus.event,this._items=new Array,this._nodes=new Array,this._freeNodes=new Array,this._focusedItemIdx=-1,this._selectedItemIdx=-1,this._domNode=document.createElement("div"),this._domNode.className="monaco-breadcrumbs",this._domNode.tabIndex=0,this._domNode.setAttribute("role","list"),this._scrollable=new r.DomScrollableElement(this._domNode,{vertical:2,horizontal:1,horizontalScrollbarSize:3,useShadows:!1,scrollYToX:!0}),this._disposables.push(this._scrollable),
this._disposables.push(n.addStandardDisposableListener(this._domNode,"click",function(e){return t._onClick(e)})),e.appendChild(this._scrollable.getDomNode()),this._styleElement=n.createStyleSheet(this._domNode);var i=n.trackFocus(this._domNode);this._disposables.push(i),this._disposables.push(i.onDidBlur(function(e){return t._onDidChangeFocus.fire(!1)})),this._disposables.push(i.onDidFocus(function(e){return t._onDidChangeFocus.fire(!0)}))}return e.prototype.dispose=function(){a.dispose(this._disposables),a.dispose(this._pendingLayout),this._onDidSelectItem.dispose(),this._onDidFocusItem.dispose(),this._onDidChangeFocus.dispose(),this._domNode.remove(),this._disposables.length=0,this._nodes.length=0,this._freeNodes.length=0},e.prototype.layout=function(e){e&&n.Dimension.equals(e,this._dimension)||(this._pendingLayout&&this._pendingLayout.dispose(),this._pendingLayout=e?this._updateDimensions(e):this._updateScrollbar())},e.prototype._updateDimensions=function(e){var t=this,i=[]
;return i.push(n.modify(function(){t._dimension=e,t._domNode.style.width=e.width+"px",t._domNode.style.height=e.height+"px",i.push(t._updateScrollbar())})),a.combinedDisposable(i)},e.prototype._updateScrollbar=function(){var e=this;return n.measure(function(){n.measure(function(){e._scrollable.setRevealOnScroll(!1),e._scrollable.scanDomNode(),e._scrollable.setRevealOnScroll(!0)})})},e.prototype.style=function(e){var t="";e.breadcrumbsBackground&&(t+=".monaco-breadcrumbs { background-color: "+e.breadcrumbsBackground+"}"),e.breadcrumbsForeground&&(t+=".monaco-breadcrumbs .monaco-breadcrumb-item { color: "+e.breadcrumbsForeground+"}\n"),e.breadcrumbsFocusForeground&&(t+=".monaco-breadcrumbs .monaco-breadcrumb-item.focused { color: "+e.breadcrumbsFocusForeground+"}\n"),e.breadcrumbsFocusAndSelectionForeground&&(t+=".monaco-breadcrumbs .monaco-breadcrumb-item.focused.selected { color: "+e.breadcrumbsFocusAndSelectionForeground+"}\n"),
e.breadcrumbsHoverForeground&&(t+=".monaco-breadcrumbs .monaco-breadcrumb-item:hover:not(.focused):not(.selected) { color: "+e.breadcrumbsHoverForeground+"}\n"),this._styleElement.innerHTML!==t&&(this._styleElement.innerHTML=t)},e.prototype.domFocus=function(){var e=this._focusedItemIdx>=0?this._focusedItemIdx:this._items.length-1;e>=0&&e<this._items.length?this._focus(e,void 0):this._domNode.focus()},e.prototype.isDOMFocused=function(){for(var e=document.activeElement;e;){if(this._domNode===e)return!0;e=e.parentElement}return!1},e.prototype.getFocused=function(){return this._items[this._focusedItemIdx]},e.prototype.setFocused=function(e,t){this._focus(this._items.indexOf(e),t)},e.prototype.focusPrev=function(e){this._focusedItemIdx>0&&this._focus(this._focusedItemIdx-1,e)},e.prototype.focusNext=function(e){this._focusedItemIdx+1<this._nodes.length&&this._focus(this._focusedItemIdx+1,e)},e.prototype._focus=function(e,t){this._focusedItemIdx=-1;for(var i=0;i<this._nodes.length;i++){var r=this._nodes[i]
;i!==e?n.removeClass(r,"focused"):(this._focusedItemIdx=i,n.addClass(r,"focused"),r.focus())}this._reveal(this._focusedItemIdx,!0),this._onDidFocusItem.fire({type:"focus",item:this._items[this._focusedItemIdx],node:this._nodes[this._focusedItemIdx],payload:t})},e.prototype.reveal=function(e){var t=this._items.indexOf(e);t>=0&&this._reveal(t,!1)},e.prototype._reveal=function(e,t){var i=this._nodes[e];if(i){var n=this._scrollable.getScrollDimensions().width,r=this._scrollable.getScrollPosition().scrollLeft;(!t||i.offsetLeft>r+n||i.offsetLeft<r)&&(this._scrollable.setRevealOnScroll(!1),this._scrollable.setScrollPosition({scrollLeft:i.offsetLeft}),this._scrollable.setRevealOnScroll(!0))}},e.prototype.getSelection=function(){return this._items[this._selectedItemIdx]},e.prototype.setSelection=function(e,t){this._select(this._items.indexOf(e),t)},e.prototype._select=function(e,t){this._selectedItemIdx=-1;for(var i=0;i<this._nodes.length;i++){var r=this._nodes[i]
;i!==e?n.removeClass(r,"selected"):(this._selectedItemIdx=i,n.addClass(r,"selected"))}this._onDidSelectItem.fire({type:"select",item:this._items[this._selectedItemIdx],node:this._nodes[this._selectedItemIdx],payload:t})},e.prototype.getItems=function(){return this._items},e.prototype.setItems=function(e){var t,i,n=[];try{i=o.commonPrefixLength(this._items,e,function(e,t){return e.equals(t)}),n=(t=this._items).splice.apply(t,[i,this._items.length-i].concat(e.slice(i))),this._render(i),a.dispose(n),this._focus(-1,void 0)}catch(t){var r=new Error("BreadcrumbsItem#setItems: newItems: "+e.length+", prefix: "+i+", removed: "+n.length);throw r.name=t.name,r.stack=t.stack,r}},e.prototype._render=function(e){for(;e<this._items.length&&e<this._nodes.length;e++){var t=this._items[e],i=this._nodes[e];this._renderItem(t,i)}for(;e<this._nodes.length;){var n=this._nodes.pop();n&&(this._freeNodes.push(n),n.remove())}for(;e<this._items.length;e++){t=this._items[e]
;(i=this._freeNodes.length>0?this._freeNodes.pop():document.createElement("div"))&&(this._renderItem(t,i),this._domNode.appendChild(i),this._nodes.push(i))}this.layout(void 0)},e.prototype._renderItem=function(e,t){n.clearNode(t),t.className="",e.render(t),t.tabIndex=-1,t.setAttribute("role","listitem"),n.addClass(t,"monaco-breadcrumb-item")},e.prototype._onClick=function(e){for(var t=e.target;t;t=t.parentElement){var i=this._nodes.indexOf(t);if(i>=0){this._focus(i,e),this._select(i,e);break}}},e}();t.BreadcrumbsWidget=u}),define(e[438],t([23]),{}),define(e[443],t([23]),{}),define(e[120],t([1,0,3,5,29,8,452,19,591,62,250,443]),function(e,t,n,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p,h={separatorBorder:u.Color.transparent};!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(p||(p={}));!function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}}}(t.Sizing||(t.Sizing={}));var f=function(e){function t(t,i){void 0===i&&(i={})
;var n=e.call(this)||this;return n.size=0,n.contentSize=0,n.proportions=void 0,n.viewItems=[],n.sashItems=[],n.state=p.Idle,n._onDidSashChange=n._register(new r.Emitter),n.onDidSashChange=n._onDidSashChange.event,n._onDidSashReset=n._register(new r.Emitter),n.onDidSashReset=n._onDidSashReset.event,n.orientation=o.isUndefined(i.orientation)?0:i.orientation,n.inverseAltBehavior=!!i.inverseAltBehavior,n.proportionalLayout=!!o.isUndefined(i.proportionalLayout)||!!i.proportionalLayout,n.el=document.createElement("div"),s.addClass(n.el,"monaco-split-view2"),s.addClass(n.el,0===n.orientation?"vertical":"horizontal"),t.appendChild(n.el),n.sashContainer=s.append(n.el,s.$(".sash-container")),n.viewContainer=s.append(n.el,s.$(".split-view-container")),n.style(i.styles||h),n}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this.viewItems.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumSize",{get:function(){return this.viewItems.reduce(function(e,t){
return e+t.view.minimumSize},0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumSize",{get:function(){return 0===this.length?Number.POSITIVE_INFINITY:this.viewItems.reduce(function(e,t){return e+t.view.maximumSize},0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(e){for(var t=0,i=this.sashItems;t<i.length;t++){i[t].sash.orthogonalStartSash=e}this._orthogonalStartSash=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(e){for(var t=0,i=this.sashItems;t<i.length;t++){i[t].sash.orthogonalEndSash=e}this._orthogonalEndSash=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sashes",{get:function(){return this.sashItems.map(function(e){return e.sash})},enumerable:!0,configurable:!0}),t.prototype.style=function(e){
e.separatorBorder.isTransparent()?(s.removeClass(this.el,"separator-border"),this.el.style.removeProperty("--separator-border")):(s.addClass(this.el,"separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))},t.prototype.addView=function(e,t,i){var o=this;if(void 0===i&&(i=this.viewItems.length),this.state!==p.Idle)throw new Error("Cant modify splitview");this.state=p.Busy;var a=s.$(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(a):this.viewContainer.insertBefore(a,this.viewContainer.children.item(i));var u,d=e.onDidChange(function(e){return o.onViewChange(v,e)}),h=n.toDisposable(function(){return o.viewContainer.removeChild(a)}),f=n.combinedDisposable([d,h]),g=0===this.orientation?function(){return v.container.style.height=v.size+"px"}:function(){return v.container.style.width=v.size+"px"};u="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:e.minimumSize;var v={view:e,container:a,size:u,layout:function(){g(),
v.view.layout(v.size,o.orientation)},disposable:f};if(this.viewItems.splice(i,0,v),this.viewItems.length>1){var m=0===this.orientation?1:0,y=0===this.orientation?{getHorizontalSashTop:function(e){return o.getSashPosition(e)}}:{getVerticalSashLeft:function(e){return o.getSashPosition(e)}},S=new l.Sash(this.sashContainer,y,{orientation:m,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}),b=0===this.orientation?function(e){return{sash:S,start:e.startY,current:e.currentY,alt:e.altKey}}:function(e){return{sash:S,start:e.startX,current:e.currentX,alt:e.altKey}},E=r.mapEvent(S.onDidStart,b)(this.onSashStart,this),_=r.mapEvent(S.onDidChange,b)(this.onSashChange,this),C=r.mapEvent(S.onDidEnd,function(){return c.firstIndex(o.sashItems,function(e){return e.sash===S})})(this.onSashEnd,this),w=S.onDidReset(function(){return o._onDidSashReset.fire(c.firstIndex(o.sashItems,function(e){return e.sash===S}))}),I=n.combinedDisposable([E,_,C,w,S]),x={sash:S,disposable:I}
;this.sashItems.splice(i-1,0,x)}a.appendChild(e.element);var D;"number"!=typeof t&&"split"===t.type&&(D=t.index),this.relayout(i,D),this.state=p.Idle,"number"!=typeof t&&"distribute"===t.type&&this.distributeViewSizes()},t.prototype.removeView=function(e,t){if(this.state!==p.Idle)throw new Error("Cant modify splitview");if(this.state=p.Busy,e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");var i=this.viewItems.splice(e,1)[0];if(i.disposable.dispose(),this.viewItems.length>=1){var n=Math.max(e-1,0);this.sashItems.splice(n,1)[0].disposable.dispose()}return this.relayout(),this.state=p.Idle,t&&"distribute"===t.type&&this.distributeViewSizes(),i.view},t.prototype.moveView=function(e,t){if(this.state!==p.Idle)throw new Error("Cant modify splitview");var i=this.getViewSize(e),n=this.removeView(e);this.addView(n,i,t)},t.prototype.swapViews=function(e,t){if(this.state!==p.Idle)throw new Error("Cant modify splitview");if(e>t)return this.swapViews(t,e)
;var i=this.getViewSize(e),n=this.getViewSize(t),r=this.removeView(t),o=this.removeView(e);this.addView(r,i,e),this.addView(o,n,t)},t.prototype.relayout=function(e,t){var i=this.viewItems.reduce(function(e,t){return e+t.size},0),n="number"==typeof e?[e]:void 0,r="number"==typeof t?[t]:void 0;this.resize(this.viewItems.length-1,this.size-i,void 0,n,r),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()},t.prototype.layout=function(e){var i=this,n=Math.max(this.size,this.contentSize);if(this.size=e,this.proportions)for(var r=0;r<this.viewItems.length;r++){var o=this.viewItems[r];o.size=t.clamp(o,Math.round(this.proportions[r]*e))}else{var s=c.range(this.viewItems.length),a=s.filter(function(e){return 1===i.viewItems[e].view.priority}),l=s.filter(function(e){return 2===i.viewItems[e].view.priority});this.resize(this.viewItems.length-1,e-n,void 0,a,l)}this.distributeEmptySpace(),this.layoutViews()},t.prototype.saveProportions=function(){var e=this
;this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(function(t){return t.size/e.contentSize}))},t.prototype.onSashStart=function(e){var t=this,i=e.sash,r=e.start,o=e.alt,s=c.firstIndex(this.sashItems,function(e){return e.sash===i}),a=n.combinedDisposable([d.domEvent(document.body,"keydown")(function(e){return l(t.sashDragState.current,e.altKey)}),d.domEvent(document.body,"keyup")(function(){return l(t.sashDragState.current,!1)})]),l=function(e,i){var n=t.viewItems.map(function(e){return e.size}),r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;if(t.inverseAltBehavior&&(i=!i),i){if(s===t.sashItems.length-1){r=((c=t.viewItems[s]).view.minimumSize-c.size)/2,o=(c.view.maximumSize-c.size)/2}else{var c=t.viewItems[s+1];r=(c.size-c.view.maximumSize)/2,o=(c.size-c.view.minimumSize)/2}}t.sashDragState={start:e,current:e,index:s,sizes:n,minDelta:r,maxDelta:o,alt:i,disposable:a}};l(r,o)},t.prototype.onSashChange=function(e){
var t=e.current,i=this.sashDragState,n=i.index,r=i.start,o=i.sizes,s=i.alt,a=i.minDelta,c=i.maxDelta;this.sashDragState.current=t;var l=t-r,u=this.resize(n,l,o,void 0,void 0,a,c);if(s){var d=n===this.sashItems.length-1,p=this.viewItems.map(function(e){return e.size}),h=d?n:n+1,f=this.viewItems[h],g=f.size-f.view.maximumSize,v=f.size-f.view.minimumSize,m=d?n-1:n+1;this.resize(m,-u,p,void 0,void 0,g,v)}this.distributeEmptySpace(),this.layoutViews()},t.prototype.onSashEnd=function(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions()},t.prototype.onViewChange=function(e,i){var n=this.viewItems.indexOf(e);n<0||n>=this.viewItems.length||(i="number"==typeof i?i:e.size,i=t.clamp(e,i),this.inverseAltBehavior&&n>0?(this.resize(n-1,Math.floor((e.size-i)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=i,this.relayout(n,void 0)))},t.prototype.resizeView=function(e,t){var i=this;if(this.state!==p.Idle)throw new Error("Cant modify splitview");if(this.state=p.Busy,
!(e<0||e>=this.viewItems.length)){var n=this.viewItems[e];t=Math.round(t);var r=(t=a.clamp(t,n.view.minimumSize,n.view.maximumSize))-n.size;if(0!==r&&e<this.viewItems.length-1){var o=c.range(e+1,this.viewItems.length),s=o.reduce(function(e,t){return e+(i.viewItems[t].size-i.viewItems[t].view.minimumSize)},0),l=o.reduce(function(e,t){return e+(i.viewItems[t].view.maximumSize-i.viewItems[t].size)},0),u=a.clamp(r,-l,s);this.resize(e,u),r-=u}if(0!==r&&e>0){var d=c.range(e-1,-1),h=d.reduce(function(e,t){return e+(i.viewItems[t].size-i.viewItems[t].view.minimumSize)},0),f=d.reduce(function(e,t){return e+(i.viewItems[t].view.maximumSize-i.viewItems[t].size)},0),g=a.clamp(-r,-h,f);this.resize(e-1,g)}this.distributeEmptySpace(),this.layoutViews(),this.saveProportions(),this.state=p.Idle}},t.prototype.distributeViewSizes=function(){for(var e=Math.floor(this.size/this.viewItems.length),t=0;t<this.viewItems.length-1;t++)this.resizeView(t,e)},t.prototype.getViewSize=function(e){
return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size},t.prototype.resize=function(e,i,n,r,o,s,l){var u=this;if(void 0===n&&(n=this.viewItems.map(function(e){return e.size})),void 0===s&&(s=Number.NEGATIVE_INFINITY),void 0===l&&(l=Number.POSITIVE_INFINITY),e<0||e>=this.viewItems.length)return 0;var d=c.range(e,-1),p=c.range(e+1,this.viewItems.length);if(o)for(var h=0,f=o;h<f.length;h++){var g=f[h];c.pushToStart(d,g),c.pushToStart(p,g)}if(r)for(var v=0,m=r;v<m.length;v++){var y=m[v];c.pushToEnd(d,y),c.pushToEnd(p,y)}for(var S=d.map(function(e){return u.viewItems[e]}),b=d.map(function(e){return n[e]}),E=p.map(function(e){return u.viewItems[e]}),_=p.map(function(e){return n[e]}),C=d.reduce(function(e,t){return e+(("number"==typeof u.viewItems[t].view.snapSize?0:u.viewItems[t].view.minimumSize)-n[t])},0),w=d.reduce(function(e,t){return e+(u.viewItems[t].view.maximumSize-n[t])},0),I=0===p.length?Number.POSITIVE_INFINITY:p.reduce(function(e,t){
return e+(n[t]-("number"==typeof u.viewItems[t].view.snapSize?0:u.viewItems[t].view.minimumSize))},0),x=0===p.length?Number.NEGATIVE_INFINITY:p.reduce(function(e,t){return e+(n[t]-u.viewItems[t].view.maximumSize)},0),D=Math.max(C,x,s),T=Math.min(I,w,l),R=0,A=0,O=a.clamp(i,D,T);A<S.length;A++){M=S[A];R+=L=(P=t.clamp(M,b[A]+O))-b[A],O-=L,M.size=P}for(var A=0,k=R;A<E.length;A++){var M=E[A],P=t.clamp(M,_[A]-k),L=P-_[A];k+=L,M.size=P}return i},t.clamp=function(e,t){var i=a.clamp(t,e.view.minimumSize,e.view.maximumSize);if("number"!=typeof e.view.snapSize||t>=e.view.minimumSize)return i;return t<Math.min(e.view.snapSize,e.view.minimumSize)?0:e.view.minimumSize},t.prototype.distributeEmptySpace=function(){for(var e=this.viewItems.reduce(function(e,t){return e+t.size},0),i=this.size-e,n=this.viewItems.length-1;0!==i&&n>=0;n--){var r=this.viewItems[n],o=t.clamp(r,r.size+i);i-=o-r.size,r.size=o}},t.prototype.layoutViews=function(){this.contentSize=this.viewItems.reduce(function(e,t){return e+t.size},0),
this.viewItems.forEach(function(e){return e.layout()}),this.sashItems.forEach(function(e){return e.sash.layout()});var e=!1,t=this.viewItems.map(function(t){return e=t.size-t.view.minimumSize>0||e});e=!1;var i=this.viewItems.map(function(t){return e=t.view.maximumSize-t.size>0||e}),n=this.viewItems.slice().reverse();e=!1;var r=n.map(function(t){return e=t.size-t.view.minimumSize>0||e}).reverse();e=!1;var o=n.map(function(t){return e=t.view.maximumSize-t.size>0||e}).reverse();this.sashItems.forEach(function(e,n){var s=!(t[n]&&o[n+1]),a=!(i[n]&&r[n+1]);e.sash.state=s&&a?0:s&&!a?1:!s&&a?2:3})},t.prototype.getSashPosition=function(e){for(var t=0,i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.viewItems.forEach(function(e){return e.disposable.dispose()}),this.viewItems=[],this.sashItems.forEach(function(e){return e.disposable.dispose()}),this.sashItems=[]},t}(n.Disposable);t.SplitView=f}),
define(e[463],t([1,0,120,8,5,3]),function(e,t,i,n,r,o){"use strict";function s(e){var t=n.$(".centered-layout-margin");return t.style.height="100%",t.style.backgroundColor=e.toString(),{element:t,layout:function(){},minimumSize:60,maximumSize:Number.POSITIVE_INFINITY,onDidChange:r.Event.None}}Object.defineProperty(t,"__esModule",{value:!0});var a={leftMarginRatio:.1909,rightMarginRatio:.1909},c=function(){function e(e,t,i){void 0===i&&(i={leftMarginRatio:a.leftMarginRatio,rightMarginRatio:a.rightMarginRatio}),this.container=e,this.view=t,this.state=i,this.width=0,this.height=0,this.didLayout=!1,this.splitViewDisposables=[],this.container.appendChild(this.view.element),this.container.style.overflow="hidden"}return Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return this.splitView?this.splitView.minimumSize:this.view.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{get:function(){
return this.splitView?this.splitView.maximumSize:this.view.maximumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{get:function(){return this.view.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return this.view.maximumHeight},enumerable:!0,configurable:!0}),e.prototype.layout=function(e,t){this.width=e,this.height=t,this.splitView?(this.splitView.layout(e),this.didLayout||this.resizeMargins()):this.view.layout(e,t),this.didLayout=!0},e.prototype.resizeMargins=function(){this.splitView&&(this.splitView.resizeView(0,this.state.leftMarginRatio*this.width),this.splitView.resizeView(2,this.state.rightMarginRatio*this.width))},e.prototype.isActive=function(){return!!this.splitView},e.prototype.styles=function(e){this.style=e,this.splitView&&this.emptyViews&&(this.splitView.style(this.style),this.emptyViews[0].element.style.backgroundColor=this.style.background.toString(),
this.emptyViews[1].element.style.backgroundColor=this.style.background.toString())},e.prototype.activate=function(e){var t=this;e!==this.isActive()&&(e?(this.container.removeChild(this.view.element),this.splitView=new i.SplitView(this.container,{inverseAltBehavior:!0,orientation:1,styles:this.style}),this.splitViewDisposables.push(this.splitView.onDidSashChange(function(){t.splitView&&(t.state.leftMarginRatio=t.splitView.getViewSize(0)/t.width,t.state.rightMarginRatio=t.splitView.getViewSize(2)/t.width)})),this.splitViewDisposables.push(this.splitView.onDidSashReset(function(){t.state.leftMarginRatio=a.leftMarginRatio,t.state.rightMarginRatio=a.rightMarginRatio,t.resizeMargins()})),this.splitView.layout(this.width),this.splitView.addView(function(e,t){return{element:e.element,get maximumSize(){return e.maximumWidth},get minimumSize(){return e.minimumWidth},onDidChange:r.mapEvent(e.onDidChange,function(e){return e&&e.width}),layout:function(i){return e.layout(i,t())}}}(this.view,function(){return t.height
}),0),this.emptyViews=[s(this.style.background),s(this.style.background)],this.splitView.addView(this.emptyViews[0],this.state.leftMarginRatio*this.width,0),this.splitView.addView(this.emptyViews[1],this.state.rightMarginRatio*this.width,2)):(this.splitView&&this.container.removeChild(this.splitView.el),this.splitViewDisposables=o.dispose(this.splitViewDisposables),this.splitView&&this.splitView.dispose(),this.splitView=void 0,this.emptyViews=void 0,this.container.appendChild(this.view.element)))},e.prototype.isDefault=function(e){return e.leftMarginRatio===a.leftMarginRatio&&e.rightMarginRatio===a.rightMarginRatio},e.prototype.dispose=function(){this.splitViewDisposables=o.dispose(this.splitViewDisposables),this.splitView&&(this.splitView.dispose(),this.splitView=void 0)},e}();t.CenteredViewLayout=c}),define(e[248],t([1,0,5,120,3,8,19,62,120,254]),function(e,t,i,n,r,o,s,a,c){"use strict";function l(e){return 0===e?1:0}function u(e,t,i){if(e instanceof p){
for(var n=new p(l(e.orientation),e.styles,e.proportionalLayout,t,i),r=0,o=e.children.length-1;o>=0;o--){var s=e.children[o],a=s instanceof p?s.orthogonalSize:s.size,c=0===e.size?0:Math.round(t*a/e.size);r+=c,0===o&&(c+=t-r),n.addChild(u(s,i,c),c,0)}return n}return new h(e.view,l(e.orientation),i)}Object.defineProperty(t,"__esModule",{value:!0}),t.Sizing=c.Sizing,t.orthogonal=l,t.isGridBranchNode=function(e){return!!e.children};var d={separatorBorder:a.Color.transparent},p=function(){function e(e,t,s,a,c){void 0===a&&(a=0),void 0===c&&(c=0),this.orientation=e,this.proportionalLayout=s,this.children=[],this._onDidChange=new i.Emitter,this.onDidChange=this._onDidChange.event,this.childrenChangeDisposable=r.Disposable.None,this._onDidSashReset=new i.Emitter,this.onDidSashReset=this._onDidSashReset.event,this.splitviewSashResetDisposable=r.Disposable.None,this.childrenSashResetDisposable=r.Disposable.None,this._styles=t,this._size=a,this._orthogonalSize=c,this.element=o.$(".monaco-grid-branch-node"),
this.splitview=new n.SplitView(this.element,{orientation:e,styles:t}),this.splitview.layout(a);var l=i.mapEvent(this.splitview.onDidSashReset,function(e){return[e]});this.splitviewSashResetDisposable=l(this._onDidSashReset.fire,this._onDidSashReset)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalSize",{get:function(){return this._orthogonalSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){return this._styles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1===this.orientation?this.size:this.orthogonalSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1===this.orientation?this.orthogonalSize:this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumSize",{get:function(){
return 0===this.children.length?0:Math.max.apply(Math,this.children.map(function(e){return e.minimumOrthogonalSize}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumSize",{get:function(){return Math.min.apply(Math,this.children.map(function(e){return e.maximumOrthogonalSize}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumOrthogonalSize",{get:function(){return this.splitview.minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumOrthogonalSize",{get:function(){return this.splitview.maximumSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return 1===this.orientation?this.minimumOrthogonalSize:this.minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{get:function(){return 1===this.orientation?this.minimumSize:this.minimumOrthogonalSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{
get:function(){return 1===this.orientation?this.maximumOrthogonalSize:this.maximumSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return 1===this.orientation?this.maximumSize:this.maximumOrthogonalSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalStartSash",{get:function(){return this.splitview.orthogonalStartSash},set:function(e){this.splitview.orthogonalStartSash=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalEndSash",{get:function(){return this.splitview.orthogonalEndSash},set:function(e){this.splitview.orthogonalEndSash=e},enumerable:!0,configurable:!0}),e.prototype.style=function(t){this._styles=t,this.splitview.style(t);for(var i=0,n=this.children;i<n.length;i++){var r=n[i];r instanceof e&&r.style(t)}},e.prototype.layout=function(e){this._orthogonalSize=e;for(var t=0,i=this.children;t<i.length;t++){i[t].orthogonalLayout(e)}},e.prototype.orthogonalLayout=function(e){this._size=e,
this.splitview.layout(e)},e.prototype.addChild=function(e,t,i){if(i<0||i>this.children.length)throw new Error("Invalid index");this.splitview.addView(e,t,i),this._addChild(e,i),this.onDidChildrenChange()},e.prototype._addChild=function(e,t){var i=0===t,n=t===this.children.length;this.children.splice(t,0,e),e.orthogonalStartSash=this.splitview.sashes[t-1],e.orthogonalEndSash=this.splitview.sashes[t],i||(this.children[t-1].orthogonalEndSash=this.splitview.sashes[t-1]),n||(this.children[t+1].orthogonalStartSash=this.splitview.sashes[t])},e.prototype.removeChild=function(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");this.splitview.removeView(e,t),this._removeChild(e),this.onDidChildrenChange()},e.prototype._removeChild=function(e){var t=0===e,i=e===this.children.length-1,n=this.children.splice(e,1)[0];return t||(this.children[e-1].orthogonalEndSash=this.splitview.sashes[e-1]),i||(this.children[e].orthogonalStartSash=this.splitview.sashes[Math.max(e-1,0)]),n},
e.prototype.moveChild=function(e,t){if(e!==t){if(e<0||e>=this.children.length)throw new Error("Invalid from index");if(t<0||t>this.children.length)throw new Error("Invalid to index");e<t&&t--,this.splitview.moveView(e,t);var i=this._removeChild(e);this._addChild(i,t)}},e.prototype.swapChildren=function(e,t){var i,n;if(e!==t){if(e<0||e>=this.children.length)throw new Error("Invalid from index");if(t<0||t>=this.children.length)throw new Error("Invalid to index");this.splitview.swapViews(e,t),i=[this.children[t].orthogonalStartSash,this.children[t].orthogonalEndSash,this.children[e].orthogonalStartSash,this.children[e].orthogonalEndSash],this.children[e].orthogonalStartSash=i[0],this.children[e].orthogonalEndSash=i[1],this.children[t].orthogonalStartSash=i[2],this.children[t].orthogonalEndSash=i[3],n=[this.children[t],this.children[e]],this.children[e]=n[0],this.children[t]=n[1]}},e.prototype.resizeChild=function(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");this.splitview.resizeView(e,t)
},e.prototype.distributeViewSizes=function(t){if(void 0===t&&(t=!1),this.splitview.distributeViewSizes(),t)for(var i=0,n=this.children;i<n.length;i++){var r=n[i];r instanceof e&&r.distributeViewSizes(!0)}},e.prototype.getChildSize=function(e){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.getViewSize(e)},e.prototype.onDidChildrenChange=function(){var e=i.anyEvent.apply(void 0,this.children.map(function(e){return e.onDidChange}));this.childrenChangeDisposable.dispose(),this.childrenChangeDisposable=e(this._onDidChange.fire,this._onDidChange);var t=i.anyEvent.apply(void 0,this.children.map(function(e,t){return i.mapEvent(e.onDidSashReset,function(e){return[t].concat(e)})}));this.childrenSashResetDisposable.dispose(),this.childrenSashResetDisposable=t(this._onDidSashReset.fire,this._onDidSashReset),this._onDidChange.fire()},e.prototype.trySet2x2=function(e){if(2!==this.children.length||2!==e.children.length)return r.Disposable.None
;if(this.getChildSize(0)!==e.getChildSize(0))return r.Disposable.None;var t=this.children,i=t[0],n=t[1],o=e.children,s=o[0],a=o[1];if(!(i instanceof h&&n instanceof h))return r.Disposable.None;if(!(s instanceof h&&a instanceof h))return r.Disposable.None;0===this.orientation?(n.linkedWidthNode=s.linkedHeightNode=i,i.linkedWidthNode=a.linkedHeightNode=n,a.linkedWidthNode=i.linkedHeightNode=s,s.linkedWidthNode=n.linkedHeightNode=a):(s.linkedWidthNode=n.linkedHeightNode=i,a.linkedWidthNode=i.linkedHeightNode=n,i.linkedWidthNode=a.linkedHeightNode=s,n.linkedWidthNode=s.linkedHeightNode=a);var c=this.splitview.sashes[0],l=e.splitview.sashes[0];return c.linkedSash=l,l.linkedSash=c,this._onDidChange.fire(),e._onDidChange.fire(),r.toDisposable(function(){c.linkedSash=l.linkedSash=void 0,i.linkedHeightNode=i.linkedWidthNode=void 0,n.linkedHeightNode=n.linkedWidthNode=void 0,s.linkedHeightNode=s.linkedWidthNode=void 0,a.linkedHeightNode=a.linkedWidthNode=void 0})},e.prototype.dispose=function(){
for(var e=0,t=this.children;e<t.length;e++){t[e].dispose()}this._onDidChange.dispose(),this._onDidSashReset.dispose(),this.splitviewSashResetDisposable.dispose(),this.childrenSashResetDisposable.dispose(),this.childrenChangeDisposable.dispose(),this.splitview.dispose()},e}(),h=function(){function e(e,t,n){void 0===n&&(n=0),this.view=e,this.orientation=t,this._size=0,this.onDidSashReset=i.Event.None,this._onDidLinkedWidthNodeChange=new i.Relay,this._linkedWidthNode=void 0,this._onDidLinkedHeightNodeChange=new i.Relay,this._linkedHeightNode=void 0,this._onDidSetLinkedNode=new i.Emitter,this._orthogonalSize=n,this._onDidViewChange=i.mapEvent(this.view.onDidChange,1===this.orientation?function(e){return e&&e.width}:function(e){return e&&e.height}),this.onDidChange=i.anyEvent(this._onDidViewChange,this._onDidSetLinkedNode.event,this._onDidLinkedWidthNodeChange.event,this._onDidLinkedHeightNodeChange.event)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,
configurable:!0}),Object.defineProperty(e.prototype,"orthogonalSize",{get:function(){return this._orthogonalSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"linkedWidthNode",{get:function(){return this._linkedWidthNode},set:function(e){this._onDidLinkedWidthNodeChange.input=e?e._onDidViewChange:i.Event.None,this._linkedWidthNode=e,this._onDidSetLinkedNode.fire()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"linkedHeightNode",{get:function(){return this._linkedHeightNode},set:function(e){this._onDidLinkedHeightNodeChange.input=e?e._onDidViewChange:i.Event.None,this._linkedHeightNode=e,this._onDidSetLinkedNode.fire()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1===this.orientation?this.orthogonalSize:this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1===this.orientation?this.size:this.orthogonalSize},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"element",{get:function(){return this.view.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return this.linkedWidthNode?Math.max(this.linkedWidthNode.view.minimumWidth,this.view.minimumWidth):this.view.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{get:function(){return this.linkedWidthNode?Math.min(this.linkedWidthNode.view.maximumWidth,this.view.maximumWidth):this.view.maximumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{get:function(){return this.linkedHeightNode?Math.max(this.linkedHeightNode.view.minimumHeight,this.view.minimumHeight):this.view.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return this.linkedHeightNode?Math.min(this.linkedHeightNode.view.maximumHeight,this.view.maximumHeight):this.view.maximumHeight},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"minimumSize",{get:function(){return 1===this.orientation?this.minimumHeight:this.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumSize",{get:function(){return 1===this.orientation?this.maximumHeight:this.maximumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return this.view.priority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"snapSize",{get:function(){return this.view.snapSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumOrthogonalSize",{get:function(){return 1===this.orientation?this.minimumWidth:this.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumOrthogonalSize",{get:function(){return 1===this.orientation?this.maximumWidth:this.maximumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalStartSash",{set:function(e){},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"orthogonalEndSash",{set:function(e){},enumerable:!0,configurable:!0}),e.prototype.layout=function(e){return this._size=e,this.view.layout(this.width,this.height)},e.prototype.orthogonalLayout=function(e){return this._orthogonalSize=e,this.view.layout(this.width,this.height)},e.prototype.dispose=function(){},e}(),f=function(){function e(e){void 0===e&&(e={}),this.onDidSashResetRelay=new i.Relay,this.onDidSashReset=this.onDidSashResetRelay.event,this.disposable2x2=r.Disposable.None,this._onDidChange=new i.Relay,this.onDidChange=this._onDidChange.event,this.element=o.$(".monaco-grid-view"),this.styles=e.styles||d,this.proportionalLayout=void 0===e.proportionalLayout||!!e.proportionalLayout,this.root=new p(0,this.styles,this.proportionalLayout)}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root},set:function(e){var t=this._root;t&&(this.element.removeChild(t.element),t.dispose()),this._root=e,this.element.appendChild(e.element),
this.onDidSashResetRelay.input=e.onDidSashReset,this._onDidChange.input=i.mapEvent(e.onDidChange,function(){})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._root.orientation},set:function(e){if(this._root.orientation!==e){var t=this._root,i=t.size,n=t.orthogonalSize;this.root=u(this._root,n,i),this.root.layout(i),this.root.orthogonalLayout(n)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.root.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.root.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return this.root.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{get:function(){return this.root.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{get:function(){
return this.root.maximumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return this.root.maximumHeight},enumerable:!0,configurable:!0}),e.prototype.style=function(e){this.styles=e,this.root.style(e)},e.prototype.layout=function(e,t){var i=1===this.root.orientation?[t,e]:[e,t],n=i[0],r=i[1];this.root.layout(n),this.root.orthogonalLayout(r)},e.prototype.addView=function(e,t,i){this.disposable2x2.dispose(),this.disposable2x2=r.Disposable.None;var o=s.tail2(i),a=o[0],c=o[1],u=this.getNode(a),d=u[0],f=u[1];if(f instanceof p){S=new h(e,l(f.orientation),f.orthogonalSize);f.addChild(S,t,c)}else{var g=s.tail2(d)[1],v=s.tail2(a)[1];g.removeChild(v);var m=new p(f.orientation,this.styles,this.proportionalLayout,f.size,f.orthogonalSize);g.addChild(m,f.size,v),m.orthogonalLayout(f.orthogonalSize);var y=new h(f.view,g.orientation,f.size);m.addChild(y,0,0),"number"!=typeof t&&"split"===t.type&&(t=n.Sizing.Split(0));var S=new h(e,g.orientation,f.size);m.addChild(S,t,c)
}},e.prototype.removeView=function(e,t){this.disposable2x2.dispose(),this.disposable2x2=r.Disposable.None;var i=s.tail2(e),n=i[0],o=i[1],a=this.getNode(n),c=a[0],u=a[1];if(!(u instanceof p))throw new Error("Invalid location");var d=u.children[o];if(!(d instanceof h))throw new Error("Invalid location");if(u.removeChild(o,t),0===u.children.length)throw new Error("Invalid grid state");if(u.children.length>1)return d.view;if(0===c.length){var f=u.children[0];return f instanceof h?d.view:(u.removeChild(0),this.root=f,d.view)}var g=s.tail2(c)[1],v=s.tail2(n)[1],m=u.children[0];u.removeChild(0);var y=g.children.map(function(e,t){return g.getChildSize(t)});if(g.removeChild(v,t),m instanceof p){y.splice.apply(y,[v,1].concat(m.children.map(function(e){return e.size})));for(E=0;E<m.children.length;E++){var S=m.children[E];g.addChild(S,S.size,v+E)}}else{var b=new h(m.view,l(m.orientation),m.size);g.addChild(b,m.orthogonalSize,v)}for(var E=0;E<y.length;E++)g.resizeChild(E,y[E]);return d.view},
e.prototype.moveView=function(e,t,i){var n=this.getNode(e)[1];if(!(n instanceof p))throw new Error("Invalid location");n.moveChild(t,i)},e.prototype.swapViews=function(e,t){var i=s.tail2(e),n=i[0],r=i[1],o=this.getNode(n)[1];if(!(o instanceof p))throw new Error("Invalid from location");var a=o.getChildSize(r),c=o.children[r];if(!(c instanceof h))throw new Error("Invalid from location");var l=s.tail2(t),u=l[0],d=l[1],f=this.getNode(u)[1];if(!(f instanceof p))throw new Error("Invalid to location");var g=f.getChildSize(d),v=f.children[d];if(!(v instanceof h))throw new Error("Invalid to location");o===f?o.swapChildren(r,d):(o.removeChild(r),f.removeChild(d),o.addChild(v,a,r),f.addChild(c,g,d),o.layout(o.orthogonalSize),f.layout(f.orthogonalSize))},e.prototype.resizeView=function(e,t){var i=s.tail2(e),n=i[0],r=i[1],o=this.getNode(n)[1];if(!(o instanceof p))throw new Error("Invalid location");o.resizeChild(r,t)},e.prototype.getViewSize=function(e){var t=this.getNode(e)[1];return{width:t.width,height:t.height}},
e.prototype.maximizeViewSize=function(e){var t=this.getNode(e),i=t[0];if(!(t[1]instanceof h))throw new Error("Invalid location");for(var n=0;n<i.length;n++)i[n].resizeChild(e[n],Number.POSITIVE_INFINITY)},e.prototype.distributeViewSizes=function(e){if(e){var t=this.getNode(e)[1];if(!(t instanceof p))throw new Error("Invalid location");t.distributeViewSizes()}else this.root.distributeViewSizes(!0)},e.prototype.getViews=function(){return this._getViews(this.root,this.orientation,{top:0,left:0,width:this.width,height:this.height})},e.prototype._getViews=function(e,t,i){if(e instanceof h)return{view:e.view,box:i};for(var n=[],r=0,o=0;o<e.children.length;o++){var s=e.children[o],a=l(t),c=1===t?{top:i.top,left:i.left+r,width:s.width,height:i.height}:{top:i.top+r,left:i.left,width:i.width,height:s.height};n.push(this._getViews(s,a,c)),r+=1===t?s.width:s.height}return{children:n,box:i}},e.prototype.getNode=function(e,t,i){if(void 0===t&&(t=this.root),void 0===i&&(i=[]),0===e.length)return[i,t]
;if(!(t instanceof p))throw new Error("Invalid location");var n=e[0],r=e.slice(1);if(n<0||n>=t.children.length)throw new Error("Invalid location");var o=t.children[n];return i.push(t),this.getNode(r,o,i)},e.prototype.trySet2x2=function(){if(this.disposable2x2.dispose(),this.disposable2x2=r.Disposable.None,2===this.root.children.length){var e=this.root.children,t=e[0],i=e[1];t instanceof p&&i instanceof p&&(this.disposable2x2=t.trySet2x2(i))}},e.prototype.dispose=function(){this.onDidSashResetRelay.dispose(),this.root.dispose(),this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element)},e}();t.GridView=f}),define(e[501],t([1,0,3,19,248,254]),function(e,t,n,r,o){"use strict";function s(e){return!!e.children}function a(e,t){if(0===t.length)return e;if(!s(e))throw new Error("Invalid location");var i=t[0],n=t.slice(1);return a(e.children[i],n)}function c(e,t){var i=u(t);return{offset:0===t?e.top:3===t?e.left+e.width:1===t?e.top+e.height:e.left,range:{start:1===i?e.top:e.left,
end:1===i?e.top+e.height:e.left+e.width}}}function l(e,t){return t.length%2==0?o.orthogonal(e):e}function u(e){return 0===e||1===e?0:1}function d(e,t){return 1===t?e.width:e.height}function p(e,t,i){if(l(e,t)===u(i)){var n=r.tail2(t),o=n[0],s=n[1];return 3!==i&&1!==i||(s+=1),o.concat([s])}s=3===i||1===i?1:0;return t.concat([s])}function h(e){var t=e.parentElement;if(!t)throw new Error("Invalid grid element");if(/\bmonaco-grid-view\b/.test(t.className))return[];var i=function(e){var t=e.parentElement;if(!t)throw new Error("Invalid grid element");for(var i=t.firstElementChild,n=0;i!==e&&i!==t.lastElementChild&&i;)i=i.nextElementSibling,n++;return n}(t);return h(t.parentElement.parentElement.parentElement).concat([i])}function f(e){if(e.groups&&0===e.groups.length&&(e.groups=void 0),e.groups){for(var t=0,i=0,n=0,r=e.groups;n<r.length;n++){f(c=r[n]),c.size&&(t+=c.size,i++)}for(var o=(i>0?t:1)/(e.groups.length-i),s=0,a=e.groups;s<a.length;s++){var c=a[s];c.size||(c.size=o)}}}function g(e){return e.groups?{
type:"branch",data:e.groups.map(function(e){return g(e)}),size:e.size}:{type:"leaf",data:null,size:e.size}}function v(e,t){if("branch"===e.type){var i=e.data.map(function(e){return v(e,o.orthogonal(t))});if(0===t){return{width:n=e.size||(0===i.length?void 0:Math.max.apply(Math,i.map(function(e){return e.width||0}))),height:r=0===i.length?void 0:i.reduce(function(e,t){return e+(t.height||0)},0)}}return{width:n=0===i.length?void 0:i.reduce(function(e,t){return e+(t.width||0)},0),height:r=e.size||(0===i.length?void 0:Math.max.apply(Math,i.map(function(e){return e.height||0})))}}var n=0===t?e.size:void 0,r=0===t?void 0:e.size;return{width:n,height:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.isGridBranchNode=s,t.getRelativeLocation=p;var m=function(){function e(e,t){void 0===t&&(t={}),this.views=new Map,this.disposables=[],this.sashResetSizing="distribute",this.gridview=new o.GridView(t),this.disposables.push(this.gridview),this.gridview.onDidSashReset(this.doResetViewSize,this,this.disposables),
this._addView(e,0,[0])}return Object.defineProperty(e.prototype,"orientation",{get:function(){return this.gridview.orientation},set:function(e){this.gridview.orientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.gridview.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.gridview.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return this.gridview.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{get:function(){return this.gridview.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{get:function(){return this.gridview.maximumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return this.gridview.maximumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChange",{
get:function(){return this.gridview.onDidChange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.gridview.element},enumerable:!0,configurable:!0}),e.prototype.style=function(e){this.gridview.style(e)},e.prototype.layout=function(e,t){this.gridview.layout(e,t)},e.prototype.addView=function(e,t,i,n){if(this.views.has(e))throw new Error("Can't add same view twice");var s=u(n);1===this.views.size&&this.orientation!==s&&(this.orientation=s);var a,c=this.getViewLocation(i),l=p(this.gridview.orientation,c,n);if("split"===t){var d=r.tail2(c)[1];a=o.Sizing.Split(d)}else a="distribute"===t?o.Sizing.Distribute:t;this._addView(e,a,l)},e.prototype._addView=function(e,t,i){this.views.set(e,e.element),this.gridview.addView(e,t,i)},e.prototype.removeView=function(e,t){if(1===this.views.size)throw new Error("Can't remove last view");var i=this.getViewLocation(e);this.gridview.removeView(i,"distribute"===t?o.Sizing.Distribute:void 0),this.views.delete(e)},
e.prototype.moveView=function(e,t,i,n){var o=this.getViewLocation(e),s=r.tail2(o),a=s[0],c=s[1],l=this.getViewLocation(i),u=p(this.gridview.orientation,l,n),d=r.tail2(u),h=d[0],f=d[1];r.equals(a,h)?this.gridview.moveView(a,c,f):(this.removeView(e,"number"==typeof t?void 0:t),this.addView(e,t,i,n))},e.prototype.swapViews=function(e,t){var i=this.getViewLocation(e),n=this.getViewLocation(t);return this.gridview.swapViews(i,n)},e.prototype.resizeView=function(e,t){var i=this.getViewLocation(e);return this.gridview.resizeView(i,t)},e.prototype.getViewSize=function(e){var t=this.getViewLocation(e),i=this.gridview.getViewSize(t);return 1===l(this.orientation,t)?i.width:i.height},e.prototype.getViewSize2=function(e){var t=this.getViewLocation(e);return this.gridview.getViewSize(t)},e.prototype.maximizeViewSize=function(e){var t=this.getViewLocation(e);this.gridview.maximizeViewSize(t)},e.prototype.distributeViewSizes=function(){this.gridview.distributeViewSizes()},e.prototype.getViews=function(){
return this.gridview.getViews()},e.prototype.getNeighborViews=function(e,t,i){void 0===i&&(i=!1);var n=this.getViewLocation(e),r=this.getViews(),o=a(r,n),l=c(o.box,t);return i&&(0===t&&0===o.box.top?l={offset:r.box.top+r.box.height,range:l.range}:3===t&&o.box.left+o.box.width===r.box.width?l={offset:0,range:l.range}:1===t&&o.box.top+o.box.height===r.box.height?l={offset:0,range:l.range}:2===t&&0===o.box.left&&(l={offset:r.box.left+r.box.width,range:l.range})),function(e,t,i){function n(e,t,i){if(s(e))for(var o=0,a=e.children;o<a.length;o++)n(a[o],t,i);else{var l=c(e.box,t),u=l.offset,d=l.range;u===i.offset&&function(e,t){return!(e.start>=t.end||t.start>=e.end)}(d,i.range)&&r.push(e)}}var r=[];return n(e,t,i),r}(r,function(e){switch(e){case 0:return 1;case 1:return 0;case 2:return 3;case 3:return 2}}(t),l).map(function(e){return e.view})},e.prototype.getViewLocation=function(e){var t=this.views.get(e);if(!t)throw new Error("View not found");return h(t)},e.prototype.doResetViewSize=function(e){
if("split"===this.sashResetSizing){var t=l(this.orientation,e),i=d(this.gridview.getViewSize(e),t),n=r.tail2(e),o=n[0],s=n[1],a=i+d(this.gridview.getViewSize(o.concat([s+1])),t);this.gridview.resizeView(e,Math.floor(a/2))}else{o=r.tail2(e)[0];this.gridview.distributeViewSizes(o)}},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables)},e}();t.Grid=m;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.serializeNode=function(e,i){var n=0===i?e.box.width:e.box.height;return s(e)?{type:"branch",data:e.children.map(function(e){return t.serializeNode(e,o.orthogonal(i))}),size:n}:{type:"leaf",data:e.view.toJSON(),size:n}},t.deserializeNode=function(e,i,n,r){if(!e||"object"!=typeof e)throw new Error("Invalid JSON");if("branch"===e.type){if(!Array.isArray(e.data))throw new Error("Invalid JSON: 'data' property of branch must be an array.");for(var s=[],a=0,c=0,l=e.data;c<l.length;c++){var u=l[c]
;if("number"!=typeof u.size)throw new Error("Invalid JSON: 'size' property of node must be a number.");var d=1===i?{top:n.top,left:n.left+a,width:u.size,height:n.height}:{top:n.top+a,left:n.left,width:n.width,height:u.size};s.push(t.deserializeNode(u,o.orthogonal(i),d,r)),a+=u.size}return{children:s,box:n}}if("leaf"===e.type){return{view:r.fromJSON(e.data),box:n}}throw new Error("Invalid JSON: 'type' property must be either 'branch' or 'leaf'.")},t.getFirstLeaf=function(e){return s(e)?t.getFirstLeaf(e.children[0]):e},t.deserialize=function(e,i,n){if(void 0===n&&(n={}),"number"!=typeof e.orientation)throw new Error("Invalid JSON: 'orientation' property must be a number.");if("number"!=typeof e.width)throw new Error("Invalid JSON: 'width' property must be a number.");if("number"!=typeof e.height)throw new Error("Invalid JSON: 'height' property must be a number.");var r=e.orientation,o=e.width,s=e.height,a={top:0,left:0,width:o,height:s},c=t.deserializeNode(e.root,r,a,i),l=t.getFirstLeaf(c)
;if(!l)throw new Error("Invalid serialized state, first leaf not found");var u=new t(l.view,n);return u.orientation=r,u.restoreViews(l.view,r,c),u.initialLayoutContext={width:o,height:s,root:c},u},t.prototype.serialize=function(){return{root:t.serializeNode(this.getViews(),this.orientation),orientation:this.orientation,width:this.width,height:this.height}},t.prototype.layout=function(t,i){if(e.prototype.layout.call(this,t,i),this.initialLayoutContext){var n=t/this.initialLayoutContext.width,r=i/this.initialLayoutContext.height;this.restoreViewsSize([],this.initialLayoutContext.root,this.orientation,n,r),this.initialLayoutContext=void 0,this.gridview.trySet2x2()}},t.prototype.restoreViews=function(e,i,n){if(s(n)){for(var r=0===i?1:3,a=n.children.map(function(e){return t.getFirstLeaf(e)}),c=1;c<a.length;c++){var l=0===i?a[c].box.height:a[c].box.width;this.addView(a[c].view,l,e,r),e=a[c].view}for(c=0;c<n.children.length;c++)this.restoreViews(a[c].view,o.orthogonal(i),n.children[c])}},
t.prototype.restoreViewsSize=function(e,t,i,n,r){if(s(t))for(var a=0===i?r:n,c=0;c<t.children.length;c++){var l=t.children[c],u=e.concat([c]);if(c<t.children.length-1){var d=0===i?l.box.height:l.box.width;this.gridview.resizeView(u,Math.floor(d*a))}this.restoreViewsSize(u,l,o.orthogonal(i),n,r)}},t}(m);t.SerializableGrid=y,t.sanitizeGridNodeDescriptor=f,t.createSerializedGrid=function(e){f(e);var t=g(e),i=v(t,e.orientation),n=i.width,r=i.height;return{root:t,orientation:e.orientation,width:n||1,height:r||1}}}),define(e[247],t([1,0,3,5,250,72,8,19,62,120,438]),function(e,t,n,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e){void 0===e&&(e={}),this.disposables=[],this.expandedSize=void 0,this._headerVisible=!0,this.styles={},this._onDidChange=new r.Emitter,this.onDidChange=this._onDidChange.event,this._expanded=void 0===e.expanded||!!e.expanded,this.ariaHeaderLabel=e.ariaHeaderLabel||"",
this._minimumBodySize="number"==typeof e.minimumBodySize?e.minimumBodySize:120,this._maximumBodySize="number"==typeof e.maximumBodySize?e.maximumBodySize:Number.POSITIVE_INFINITY,this.element=a.$(".panel")}return Object.defineProperty(e.prototype,"draggableElement",{get:function(){return this.header},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropTargetElement",{get:function(){return this.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropBackground",{get:function(){return this._dropBackground},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumBodySize",{get:function(){return this._minimumBodySize},set:function(e){this._minimumBodySize=e,this._onDidChange.fire()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumBodySize",{get:function(){return this._maximumBodySize},set:function(e){this._maximumBodySize=e,this._onDidChange.fire()},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"headerSize",{get:function(){return this.headerVisible?e.HEADER_SIZE:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumSize",{get:function(){return this.headerSize+(!this.headerVisible||this.isExpanded()?this._minimumBodySize:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumSize",{get:function(){return this.headerSize+(!this.headerVisible||this.isExpanded()?this._maximumBodySize:0)},enumerable:!0,configurable:!0}),e.prototype.isExpanded=function(){return this._expanded},e.prototype.setExpanded=function(e){this._expanded!==!!e&&(this._expanded=!!e,this.updateHeader(),this._onDidChange.fire(e?this.expandedSize:void 0))},Object.defineProperty(e.prototype,"headerVisible",{get:function(){return this._headerVisible},set:function(e){this._headerVisible!==!!e&&(this._headerVisible=!!e,this.updateHeader(),this._onDidChange.fire())},enumerable:!0,configurable:!0}),e.prototype.render=function(){var e=this
;this.header=a.$(".panel-header"),a.append(this.element,this.header),this.header.setAttribute("tabindex","0"),this.header.setAttribute("role","toolbar"),this.header.setAttribute("aria-label",this.ariaHeaderLabel),this.renderHeader(this.header);var t=a.trackFocus(this.header);t.onDidFocus(function(){return a.addClass(e.header,"focused")}),t.onDidBlur(function(){return a.removeClass(e.header,"focused")}),this.updateHeader();var i=r.chain(o.domEvent(this.header,"keydown")).map(function(e){return new s.StandardKeyboardEvent(e)});i.filter(function(e){return 3===e.keyCode||10===e.keyCode}).event(function(){return e.setExpanded(!e.isExpanded())},null,this.disposables),i.filter(function(e){return 15===e.keyCode}).event(function(){return e.setExpanded(!1)},null,this.disposables),i.filter(function(e){return 17===e.keyCode}).event(function(){return e.setExpanded(!0)},null,this.disposables),o.domEvent(this.header,"click")(function(){return e.setExpanded(!e.isExpanded())},null,this.disposables)
;var n=a.append(this.element,a.$(".panel-body"));this.renderBody(n)},e.prototype.layout=function(t){var i=this.headerVisible?e.HEADER_SIZE:0;this.isExpanded()&&(this.layoutBody(t-i),this.expandedSize=t)},e.prototype.style=function(e){this.styles=e,this.header&&this.updateHeader()},e.prototype.updateHeader=function(){var e=!this.headerVisible||this.isExpanded();this.header.style.height=this.headerSize+"px",this.header.style.lineHeight=this.headerSize+"px",a.toggleClass(this.header,"hidden",!this.headerVisible),a.toggleClass(this.header,"expanded",e),this.header.setAttribute("aria-expanded",String(e)),this.header.style.color=this.styles.headerForeground?this.styles.headerForeground.toString():null,this.header.style.backgroundColor=this.styles.headerBackground?this.styles.headerBackground.toString():null,this.header.style.borderTop=this.styles.headerBorder?"1px solid "+this.styles.headerBorder:null,this._dropBackground=this.styles.dropBackground},e.prototype.dispose=function(){
this.disposables=n.dispose(this.disposables),this._onDidChange.dispose()},e.HEADER_SIZE=22,e}();t.Panel=d;var p=function(e){function t(t,i,n){var s=e.call(this)||this;return s.panel=t,s.dnd=i,s.context=n,s.dragOverCounter=0,s._onDidDrop=s._register(new r.Emitter),s.onDidDrop=s._onDidDrop.event,t.draggableElement.draggable=!0,s._register(o.domEvent(t.draggableElement,"dragstart")(s.onDragStart,s)),s._register(o.domEvent(t.dropTargetElement,"dragenter")(s.onDragEnter,s)),s._register(o.domEvent(t.dropTargetElement,"dragleave")(s.onDragLeave,s)),s._register(o.domEvent(t.dropTargetElement,"dragend")(s.onDragEnd,s)),s._register(o.domEvent(t.dropTargetElement,"drop")(s.onDrop,s)),s}return i(t,e),t.prototype.onDragStart=function(e){if(!this.dnd.canDrag(this.panel)||!e.dataTransfer)return e.preventDefault(),void e.stopPropagation();e.dataTransfer.effectAllowed="move";var t=a.append(document.body,a.$(".monaco-panel-drag-image",{},this.panel.draggableElement.textContent||""));e.dataTransfer.setDragImage(t,-10,-10),
setTimeout(function(){return document.body.removeChild(t)},0),this.context.draggable=this},t.prototype.onDragEnter=function(e){this.context.draggable&&this.context.draggable!==this&&this.dnd.canDrop(this.context.draggable.panel,this.panel)&&(this.dragOverCounter++,this.render())},t.prototype.onDragLeave=function(e){this.context.draggable&&this.context.draggable!==this&&this.dnd.canDrop(this.context.draggable.panel,this.panel)&&(this.dragOverCounter--,0===this.dragOverCounter&&this.render())},t.prototype.onDragEnd=function(e){this.context.draggable&&(this.dragOverCounter=0,this.render(),this.context.draggable=null)},t.prototype.onDrop=function(e){this.context.draggable&&(this.dragOverCounter=0,this.render(),this.dnd.canDrop(this.context.draggable.panel,this.panel)&&this.context.draggable!==this&&this._onDidDrop.fire({from:this.context.draggable.panel,to:this.panel}),this.context.draggable=null)},t.prototype.render=function(){var e=null
;this.dragOverCounter>0&&(e=(this.panel.dropBackground||t.DefaultDragOverBackgroundColor).toString()),this.panel.dropTargetElement.style.backgroundColor=e},t.DefaultDragOverBackgroundColor=new l.Color(new l.RGBA(128,128,128,.5)),t}(n.Disposable),h=function(){function e(){}return e.prototype.canDrag=function(e){return!0},e.prototype.canDrop=function(e,t){return!0},e}();t.DefaultPanelDndController=h;var f=function(e){function t(t,i){void 0===i&&(i={});var n=e.call(this)||this;return n.dndContext={draggable:null},n.panelItems=[],n.animationTimer=null,n._onDidDrop=n._register(new r.Emitter),n.onDidDrop=n._onDidDrop.event,n.dnd=i.dnd,n.el=a.append(t,a.$(".monaco-panel-view")),n.splitview=n._register(new u.SplitView(n.el)),n.onDidSashChange=n.splitview.onDidSashChange,n}return i(t,e),t.prototype.addPanel=function(e,t,i){void 0===i&&(i=this.splitview.length);var o=[],s=!1;o.push(a.scheduleAtNextAnimationFrame(function(){return s=!0})),r.filterEvent(e.onDidChange,function(){return s})(this.setupAnimation,this,o)
;var c={panel:e,disposable:n.combinedDisposable(o)};if(this.panelItems.splice(i,0,c),this.splitview.addView(e,t,i),this.dnd){var l=new p(e,this.dnd,this.dndContext);o.push(l),l.onDidDrop(this._onDidDrop.fire,this._onDidDrop,o)}},t.prototype.removePanel=function(e){var t=c.firstIndex(this.panelItems,function(t){return t.panel===e});if(-1!==t){this.splitview.removeView(t);this.panelItems.splice(t,1)[0].disposable.dispose()}},t.prototype.movePanel=function(e,t){var i=c.firstIndex(this.panelItems,function(t){return t.panel===e}),n=c.firstIndex(this.panelItems,function(e){return e.panel===t});if(-1!==i&&-1!==n){var r=this.panelItems.splice(i,1)[0];this.panelItems.splice(n,0,r),this.splitview.moveView(i,n)}},t.prototype.resizePanel=function(e,t){var i=c.firstIndex(this.panelItems,function(t){return t.panel===e});-1!==i&&this.splitview.resizeView(i,t)},t.prototype.getPanelSize=function(e){var t=c.firstIndex(this.panelItems,function(t){return t.panel===e});return-1===t?-1:this.splitview.getViewSize(t)},
t.prototype.layout=function(e){this.splitview.layout(e)},t.prototype.setupAnimation=function(){var e=this;"number"==typeof this.animationTimer&&window.clearTimeout(this.animationTimer),a.addClass(this.el,"animated"),this.animationTimer=window.setTimeout(function(){e.animationTimer=null,a.removeClass(e.el,"animated")},200)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.panelItems.forEach(function(e){return e.disposable.dispose()})},t}(n.Disposable);t.PanelView=f}),define(e[519],t([23]),{}),define(e[524],t([23]),{}),define(e[245],t([23]),{}),define(e[541],t([23]),{}),define(e[543],t([23]),{}),define(e[283],t([23]),{}),define(e[285],t([23]),{}),define(e[241],t([23]),{}),define(e[290],t([23]),{}),define(e[291],t([23]),{}),define(e[292],t([23]),{}),define(e[294],t([23]),{}),define(e[295],t([23]),{}),define(e[297],t([23]),{}),define(e[302],t([23]),{}),define(e[306],t([23]),{}),define(e[309],t([23]),{}),define(e[160],t([23]),{}),define(e[311],t([23]),{}),define(e[312],t([23]),{}),
define(e[315],t([23]),{}),define(e[317],t([23]),{}),define(e[323],t([23]),{}),define(e[324],t([23]),{}),define(e[325],t([23]),{}),define(e[329],t([23]),{}),define(e[332],t([23]),{}),define(e[333],t([23]),{}),define(e[335],t([23]),{}),define(e[337],t([23]),{}),define(e[338],t([23]),{}),define(e[341],t([23]),{}),define(e[344],t([23]),{}),define(e[350],t([23]),{}),define(e[351],t([1,0,131,14,53,8,72,431]),function(e,t,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,i){var r=e.call(this)||this;r._element=s.append(t,s.$(".monaco-dropdown")),r._label=s.append(r._element,s.$(".dropdown-label"));var o=i.labelRenderer;o||(o=function(e){return e.textContent=i.label||"",null}),[s.EventType.CLICK,s.EventType.MOUSE_DOWN,n.EventType.Tap].forEach(function(e){r._register(s.addDisposableListener(r._label,e,function(e){return s.EventHelper.stop(e,!0)}))}),[s.EventType.MOUSE_DOWN,n.EventType.Tap].forEach(function(e){
r._register(s.addDisposableListener(r._label,e,function(e){e instanceof MouseEvent&&e.detail>1||(r.visible?r.hide():r.show())}))}),r._register(s.addDisposableListener(r._label,s.EventType.KEY_UP,function(e){var t=new a.StandardKeyboardEvent(e);(t.equals(3)||t.equals(10))&&(s.EventHelper.stop(e,!0),r.visible?r.hide():r.show())}));var c=o(r._label);return c&&r._register(c),n.Gesture.addTarget(r._label),r}return i(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{set:function(e){this._label.title=e},enumerable:!0,configurable:!0}),t.prototype.show=function(){this.visible=!0},t.prototype.hide=function(){this.visible=!1},t.prototype.onEvent=function(e,t){this.hide()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hide(),this.boxContainer&&(this.boxContainer.remove(),
this.boxContainer=null),this.contents&&(this.contents.remove(),this.contents=null),this._label&&(this._label.remove(),this._label=null)},t}(r.ActionRunner);t.BaseDropdown=c;var l=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.contextViewProvider=i.contextViewProvider,n}return i(t,e),t.prototype.show=function(){var t=this;e.prototype.show.call(this),s.addClass(this.element,"active"),this.contextViewProvider.showContextView({getAnchor:function(){return t.getAnchor()},render:function(e){return t.renderContents(e)},onDOMEvent:function(e,i){t.onEvent(e,i)},onHide:function(){return t.onHide()}})},t.prototype.getAnchor=function(){return this.element},t.prototype.onHide=function(){s.removeClass(this.element,"active")},t.prototype.hide=function(){e.prototype.hide.call(this),this.contextViewProvider&&this.contextViewProvider.hideContextView()},t.prototype.renderContents=function(e){return null},t}(c);t.Dropdown=l;var u=function(e){function t(t,i){var n=e.call(this,t,i)||this
;return n._contextMenuProvider=i.contextMenuProvider,n.actions=i.actions||[],n.actionProvider=i.actionProvider,n.menuClassName=i.menuClassName||"",n}return i(t,e),Object.defineProperty(t.prototype,"menuOptions",{get:function(){return this._menuOptions},set:function(e){this._menuOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this.actionProvider?this.actionProvider.getActions():this._actions},set:function(e){this._actions=e},enumerable:!0,configurable:!0}),t.prototype.show=function(){var t=this;e.prototype.show.call(this),s.addClass(this.element,"active"),this._contextMenuProvider.showContextMenu({getAnchor:function(){return t.element},getActions:function(){return t.actions},getActionsContext:function(){return t.menuOptions?t.menuOptions.context:null},getActionItem:function(e){return t.menuOptions&&t.menuOptions.actionItemProvider?t.menuOptions.actionItemProvider(e):null},getKeyBinding:function(e){
return t.menuOptions&&t.menuOptions.getKeyBinding?t.menuOptions.getKeyBinding(e):null},getMenuClassName:function(){return t.menuClassName},onHide:function(){return t.onHide()},actionRunner:this.menuOptions?this.menuOptions.actionRunner:null})},t.prototype.hide=function(){e.prototype.hide.call(this)},t.prototype.onHide=function(){this.hide(),s.removeClass(this.element,"active")},t}(c);t.DropdownMenu=u;var d=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this,null,t)||this;return c.menuActionsOrProvider=i,c.contextMenuProvider=n,c.actionItemProvider=r,c.actionRunner=o,c.keybindings=s,c.clazz=a,c}return i(t,e),t.prototype.render=function(e){var t=this,i={contextMenuProvider:this.contextMenuProvider,labelRenderer:function(e){return t.element=s.append(e,s.$("a.action-label.icon")),s.addClasses(t.element,t.clazz),t.element.tabIndex=0,t.element.setAttribute("role","button"),t.element.setAttribute("aria-haspopup","true"),t.element.title=t._action.label||"",null}}
;Array.isArray(this.menuActionsOrProvider)?i.actions=this.menuActionsOrProvider:i.actionProvider=this.menuActionsOrProvider,this.dropdownMenu=this._register(new u(e,i)),this.dropdownMenu.menuOptions={actionItemProvider:this.actionItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.keybindings,context:this._context}},t.prototype.setActionContext=function(t){e.prototype.setActionContext.call(this,t),this.dropdownMenu&&(this.dropdownMenu.menuOptions.context=t)},t.prototype.show=function(){this.dropdownMenu&&this.dropdownMenu.show()},t}(o.BaseActionItem);t.DropdownMenuActionItem=d}),define(e[366],t([1,0,589]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,i){var n=e.call(this,t,i,"contextsubmenu")||this;return n.entries=i,n}return i(t,e),t}(n.SubmenuAction);t.ContextSubMenu=r}),define(e[127],t([1,0,2,14,53,351,3,519]),function(e,t,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTEXT="context.toolbar"
;var c=function(e){function t(t,i,n){void 0===n&&(n={orientation:0});var r=e.call(this)||this;r.options=n,r.lookupKeybindings="function"==typeof r.options.getKeyBinding,r.toggleMenuAction=r._register(new l(function(){return r.toggleMenuActionItem&&r.toggleMenuActionItem.show()},n.toggleMenuTitle));var a=document.createElement("div");return a.className="monaco-toolbar",t.appendChild(a),r.actionBar=r._register(new o.ActionBar(a,{orientation:n.orientation,ariaLabel:n.ariaLabel,actionRunner:n.actionRunner,actionItemProvider:function(e){return e.id===l.ID?(r.toggleMenuActionItem&&r.toggleMenuActionItem.dispose(),r.toggleMenuActionItem=new s.DropdownMenuActionItem(e,e.menuActions,i,r.options.actionItemProvider,r.actionRunner,r.options.getKeyBinding,"toolbar-toggle-more"),r.toggleMenuActionItem.setActionContext(r.actionBar.context),r.toggleMenuActionItem):n.actionItemProvider?n.actionItemProvider(e):null}})),r}return i(t,e),Object.defineProperty(t.prototype,"actionRunner",{get:function(){
return this.actionBar.actionRunner},set:function(e){this.actionBar.actionRunner=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{set:function(e){this.actionBar.context=e,this.toggleMenuActionItem&&this.toggleMenuActionItem.setActionContext(e)},enumerable:!0,configurable:!0}),t.prototype.getContainer=function(){return this.actionBar.getContainer()},t.prototype.getItemsWidth=function(){for(var e=0,t=0;t<this.actionBar.length();t++)e+=this.actionBar.getWidth(t);return e},t.prototype.setAriaLabel=function(e){this.actionBar.setAriaLabel(e)},t.prototype.setActions=function(e,t){var i=this;return function(){var n=e?e.slice(0):[];i.hasSecondaryActions=t&&t.length>0,i.hasSecondaryActions&&(i.toggleMenuAction.menuActions=t.slice(0),n.push(i.toggleMenuAction)),i.actionBar.clear(),n.forEach(function(e){i.actionBar.push(e,{icon:!0,label:!1,keybinding:i.getKeybindingLabel(e)})})}},t.prototype.getKeybindingLabel=function(e){var t=this.lookupKeybindings?this.options.getKeyBinding(e):void 0
;return t?t.getLabel():void 0},t.prototype.addPrimaryAction=function(e){var t=this;return function(){if(t.hasSecondaryActions){var i=t.actionBar.length();t.actionBar.push(e,{icon:!0,label:!1,index:i,keybinding:t.getKeybindingLabel(e)})}else t.actionBar.push(e,{icon:!0,label:!1,keybinding:t.getKeybindingLabel(e)})}},t.prototype.dispose=function(){this.toggleMenuActionItem&&(this.toggleMenuActionItem.dispose(),this.toggleMenuActionItem=void 0),e.prototype.dispose.call(this)},t}(a.Disposable);t.ToolBar=c;var l=function(e){function t(i,r){var o=this;return r=r||n.localize("moreActions","More Actions..."),o=e.call(this,t.ID,r,null,!0)||this,o.toggleDropdownMenu=i,o}return i(t,e),t.prototype.run=function(){return this.toggleDropdownMenu(),Promise.resolve(!0)},Object.defineProperty(t.prototype,"menuActions",{get:function(){return this._menuActions},set:function(e){this._menuActions=e},enumerable:!0,configurable:!0}),t.ID="toolbar.toggle.more",t}(r.Action)}),define(e[84],t([1,0,2,29,19]),function(e,t,i,n,r){
"use strict";function o(e,t){return e.message?t&&(e.stack||e.stacktrace)?i.localize("stackTrace.format","{0}: {1}",s(e),e.stack||e.stacktrace):s(e):i.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function s(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?i.localize("nodeExceptionMessage","A system error occurred ({0})",e.message):e.message}function a(e,t){if(void 0===e&&(e=null),void 0===t&&(t=!1),!e)return i.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){var s=r.coalesce(e),c=a(s[0],t);return s.length>1?i.localize("error.moreErrors","{0} ({1} errors in total)",c,s.length):c}if(n.isString(e))return e;if(e.detail){var l=e.detail;if(l.error)return o(l.error,t);if(l.exception)return o(l.exception,t)}
return e.stack?o(e,t):e.message?e.message:i.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}Object.defineProperty(t,"__esModule",{value:!0}),t.toErrorMessage=a}),define(e[186],t([1,0,2]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParseErrorMessage=function(e){switch(e){case 1:return i.localize("error.invalidSymbol","Invalid symbol");case 2:return i.localize("error.invalidNumberFormat","Invalid number format");case 3:return i.localize("error.propertyNameExpected","Property name expected");case 4:return i.localize("error.valueExpected","Value expected");case 5:return i.localize("error.colonExpected","Colon expected");case 6:return i.localize("error.commaExpected","Comma expected");case 7:return i.localize("error.closeBraceExpected","Closing brace expected");case 8:return i.localize("error.closeBracketExpected","Closing bracket expected");case 9:return i.localize("error.endOfFileExpected","End of file expected")
;default:return""}}});var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)};define(e[96],t([1,0,22]),function(e,t,i){"use strict";function r(e,t){return e.uuid&&t.uuid?e.uuid===t.uuid:e.id===t.id||0===i.compareIgnoreCase(e.id,t.id)}function o(e){return e.toLocaleLowerCase()}function s(e,t){return e.toLocaleLowerCase()+"."+t.toLocaleLowerCase()}function a(e){return e.manifest?s(e.manifest.publisher,e.manifest.name):e.identifier.id}Object.defineProperty(t,"__esModule",{value:!0}),t.areSameExtensions=r,t.adoptToGalleryExtensionId=o,t.getGalleryExtensionId=s,t.getGalleryExtensionIdFromLocal=a,t.LOCAL_EXTENSION_ID_REGEX=/^([^.]+\..+)-(\d+\.\d+\.\d+(-.*)?)$/,t.getIdFromLocalExtensionId=function(e){var i=t.LOCAL_EXTENSION_ID_REGEX.exec(e);return o(i&&i[1]?i[1]:e)},t.getLocalExtensionId=function(e,t){return e+"-"+t},
t.groupByExtension=function(e,t){for(var i=[],n=function(e){for(var n=0,o=i;n<o.length;n++){var s=o[n];if(s.some(function(i){return r(t(i),t(e))}))return s}return null},o=0,s=e;o<s.length;o++){var a=s[o],c=n(a);c?c.push(a):i.push([a])}return i},t.getLocalExtensionTelemetryData=function(e){return{id:a(e),name:e.manifest.name,galleryId:null,publisherId:e.metadata?e.metadata.publisherId:null,publisherName:e.manifest.publisher,publisherDisplayName:e.metadata?e.metadata.publisherDisplayName:null,dependencies:e.manifest.extensionDependencies&&e.manifest.extensionDependencies.length>0}},t.getGalleryExtensionTelemetryData=function(e){return n({id:e.identifier.id,name:e.name,galleryId:e.identifier.uuid,publisherId:e.publisherId,publisherName:e.publisher,publisherDisplayName:e.publisherDisplayName,dependencies:!!(e.properties.dependencies&&e.properties.dependencies.length>0)},e.telemetryData)},t.BetterMergeDisabledNowKey="extensions/bettermergedisablednow",t.BetterMergeId="pprice.better-merge",
t.getMaliciousExtensionsSet=function(e){for(var t=new Set,i=0,n=e;i<n.length;i++){var r=n[i];r.malicious&&t.add(r.id.id)}return t}}),define(e[391],t([1,0,392,96]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIdAndVersionFromLocalExtensionId=function(e){var t=n.LOCAL_EXTENSION_ID_REGEX.exec(e);if(t&&t[1]&&t[2]){var r=i.valid(t[2]);if(r)return{id:n.adoptToGalleryExtensionId(t[1]),version:r}}return{id:n.adoptToGalleryExtensionId(e),version:null}}}),define(e[396],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXTENSION_LOG_BROADCAST_CHANNEL="vscode:extensionLog",t.EXTENSION_ATTACH_BROADCAST_CHANNEL="vscode:extensionAttach",t.EXTENSION_TERMINATE_BROADCAST_CHANNEL="vscode:extensionTerminate",t.EXTENSION_RELOAD_BROADCAST_CHANNEL="vscode:extensionReload",t.EXTENSION_CLOSE_EXTHOST_BROADCAST_CHANNEL="vscode:extensionCloseExtensionHost"}),define(e[397],t([1,0,96]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.MANIFEST_CACHE_FOLDER="CachedExtensions",t.USER_MANIFEST_CACHE_FILE="user",t.BUILTIN_MANIFEST_CACHE_FILE="builtin";var n=new Set;n.add("msjsdiag.debugger-for-chrome"),t.isUIExtension=function(e,t){var r=i.getGalleryExtensionId(e.publisher,e.name),o=t.getValue("_workbench.uiExtensions")||[];if(o.length){if(-1!==o.indexOf(r))return!0;if(-1!==o.indexOf("-"+r))return!1}switch(e.extensionKind){case"ui":return!0;case"workspace":return!1;default:return n.has(r)||!e.main}}}),define(e[95],t([1,0,121]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[];t.registerSingleton=function(e,t,r){n.push({id:e,descriptor:new i.SyncDescriptor(t,[],r)})},t.getServices=function(){return n}}),define(e[100],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICodeSandboxService=i.createDecorator("codesandboxService")}),define(e[408],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.ICodeSandboxEditorConnectorService=i.createDecorator("codesandboxEditorConnectorService")});var r=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};define(e[412],t([1,0,5,3,100]),function(e,t,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t){var i=e.call(this)||this;return i.codeSandboxService=t,i._onTitleBarVisibilityChange=i._register(new n.Emitter),i._onMenubarVisibilityChange=i._register(new n.Emitter),i}return i(t,e),t.prototype.getMenubarVisibility=function(){throw new Error("Method not implemented.")},t.prototype.getWorkbenchElement=function(){
return document.getElementById("workbench.main.container")},Object.defineProperty(t.prototype,"onTitleBarVisibilityChange",{get:function(){return this._onTitleBarVisibilityChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMenubarVisibilityChange",{get:function(){return this._onMenubarVisibilityChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onEditorLayout",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.layout=function(e){throw new Error("Method not implemented.")},t.prototype.isCreated=function(){return!0},t.prototype.hasFocus=function(e){throw new Error("Method not implemented.")},t.prototype.getContainer=function(e){throw new Error("Method not implemented.")},t.prototype.isVisible=function(e){return 1===e||(3===e||0===e)},t.prototype.setActivityBarHidden=function(e){throw new Error("Method not implemented.")},t.prototype.getTitleBarOffset=function(){return 0},t.prototype.setSideBarHidden=function(e){
throw new Error("Method not implemented.")},t.prototype.setPanelHidden=function(e){throw new Error("Method not implemented.")},t.prototype.toggleMaximizedPanel=function(){throw new Error("Method not implemented.")},t.prototype.isPanelMaximized=function(){throw new Error("Method not implemented.")},t.prototype.getSideBarPosition=function(){return 0},t.prototype.getPanelPosition=function(){throw new Error("Method not implemented.")},t.prototype.setPanelPosition=function(e){throw new Error("Method not implemented.")},t.prototype.getWorkbenchElementId=function(){return"workbench.main.container"},t.prototype.toggleZenMode=function(){this.codeSandboxService.runSignal("preferences.zenModeToggled",{})},t.prototype.isEditorLayoutCentered=function(){throw new Error("Method not implemented.")},t.prototype.centerEditorLayout=function(e){throw new Error("Method not implemented.")},t.prototype.resizePart=function(e,t){throw new Error("Method not implemented.")},t.prototype.initServices=function(){},
t=r([o(0,a.ICodeSandboxService)],t)}(s.Disposable);t.CodeSandboxWorkbench=c}),define(e[148],t([1,0,19,52,90,18,81,44,22,46,79]),function(e,t,n,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(){}return e.prototype.remove=function(){delete this.parent.children[this.id]},e.findId=function(e,t){var i;"string"==typeof e?i=t.id+"/"+e:(i=t.id+"/"+e.name,void 0!==t.children[i]&&(i=t.id+"/"+e.name+"_"+e.range.startLineNumber+"_"+e.range.startColumn));for(var n=i,r=0;void 0!==t.children[n];r++)n=i+"_"+r;return n},e.getElementById=function(t,i){if(t){var n=l.commonPrefixLength(t,i.id);if(n===t.length)return i;if(!(n<i.id.length))for(var r in i.children){var o=e.getElementById(t,i.children[r]);if(o)return o}}},e.size=function(t){var i=1;for(var n in t.children)i+=e.size(t.children[n]);return i},e.empty=function(e){for(var t in e.children)return!1;return!0},e}();t.TreeElement=p;var h=function(e){function t(t,i,n){var r=e.call(this)||this;return r.id=t,r.parent=i,
r.symbol=n,r.children=Object.create(null),r.score=[0,[]],r}return i(t,e),t.prototype.adopt=function(e){var i=new t(this.id,e,this.symbol);return o.forEach(this.children,function(e){return i.children[e.key]=e.value.adopt(i)}),i},t}(p);t.OutlineElement=h;var f=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.id=t,o.parent=i,o.provider=n,o.providerIndex=r,o.children=Object.create(null),o}return i(t,e),t.prototype.adopt=function(e){var i=new t(this.id,e,this.provider,this.providerIndex);return o.forEach(this.children,function(e){return i.children[e.key]=e.value.adopt(i)}),i},t.prototype.updateMatches=function(e,t){for(var i in this.children)t=this._updateMatches(e,this.children[i],t);return t},t.prototype._updateMatches=function(e,t,i){t.score=e?a.fuzzyScore(e,e.toLowerCase(),0,t.symbol.name,t.symbol.name.toLowerCase(),0,!0):[-100,[]],t.score&&(!i||t.score[0]>i.score[0])&&(i=t);for(var n in t.children){var r=t.children[n];i=this._updateMatches(e,r,i),!t.score&&r.score&&(t.score=[-100,[]])}
return i},t.prototype.getItemEnclosingPosition=function(e){return e?this._getItemEnclosingPosition(e,this.children):void 0},t.prototype._getItemEnclosingPosition=function(e,t){for(var i in t){var n=t[i];if(n.symbol.range&&u.Range.containsPosition(n.symbol.range,e))return this._getItemEnclosingPosition(e,n.children)||n}},t.prototype.updateMarker=function(e){for(var t in this.children)this._updateMarker(e,this.children[t])},t.prototype._updateMarker=function(e,t){t.marker=void 0;var i,r=n.binarySearch(e,t.symbol.range,u.Range.compareRangesUsingStarts);r<0?(i=~r)>0&&u.Range.areIntersecting(e[i-1],t.symbol.range)&&(i-=1):i=r;for(var o,s=[];i<e.length&&u.Range.areIntersecting(t.symbol.range,e[i]);i++){var a=e[i];s.push(a),e[i]=void 0,(!o||a.severity>o)&&(o=a.severity)}for(var c in t.children)this._updateMarker(s,t.children[c]);o&&(t.marker={count:s.length,topSev:o}),n.coalesceInPlace(e)},t}(p);t.OutlineGroup=f;var g=function(e){function t(t){var i=e.call(this)||this;return i.textModel=t,i.id="root",
i.parent=void 0,i._groups=Object.create(null),i.children=Object.create(null),i}return i(t,e),t.create=function(e,i){var n=this._keys.for(e),o=t._requests.get(n);if(!o){var s=new r.CancellationTokenSource;o={promiseCnt:0,source:s,promise:t._create(e,s.token),model:void 0},t._requests.set(n,o)}return o.model?Promise.resolve(o.model):(o.promiseCnt+=1,i.onCancellationRequested(function(){0==--o.promiseCnt&&(o.source.cancel(),t._requests.delete(n))}),new Promise(function(e,i){o.promise.then(function(t){o.model=t,e(t)},function(e){t._requests.delete(n),i(e)})}))},t._create=function(e,i){var r=new t(e),o=d.DocumentSymbolProviderRegistry.ordered(e).map(function(e,o){var a=p.findId("provider_"+o,r),c=new f(a,r,e,o);return Promise.resolve(e.provideDocumentSymbols(r.textModel,i)).then(function(e){if(!n.isFalsyOrEmpty(e))for(var i=0,r=e;i<r.length;i++){var o=r[i];t._makeOutlineElement(o,c)}return c},function(e){return s.onUnexpectedExternalError(e),c}).then(function(e){p.empty(e)?e.remove():r._groups[a]=e})})
;return Promise.all(o).then(function(){return r._compact()})},t._makeOutlineElement=function(e,i){var n=p.findId(e,i),r=new h(n,i,e);if(e.children)for(var o=0,s=e.children;o<s.length;o++){var a=s[o];t._makeOutlineElement(a,r)}i.children[r.id]=r},t.get=function(e){for(;e;){if(e instanceof t)return e;e=e.parent}},t.prototype.adopt=function(){var e=new t(this.textModel);return o.forEach(this._groups,function(t){return e._groups[t.key]=t.value.adopt(e)}),e._compact()},t.prototype._compact=function(){var e=0;for(var t in this._groups){i=this._groups[t];void 0===o.first(i.children)?delete this._groups[t]:e+=1}if(1!==e)this.children=this._groups;else{var i=o.first(this._groups);for(var t in i.children){var n=i.children[t];n.parent=this,this.children[n.id]=n}}return this},t.prototype.merge=function(e){return this.textModel.uri.toString()===e.textModel.uri.toString()&&(o.size(this._groups)===o.size(e._groups)&&(this._groups=e._groups,this.children=e.children,!0))},t.prototype.updateMatches=function(e){
if(this._matches&&this._matches[0]===e)return this._matches[1];var t;for(var i in this._groups)t=this._groups[i].updateMatches(e,t);return this._matches=[e,t],t},t.prototype.getItemEnclosingPosition=function(e,t){var i;if(t)for(var n=t.parent;n&&!i;)n instanceof f&&(i=n),n=n.parent;var r=void 0;for(var o in this._groups){var s=this._groups[o];if((r=s.getItemEnclosingPosition(e))&&(!i||i===s))break}return r},t.prototype.getItemById=function(e){return p.getElementById(e,this)},t.prototype.updateMarker=function(e){e.sort(u.Range.compareRangesUsingStarts);for(var t in this._groups)this._groups[t].updateMarker(e.slice(0))},t._requests=new c.LRUCache(9,.75),t._keys=new(function(){function e(){this._counter=1,this._data=new WeakMap}return e.prototype.for=function(e){return e.id+"/"+e.getVersionId()+"/"+this._hash(d.DocumentSymbolProviderRegistry.all(e))},e.prototype._hash=function(e){for(var t="",i=0,n=e;i<n.length;i++){var r=n[i],o=this._data.get(r);void 0===o&&(o=this._counter++,this._data.set(r,o)),t+=o}return t
},e}()),t}(p);t.OutlineModel=g}),define(e[430],t([1,0,5,34,4,3]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e){this._instantiationService=e,this._onWillExecuteCommand=new i.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this._dynamicCommands=Object.create(null)}return e.prototype.addCommand=function(e){var t=this,i=e.id;return this._dynamicCommands[i]=e,a.toDisposable(function(){delete t._dynamicCommands[i]})},e.prototype.executeCommand=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var r=n.CommandsRegistry.getCommand(e)||this._dynamicCommands[e];if(!r)return Promise.reject(new Error("command '"+e+"' not found"));try{this._onWillExecuteCommand.fire({commandId:e});var o=this._instantiationService.invokeFunction.apply(this._instantiationService,[r.handler].concat(t));return Promise.resolve(o)}catch(e){return Promise.reject(e)}},e=r([o(0,s.IInstantiationService)],e)}();t.CodeSandboxCommandService=c
}),define(e[92],t([1,0,2,4]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXTENSION_IDENTIFIER_PATTERN="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",t.EXTENSION_IDENTIFIER_REGEX=new RegExp(t.EXTENSION_IDENTIFIER_PATTERN),t.isIExtensionIdentifier=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(!e.uuid||"string"==typeof e.uuid)},t.IExtensionManagementService=n.createDecorator("extensionManagementService"),t.IExtensionGalleryService=n.createDecorator("extensionGalleryService"),t.INSTALL_ERROR_MALICIOUS="malicious",t.INSTALL_ERROR_INCOMPATIBLE="incompatible",t.IExtensionManagementServerService=n.createDecorator("extensionManagementServerService"),t.IExtensionEnablementService=n.createDecorator("extensionEnablementService"),t.IExtensionTipsService=n.createDecorator("extensionTipsService"),t.ExtensionsLabel=i.localize("extensions","Extensions"),t.ExtensionsChannelId="extensions",t.PreferencesLabel=i.localize("preferences","Preferences")}),
define(e[70],t([1,0,5,4,13]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ILifecycleService=n.createDecorator("lifecycleService"),t.StartupKindToString=function(e){switch(e){case 1:return"NewWindow";case 3:return"ReloadedWindow";case 4:return"ReopenedWindow"}},t.LifecyclePhaseToString=function(e){switch(e){case 1:return"Starting";case 2:return"Restoring";case 3:return"Running";case 4:return"Eventually"}},t.NullLifecycleService={_serviceBrand:null,onWillShutdown:i.Event.None,onShutdown:i.Event.None,phase:3,startupKind:1,when:function(){return Promise.resolve()}},t.handleVetos=function(e,t){if(0===e.length)return Promise.resolve(!1);for(var i=[],n=!1,o=0,s=e;o<s.length;o++){var a=s[o];if(!0===a)return Promise.resolve(!0);r.isThenable(a)&&i.push(a.then(function(e){e&&(n=!0)},function(e){t(e),n=!0}))}return Promise.all(i).then(function(){return n})}}),define(e[236],t([1,0,4,5,147,68]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.IBroadcastService=i.createDecorator("broadcastService");var c=function(){function e(e,t){this.windowId=e,this.logService=t,this._onBroadcast=new n.Emitter,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;s.ipcRenderer.on("vscode:broadcast",function(t,i){e.logService.trace("Received broadcast from main in window "+e.windowId+": ",i),e._onBroadcast.fire(i)})},Object.defineProperty(e.prototype,"onBroadcast",{get:function(){return this._onBroadcast.event},enumerable:!0,configurable:!0}),e.prototype.broadcast=function(e){this.logService.trace("Sending broadcast to main from window "+this.windowId+": ",e),s.ipcRenderer.send("vscode:broadcast",this.windowId,{channel:e.channel,payload:e.payload})},e=r([o(1,a.ILogService)],e)}();t.BroadcastService=c}),define(e[442],t([1,0,2,234]),function(e,t,i,n){"use strict";function r(e){return"*"===(e=e.trim())||l.test(e)}function o(e){if(!r(e))return null;if("*"===(e=e.trim()))return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,
majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};var t=e.match(l);return t?{hasCaret:"^"===t[1],hasGreaterEquals:">="===t[1],majorBase:"x"===t[2]?0:parseInt(t[2],10),majorMustEqual:"x"!==t[2],minorBase:"x"===t[4]?0:parseInt(t[4],10),minorMustEqual:"x"!==t[4],patchBase:"x"===t[6]?0:parseInt(t[6],10),patchMustEqual:"x"!==t[6],preRelease:t[8]||null}:null}function s(e){if(!e)return null;var t=e.majorBase,i=e.majorMustEqual,n=e.minorBase,r=e.minorMustEqual,o=e.patchBase,s=e.patchMustEqual;return e.hasCaret&&(0===t?s=!1:(r=!1,s=!1)),{majorBase:t,majorMustEqual:i,minorBase:n,minorMustEqual:r,patchBase:o,patchMustEqual:s,isMinimum:e.hasGreaterEquals}}function a(e,t){var i;i="string"==typeof e?s(o(e)):e;var n;if(n="string"==typeof t?s(o(t)):t,!i||!n)return!1;var r=i.majorBase,a=i.minorBase,c=i.patchBase,l=n.majorBase,u=n.minorBase,d=n.patchBase,p=n.majorMustEqual,h=n.minorMustEqual,f=n.patchMustEqual
;return n.isMinimum?r>l||!(r<l)&&(a>u||!(a<u)&&c>=d):(1!==r||0!==l||p&&h&&f||(l=1,u=0,d=0,p=!0,h=!1,f=!1),!(r<l)&&(r>l?!p:!(a<u)&&(a>u?!h:!(c<d)&&(!(c>d)||!f))))}function c(e,t,n){void 0===n&&(n=[]);var r=s(o(t));if(!r)return n.push(i.localize("versionSyntax","Could not parse `engines.vscode` value {0}. Please use, for example: ^1.22.0, ^1.22.x, etc.",t)),!1;if(0===r.majorBase){if(!r.majorMustEqual||!r.minorMustEqual)return n.push(i.localize("versionSpecificity1","Version specified in `engines.vscode` ({0}) is not specific enough. For vscode versions before 1.0.0, please define at a minimum the major and minor desired version. E.g. ^0.10.0, 0.10.x, 0.11.0, etc.",t)),!1}else if(!r.majorMustEqual)return n.push(i.localize("versionSpecificity2","Version specified in `engines.vscode` ({0}) is not specific enough. For vscode versions after 1.0.0, please define at a minimum the major desired version. E.g. ^1.10.0, 1.10.x, 1.x.x, 2.x.x, etc.",t)),!1
;return!!a(e,r)||(n.push(i.localize("versionMismatch","Extension is not compatible with Code {0}. Extension requires: {1}.",e,t)),!1)}Object.defineProperty(t,"__esModule",{value:!0});var l=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/;t.isValidVersionStr=r,t.parseVersion=o,t.normalizeVersion=s,t.isValidVersion=a,t.isValidExtensionVersion=function(e,t,i){return!(!t.isBuiltin&&void 0!==t.main)||c(e,t.engines.vscode,i)},t.isEngineValid=function(e){return"*"===e||c(n.default.version,e)},t.isVersionValid=c}),define(e[446],t([1,0,25,184,100]),function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.codesandboxService=e}return e.prototype.info=function(e){return this.notify({severity:n.default.Info,message:e})},e.prototype.warn=function(e){return this.notify({severity:n.default.Warning,message:e})},e.prototype.error=function(e){return this.notify({severity:n.default.Error,message:e})},e.prototype.notify=function(t){var i=t.message.toString()
;switch(t.severity){case n.default.Error:this.codesandboxService.showNotification("error",i);break;case n.default.Warning:this.codesandboxService.showNotification("warning",i);break;case n.default.Info:this.codesandboxService.showNotification("info",i);break;case n.default.Ignore:console.log("Notification",i);break;default:this.codesandboxService.showNotification("info",i)}return e.NO_OP},e.prototype.prompt=function(t,i,n,r){return console.log("Prompt",i,n),e.NO_OP},e.NO_OP=new i.NoOpNotification,e=r([o(0,s.ICodeSandboxService)],e)}();t.CodeSandboxNotificationService=a}),define(e[130],t([1,0,8,250,53,5,158,3,20,2,26,37,43,25]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v){"use strict";function m(e,t,i,n){void 0===n&&(n=function(e){return"navigation"===e});for(var r=0,o=e;r<o.length;r++){var s=o[r],c=s[0],l=s[1];if(i&&(l=l.map(function(e){return e instanceof h.MenuItemAction&&e.alt?e.alt:e})),n(c)){(u=Array.isArray(t)?t:t.primary).unshift.apply(u,l)}else{var u=Array.isArray(t)?t:t.secondary
;u.length>0&&u.push(new a.Separator),u.push.apply(u,l)}}}Object.defineProperty(t,"__esModule",{value:!0});var y=function(e){function t(t){var i=e.call(this)||this;return i._subscriptions=[],i._suppressAltKeyUp=!1,i._subscriptions.push(s.domEvent(document.body,"keydown")(function(e){i.isPressed=e.altKey||(d.isWindows||d.isLinux)&&e.shiftKey})),i._subscriptions.push(s.domEvent(document.body,"keyup")(function(e){i.isPressed&&i._suppressAltKeyUp&&e.preventDefault(),i._suppressAltKeyUp=!1,i.isPressed=!1})),i._subscriptions.push(s.domEvent(document.body,"mouseleave")(function(e){return i.isPressed=!1})),i._subscriptions.push(s.domEvent(document.body,"blur")(function(e){return i.isPressed=!1})),i._subscriptions.push(t.onDidContextMenu(function(){return i.isPressed=!1})),i}return i(t,e),Object.defineProperty(t.prototype,"isPressed",{get:function(){return this._isPressed},set:function(e){this._isPressed=e,this.fire(this._isPressed)},enumerable:!0,configurable:!0}),t.prototype.suppressAltKeyUp=function(){
this._suppressAltKeyUp=!0},t.getInstance=function(e){return t.instance||(t.instance=new t(e)),t.instance},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._subscriptions=u.dispose(this._subscriptions)},t}(c.Emitter);t.fillInContextMenuActions=function(e,t,i,n,r){m(e.getActions(t),i,y.getInstance(n).isPressed,r)},t.fillInActionBarActions=function(e,t,i,n){m(e.getActions(t),i,!1,n)},t.createActionItem=function(e,t,i,n){if(e instanceof h.MenuItemAction)return new b(e,t,i,n)};var S=new l.IdGenerator("menu-item-action-item-icon-"),b=function(e){function t(t,i,n,r){var o=e.call(this,void 0,t,{icon:!(!t.class&&!t.item.iconLocation),label:!t.class&&!t.item.iconLocation})||this;return o._action=t,o._keybindingService=i,o._notificationService=n,o._contextMenuService=r,o}return i(t,e),Object.defineProperty(t.prototype,"_commandAction",{get:function(){return this._wantsAltCommand&&this._action.alt||this._action},enumerable:!0,configurable:!0}),t.prototype.onClick=function(e){var t=this
;e.preventDefault(),e.stopPropagation();var i=y.getInstance(this._contextMenuService);i.isPressed&&i.suppressAltKeyUp(),this.actionRunner.run(this._commandAction).then(void 0,function(e){return t._notificationService.error(e)})},t.prototype.render=function(t){var i=this;e.prototype.render.call(this,t),this._updateItemClass(this._action.item);var n=!1,r=y.getInstance(this._contextMenuService),o=r.isPressed,a=function(){var e=n&&o;e!==i._wantsAltCommand&&(i._wantsAltCommand=e,i.updateLabel(),i.updateTooltip(),i.updateClass())};this._register(r.event(function(e){o=e,a()})),this._register(s.domEvent(t,"mouseleave")(function(e){n=!1,a()})),this._register(s.domEvent(t,"mouseenter")(function(e){n=!0,a()}))},t.prototype.updateLabel=function(){this.options.label&&(this.label.textContent=this._commandAction.label)},t.prototype.updateTooltip=function(){var e=this.label,t=this._keybindingService.lookupKeybinding(this._commandAction.id),i=t&&t.getLabel()
;e.title=i?p.localize("titleAndKb","{0} ({1})",this._commandAction.label,i):this._commandAction.label},t.prototype.updateClass=function(){this.options.icon&&(this._commandAction!==this._action?this._updateItemClass(this._action.alt.item):this._action.alt&&this._updateItemClass(this._action.item))},t.prototype._updateItemClass=function(e){var i=this;if(u.dispose(this._itemClassDispose),this._itemClassDispose=void 0,e.iconLocation){var r,o=e.iconLocation.dark.toString();t.ICON_PATH_TO_CSS_RULES.has(o)?r=t.ICON_PATH_TO_CSS_RULES.get(o):(r=S.nextId(),n.createCSSRule(".icon."+r,'background-image: url("'+(e.iconLocation.light||e.iconLocation.dark).toString()+'")'),n.createCSSRule(".vs-dark .icon."+r+", .hc-black .icon."+r,'background-image: url("'+e.iconLocation.dark.toString()+'")'),t.ICON_PATH_TO_CSS_RULES.set(o,r)),n.addClasses(this.label,"icon",r),this._itemClassDispose=u.toDisposable(function(){return n.removeClasses(i.label,"icon",r)})}},t.prototype.dispose=function(){
this._itemClassDispose&&(u.dispose(this._itemClassDispose),this._itemClassDispose=void 0),e.prototype.dispose.call(this)},t.ICON_PATH_TO_CSS_RULES=new Map,t=r([o(1,g.IKeybindingService),o(2,v.INotificationService),o(3,f.IContextMenuService)],t)}(a.ActionItem);t.MenuItemActionItem=b;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.actionRunner.run(this._commandAction,this._context).then(void 0,function(e){return t._notificationService.error(e)})},t}(b);t.ContextAwareMenuItemActionItem=E}),define(e[54],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IQuickOpenService=i.createDecorator("quickOpenService")}),define(e[61],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IQuickInputService=i.createDecorator("quickInputService")}),define(e[509],t([1,0,6,15,61]),function(e,t,i,n,s){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.quickInput=e}return e.prototype.defaultFilePath=function(e){throw new Error("Called defaultFilePath")},e.prototype.defaultFolderPath=function(e){throw new Error("Called defaultFolderPath")},e.prototype.defaultWorkspacePath=function(e){throw new Error("Called defaultWorkspacePath")},e.prototype.toNativeOpenDialogOptions=function(e){throw new Error("Called toNativeOpenDialogOptions")},e.prototype.pickFileFolderAndOpen=function(e){throw new Error("Called pickFileFolderAndOpen")},e.prototype.pickFileAndOpen=function(e){throw new Error("called pickFileAndOpen")},e.prototype.pickFolderAndOpen=function(e){throw new Error("called pickFolderAndOpen")},e.prototype.pickWorkspaceAndOpen=function(e){throw new Error("called pickWorkspaceAndOpen")},e.prototype.toNativeSaveDialogOptions=function(e){throw new Error("Called toNativeSaveDialogOptions")},e.prototype.showSaveDialog=function(e){
var t=this,r=e.defaultUri.fsPath.split("/"),o=r.pop();r.pop();var s=r.join("/")+"/"+o;return new n.TPromise(function(e,n){t.quickInput.input({placeHolder:"Where should we save the file?",value:s.replace(/^\/sandbox/,"")}).then(function(t){if(!t)return e(void 0);e(i.URI.file("/sandbox"+t))})})},e.prototype.showOpenDialog=function(e){throw new Error("Called showOpenDialog")},e=r([o(0,s.IQuickInputService)],e)}();t.CodeSandboxFileDialogService=a}),define(e[517],t([1,0,14,15,61,100]),function(e,t,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.codeSandboxService=n,r}return i(t,e),t.prototype.run=function(){var e=this;return new s.TPromise(function(t){e.codeSandboxService.runSignal("editor.togglePreviewContent",{}),t(null)})},t.ID="codesandbox.preview.toggle",t.LABEL="Toggle Preview",t=r([o(2,c.ICodeSandboxService)],t)}(n.Action);t.CodeSandboxTogglePreviewAction=l;var u=function(e){function t(t,i,n){
var r=e.call(this,t,i)||this;return r.codeSandboxService=n,r}return i(t,e),t.prototype.run=function(){var e=this;return new s.TPromise(function(t){e.codeSandboxService.openPreviewExternally(),t(null)})},t.ID="codesandbox.preview.external",t.LABEL="Open Preview In New Window",t=r([o(2,c.ICodeSandboxService)],t)}(n.Action);t.CodeSandboxOpenPreviewExternalAction=u;var d=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.codeSandboxService=n,r}return i(t,e),t.prototype.run=function(){var e=this;return new s.TPromise(function(t){e.codeSandboxService.runSignal("modalOpened",{modal:"searchDependencies"}),t(null)})},t.ID="codesandbox.dependencies.add",t.LABEL="Add NPM Dependency",t=r([o(2,c.ICodeSandboxService)],t)}(n.Action);t.CodeSandboxAddDependencyAction=d;var p=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.codeSandboxService=n,o.quickInputService=r,o}return i(t,e),t.prototype.run=function(){var e=this,t=this.codeSandboxService.getThemes().map(function(e){return{id:e.id,
label:e.name}}),i=this.codeSandboxService.getCurrentTheme(),n=function(t){e.codeSandboxService.runSignal("preferences.settingChanged",{name:"editorTheme",value:t})},r={activeItem:t.filter(function(e){return e.label===i})[0],onDidFocus:function(e){requestAnimationFrame(function(){n(e.label)})}};return this.quickInputService.pick(s.TPromise.as(t),r).then(function(e){n(e?e.label:i)})},t.ID="codesandbox.theme.set",t.LABEL="Color Theme",t=r([o(2,c.ICodeSandboxService),o(3,a.IQuickInputService)],t)}(n.Action);t.CodeSandboxSetThemeAction=p}),define(e[518],t([1,0,7,2,75,20]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.Registry.as(r.Extensions.Configuration);s.registerConfiguration({id:"workbench",order:7,title:n.localize("workbenchConfigurationTitle","Workbench"),type:"object",properties:{"workbench.editor.showTabs":{type:"boolean",description:n.localize("showEditorTabs","Controls whether opened editors should show in tabs or not."),default:!0},
"workbench.editor.highlightModifiedTabs":{type:"boolean",description:n.localize("highlightModifiedTabs","Controls whether a top border is drawn on modified (dirty) editor tabs or not."),default:!1},"workbench.editor.labelFormat":{type:"string",enum:["default","short","medium","long"],enumDescriptions:[n.localize("workbench.editor.labelFormat.default","Show the name of the file. When tabs are enabled and two files have the same name in one group the distinguishing sections of each file's path are added. When tabs are disabled, the path relative to the workspace folder is shown if the editor is active."),n.localize("workbench.editor.labelFormat.short","Show the name of the file followed by its directory name."),n.localize("workbench.editor.labelFormat.medium","Show the name of the file followed by its path relative to the workspace folder."),n.localize("workbench.editor.labelFormat.long","Show the name of the file followed by its absolute path.")],default:"default",description:n.localize({
comment:["This is the description for a setting. Values surrounded by parenthesis are not to be translated."],key:"tabDescription"},"Controls the format of the label for an editor.")},"workbench.editor.tabCloseButton":{type:"string",enum:["left","right","off"],default:"right",description:n.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"editorTabCloseButton"},"Controls the position of the editor's tabs close buttons, or disables them when set to 'off'.")},"workbench.editor.tabSizing":{type:"string",enum:["fit","shrink"],default:"fit",enumDescriptions:[n.localize("workbench.editor.tabSizing.fit","Always keep tabs large enough to show the full editor label."),n.localize("workbench.editor.tabSizing.shrink","Allow tabs to get smaller when the available space is not enough to show all tabs at once.")],description:n.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],
key:"tabSizing"},"Controls the sizing of editor tabs.")},"workbench.editor.showIcons":{type:"boolean",description:n.localize("showIcons","Controls whether opened editors should show with an icon or not. This requires an icon theme to be enabled as well."),default:!0},"workbench.editor.enablePreview":{type:"boolean",description:n.localize("enablePreview","Controls whether opened editors show as preview. Preview editors are reused until they are pinned (e.g. via double click or editing) and show up with an italic font style."),default:!0},"workbench.editor.enablePreviewFromQuickOpen":{type:"boolean",description:n.localize("enablePreviewFromQuickOpen","Controls whether opened editors from Quick Open show as preview. Preview editors are reused until they are pinned (e.g. via double click or editing)."),default:!0},"workbench.editor.closeOnFileDelete":{type:"boolean",
description:n.localize("closeOnFileDelete","Controls whether editors showing a file that was opened during the session should close automatically when getting deleted or renamed by some other process. Disabling this will keep the editor open  on such an event. Note that deleting from within the application will always close the editor and that dirty files will never close to preserve your data."),default:!1},"workbench.editor.openPositioning":{type:"string",enum:["left","right","first","last"],default:"right",markdownDescription:n.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"editorOpenPositioning"},"Controls where editors open. Select `left` or `right` to open editors to the left or right of the currently active one. Select `first` or `last` to open editors independently from the currently active one.")},"workbench.editor.openSideBySideDirection":{type:"string",enum:["right","down"],default:"right",
markdownDescription:n.localize("sideBySideDirection","Controls the default direction of editors that are opened side by side (e.g. from the explorer). By default, editors will open on the right hand side of the currently active one. If changed to `down`, the editors will open below the currently active one.")},"workbench.editor.closeEmptyGroups":{type:"boolean",description:n.localize("closeEmptyGroups","Controls the behavior of empty editor groups when the last tab in the group is closed. When enabled, empty groups will automatically close. When disabled, empty groups will remain part of the grid."),default:!0},"workbench.editor.revealIfOpen":{type:"boolean",
description:n.localize("revealIfOpen","Controls whether an editor is revealed in any of the visible groups if opened. If disabled, an editor will prefer to open in the currently active editor group. If enabled, an already opened editor will be revealed instead of opened again in the currently active editor group. Note that there are some cases where this setting is ignored, e.g. when forcing an editor to open in a specific group or to the side of the currently active group."),default:!1},"workbench.editor.swipeToNavigate":{type:"boolean",description:n.localize("swipeToNavigate","Navigate between open files using three-finger swipe horizontally."),default:!1,included:o.isMacintosh},"workbench.editor.restoreViewState":{type:"boolean",description:n.localize("restoreViewState","Restores the last view state (e.g. scroll position) when re-opening files after they have been closed."),default:!0},"workbench.editor.centeredLayoutAutoResize":{type:"boolean",default:!0,
description:n.localize("centeredLayoutAutoResize","Controls if the centered layout should automatically resize to maximum width when more than one group is open. Once only one group is open it will resize back to the original centered width.")},"workbench.commandPalette.history":{type:"number",description:n.localize("commandHistory","Controls the number of recently used commands to keep in history for the command palette. Set to 0 to disable command history."),default:50},"workbench.commandPalette.preserveInput":{type:"boolean",description:n.localize("preserveInput","Controls whether the last typed input to the command palette should be restored when opening it the next time."),default:!1},"workbench.quickOpen.closeOnFocusLost":{type:"boolean",description:n.localize("closeOnFocusLost","Controls whether Quick Open should close automatically once it loses focus."),default:!0},"workbench.quickOpen.preserveInput":{type:"boolean",
description:n.localize("workbench.quickOpen.preserveInput","Controls whether the last typed input to Quick Open should be restored when opening it the next time."),default:!1},"workbench.settings.openDefaultSettings":{type:"boolean",description:n.localize("openDefaultSettings","Controls whether opening settings also opens an editor showing all default settings."),default:!0},"workbench.settings.openDefaultKeybindings":{type:"boolean",description:n.localize("openDefaultKeybindings","Controls whether opening keybinding settings also opens an editor showing all default keybindings."),default:!0},"workbench.sideBar.location":{type:"string",enum:["left","right"],default:"left",description:n.localize("sideBarLocation","Controls the location of the sidebar. It can either show on the left or right of the workbench.")},"workbench.panel.defaultLocation":{type:"string",enum:["bottom","right"],default:"bottom",
description:n.localize("panelDefaultLocation","Controls the default location of the panel (terminal, debug console, output, problems). It can either show at the bottom or on the right of the workbench.")},"workbench.statusBar.visible":{type:"boolean",default:!0,description:n.localize("statusBarVisibility","Controls the visibility of the status bar at the bottom of the workbench.")},"workbench.activityBar.visible":{type:"boolean",default:!0,description:n.localize("activityBarVisibility","Controls the visibility of the activity bar in the workbench.")},"workbench.view.alwaysShowHeaderActions":{type:"boolean",default:!1,description:n.localize("viewVisibility","Controls the visibility of view header actions. View header actions may either be always visible, or only visible when that view is focused or hovered over.")},"workbench.fontAliasing":{type:"string",enum:["default","antialiased","none","auto"],default:"default",description:n.localize("fontAliasing","Controls font aliasing method in the workbench."),
enumDescriptions:[n.localize("workbench.fontAliasing.default","Sub-pixel font smoothing. On most non-retina displays this will give the sharpest text."),n.localize("workbench.fontAliasing.antialiased","Smooth the font on the level of the pixel, as opposed to the subpixel. Can make the font appear lighter overall."),n.localize("workbench.fontAliasing.none","Disables font smoothing. Text will show with jagged sharp edges."),n.localize("workbench.fontAliasing.auto","Applies `default` or `antialiased` automatically based on the DPI of displays.")],included:o.isMacintosh},"workbench.settings.enableNaturalLanguageSearch":{type:"boolean",description:n.localize("enableNaturalLanguageSettingsSearch","Controls whether to enable the natural language search mode for settings. The natural language search is provided by a Microsoft online service."),default:!0,scope:2,tags:["usesOnlineServices"]},"workbench.settings.settingsSearchTocBehavior":{type:"string",enum:["hide","filter"],
enumDescriptions:[n.localize("settingsSearchTocBehavior.hide","Hide the Table of Contents while searching."),n.localize("settingsSearchTocBehavior.filter","Filter the Table of Contents to just categories that have matching settings. Clicking a category will filter the results to that category.")],description:n.localize("settingsSearchTocBehavior","Controls the behavior of the settings editor Table of Contents while searching."),default:"filter",scope:2},"workbench.settings.editor":{type:"string",enum:["ui","json"],enumDescriptions:[n.localize("settings.editor.ui","Use the settings UI editor."),n.localize("settings.editor.json","Use the JSON file editor.")],description:n.localize("settings.editor.desc","Determines which settings editor to use by default."),default:"ui",scope:2},"workbench.enableExperiments":{type:"boolean",description:n.localize("workbench.enableExperiments","Fetches experiments to run from a Microsoft online service."),default:!0,tags:["usesOnlineServices"]},"workbench.enableLegacyStorage":{
type:"boolean",description:n.localize("workbench.enableLegacyStorage","Switches back to the previous storage implementation. Only change this setting if advised to do so."),default:!1}}}),s.registerConfiguration({id:"window",order:8,title:n.localize("windowConfigurationTitle","Window"),type:"object",properties:{"window.openFilesInNewWindow":{type:"string",enum:["on","off","default"],enumDescriptions:[n.localize("window.openFilesInNewWindow.on","Files will open in a new window"),n.localize("window.openFilesInNewWindow.off","Files will open in the window with the files' folder open or the last active window"),o.isMacintosh?n.localize("window.openFilesInNewWindow.defaultMac","Files will open in the window with the files' folder open or the last active window unless opened via the Dock or from Finder"):n.localize("window.openFilesInNewWindow.default","Files will open in a new window unless picked from within the application (e.g. via the File menu)")],default:"off",scope:1,
description:o.isMacintosh?n.localize("openFilesInNewWindowMac","Controls if files should open in a new window.\n- default: files will open in the window with the files' folder open or the last active window unless opened via the Dock or from Finder\n- on: files will open in a new window\n- off: files will open in the window with the files' folder open or the last active window\nNote that there can still be cases where this setting is ignored (e.g. when using the -new-window or -reuse-window command line option)."):n.localize("openFilesInNewWindow","Controls if files should open in a new window.\n- default: files will open in a new window unless picked from within the application (e.g. via the File menu)\n- on: files will open in a new window\n- off: files will open in the window with the files' folder open or the last active window\nNote that there can still be cases where this setting is ignored (e.g. when using the -new-window or -reuse-window command line option).")},"window.openFoldersInNewWindow":{
type:"string",enum:["on","off","default"],enumDescriptions:[n.localize("window.openFoldersInNewWindow.on","Folders will open in a new window"),n.localize("window.openFoldersInNewWindow.off","Folders will replace the last active window"),n.localize("window.openFoldersInNewWindow.default","Folders will open in a new window unless a folder is picked from within the application (e.g. via the File menu)")],default:"default",scope:1,description:n.localize("openFoldersInNewWindow","Controls if folders should open in a new window or replace the last active window.\n- default: folders will open in a new window unless a folder is picked from within the application (e.g. via the File menu)\n- on: folders will open in a new window\n- off: folders will replace the last active window\nNote that there can still be cases where this setting is ignored (e.g. when using the -new-window or -reuse-window command line option).")},"window.openWithoutArgumentsInNewWindow":{type:"string",enum:["on","off"],
enumDescriptions:[n.localize("window.openWithoutArgumentsInNewWindow.on","Open a new empty window"),n.localize("window.openWithoutArgumentsInNewWindow.off","Focus the last active running instance")],default:o.isMacintosh?"off":"on",scope:1,description:n.localize("openWithoutArgumentsInNewWindow","Controls if a new empty window should open when starting a second instance without arguments or if the last running instance should get focus.\n- on: open a new empty window\n- off: the last active running instance will get focus\nNote that there can still be cases where this setting is ignored (e.g. when using the -new-window or -reuse-window command line option).")},"window.restoreWindows":{type:"string",enum:["all","folders","one","none"],
enumDescriptions:[n.localize("window.reopenFolders.all","Reopen all windows."),n.localize("window.reopenFolders.folders","Reopen all folders. Empty workspaces will not be restored."),n.localize("window.reopenFolders.one","Reopen the last active window."),n.localize("window.reopenFolders.none","Never reopen a window. Always start with an empty one.")],default:"one",scope:1,description:n.localize("restoreWindows","Controls how windows are being reopened after a restart. Select 'none' to always start with an empty workspace, 'one' to reopen the last window you worked on, 'folders' to reopen all windows that had folders opened or 'all' to reopen all windows of your last session.")},"window.restoreFullscreen":{type:"boolean",default:!1,scope:1,description:n.localize("restoreFullscreen","Controls if a window should restore to full screen mode if it was exited in full screen mode.")},"window.zoomLevel":{type:"number",default:0,
description:n.localize("zoomLevel","Adjust the zoom level of the window. The original size is 0 and each increment above (e.g. 1) or below (e.g. -1) represents zooming 20% larger or smaller. You can also enter decimals to adjust the zoom level with a finer granularity.")},"window.title":{type:"string",default:o.isMacintosh?"${activeEditorShort}${separator}${rootName}":"${dirty}${activeEditorShort}${separator}${rootName}${separator}${appName}",description:n.localize({comment:["This is the description for a setting. Values surrounded by parenthesis are not to be translated."],key:"title"
},'Controls the window title based on the active editor. Variables are substituted based on the context:\n${activeEditorShort}: the file name (e.g. myFile.txt)\n${activeEditorMedium}: the path of the file relative to the workspace folder (e.g. myFolder/myFile.txt)\n${activeEditorLong}: the full path of the file (e.g. /Users/Development/myProject/myFolder/myFile.txt)\n${folderName}: name of the workspace folder the file is contained in (e.g. myFolder)\n${folderPath}: file path of the workspace folder the file is contained in (e.g. /Users/Development/myFolder)\n${rootName}: name of the workspace (e.g. myFolder or myWorkspace)\n${rootPath}: file path of the workspace (e.g. /Users/Development/myWorkspace)\n${appName}: e.g. VS Code\n${dirty}: a dirty indicator if the active editor is dirty\n${separator}: a conditional separator (" - ") that only shows when surrounded by variables with values or static text')},"window.newWindowDimensions":{type:"string",enum:["default","inherit","maximized","fullscreen"],
enumDescriptions:[n.localize("window.newWindowDimensions.default","Open new windows in the center of the screen."),n.localize("window.newWindowDimensions.inherit","Open new windows with same dimension as last active one."),n.localize("window.newWindowDimensions.maximized","Open new windows maximized."),n.localize("window.newWindowDimensions.fullscreen","Open new windows in full screen mode.")],default:"default",scope:1,description:n.localize("newWindowDimensions","Controls the dimensions of opening a new window when at least one window is already opened. By default, a new window will open in the center of the screen with small dimensions. When set to 'inherit', the window will get the same dimensions as the last window that was active. When set to 'maximized', the window will open maximized and fullscreen if configured to 'fullscreen'. Note that this setting does not have an impact on the first window that is opened. The first window will always restore the size and location as you left it before closing.")},
"window.closeWhenEmpty":{type:"boolean",default:!1,description:n.localize("closeWhenEmpty","Controls if closing the last editor should also close the window. This setting only applies for windows that do not show folders.")},"window.menuBarVisibility":{type:"string",enum:["default","visible","toggle","hidden"],enumDescriptions:[n.localize("window.menuBarVisibility.default","Menu is only hidden in full screen mode."),n.localize("window.menuBarVisibility.visible","Menu is always visible even in full screen mode."),n.localize("window.menuBarVisibility.toggle","Menu is hidden but can be displayed via Alt key."),n.localize("window.menuBarVisibility.hidden","Menu is always hidden.")],default:"default",scope:1,description:n.localize("menuBarVisibility","Control the visibility of the menu bar. A setting of 'toggle' means that the menu bar is hidden and a single press of the Alt key will show it. By default, the menu bar will be visible, unless the window is full screen."),included:o.isWindows||o.isLinux},
"window.enableMenuBarMnemonics":{type:"boolean",default:!0,scope:1,description:n.localize("enableMenuBarMnemonics","If enabled, the main menus can be opened via Alt-key shortcuts. Disabling mnemonics allows to bind these Alt-key shortcuts to editor commands instead."),included:o.isWindows||o.isLinux},"window.autoDetectHighContrast":{type:"boolean",default:!0,description:n.localize("autoDetectHighContrast","If enabled, will automatically change to high contrast theme if Windows is using a high contrast theme, and to dark theme when switching away from a Windows high contrast theme."),included:o.isWindows},"window.titleBarStyle":{type:"string",enum:["native","custom"],default:o.isMacintosh?"custom":"native",scope:1,description:n.localize("titleBarStyle","Adjust the appearance of the window title bar. Changes require a full restart to apply.")},"window.nativeTabs":{type:"boolean",default:!1,scope:1,
description:n.localize("window.nativeTabs","Enables macOS Sierra window tabs. Note that changes require a full restart to apply and that native tabs will disable a custom title bar style if configured."),included:!1},"window.smoothScrollingWorkaround":{type:"boolean",default:!1,scope:1,description:n.localize("window.smoothScrollingWorkaround","Enable this workaround if scrolling is no longer smooth after restoring a minimized VS Code window. This is a workaround for an issue (https://github.com/Microsoft/vscode/issues/13612) where scrolling starts to lag on devices with precision trackpads like the Surface devices from Microsoft. Enabling this workaround can result in a little bit of layout flickering after restoring the window from minimized state but is otherwise harmless. Note: in order for this workaround to function, make sure to also set 'window.titleBarStyle: native'."),included:o.isWindows},"window.clickThroughInactive":{type:"boolean",default:!0,scope:1,
description:n.localize("window.clickThroughInactive","If enabled, clicking on an inactive window will both activate the window and trigger the element under the mouse if it is clickable. If disabled, clicking anywhere on an inactive window will activate it only and a second click is required on the element."),included:o.isMacintosh}}}),s.registerConfiguration({id:"zenMode",order:9,title:n.localize("zenModeConfigurationTitle","Zen Mode"),type:"object",properties:{"zenMode.fullScreen":{type:"boolean",default:!0,description:n.localize("zenMode.fullScreen","Controls if turning on Zen Mode also puts the workbench into full screen mode.")},"zenMode.centerLayout":{type:"boolean",default:!0,description:n.localize("zenMode.centerLayout","Controls if turning on Zen Mode also centers the layout.")},"zenMode.hideTabs":{type:"boolean",default:!0,description:n.localize("zenMode.hideTabs","Controls if turning on Zen Mode also hides workbench tabs.")},"zenMode.hideStatusBar":{type:"boolean",default:!0,
description:n.localize("zenMode.hideStatusBar","Controls if turning on Zen Mode also hides the status bar at the bottom of the workbench.")},"zenMode.hideActivityBar":{type:"boolean",default:!0,description:n.localize("zenMode.hideActivityBar","Controls if turning on Zen Mode also hides the activity bar at the left of the workbench.")},"zenMode.restore":{type:"boolean",default:!1,description:n.localize("zenMode.restore","Controls if a window should restore to zen mode if it was exited in zen mode.")}}})}),define(e[530],t([1,0,22]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){this._hasParameters=!1,this._replacePattern=e;var r,o;"boolean"==typeof t?(o=t,this._regExp=n):(o=!!(r=t).isRegExp,this._regExp=i.createRegExp(r.pattern,!!r.isRegExp,{matchCase:r.isCaseSensitive,wholeWord:r.isWordMatch,multiline:r.isMultiline,global:!1})),o&&this.parseReplaceString(e),this._regExp.global&&(this._regExp=i.createRegExp(this._regExp.source,!0,{
matchCase:!this._regExp.ignoreCase,wholeWord:!1,multiline:this._regExp.multiline,global:!1}))}return Object.defineProperty(e.prototype,"hasParameters",{get:function(){return this._hasParameters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return this._replacePattern},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"regExp",{get:function(){return this._regExp},enumerable:!0,configurable:!0}),e.prototype.getReplaceString=function(e){this._regExp.lastIndex=0;var t=this._regExp.exec(e);if(t){if(this.hasParameters){if(t[0]===e)return e.replace(this._regExp,this.pattern);var i=e.replace(this._regExp,this.pattern);return i.substr(t.index,t[0].length-(e.length-i.length))}return this.pattern}return null},e.prototype.parseReplaceString=function(e){if(e&&0!==e.length){for(var t=0,i="",n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(92===o){if(++n>=r)break;a=null;switch(s=e.charCodeAt(n)){case 92:a="\\";break;case 110:a="\n";break;case 116:a="\t"}
a&&(i+=e.substring(t,n-1)+a,t=n+1)}if(36===o){if(++n>=r)break;var s=e.charCodeAt(n),a=null;switch(s){case 48:a="$&",this._hasParameters=!0;break;case 96:case 39:this._hasParameters=!0;break;default:if(!this.between(s,49,57))break;if(n===e.length-1){this._hasParameters=!0;break}var c=e.charCodeAt(++n);if(!this.between(c,48,57)){this._hasParameters=!0,--n;break}if(n===e.length-1){this._hasParameters=!0;break}if(c=e.charCodeAt(++n),!this.between(c,48,57)){this._hasParameters=!0,--n;break}}a&&(i+=e.substring(t,n-1)+a,t=n+1)}}0!==t&&(this._replacePattern=i+e.substring(t))}},e.prototype.between=function(e,t,i){return t<=e&&e<=i},e}();t.ReplacePattern=n}),define(e[71],t([1,0,19,152,39,33,22,4]),function(e,t,n,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_ID="workbench.view.search",t.ISearchHistoryService=c.createDecorator("searchHistoryService"),t.ISearchService=c.createDecorator("searchService"),t.resultIsMatch=function(e){return!!e.preview};var l=function(){return function(e){
this.resource=e,this.results=[]}}();t.FileMatch=l;var u=function(){return function(e,t,i){if(this.ranges=t,i&&1===i.matchLines&&!Array.isArray(t)){e=a.getNLines(e,i.matchLines);var r=Math.floor(i.charsPerLine/5),o=Math.max(t.startColumn-r,0),s=e.substring(o,i.charsPerLine+o),c=t.endLineNumber-t.startLineNumber+1<=i.matchLines?Math.min(s.length,t.endColumn-o):s.length;this.preview={text:s,matches:new p(0,t.startColumn-o,c)}}else{var l=Array.isArray(t)?t[0].startLineNumber:t.startLineNumber;this.preview={text:e,matches:n.mapArrayOrNot(t,function(e){return new d(e.startLineNumber-l,e.startColumn,e.endLineNumber-l,e.endColumn)})}}}}();t.TextSearchMatch=u;var d=function(){return function(e,t,i,n){this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n}}();t.SearchRange=d;var p=function(e){function t(t,i,n){return e.call(this,t,i,t,n)||this}return i(t,e),t}(d);t.OneLineRange=p,t.getExcludes=function(e){var t=e&&e.files&&e.files.exclude,i=e&&e.search&&e.search.exclude;if(t||i){
if(!t||!i)return t||i;var n=Object.create(null);return n=o.mixin(n,o.deepClone(t)),n=o.mixin(n,o.deepClone(i),!0)}},t.pathIncludedInQuery=function(e,t){return(!e.excludePattern||!r.match(e.excludePattern,t))&&!(e.includePattern&&!r.match(e.includePattern,t))&&(!e.usingSearchPaths||!!e.folderQueries&&e.folderQueries.every(function(e){var i=e.folder.fsPath;return!(!s.isEqualOrParent(t,i)||e.includePattern&&!r.match(e.includePattern,t))}))};var h;!function(e){e[e.unknownEncoding=1]="unknownEncoding",e[e.regexParseError=2]="regexParseError",e[e.globParseError=3]="globParseError",e[e.invalidLiteral=4]="invalidLiteral",e[e.rgProcessError=5]="rgProcessError",e[e.other=6]="other"}(h=t.SearchErrorCode||(t.SearchErrorCode={}));var f=function(e){function t(t,i){var n=e.call(this,t)||this;return n.code=i,n}return i(t,e),t}(Error);t.SearchError=f,t.deserializeSearchError=function(e){try{var t=JSON.parse(e);return new f(t.message,t.code)}catch(t){return new f(e,h.other)}},t.serializeSearchError=function(e){var t={
message:e.message,code:e.code};return new Error(JSON.stringify(t))}}),define(e[154],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IStatusbarService=i.createDecorator("statusbarService")}),define(e[547],t([1,0,70,28,5,230,13,68]),function(e,t,i,n,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(t,i){this._storageService=t,this._logService=i,this._onWillShutdown=new s.Emitter,this._onShutdown=new s.Emitter,this._phase=1,this._phaseWhen=new Map;var n=this._storageService.getInteger(e._lastShutdownReasonKey,1);this._storageService.remove(e._lastShutdownReasonKey,1),this._startupKind=3===n?3:4===n?4:1,this._logService.trace("lifecycle: starting up (startup kind: "+this._startupKind+")"),this._registerListeners()}return e.prototype._registerListeners=function(){},Object.defineProperty(e.prototype,"phase",{get:function(){return this._phase},set:function(e){if(e<this.phase)throw new Error("Lifecycle cannot go backwards")
;this._phase!==e&&(this._logService.trace("lifecycle: phase changed (value: "+e+")"),this._phase=e,a.mark("LifecyclePhase/"+i.LifecyclePhaseToString(e)),this._phaseWhen.has(this._phase)&&(this._phaseWhen.get(this._phase).open(),this._phaseWhen.delete(this._phase)))},enumerable:!0,configurable:!0}),e.prototype.when=function(e){if(e<=this._phase)return Promise.resolve();var t=this._phaseWhen.get(e);return t||(t=new c.Barrier,this._phaseWhen.set(e,t)),t.wait()},Object.defineProperty(e.prototype,"startupKind",{get:function(){return this._startupKind},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onWillShutdown",{get:function(){return this._onWillShutdown.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onShutdown",{get:function(){return this._onShutdown.event},enumerable:!0,configurable:!0}),e._lastShutdownReasonKey="lifecyle.lastShutdownReason",e=r([o(0,n.IStorageService),o(1,l.ILogService)],e)}();t.CodeSandboxLifecycleService=u}),
define(e[286],t([1,0,2,3,22,67,586,88,46,91,134,80,223,38,584,61]),function(e,t,n,r,o,s,a,c,l,u,d,p,h,f,g,v){"use strict";function m(e,t,i){i=i||1;for(var n=a.ShiftCommand.shiftIndentCount(t,t.length+i,e),r="",o=0;o<n;o++)r+="\t";return r}function y(e,t,i){i=i||1;for(var n=a.ShiftCommand.unshiftIndentCount(t,t.length+i,e),r="",o=0;o<n;o++)r+="\t";return r}function S(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];var r=h.LanguageConfigurationRegistry.getIndentationRules(e.getLanguageIdentifier().id);if(!r)return[];for(i=Math.min(i,e.getLineCount());t<=i&&r.unIndentedLinePattern;){E=e.getLineContent(t);if(!r.unIndentedLinePattern.test(E))break;t++}if(t>i-1)return[];var s,a=e.getOptions(),l=a.tabSize,d=a.insertSpaces,f=[],g=e.getLineContent(t),v=g;if(void 0!==n&&null!==n){s=n;_=o.getLeadingWhitespace(g);v=s+g.substring(_.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(v)&&(v=(s=y(l,s))+g.substring(_.length)),
g!==v&&f.push(c.EditOperation.replace(new u.Selection(t,1,t,_.length+1),p.TextModel.normalizeIndentation(s,l,d)))}else s=o.getLeadingWhitespace(g);var S=s;r.increaseIndentPattern&&r.increaseIndentPattern.test(v)?(S=m(l,S),s=m(l,s)):r.indentNextLinePattern&&r.indentNextLinePattern.test(v)&&(S=m(l,S));for(var b=++t;b<=i;b++){var E=e.getLineContent(b),_=o.getLeadingWhitespace(E),C=S+E.substring(_.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(C)&&(S=y(l,S),s=y(l,s)),_!==S&&f.push(c.EditOperation.replace(new u.Selection(b,1,b,_.length+1),p.TextModel.normalizeIndentation(S,l,d))),r.unIndentedLinePattern&&r.unIndentedLinePattern.test(E)||(S=r.increaseIndentPattern&&r.increaseIndentPattern.test(C)?s=m(l,s):r.indentNextLinePattern&&r.indentNextLinePattern.test(C)?m(l,S):s)}return f}function b(e,t,i,n){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){for(var r="",o=0;o<i;o++)r+=" ";for(var s=new RegExp(r,"gi"),a=1,c=e.getLineCount();a<=c;a++){var u=e.getLineFirstNonWhitespaceColumn(a)
;if(0===u&&(u=e.getLineMaxColumn(a)),1!==u){var d=new l.Range(a,1,a,u),p=e.getValueInRange(d),h=n?p.replace(/\t/gi,r):p.replace(s,"\t");t.addEditOperation(d,h)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.shiftIndent=m,t.unshiftIndent=y,t.getReindentEditOperations=S;var E=function(e){function t(){return e.call(this,{id:t.ID,label:n.localize("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:d.EditorContextKeys.writable})||this}return i(t,e),t.prototype.run=function(e,t){var i=t.getModel();if(i){var n=i.getOptions(),r=t.getSelection();if(r){var o=new O(r,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}},t.ID="editor.action.indentationToSpaces",t}(s.EditorAction);t.IndentationToSpacesAction=E;var _=function(e){function t(){return e.call(this,{id:t.ID,label:n.localize("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",
precondition:d.EditorContextKeys.writable})||this}return i(t,e),t.prototype.run=function(e,t){var i=t.getModel();if(i){var n=i.getOptions(),r=t.getSelection();if(r){var o=new k(r,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}},t.ID="editor.action.indentationToTabs",t}(s.EditorAction);t.IndentationToTabsAction=_;var C=function(e){function t(t,i){var n=e.call(this,i)||this;return n.insertSpaces=t,n}return i(t,e),t.prototype.run=function(e,t){var i=this,r=e.get(v.IQuickInputService),o=e.get(f.IModelService),s=t.getModel();if(s){var a=o.getCreationOptions(s.getLanguageIdentifier().language,s.uri,s.isForSimpleWidget),c=[1,2,3,4,5,6,7,8].map(function(e){return{id:e.toString(),label:e.toString(),description:e===a.tabSize?n.localize("configuredTabSize","Configured Tab Size"):void 0}}),l=Math.min(s.getOptions().tabSize-1,7);setTimeout(function(){r.pick(c,{placeHolder:n.localize({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]
},"Select Tab Size for Current File"),activeItem:c[l]}).then(function(e){e&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:i.insertSpaces})})},50)}},t}(s.EditorAction);t.ChangeIndentationSizeAction=C;var w=function(e){function t(){return e.call(this,!1,{id:t.ID,label:n.localize("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:null})||this}return i(t,e),t.ID="editor.action.indentUsingTabs",t}(C);t.IndentUsingTabs=w;var I=function(e){function t(){return e.call(this,!0,{id:t.ID,label:n.localize("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:null})||this}return i(t,e),t.ID="editor.action.indentUsingSpaces",t}(C);t.IndentUsingSpaces=I;var x=function(e){function t(){return e.call(this,{id:t.ID,label:n.localize("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:null})||this}return i(t,e),t.prototype.run=function(e,t){var i=e.get(f.IModelService),n=t.getModel()
;if(n){var r=i.getCreationOptions(n.getLanguageIdentifier().language,n.uri,n.isForSimpleWidget);n.detectIndentation(r.insertSpaces,r.tabSize)}},t.ID="editor.action.detectIndentation",t}(s.EditorAction);t.DetectIndentation=x;var D=function(e){function t(){return e.call(this,{id:"editor.action.reindentlines",label:n.localize("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:d.EditorContextKeys.writable})||this}return i(t,e),t.prototype.run=function(e,t){var i=t.getModel();if(i){var n=S(i,1,i.getLineCount());n.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}},t}(s.EditorAction);t.ReindentLinesAction=D;var T=function(e){function t(){return e.call(this,{id:"editor.action.reindentselectedlines",label:n.localize("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:d.EditorContextKeys.writable})||this}return i(t,e),t.prototype.run=function(e,t){var i=t.getModel();if(i){var n=t.getSelections();if(null!==n){
for(var r=[],o=0,s=n;o<s.length;o++){var a=s[o],c=a.startLineNumber,l=a.endLineNumber;if(c!==l&&1===a.endColumn&&l--,1===c){if(c===l)continue}else c--;var u=S(i,c,l);r.push.apply(r,u)}r.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop())}}},t}(s.EditorAction);t.ReindentSelectedLinesAction=T;var R=function(){function e(e,t){this._initialSelection=t,this._edits=[];for(var i=0,n=e;i<n.length;i++){var r=n[i];r.range&&"string"==typeof r.text&&this._edits.push(r)}}return e.prototype.getEditOperations=function(e,t){for(var i=0,n=this._edits;i<n.length;i++){var r=n[i];t.addEditOperation(l.Range.lift(r.range),r.text)}var o=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(o=!0,
this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(o=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),o||(this._selectionId=t.trackSelection(this._initialSelection))},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e}();t.AutoIndentOnPasteCommand=R;var A=function(){function e(e){var t=this;this.editor=e,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(e.onDidChangeConfiguration(function(){return t.update()})),this.callOnDispose.push(e.onDidChangeModel(function(){return t.update()})),this.callOnDispose.push(e.onDidChangeModelLanguage(function(){return t.update()}))}return e.prototype.update=function(){var e=this;this.callOnModel=r.dispose(this.callOnModel),
this.editor.getConfiguration().autoIndent&&!this.editor.getConfiguration().contribInfo.formatOnPaste&&this.editor.getModel()&&this.callOnModel.push(this.editor.onDidPaste(function(t){e.trigger(t)}))},e.prototype.trigger=function(e){var t=this.editor.getSelections();if(!(null===t||t.length>1)){var i=this.editor.getModel();if(i&&i.isCheapToTokenize(e.getStartPosition().lineNumber)){var n=i.getOptions(),r=n.tabSize,s=n.insertSpaces;this.editor.pushUndoStop();for(var c=[],u={shiftIndent:function(e){for(var t=a.ShiftCommand.shiftIndentCount(e,e.length+1,r),i="",n=0;n<t;n++)i+="\t";return i},unshiftIndent:function(e){for(var t=a.ShiftCommand.unshiftIndentCount(e,e.length+1,r),i="",n=0;n<t;n++)i+="\t";return i}},d=e.startLineNumber;d<=e.endLineNumber&&this.shouldIgnoreLine(i,d);)d++;if(!(d>e.endLineNumber)){var p=i.getLineContent(d);if(!/\S/.test(p.substring(0,e.startColumn-1))){var f=h.LanguageConfigurationRegistry.getGoodIndentForLine(i,i.getLanguageIdentifier().id,d,u);if(null!==f){
var v=o.getLeadingWhitespace(p),m=g.getSpaceCnt(f,r);if(m!==g.getSpaceCnt(v,r)){x=g.generateIndent(m,r,s);c.push({range:new l.Range(d,1,d,v.length+1),text:x}),p=x+p.substr(v.length)}else{var y=h.LanguageConfigurationRegistry.getIndentMetadata(i,d);if(0===y||8===y)return}}}for(var S=d;d<e.endLineNumber&&!/\S/.test(i.getLineContent(d+1));)d++;if(d!==e.endLineNumber){var b={getLineTokens:function(e){return i.getLineTokens(e)},getLanguageIdentifier:function(){return i.getLanguageIdentifier()},getLanguageIdAtPosition:function(e,t){return i.getLanguageIdAtPosition(e,t)},getLineContent:function(e){return e===S?p:i.getLineContent(e)}},E=h.LanguageConfigurationRegistry.getGoodIndentForLine(b,i.getLanguageIdentifier().id,d+1,u);if(null!==E){var _=g.getSpaceCnt(E,r),C=g.getSpaceCnt(o.getLeadingWhitespace(i.getLineContent(d+1)),r);if(_!==C)for(var w=_-C,I=d+1;I<=e.endLineNumber;I++){var x,D=i.getLineContent(I),T=o.getLeadingWhitespace(D),A=g.getSpaceCnt(T,r)+w;(x=g.generateIndent(A,r,s))!==T&&c.push({
range:new l.Range(I,1,I,T.length+1),text:x})}}}var O=new R(c,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",O),this.editor.pushUndoStop()}}}},e.prototype.shouldIgnoreLine=function(e,t){e.forceTokenization(t);var i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;var n=e.getLineTokens(t);if(n.getCount()>0){var r=n.findTokenIndexAtOffset(i);if(r>=0&&1===n.getStandardTokenType(r))return!0}return!1},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.callOnDispose=r.dispose(this.callOnDispose),this.callOnModel=r.dispose(this.callOnModel)},e.ID="editor.contrib.autoIndentOnPaste",e}();t.AutoIndentOnPaste=A;var O=function(){function e(e,t){this.selection=e,this.tabSize=t}return e.prototype.getEditOperations=function(e,t){this.selectionId=t.trackSelection(this.selection),b(e,t,this.tabSize,!0)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.IndentationToSpacesCommand=O;var k=function(){function e(e,t){
this.selection=e,this.tabSize=t}return e.prototype.getEditOperations=function(e,t){this.selectionId=t.trackSelection(this.selection),b(e,t,this.tabSize,!1)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.IndentationToTabsCommand=k,s.registerEditorContribution(A),s.registerEditorAction(E),s.registerEditorAction(_),s.registerEditorAction(w),s.registerEditorAction(I),s.registerEditorAction(x),s.registerEditorAction(D),s.registerEditorAction(T)}),define(e[168],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IURLService=i.createDecorator("urlService")}),define(e[304],t([1,0,3,13]),function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.handlers=new Set}return e.prototype.open=function(e){var t=Array.from(this.handlers);return r.first(t.map(function(t){return function(){return t.handleURL(e)}}),void 0,!1)},e.prototype.registerHandler=function(e){var t=this
;return this.handlers.add(e),n.toDisposable(function(){return t.handlers.delete(e)})},e}();t.URLService=o;var s=function(e){function t(t){var i=e.call(this)||this;return i.urlService=t,i}return i(t,e),t.prototype.open=function(e){return this.urlService.open(e)},t.prototype.handleURL=function(t){return e.prototype.open.call(this,t)},t}(o);t.RelayURLService=s}),define(e[305],t([1,0,5,42]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,n){this.windowId=e,this.configuration=t,this.windowsService=n;var r=i.mapEvent(i.filterEvent(n.onWindowFocus,function(t){return t===e}),function(e){return!0}),o=i.mapEvent(i.filterEvent(n.onWindowBlur,function(t){return t===e}),function(e){return!1}),s=i.mapEvent(i.filterEvent(n.onWindowMaximize,function(t){return t===e}),function(e){return!0}),a=i.mapEvent(i.filterEvent(n.onWindowUnmaximize,function(t){return t===e}),function(e){return!1});this.onDidChangeFocus=i.anyEvent(r,o),
this.onDidChangeMaximize=i.anyEvent(s,a)}return e.prototype.getCurrentWindowId=function(){return this.windowId},e.prototype.getConfiguration=function(){return this.configuration},e.prototype.pickFileFolderAndOpen=function(e){return e.windowId=this.windowId,this.windowsService.pickFileFolderAndOpen(e)},e.prototype.pickFileAndOpen=function(e){return e.windowId=this.windowId,this.windowsService.pickFileAndOpen(e)},e.prototype.pickFolderAndOpen=function(e){return e.windowId=this.windowId,this.windowsService.pickFolderAndOpen(e)},e.prototype.pickWorkspaceAndOpen=function(e){return e.windowId=this.windowId,this.windowsService.pickWorkspaceAndOpen(e)},e.prototype.reloadWindow=function(e){return this.windowsService.reloadWindow(this.windowId,e)},e.prototype.openDevTools=function(e){return this.windowsService.openDevTools(this.windowId,e)},e.prototype.toggleDevTools=function(){return this.windowsService.toggleDevTools(this.windowId)},e.prototype.closeWorkspace=function(){
return this.windowsService.closeWorkspace(this.windowId)},e.prototype.enterWorkspace=function(e){return this.windowsService.enterWorkspace(this.windowId,e)},e.prototype.createAndEnterWorkspace=function(e,t){return this.windowsService.createAndEnterWorkspace(this.windowId,e,t)},e.prototype.saveAndEnterWorkspace=function(e){return this.windowsService.saveAndEnterWorkspace(this.windowId,e)},e.prototype.openWindow=function(e,t){return this.windowsService.openWindow(this.windowId,e,t)},e.prototype.closeWindow=function(){return this.windowsService.closeWindow(this.windowId)},e.prototype.toggleFullScreen=function(){return this.windowsService.toggleFullScreen(this.windowId)},e.prototype.setRepresentedFilename=function(e){return this.windowsService.setRepresentedFilename(this.windowId,e)},e.prototype.getRecentlyOpened=function(){return this.windowsService.getRecentlyOpened(this.windowId)},e.prototype.focusWindow=function(){return this.windowsService.focusWindow(this.windowId)},e.prototype.isFocused=function(){
return this.windowsService.isFocused(this.windowId)},e.prototype.isMaximized=function(){return this.windowsService.isMaximized(this.windowId)},e.prototype.maximizeWindow=function(){return this.windowsService.maximizeWindow(this.windowId)},e.prototype.unmaximizeWindow=function(){return this.windowsService.unmaximizeWindow(this.windowId)},e.prototype.minimizeWindow=function(){return this.windowsService.minimizeWindow(this.windowId)},e.prototype.onWindowTitleDoubleClick=function(){return this.windowsService.onWindowTitleDoubleClick(this.windowId)},e.prototype.setDocumentEdited=function(e){return this.windowsService.setDocumentEdited(this.windowId,e)},e.prototype.show=function(){return this.windowsService.showWindow(this.windowId)},e.prototype.showMessageBox=function(e){return this.windowsService.showMessageBox(this.windowId,e)},e.prototype.showSaveDialog=function(e){return this.windowsService.showSaveDialog(this.windowId,e)},e.prototype.showOpenDialog=function(e){
return this.windowsService.showOpenDialog(this.windowId,e)},e.prototype.updateTouchBar=function(e){return this.windowsService.updateTouchBar(this.windowId,e)},e.prototype.resolveProxy=function(e){return this.windowsService.resolveProxy(this.windowId,e)},e=r([o(2,n.IWindowsService)],e)}();t.WindowService=s});var s=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new i(function(t){t(e.value)}).then(s,a)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue
;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}var n,r,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};define(e[307],t([1,0,8,220,90,81,46,79,148,2,9,59,219,27,12,524,245]),function(e,t,n,c,l,u,d,p,h,f,g,v,m,y,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b,E=function(){function e(e){void 0===e&&(e=0),this.type=e}return e.prototype.compare=function(e,t,i){
if(t instanceof h.OutlineGroup&&i instanceof h.OutlineGroup)return t.providerIndex-i.providerIndex;if(t instanceof h.OutlineElement&&i instanceof h.OutlineElement)switch(this.type){case 2:return t.symbol.kind-i.symbol.kind;case 1:return t.symbol.name.localeCompare(i.symbol.name);case 0:default:return d.Range.compareRangesUsingStarts(t.symbol.range,i.symbol.range)}return 0},e}();t.OutlineItemComparator=E;var _=function(){function e(){this.enabled=!0}return e.prototype.isVisible=function(e,t){return!this.enabled||(!(t instanceof h.OutlineElement)||Boolean(t.score))},e}();t.OutlineItemFilter=_;var C=function(){function e(){this.filterOnScore=!0}return e.prototype.getId=function(e,t){return t?t.id:"empty"},e.prototype.hasChildren=function(e,t){if(!t)return!1;if(t instanceof h.OutlineModel)return!0;if(t instanceof h.OutlineElement&&this.filterOnScore&&!t.score)return!1;for(var i in t.children)if(!this.filterOnScore||t.children[i].score)return!0;return!1},e.prototype.getChildren=function(e,t){
var i=l.values(t.children);return Promise.resolve(i)},e.prototype.getParent=function(e,t){return Promise.resolve(t&&t.parent)},e.prototype.shouldAutoexpand=function(e,t){return t&&(t instanceof h.OutlineModel||t.parent instanceof h.OutlineModel||t instanceof h.OutlineGroup||t.parent instanceof h.OutlineGroup)},e}();t.OutlineDataSource=C;var w=function(){function e(e,t){this._themeService=e,this._configurationService=t,this.renderProblemColors=!0,this.renderProblemBadges=!0}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(e,t){return t instanceof h.OutlineGroup?"outline-group":"outline-element"},e.prototype.renderTemplate=function(e,t,i){if("outline-element"===t){var r=n.$(".outline-element-icon symbol-icon"),o=n.$(".outline-element-label"),s=n.$(".outline-element-detail"),a=n.$(".outline-element-decoration");return n.addClass(i,"outline-element"),n.append(i,r,o,s,a),{icon:r,labelContainer:o,label:new c.HighlightedLabel(o,!0),detail:s,decoration:a}}
if("outline-group"===t){o=n.$(".outline-element-label");return n.addClass(i,"outline-element"),n.append(i,o),{labelContainer:o,label:new c.HighlightedLabel(o,!0)}}throw new Error(t)},e.prototype.renderElement=function(t,i,n,r){i instanceof h.OutlineElement&&(r.icon.className="outline-element-icon "+p.symbolKindToCssClass(i.symbol.kind),r.label.set(i.symbol.name,i.score?u.createMatches(i.score[1]):void 0,f.localize("title.template","{0} ({1})",i.symbol.name,e._symbolKindNames[i.symbol.kind])),r.detail.innerText=i.symbol.detail||"",this._renderMarkerInfo(i,r)),i instanceof h.OutlineGroup&&r.label.set(i.provider.displayName||f.localize("provider","Outline Provider"))},e.prototype._renderMarkerInfo=function(e,t){if(!e.marker)return n.hide(t.decoration),void t.labelContainer.style.removeProperty("--outline-element-color");var i=e.marker,r=i.count,o=i.topSev,s=this._themeService.getTheme().getColor(o===m.MarkerSeverity.Error?y.listErrorForeground:y.listWarningForeground),a=s?s.toString():"inherit"
;this.renderProblemColors?t.labelContainer.style.setProperty("--outline-element-color",a):t.labelContainer.style.removeProperty("--outline-element-color"),this.renderProblemBadges?r>0?(n.show(t.decoration),n.removeClass(t.decoration,"bubble"),t.decoration.innerText=r<10?r.toString():"+9",t.decoration.title=1===r?f.localize("1.problem","1 problem in this element"):f.localize("N.problem","{0} problems in this element",r),t.decoration.style.setProperty("--outline-element-color",a)):(n.show(t.decoration),n.addClass(t.decoration,"bubble"),t.decoration.innerText="",t.decoration.title=f.localize("deep.problem","Contains elements with problems"),t.decoration.style.setProperty("--outline-element-color",a)):n.hide(t.decoration)},e.prototype.disposeTemplate=function(e,t,i){i.label.dispose()},e._symbolKindNames=(b={},b[17]=f.localize("Array","array"),b[16]=f.localize("Boolean","boolean"),b[4]=f.localize("Class","class"),b[13]=f.localize("Constant","constant"),b[8]=f.localize("Constructor","constructor"),
b[9]=f.localize("Enum","enumeration"),b[21]=f.localize("EnumMember","enumeration member"),b[23]=f.localize("Event","event"),b[7]=f.localize("Field","field"),b[0]=f.localize("File","file"),b[11]=f.localize("Function","function"),b[10]=f.localize("Interface","interface"),b[19]=f.localize("Key","key"),b[5]=f.localize("Method","method"),b[1]=f.localize("Module","module"),b[2]=f.localize("Namespace","namespace"),b[20]=f.localize("Null","null"),b[15]=f.localize("Number","number"),b[18]=f.localize("Object","object"),b[24]=f.localize("Operator","operator"),b[3]=f.localize("Package","package"),b[6]=f.localize("Property","property"),b[14]=f.localize("String","string"),b[22]=f.localize("Struct","struct"),b[25]=f.localize("TypeParameter","type parameter"),b[12]=f.localize("Variable","variable"),b),e=r([o(0,S.IThemeService),o(1,g.IConfigurationService)],e)}();t.OutlineRenderer=w;var I=function(){function e(){}return e.capture=function(e){var t,i=e.getSelection()[0];i instanceof h.TreeElement&&(t=i.id);var n
;(i=e.getFocus(!0))instanceof h.TreeElement&&(n=i.id);for(var r=new Array,o=e.getNavigator();o.next();){var s=o.current();s instanceof h.TreeElement&&e.isExpanded(s)&&r.push(s.id)}return{selected:t,focused:n,expanded:r}},e.restore=function(e,t,i){return s(this,void 0,void 0,function(){var n,r,o,s,c,l,u,d;return a(this,function(a){switch(a.label){case 0:if(n=e.getInput(),!(t&&n instanceof h.OutlineModel))return[2,Promise.resolve(void 0)];for(r=[],o=0,s=t.expanded;o<s.length;o++)c=s[o],(l=n.getItemById(c))&&r.push(l);return[4,e.collapseAll(void 0)];case 1:return a.sent(),[4,e.expandAll(r)];case 2:return a.sent(),u=n.getItemById(t.selected),d=n.getItemById(t.focused),e.setSelection([u],i),e.setFocus(d,i),[2]}})})},e}();t.OutlineTreeState=I;var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.shouldToggleExpansion=function(t,i,n){return t instanceof h.OutlineElement?this.isClickOnTwistie(i):e.prototype.shouldToggleExpansion.call(this,t,i,n)},t
}(v.WorkbenchTreeController);t.OutlineController=x}),define(e[320],t([1,0,2,5,3,92,96,21,28,48]),function(e,t,i,n,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t,i,r){this.storageService=e,this.contextService=t,this.environmentService=i,this.extensionManagementService=r,this.disposables=[],this._onEnablementChanged=new n.Emitter,this.onEnablementChanged=this._onEnablementChanged.event,r.onDidInstallExtension(this._onDidInstallExtension,this,this.disposables),r.onDidUninstallExtension(this._onDidUninstallExtension,this,this.disposables)}return Object.defineProperty(e.prototype,"hasWorkspace",{get:function(){return 1!==this.contextService.getWorkbenchState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allUserExtensionsDisabled",{get:function(){return!0===this.environmentService.disableExtensions},enumerable:!0,configurable:!0}),e.prototype.getDisabledExtensions=function(){return s(this,void 0,void 0,function(){
var e,t,i,n,r,o,s,c,l,d,p,h;return a(this,function(a){switch(a.label){case 0:if(e=this._getDisabledExtensions(0),this.hasWorkspace){for(t=function(t){e.some(function(e){return u.areSameExtensions(e,t)})||e.push(t)},i=0,n=this._getDisabledExtensions(1);i<n.length;i++)r=n[i],t(r);(o=this._getEnabledExtensions(1)).length&&(e=e.filter(function(e){return!o.some(function(t){return u.areSameExtensions(t,e)})}))}return this.environmentService.disableExtensions?[4,this.extensionManagementService.getInstalled()]:[3,2];case 1:for(s=a.sent(),c=function(t){l._isExtensionDisabledInEnvironment(t)&&(e.some(function(e){return u.areSameExtensions(e,t.galleryIdentifier)})||e.push(t.galleryIdentifier))},l=this,d=0,p=s;d<p.length;d++)h=p[d],c(h);a.label=2;case 2:return[2,e]}})})},e.prototype.getEnablementState=function(e){if(this._isExtensionDisabledInEnvironment(e))return 0;var t=e.galleryIdentifier;if(this.hasWorkspace){if(this._getEnabledExtensions(1).filter(function(e){return u.areSameExtensions(e,t)})[0])return 3
;if(this._getDisabledExtensions(1).filter(function(e){return u.areSameExtensions(e,t)})[0])return 1}return this._getDisabledExtensions(0).filter(function(e){return u.areSameExtensions(e,t)})[0]?0:2},e.prototype.canChangeEnablement=function(e){return!(e.manifest&&e.manifest.contributes&&e.manifest.contributes.localizations&&e.manifest.contributes.localizations.length)&&(1!==e.type||!this.environmentService.disableExtensions)},e.prototype.setEnablement=function(e,t){var n;if(l.isIExtensionIdentifier(e))n=e;else{if(!this.canChangeEnablement(e))return Promise.resolve(!1);n=e.galleryIdentifier}if((1===t||3===t)&&!this.hasWorkspace)return Promise.reject(new Error(i.localize("noWorkspace","No workspace.")));if(this._getEnablementState(n)===t)return Promise.resolve(!1);switch(t){case 2:this._enableExtension(n);break;case 0:this._disableExtension(n);break;case 3:this._enableExtensionInWorkspace(n);break;case 1:this._disableExtensionInWorkspace(n)}return this._onEnablementChanged.fire(n),Promise.resolve(!0)},
e.prototype.isEnabled=function(e){var t=this.getEnablementState(e);return 3===t||2===t},e.prototype._isExtensionDisabledInEnvironment=function(e){if(this.allUserExtensionsDisabled)return 1===e.type;var t=this.environmentService.disableExtensions;return!!Array.isArray(t)&&t.some(function(t){return u.areSameExtensions({id:t},e.galleryIdentifier)})},e.prototype._getEnablementState=function(e){if(this.hasWorkspace){if(this._getEnabledExtensions(1).filter(function(t){return u.areSameExtensions(t,e)})[0])return 3;if(this._getDisabledExtensions(1).filter(function(t){return u.areSameExtensions(t,e)})[0])return 1}return this._getDisabledExtensions(0).filter(function(t){return u.areSameExtensions(t,e)})[0]?0:2},e.prototype._enableExtension=function(e){this._removeFromDisabledExtensions(e,1),this._removeFromEnabledExtensions(e,1),this._removeFromDisabledExtensions(e,0)},e.prototype._disableExtension=function(e){this._removeFromDisabledExtensions(e,1),this._removeFromEnabledExtensions(e,1),
this._addToDisabledExtensions(e,0)},e.prototype._enableExtensionInWorkspace=function(e){this._removeFromDisabledExtensions(e,1),this._addToEnabledExtensions(e,1)},e.prototype._disableExtensionInWorkspace=function(e){this._addToDisabledExtensions(e,1),this._removeFromEnabledExtensions(e,1)},e.prototype._addToDisabledExtensions=function(e,t){if(1===t&&!this.hasWorkspace)return Promise.resolve(!1);var i=this._getDisabledExtensions(t);return i.every(function(t){return!u.areSameExtensions(t,e)})?(i.push(e),this._setDisabledExtensions(i,t,e),Promise.resolve(!0)):Promise.resolve(!1)},e.prototype._removeFromDisabledExtensions=function(e,t){if(1===t&&!this.hasWorkspace)return!1;for(var i=this._getDisabledExtensions(t),n=0;n<i.length;n++){var r=i[n];if(u.areSameExtensions(r,e))return i.splice(n,1),this._setDisabledExtensions(i,t,e),!0}return!1},e.prototype._addToEnabledExtensions=function(e,t){if(1===t&&!this.hasWorkspace)return!1;var i=this._getEnabledExtensions(t);return!!i.every(function(t){
return!u.areSameExtensions(t,e)})&&(i.push(e),this._setEnabledExtensions(i,t,e),!0)},e.prototype._removeFromEnabledExtensions=function(e,t){if(1===t&&!this.hasWorkspace)return!1;for(var i=this._getEnabledExtensions(t),n=0;n<i.length;n++){var r=i[n];if(u.areSameExtensions(r,e))return i.splice(n,1),this._setEnabledExtensions(i,t,e),!0}return!1},e.prototype._getEnabledExtensions=function(e){return this._getExtensions("extensionsIdentifiers/enabled",e)},e.prototype._setEnabledExtensions=function(e,t,i){this._setExtensions("extensionsIdentifiers/enabled",e,t,i)},e.prototype._getDisabledExtensions=function(e){return this._getExtensions("extensionsIdentifiers/disabled",e)},e.prototype._setDisabledExtensions=function(e,t,i){this._setExtensions("extensionsIdentifiers/disabled",e,t,i)},e.prototype._getExtensions=function(e,t){if(1===t&&!this.hasWorkspace)return[];var i=this.storageService.get(e,t,"");return i?JSON.parse(i):[]},e.prototype._setExtensions=function(e,t,i,n){
t.length?this.storageService.store(e,JSON.stringify(t.map(function(e){return{id:e.id,uuid:e.uuid}})),i):this.storageService.remove(e,i)},e.prototype._onDidInstallExtension=function(e){if(e.local&&1===e.operation){var t=!this.isEnabled(e.local);this._reset(e.local.galleryIdentifier),t&&this._onEnablementChanged.fire(e.local.galleryIdentifier)}},e.prototype._onDidUninstallExtension=function(e){var t=e.identifier;if(!e.error){var i=u.getIdFromLocalExtensionId(t.id);if(i){var n={id:i,uuid:t.uuid};this._reset(n)}}},e.prototype._reset=function(e){this._removeFromDisabledExtensions(e,1),this._removeFromEnabledExtensions(e,1),this._removeFromDisabledExtensions(e,0)},e.prototype.dispose=function(){this.disposables=c.dispose(this.disposables)},e=r([o(0,p.IStorageService),o(1,d.IWorkspaceContextService),o(2,h.IEnvironmentService),o(3,l.IExtensionManagementService)],e)}();t.ExtensionEnablementService=f}),define(e[40],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.extHostNamedCustomer=function(e){return function(t){i.INSTANCE.registerNamedCustomer(e,t)}},t.extHostCustomer=function(e){i.INSTANCE.registerCustomer(e)};!function(e){e.getNamedCustomers=function(){return i.INSTANCE.getNamedCustomers()},e.getCustomers=function(){return i.INSTANCE.getCustomers()}}(t.ExtHostCustomersRegistry||(t.ExtHostCustomersRegistry={}));var i=function(){function e(){this._namedCustomers=[],this._customers=[]}return e.prototype.registerNamedCustomer=function(e,t){var i=[e,t];this._namedCustomers.push(i)},e.prototype.getNamedCustomers=function(){return this._namedCustomers},e.prototype.registerCustomer=function(e){this._customers.push(e)},e.prototype.getCustomers=function(){return this._customers},e.INSTANCE=new e,e}()}),define(e[217],t([1,0,330,6,18,144,65,22,44,19]),function(e,t,n,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e){this._callOnDispose=e}return e.from=function(){
for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t;return new e(function(){if(n){for(var e=0,t=n;e<t.length;e++){var i=t[e];i&&"function"==typeof i.dispose&&i.dispose()}n=void 0}})},e.prototype.dispose=function(){"function"==typeof this._callOnDispose&&(this._callOnDispose(),this._callOnDispose=void 0)},e}();t.Disposable=d;var p=function(){function e(e,t){if(e<0)throw o.illegalArgument("line must be non-negative");if(t<0)throw o.illegalArgument("character must be non-negative");this._line=e,this._character=t}return e.Min=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new TypeError;for(var i=e[0],n=1;n<e.length;n++){var r=e[n];r.isBefore(i)&&(i=r)}return i},e.Max=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new TypeError;for(var i=e[0],n=1;n<e.length;n++){var r=e[n];r.isAfter(i)&&(i=r)}return i},e.isPosition=function(t){if(!t)return!1;if(t instanceof e)return!0;var i=t,n=i.line,r=i.character
;return"number"==typeof n&&"number"==typeof r},Object.defineProperty(e.prototype,"line",{get:function(){return this._line},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"character",{get:function(){return this._character},enumerable:!0,configurable:!0}),e.prototype.isBefore=function(e){return this._line<e._line||!(e._line<this._line)&&this._character<e._character},e.prototype.isBeforeOrEqual=function(e){return this._line<e._line||!(e._line<this._line)&&this._character<=e._character},e.prototype.isAfter=function(e){return!this.isBeforeOrEqual(e)},e.prototype.isAfterOrEqual=function(e){return!this.isBefore(e)},e.prototype.isEqual=function(e){return this._line===e._line&&this._character===e._character},e.prototype.compareTo=function(e){return this._line<e._line?-1:this._line>e.line?1:this._character<e._character?-1:this._character>e._character?1:0},e.prototype.translate=function(t,i){if(void 0===i&&(i=0),null===t||null===i)throw o.illegalArgument();var n
;return void 0===t?n=0:"number"==typeof t?n=t:(n="number"==typeof t.lineDelta?t.lineDelta:0,i="number"==typeof t.characterDelta?t.characterDelta:0),0===n&&0===i?this:new e(this.line+n,this.character+i)},e.prototype.with=function(t,i){if(void 0===i&&(i=this.character),null===t||null===i)throw o.illegalArgument();var n;return void 0===t?n=this.line:"number"==typeof t?n=t:(n="number"==typeof t.line?t.line:this.line,i="number"==typeof t.character?t.character:this.character),n===this.line&&i===this.character?this:new e(n,i)},e.prototype.toJSON=function(){return{line:this.line,character:this.character}},e}();t.Position=p;var h=function(){function e(e,t,i,n){var r,o;if("number"==typeof e&&"number"==typeof t&&"number"==typeof i&&"number"==typeof n?(r=new p(e,t),o=new p(i,n)):e instanceof p&&t instanceof p&&(r=e,o=t),!r||!o)throw new Error("Invalid arguments");r.isBefore(o)?(this._start=r,this._end=o):(this._start=o,this._end=r)}return e.isRange=function(t){
return t instanceof e||!!t&&(p.isPosition(t.start)&&p.isPosition(t.end))},Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),e.prototype.contains=function(t){return t instanceof e?this.contains(t._start)&&this.contains(t._end):t instanceof p&&(!t.isBefore(this._start)&&!this._end.isBefore(t))},e.prototype.isEqual=function(e){return this._start.isEqual(e._start)&&this._end.isEqual(e._end)},e.prototype.intersection=function(t){var i=p.Max(t.start,this._start),n=p.Min(t.end,this._end);if(!i.isAfter(n))return new e(i,n)},e.prototype.union=function(t){if(this.contains(t))return this;if(t.contains(this))return t;return new e(p.Min(t.start,this._start),p.Max(t.end,this.end))},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._start.isEqual(this._end)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleLine",{
get:function(){return this._start.line===this._end.line},enumerable:!0,configurable:!0}),e.prototype.with=function(t,i){if(void 0===i&&(i=this.end),null===t||null===i)throw o.illegalArgument();var n;return t?p.isPosition(t)?n=t:(n=t.start||this.start,i=t.end||this.end):n=this.start,n.isEqual(this._start)&&i.isEqual(this.end)?this:new e(n,i)},e.prototype.toJSON=function(){return[this.start,this.end]},e}();t.Range=h;var f=function(e){function t(t,i,n,r){var o,s,a=this;if("number"==typeof t&&"number"==typeof i&&"number"==typeof n&&"number"==typeof r?(o=new p(t,i),s=new p(n,r)):t instanceof p&&i instanceof p&&(o=t,s=i),!o||!s)throw new Error("Invalid arguments");return a=e.call(this,o,s)||this,a._anchor=o,a._active=s,a}return i(t,e),t.isSelection=function(e){return e instanceof t||!!e&&(h.isRange(e)&&p.isPosition(e.anchor)&&p.isPosition(e.active)&&"boolean"==typeof e.isReversed)},Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReversed",{get:function(){return this._anchor===this._end},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{start:this.start,end:this.end,active:this.active,anchor:this.anchor}},t}(h);t.Selection=f;!function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.EndOfLine||(t.EndOfLine={}));var g=function(){function e(e,t){this.range=e,this.newText=t}return e.isTextEdit=function(t){return t instanceof e||!!t&&(h.isRange(t)&&"string"==typeof t.newText)},e.replace=function(t,i){return new e(t,i)},e.insert=function(t,i){return e.replace(new h(t,t),i)},e.delete=function(t){return e.replace(t,"")},e.setEndOfLine=function(t){var i=new e(void 0,void 0);return i.newEol=t,i},Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){if(e&&!h.isRange(e))throw o.illegalArgument("range");this._range=e},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"newText",{get:function(){return this._newText||""},set:function(e){if(e&&"string"!=typeof e)throw o.illegalArgument("newText");this._newText=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newEol",{get:function(){return this._newEol},set:function(e){if(e&&"number"!=typeof e)throw o.illegalArgument("newEol");this._newEol=e},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{range:this.range,newText:this.newText,newEol:this._newEol}},e}();t.TextEdit=g;var v=function(){function e(){this._edits=new Array}return e.prototype.renameFile=function(e,t,i){this._edits.push({_type:1,from:e,to:t,options:i})},e.prototype.createFile=function(e,t){this._edits.push({_type:1,from:void 0,to:e,options:t})},e.prototype.deleteFile=function(e,t){this._edits.push({_type:1,from:e,to:void 0,options:t})},e.prototype.replace=function(e,t,i){this._edits.push({_type:2,uri:e,edit:new g(t,i)})},e.prototype.insert=function(e,t,i){this.replace(e,new h(t,t),i)},
e.prototype.delete=function(e,t){this.replace(e,t,"")},e.prototype.has=function(e){for(var t=0,i=this._edits;t<i.length;t++){var n=i[t];if(2===n._type&&n.uri.toString()===e.toString())return!0}return!1},e.prototype.set=function(e,t){if(t)for(var i=0,n=t;i<n.length;i++){var r=n[i];r&&this._edits.push({_type:2,uri:e,edit:r})}else{for(var o=0;o<this._edits.length;o++){var s=this._edits[o];2===s._type&&s.uri.toString()===e.toString()&&(this._edits[o]=void 0)}this._edits=u.coalesce(this._edits)}},e.prototype.get=function(e){for(var t=[],i=0,n=this._edits;i<n.length;i++){var r=n[i];2===r._type&&r.uri.toString()===e.toString()&&t.push(r.edit)}return t},e.prototype.entries=function(){for(var e=new Map,t=0,i=this._edits;t<i.length;t++){var n=i[t];if(2===n._type){var r=e.get(n.uri.toString());r||(r=[n.uri,[]],e.set(n.uri.toString(),r)),r[1].push(n.edit)}}return l.values(e)},e.prototype._allEntries=function(){for(var e=[],t=0,i=this._edits;t<i.length;t++){var n=i[t]
;1===n._type?e.push([n.from,n.to,n.options]):e.push([n.uri,[n.edit]])}return e},Object.defineProperty(e.prototype,"size",{get:function(){return this.entries().length},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return this.entries()},e}();t.WorkspaceEdit=v;var m=function(){function e(e){this._tabstop=1,this.value=e||""}return e.isSnippetString=function(t){return t instanceof e||!!t&&"string"==typeof t.value},e._escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},e.prototype.appendText=function(t){return this.value+=e._escape(t),this},e.prototype.appendTabstop=function(e){return void 0===e&&(e=this._tabstop++),this.value+="$",this.value+=e,this},e.prototype.appendPlaceholder=function(t,i){if(void 0===i&&(i=this._tabstop++),"function"==typeof t){var n=new e;n._tabstop=this._tabstop,t(n),this._tabstop=n._tabstop,t=n.value}else t=e._escape(t);return this.value+="${",this.value+=i,this.value+=":",this.value+=t,this.value+="}",this},e.prototype.appendVariable=function(t,i){
if("function"==typeof i){var n=new e;n._tabstop=this._tabstop,i(n),this._tabstop=n._tabstop,i=n.value}else"string"==typeof i&&(i=i.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=t,i&&(this.value+=":",this.value+=i),this.value+="}",this},e}();t.SnippetString=m;!function(e){e[e.Unnecessary=1]="Unnecessary"}(t.DiagnosticTag||(t.DiagnosticTag={}));var y;!function(e){e[e.Hint=3]="Hint",e[e.Information=2]="Information",e[e.Warning=1]="Warning",e[e.Error=0]="Error"}(y=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var S=function(){function e(e,t){if(this.uri=e,t)if(t instanceof h)this.range=t;else{if(!(t instanceof p))throw new Error("Illegal argument");this.range=new h(t,t)}else;}return e.isLocation=function(t){return t instanceof e||!!t&&(h.isRange(t.range)&&r.URI.isUri(t.uri))},e.prototype.toJSON=function(){return{uri:this.uri,range:this.range}},e}();t.Location=S;var b=function(){function e(e,t){this.location=e,this.message=t}return e.is=function(e){
return!!e&&("string"==typeof e.message&&e.location&&h.isRange(e.location.range)&&r.URI.isUri(e.location.uri))},e.isEqual=function(e,t){return e===t||!(!e||!t)&&(e.message===t.message&&e.location.range.isEqual(t.location.range)&&e.location.uri.toString()===t.location.uri.toString())},e}();t.DiagnosticRelatedInformation=b;var E=function(){function e(e,t,i){void 0===i&&(i=y.Error),this.range=e,this.message=t,this.severity=i}return e.prototype.toJSON=function(){return{severity:y[this.severity],message:this.message,range:this.range,source:this.source,code:this.code}},e.isEqual=function(e,t){return e===t||!(!e||!t)&&(e.message===t.message&&e.severity===t.severity&&e.code===t.code&&e.severity===t.severity&&e.source===t.source&&e.range.isEqual(t.range)&&u.equals(e.tags,t.tags)&&u.equals(e.relatedInformation,t.relatedInformation,b.isEqual))},e}();t.Diagnostic=E;var _=function(){return function(e,t){if(!e)throw new Error("Illegal argument, contents must be defined")
;Array.isArray(e)?this.contents=e:(s.isMarkdownString(e),this.contents=[e]),this.range=t}}();t.Hover=_;var C;!function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(C=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var w=function(){function e(e,t){void 0===t&&(t=C.Text),this.range=e,this.kind=t}return e.prototype.toJSON=function(){return{range:this.range,kind:C[this.kind]}},e}();t.DocumentHighlight=w;var I;!function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null",e[e.EnumMember=21]="EnumMember",e[e.Struct=22]="Struct",
e[e.Event=23]="Event",e[e.Operator=24]="Operator",e[e.TypeParameter=25]="TypeParameter"}(I=t.SymbolKind||(t.SymbolKind={}));var x=function(){function e(t,i,n,r,o){this.name=t,this.kind=i,this.containerName=o,"string"==typeof n&&(this.containerName=n),r instanceof S?this.location=r:n instanceof h&&(this.location=new S(r,n)),e.validate(this)}return e.validate=function(e){if(!e.name)throw new Error("name must not be falsy")},e.prototype.toJSON=function(){return{name:this.name,kind:I[this.kind],location:this.location,containerName:this.containerName}},e}();t.SymbolInformation=x;var D=function(){function e(t,i,n,r,o){this.name=t,this.detail=i,this.kind=n,this.range=r,this.selectionRange=o,this.children=[],e.validate(this)}return e.validate=function(t){if(!t.name)throw new Error("name must not be falsy");if(!t.range.contains(t.selectionRange))throw new Error("selectionRange must be contained in fullRange");t.children&&t.children.forEach(e.validate)},e}();t.DocumentSymbol=D;!function(e){e[e.Automatic=1]="Automatic",
e[e.Manual=2]="Manual"}(t.CodeActionTrigger||(t.CodeActionTrigger={}));var T=function(){return function(e,t){this.title=e,this.kind=t}}();t.CodeAction=T;var R=function(){function e(e){this.value=e}return e.prototype.append=function(t){return new e(this.value?this.value+e.sep+t:t)},e.prototype.contains=function(t){return this.value===t.value||c.startsWith(t.value,this.value+e.sep)},e.sep=".",e.Empty=new e(""),e.QuickFix=e.Empty.append("quickfix"),e.Refactor=e.Empty.append("refactor"),e.RefactorExtract=e.Refactor.append("extract"),e.RefactorInline=e.Refactor.append("inline"),e.RefactorRewrite=e.Refactor.append("rewrite"),e.Source=e.Empty.append("source"),e.SourceOrganizeImports=e.Source.append("organizeImports"),e}();t.CodeActionKind=R;var A=function(){function e(e,t){this.range=e,this.command=t}return Object.defineProperty(e.prototype,"isResolved",{get:function(){return!!this.command},enumerable:!0,configurable:!0}),e}();t.CodeLens=A;var O=function(){function e(e){this.value=e||""}
return e.prototype.appendText=function(e){return this.value+=e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&"),this},e.prototype.appendMarkdown=function(e){return this.value+=e,this},e.prototype.appendCodeblock=function(e,t){return void 0===t&&(t=""),this.value+="\n```",this.value+=t,this.value+="\n",this.value+=e,this.value+="\n```\n",this},e}();t.MarkdownString=O;var k=function(){return function(e,t){this.label=e,this.documentation=t}}();t.ParameterInformation=k;var M=function(){return function(e,t){this.label=e,this.documentation=t,this.parameters=[]}}();t.SignatureInformation=M;var P=function(){return function(){this.signatures=[]}}();t.SignatureHelp=P;!function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(t.SignatureHelpTriggerReason||(t.SignatureHelpTriggerReason={}));!function(e){e[e.Invoke=0]="Invoke",e[e.TriggerCharacter=1]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"
}(t.CompletionTriggerKind||(t.CompletionTriggerKind={}));var L;!function(e){e[e.Text=0]="Text",e[e.Method=1]="Method",e[e.Function=2]="Function",e[e.Constructor=3]="Constructor",e[e.Field=4]="Field",e[e.Variable=5]="Variable",e[e.Class=6]="Class",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Unit=10]="Unit",e[e.Value=11]="Value",e[e.Enum=12]="Enum",e[e.Keyword=13]="Keyword",e[e.Snippet=14]="Snippet",e[e.Color=15]="Color",e[e.File=16]="File",e[e.Reference=17]="Reference",e[e.Folder=18]="Folder",e[e.EnumMember=19]="EnumMember",e[e.Constant=20]="Constant",e[e.Struct=21]="Struct",e[e.Event=22]="Event",e[e.Operator=23]="Operator",e[e.TypeParameter=24]="TypeParameter"}(L=t.CompletionItemKind||(t.CompletionItemKind={}));!function(e){e[e.KeepWhitespace=1]="KeepWhitespace"}(t.CompletionItemInsertTextRule||(t.CompletionItemInsertTextRule={}));var F=function(){function e(e,t){this.label=e,this.kind=t}return e.prototype.toJSON=function(){return{label:this.label,
kind:this.kind&&L[this.kind],detail:this.detail,documentation:this.documentation,sortText:this.sortText,filterText:this.filterText,preselect:this.preselect,insertText:this.insertText,textEdit:this.textEdit}},e}();t.CompletionItem=F;var N=function(){return function(e,t){void 0===e&&(e=[]),void 0===t&&(t=!1),this.items=e,this.isIncomplete=t}}();t.CompletionList=N;!function(e){e[e.Active=-1]="Active",e[e.Beside=-2]="Beside",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five",e[e.Six=6]="Six",e[e.Seven=7]="Seven",e[e.Eight=8]="Eight",e[e.Nine=9]="Nine"}(t.ViewColumn||(t.ViewColumn={}));!function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(t.StatusBarAlignment||(t.StatusBarAlignment={}));!function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative"}(t.TextEditorLineNumbersStyle||(t.TextEditorLineNumbersStyle={}));!function(e){e[e.Manual=1]="Manual",e[e.AfterDelay=2]="AfterDelay",e[e.FocusOut=3]="FocusOut"}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={}))
;!function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",e[e.AtTop=3]="AtTop"}(t.TextEditorRevealType||(t.TextEditorRevealType={}));!function(e){e[e.Keyboard=1]="Keyboard",e[e.Mouse=2]="Mouse",e[e.Command=3]="Command"}(t.TextEditorSelectionChangeKind||(t.TextEditorSelectionChangeKind={}));!function(e){e[e.OpenOpen=0]="OpenOpen",e[e.ClosedClosed=1]="ClosedClosed",e[e.OpenClosed=2]="OpenClosed",e[e.ClosedOpen=3]="ClosedOpen"}(t.DecorationRangeBehavior||(t.DecorationRangeBehavior={})),function(e){e.fromValue=function(t){switch(t){case"keyboard":return e.Keyboard;case"mouse":return e.Mouse;case"api":return e.Command}}}(t.TextEditorSelectionChangeKind||(t.TextEditorSelectionChangeKind={}));var B=function(){return function(e,t){if(t&&!(t instanceof r.URI))throw o.illegalArgument("target");if(!h.isRange(e)||e.isEmpty)throw o.illegalArgument("range");this.range=e,this.target=t}}();t.DocumentLink=B;var W=function(){return function(e,t,i,n){
this.red=e,this.green=t,this.blue=i,this.alpha=n}}();t.Color=W;var V=function(){return function(e,t){if(t&&!(t instanceof W))throw o.illegalArgument("color");if(!h.isRange(e)||e.isEmpty)throw o.illegalArgument("range");this.range=e,this.color=t}}();t.ColorInformation=V;var z=function(){return function(e){if(!e||"string"!=typeof e)throw o.illegalArgument("label");this.label=e}}();t.ColorPresentation=z;!function(e){e[e.RGB=0]="RGB",e[e.HEX=1]="HEX",e[e.HSL=2]="HSL"}(t.ColorFormat||(t.ColorFormat={}));!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Information=2]="Information"}(t.SourceControlInputBoxValidationType||(t.SourceControlInputBoxValidationType={}));!function(e){e[e.Always=1]="Always",e[e.Silent=2]="Silent",e[e.Never=3]="Never"}(t.TaskRevealKind||(t.TaskRevealKind={}));!function(e){e[e.Shared=1]="Shared",e[e.Dedicated=2]="Dedicated",e[e.New=3]="New"}(t.TaskPanelKind||(t.TaskPanelKind={}));var G=function(){function e(e,t){if("string"!=typeof e)throw o.illegalArgument("name")
;if("string"!=typeof t)throw o.illegalArgument("name");this._id=e}return e.from=function(t){switch(t){case"clean":return e.Clean;case"build":return e.Build;case"rebuild":return e.Rebuild;case"test":return e.Test;default:return}},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.Clean=new e("clean","Clean"),e.Build=new e("build","Build"),e.Rebuild=new e("rebuild","Rebuild"),e.Test=new e("test","Test"),e}();t.TaskGroup=G;var K=function(){function e(e,t,i){if("string"!=typeof e)throw o.illegalArgument("process");this._process=e,void 0!==t&&(Array.isArray(t)?(this._args=t,this._options=i):this._options=t),void 0===this._args&&(this._args=[])}return Object.defineProperty(e.prototype,"process",{get:function(){return this._process},set:function(e){if("string"!=typeof e)throw o.illegalArgument("process");this._process=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"args",{get:function(){return this._args},set:function(e){
Array.isArray(e)||(e=[]),this._args=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){this._options=e},enumerable:!0,configurable:!0}),e.prototype.computeId=function(){var e=n.createHash("md5");if(e.update("process"),void 0!==this._process&&e.update(this._process),this._args&&this._args.length>0)for(var t=0,i=this._args;t<i.length;t++){var r=i[t];e.update(r)}return e.digest("hex")},e}();t.ProcessExecution=K;var H=function(){function e(e,t,i){if(Array.isArray(t)){if(!e)throw o.illegalArgument("command can't be undefined or null");if("string"!=typeof e&&"string"!=typeof e.value)throw o.illegalArgument("command");this._command=e,this._args=t,this._options=i}else{if("string"!=typeof e)throw o.illegalArgument("commandLine");this._commandLine=e,this._options=t}}return Object.defineProperty(e.prototype,"commandLine",{get:function(){return this._commandLine},set:function(e){if("string"!=typeof e)throw o.illegalArgument("commandLine")
;this._commandLine=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"command",{get:function(){return this._command},set:function(e){if("string"!=typeof e&&"string"!=typeof e.value)throw o.illegalArgument("command");this._command=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"args",{get:function(){return this._args},set:function(e){this._args=e||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){this._options=e},enumerable:!0,configurable:!0}),e.prototype.computeId=function(){var e=n.createHash("md5");if(e.update("shell"),void 0!==this._commandLine&&e.update(this._commandLine),void 0!==this._command&&e.update("string"==typeof this._command?this._command:this._command.value),this._args&&this._args.length>0)for(var t=0,i=this._args;t<i.length;t++){var r=i[t];e.update("string"==typeof r?r:r.value)}return e.digest("hex")},e}();t.ShellExecution=H;!function(e){e[e.Escape=1]="Escape",
e[e.Strong=2]="Strong",e[e.Weak=3]="Weak"}(t.ShellQuoting||(t.ShellQuoting={}));var U;!function(e){e[e.Global=1]="Global",e[e.Workspace=2]="Workspace"}(U=t.TaskScope||(t.TaskScope={}));var j=function(){function e(e,t,i,n,r,o){this.definition=e;var s;"string"==typeof t?(this.name=t,this.source=i,this.execution=n,s=r):(t===U.Global||U.Workspace,this.target=t,this.name=i,this.source=n,this.execution=r,s=o),"string"==typeof s?(this._problemMatchers=[s],this._hasDefinedMatchers=!0):Array.isArray(s)?(this._problemMatchers=s,this._hasDefinedMatchers=!0):(this._problemMatchers=[],this._hasDefinedMatchers=!1),this._isBackground=!1}return Object.defineProperty(e.prototype,"_id",{get:function(){return this.__id},set:function(e){this.__id=e},enumerable:!0,configurable:!0}),e.prototype.clear=function(){void 0!==this.__id&&(this.__id=void 0,this._scope=void 0,this._definition=void 0,this._execution instanceof K?this._definition={type:"process",id:this._execution.computeId()
}:this._execution instanceof H&&(this._definition={type:"shell",id:this._execution.computeId()}))},Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(e){if(void 0===e||null===e)throw o.illegalArgument("Kind can't be undefined or null");this.clear(),this._definition=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this._scope},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{set:function(e){this.clear(),this._scope=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){if("string"!=typeof e)throw o.illegalArgument("name");this.clear(),this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"execution",{get:function(){return this._execution},set:function(e){null===e&&(e=void 0),this.clear(),this._execution=e},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"problemMatchers",{get:function(){return this._problemMatchers},set:function(e){if(!Array.isArray(e))return this._problemMatchers=[],void(this._hasDefinedMatchers=!1);this.clear(),this._problemMatchers=e,this._hasDefinedMatchers=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasDefinedMatchers",{get:function(){return this._hasDefinedMatchers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBackground",{get:function(){return this._isBackground},set:function(e){!0!==e&&!1!==e&&(e=!1),this.clear(),this._isBackground=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(e){if("string"!=typeof e||0===e.length)throw o.illegalArgument("source must be a string of length > 0");this.clear(),this._source=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"group",{get:function(){return this._group},set:function(e){void 0!==e&&null!==e?(this.clear(),
this._group=e):this._group=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentationOptions",{get:function(){return this._presentationOptions},set:function(e){null===e&&(e=void 0),this.clear(),this._presentationOptions=e},enumerable:!0,configurable:!0}),e}();t.Task=j;!function(e){e[e.SourceControl=1]="SourceControl",e[e.Window=10]="Window",e[e.Notification=15]="Notification"}(t.ProgressLocation||(t.ProgressLocation={}));var q=function(){return function(e,t){void 0===t&&(t=$.None),this.collapsibleState=t,e instanceof r.URI?this.resourceUri=e:this.label=e}}();t.TreeItem=q;var $;!function(e){e[e.None=0]="None",e[e.Collapsed=1]="Collapsed",e[e.Expanded=2]="Expanded"}($=t.TreeItemCollapsibleState||(t.TreeItemCollapsibleState={}));var Q=function(){function e(e){this.id=e}return e.File=new e("file"),e.Folder=new e("folder"),e}();t.ThemeIcon=Q;var Y=function(){return function(e){this.id=e}}();t.ThemeColor=Y;!function(e){e[e.Global=1]="Global",e[e.Workspace=2]="Workspace",
e[e.WorkspaceFolder=3]="WorkspaceFolder"}(t.ConfigurationTarget||(t.ConfigurationTarget={}));var X=function(){function e(e,t){if(!("string"==typeof e||e&&r.URI.isUri(e.uri)))throw o.illegalArgument("base");if("string"!=typeof t)throw o.illegalArgument("pattern");"string"==typeof e?this.base=e:(this.baseFolder=e.uri,this.base=e.uri.fsPath),this.pattern=t}return e.prototype.pathToRelative=function(e,t){return a.relative(e,t)},e}();t.RelativePattern=X;var J=function(){return function(e,t,i,n){this.enabled="boolean"!=typeof e||e,"string"==typeof t&&(this.condition=t),"string"==typeof i&&(this.hitCondition=i),"string"==typeof n&&(this.logMessage=n)}}();t.Breakpoint=J;var Z=function(e){function t(t,i,n,r,s){var a=e.call(this,i,n,r,s)||this;if(null===t)throw o.illegalArgument("location");return a.location=t,a}return i(t,e),t}(J);t.SourceBreakpoint=Z;var ee=function(e){function t(t,i,n,r,s){var a=e.call(this,i,n,r,s)||this;if(!t)throw o.illegalArgument("functionName");return a.functionName=t,a}return i(t,e),t}(J)
;t.FunctionBreakpoint=ee;var te=function(){return function(e,t,i,n){this.type="executable",this.command=e,this.args=t,this.env=i,this.cwd=n}}();t.DebugAdapterExecutable=te;var ie=function(){return function(e,t){this.type="server",this.port=e,this.host=t}}();t.DebugAdapterServer=ie;var ne=function(){return function(e){this.type="implementation",this.implementation=e}}();t.DebugAdapterImplementation=ne;!function(e){e[e.Trace=1]="Trace",e[e.Debug=2]="Debug",e[e.Info=3]="Info",e[e.Warning=4]="Warning",e[e.Error=5]="Error",e[e.Critical=6]="Critical",e[e.Off=7]="Off"}(t.LogLevel||(t.LogLevel={}));!function(e){e[e.Changed=1]="Changed",e[e.Created=2]="Created",e[e.Deleted=3]="Deleted"}(t.FileChangeType||(t.FileChangeType={}));var re=function(e){function t(i,n,o){var s=e.call(this,r.URI.isUri(i)?i.toString(!0):i)||this;return s.name=n?n+" (FileSystemError)":"FileSystemError","function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(s,t.prototype),
"function"==typeof Error.captureStackTrace&&"function"==typeof o&&Error.captureStackTrace(s,o),s}return i(t,e),t.FileExists=function(e){return new t(e,"EntryExists",t.FileExists)},t.FileNotFound=function(e){return new t(e,"EntryNotFound",t.FileNotFound)},t.FileNotADirectory=function(e){return new t(e,"EntryNotADirectory",t.FileNotADirectory)},t.FileIsADirectory=function(e){return new t(e,"EntryIsADirectory",t.FileIsADirectory)},t.NoPermissions=function(e){return new t(e,"NoPermissions",t.NoPermissions)},t.Unavailable=function(e){return new t(e,"Unavailable",t.Unavailable)},t}(Error);t.FileSystemError=re;var oe=function(){return function(e,t,i){this.start=e,this.end=t,this.kind=i}}();t.FoldingRange=oe;!function(e){e[e.Comment=1]="Comment",e[e.Imports=2]="Imports",e[e.Region=3]="Region"}(t.FoldingRangeKind||(t.FoldingRangeKind={}));!function(e){e[e.Collapsed=0]="Collapsed",e[e.Expanded=1]="Expanded"}(t.CommentThreadCollapsibleState||(t.CommentThreadCollapsibleState={}));var se=function(){function e(){}
return e.Back={iconPath:"back.svg"},e}();t.QuickInputButtons=se}),define(e[111],t([1,0,7,53]),function(e,t,i,n){"use strict";function r(e){if(!e.length)return e;for(var t=-1,i=0;i<e.length;i++)if(e[i].id!==n.Separator.ID){t=i;break}if(-1===t)return[];for(var r=(e=e.slice(t)).length-1;r>=0;r--){if(!(a=e[r].id===n.Separator.ID))break;e.splice(r,1)}for(var o=!1,s=e.length-1;s>=0;s--){var a=e[s].id===n.Separator.ID;a&&!o?e.splice(s,1):a?a&&(o=!1):o=!0}return e}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.hasActions=function(e){return!1},e.prototype.getActions=function(e){return[]},e.prototype.hasSecondaryActions=function(e){return!1},e.prototype.getSecondaryActions=function(e){return[]},e.prototype.getActionItem=function(e,t){return null},e}();t.ActionBarContributor=o,t.Scope={VIEWER:"viewer"};var s=function(){function e(){this.registry=i.Registry.as(t.Extensions.Actionbar)}return e.prototype.toContext=function(e,t){return{viewer:e,element:t}},
e.prototype.hasActions=function(e,i){for(var n=this.toContext(e,i),r=this.registry.getActionBarContributors(t.Scope.VIEWER),o=0;o<r.length;o++){if(r[o].hasActions(n))return!0}return!1},e.prototype.getActions=function(e,i){for(var n=[],o=this.toContext(e,i),s=this.registry.getActionBarContributors(t.Scope.VIEWER),a=0;a<s.length;a++){var c=s[a];c.hasActions(o)&&n.push.apply(n,c.getActions(o))}return r(n)},e.prototype.hasSecondaryActions=function(e,i){for(var n=this.toContext(e,i),r=this.registry.getActionBarContributors(t.Scope.VIEWER),o=0;o<r.length;o++){if(r[o].hasSecondaryActions(n))return!0}return!1},e.prototype.getSecondaryActions=function(e,i){for(var n=[],o=this.toContext(e,i),s=this.registry.getActionBarContributors(t.Scope.VIEWER),a=0;a<s.length;a++){var c=s[a];c.hasSecondaryActions(o)&&n.push.apply(n,c.getSecondaryActions(o))}return r(n)},e.prototype.getActionItem=function(e,i,n){for(var r=this.registry.getActionBarContributors(t.Scope.VIEWER),o=this.toContext(e,i),s=r.length-1;s>=0;s--){
var a=r[s].getActionItem(o,n);if(a)return a}return null},e}();t.ContributableActionProvider=s,t.prepareActions=r,t.Extensions={Actionbar:"workbench.contributions.actionbar"};var a=function(){function e(){this.actionBarContributorConstructors=[],this.actionBarContributorInstances=Object.create(null)}return e.prototype.setInstantiationService=function(e){for(this.instantiationService=e;this.actionBarContributorConstructors.length>0;){var t=this.actionBarContributorConstructors.shift();this.createActionBarContributor(t.scope,t.ctor)}},e.prototype.createActionBarContributor=function(e,t){var i=this.instantiationService.createInstance(t),n=this.actionBarContributorInstances[e];n||(n=this.actionBarContributorInstances[e]=[]),n.push(i)},e.prototype.getContributors=function(e){return this.actionBarContributorInstances[e]||[]},e.prototype.getActionBarActionsForContext=function(e,t){var i=[];return this.getContributors(e).forEach(function(e){e.hasActions(t)&&i.push.apply(i,e.getActions(t))}),i},
e.prototype.getSecondaryActionBarActionsForContext=function(e,t){var i=[];return this.getContributors(e).forEach(function(e){e.hasSecondaryActions(t)&&i.push.apply(i,e.getSecondaryActions(t))}),i},e.prototype.getActionItemForContext=function(e,t,i){for(var n=this.getContributors(e),r=0;r<n.length;r++){var o=n[r].getActionItem(t,i);if(o)return o}return null},e.prototype.registerActionBarContributor=function(e,t){this.instantiationService?this.createActionBarContributor(e,t):this.actionBarContributorConstructors.push({scope:e,ctor:t})},e.prototype.getActionBarContributors=function(e){return this.getContributors(e).slice(0)},e}();i.Registry.add(t.Extensions.Actionbar,new a)}),define(e[124],t([1,0,5,2,75,95,4,7]),function(e,t,i,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IBreadcrumbsService=s.createDecorator("IEditorBreadcrumbsService");var c=function(){function e(){this._map=new Map}return e.prototype.register=function(e,t){var i=this
;if(this._map.has(e))throw new Error("group ("+e+") has already a widget");return this._map.set(e,t),{dispose:function(){return i._map.delete(e)}}},e.prototype.getWidget=function(e){return this._map.get(e)},e}();t.BreadcrumbsService=c,o.registerSingleton(t.IBreadcrumbsService,c);var l=function(){function e(){}return e._stub=function(e){return{bindTo:function(t){var n=new i.Emitter,r=t.onDidChangeConfiguration(function(t){t.affectsConfiguration(e)&&n.fire(void 0)});return new(function(){function i(){this.name=e,this.onDidChange=n.event}return i.prototype.getValue=function(i){return t.getValue(e,i)},i.prototype.updateValue=function(i,n){return t.updateValue(e,i,n)},i.prototype.dispose=function(){r.dispose(),n.dispose()},i}())}}},e.IsEnabled=e._stub("breadcrumbs.enabled"),e.UseQuickPick=e._stub("breadcrumbs.useQuickPick"),e.FilePath=e._stub("breadcrumbs.filePath"),e.SymbolPath=e._stub("breadcrumbs.symbolPath"),e.SymbolSortOrder=e._stub("breadcrumbs.symbolSortOrder"),
e.FilterOnType=e._stub("breadcrumbs.filterOnType"),e.FileExcludes=e._stub("files.exclude"),e}();t.BreadcrumbsConfig=l,a.Registry.as(r.Extensions.Configuration).registerConfiguration({id:"breadcrumbs",title:n.localize("title","Breadcrumb Navigation"),order:101,type:"object",properties:{"breadcrumbs.enabled":{description:n.localize("enabled","Enable/disable navigation breadcrumbs"),type:"boolean",default:!1},"breadcrumbs.filePath":{description:n.localize("filepath","Controls whether and how file paths are shown in the breadcrumbs view."),type:"string",default:"on",enum:["on","off","last"],enumDescriptions:[n.localize("filepath.on","Show the file path in the breadcrumbs view."),n.localize("filepath.off","Do not show the file path in the breadcrumbs view."),n.localize("filepath.last","Only show the last element of the file path in the breadcrumbs view.")]},"breadcrumbs.symbolPath":{description:n.localize("symbolpath","Controls whether and how symbols are shown in the breadcrumbs view."),type:"string",
default:"on",enum:["on","off","last"],enumDescriptions:[n.localize("symbolpath.on","Show all symbols in the breadcrumbs view."),n.localize("symbolpath.off","Do not show symbols in the breadcrumbs view."),n.localize("symbolpath.last","Only show the current symbol in the breadcrumbs view.")]},"breadcrumbs.symbolSortOrder":{description:n.localize("symbolSortOrder","Controls how symbols are sorted in the breadcrumbs outline view."),type:"string",default:"position",enum:["position","name","type"],enumDescriptions:[n.localize("symbolSortOrder.position","Show symbol outline in file position order."),n.localize("symbolSortOrder.name","Show symbol outline in alphabetical order."),n.localize("symbolSortOrder.type","Show symbol outline in symbol type order.")]}}})}),define(e[215],t([1,0,19,13,52,90,18,5,3,24,79,148,21,32,9,124,16]),function(e,t,i,n,s,a,c,l,u,d,p,h,f,g,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(){return function(e,t){this.uri=e,this.kind=t}}();t.FileElement=S
;var b=function(){function e(t,i,n,r){var o=this;this._uri=t,this._editor=i,this._disposables=[],this._outlineElements=[],this._outlineDisposables=[],this._onDidUpdate=new l.Emitter,this.onDidUpdate=this._onDidUpdate.event,this._cfgFilePath=m.BreadcrumbsConfig.FilePath.bindTo(r),this._cfgSymbolPath=m.BreadcrumbsConfig.SymbolPath.bindTo(r),this._disposables.push(this._cfgFilePath.onDidChange(function(e){return o._onDidUpdate.fire(o)})),this._disposables.push(this._cfgSymbolPath.onDidChange(function(e){return o._onDidUpdate.fire(o)})),this._fileInfo=e._initFilePathInfo(this._uri,n),this._bindToEditor(),this._onDidUpdate.fire(this)}return e.prototype.dispose=function(){this._cfgFilePath.dispose(),this._cfgSymbolPath.dispose(),u.dispose(this._disposables)},e.prototype.isRelative=function(){return Boolean(this._fileInfo.folder)},e.prototype.getElements=function(){var e=[]
;return"on"===this._cfgFilePath.getValue()?e=e.concat(this._fileInfo.path):"last"===this._cfgFilePath.getValue()&&this._fileInfo.path.length>0&&(e=e.concat(this._fileInfo.path.slice(-1))),"on"===this._cfgSymbolPath.getValue()?e=e.concat(this._outlineElements):"last"===this._cfgSymbolPath.getValue()&&this._outlineElements.length>0&&(e=e.concat(this._outlineElements.slice(-1))),e},e._initFilePathInfo=function(e,t){if(e.scheme===g.Schemas.untitled)return{folder:void 0,path:[]};for(var i={folder:t.getWorkspaceFolder(e),path:[]};!("/"===e.path||i.folder&&d.isEqual(i.folder.uri,e));)i.path.unshift(new S(e,0===i.path.length?y.FileKind.FILE:y.FileKind.FOLDER)),e=d.dirname(e);return i.folder&&3===t.getWorkbenchState()&&i.path.unshift(new S(i.folder.uri,y.FileKind.ROOT_FOLDER)),i},e.prototype._bindToEditor=function(){var e=this;this._editor&&(this._disposables.push(p.DocumentSymbolProviderRegistry.onDidChange(function(t){return e._updateOutline()})),this._disposables.push(this._editor.onDidChangeModel(function(t){
return e._updateOutline()})),this._disposables.push(this._editor.onDidChangeModelLanguage(function(t){return e._updateOutline()})),this._disposables.push(l.debounceEvent(this._editor.onDidChangeModelContent,function(e){return e},350)(function(t){return e._updateOutline(!0)})),this._updateOutline(),this._disposables.push(this._editor.onDidDispose(function(){return e._outlineDisposables=u.dispose(e._outlineDisposables)})))},e.prototype._updateOutline=function(e){var t=this;this._outlineDisposables=u.dispose(this._outlineDisposables),e||this._updateOutlineElements([]);var i=this._editor.getModel();if(i&&p.DocumentSymbolProviderRegistry.has(i)&&d.isEqual(i.uri,this._uri)){var r=new s.CancellationTokenSource,o=i.getVersionId(),a=new n.TimeoutTimer;this._outlineDisposables.push({dispose:function(){r.cancel(),r.dispose(),a.dispose()}}),h.OutlineModel.create(i,r.token).then(function(e){h.TreeElement.empty(e)?t._updateOutlineElements([]):(e=e.adopt(),
t._updateOutlineElements(t._getOutlineElements(e,t._editor.getPosition())),t._outlineDisposables.push(t._editor.onDidChangeCursorPosition(function(n){a.cancelAndSet(function(){!i.isDisposed()&&o===i.getVersionId()&&t._editor.getModel()&&t._updateOutlineElements(t._getOutlineElements(e,t._editor.getPosition()))},150)})))}).catch(function(e){t._updateOutlineElements([]),c.onUnexpectedError(e)})}},e.prototype._getOutlineElements=function(e,t){if(!e)return[];var i=e.getItemEnclosingPosition(t);if(!i)return[e];for(var n=[];i;){n.push(i);var r=i.parent;if(r instanceof h.OutlineModel)break;if(r instanceof h.OutlineGroup&&1===a.size(r.parent.children))break;i=r}return n.reverse()},e.prototype._updateOutlineElements=function(t){i.equals(t,this._outlineElements,e._outlineElementEquals)||(this._outlineElements=t,this._onDidUpdate.fire(this))},e._outlineElementEquals=function(e,t){return e===t||!(!e||!t)&&e.id===t.id},e=r([o(2,f.IWorkspaceContextService),o(3,v.IConfigurationService)],e)}();t.EditorBreadcrumbsModel=b}),
define(e[213],t([1,0,98,5,43,12,8,50,27,4,42,21,32,178,33,3,2,24]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=function(e){function t(t,i,n,r,o){var a=e.call(this)||this;if(a.editor=t,a.label=i,a.themeService=o,a._onClick=a._register(new s.Emitter),n){var c=r.lookupKeybinding(n);c&&(a.label+=" ("+c.getLabel()+")")}return a}return i(t,e),Object.defineProperty(t.prototype,"onClick",{get:function(){return this._onClick.event},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return"editor.overlayWidget.floatingClickWidget"},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:1}},t.prototype.render=function(){var e=this;this._domNode=l.$(".floating-click-widget"),this._register(u.attachStylerCallback(this.themeService,{buttonBackground:d.buttonBackground,buttonForeground:d.buttonForeground,editorBackground:d.editorBackground,editorForeground:d.editorForeground,
contrastBorder:d.contrastBorder},function(t){var i=t.buttonBackground?t.buttonBackground:t.editorBackground;i&&(e._domNode.style.backgroundColor=i.toString());var n=t.buttonForeground?t.buttonForeground:t.editorForeground;n&&(e._domNode.style.color=n.toString());var r=t.contrastBorder?t.contrastBorder.toString():null;e._domNode.style.borderWidth=r?"1px":null,e._domNode.style.borderStyle=r?"solid":null,e._domNode.style.borderColor=r})),l.append(this._domNode,l.$("")).textContent=this.label,this.onclick(this._domNode,function(t){return e._onClick.fire()}),this.editor.addOverlayWidget(this)},t.prototype.dispose=function(){this.editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t=r([o(3,a.IKeybindingService),o(4,c.IThemeService)],t)}(n.Widget);t.FloatingClickWidget=E;var _=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.editor=t,o.instantiationService=i,o.windowService=n,o.contextService=r,o.update(),o.registerListeners(),o}return i(t,e),t.get=function(e){
return e.getContribution(t.ID)},t.prototype.registerListeners=function(){var e=this;this._register(this.editor.onDidChangeModel(function(t){return e.update()}))},t.prototype.getId=function(){return t.ID},t.prototype.update=function(){this.shouldShowButton(this.editor)?this.createOpenWorkspaceWidgetRenderer():this.disposeOpenWorkspaceWidgetRenderer()},t.prototype.shouldShowButton=function(e){var t=e.getModel();if(!t)return!1;if(t.uri.scheme!==g.Schemas.file||m.extname(t.uri.fsPath)!=="."+v.WORKSPACE_EXTENSION)return!1;if(3===this.contextService.getWorkbenchState()){var i=this.contextService.getWorkspace().configuration;if(i&&b.isEqual(i,t.uri))return!1}return!0},t.prototype.createOpenWorkspaceWidgetRenderer=function(){var e=this;this.openWorkspaceButton||(this.openWorkspaceButton=this.instantiationService.createInstance(E,this.editor,S.localize("openWorkspace","Open Workspace"),null),this._register(this.openWorkspaceButton.onClick(function(){var t=e.editor.getModel();t&&e.windowService.openWindow([t.uri])})),
this.openWorkspaceButton.render())},t.prototype.disposeOpenWorkspaceWidgetRenderer=function(){this.openWorkspaceButton=y.dispose(this.openWorkspaceButton)},t.prototype.dispose=function(){this.disposeOpenWorkspaceWidgetRenderer(),e.prototype.dispose.call(this)},t.ID="editor.contrib.openWorkspaceButton",t=r([o(1,p.IInstantiationService),o(2,h.IWindowService),o(3,f.IWorkspaceContextService)],t)}(y.Disposable);t.OpenWorkspaceButtonContribution=_}),define(e[360],t([1,0,8,159,27,3,72,184,160]),function(e,t,i,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=i.$,l=function(){function e(e){var t=this;this.parent=e,this.disposables=[],this.onKeyDown=function(e){return i.addDisposableListener(t.inputBox.inputElement,i.EventType.KEY_DOWN,function(t){e(new s.StandardKeyboardEvent(t))})},this.onDidChange=function(e){return t.inputBox.onDidChange(e)},this.container=i.append(this.parent,c(".quick-input-box")),this.inputBox=new n.InputBox(this.container,null),this.disposables.push(this.inputBox)}
return Object.defineProperty(e.prototype,"value",{get:function(){return this.inputBox.value},set:function(e){this.inputBox.value=e},enumerable:!0,configurable:!0}),e.prototype.select=function(e){void 0===e&&(e=null),this.inputBox.select(e)},e.prototype.setPlaceholder=function(e){this.inputBox.setPlaceHolder(e)},Object.defineProperty(e.prototype,"placeholder",{get:function(){return this.inputBox.inputElement.getAttribute("placeholder")},set:function(e){this.inputBox.setPlaceHolder(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return"password"===this.inputBox.inputElement.type},set:function(e){this.inputBox.inputElement.type=e?"password":"text"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{set:function(e){this.inputBox.setEnabled(e)},enumerable:!0,configurable:!0}),e.prototype.setAttribute=function(e,t){this.inputBox.inputElement.setAttribute(e,t)},e.prototype.removeAttribute=function(e){
this.inputBox.inputElement.removeAttribute(e)},e.prototype.showDecoration=function(e){e===a.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===a.default.Info?1:e===a.default.Warning?2:3,content:""})},e.prototype.setFocus=function(){this.inputBox.focus()},e.prototype.layout=function(){this.inputBox.layout()},e.prototype.style=function(e){this.inputBox.style({inputForeground:e.getColor(r.inputForeground),inputBackground:e.getColor(r.inputBackground),inputBorder:e.getColor(r.inputBorder),inputValidationInfoBackground:e.getColor(r.inputValidationInfoBackground),inputValidationInfoForeground:e.getColor(r.inputValidationInfoForeground),inputValidationInfoBorder:e.getColor(r.inputValidationInfoBorder),inputValidationWarningBackground:e.getColor(r.inputValidationWarningBackground),inputValidationWarningForeground:e.getColor(r.inputValidationWarningForeground),inputValidationWarningBorder:e.getColor(r.inputValidationWarningBorder),
inputValidationErrorBackground:e.getColor(r.inputValidationErrorBackground),inputValidationErrorForeground:e.getColor(r.inputValidationErrorForeground),inputValidationErrorBorder:e.getColor(r.inputValidationErrorBorder)})},e.prototype.dispose=function(){this.disposables=o.dispose(this.disposables)},e}();t.QuickInputBox=l}),define(e[206],t([1,0,8,158,160]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},o=new n.IdGenerator("quick-input-button-icon-");t.getIconClass=function(e){var t,n=e.dark.toString();return r[n]?t=r[n]:(t=o.nextId(),i.createCSSRule("."+t,'background-image: url("'+(e.light||e.dark).toString()+'")'),i.createCSSRule(".vs-dark ."+t+", .hc-black ."+t,'background-image: url("'+e.dark.toString()+'")'),r[n]=t),t}}),define(e[368],t([1,0,8,3,59,4,399,190,5,39,72,204,220,164,19,20,27,12,53,14,206,160]),function(e,t,i,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C=i.$,w=function(){function e(e){
this.hidden=!1,this._onChecked=new u.Emitter,this.onChecked=this._onChecked.event,d.assign(this,e)}return Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))},enumerable:!0,configurable:!0}),e}(),I=function(){function e(){}return Object.defineProperty(e.prototype,"templateId",{get:function(){return e.ID},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=i.append(e,C(".quick-input-list-entry"));var n=i.append(t.entry,C("label.quick-input-list-label"));t.checkbox=i.append(n,C("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(i.addStandardDisposableListener(t.checkbox,i.EventType.CHANGE,function(e){t.element.checked=t.checkbox.checked}));var r=i.append(n,C(".quick-input-list-rows")),o=i.append(r,C(".quick-input-list-row")),s=i.append(r,C(".quick-input-list-row"))
;t.label=new h.IconLabel(o,{supportHighlights:!0,supportDescriptionHighlights:!0});var a=i.append(s,C(".quick-input-list-label-meta"));return t.detail=new f.HighlightedLabel(a,!0),t.separator=i.append(t.entry,C(".quick-input-list-separator")),t.actionBar=new b.ActionBar(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t},e.prototype.renderElement=function(e,t,r){r.toDisposeElement=n.dispose(r.toDisposeElement),r.element=e,r.checkbox.checked=e.checked,r.toDisposeElement.push(e.onChecked(function(e){return r.checkbox.checked=e}));var o=e.labelHighlights,s=e.descriptionHighlights,a=e.detailHighlights,l=Object.create(null);l.matches=o||[],l.descriptionTitle=e.saneDescription,l.descriptionMatches=s||[],l.extraClasses=e.item.iconClasses,r.label.setValue(e.saneLabel,e.saneDescription,l),r.detail.set(e.saneDetail,a),r.entry.setAttribute("aria-label",[e.saneLabel,e.saneDescription,e.saneDetail].map(function(e){return e&&c.parseOcticons(e).text
}).filter(function(e){return!!e}).join(", ")),e.separator&&e.separator.label?(r.separator.textContent=e.separator.label,r.separator.style.display=null):r.separator.style.display="none",e.separator?i.addClass(r.entry,"quick-input-list-separator-border"):i.removeClass(r.entry,"quick-input-list-separator-border"),r.actionBar.clear();var u=e.item.buttons;u&&u.length?(r.actionBar.push(u.map(function(t,i){var n=new E.Action("id-"+i,"",t.iconClass||_.getIconClass(t.iconPath),!0,function(){return e.fireButtonTriggered({button:t,item:e.item}),null});return n.tooltip=t.tooltip,n}),{icon:!0,label:!1}),i.addClass(r.entry,"has-actions")):i.removeClass(r.entry,"has-actions")},e.prototype.disposeElement=function(e,t,i){i.toDisposeElement=n.dispose(i.toDisposeElement)},e.prototype.disposeTemplate=function(e){e.toDisposeElement=n.dispose(e.toDisposeElement),e.toDisposeTemplate=n.dispose(e.toDisposeTemplate)},e.ID="listelement",e}(),x=function(){function e(){}return e.prototype.getHeight=function(e){return e.saneDetail?44:22},
e.prototype.getTemplateId=function(e){return I.ID},e}(),D=function(){function e(e,t,n){var r=this;this.parent=e,this.instantiationService=n,this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this._onChangedAllVisibleChecked=new u.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new u.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new u.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new u.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new u.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onLeave=new u.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=i.append(this.parent,C(".quick-input-list"));var o=new x
;this.list=this.instantiationService.createInstance(s.WorkbenchList,this.container,o,[new I],{identityProvider:function(e){return e.label},openController:{shouldOpen:function(){return!1}},setRowLineHeight:!1,multipleSelectionSupport:!1}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(function(e){switch(new p.StandardKeyboardEvent(e).keyCode){case 10:r.toggleCheckbox();break;case 31:(m.isMacintosh?e.metaKey:e.ctrlKey)&&r.list.setFocus(v.range(r.list.length));break;case 16:case 11:var t=r.list.getFocus();1===t.length&&0===t[0]&&r._onLeave.fire();break;case 18:case 12:var i=r.list.getFocus();1===i.length&&i[0]===r.list.length-1&&r._onLeave.fire()}})),this.disposables.push(i.addDisposableListener(this.container,i.EventType.CLICK,function(e){(e.x||e.y)&&r._onLeave.fire()}))}return Object.defineProperty(e.prototype,"onDidChangeFocus",{get:function(){return u.mapEvent(this.list.onFocusChange,function(e){return e.elements.map(function(e){return e.item})})},
enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeSelection",{get:function(){return u.mapEvent(this.list.onSelectionChange,function(e){return e.elements.map(function(e){return e.item})})},enumerable:!0,configurable:!0}),e.prototype.getAllVisibleChecked=function(){return this.allVisibleChecked(this.elements,!1)},e.prototype.allVisibleChecked=function(e,t){void 0===t&&(t=!0);for(var i=0,n=e.length;i<n;i++){var r=e[i];if(!r.hidden){if(!r.checked)return!1;t=!0}}return t},e.prototype.getCheckedCount=function(){for(var e=0,t=this.elements,i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e},e.prototype.getVisibleCount=function(){for(var e=0,t=this.elements,i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e},e.prototype.setAllVisibleChecked=function(e){try{this._fireCheckedEvents=!1,this.elements.forEach(function(t){t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}},e.prototype.setElements=function(e){var t,i=this
;this.elementDisposables=n.dispose(this.elementDisposables);var r=function(e){return i.fireButtonTriggered(e)};this.inputElements=e,this.elements=e.reduce(function(t,i,n){if("separator"!==i.type){var o=n&&e[n-1];t.push(new w({index:n,item:i,saneLabel:i.label&&i.label.replace(/\r?\n/g," "),saneDescription:i.description&&i.description.replace(/\r?\n/g," "),saneDetail:i.detail&&i.detail.replace(/\r?\n/g," "),checked:!1,separator:o&&"separator"===o.type?o:void 0,fireButtonTriggered:r}))}return t},[]),(t=this.elementDisposables).push.apply(t,this.elements.map(function(e){return e.onChecked(function(){return i.fireCheckedEvents()})})),this.elementsToIndexes=this.elements.reduce(function(e,t,i){return e.set(t.item,i),e},new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)},e.prototype.getFocusedElements=function(){return this.list.getFocusedElements().map(function(e){return e.item})},
e.prototype.setFocusedElements=function(e){var t=this;this.list.setFocus(e.filter(function(e){return t.elementsToIndexes.has(e)}).map(function(e){return t.elementsToIndexes.get(e)}))},e.prototype.getActiveDescendant=function(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")},e.prototype.getSelectedElements=function(){return this.list.getSelectedElements().map(function(e){return e.item})},e.prototype.setSelectedElements=function(e){var t=this;this.list.setSelection(e.filter(function(e){return t.elementsToIndexes.has(e)}).map(function(e){return t.elementsToIndexes.get(e)}))},e.prototype.getCheckedElements=function(){return this.elements.filter(function(e){return e.checked}).map(function(e){return e.item})},e.prototype.setCheckedElements=function(e){try{this._fireCheckedEvents=!1;for(var t=new Set,i=0,n=e;i<n.length;i++){var r=n[i];t.add(r)}for(var o=0,s=this.elements;o<s.length;o++){var a=s[o];a.checked=t.has(a.item)}}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}},
Object.defineProperty(e.prototype,"enabled",{set:function(e){this.list.getHTMLElement().style.pointerEvents=e?null:"none"},enumerable:!0,configurable:!0}),e.prototype.focus=function(e){this.list.length&&("Next"!==e&&"NextPage"!==e||this.list.getFocus()[0]!==this.list.length-1||(e="First"),"Previous"!==e&&"PreviousPage"!==e||0!==this.list.getFocus()[0]||(e="Last"),this.list["focus"+e](),this.list.reveal(this.list.getFocus()[0]))},e.prototype.clearFocus=function(){this.list.setFocus([])},e.prototype.domFocus=function(){this.list.domFocus()},e.prototype.layout=function(){this.list.layout()},e.prototype.filter=function(e){var t=this;(e=e.trim())?this.elements.forEach(function(i){var n=c.matchesFuzzyOcticonAware(e,c.parseOcticons(i.saneLabel)),r=t.matchOnDescription?c.matchesFuzzyOcticonAware(e,c.parseOcticons(i.saneDescription||"")):void 0,o=t.matchOnDetail?c.matchesFuzzyOcticonAware(e,c.parseOcticons(i.saneDetail||"")):void 0;n||r||o?(i.labelHighlights=n,i.descriptionHighlights=r,i.detailHighlights=o,
i.hidden=!1):(i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!i.item.alwaysShow),i.separator=void 0}):this.elements.forEach(function(e){e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;var i=e.index&&t.inputElements[e.index-1];e.separator=i&&"separator"===i.type?i:void 0});var i=this.elements.filter(function(e){return!e.hidden});if(e){var n=e.toLowerCase();i.sort(function(e,t){return function(e,t,i){var n=e.labelHighlights||[],r=t.labelHighlights||[];return n.length&&!r.length?-1:!n.length&&r.length?1:l.compareAnything(e.saneLabel,t.saneLabel,i)}(e,t,n)})}this.elementsToIndexes=i.reduce(function(e,t,i){return e.set(t.item,i),e},new Map),this.list.splice(0,this.list.length,i),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length)},e.prototype.toggleCheckbox=function(){try{this._fireCheckedEvents=!1
;for(var e=this.list.getFocusedElements(),t=this.allVisibleChecked(e),i=0,n=e;i<n.length;i++){n[i].checked=!t}}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}},e.prototype.display=function(e){this.container.style.display=e?"":"none"},e.prototype.isDisplayed=function(){return"none"!==this.container.style.display},e.prototype.dispose=function(){this.elementDisposables=n.dispose(this.elementDisposables),this.disposables=n.dispose(this.disposables)},e.prototype.fireCheckedEvents=function(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))},e.prototype.fireButtonTriggered=function(e){this._onButtonTriggered.fire(e)},r([g.memoize],e.prototype,"onDidChangeFocus",null),r([g.memoize],e.prototype,"onDidChangeSelection",null),e=r([o(2,a.IInstantiationService)],e)}();t.QuickInputList=D,S.registerThemingParticipant(function(e,t){
var i=e.getColor(y.listFocusBackground);i&&(t.addRule(".quick-input-list .monaco-list .monaco-list-row.focused { background-color:  "+i+"; }"),t.addRule(".quick-input-list .monaco-list .monaco-list-row.focused:hover { background-color:  "+i+"; }"));var n=e.getColor(y.pickerGroupBorder);n&&t.addRule(".quick-input-list .quick-input-list-entry { border-top-color:  "+n+"; }");var r=e.getColor(y.pickerGroupForeground);r&&t.addRule(".quick-input-list .quick-input-list-separator { color:  "+r+"; }")})}),define(e[110],t([1,0,2,14,54,61,43,11,34]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inQuickOpenContext=u.ContextKeyExpr.has("inQuickOpen"),t.defaultQuickOpenContextKey="inFilesPicker",t.defaultQuickOpenContext=u.ContextKeyExpr.and(t.inQuickOpenContext,u.ContextKeyExpr.has(t.defaultQuickOpenContextKey)),t.QUICKOPEN_ACTION_ID="workbench.action.quickOpen",t.QUICKOPEN_ACION_LABEL=n.localize("quickOpen","Go to File..."),
d.CommandsRegistry.registerCommand(t.QUICKOPEN_ACTION_ID,function(e,t){void 0===t&&(t=null);return e.get(a.IQuickOpenService).show("string"==typeof t?t:void 0).then(function(){})}),t.QUICKOPEN_FOCUS_SECONDARY_ACTION_ID="workbench.action.quickOpenPreviousEditor",d.CommandsRegistry.registerCommand(t.QUICKOPEN_FOCUS_SECONDARY_ACTION_ID,function(e,t){void 0===t&&(t=null);return e.get(a.IQuickOpenService).show(void 0,{autoFocus:{autoFocusSecondEntry:!0}}).then(function(){})});var p=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this,t,i)||this;return c.next=n,c.quickNavigate=r,c.quickOpenService=o,c.quickInputService=s,c.keybindingService=a,c}return i(t,e),t.prototype.run=function(e){var t=this.keybindingService.lookupKeybindings(this.id),i=this.quickNavigate?{keybindings:t}:void 0;return this.quickOpenService.navigate(this.next,i),this.quickInputService.navigate(this.next,i),Promise.resolve(!0)},t=r([o(4,a.IQuickOpenService),o(5,c.IQuickInputService),o(6,l.IKeybindingService)],t)}(s.Action)
;t.BaseQuickOpenNavigateAction=p,t.getQuickNavigateHandler=function(e,t){return function(i){var n=i.get(l.IKeybindingService),r=i.get(a.IQuickOpenService),o=i.get(c.IQuickInputService),s={keybindings:n.lookupKeybindings(e)};r.navigate(!!t,s),o.navigate(!!t,s)}};var h=function(e){function t(t,i,n,r,o){return e.call(this,t,i,!0,!0,n,r,o)||this}return i(t,e),t.ID="workbench.action.quickOpenNavigateNext",t.LABEL=n.localize("quickNavigateNext","Navigate Next in Quick Open"),t=r([o(2,a.IQuickOpenService),o(3,c.IQuickInputService),o(4,l.IKeybindingService)],t)}(p);t.QuickOpenNavigateNextAction=h;var f=function(e){function t(t,i,n,r,o){return e.call(this,t,i,!1,!0,n,r,o)||this}return i(t,e),t.ID="workbench.action.quickOpenNavigatePrevious",t.LABEL=n.localize("quickNavigatePrevious","Navigate Previous in Quick Open"),t=r([o(2,a.IQuickOpenService),o(3,c.IQuickInputService),o(4,l.IKeybindingService)],t)}(p);t.QuickOpenNavigatePreviousAction=f;var g=function(e){function t(t,i,n,r,o){
return e.call(this,t,i,!0,!1,n,r,o)||this}return i(t,e),t.ID="workbench.action.quickOpenSelectNext",t.LABEL=n.localize("quickSelectNext","Select Next in Quick Open"),t=r([o(2,a.IQuickOpenService),o(3,c.IQuickInputService),o(4,l.IKeybindingService)],t)}(p);t.QuickOpenSelectNextAction=g;var v=function(e){function t(t,i,n,r,o){return e.call(this,t,i,!1,!1,n,r,o)||this}return i(t,e),t.ID="workbench.action.quickOpenSelectPrevious",t.LABEL=n.localize("quickSelectPrevious","Select Previous in Quick Open"),t=r([o(2,a.IQuickOpenService),o(3,c.IQuickInputService),o(4,l.IKeybindingService)],t)}(p);t.QuickOpenSelectPreviousAction=v}),define(e[175],t([1,0,7,121]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,i){this.syncDescriptor=n.createSyncDescriptor(e),this.alignment=t||0,this.priority=i||0}}();t.StatusbarItemDescriptor=r;var o=function(){function e(){this._items=[]}return Object.defineProperty(e.prototype,"items",{get:function(){return this._items
},enumerable:!0,configurable:!0}),e.prototype.registerStatusbarItem=function(e){this._items.push(e)},e}();t.Extensions={Statusbar:"workbench.contributions.statusbar"},i.Registry.add(t.Extensions.Statusbar,new o)}),define(e[47],t([1,0,7,74,34,26,4,3,70,25]),function(e,t,i,n,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions={WorkbenchActions:"workbench.contributions.actions"},i.Registry.add(t.Extensions.WorkbenchActions,new(function(){function e(){}return e.prototype.registerWorkbenchAction=function(e,t,i,n){return this.registerWorkbenchCommandFromAction(e,t,i,n)},e.prototype.registerWorkbenchCommandFromAction=function(e,t,i,s){var c=[];c.push(r.CommandsRegistry.registerCommand(e.id,this.createCommandHandler(e)));var l=void 0===e.keybindingWeight?200:e.keybindingWeight,u=e.keybindings;if(n.KeybindingsRegistry.registerKeybindingRule({id:e.id,weight:l,when:e.keybindingContext,primary:u?u.primary:0,secondary:u&&u.secondary,win:u&&u.win,mac:u&&u.mac,linux:u&&u.linux}),e.label){
var d=t.indexOf(": "),p=void 0;d>0&&(p=t.substr(0,d),t=t.substr(d+2));var h={id:e.id,title:{value:e.label,original:t},category:i&&{value:i,original:p}};o.MenuRegistry.addCommand(h),c.push(o.MenuRegistry.appendMenuItem(0,{command:h,when:s}))}return a.combinedDisposable(c)},e.prototype.createCommandHandler=function(e){var t=this;return function(i,n){var r=i.get(l.INotificationService),o=i.get(s.IInstantiationService),a=i.get(c.ILifecycleService);Promise.resolve(t.triggerAndDisposeAction(o,a,e,n)).then(null,function(e){r.error(e)})}},e.prototype.triggerAndDisposeAction=function(e,t,i,n){return t.when(3).then(function(){var t=e.createInstance(i.syncDescriptor);try{if(t.label=i.label||t.label,!t.enabled)return void t.dispose();var r=n&&n.from||"keybinding";return Promise.resolve(t.run(void 0,{from:r})).then(function(){t.dispose()},function(e){return t.dispose(),Promise.reject(e)})}catch(e){return t.dispose(),Promise.reject(e)}})},e}()))}),define(e[394],t([1,0,2,7,14,26,47,9]),function(e,t,n,s,a,c,l,u){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.configurationService=n,r}return i(t,e),t.prototype.run=function(){var e=!this.configurationService.getValue(t.tabsVisibleKey);return this.configurationService.updateValue(t.tabsVisibleKey,e)},t.ID="workbench.action.toggleTabsVisibility",t.LABEL=n.localize("toggleTabs","Toggle Tab Visibility"),t.tabsVisibleKey="workbench.editor.showTabs",t=r([o(2,u.IConfigurationService)],t)}(a.Action);t.ToggleTabsVisibilityAction=d;s.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(d,d.ID,d.LABEL,{primary:2357}),"View: Toggle Tab Visibility",n.localize("view","View"))}),define(e[395],t([1,0,7]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalActivityExtensions="workbench.contributions.globalActivities";var n=function(){function e(){this.activityDescriptors=new Set}return e.prototype.registerActivity=function(e){
this.activityDescriptors.add(e)},e.prototype.getActivities=function(){var e=[];return this.activityDescriptors.forEach(function(t){return e.push(t)}),e},e}();t.GlobalActivityRegistry=n,i.Registry.add(t.GlobalActivityExtensions,new n)}),define(e[108],t([1,0,7,13]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.Workbench="workbench.contributions.kind"}(r=t.Extensions||(t.Extensions={}));var o=function(){function e(){this.toBeInstantiated=new Map}return e.prototype.registerWorkbenchContribution=function(e,t){if(void 0===t&&(t=1),this.instantiationService&&this.lifecycleService&&this.lifecycleService.phase>=t)this.instantiationService.createInstance(e);else{var i=this.toBeInstantiated.get(t);i||(i=[],this.toBeInstantiated.set(t,i)),i.push(e)}},e.prototype.start=function(e,t){var i=this;this.instantiationService=e,this.lifecycleService=t,[1,2,3,4].forEach(function(n){i.instantiateByPhase(e,t,n)})},e.prototype.instantiateByPhase=function(e,t,i){var n=this
;t.phase>=i?this.doInstantiateByPhase(e,i):t.when(i).then(function(){n.doInstantiateByPhase(e,i)})},e.prototype.doInstantiateByPhase=function(e,t){var i=this.toBeInstantiated.get(t);if(i)if(this.toBeInstantiated.delete(t),4!==t)for(var r=0,o=i;r<o.length;r++){var s=o[r];e.createInstance(s)}else{var a=0,c=function(t){for(;a<i.length;){var r=i[a++];if(e.createInstance(r),t.timeRemaining()<1){n.runWhenIdle(c,3e3);break}}};n.runWhenIdle(c,3e3)}},e}();i.Registry.add(r.Workbench,new o)}),define(e[17],t([1,0,15,5,39,29,3,11,7,32,14]),function(e,t,n,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveEditorContext=new c.RawContextKey("activeEditor",null),t.EditorsVisibleContext=new c.RawContextKey("editorIsOpen",!1),t.EditorGroupActiveEditorDirtyContext=new c.RawContextKey("groupActiveEditorDirty",!1),t.NoEditorsVisibleContext=t.EditorsVisibleContext.toNegated(),t.TextCompareEditorVisibleContext=new c.RawContextKey("textCompareEditorVisible",!1),
t.TextCompareEditorActiveContext=new c.RawContextKey("textCompareEditorActive",!1),t.ActiveEditorGroupEmptyContext=new c.RawContextKey("activeEditorGroupEmpty",!1),t.MultipleEditorGroupsContext=new c.RawContextKey("multipleEditorGroups",!1),t.SingleEditorGroupsContext=t.MultipleEditorGroupsContext.toNegated(),t.InEditorZenModeContext=new c.RawContextKey("inZenMode",!1),t.SplitEditorsVertically=new c.RawContextKey("splitEditorsVertically",!1),t.TEXT_DIFF_EDITOR_ID="workbench.editors.textDiffEditor",t.BINARY_DIFF_EDITOR_ID="workbench.editors.binaryResourceDiffEditor";var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onDidChangeDirty=t._register(new r.Emitter),t._onDidChangeLabel=t._register(new r.Emitter),t._onDispose=t._register(new r.Emitter),t.disposed=!1,t}return i(t,e),Object.defineProperty(t.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeLabel",{
get:function(){return this._onDidChangeLabel.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),t.prototype.getResource=function(){return null},t.prototype.getName=function(){return null},t.prototype.getDescription=function(e){return null},t.prototype.getTitle=function(e){return this.getName()},t.prototype.getPreferredEditorId=function(e){return e&&e.length>0?e[0]:null},t.prototype.getTelemetryDescriptor=function(){return{typeId:this.getTypeId()}},t.prototype.isDirty=function(){return!1},t.prototype.confirmSave=function(){return n.TPromise.wrap(1)},t.prototype.save=function(){return n.TPromise.as(!0)},t.prototype.revert=function(e){return n.TPromise.as(!0)},t.prototype.close=function(){this.dispose()},t.prototype.supportsSplitEditor=function(){return!0},t.prototype.matches=function(e){return this===e},t.prototype.isDisposed=function(){return this.disposed},t.prototype.dispose=function(){
this.disposed=!0,this._onDispose.fire(),e.prototype.dispose.call(this)},t}(a.Disposable);t.EditorInput=p;var h=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.name=t,o.description=i,o._details=n,o._master=r,o.registerListeners(),o}return i(t,e),Object.defineProperty(t.prototype,"master",{get:function(){return this._master},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"details",{get:function(){return this._details},enumerable:!0,configurable:!0}),t.prototype.isDirty=function(){return this.master.isDirty()},t.prototype.confirmSave=function(){return this.master.confirmSave()},t.prototype.save=function(){return this.master.save()},t.prototype.revert=function(){return this.master.revert()},t.prototype.getTelemetryDescriptor=function(){var t=this.master.getTelemetryDescriptor();return o.assign(t,e.prototype.getTelemetryDescriptor.call(this))},t.prototype.registerListeners=function(){var e=this,t=r.once(this.details.onDispose);this._register(t(function(){
e.isDisposed()||e.dispose()}));var i=r.once(this.master.onDispose);this._register(i(function(){e.isDisposed()||e.dispose()})),this._register(this.master.onDidChangeDirty(function(){return e._onDidChangeDirty.fire()})),this._register(this.master.onDidChangeLabel(function(){return e._onDidChangeLabel.fire()}))},t.prototype.resolve=function(){return n.TPromise.as(null)},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.matches=function(i){if(!0===e.prototype.matches.call(this,i))return!0;if(i){if(!(i instanceof t))return!1;var n=i;return this.details.matches(n.details)&&this.master.matches(n.master)}return!1},t.ID="workbench.editorinputs.sidebysideEditorInput",t}(p);t.SideBySideEditorInput=h;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onDispose=t._register(new r.Emitter),t}return i(t,e),Object.defineProperty(t.prototype,"onDispose",{get:function(){
return this._onDispose.event},enumerable:!0,configurable:!0}),t.prototype.load=function(){return n.TPromise.as(this)},t.prototype.isResolved=function(){return!0},t.prototype.dispose=function(){this._onDispose.fire(),e.prototype.dispose.call(this)},t}(a.Disposable);t.EditorModel=f,t.isEditorInputWithOptions=function(e){var t=e;return!!t&&!!t.editor};var g=function(){function e(){}return e.create=function(t){var i=new e;return i.preserveFocus=t.preserveFocus,i.forceReload=t.forceReload,i.revealIfVisible=t.revealIfVisible,i.revealIfOpened=t.revealIfOpened,i.pinned=t.pinned,i.index=t.index,i.inactive=t.inactive,i},e}();t.EditorOptions=g;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.from=function(e){return e&&e.options?t.create(e.options):null},t.create=function(e){void 0===e&&(e=Object.create(null));var i=new t;if(e.selection){var n=e.selection;i.selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn)}
return e.viewState&&(i.editorViewState=e.viewState),e.forceReload&&(i.forceReload=!0),e.revealIfVisible&&(i.revealIfVisible=!0),e.revealIfOpened&&(i.revealIfOpened=!0),e.preserveFocus&&(i.preserveFocus=!0),e.revealInCenterIfOutsideViewport&&(i.revealInCenterIfOutsideViewport=!0),e.pinned&&(i.pinned=!0),e.inactive&&(i.inactive=!0),"number"==typeof e.index&&(i.index=e.index),i},t.prototype.hasOptionsDefined=function(){return!!this.editorViewState||!s.isUndefinedOrNull(this.startLineNumber)&&!s.isUndefinedOrNull(this.startColumn)},t.prototype.selection=function(e,t,i,n){return void 0===i&&(i=e),void 0===n&&(n=t),this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n,this},t.fromEditor=function(e,i){var n=t.create(i);return n.editorViewState=e.saveViewState(),n},t.prototype.apply=function(e,t){return this.applyViewState(e,t)},t.prototype.applyViewState=function(e,t){var i=!1;if(this.editorViewState)e.restoreViewState(this.editorViewState),
i=!0;else if(!s.isUndefinedOrNull(this.startLineNumber)&&!s.isUndefinedOrNull(this.startColumn)){if(s.isUndefinedOrNull(this.endLineNumber)||s.isUndefinedOrNull(this.endColumn)){var n={lineNumber:this.startLineNumber,column:this.startColumn};e.setPosition(n),this.revealInCenterIfOutsideViewport?e.revealPositionInCenterIfOutsideViewport(n,t):e.revealPositionInCenter(n,t)}else{var r={startLineNumber:this.startLineNumber,startColumn:this.startColumn,endLineNumber:this.endLineNumber,endColumn:this.endColumn};e.setSelection(r),this.revealInCenterIfOutsideViewport?e.revealRangeInCenterIfOutsideViewport(r,t):e.revealRangeInCenter(r,t)}i=!0}return i},t}(g);t.TextEditorOptions=v;var m=function(e){function t(t){var i=e.call(this)||this;return i.context=t,i}return i(t,e),t.prototype.run=function(t,i){return e.prototype.run.call(this,t,this.context)},t}(d.ActionRunner);t.EditorCommandsContextActionRunner=m,t.toResource=function(e,t){if(!e)return null;t&&t.supportSideBySide&&e instanceof h&&(e=e.master)
;var i=e.getResource();if(!t||!t.filter)return i;if(!i)return null;var n,r;return Array.isArray(t.filter)?(n=t.filter.indexOf(u.Schemas.file)>=0,r=t.filter.indexOf(u.Schemas.untitled)>=0):(n=t.filter===u.Schemas.file,r=t.filter===u.Schemas.untitled),n&&i.scheme===u.Schemas.file?i:r&&i.scheme===u.Schemas.untitled?i:null};var y=function(){function e(){this.editorInputFactoryConstructors=Object.create(null),this.editorInputFactoryInstances=Object.create(null)}return e.prototype.setInstantiationService=function(e){this.instantiationService=e;for(var t in this.editorInputFactoryConstructors){var i=this.editorInputFactoryConstructors[t];this.createEditorInputFactory(t,i)}this.editorInputFactoryConstructors={}},e.prototype.createEditorInputFactory=function(e,t){var i=this.instantiationService.createInstance(t);this.editorInputFactoryInstances[e]=i},e.prototype.registerFileInputFactory=function(e){this.fileInputFactory=e},e.prototype.getFileInputFactory=function(){return this.fileInputFactory},
e.prototype.registerEditorInputFactory=function(e,t){this.instantiationService?this.createEditorInputFactory(e,t):this.editorInputFactoryConstructors[e]=t},e.prototype.getEditorInputFactory=function(e){return this.editorInputFactoryInstances[e]},e}();t.Extensions={EditorInputFactories:"workbench.contributions.editor.inputFactories"},l.Registry.add(t.Extensions.EditorInputFactories,new y)}),define(e[104],t([1,0,17,8,39,63]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EDITOR_TITLE_HEIGHT=35,t.DEFAULT_EDITOR_MIN_DIMENSIONS=new n.Dimension(220,70),t.DEFAULT_EDITOR_MAX_DIMENSIONS=new n.Dimension(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),t.DEFAULT_EDITOR_PART_OPTIONS={showTabs:!0,highlightModifiedTabs:!1,tabCloseButton:"right",tabSizing:"fit",showIcons:!0,enablePreview:!0,openPositioning:"right",openSideBySideDirection:"right",closeEmptyGroups:!0,labelFormat:"default",iconTheme:"vs-seti"},t.impactsEditorPartOptions=function(e){
return e.affectsConfiguration("workbench.editor")||e.affectsConfiguration("workbench.iconTheme")},t.getEditorPartOptions=function(e){var i=r.assign(Object.create(null),t.DEFAULT_EDITOR_PART_OPTIONS);return e&&e.workbench?("string"==typeof e.workbench.iconTheme&&(i.iconTheme=e.workbench.iconTheme),e.workbench.editor&&r.assign(i,e.workbench.editor),i):i},t.getActiveTextEditorOptions=function(e,t,n){var r=e.activeControl?o.getCodeEditor(e.activeControl.getControl()):void 0;return!r||t&&!t.matches(e.activeEditor)?n||new i.EditorOptions:i.TextEditorOptions.fromEditor(r,n)}}),define(e[153],t([1,0,15,17,16,32,24]),function(e,t,n,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,i,n){var r=e.call(this)||this;if(r.fileService=n,r.resource=t,r.name=i,t.scheme===c.Schemas.data){var o=l.DataUri.parseMetaData(t);o.has(l.DataUri.META_DATA_SIZE)&&(r.size=Number(o.get(l.DataUri.META_DATA_SIZE))),r.mime=o.get(l.DataUri.META_DATA_MIME)}return r}return i(t,e),
t.prototype.getName=function(){return this.name},t.prototype.getResource=function(){return this.resource},t.prototype.getSize=function(){return this.size},t.prototype.getMime=function(){return this.mime},t.prototype.getETag=function(){return this.etag},t.prototype.load=function(){var e=this;return this.fileService.canHandleResource(this.resource)?this.fileService.resolveFile(this.resource).then(function(t){return e.etag=t.etag,e.size=t.size,e}):n.TPromise.wrap(this)},t=r([o(2,a.IFileService)],t)}(s.EditorModel);t.BinaryEditorModel=u}),define(e[201],t([1,0,17,4,153,24]),function(e,t,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,i,n,r){var o=e.call(this)||this;if(o.instantiationService=r,o.name=t,o.description=i,o.resource=n,!o.name||!o.description){var s=c.DataUri.parseMetaData(o.resource);o.name||(o.name=s.get(c.DataUri.META_DATA_LABEL)),o.description||(o.description=s.get(c.DataUri.META_DATA_DESCRIPTION))}return o}return i(t,e),
t.prototype.getResource=function(){return this.resource},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.resolve=function(){return this.instantiationService.createInstance(a.BinaryEditorModel,this.resource,this.getName()).load().then(function(e){return e})},t.prototype.matches=function(i){if(!0===e.prototype.matches.call(this,i))return!0;if(i instanceof t){return i.resource.toString()===this.resource.toString()}return!1},t.ID="workbench.editors.dataUriEditorInput",t=r([o(3,s.IInstantiationService)],t)}(n.EditorInput);t.DataUriEditorInput=l}),define(e[200],t([1,0,15,17]),function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,i){var n=e.call(this)||this;return n._originalModel=t,n._modifiedModel=i,n}return i(t,e),Object.defineProperty(t.prototype,"originalModel",{get:function(){return this._originalModel},enumerable:!0,configurable:!0
}),Object.defineProperty(t.prototype,"modifiedModel",{get:function(){return this._modifiedModel},enumerable:!0,configurable:!0}),t.prototype.load=function(){var e=this;return n.TPromise.join([this._originalModel.load(),this._modifiedModel.load()]).then(function(){return e})},t.prototype.isResolved=function(){return this.originalModel.isResolved()&&this.modifiedModel.isResolved()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(r.EditorModel);t.DiffEditorModel=o}),define(e[196],t([1,0,5,17,4,9,3,7,44]),function(e,t,n,s,a,c,l,u,d){"use strict";function p(e){var t=e;return e&&"object"==typeof e&&Array.isArray(t.editors)&&Array.isArray(t.mru)}Object.defineProperty(t,"__esModule",{value:!0});var h={LEFT:"left",RIGHT:"right",FIRST:"first",LAST:"last"};t.isSerializedEditorGroup=p;var f=function(e){function t(i,r,o){var s=e.call(this)||this;return s.instantiationService=r,s.configurationService=o,s._onDidEditorActivate=s._register(new n.Emitter),s._onDidEditorOpen=s._register(new n.Emitter),
s._onDidEditorClose=s._register(new n.Emitter),s._onDidEditorDispose=s._register(new n.Emitter),s._onDidEditorBecomeDirty=s._register(new n.Emitter),s._onDidEditorLabelChange=s._register(new n.Emitter),s._onDidEditorMove=s._register(new n.Emitter),s._onDidEditorPin=s._register(new n.Emitter),s._onDidEditorUnpin=s._register(new n.Emitter),s.editors=[],s.mru=[],s.mapResourceToEditorCount=new d.ResourceMap,p(i)?s.deserialize(i):s._id=t.IDS++,s.onConfigurationUpdated(),s.registerListeners(),s}return i(t,e),Object.defineProperty(t.prototype,"onDidEditorActivate",{get:function(){return this._onDidEditorActivate.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorOpen",{get:function(){return this._onDidEditorOpen.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorClose",{get:function(){return this._onDidEditorClose.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorDispose",{get:function(){
return this._onDidEditorDispose.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorBecomeDirty",{get:function(){return this._onDidEditorBecomeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorLabelChange",{get:function(){return this._onDidEditorLabelChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorMove",{get:function(){return this._onDidEditorMove.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorPin",{get:function(){return this._onDidEditorPin.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorUnpin",{get:function(){return this._onDidEditorUnpin.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(t){return e.onConfigurationUpdated(t)}))},t.prototype.onConfigurationUpdated=function(e){
this.editorOpenPositioning=this.configurationService.getValue("workbench.editor.openPositioning")},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.editors.length},enumerable:!0,configurable:!0}),t.prototype.getEditors=function(e){return e?this.mru.slice(0):this.editors.slice(0)},t.prototype.getEditor=function(e){if("number"==typeof e)return this.editors[e];var t=e;if(!this.contains(t))return null;for(var i=0;i<this.editors.length;i++){var n=this.editors[i],r=s.toResource(n,{supportSideBySide:!0});if(r&&r.toString()===t.toString())return n}return null},Object.defineProperty(t.prototype,"activeEditor",{get:function(){return this.active},enumerable:!0,configurable:!0}),t.prototype.isActive=function(e){return this.matches(this.active,e)},Object.defineProperty(t.prototype,"previewEditor",{get:function(){return this.preview},enumerable:!0,configurable:!0}),t.prototype.isPreview=function(e){
return this.matches(this.preview,e)},t.prototype.openEditor=function(e,t){var i=this.indexOf(e),n=t&&t.pinned,r=t&&t.active||!this.activeEditor||!n&&this.matches(this.preview,this.activeEditor);if(-1===i){var o=void 0,s=this.indexOf(this.active);if(o=t&&"number"==typeof t.index?t.index:this.editorOpenPositioning===h.FIRST?0:this.editorOpenPositioning===h.LAST?this.editors.length:this.editorOpenPositioning===h.LEFT?0!==s&&this.editors.length?s:0:s+1,!n&&this.preview||this.splice(o,!1,e),!n){if(this.preview){o>this.indexOf(this.preview)&&o--,this.replaceEditor(this.preview,e,o,!r)}this.preview=e}this.registerEditorListeners(e),this._onDidEditorOpen.fire(e),r&&this.setActive(e)}else n&&this.pin(e),r&&this.setActive(e),t&&"number"==typeof t.index&&this.moveEditor(e,t.index)},t.prototype.registerEditorListeners=function(e){var t=this,i=[],r=n.once(e.onDispose);i.push(r(function(){t.indexOf(e)>=0&&t._onDidEditorDispose.fire(e)})),i.push(e.onDidChangeDirty(function(){t._onDidEditorBecomeDirty.fire(e)})),
i.push(e.onDidChangeLabel(function(){t._onDidEditorLabelChange.fire(e)})),i.push(this.onDidEditorClose(function(t){t.editor.matches(e)&&l.dispose(i)}))},t.prototype.replaceEditor=function(e,t,i,n){void 0===n&&(n=!0);var r=this.doCloseEditor(e,n,!0);this.splice(i,!1,t),r&&this._onDidEditorClose.fire(r)},t.prototype.closeEditor=function(e,t){void 0===t&&(t=!0);var i=this.doCloseEditor(e,t,!1);if(i)return this._onDidEditorClose.fire(i),i.index},t.prototype.doCloseEditor=function(e,t,i){var n=this.indexOf(e);return-1===n?null:(t&&this.matches(this.active,e)&&(this.mru.length>1?this.setActive(this.mru[1]):this.active=null),this.matches(this.preview,e)&&(this.preview=null),this.splice(n,!0),{editor:e,replaced:i,index:n,groupId:this.id})},t.prototype.closeEditors=function(e,t){var i=this,n=this.indexOf(e);if(-1!==n)if(0===t)for(r=n-1;r>=0;r--)this.closeEditor(this.editors[r]);else if(1===t)for(var r=this.editors.length-1;r>n;r--)this.closeEditor(this.editors[r]);else this.mru.filter(function(t){return!i.matches(t,e)
}).forEach(function(e){return i.closeEditor(e)})},t.prototype.closeAllEditors=function(){var e=this;this.mru.filter(function(t){return!e.matches(t,e.active)}).forEach(function(t){return e.closeEditor(t)}),this.closeEditor(this.active)},t.prototype.moveEditor=function(e,t){var i=this.indexOf(e);i<0||(this.editors.splice(i,1),this.editors.splice(t,0,e),this._onDidEditorMove.fire(e))},t.prototype.setActive=function(e){-1!==this.indexOf(e)&&(this.matches(this.active,e)||(this.active=e,this.setMostRecentlyUsed(e),this._onDidEditorActivate.fire(e)))},t.prototype.pin=function(e){-1!==this.indexOf(e)&&this.isPreview(e)&&(this.preview=null,this._onDidEditorPin.fire(e))},t.prototype.unpin=function(e){if(-1!==this.indexOf(e)&&this.isPinned(e)){var t=this.preview;this.preview=e,this._onDidEditorUnpin.fire(e),this.closeEditor(t)}},t.prototype.isPinned=function(e){var t,i;return"number"==typeof e?(t=this.editors[e],i=e):(t=e,i=this.indexOf(t)),!(-1===i||!t)&&(!this.preview||!this.matches(this.preview,t))},
t.prototype.splice=function(e,t,i){var n=this.editors[e],r=[e,t?1:0];if(i&&r.push(i),this.editors.splice.apply(this.editors,r),!t&&i)this.mru.push(i),this.updateResourceMap(i,!1);else{var o=this.indexOf(n,this.mru);t&&!i?(this.mru.splice(o,1),this.updateResourceMap(n,!0)):(this.mru.splice(o,1,i),this.updateResourceMap(i,!1),this.updateResourceMap(n,!0))}},t.prototype.updateResourceMap=function(e,t){var i=s.toResource(e,{supportSideBySide:!0});if(i){var n=this.mapResourceToEditorCount.get(i)||0,r=void 0;t?n>1&&(r=n-1):r=n+1,this.mapResourceToEditorCount.set(i,r)}},t.prototype.indexOf=function(e,t){if(void 0===t&&(t=this.editors),!e)return-1;for(var i=0;i<t.length;i++)if(this.matches(t[i],e))return i;return-1},t.prototype.contains=function(e,t){if(e instanceof s.EditorInput){if(this.indexOf(e)>=0)return!0;if(t&&e instanceof s.SideBySideEditorInput){if(this.indexOf(e.master)>=0)return!0}return!1}var i=this.mapResourceToEditorCount.get(e);return"number"==typeof i&&i>0},t.prototype.setMostRecentlyUsed=function(e){
if(-1!==this.indexOf(e)){var t=this.indexOf(e,this.mru);this.mru.splice(t,1),this.mru.unshift(e)}},t.prototype.matches=function(e,t){return!!e&&!!t&&e.matches(t)},t.prototype.clone=function(){var e=this.instantiationService.createInstance(t,void 0);return e.editors=this.editors.slice(0),e.mru=this.mru.slice(0),e.mapResourceToEditorCount=this.mapResourceToEditorCount.clone(),e.preview=this.preview,e.active=this.active,e.editorOpenPositioning=this.editorOpenPositioning,e},t.prototype.serialize=function(){var e,t=this,i=u.Registry.as(s.Extensions.EditorInputFactories),n=[],r=[];this.editors.forEach(function(o){var s=i.getEditorInputFactory(o.getTypeId());if(s){var a=s.serialize(o);"string"==typeof a&&(r.push({id:o.getTypeId(),value:a}),n.push(o),t.preview===o&&(e=n.length-1))}});var o=this.mru.map(function(e){return t.indexOf(e,n)}).filter(function(e){return e>=0});return{id:this.id,editors:r,mru:o,preview:e}},t.prototype.deserialize=function(e){var i=this,n=u.Registry.as(s.Extensions.EditorInputFactories)
;"number"==typeof e.id?(this._id=e.id,t.IDS=Math.max(e.id+1,t.IDS)):this._id=t.IDS++,this.editors=e.editors.map(function(e){var t=n.getEditorInputFactory(e.id);if(t){var r=t.deserialize(i.instantiationService,e.value);return i.registerEditorListeners(r),i.updateResourceMap(r,!1),r}return null}).filter(function(e){return!!e}),this.mru=e.mru.map(function(e){return i.editors[e]}),this.active=this.mru[0],this.preview=this.editors[e.preview]},t.IDS=0,t=r([o(1,a.IInstantiationService),o(2,c.IConfigurationService)],t)}(l.Disposable);t.EditorGroup=f}),define(e[195],t([1,0,200]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.updateTextDiffEditorModel(),n}return i(t,e),Object.defineProperty(t.prototype,"originalModel",{get:function(){return this._originalModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedModel",{get:function(){return this._modifiedModel},enumerable:!0,configurable:!0}),
t.prototype.load=function(){var t=this;return e.prototype.load.call(this).then(function(){return t.updateTextDiffEditorModel(),t})},t.prototype.updateTextDiffEditorModel=function(){this.originalModel.isResolved()&&this.modifiedModel.isResolved()&&(this._textDiffEditorModel?(this._textDiffEditorModel.original=this.originalModel.textEditorModel,this._textDiffEditorModel.modified=this.modifiedModel.textEditorModel):this._textDiffEditorModel={original:this.originalModel.textEditorModel,modified:this.modifiedModel.textEditorModel})},Object.defineProperty(t.prototype,"textDiffEditorModel",{get:function(){return this._textDiffEditorModel},enumerable:!0,configurable:!0}),t.prototype.isResolved=function(){return!!this._textDiffEditorModel},t.prototype.isReadonly=function(){return this.modifiedModel.isReadonly()},t.prototype.dispose=function(){this._textDiffEditorModel=null,e.prototype.dispose.call(this)},t}(n.DiffEditorModel);t.TextDiffEditorModel=r}),define(e[137],t([1,0,15,17,36,38]),function(e,t,n,s,a,c){
"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,i,n){var r=e.call(this)||this;return r.modelService=t,r.modeService=i,n&&r.handleExistingModel(n),r}return i(t,e),t.prototype.handleExistingModel=function(e){var t=this.modelService.getModel(e);if(!t)throw new Error("Document with resource "+e.toString()+" does not exist");this.textEditorModelHandle=e,this.registerModelDisposeListener(t)},t.prototype.registerModelDisposeListener=function(e){var t=this;this.modelDisposeListener&&this.modelDisposeListener.dispose(),this.modelDisposeListener=e.onWillDispose(function(){t.textEditorModelHandle=null,t.dispose()})},Object.defineProperty(t.prototype,"textEditorModel",{get:function(){return this.textEditorModelHandle?this.modelService.getModel(this.textEditorModelHandle):null},enumerable:!0,configurable:!0}),t.prototype.createTextEditorModel=function(e,t,i){var r=this.getFirstLineText(e),o=this.getOrCreateMode(this.modeService,i,r)
;return n.TPromise.as(this.doCreateTextEditorModel(e,o,t))},t.prototype.doCreateTextEditorModel=function(e,t,i){var n=i&&this.modelService.getModel(i);return n?(this.modelService.updateModel(n,e),this.modelService.setMode(n,t)):(n=this.modelService.createModel(e,t,i),this.createdEditorModel=!0,this.registerModelDisposeListener(n)),this.textEditorModelHandle=n.uri,this},t.prototype.getFirstLineText=function(e){var t=e;if("function"==typeof t.getFirstLineText)return t.getFirstLineText(100);return e.getLineContent(1).substr(0,100)},t.prototype.getOrCreateMode=function(e,t,i){return e.create(t)},t.prototype.updateTextEditorModel=function(e){this.textEditorModel&&this.modelService.updateModel(this.textEditorModel,e)},t.prototype.createSnapshot=function(){var e=this.textEditorModel;return e?e.createSnapshot(!0):null},t.prototype.isResolved=function(){return!!this.textEditorModelHandle},t.prototype.dispose=function(){this.modelDisposeListener&&(this.modelDisposeListener.dispose(),this.modelDisposeListener=null),
this.textEditorModelHandle&&this.createdEditorModel&&this.modelService.destroyModel(this.textEditorModelHandle),this.textEditorModelHandle=null,this.createdEditorModel=!1,e.prototype.dispose.call(this)},t=r([o(0,c.IModelService),o(1,a.IModeService)],t)}(s.EditorModel);t.BaseTextEditorModel=l}),define(e[136],t([1,0,15,17,137,200,195]),function(e,t,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i,n,r)||this;return s.forceOpenAsBinary=o,s}return i(t,e),t.prototype.getTypeId=function(){return t.ID},Object.defineProperty(t.prototype,"originalInput",{get:function(){return this.details},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedInput",{get:function(){return this.master},enumerable:!0,configurable:!0}),t.prototype.resolve=function(){var e=this;return this.createModel().then(function(t){return e.cachedModel&&e.cachedModel.dispose(),e.cachedModel=t,e.cachedModel})},
t.prototype.getPreferredEditorId=function(e){return this.forceOpenAsBinary?r.BINARY_DIFF_EDITOR_ID:r.TEXT_DIFF_EDITOR_ID},t.prototype.createModel=function(e){return n.TPromise.join([this.originalInput.resolve(),this.modifiedInput.resolve()]).then(function(e){var t=e[0],i=e[1];return i instanceof o.BaseTextEditorModel&&t instanceof o.BaseTextEditorModel?new a.TextDiffEditorModel(t,i):new s.DiffEditorModel(t,i)})},t.prototype.dispose=function(){this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.diffEditorInput",t}(r.SideBySideEditorInput);t.DiffEditorInput=c}),define(e[278],t([1,0,137,36,38]),function(e,t,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,i,n){var r=e.call(this,n,i,t)||this;return r.createdEditorModel=!0,r}return i(t,e),t.prototype.isReadonly=function(){return!0},t=r([o(1,s.IModeService),o(2,a.IModelService)],t)}(n.BaseTextEditorModel);t.ResourceEditorModel=c}),
define(e[426],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageOfType=function(e){var t=Buffer.allocUnsafe(1);switch(e){case 0:t.writeUInt8(1,0);break;case 1:t.writeUInt8(2,0);break;case 2:t.writeUInt8(3,0)}return t},t.isMessageOfType=function(e,t){if(1!==e.length)return!1;switch(e.readUInt8(0)){case 1:return 0===t;case 2:return 1===t;case 3:return 2===t;default:return!1}}}),define(e[427],t([1,0,29]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t,i){this.storageService=i,this.id=e.COMMON_PREFIX+t.toLowerCase()}return e.prototype.getMemento=function(t){if(1===t){var i=e.workspaceMementos[this.id];return i||(i=new r(this.id,t,this.storageService),e.workspaceMementos[this.id]=i),i.getMemento()}var n=e.globalMementos[this.id];return n||(n=new r(this.id,t,this.storageService),e.globalMementos[this.id]=n),n.getMemento()},e.prototype.saveMemento=function(){var t=e.workspaceMementos[this.id];t&&t.save()
;var i=e.globalMementos[this.id];i&&i.save()},e.globalMementos=Object.create(null),e.workspaceMementos=Object.create(null),e.COMMON_PREFIX="memento/",e}();t.Memento=n;var r=function(){function e(e,t,i){this.id=e,this.scope=t,this.storageService=i,this.mementoObj=this.load()}return e.prototype.getMemento=function(){return this.mementoObj},e.prototype.load=function(){var e=this.storageService.get(this.id,this.scope);return e?JSON.parse(e):{}},e.prototype.save=function(){i.isEmptyObject(this.mementoObj)?this.storageService.remove(this.id,this.scope):this.storageService.store(this.id,JSON.stringify(this.mementoObj),this.scope)},e}()}),define(e[163],t([1,0,33,11,36,16,3,32]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(i,n,r){var o=e.call(this)||this;return o._fileService=n,o._modeService=r,o._schemeKey=t.Scheme.bindTo(i),o._filenameKey=t.Filename.bindTo(i),o._langIdKey=t.LangId.bindTo(i),o._resourceKey=t.Resource.bindTo(i),
o._extensionKey=t.Extension.bindTo(i),o._hasResource=t.HasResource.bindTo(i),o._isfileSystemResource=t.IsFileSystemResource.bindTo(i),o._isFileSystemResourceOrUntitled=t.IsFileSystemResourceOrUntitled.bindTo(i),o._register(n.onDidChangeFileSystemProviderRegistrations(function(){var e=o._resourceKey.get();o._isfileSystemResource.set(Boolean(e&&n.canHandleResource(e))),o._isFileSystemResourceOrUntitled.set(o._isfileSystemResource.get()||o._schemeKey.get()===u.Schemas.untitled)})),o}return i(t,e),t.prototype.set=function(e){this._resourceKey.set(e),this._schemeKey.set(e&&e.scheme),this._filenameKey.set(e&&n.basename(e.fsPath)),this._langIdKey.set(e?this._modeService.getModeIdByFilepathOrFirstLine(e.fsPath):null),this._extensionKey.set(e&&n.extname(e.fsPath)),this._hasResource.set(!!e),this._isfileSystemResource.set(e&&this._fileService.canHandleResource(e)),this._isFileSystemResourceOrUntitled.set(this._isfileSystemResource.get()||this._schemeKey.get()===u.Schemas.untitled)},t.prototype.reset=function(){
this._schemeKey.reset(),this._langIdKey.reset(),this._resourceKey.reset(),this._langIdKey.reset(),this._extensionKey.reset(),this._hasResource.reset()},t.prototype.get=function(){return this._resourceKey.get()},t.Scheme=new s.RawContextKey("resourceScheme",void 0),t.Filename=new s.RawContextKey("resourceFilename",void 0),t.LangId=new s.RawContextKey("resourceLangId",void 0),t.Resource=new s.RawContextKey("resource",void 0),t.Extension=new s.RawContextKey("resourceExtname",void 0),t.HasResource=new s.RawContextKey("resourceSet",!1),t.IsFileSystemResource=new s.RawContextKey("isFileSystemResource",!1),t.IsFileSystemResourceOrUntitled=new s.RawContextKey("isFileSystemResourceOrUntitled",!1),t=r([o(0,s.IContextKeyService),o(1,c.IFileService),o(2,a.IModeService)],t)}(l.Disposable);t.ResourceContextKey=d}),define(e[57],t([1,0,2,27,3,62]),function(e,t,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WORKBENCH_BACKGROUND=function(e){switch(e.type){case"dark":return s.Color.fromHex("#252526")
;case"light":return s.Color.fromHex("#F3F3F3");default:return s.Color.fromHex("#000000")}},t.TAB_ACTIVE_BACKGROUND=r.registerColor("tab.activeBackground",{dark:r.editorBackground,light:r.editorBackground,hc:r.editorBackground},n.localize("tabActiveBackground","Active tab background color. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_INACTIVE_BACKGROUND=r.registerColor("tab.inactiveBackground",{dark:"#2D2D2D",light:"#ECECEC",hc:null},n.localize("tabInactiveBackground","Inactive tab background color. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_HOVER_BACKGROUND=r.registerColor("tab.hoverBackground",{dark:null,light:null,hc:null
},n.localize("tabHoverBackground","Tab background color when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_HOVER_BACKGROUND=r.registerColor("tab.unfocusedHoverBackground",{dark:r.transparent(t.TAB_HOVER_BACKGROUND,.5),light:r.transparent(t.TAB_HOVER_BACKGROUND,.7),hc:null},n.localize("tabUnfocusedHoverBackground","Tab background color in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_BORDER=r.registerColor("tab.border",{dark:"#252526",light:"#F3F3F3",hc:r.contrastBorder},n.localize("tabBorder","Border to separate tabs from each other. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_ACTIVE_BORDER=r.registerColor("tab.activeBorder",{dark:null,
light:null,hc:null},n.localize("tabActiveBorder","Border on the bottom of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_ACTIVE_BORDER=r.registerColor("tab.unfocusedActiveBorder",{dark:r.transparent(t.TAB_ACTIVE_BORDER,.5),light:r.transparent(t.TAB_ACTIVE_BORDER,.7),hc:null},n.localize("tabActiveUnfocusedBorder","Border on the bottom of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_ACTIVE_BORDER_TOP=r.registerColor("tab.activeBorderTop",{dark:null,light:null,hc:null},n.localize("tabActiveBorderTop","Border to the top of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),
t.TAB_UNFOCUSED_ACTIVE_BORDER_TOP=r.registerColor("tab.unfocusedActiveBorderTop",{dark:r.transparent(t.TAB_ACTIVE_BORDER_TOP,.5),light:r.transparent(t.TAB_ACTIVE_BORDER_TOP,.7),hc:null},n.localize("tabActiveUnfocusedBorderTop","Border to the top of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_ACTIVE_MODIFIED_BORDER=r.registerColor("tab.activeModifiedBorder",{dark:"#3399CC",light:"#33AAEE",hc:null},n.localize("tabActiveModifiedBorder","Border on the top of modified (dirty) active tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_INACTIVE_MODIFIED_BORDER=r.registerColor("tab.inactiveModifiedBorder",{dark:r.transparent(t.TAB_ACTIVE_MODIFIED_BORDER,.5),light:r.transparent(t.TAB_ACTIVE_MODIFIED_BORDER,.5),hc:s.Color.white
},n.localize("tabInactiveModifiedBorder","Border on the top of modified (dirty) inactive tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_ACTIVE_MODIFIED_BORDER=r.registerColor("tab.unfocusedActiveModifiedBorder",{dark:r.transparent(t.TAB_ACTIVE_MODIFIED_BORDER,.5),light:r.transparent(t.TAB_ACTIVE_MODIFIED_BORDER,.7),hc:s.Color.white},n.localize("unfocusedActiveModifiedBorder","Border on the top of modified (dirty) active tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_INACTIVE_MODIFIED_BORDER=r.registerColor("tab.unfocusedInactiveModifiedBorder",{dark:r.transparent(t.TAB_INACTIVE_MODIFIED_BORDER,.5),light:r.transparent(t.TAB_INACTIVE_MODIFIED_BORDER,.5),hc:s.Color.white
},n.localize("unfocusedINactiveModifiedBorder","Border on the top of modified (dirty) inactive tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_HOVER_BORDER=r.registerColor("tab.hoverBorder",{dark:null,light:null,hc:null},n.localize("tabHoverBorder","Border to highlight tabs when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_HOVER_BORDER=r.registerColor("tab.unfocusedHoverBorder",{dark:r.transparent(t.TAB_HOVER_BORDER,.5),light:r.transparent(t.TAB_HOVER_BORDER,.7),hc:null},n.localize("tabUnfocusedHoverBorder","Border to highlight tabs in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),
t.TAB_ACTIVE_FOREGROUND=r.registerColor("tab.activeForeground",{dark:s.Color.white,light:"#333333",hc:s.Color.white},n.localize("tabActiveForeground","Active tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_INACTIVE_FOREGROUND=r.registerColor("tab.inactiveForeground",{dark:r.transparent(t.TAB_ACTIVE_FOREGROUND,.5),light:r.transparent(t.TAB_ACTIVE_FOREGROUND,.7),hc:s.Color.white},n.localize("tabInactiveForeground","Inactive tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_ACTIVE_FOREGROUND=r.registerColor("tab.unfocusedActiveForeground",{dark:r.transparent(t.TAB_ACTIVE_FOREGROUND,.5),light:r.transparent(t.TAB_ACTIVE_FOREGROUND,.7),hc:s.Color.white
},n.localize("tabUnfocusedActiveForeground","Active tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_INACTIVE_FOREGROUND=r.registerColor("tab.unfocusedInactiveForeground",{dark:r.transparent(t.TAB_INACTIVE_FOREGROUND,.5),light:r.transparent(t.TAB_INACTIVE_FOREGROUND,.5),hc:s.Color.white},n.localize("tabUnfocusedInactiveForeground","Inactive tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.EDITOR_PANE_BACKGROUND=r.registerColor("editorPane.background",{dark:r.editorBackground,light:r.editorBackground,hc:r.editorBackground},n.localize("editorPaneBackground","Background color of the editor pane visible on the left and right side of the centered editor layout.")),r.registerColor("editorGroup.background",{dark:null,
light:null,hc:null},n.localize("editorGroupBackground","Deprecated background color of an editor group."),!1,n.localize("deprecatedEditorGroupBackground","Deprecated: Background color of an editor group is no longer being supported with the introduction of the grid editor layout. You can use editorGroup.emptyBackground to set the background color of empty editor groups.")),t.EDITOR_GROUP_EMPTY_BACKGROUND=r.registerColor("editorGroup.emptyBackground",{dark:null,light:null,hc:null},n.localize("editorGroupEmptyBackground","Background color of an empty editor group. Editor groups are the containers of editors.")),t.EDITOR_GROUP_FOCUSED_EMPTY_BORDER=r.registerColor("editorGroup.focusedEmptyBorder",{dark:null,light:null,hc:r.focusBorder},n.localize("editorGroupFocusedEmptyBorder","Border color of an empty editor group that is focused. Editor groups are the containers of editors.")),t.EDITOR_GROUP_HEADER_TABS_BACKGROUND=r.registerColor("editorGroupHeader.tabsBackground",{dark:"#252526",light:"#F3F3F3",hc:null
},n.localize("tabsContainerBackground","Background color of the editor group title header when tabs are enabled. Editor groups are the containers of editors.")),t.EDITOR_GROUP_HEADER_TABS_BORDER=r.registerColor("editorGroupHeader.tabsBorder",{dark:null,light:null,hc:r.contrastBorder},n.localize("tabsContainerBorder","Border color of the editor group title header when tabs are enabled. Editor groups are the containers of editors.")),t.EDITOR_GROUP_HEADER_NO_TABS_BACKGROUND=r.registerColor("editorGroupHeader.noTabsBackground",{dark:r.editorBackground,light:r.editorBackground,hc:r.editorBackground},n.localize("editorGroupHeaderBackground",'Background color of the editor group title header when tabs are disabled (`"workbench.editor.showTabs": false`). Editor groups are the containers of editors.')),t.EDITOR_GROUP_BORDER=r.registerColor("editorGroup.border",{dark:"#444444",light:"#E7E7E7",hc:r.contrastBorder
},n.localize("editorGroupBorder","Color to separate multiple editor groups from each other. Editor groups are the containers of editors.")),t.EDITOR_DRAG_AND_DROP_BACKGROUND=r.registerColor("editorGroup.dropBackground",{dark:s.Color.fromHex("#53595D").transparent(.5),light:s.Color.fromHex("#2677CB").transparent(.18),hc:null},n.localize("editorDragAndDropBackground","Background color when dragging editors around. The color should have transparency so that the editor contents can still shine through.")),t.PANEL_BACKGROUND=r.registerColor("panel.background",{dark:r.editorBackground,light:r.editorBackground,hc:r.editorBackground},n.localize("panelBackground","Panel background color. Panels are shown below the editor area and contain views like output and integrated terminal.")),t.PANEL_BORDER=r.registerColor("panel.border",{dark:s.Color.fromHex("#808080").transparent(.35),light:s.Color.fromHex("#808080").transparent(.35),hc:r.contrastBorder
},n.localize("panelBorder","Panel border color to separate the panel from the editor. Panels are shown below the editor area and contain views like output and integrated terminal.")),t.PANEL_ACTIVE_TITLE_FOREGROUND=r.registerColor("panelTitle.activeForeground",{dark:"#E7E7E7",light:"#424242",hc:s.Color.white},n.localize("panelActiveTitleForeground","Title color for the active panel. Panels are shown below the editor area and contain views like output and integrated terminal.")),t.PANEL_INACTIVE_TITLE_FOREGROUND=r.registerColor("panelTitle.inactiveForeground",{dark:r.transparent(t.PANEL_ACTIVE_TITLE_FOREGROUND,.6),light:r.transparent(t.PANEL_ACTIVE_TITLE_FOREGROUND,.75),hc:s.Color.white},n.localize("panelInactiveTitleForeground","Title color for the inactive panel. Panels are shown below the editor area and contain views like output and integrated terminal.")),t.PANEL_ACTIVE_TITLE_BORDER=r.registerColor("panelTitle.activeBorder",{dark:t.PANEL_BORDER,light:t.PANEL_BORDER,hc:r.contrastBorder
},n.localize("panelActiveTitleBorder","Border color for the active panel title. Panels are shown below the editor area and contain views like output and integrated terminal.")),t.PANEL_DRAG_AND_DROP_BACKGROUND=r.registerColor("panel.dropBackground",{dark:s.Color.white.transparent(.12),light:s.Color.fromHex("#2677CB").transparent(.18),hc:s.Color.white.transparent(.12)},n.localize("panelDragAndDropBackground","Drag and drop feedback color for the panel title items. The color should have transparency so that the panel entries can still shine through. Panels are shown below the editor area and contain views like output and integrated terminal.")),t.STATUS_BAR_FOREGROUND=r.registerColor("statusBar.foreground",{dark:"#FFFFFF",light:"#FFFFFF",hc:"#FFFFFF"},n.localize("statusBarForeground","Status bar foreground color when a workspace is opened. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_NO_FOLDER_FOREGROUND=r.registerColor("statusBar.noFolderForeground",{dark:t.STATUS_BAR_FOREGROUND,
light:t.STATUS_BAR_FOREGROUND,hc:t.STATUS_BAR_FOREGROUND},n.localize("statusBarNoFolderForeground","Status bar foreground color when no folder is opened. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_BACKGROUND=r.registerColor("statusBar.background",{dark:"#007ACC",light:"#007ACC",hc:null},n.localize("statusBarBackground","Status bar background color when a workspace is opened. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_NO_FOLDER_BACKGROUND=r.registerColor("statusBar.noFolderBackground",{dark:"#68217A",light:"#68217A",hc:null},n.localize("statusBarNoFolderBackground","Status bar background color when no folder is opened. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_BORDER=r.registerColor("statusBar.border",{dark:null,light:null,hc:r.contrastBorder},n.localize("statusBarBorder","Status bar border color separating to the sidebar and editor. The status bar is shown in the bottom of the window.")),
t.STATUS_BAR_NO_FOLDER_BORDER=r.registerColor("statusBar.noFolderBorder",{dark:t.STATUS_BAR_BORDER,light:t.STATUS_BAR_BORDER,hc:t.STATUS_BAR_BORDER},n.localize("statusBarNoFolderBorder","Status bar border color separating to the sidebar and editor when no folder is opened. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_ITEM_ACTIVE_BACKGROUND=r.registerColor("statusBarItem.activeBackground",{dark:s.Color.white.transparent(.18),light:s.Color.white.transparent(.18),hc:s.Color.white.transparent(.18)},n.localize("statusBarItemActiveBackground","Status bar item background color when clicking. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_ITEM_HOVER_BACKGROUND=r.registerColor("statusBarItem.hoverBackground",{dark:s.Color.white.transparent(.12),light:s.Color.white.transparent(.12),hc:s.Color.white.transparent(.12)},n.localize("statusBarItemHoverBackground","Status bar item background color when hovering. The status bar is shown in the bottom of the window.")),
t.STATUS_BAR_PROMINENT_ITEM_BACKGROUND=r.registerColor("statusBarItem.prominentBackground",{dark:"#388A34",light:"#388A34",hc:"#3883A4"},n.localize("statusBarProminentItemBackground","Status bar prominent items background color. Prominent items stand out from other status bar entries to indicate importance. Change mode `Toggle Tab Key Moves Focus` from command palette to see an example. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_PROMINENT_ITEM_HOVER_BACKGROUND=r.registerColor("statusBarItem.prominentHoverBackground",{dark:"#369432",light:"#369432",hc:"#369432"},n.localize("statusBarProminentItemHoverBackground","Status bar prominent items background color when hovering. Prominent items stand out from other status bar entries to indicate importance. Change mode `Toggle Tab Key Moves Focus` from command palette to see an example. The status bar is shown in the bottom of the window.")),t.ACTIVITY_BAR_BACKGROUND=r.registerColor("activityBar.background",{dark:"#333333",light:"#2C2C2C",
hc:"#000000"},n.localize("activityBarBackground","Activity bar background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),t.ACTIVITY_BAR_FOREGROUND=r.registerColor("activityBar.foreground",{dark:s.Color.white,light:s.Color.white,hc:s.Color.white},n.localize("activityBarForeground","Activity bar item foreground color when it is active. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),t.ACTIVITY_BAR_INACTIVE_FOREGROUND=r.registerColor("activityBar.inactiveForeground",{dark:r.transparent(t.ACTIVITY_BAR_FOREGROUND,.6),light:r.transparent(t.ACTIVITY_BAR_FOREGROUND,.6),hc:s.Color.white},n.localize("activityBarInActiveForeground","Activity bar item foreground color when it is inactive. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),t.ACTIVITY_BAR_BORDER=r.registerColor("activityBar.border",{dark:null,light:null,hc:r.contrastBorder
},n.localize("activityBarBorder","Activity bar border color separating to the side bar. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),t.ACTIVITY_BAR_DRAG_AND_DROP_BACKGROUND=r.registerColor("activityBar.dropBackground",{dark:s.Color.white.transparent(.12),light:s.Color.white.transparent(.12),hc:s.Color.white.transparent(.12)},n.localize("activityBarDragAndDropBackground","Drag and drop feedback color for the activity bar items. The color should have transparency so that the activity bar entries can still shine through. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),t.ACTIVITY_BAR_BADGE_BACKGROUND=r.registerColor("activityBarBadge.background",{dark:"#007ACC",light:"#007ACC",hc:"#000000"},n.localize("activityBarBadgeBackground","Activity notification badge background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),
t.ACTIVITY_BAR_BADGE_FOREGROUND=r.registerColor("activityBarBadge.foreground",{dark:s.Color.white,light:s.Color.white,hc:s.Color.white},n.localize("activityBarBadgeForeground","Activity notification badge foreground color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),t.SIDE_BAR_BACKGROUND=r.registerColor("sideBar.background",{dark:"#252526",light:"#F3F3F3",hc:"#000000"},n.localize("sideBarBackground","Side bar background color. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_FOREGROUND=r.registerColor("sideBar.foreground",{dark:null,light:null,hc:null},n.localize("sideBarForeground","Side bar foreground color. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_BORDER=r.registerColor("sideBar.border",{dark:null,light:null,hc:r.contrastBorder
},n.localize("sideBarBorder","Side bar border color on the side separating to the editor. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_TITLE_FOREGROUND=r.registerColor("sideBarTitle.foreground",{dark:t.SIDE_BAR_FOREGROUND,light:t.SIDE_BAR_FOREGROUND,hc:t.SIDE_BAR_FOREGROUND},n.localize("sideBarTitleForeground","Side bar title foreground color. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_DRAG_AND_DROP_BACKGROUND=r.registerColor("sideBar.dropBackground",{dark:s.Color.white.transparent(.12),light:s.Color.white.transparent(.12),hc:s.Color.white.transparent(.12)},n.localize("sideBarDragAndDropBackground","Drag and drop feedback color for the side bar sections. The color should have transparency so that the side bar sections can still shine through. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_SECTION_HEADER_BACKGROUND=r.registerColor("sideBarSectionHeader.background",{
dark:s.Color.fromHex("#808080").transparent(.2),light:s.Color.fromHex("#808080").transparent(.2),hc:null},n.localize("sideBarSectionHeaderBackground","Side bar section header background color. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_SECTION_HEADER_FOREGROUND=r.registerColor("sideBarSectionHeader.foreground",{dark:t.SIDE_BAR_FOREGROUND,light:t.SIDE_BAR_FOREGROUND,hc:t.SIDE_BAR_FOREGROUND},n.localize("sideBarSectionHeaderForeground","Side bar section header foreground color. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_SECTION_HEADER_BORDER=r.registerColor("sideBarSectionHeader.border",{dark:r.contrastBorder,light:r.contrastBorder,hc:r.contrastBorder},n.localize("sideBarSectionHeaderBorder","Side bar section header border color. The side bar is the container for views like explorer and search.")),t.TITLE_BAR_ACTIVE_FOREGROUND=r.registerColor("titleBar.activeForeground",{dark:"#CCCCCC",light:"#333333",hc:"#FFFFFF"
},n.localize("titleBarActiveForeground","Title bar foreground when the window is active. Note that this color is currently only supported on macOS.")),t.TITLE_BAR_INACTIVE_FOREGROUND=r.registerColor("titleBar.inactiveForeground",{dark:r.transparent(t.TITLE_BAR_ACTIVE_FOREGROUND,.6),light:r.transparent(t.TITLE_BAR_ACTIVE_FOREGROUND,.6),hc:null},n.localize("titleBarInactiveForeground","Title bar foreground when the window is inactive. Note that this color is currently only supported on macOS.")),t.TITLE_BAR_ACTIVE_BACKGROUND=r.registerColor("titleBar.activeBackground",{dark:"#3C3C3C",light:"#DDDDDD",hc:"#000000"},n.localize("titleBarActiveBackground","Title bar background when the window is active. Note that this color is currently only supported on macOS.")),t.TITLE_BAR_INACTIVE_BACKGROUND=r.registerColor("titleBar.inactiveBackground",{dark:r.transparent(t.TITLE_BAR_ACTIVE_BACKGROUND,.6),light:r.transparent(t.TITLE_BAR_ACTIVE_BACKGROUND,.6),hc:null
},n.localize("titleBarInactiveBackground","Title bar background when the window is inactive. Note that this color is currently only supported on macOS.")),t.TITLE_BAR_BORDER=r.registerColor("titleBar.border",{dark:null,light:null,hc:r.contrastBorder},n.localize("titleBarBorder","Title bar border color. Note that this color is currently only supported on macOS.")),t.MENUBAR_SELECTION_FOREGROUND=r.registerColor("menubar.selectionForeground",{dark:t.TITLE_BAR_ACTIVE_FOREGROUND,light:t.TITLE_BAR_ACTIVE_FOREGROUND,hc:t.TITLE_BAR_ACTIVE_FOREGROUND},n.localize("menubarSelectionForeground","Foreground color of the selected menu item in the menubar.")),t.MENUBAR_SELECTION_BACKGROUND=r.registerColor("menubar.selectionBackground",{dark:r.transparent(s.Color.white,.1),light:r.transparent(s.Color.black,.1),hc:null},n.localize("menubarSelectionBackground","Background color of the selected menu item in the menubar.")),t.MENUBAR_SELECTION_BORDER=r.registerColor("menubar.selectionBorder",{dark:null,light:null,
hc:r.activeContrastBorder},n.localize("menubarSelectionBorder","Border color of the selected menu item in the menubar.")),t.NOTIFICATIONS_CENTER_BORDER=r.registerColor("notificationCenter.border",{dark:null,light:null,hc:r.contrastBorder},n.localize("notificationCenterBorder","Notifications center border color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_TOAST_BORDER=r.registerColor("notificationToast.border",{dark:null,light:null,hc:r.contrastBorder},n.localize("notificationToastBorder","Notification toast border color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_FOREGROUND=r.registerColor("notifications.foreground",{dark:null,light:null,hc:null},n.localize("notificationsForeground","Notifications foreground color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_BACKGROUND=r.registerColor("notifications.background",{dark:r.editorWidgetBackground,light:r.editorWidgetBackground,hc:r.editorWidgetBackground
},n.localize("notificationsBackground","Notifications background color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_LINKS=r.registerColor("notificationLink.foreground",{dark:r.textLinkForeground,light:r.textLinkForeground,hc:r.textLinkForeground},n.localize("notificationsLink","Notification links foreground color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_CENTER_HEADER_FOREGROUND=r.registerColor("notificationCenterHeader.foreground",{dark:null,light:null,hc:null},n.localize("notificationCenterHeaderForeground","Notifications center header foreground color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_CENTER_HEADER_BACKGROUND=r.registerColor("notificationCenterHeader.background",{dark:r.lighten(t.NOTIFICATIONS_BACKGROUND,.3),light:r.darken(t.NOTIFICATIONS_BACKGROUND,.05),hc:t.NOTIFICATIONS_BACKGROUND
},n.localize("notificationCenterHeaderBackground","Notifications center header background color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_BORDER=r.registerColor("notifications.border",{dark:t.NOTIFICATIONS_CENTER_HEADER_BACKGROUND,light:t.NOTIFICATIONS_CENTER_HEADER_BACKGROUND,hc:t.NOTIFICATIONS_CENTER_HEADER_BACKGROUND},n.localize("notificationsBorder","Notifications border color separating from other notifications in the notifications center. Notifications slide in from the bottom right of the window."));var a=function(e){function t(t){var i=e.call(this)||this;return i.themeService=t,i.theme=t.getTheme(),i._register(i.themeService.onThemeChange(function(e){return i.onThemeChange(e)})),i}return i(t,e),t.prototype.onThemeChange=function(e){this.theme=e,this.updateStyles()},t.prototype.updateStyles=function(){},t.prototype.getColor=function(e,t){var i=this.theme.getColor(e);return i&&t&&(i=t(i,this.theme)),i?i.toString():null},t}(o.Disposable);t.Themable=a}),
define(e[141],t([1,0,427,57]),function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,i,r){var o=e.call(this,i)||this;return o.id=t,o.memento=new n.Memento(o.id,r),o._register(r.onWillSaveState(function(){o.saveState(),o.memento.saveMemento()})),o}return i(t,e),t.prototype.getId=function(){return this.id},t.prototype.getMemento=function(e){return this.memento.getMemento(e)},t.prototype.saveState=function(){},t}(r.Themable);t.Component=o}),define(e[268],t([1,0,14,141,5,8,3]),function(e,t,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,i,n,r){var s=e.call(this,t,n,r)||this;return s._telemetryService=i,s._onTitleAreaUpdate=s._register(new o.Emitter),s.visible=!1,s}return i(t,e),Object.defineProperty(t.prototype,"onTitleAreaUpdate",{get:function(){return this._onTitleAreaUpdate.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidFocus",{get:function(){
return this._onDidFocus||this._registerFocusTrackEvents(),this._onDidFocus.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidBlur",{get:function(){return this._onDidBlur||this._registerFocusTrackEvents(),this._onDidBlur.event},enumerable:!0,configurable:!0}),t.prototype._registerFocusTrackEvents=function(){var e=this;this._onDidFocus=this._register(new o.Emitter),this._onDidBlur=this._register(new o.Emitter);var t=this._register(s.trackFocus(this.getContainer()));this._register(t.onDidFocus(function(){return e._onDidFocus.fire()})),this._register(t.onDidBlur(function(){return e._onDidBlur.fire()}))},t.prototype.getTitle=function(){return null},Object.defineProperty(t.prototype,"telemetryService",{get:function(){return this._telemetryService},enumerable:!0,configurable:!0}),t.prototype.create=function(e){this.parent=e},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this)},t.prototype.getContainer=function(){return this.parent},t.prototype.setVisible=function(e){
this.visible=e},t.prototype.focus=function(){},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getContextMenuActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.getActionRunner=function(){return this.actionRunner||(this.actionRunner=new n.ActionRunner),this.actionRunner},t.prototype.updateTitleArea=function(){this._onTitleAreaUpdate.fire()},t.prototype.isVisible=function(){return this.visible},t.prototype.getControl=function(){return null},t}(r.Component);t.Composite=c;var l=function(){function e(e,t,i,n,r,o){this.ctor=e,this.id=t,this.name=i,this.cssClass=n,this.order=r,this.enabled=!0,this.keybindingId=o}return e.prototype.instantiate=function(e){return e.createInstance(this.ctor)},e}();t.CompositeDescriptor=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onDidRegister=t._register(new o.Emitter),t.composites=[],t}return i(t,e),
Object.defineProperty(t.prototype,"onDidRegister",{get:function(){return this._onDidRegister.event},enumerable:!0,configurable:!0}),t.prototype.registerComposite=function(e){null===this.compositeById(e.id)&&(this.composites.push(e),this._onDidRegister.fire(e))},t.prototype.getComposite=function(e){return this.compositeById(e)},t.prototype.getComposites=function(){return this.composites.slice(0)},t.prototype.compositeById=function(e){for(var t=0;t<this.composites.length;t++)if(this.composites[t].id===e)return this.composites[t];return null},t}(a.Disposable);t.CompositeRegistry=u}),define(e[251],t([1,0,7,268,14,8]),function(e,t,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r.Composite);t.Panel=a;var c=function(e){function t(t,i,n,r,o,s){return e.call(this,t,i,n,r,o,s)||this}return i(t,e),t}(r.CompositeDescriptor);t.PanelDescriptor=c;var l=function(e){function t(){
return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.registerPanel=function(t){e.prototype.registerComposite.call(this,t)},t.prototype.getPanels=function(){return this.getComposites()},t.prototype.setDefaultPanelId=function(e){this.defaultPanelId=e},t.prototype.getDefaultPanelId=function(){return this.defaultPanelId},t}(r.CompositeRegistry);t.PanelRegistry=l;var u=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,s)||this;return a.panelService=r,a.partService=o,a.panelId=n,a}return i(t,e),t.prototype.run=function(){return this.isPanelFocused()?this.partService.setPanelHidden(!0):this.panelService.openPanel(this.panelId,!0),Promise.resolve(null)},t.prototype.isPanelActive=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===this.panelId},t.prototype.isPanelFocused=function(){var e=document.activeElement;return this.isPanelActive()&&e&&s.isAncestor(e,this.partService.getContainer(2))},t}(o.Action);t.TogglePanelAction=u,t.Extensions={
Panels:"workbench.contributions.panels"},n.Registry.add(t.Extensions.Panels,new l)}),define(e[143],t([1,0,141,8,543]),function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,i,n,r){var o=e.call(this,t,n,r)||this;return o.options=i,o}return i(t,e),t.prototype.onThemeChange=function(t){this.parent&&e.prototype.onThemeChange.call(this,t)},t.prototype.create=function(e){this.parent=e,this.titleArea=this.createTitleArea(e),this.contentArea=this.createContentArea(e),this.partLayout=new s(this.parent,this.options,this.titleArea,this.contentArea),this.updateStyles()},t.prototype.getContainer=function(){return this.parent},t.prototype.createTitleArea=function(e){return null},t.prototype.getTitleArea=function(){return this.titleArea},t.prototype.createContentArea=function(e){return null},t.prototype.getContentArea=function(){return this.contentArea},t.prototype.layout=function(e){return this.partLayout.layout(e)},t}(n.Component);t.Part=o;var s=function(){
function e(e,t,i,n){this.options=t,this.contentArea=n}return e.prototype.layout=function(t){var i,n=t.width,o=t.height,s=[];i=this.options&&this.options.hasTitle?new r.Dimension(n,Math.min(o,e.TITLE_HEIGHT)):new r.Dimension(0,0);var a=new r.Dimension(n,o-i.height);return this.options&&"function"==typeof this.options.borderWidth&&(a.width-=this.options.borderWidth()),s.push(i),s.push(a),this.contentArea&&r.size(this.contentArea,a.width,a.height),s},e.TITLE_HEIGHT=35,e}();t.PartLayout=s}),define(e[82],t([1,0,15,251,17,44,5,29,104]),function(e,t,n,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,i,n,r){var o=e.call(this,t,i,n,r)||this;return o.minimumWidth=l.DEFAULT_EDITOR_MIN_DIMENSIONS.width,o.maximumWidth=l.DEFAULT_EDITOR_MAX_DIMENSIONS.width,o.minimumHeight=l.DEFAULT_EDITOR_MIN_DIMENSIONS.height,o.maximumHeight=l.DEFAULT_EDITOR_MAX_DIMENSIONS.height,o.onDidSizeConstraintsChange=a.Event.None,o}return i(t,e),Object.defineProperty(t.prototype,"input",{
get:function(){return this._input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),t.prototype.setInput=function(e,t,i){return this._input=e,this._options=t,n.TPromise.wrap(null)},t.prototype.clearInput=function(){this._input=null,this._options=null},t.prototype.setOptions=function(e){this._options=e},t.prototype.create=function(t){e.prototype.create.call(this,t),this.createEditor(t)},t.prototype.setVisible=function(t,i){e.prototype.setVisible.call(this,t),this.setEditorVisible(t,i)},t.prototype.setEditorVisible=function(e,t){this._group=t},t.prototype.getEditorMemento=function(e,i,n){void 0===n&&(n=10);var r=""+this.getId()+i,o=t.EDITOR_MEMENTOS.get(r);return o||(o=new d(this.getId(),i,this.getMemento(1),n,e),t.EDITOR_MEMENTOS.set(r,o)),o},t.prototype.saveState=function(){var i=this
;t.EDITOR_MEMENTOS.forEach(function(e){e.id===i.getId()&&e.saveState()}),e.prototype.saveState.call(this)},t.prototype.dispose=function(){this._input=null,this._options=null,e.prototype.dispose.call(this)},t.EDITOR_MEMENTOS=new Map,t}(r.Panel);t.BaseEditor=u;var d=function(){function e(e,t,i,n,r){this._id=e,this.key=t,this.memento=i,this.limit=n,this.editorGroupService=r,this.cleanedUp=!1}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.saveEditorState=function(e,t,i){var n=this,r=this.doGetResource(t);if(r&&e){var s=this.doLoad(),c=s.get(r.toString());c||(c=Object.create(null),s.set(r.toString(),c)),c[e.id]=i,t instanceof o.EditorInput&&a.once(t.onDispose)(function(){n.clearEditorState(r)})}},e.prototype.loadEditorState=function(e,t){var i=this.doGetResource(t);if(i&&e){var n=this.doLoad().get(i.toString());return n?n[e.id]:void 0}},e.prototype.clearEditorState=function(e,t){var i=this.doGetResource(e);if(i){var n=this.doLoad();if(t){
var r=n.get(i.toString());r&&delete r[t.id]}else n.delete(i.toString())}},e.prototype.doGetResource=function(e){return e instanceof o.EditorInput?e.getResource():e},e.prototype.doLoad=function(){if(!this.cache){this.cache=new s.LRUCache(this.limit);var e=this.memento[this.key];Array.isArray(e)&&this.cache.fromJSON(e)}return this.cache},e.prototype.saveState=function(){var e=this.doLoad();this.cleanedUp||(this.cleanUp(),this.cleanedUp=!0),this.memento[this.key]=e.toJSON()},e.prototype.cleanUp=function(){var e=this,t=this.doLoad();t.forEach(function(i,n){Object.keys(i).forEach(function(r){var o=Number(r);e.editorGroupService.getGroup(o)||(delete i[o],c.isEmptyObject(i)&&t.delete(n))})})},e}();t.EditorMemento=d}),define(e[103],t([1,0,7,82,29]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,i){this.ctor=e,this.id=t,this.name=i}return e.prototype.instantiate=function(e){return e.createInstance(this.ctor)},e.prototype.getId=function(){return this.id
},e.prototype.getName=function(){return this.name},e.prototype.describes=function(e){return e instanceof n.BaseEditor&&e.getId()===this.id},e}();t.EditorDescriptor=o;var s=function(){function e(){this.editors=[]}return e.prototype.registerEditor=function(e,t){var i=[];r.isArray(t)?i=t:i.push(t),e.__$inputDescriptors=i,this.editors.push(e)},e.prototype.getEditor=function(e){var t=this,i=function(e,n){for(var r=[],o=0;o<t.editors.length;o++)for(var s=t.editors[o],a=s.__$inputDescriptors,c=0;c<a.length;c++){var l=a[c].ctor;if(!n&&e.constructor===l){r.push(s);break}if(n&&e instanceof l){r.push(s);break}}return n||0!==r.length?r:i(e,!0)},n=i(e);if(n&&n.length>0){var r=e.getPreferredEditorId(n.map(function(e){return e.getId()}));return r?this.getEditorById(r):n[0]}return null},e.prototype.getEditorById=function(e){for(var t=0;t<this.editors.length;t++){var i=this.editors[t];if(i.getId()===e)return i}return null},e.prototype.getEditors=function(){return this.editors.slice(0)},e.prototype.setEditors=function(e){
this.editors=e},e.prototype.getEditorInputs=function(){for(var e=[],t=0;t<this.editors.length;t++){var i=this.editors[t].__$inputDescriptors;e.push.apply(e,i.map(function(e){return e.ctor}))}return e},e}();t.Extensions={Editors:"workbench.contributions.editors"},i.Registry.add(t.Extensions.Editors,new s)}),define(e[172],t([1,0,8,7,82,30,4,12,27,103,120,5,28]),function(e,t,n,s,a,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(e){function t(i,r,o,s){var a=e.call(this,t.ID,i,o,s)||this;return a.instantiationService=r,a.dimension=new n.Dimension(0,0),a.onDidCreateEditors=a._register(new f.Emitter),a._onDidSizeConstraintsChange=a._register(new f.Relay),a.onDidSizeConstraintsChange=f.anyEvent(a.onDidCreateEditors.event,a._onDidSizeConstraintsChange.event),a}return i(t,e),Object.defineProperty(t.prototype,"minimumMasterWidth",{get:function(){return this.masterEditor?this.masterEditor.minimumWidth:0},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"maximumMasterWidth",{get:function(){return this.masterEditor?this.masterEditor.maximumWidth:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumMasterHeight",{get:function(){return this.masterEditor?this.masterEditor.minimumHeight:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumMasterHeight",{get:function(){return this.masterEditor?this.masterEditor.maximumHeight:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumDetailsWidth",{get:function(){return this.detailsEditor?this.detailsEditor.minimumWidth:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumDetailsWidth",{get:function(){return this.detailsEditor?this.detailsEditor.maximumWidth:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumDetailsHeight",{get:function(){return this.detailsEditor?this.detailsEditor.minimumHeight:0},
enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumDetailsHeight",{get:function(){return this.detailsEditor?this.detailsEditor.maximumHeight:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return this.minimumMasterWidth+this.minimumDetailsWidth},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return this.maximumMasterWidth+this.maximumDetailsWidth},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumHeight",{get:function(){return this.minimumMasterHeight+this.minimumDetailsHeight},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumHeight",{get:function(){return this.maximumMasterHeight+this.maximumDetailsHeight},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.createEditor=function(e){var t=this;n.addClass(e,"side-by-side-editor"),
this.splitview=this._register(new h.SplitView(e,{orientation:1})),this._register(this.splitview.onDidSashReset(function(){return t.splitview.distributeViewSizes()})),this.detailsEditorContainer=n.$(".details-editor-container"),this.splitview.addView({element:this.detailsEditorContainer,layout:function(e){return t.detailsEditor&&t.detailsEditor.layout(new n.Dimension(e,t.dimension.height))},minimumSize:220,maximumSize:Number.POSITIVE_INFINITY,onDidChange:f.Event.None},h.Sizing.Distribute),this.masterEditorContainer=n.$(".master-editor-container"),this.splitview.addView({element:this.masterEditorContainer,layout:function(e){return t.masterEditor&&t.masterEditor.layout(new n.Dimension(e,t.dimension.height))},minimumSize:220,maximumSize:Number.POSITIVE_INFINITY,onDidChange:f.Event.None},h.Sizing.Distribute),this.updateStyles()},t.prototype.setInput=function(t,i,n){var r=this,o=this.input;return e.prototype.setInput.call(this,t,i,n).then(function(){return r.updateInput(o,t,i,n)})},
t.prototype.setOptions=function(e){this.masterEditor&&this.masterEditor.setOptions(e)},t.prototype.setEditorVisible=function(t,i){this.masterEditor&&this.masterEditor.setVisible(t,i),this.detailsEditor&&this.detailsEditor.setVisible(t,i),e.prototype.setEditorVisible.call(this,t,i)},t.prototype.clearInput=function(){this.masterEditor&&this.masterEditor.clearInput(),this.detailsEditor&&this.detailsEditor.clearInput(),this.disposeEditors(),e.prototype.clearInput.call(this)},t.prototype.focus=function(){this.masterEditor&&this.masterEditor.focus()},t.prototype.layout=function(e){this.dimension=e,this.splitview.layout(e.width)},t.prototype.getControl=function(){return this.masterEditor?this.masterEditor.getControl():null},t.prototype.getMasterEditor=function(){return this.masterEditor},t.prototype.getDetailsEditor=function(){return this.detailsEditor},t.prototype.updateInput=function(e,t,i,n){
return t.matches(e)?Promise.all([this.detailsEditor.setInput(t.details,null,n),this.masterEditor.setInput(t.master,i,n)]).then(function(){}):(e&&this.disposeEditors(),this.setNewInput(t,i,n))},t.prototype.setNewInput=function(e,t,i){var n=this._createEditor(e.details,this.detailsEditorContainer),r=this._createEditor(e.master,this.masterEditorContainer);return this.onEditorsCreated(n,r,e.details,e.master,t,i)},t.prototype._createEditor=function(e,t){var i=s.Registry.as(p.Extensions.Editors).getEditor(e).instantiate(this.instantiationService);return i.create(t),i.setVisible(this.isVisible(),this.group),i},t.prototype.onEditorsCreated=function(e,t,i,n,r,o){var s=this;return this.detailsEditor=e,this.masterEditor=t,this._onDidSizeConstraintsChange.input=f.anyEvent(f.mapEvent(e.onDidSizeConstraintsChange,function(){}),f.mapEvent(t.onDidSizeConstraintsChange,function(){})),this.onDidCreateEditors.fire(),Promise.all([this.detailsEditor.setInput(i,null,o),this.masterEditor.setInput(n,r,o)]).then(function(){
return s.focus()})},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this),this.masterEditorContainer&&(this.masterEditorContainer.style.boxShadow="-6px 0 5px -5px "+this.getColor(d.scrollbarShadow))},t.prototype.disposeEditors=function(){this.detailsEditor&&(this.detailsEditor.dispose(),this.detailsEditor=null),this.masterEditor&&(this.masterEditor.dispose(),this.masterEditor=null),this.detailsEditorContainer.innerHTML="",this.masterEditorContainer.innerHTML=""},t.prototype.dispose=function(){this.disposeEditors(),e.prototype.dispose.call(this)},t.ID="workbench.editor.sidebysideEditor",t=r([o(0,c.ITelemetryService),o(1,l.IInstantiationService),o(2,u.IThemeService),o(3,g.IStorageService)],t)}(a.BaseEditor);t.SideBySideEditor=v}),define(e[109],t([1,0,5,2,4,44,7]),function(e,t,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_VIEW_CONTAINER_ID="workbench.view.extension.test";var c;!function(e){e.ViewContainersRegistry="workbench.registry.view.containers"
}(c=t.Extensions||(t.Extensions={}));var l=function(){return function(e,t){this.id=e,this.extensionId=t}}();t.ViewContainer=l;var u=function(){function e(){this._onDidRegister=new n.Emitter,this.onDidRegister=this._onDidRegister.event,this.viewContainers=new Map}return Object.defineProperty(e.prototype,"all",{get:function(){return s.values(this.viewContainers)},enumerable:!0,configurable:!0}),e.prototype.registerViewContainer=function(e,t){if(!this.viewContainers.has(e)){var n=new(function(n){function r(){return n.call(this,e,t)||this}return i(r,n),r}(l));this.viewContainers.set(e,n),this._onDidRegister.fire(n)}return this.get(e)},e.prototype.get=function(e){return this.viewContainers.get(e)},e}();a.Registry.add(c.ViewContainersRegistry,new u),t.ViewsRegistry=new(function(){function e(){this._onViewsRegistered=new n.Emitter,this.onViewsRegistered=this._onViewsRegistered.event,this._onViewsDeregistered=new n.Emitter,this.onViewsDeregistered=this._onViewsDeregistered.event,this._viewContainer=[],
this._views=new Map}return e.prototype.registerViews=function(e){if(e.length){for(var t=function(e){var t=i._views.get(e.container);if(t||(t=[],i._views.set(e.container,t),i._viewContainer.push(e.container)),t.some(function(t){return t.id===e.id}))throw new Error(r.localize("duplicateId","A view with id '{0}' is already registered in the container '{1}'",e.id,e.container.id));t.push(e)},i=this,n=0,o=e;n<o.length;n++){t(o[n])}this._onViewsRegistered.fire(e)}},e.prototype.deregisterViews=function(e,t){var i=this._views.get(t);if(i){var n=i.filter(function(t){return-1!==e.indexOf(t.id)});if(n.length){var r=i.filter(function(t){return-1===e.indexOf(t.id)});r.length?this._views.set(t,r):(this._views.delete(t),this._viewContainer.splice(this._viewContainer.indexOf(t),1)),this._onViewsDeregistered.fire(n)}}},e.prototype.getViews=function(e){return this._views.get(e)||[]},e.prototype.getView=function(e){for(var t=0,i=this._viewContainer;t<i.length;t++){var n=i[t],r=(this._views.get(n)||[]).filter(function(t){
return t.id===e})[0];if(r)return r}return null},e.prototype.getAllViews=function(){var e=[];return this._views.forEach(function(t){return e.push.apply(e,t)}),e},e}()),t.IViewsService=o.createDecorator("viewsService");!function(e){e[e.None=0]="None",e[e.Collapsed=1]="Collapsed",e[e.Expanded=2]="Expanded"}(t.TreeItemCollapsibleState||(t.TreeItemCollapsibleState={}))}),define(e[231],t([1,0,6,39,21,3,5,9,152,65,33]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.globFn=t,o.shouldUpdate=i,o.contextService=n,o.configurationService=r,o._onExpressionChange=o._register(new l.Emitter),o.mapRootToParsedExpression=new Map,o.mapRootToExpressionConfig=new Map,o.updateExcludes(!1),o.registerListeners(),o}return i(t,e),Object.defineProperty(t.prototype,"onExpressionChange",{get:function(){return this._onExpressionChange.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){
var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(t){e.shouldUpdate(t)&&e.updateExcludes(!0)})),this._register(this.contextService.onDidChangeWorkspaceFolders(function(){return e.updateExcludes(!0)}))},t.prototype.updateExcludes=function(e){var i=this,r=!1;this.contextService.getWorkspace().folders.forEach(function(e){var t=i.globFn(e.uri);i.mapRootToExpressionConfig.has(e.uri.toString())&&s.equals(i.mapRootToExpressionConfig.get(e.uri.toString()),t)||(r=!0,i.mapRootToParsedExpression.set(e.uri.toString(),d.parse(t)),i.mapRootToExpressionConfig.set(e.uri.toString(),s.deepClone(t)))}),this.mapRootToExpressionConfig.forEach(function(e,o){o!==t.NO_ROOT&&(i.contextService.getWorkspaceFolder(n.URI.parse(o))||(i.mapRootToParsedExpression.delete(o),i.mapRootToExpressionConfig.delete(o),r=!0))});var o=this.globFn();this.mapRootToExpressionConfig.has(t.NO_ROOT)&&s.equals(this.mapRootToExpressionConfig.get(t.NO_ROOT),o)||(r=!0,this.mapRootToParsedExpression.set(t.NO_ROOT,d.parse(o)),
this.mapRootToExpressionConfig.set(t.NO_ROOT,s.deepClone(o))),e&&r&&this._onExpressionChange.fire()},t.prototype.matches=function(e){var i,n=this.contextService.getWorkspaceFolder(e);i=n&&this.mapRootToParsedExpression.has(n.uri.toString())?this.mapRootToParsedExpression.get(n.uri.toString()):this.mapRootToParsedExpression.get(t.NO_ROOT);var r;return r=n?h.normalize(p.relative(n.uri.fsPath,e.fsPath)):e.fsPath,!!i(r)},t.NO_ROOT=null,t=r([o(2,a.IWorkspaceContextService),o(3,u.IConfigurationService)],t)}(c.Disposable);t.ResourceGlobMatcher=f}),define(e[224],t([1,0,3,67]),function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var i=e.call(this)||this;return i._editor=t,i._altListeningMouse=!1,i._altMouseTriggered=!1,i._register(i._editor.onMouseDown(function(e){i._altListeningMouse&&(i._altMouseTriggered=!0)})),i._register(i._editor.onKeyDown(function(e){e.equals(512)&&(i._altListeningMouse||(i._altMouseTriggered=!1),i._altListeningMouse=!0)})),
i._register(i._editor.onKeyUp(function(e){e.equals(512)&&(i._altMouseTriggered&&e.preventDefault(),i._altListeningMouse=!1,i._altMouseTriggered=!1)})),i}return i(t,e),t.prototype.getId=function(){return t.ID},t.ID="editor.contrib.menuPreventer",t}(n.Disposable);t.MenuPreventer=o,r.registerEditorContribution(o)}),define(e[454],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSimpleEditorOptions=function(){return{wordWrap:"on",overviewRulerLanes:0,glyphMargin:!1,lineNumbers:"off",folding:!1,selectOnLineNumbers:!1,hideCursorInOverviewRuler:!0,selectionHighlight:!1,scrollbar:{horizontal:"hidden"},lineDecorationsWidth:0,overviewRulerBorder:!1,scrollBeyondLastLine:!1,renderLineHighlight:"none",fixedOverflowWidgets:!0,acceptSuggestionOnEnter:"smart",minimap:{enabled:!1}}}}),define(e[455],t([1,0,2,65,3,67,9,25,28]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,i,r,o){var a=e.call(this)||this
;return a._editor=t,a._notificationService=i,a._configurationService=r,a._storageService=o,a._isDisabled=Boolean(a._storageService.getBoolean("editor.neverPromptForLargeFiles",0,!1)),a._register(a._editor.onDidChangeModel(function(e){var t=a._editor.getModel();if(t&&!a._isDisabled&&t.isTooLargeForTokenization()){var i=n.localize({key:"largeFile",comment:["Variable 0 will be a file name."]},"{0}: tokenization, wrapping and folding have been turned off for this large file in order to reduce memory usage and avoid freezing or crashing.",s.basename(t.uri.path));a._notificationService.prompt(u.Severity.Info,i,[{label:n.localize("neverShowAgain","OK. Never show again"),run:function(){a._isDisabled=!0,a._storageService.store("editor.neverPromptForLargeFiles",!0,0)}},{label:n.localize("removeOptimizations","Forcefully enable features"),run:function(){a._configurationService.updateValue("editor.largeFileOptimizations",!1).then(function(){
a._notificationService.info(n.localize("reopenFilePrompt","Please reopen file in order for this setting to take effect."))},function(e){a._notificationService.error(e)})}}])}})),a}return i(t,e),t.prototype.getId=function(){return t.ID},t.ID="editor.contrib.largeFileOptimizationsWarner",t=r([o(1,u.INotificationService),o(2,l.IConfigurationService),o(3,d.IStorageService)],t)}(a.Disposable);t.LargeFileOptimizationsWarner=p,c.registerEditorContribution(p)}),define(e[221],t([1,0,147,13,3,20,67,46,11]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(i,r){var o=e.call(this)||this;if(c.isLinux){var a=i.getConfiguration().contribInfo.selectionClipboard;o._register(i.onDidChangeConfiguration(function(e){e.contribInfo&&(a=i.getConfiguration().contribInfo.selectionClipboard)})),o._register(i.onMouseDown(function(e){if(a&&i.hasModel()&&e.event.middleButton){if(e.event.preventDefault(),i.focus(),e.target.position&&i.setPosition(e.target.position),
11===e.target.type)return;process.nextTick(function(){n.clipboard.readText("selection")})}}));var l=o._register(new s.RunOnceScheduler(function(){if(i.hasModel()){var e=i.getModel(),r=i.getSelections();(r=r.slice(0)).sort(u.Range.compareRangesUsingStarts);for(var o=0,s=0;s<r.length;s++){if((c=r[s]).isEmpty())return;o+=e.getValueLengthInRange(c)}if(!(o>t.SELECTION_LENGTH_LIMIT)){for(var a=[],s=0;s<r.length;s++){var c=r[s];a.push(e.getValueInRange(c,0))}var l=a.join(e.getEOL());n.clipboard.writeText(l,"selection")}}},100));o._register(i.onDidChangeCursorSelection(function(e){a&&l.schedule()}))}return o}return i(t,e),t.prototype.getId=function(){return t.ID},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.SELECTION_LENGTH_LIMIT=65536,t.ID="editor.contrib.selectionClipboard",t=r([o(1,d.IContextKeyService)],t)}(a.Disposable);t.SelectionClipboard=p,l.registerEditorContribution(p)}),
define(e[459],t([1,0,8,98,5,3,39,20,6,211,88,129,46,79,38,583,119,582,4,27,50,12,224,454,221,324]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachSuggestEnabledInputBoxStyler=function(e,t,i){return C.attachStyler(t,{inputBackground:i&&i.inputBackground||_.inputBackground,inputForeground:i&&i.inputForeground||_.inputForeground,inputBorder:i&&i.inputBorder||_.inputBorder,inputPlaceholderForeground:i&&i.inputPlaceholderForeground||_.inputPlaceholderForeground},e)};var T=function(e){function t(t,i,r,o,s,c,h,f){var m=e.call(this)||this;m._onShouldFocusResults=new a.Emitter,m.onShouldFocusResults=m._onShouldFocusResults.event,m._onEnter=new a.Emitter,m.onEnter=m._onEnter.event,m._onInputDidChange=new a.Emitter,m.onInputDidChange=m._onInputDidChange.event,m.disposables=[],m.stylingContainer=n.append(i,n.$(".suggest-input-container")),
m.placeholderText=n.append(m.stylingContainer,n.$(".suggest-input-placeholder",null,c.placeholderText||""));var E=l.mixin(x.getSimpleEditorOptions(),function(e){return{fontSize:13,lineHeight:20,wordWrap:"off",scrollbar:{vertical:"hidden"},roundedSelection:!1,renderIndentGuides:!1,cursorWidth:1,fontFamily:' -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", "Ubuntu", "Droid Sans", sans-serif',ariaLabel:e||"",snippetSuggestions:"none",suggest:{filterGraceful:!1},iconsInSuggestions:!1}}(o));m.inputWidget=h.createInstance(p.CodeEditorWidget,m.stylingContainer,E,{contributions:[b.SuggestController,S.SnippetController2,y.ContextMenuController,I.MenuPreventer,D.SelectionClipboard],isSimpleWidget:!0});var _=d.URI.parse(s);m.inputWidget.setModel(f.createModel("",null,_,!0)),m.disposables.push(m.inputWidget.onDidPaste(function(){return m.setValue(m.getValue())})),m.disposables.push(m.inputWidget.onDidFocusEditorText(function(){c.focusContextKey&&c.focusContextKey.set(!0),
n.addClass(m.stylingContainer,"synthetic-focus")})),m.disposables.push(m.inputWidget.onDidBlurEditorText(function(){c.focusContextKey&&c.focusContextKey.set(!1),n.removeClass(m.stylingContainer,"synthetic-focus")}));var C=a.chain(m.inputWidget.onKeyDown);C.filter(function(e){return 3===e.keyCode}).on(function(e){e.preventDefault(),m._onEnter.fire()},m,m.disposables),C.filter(function(e){return 18===e.keyCode&&(u.isMacintosh?e.metaKey:e.ctrlKey)}).on(function(){return m._onShouldFocusResults.fire()},m,m.disposables);var w=m.getValue();m.disposables.push(m.inputWidget.getModel().onDidChangeContent(function(){var e=m.getValue();m.placeholderText.style.visibility=e?"hidden":"visible",w.trim()!==e.trim()&&(m._onInputDidChange.fire(),w=e)}));var T={provideResults:r.provideResults,sortKey:r.sortKey||function(e){return e},triggerCharacters:r.triggerCharacters||[]};return m.disposables.push(v.CompletionProviderRegistry.register({scheme:_.scheme,pattern:"**/"+_.path,hasAccessToAllModels:!0},{
triggerCharacters:T.triggerCharacters,provideCompletionItems:function(e,t,i){var n=e.getValue(),o=n.lastIndexOf(" ",t.column-1)+1,s=t.column-o-1;return s>0&&-1===T.triggerCharacters.indexOf(n[o])?{suggestions:[]}:{suggestions:r.provideResults(n).map(function(e){return{label:e,insertText:e,range:g.Range.fromPositions(t.delta(0,-s),t),sortText:T.sortKey(e),kind:17}})}}})),m}return i(t,e),t.prototype.setValue=function(e){e=e.replace(/\s/g," ");var t=new g.Range(1,1,1,this.getValue().length+1);this.inputWidget.executeEdits("suggestEnabledInput.setValue",[h.EditOperation.replace(t,e)]),this.inputWidget.setScrollTop(0),this.inputWidget.setPosition(new f.Position(1,e.length+1))},t.prototype.getValue=function(){return this.inputWidget.getValue()},t.prototype.style=function(e){this.stylingContainer.style.backgroundColor=e.inputBackground&&e.inputBackground.toString(),this.stylingContainer.style.color=e.inputForeground&&e.inputForeground.toString(),
this.placeholderText.style.color=e.inputPlaceholderForeground&&e.inputPlaceholderForeground.toString(),this.stylingContainer.style.borderWidth="1px",this.stylingContainer.style.borderStyle="solid",this.stylingContainer.style.borderColor=e.inputBorder?e.inputBorder.toString():"transparent";var t=this.stylingContainer.getElementsByClassName("cursor")[0];t&&(t.style.backgroundColor=e.inputForeground&&e.inputForeground.toString())},t.prototype.focus=function(e){this.inputWidget.focus(),e&&this.inputWidget.getValue()&&this.selectAll()},t.prototype.layout=function(e){this.inputWidget.layout(e),this.placeholderText.style.width=e.width+"px"},t.prototype.selectAll=function(){this.inputWidget.setSelection(new g.Range(1,1,1,this.getValue().length+1))},t.prototype.dispose=function(){this.disposables=c.dispose(this.disposables),e.prototype.dispose.call(this)},t=r([o(6,E.IInstantiationService),o(7,m.IModelService)],t)}(s.Widget);t.SuggestEnabledInput=T,w.registerThemingParticipant(function(e,t){
var i=e.getColor(_.selectionBackground);(i=i?i.transparent(.4):e.getColor(_.editorSelectionBackground))&&t.addRule(".suggest-input-container .monaco-editor .focused .selected-text { background-color: "+i+"; }");var n=e.getColor(_.inputBackground);_.inputBackground&&t.addRule(".suggest-input-container .monaco-editor .selected-text { background-color: "+n.transparent(.4)+"; }");var r=e.getColor(_.inputForeground);r&&t.addRule(".suggest-input-container .monaco-editor .view-line span.inline-selected-text { color: "+r+"; }")})}),define(e[478],t([1,0,2,14,26,9,11,7,47]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r._configurationService=n,r}return i(t,e),t.prototype.run=function(){var e=!this._configurationService.getValue("editor.minimap.enabled");return this._configurationService.updateValue("editor.minimap.enabled",e,1)},t.ID="editor.action.toggleMinimap",
t.LABEL=n.localize("toggleMinimap","View: Toggle Minimap"),t=r([o(2,c.IConfigurationService)],t)}(s.Action);t.ToggleMinimapAction=p;u.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(new a.SyncActionDescriptor(p,p.ID,p.LABEL),"View: Toggle Minimap"),a.MenuRegistry.appendMenuItem(25,{group:"5_editor",command:{id:p.ID,title:n.localize({key:"miToggleMinimap",comment:["&& denotes a mnemonic"]},"Toggle &&Minimap"),toggled:l.ContextKeyExpr.equals("config.editor.minimap.enabled",!0)},order:2})}),define(e[484],t([1,0,2,14,20,26,9,11,7,47,108]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.configurationService=n,r}return i(t,e),t.prototype.run=function(){var e="ctrlCmd"===this.configurationService.getValue("editor").multiCursorModifier?"alt":"ctrlCmd";return this.configurationService.updateValue(t.multiCursorModifierConfigurationKey,e,1)},
t.ID="workbench.action.toggleMultiCursorModifier",t.LABEL=n.localize("toggleLocation","Toggle Multi-Cursor Modifier"),t.multiCursorModifierConfigurationKey="editor.multiCursorModifier",t=r([o(2,l.IConfigurationService)],t)}(s.Action);t.ToggleMultiCursorModifierAction=f;var g=new u.RawContextKey("multiCursorModifier","altKey"),v=function(){function e(e,t){var i=this;this.configurationService=e,this._multiCursorModifier=g.bindTo(t),e.onDidChangeConfiguration(function(e){e.affectsConfiguration("editor.multiCursorModifier")&&i._update()})}return e.prototype._update=function(){var e="ctrlCmd"===this.configurationService.getValue("editor").multiCursorModifier?"ctrlCmd":"altKey";this._multiCursorModifier.set(e)},e=r([o(0,l.IConfigurationService),o(1,u.IContextKeyService)],e)}();d.Registry.as(h.Extensions.Workbench).registerWorkbenchContribution(v,3);d.Registry.as(p.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(f,f.ID,f.LABEL),"Toggle Multi-Cursor Modifier"),
c.MenuRegistry.appendMenuItem(21,{group:"3_multi",command:{id:f.ID,title:n.localize("miMultiCursorAlt","Switch to Alt+Click for Multi-Cursor")},when:g.isEqualTo("ctrlCmd"),order:1}),c.MenuRegistry.appendMenuItem(21,{group:"3_multi",command:{id:f.ID,title:a.isMacintosh?n.localize("miMultiCursorCmd","Switch to Cmd+Click for Multi-Cursor"):n.localize("miMultiCursorCtrl","Switch to Ctrl+Click for Multi-Cursor")},when:g.isEqualTo("altKey"),order:1})}),define(e[485],t([1,0,2,14,26,9,11,7,47]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r._configurationService=n,r}return i(t,e),t.prototype.run=function(){var e=!this._configurationService.getValue("editor.renderControlCharacters");return this._configurationService.updateValue("editor.renderControlCharacters",e,1)},t.ID="editor.action.toggleRenderControlCharacter",t.LABEL=n.localize("toggleRenderControlCharacters","View: Toggle Control Characters"),
t=r([o(2,c.IConfigurationService)],t)}(s.Action);t.ToggleRenderControlCharacterAction=p;u.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(new a.SyncActionDescriptor(p,p.ID,p.LABEL),"View: Toggle Control Characters"),a.MenuRegistry.appendMenuItem(25,{group:"5_editor",command:{id:p.ID,title:n.localize({key:"miToggleRenderControlCharacters",comment:["&& denotes a mnemonic"]},"Toggle &&Control Characters"),toggled:l.ContextKeyExpr.equals("config.editor.renderControlCharacters",!0)},order:4})}),define(e[487],t([1,0,2,14,26,9,11,7,47]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r._configurationService=n,r}return i(t,e),t.prototype.run=function(){var e;return e="none"===this._configurationService.getValue("editor.renderWhitespace")?"all":"none",this._configurationService.updateValue("editor.renderWhitespace",e,1)},t.ID="editor.action.toggleRenderWhitespace",
t.LABEL=n.localize("toggleRenderWhitespace","View: Toggle Render Whitespace"),t=r([o(2,c.IConfigurationService)],t)}(s.Action);t.ToggleRenderWhitespaceAction=p;u.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(new a.SyncActionDescriptor(p,p.ID,p.LABEL),"View: Toggle Render Whitespace"),a.MenuRegistry.appendMenuItem(25,{group:"5_editor",command:{id:p.ID,title:n.localize({key:"miToggleRenderWhitespace",comment:["&& denotes a mnemonic"]},"Toggle &&Render Whitespace"),toggled:l.ContextKeyExpr.notEquals("config.editor.renderWhitespace","none")},order:3})}),define(e[499],t([1,0,2,3,6,67,83,170,106,26,11,25]),function(e,t,n,s,a,c,l,u,d,p,h,f){"use strict";function g(e,t,i){var n=t.getValue(e.uri,"editor"),r=!n||"string"!=typeof n.wordWrap&&"boolean"!=typeof n.wordWrap?void 0:n.wordWrap;!0===r?r="on":!1===r&&(r="off");var o=n&&"boolean"==typeof n.wordWrapMinified?n.wordWrapMinified:void 0,s=function(e,t){return t.getTransientModelProperty(e,m)}(e,i);return{configuredWordWrap:r,
configuredWordWrapMinified:"boolean"==typeof o?o:u.EDITOR_DEFAULTS.wordWrapMinified,transientState:s}}function v(e){return!!e&&("output"!==e.scheme&&"vscode"!==e.scheme)}Object.defineProperty(t,"__esModule",{value:!0});var m="transientWordWrapState",y="isWordWrapMinified",S="isDominatedByLongLines",b="inDiffEditor",E="editor.action.toggleWordWrap",_=function(e){function t(){return e.call(this,{id:E,label:n.localize("toggle.wordwrap","View: Toggle Word Wrap"),alias:"View: Toggle Word Wrap",precondition:null,kbOpts:{kbExpr:null,primary:568,weight:100}})||this}return i(t,e),t.prototype.run=function(e,t){if(t.hasModel()){if(t.getConfiguration().wrappingInfo.inDiffEditor){e.get(f.INotificationService).info(n.localize("wordWrap.notInDiffEditor","Cannot toggle word wrap in a diff editor."))}else{var i=e.get(d.ITextResourceConfigurationService),r=e.get(l.ICodeEditorService),o=t.getModel();if(v(o.uri)){!function(e,t,i){i.setTransientModelProperty(e,m,t)}(o,function(e,t){if(t.transientState)return{
configuredWordWrap:t.configuredWordWrap,configuredWordWrapMinified:t.configuredWordWrapMinified,transientState:null};var i;return i=e.getConfiguration().wrappingInfo.isWordWrapMinified?{forceWordWrap:"off",forceWordWrapMinified:!1}:"off"!==t.configuredWordWrap?{forceWordWrap:"off",forceWordWrapMinified:!1}:{forceWordWrap:"on",forceWordWrapMinified:t.configuredWordWrapMinified},{configuredWordWrap:t.configuredWordWrap,configuredWordWrapMinified:t.configuredWordWrapMinified,transientState:i}}(t,g(o,i,r)).transientState,r)}}}},t}(c.EditorAction),C=function(e){function t(t,i,n,r){var o=e.call(this)||this;o.editor=t,o.contextKeyService=i,o.configurationService=n,o.codeEditorService=r;var s=o.editor.getConfiguration(),a=o.contextKeyService.createKey(y,o._isWordWrapMinified(s)),c=o.contextKeyService.createKey(S,o._isDominatedByLongLines(s)),l=o.contextKeyService.createKey(b,o._inDiffEditor(s)),u=!1;o._register(t.onDidChangeConfiguration(function(e){if(e.wrappingInfo){var t=o.editor.getConfiguration()
;a.set(o._isWordWrapMinified(t)),c.set(o._isDominatedByLongLines(t)),l.set(o._inDiffEditor(t)),u||d()}})),o._register(t.onDidChangeModel(function(e){d()})),o._register(r.onDidChangeTransientModelProperty(function(){d()}));var d=function(){var e=o.editor.getModel();if(e){var t=o.editor.getConfiguration();if(!o._inDiffEditor(t)&&v(e.uri)){var i=g(e,o.configurationService,o.codeEditorService);try{u=!0,o._applyWordWrapState(i)}finally{u=!1}}}};return o}return i(t,e),t.prototype._applyWordWrapState=function(e){e.transientState?this.editor.updateOptions({wordWrap:e.transientState.forceWordWrap,wordWrapMinified:e.transientState.forceWordWrapMinified}):this.editor.updateOptions({wordWrap:e.configuredWordWrap,wordWrapMinified:e.configuredWordWrapMinified})},t.prototype._isWordWrapMinified=function(e){return e.wrappingInfo.isWordWrapMinified},t.prototype._isDominatedByLongLines=function(e){return e.wrappingInfo.isDominatedByLongLines},t.prototype._inDiffEditor=function(e){return e.wrappingInfo.inDiffEditor},
t.prototype.getId=function(){return t._ID},t._ID="editor.contrib.toggleWordWrapController",t=r([o(1,h.IContextKeyService),o(2,d.ITextResourceConfigurationService),o(3,l.ICodeEditorService)],t)}(s.Disposable);c.registerEditorContribution(C),c.registerEditorAction(_),p.MenuRegistry.appendMenuItem(7,{command:{id:E,title:n.localize("unwrapMinified","Disable wrapping for this file"),iconLocation:{dark:a.URI.parse(e.toUrl("vs/workbench/parts/codeEditor/electron-browser/media/WordWrap_16x.svg"))}},group:"navigation",order:1,when:h.ContextKeyExpr.and(h.ContextKeyExpr.not(b),h.ContextKeyExpr.has(S),h.ContextKeyExpr.has(y))}),p.MenuRegistry.appendMenuItem(7,{command:{id:E,title:n.localize("wrapMinified","Enable wrapping for this file"),iconLocation:{dark:a.URI.parse(e.toUrl("vs/workbench/parts/codeEditor/electron-browser/media/WordWrap_16x.svg"))}},group:"navigation",order:1,when:h.ContextKeyExpr.and(h.ContextKeyExpr.not(b),h.ContextKeyExpr.has(S),h.ContextKeyExpr.not(y))}),p.MenuRegistry.appendMenuItem(25,{
group:"5_editor",command:{id:E,title:n.localize({key:"miToggleWordWrap",comment:["&& denotes a mnemonic"]},"Toggle &&Word Wrap")},order:1})}),define(e[512],t([1,0,67,83,581,9,11,4,25,28]),function(e,t,n,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(e){function t(t,i,n,r,o,s,a){return e.call(this,!1,t,i,n,r,o,s,a)||this}return i(t,e),t=r([o(1,l.IContextKeyService),o(2,s.ICodeEditorService),o(3,d.INotificationService),o(4,u.IInstantiationService),o(5,p.IStorageService),o(6,c.IConfigurationService)],t)}(a.ReferencesController);t.WorkbenchReferencesController=h,n.registerEditorContribution(h)}),define(e[515],t([1,0,4,109,7]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEWLET_ID="workbench.view.extensions",t.VIEW_CONTAINER=r.Registry.as(n.Extensions.ViewContainersRegistry).registerViewContainer(t.VIEWLET_ID),t.SERVICE_ID="extensionsWorkbenchService",t.IExtensionsWorkbenchService=i.createDecorator(t.SERVICE_ID),
t.ConfigurationKey="extensions",t.AutoUpdateConfigurationKey="extensions.autoUpdate",t.AutoCheckUpdatesConfigurationKey="extensions.autoCheckUpdates",t.ShowRecommendationsOnlyOnDemandKey="extensions.showRecommendationsOnlyOnDemand",t.CloseExtensionDetailsOnViewChangeKey="extensions.closeExtensionDetailsOnViewChange"}),define(e[118],t([1,0,6,33,24,44,20,21,17,3,32,22]),function(e,t,n,s,a,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(e){var t=this;this.contextService=e;var i=function(){return t._roots=t.contextService.getWorkspace().folders.map(function(e){return new v(e.uri,void 0,!1,!1,!0,e.name)})};this._listener=this.contextService.onDidChangeWorkspaceFolders(function(){return i()}),i()}return Object.defineProperty(e.prototype,"roots",{get:function(){return this._roots},enumerable:!0,configurable:!0}),e.prototype.findAll=function(e){return this.roots.map(function(t){return t.find(e)}).filter(function(e){return!!e})},
e.prototype.findClosest=function(e){var t=this.contextService.getWorkspaceFolder(e);if(t){var i=this.roots.filter(function(e){return e.resource.toString()===t.uri.toString()}).pop();if(i)return i.find(e)}return null},e.prototype.dispose=function(){this._listener=p.dispose(this._listener)},e=r([o(0,u.IWorkspaceContextService)],e)}();t.Model=g;var v=function(){function e(e,t,i,n,r,o,s,c,l){void 0===o&&(o=a.basenameOrAuthority(e)),this.root=t,this.resource=e,this._name=o,this.isDirectory=!!r,this._isSymbolicLink=!!i,this._isReadonly=!!n,this.etag=c,this.mtime=s,this._isError=!!l,this.root||(this.root=this),this.isDirectoryResolved=!1}return Object.defineProperty(e.prototype,"isSymbolicLink",{get:function(){return this._isSymbolicLink},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDirectory",{get:function(){return this._isDirectory},set:function(e){e!==this._isDirectory&&(this._isDirectory=e,this._isDirectory?this.children=new Map:this.children=void 0)},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"isReadonly",{get:function(){return this._isReadonly},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isError",{get:function(){return this._isError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.updateName=function(e){this.parent&&this.parent.removeChild(this),this._name=e,this.parent&&this.parent.addChild(this)},e.prototype.getId=function(){return this.resource.toString()},Object.defineProperty(e.prototype,"isRoot",{get:function(){return this===this.root},enumerable:!0,configurable:!0}),e.create=function(t,i,n,r){void 0===r&&(r=!1);var o=new e(t.resource,i,t.isSymbolicLink,t.isReadonly,t.isDirectory,t.name,t.mtime,t.etag,r);if(o.isDirectory&&(o.isDirectoryResolved=!!t.children||!!n&&n.some(function(e){return a.isEqualOrParent(e,o.resource)}),t.children))for(var s=0,c=t.children.length;s<c;s++){var l=e.create(t.children[s],i,n);l.parent=o,o.addChild(l)}
return o},e.mergeLocalWithDisk=function(t,i){if(t.resource.toString()===i.resource.toString()){var n=t.isDirectory||i.isDirectory;if((!n||!i.isDirectoryResolved||t.isDirectoryResolved)&&(i.resource=t.resource,i.updateName(t.name),i.isDirectory=t.isDirectory,i.mtime=t.mtime,i.isDirectoryResolved=t.isDirectoryResolved,i._isSymbolicLink=t.isSymbolicLink,i._isReadonly=t.isReadonly,i._isError=t.isError,n&&t.isDirectoryResolved)){var r=new c.ResourceMap;i.children&&i.children.forEach(function(e){r.set(e.resource,e)}),i.children=new Map,t.children.forEach(function(t){var n=r.get(t.resource);n?(e.mergeLocalWithDisk(t,n),n.parent=i,i.addChild(n)):(t.parent=i,i.addChild(t))})}}},e.prototype.addChild=function(e){this.children||(this.isDirectory=!0),e.parent=this,e.updateResource(!1),this.children.set(this.getPlatformAwareName(e.name),e)},e.prototype.getChild=function(e){if(this.children)return this.children.get(this.getPlatformAwareName(e))},e.prototype.getChildrenArray=function(){if(this.children){var e=[]
;return this.children.forEach(function(t){e.push(t)}),e}},e.prototype.getChildrenCount=function(){return this.children?this.children.size:0},e.prototype.removeChild=function(e){this.children.delete(this.getPlatformAwareName(e.name))},e.prototype.getPlatformAwareName=function(e){return l.isLinux||!e?e:e.toLowerCase()},e.prototype.move=function(e,t,i){var n=this;t||(t=function(e){e()}),this.parent.removeChild(this),t(function(){e.removeChild(n),e.addChild(n),n.updateResource(!0),i&&i()})},e.prototype.updateResource=function(e){this.resource=a.joinPath(this.parent.resource,this.name),e&&this.isDirectory&&this.children&&this.children.forEach(function(e){e.updateResource(!0)})},e.prototype.rename=function(e){this.updateName(e.name),this.mtime=e.mtime,this.updateResource(!0)},e.prototype.find=function(e){
return e&&this.resource.scheme===e.scheme&&f.equalsIgnoreCase(this.resource.authority,e.authority)&&(a.hasToIgnoreCase(e)?f.startsWithIgnoreCase(e.path,this.resource.path):f.startsWith(e.path,this.resource.path))?this.findByPath(f.rtrim(e.path,s.sep),this.resource.path.length):null},e.prototype.findByPath=function(e,t){if(s.isEqual(f.rtrim(this.resource.path,s.sep),e,!l.isLinux))return this;if(this.children){for(;t<e.length&&e[t]===s.sep;)t++;var i=e.indexOf(s.sep,t);-1===i&&(i=e.length);var n=e.substring(t,i),r=this.children.get(this.getPlatformAwareName(n));if(r)return r.findByPath(e,i)}return null},e}();t.ExplorerItem=v;var m=function(e){function t(i,r){var o=e.call(this,n.URI.file(""),r,!1,!1,!1,t.NAME)||this;return o.id=t.ID++,o.isDirectoryResolved=i,o.directoryPlaceholder=i,o}return i(t,e),t.prototype.destroy=function(){this.parent.removeChild(this),this.isDirectoryResolved=void 0,this.isDirectory=void 0,this.mtime=void 0},t.prototype.getId=function(){
return"new-stat-placeholder:"+this.id+":"+this.parent.resource.toString()},t.prototype.isDirectoryPlaceholder=function(){return this.directoryPlaceholder},t.prototype.addChild=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.removeChild=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.move=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.rename=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.find=function(e){return null},t.addNewStatPlaceholder=function(e,i){var n=new t(i,e.root);return n.parent=e,e.addChild(n),n},t.NAME="",t.ID=0,t}(v);t.NewStatPlaceholder=m;var y=function(){function e(e,t){this._editor=e,this._group=t}return Object.defineProperty(e.prototype,"editor",{get:function(){return this._editor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editorIndex",{get:function(){
return this._group.getIndexOfEditor(this.editor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupId",{get:function(){return this._group.id},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return"openeditor:"+this.groupId+":"+this.editorIndex+":"+this.editor.getName()+":"+this.editor.getDescription()},e.prototype.isPreview=function(){return this._group.previewEditor===this.editor},e.prototype.isUntitled=function(){return!!d.toResource(this.editor,{supportSideBySide:!0,filter:h.Schemas.untitled})},e.prototype.isDirty=function(){return this.editor.isDirty()},e.prototype.getResource=function(){return d.toResource(this.editor,{supportSideBySide:!0})},e}();t.OpenEditor=y}),define(e[202],t([1,0,6,118,17,197,520]),function(e,t,i,n,r,o,s){"use strict";function a(e,t,o){if(i.URI.isUri(e))return e;var a=t.lastFocusedList;if(a&&a.getHTMLElement()===document.activeElement){
var c;if(a instanceof s.List){var l=a.getFocusedElements();l.length&&(c=l[0])}else c=a.getFocus();if(c instanceof n.ExplorerItem)return c.resource;if(c instanceof n.OpenEditor)return c.getResource()}return r.toResource(o.activeEditor,{supportSideBySide:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceForCommand=a,t.getMultiSelectedResources=function(e,t,r){var c=t.lastFocusedList;if(c&&c.getHTMLElement()===document.activeElement){if(c instanceof o.Tree){var l=c.getSelection().map(function(e){return e.resource}),u=c.getFocus(),d=i.URI.isUri(e)?e.toString():u instanceof n.ExplorerItem?u.resource.toString():void 0;if(l.some(function(e){return i.URI.isUri(e)&&e.toString()===d}))return l}if(c instanceof s.List){var l=c.getSelectedElements().filter(function(e){return e instanceof n.OpenEditor}).map(function(e){return e.getResource()}),p=c.getFocusedElements(),h=p.length?p[0]:void 0,f=i.URI.isUri(e)?e.toString():h instanceof n.OpenEditor?h.getResource().toString():void 0;if(l.some(function(e){
return e.toString()===f}))return l}}var g=a(e,t,r);return g?[g]:[]}}),define(e[522],t([1,0,5,2,21,27,3]),function(e,t,i,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var r=this;this.model=e,this.label=n.localize("label","Explorer"),this._onDidChange=new i.Emitter,this.toDispose=[],this.toDispose.push(t.onDidChangeWorkspaceFolders(function(e){r._onDidChange.fire(e.changed.concat(e.added).map(function(e){return e.uri}))}))}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.changed=function(e){this._onDidChange.fire(e)},e.prototype.provideDecorations=function(e){var t=this.model.findClosest(e);return t&&t.isRoot&&t.isError?{tooltip:n.localize("canNotResolve","Can not resolve workspace folder"),letter:"!",color:a.listInvalidItemForeground}:t&&t.isSymbolicLink?{tooltip:n.localize("symbolicLlink","Symbolic Link"),letter:""}:void 0},e.prototype.dispose=function(){
return c.dispose(this.toDispose)},e=r([o(1,s.IWorkspaceContextService)],e)}();t.ExplorerDecorationsProvider=l}),define(e[271],t([1,0,5,7,4,11]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OUTPUT_MIME="text/x-code-output",t.OUTPUT_SCHEME="output",t.OUTPUT_MODE_ID="Log",t.LOG_MIME="text/x-code-log-output",t.LOG_SCHEME="log",t.LOG_MODE_ID="log",t.OUTPUT_PANEL_ID="workbench.panel.output",t.Extensions={OutputChannels:"workbench.contributions.outputChannels"},t.OUTPUT_SERVICE_ID="outputService",t.MAX_OUTPUT_LENGTH=1e6,t.CONTEXT_IN_OUTPUT=new o.RawContextKey("inOutput",!1),t.CONTEXT_ACTIVE_LOG_OUTPUT=new o.RawContextKey("activeLogOutput",!1),t.IOutputService=r.createDecorator(t.OUTPUT_SERVICE_ID);var s=function(){function e(){this.channels=new Map,this._onDidRegisterChannel=new i.Emitter,this.onDidRegisterChannel=this._onDidRegisterChannel.event,this._onDidRemoveChannel=new i.Emitter,this.onDidRemoveChannel=this._onDidRemoveChannel.event}
return e.prototype.registerChannel=function(e){this.channels.has(e.id)||(this.channels.set(e.id,e),this._onDidRegisterChannel.fire(e.id))},e.prototype.getChannels=function(){var e=[];return this.channels.forEach(function(t){return e.push(t)}),e},e.prototype.getChannel=function(e){return this.channels.get(e)},e.prototype.removeChannel=function(e){this.channels.delete(e),this._onDidRemoveChannel.fire(e)},e}();n.Registry.add(t.Extensions.OutputChannels,new s)}),define(e[162],t([1,0,8,72,53,159,98,14,5,144,3,6,2,37,4,27,50,12,21,57]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C=function(e){function t(t,i){var n=e.call(this)||this;return n.editor=t,n.title=i,n.create(),n._register(n.editor.onDidChangeConfiguration(function(){return n.layout()})),n._register(n.editor.onDidLayoutChange(function(){return n.layout()})),n}return i(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0
}),Object.defineProperty(t.prototype,"heightInLines",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterLineNumber",{get:function(){return 0},enumerable:!0,configurable:!0}),t.prototype.create=function(){var e=this;this._domNode=n.$(".settings-header-widget"),this.titleContainer=n.append(this._domNode,n.$(".title-container")),this.title&&(n.append(this.titleContainer,n.$(".title")).textContent=this.title),this.messageElement=n.append(this.titleContainer,n.$(".message")),this.title&&(this.messageElement.style.paddingLeft="12px"),this.editor.changeViewZones(function(t){e.id=t.addZone(e),e.layout()})},t.prototype.setMessage=function(e){this.messageElement.textContent=e},t.prototype.layout=function(){var e=this.editor.getConfiguration();this.titleContainer.style.fontSize=e.fontInfo.fontSize+"px",e.contribInfo.folding||(this.titleContainer.style.paddingLeft="6px")},t.prototype.dispose=function(){var t=this;this.editor.changeViewZones(function(e){e.removeZone(t.id)}),
e.prototype.dispose.call(this)},t}(l.Widget);t.SettingsHeaderWidget=C;var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClick=t._register(new d.Emitter),t.onClick=t._onClick.event,t}return i(t,e),t.prototype.create=function(){e.prototype.create.call(this),this.toggleMessage(!0)},t.prototype.toggleMessage=function(e){e?this.setMessage(g.localize("defaultSettings","Place your settings in the right hand side editor to override.")):this.setMessage(g.localize("noSettingsFound","No Settings Found."))},t}(C);t.DefaultSettingsHeaderWidget=w;var I=function(e){function t(t,i){var n=e.call(this)||this;return n.editor=t,n.settingsGroup=i,n._onToggled=n._register(new d.Emitter),n.onToggled=n._onToggled.event,n.create(),n._register(n.editor.onDidChangeConfiguration(function(){return n.layout()})),n._register(n.editor.onDidLayoutChange(function(){return n.layout()})),n._register(n.editor.onDidChangeCursorPosition(function(e){return n.onCursorChange(e)})),n}return i(t,e),
Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightInLines",{get:function(){return 1.5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterLineNumber",{get:function(){return this._afterLineNumber},enumerable:!0,configurable:!0}),t.prototype.create=function(){var e=this;this._domNode=n.$(".settings-group-title-widget"),this.titleContainer=n.append(this._domNode,n.$(".title-container")),this.titleContainer.tabIndex=0,this.onclick(this.titleContainer,function(){return e.toggle()}),this.onkeydown(this.titleContainer,function(t){return e.onKeyDown(t)});var t=this._register(n.trackFocus(this.titleContainer));this._register(t.onDidFocus(function(){return e.toggleFocus(!0)})),this._register(t.onDidBlur(function(){return e.toggleFocus(!1)})),this.icon=n.append(this.titleContainer,n.$(".expand-collapse-icon")),this.title=n.append(this.titleContainer,n.$(".title")),
this.title.textContent=this.settingsGroup.title+" ("+this.settingsGroup.sections.reduce(function(e,t){return e+t.settings.length},0)+")",this.layout()},t.prototype.render=function(){var e=this;this.settingsGroup.range&&(this._afterLineNumber=this.settingsGroup.range.startLineNumber-2,this.editor.changeViewZones(function(t){e.id=t.addZone(e),e.layout()}))},t.prototype.toggleCollapse=function(e){n.toggleClass(this.titleContainer,"collapsed",e)},t.prototype.toggleFocus=function(e){n.toggleClass(this.titleContainer,"focused",e)},t.prototype.isCollapsed=function(){return n.hasClass(this.titleContainer,"collapsed")},t.prototype.layout=function(){var e=this.editor.getConfiguration(),t=this.editor.getLayoutInfo();this._domNode.style.width=t.contentWidth-t.verticalScrollbarWidth+"px",this.titleContainer.style.lineHeight=e.lineHeight+3+"px",this.titleContainer.style.height=e.lineHeight+3+"px",this.titleContainer.style.fontSize=e.fontInfo.fontSize+"px",this.icon.style.minWidth=this.getIconSize(16)+"px"},
t.prototype.getIconSize=function(e){var t=this.editor.getConfiguration().fontInfo.fontSize;return t>8?Math.max(t,e):12},t.prototype.onKeyDown=function(e){switch(e.keyCode){case 3:case 10:this.toggle();break;case 15:this.collapse(!0);break;case 17:this.collapse(!1);break;case 16:if(this.settingsGroup.range.startLineNumber-3!=1){this.editor.focus();var t=this.settingsGroup.range.startLineNumber-2;this.editor.setPosition({lineNumber:t,column:this.editor.getModel().getLineMinColumn(t)})}break;case 18:var i=this.isCollapsed()?this.settingsGroup.range.startLineNumber:this.settingsGroup.range.startLineNumber-1;this.editor.focus(),this.editor.setPosition({lineNumber:i,column:this.editor.getModel().getLineMinColumn(i)})}},t.prototype.toggle=function(){this.collapse(!this.isCollapsed())},t.prototype.collapse=function(e){e!==this.isCollapsed()&&(n.toggleClass(this.titleContainer,"collapsed",e),this._onToggled.fire(e))},t.prototype.onCursorChange=function(e){
"mouse"!==e.source&&this.focusTitle(e.position)&&this.titleContainer.focus()},t.prototype.focusTitle=function(e){var t=this.previousPosition;return this.previousPosition=e,!!t&&(t.lineNumber!==e.lineNumber&&(!!this.settingsGroup.range&&(e.lineNumber===this.settingsGroup.range.startLineNumber-1||e.lineNumber===this.settingsGroup.range.startLineNumber-2||!(!this.isCollapsed()||e.lineNumber!==this.settingsGroup.range.endLineNumber))))},t.prototype.dispose=function(){var t=this;this.editor.changeViewZones(function(e){e.removeZone(t.id)}),e.prototype.dispose.call(this)},t}(l.Widget);t.SettingsGroupTitleWidget=I;var x=function(e){function t(t,i,n){var r=e.call(this,null,t)||this;r.contextService=i,r.contextMenuService=n,r._folderSettingCounts=new Map,r.disposables=[];var o=r.contextService.getWorkspace();return r._folder=1===o.folders.length?o.folders[0]:null,r.disposables.push(r.contextService.onDidChangeWorkspaceFolders(function(){return r.onWorkspaceFoldersChanged()})),r}return i(t,e),
Object.defineProperty(t.prototype,"folder",{get:function(){return this._folder},set:function(e){this._folder=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.setCount=function(e,t){var i=this.contextService.getWorkspaceFolder(e).uri;this._folderSettingCounts.set(i.toString(),t),this.update()},t.prototype.render=function(e){var t=this;this.element=e,this.container=e,this.labelElement=n.$(".action-title"),this.detailsElement=n.$(".action-details"),this.dropDownElement=n.$(".dropdown-icon.octicon.octicon-triangle-down.hide"),this.anchorElement=n.$("a.action-label.folder-settings",{role:"button","aria-haspopup":"true",tabindex:"0"},this.labelElement,this.detailsElement,this.dropDownElement),this._register(n.addDisposableListener(this.anchorElement,n.EventType.MOUSE_DOWN,function(e){return n.EventHelper.stop(e)})),this.disposables.push(n.addDisposableListener(this.anchorElement,n.EventType.CLICK,function(e){return t.onClick(e)})),
this.disposables.push(n.addDisposableListener(this.anchorElement,n.EventType.KEY_UP,function(e){return t.onKeyUp(e)})),n.append(this.container,this.anchorElement),this.update()},t.prototype.onKeyUp=function(e){switch(new s.StandardKeyboardEvent(e).keyCode){case 3:case 10:return void this.onClick(e)}},t.prototype.onClick=function(e){n.EventHelper.stop(e,!0),!this.folder||this._action.checked?this.showMenu():this._action.run(this._folder)},t.prototype.updateEnabled=function(){this.update()},t.prototype.updateChecked=function(){this.update()},t.prototype.onWorkspaceFoldersChanged=function(){var e=this,t=this._folder,i=this.contextService.getWorkspace();this._folder&&(this._folder=i.folders.filter(function(t){return t.uri.toString()===e._folder.uri.toString()})[0]||i.folders[0]),this._folder=this._folder?this._folder:1===i.folders.length?i.folders[0]:null,this.update(),
this._action.checked&&(t||!this._folder||!t||this._folder||t&&this._folder&&t.uri.toString()===this._folder.uri.toString())&&this._action.run(this._folder)},t.prototype.update=function(){var e=0;this._folderSettingCounts.forEach(function(t){return e+=t});var t=this.contextService.getWorkspace();if(this._folder){this.labelElement.textContent=this._folder.name,this.anchorElement.title=this._folder.name;var i=this.labelWithCount(this._action.label,e);this.detailsElement.textContent=i,n.toggleClass(this.dropDownElement,"hide",1===t.folders.length||!this._action.checked)}else{var r=this.labelWithCount(this._action.label,e);this.labelElement.textContent=r,this.detailsElement.textContent="",this.anchorElement.title=this._action.label,n.removeClass(this.dropDownElement,"hide")}n.toggleClass(this.anchorElement,"checked",this._action.checked),n.toggleClass(this.container,"disabled",!this._action.enabled)},t.prototype.showMenu=function(){var e=this;this.contextMenuService.showContextMenu({getAnchor:function(){
return e.container},getActions:function(){return e.getDropdownMenuActions()},getActionItem:function(){return null},onHide:function(){e.anchorElement.blur()}})},t.prototype.getDropdownMenuActions=function(){var e=this,t=[],i=this.contextService.getWorkspace().folders;return 3===this.contextService.getWorkbenchState()&&i.length>0&&t.push.apply(t,i.map(function(t,i){var n=e._folderSettingCounts.get(t.uri.toString());return{id:"folderSettingsTarget"+i,label:e.labelWithCount(t.name,n),checked:e.folder&&e.folder.uri.toString()===t.uri.toString(),enabled:!0,run:function(){return e._action.run(t)}}})),t},t.prototype.labelWithCount=function(e,t){return t&&(e+=" ("+t+")"),e},t.prototype.dispose=function(){h.dispose(this.disposables),e.prototype.dispose.call(this)},t=r([o(1,E.IWorkspaceContextService),o(2,v.IContextMenuService)],t)}(a.BaseActionItem);t.FolderSettingsActionItem=x;var D=function(e){function t(t,i,n){var r=e.call(this)||this;return r.contextService=i,r.instantiationService=n,
r._onDidTargetChange=new d.Emitter,r.onDidTargetChange=r._onDidTargetChange.event,r.create(t),r._register(r.contextService.onDidChangeWorkbenchState(function(){return r.onWorkbenchStateChanged()})),r._register(r.contextService.onDidChangeWorkspaceFolders(function(){return r.update()})),r}return i(t,e),t.prototype.create=function(e){var t=this,i=n.append(e,n.$(".settings-tabs-widget"));this.settingsSwitcherBar=this._register(new a.ActionBar(i,{orientation:0,ariaLabel:g.localize("settingsSwitcherBarAriaLabel","Settings Switcher"),animated:!1,actionItemProvider:function(e){return"folderSettings"===e.id?t.folderSettings:null}})),this.userSettings=new u.Action("userSettings",g.localize("userSettings","User Settings"),".settings-tab",!0,function(){return t.updateTarget(1)}),this.userSettings.tooltip=this.userSettings.label,this.workspaceSettings=new u.Action("workspaceSettings",g.localize("workspaceSettings","Workspace Settings"),".settings-tab",!1,function(){return t.updateTarget(2)}),
this.workspaceSettings.tooltip=this.workspaceSettings.label;var r=new u.Action("folderSettings",g.localize("folderSettings","Folder Settings"),".settings-tab",!1,function(e){return t.updateTarget(e?e.uri:1)});this.folderSettings=this.instantiationService.createInstance(x,r),this.update(),this.settingsSwitcherBar.push([this.userSettings,this.workspaceSettings,r])},Object.defineProperty(t.prototype,"settingsTarget",{get:function(){return this._settingsTarget},set:function(e){this._settingsTarget=e,this.userSettings.checked=1===this.settingsTarget,this.workspaceSettings.checked=2===this.settingsTarget,this.settingsTarget instanceof f.URI?(this.folderSettings.getAction().checked=!0,this.folderSettings.folder=this.contextService.getWorkspaceFolder(this.settingsTarget)):this.folderSettings.getAction().checked=!1},enumerable:!0,configurable:!0}),t.prototype.setResultCount=function(e,t){if(2===e){i=g.localize("workspaceSettings","Workspace Settings");t&&(i+=" ("+t+")"),this.workspaceSettings.label=i}else if(1===e){
var i=g.localize("userSettings","User Settings");t&&(i+=" ("+t+")"),this.userSettings.label=i}else e instanceof f.URI&&this.folderSettings.setCount(e,t)},t.prototype.onWorkbenchStateChanged=function(){this.folderSettings.folder=null,this.update(),2===this.settingsTarget&&3===this.contextService.getWorkbenchState()&&this.updateTarget(1)},t.prototype.updateTarget=function(e){return this.settingsTarget===e||e instanceof f.URI&&this.settingsTarget instanceof f.URI&&this.settingsTarget.toString()===e.toString()||(this.settingsTarget=e,this._onDidTargetChange.fire(this.settingsTarget)),Promise.resolve(null)},t.prototype.update=function(){n.toggleClass(this.settingsSwitcherBar.domNode,"empty-workbench",1===this.contextService.getWorkbenchState()),this.workspaceSettings.enabled=1!==this.contextService.getWorkbenchState(),this.folderSettings.getAction().enabled=3===this.contextService.getWorkbenchState()&&this.contextService.getWorkspace().folders.length>0},
t=r([o(1,E.IWorkspaceContextService),o(2,m.IInstantiationService)],t)}(l.Widget);t.SettingsTargetsWidget=D;var T=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.options=i,s.contextViewService=n,s.instantiationService=r,s.themeService=o,s._onDidChange=s._register(new d.Emitter),s.onDidChange=s._onDidChange.event,s._onFocus=s._register(new d.Emitter),s.onFocus=s._onFocus.event,s.create(t),s}return i(t,e),t.prototype.create=function(e){var t=this;this.domNode=n.append(e,n.$("div.settings-header-widget")),this.createSearchContainer(n.append(this.domNode,n.$("div.settings-search-container"))),this.controlsDiv=n.append(this.domNode,n.$("div.settings-search-controls")),this.options.showResultCount&&(this.countElement=n.append(this.controlsDiv,n.$(".settings-count-widget")),this._register(S.attachStylerCallback(this.themeService,{badgeBackground:y.badgeBackground,contrastBorder:y.contrastBorder},function(e){
var i=e.badgeBackground?e.badgeBackground.toString():null,n=e.contrastBorder?e.contrastBorder.toString():null;t.countElement.style.backgroundColor=i,t.countElement.style.borderWidth=n?"1px":null,t.countElement.style.borderStyle=n?"solid":null,t.countElement.style.borderColor=n;var r=t.themeService.getTheme().getColor(y.badgeForeground);t.countElement.style.color=r?r.toString():null}))),this.inputBox.inputElement.setAttribute("aria-live",this.options.ariaLive||"off"),this.options.ariaLabelledBy&&this.inputBox.inputElement.setAttribute("aria-labelledBy",this.options.ariaLabelledBy);var i=this._register(n.trackFocus(this.inputBox.inputElement));this._register(i.onDidFocus(function(){return t._onFocus.fire()})),this.options.focusKey&&(this._register(i.onDidFocus(function(){return t.options.focusKey.set(!0)})),this._register(i.onDidBlur(function(){return t.options.focusKey.set(!1)})))},t.prototype.createSearchContainer=function(e){var t=this;this.searchContainer=e
;var i=n.append(this.searchContainer,n.$("div.settings-search-input"));this.inputBox=this._register(this.createInputBox(i)),this._register(this.inputBox.onDidChange(function(e){return t._onDidChange.fire(e)}))},t.prototype.createInputBox=function(e){var t=this._register(new c.InputBox(e,this.contextViewService,this.options));return this._register(S.attachInputBoxStyler(t,this.themeService)),t},t.prototype.showMessage=function(e){this.countElement&&e!==this.countElement.textContent&&(this.countElement.textContent=e,this.inputBox.inputElement.setAttribute("aria-label",e),this.inputBox.inputElement.style.paddingRight=this.getControlsWidth()+"px")},t.prototype.layout=function(e){e.width<400?(this.countElement&&n.addClass(this.countElement,"hide"),this.inputBox.inputElement.style.paddingRight="0px"):(this.countElement&&n.removeClass(this.countElement,"hide"),this.inputBox.inputElement.style.paddingRight=this.getControlsWidth()+"px")},t.prototype.getControlsWidth=function(){
return(this.countElement?n.getTotalWidth(this.countElement):0)+20},t.prototype.focus=function(){this.inputBox.focus(),this.getValue()&&this.inputBox.select()},t.prototype.hasFocus=function(){return this.inputBox.hasFocus()},t.prototype.clear=function(){this.inputBox.value=""},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){return this.inputBox.value=e},t.prototype.dispose=function(){this.options.focusKey&&this.options.focusKey.set(!1),e.prototype.dispose.call(this)},t=r([o(2,v.IContextViewService),o(3,m.IInstantiationService),o(4,b.IThemeService)],t)}(l.Widget);t.SearchWidget=T;var R=function(e){function t(t){var i=e.call(this)||this;return i.editor=t,i._onClick=new d.Emitter,i._editPreferenceDecoration=[],i._register(i.editor.onMouseDown(function(e){var t=e.target.detail;2===e.target.type&&!t.isAfterLines&&i.isVisible()&&i._onClick.fire(e)})),i}return i(t,e),Object.defineProperty(t.prototype,"onClick",{get:function(){return this._onClick.event},enumerable:!0,
configurable:!0}),Object.defineProperty(t.prototype,"preferences",{get:function(){return this._preferences},enumerable:!0,configurable:!0}),t.prototype.getLine=function(){return this._line},t.prototype.show=function(e,i,n){this._preferences=n;var r=[];this._line=e,r.push({options:{glyphMarginClassName:t.GLYPH_MARGIN_CLASS_NAME,glyphMarginHoverMessage:(new p.MarkdownString).appendText(i),stickiness:1},range:{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1}}),this._editPreferenceDecoration=this.editor.deltaDecorations(this._editPreferenceDecoration,r)},t.prototype.hide=function(){this._editPreferenceDecoration=this.editor.deltaDecorations(this._editPreferenceDecoration,[])},t.prototype.isVisible=function(){return this._editPreferenceDecoration.length>0},t.prototype.dispose=function(){this.hide(),e.prototype.dispose.call(this)},t.GLYPH_MARGIN_CLASS_NAME="edit-preferences-widget",t}(h.Disposable);t.EditPreferenceWidget=R,b.registerThemingParticipant(function(e,t){
t.addRule("\n\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label:focus,\n\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label.checked {\n\t\t\tborder-bottom: 1px solid;\n\t\t}\n\t");var i=e.getColor(_.PANEL_ACTIVE_TITLE_FOREGROUND),n=e.getColor(_.PANEL_ACTIVE_TITLE_BORDER);(i||n)&&t.addRule("\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label:hover,\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label.checked {\n\t\t\t\tcolor: "+i+";\n\t\t\t\tborder-bottom-color: "+n+";\n\t\t\t}\n\t\t");var r=e.getColor(_.PANEL_INACTIVE_TITLE_FOREGROUND);r&&t.addRule("\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label {\n\t\t\t\tcolor: "+r+";\n\t\t\t}\n\t\t");var o=e.getColor(y.focusBorder);o&&(t.addRule("\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label:focus {\n\t\t\t\tborder-bottom-color: "+o+" !important;\n\t\t\t}\n\t\t\t"),
t.addRule("\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label:focus {\n\t\t\t\toutline: none;\n\t\t\t}\n\t\t\t"));if(e.getColor(y.activeContrastBorder)){var s=e.getColor(y.activeContrastBorder);t.addRule("\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label.checked,\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label:hover {\n\t\t\t\toutline-color: "+s+";\n\t\t\t\toutline-width: 1px;\n\t\t\t\toutline-style: solid;\n\t\t\t\tborder-bottom: none;\n\t\t\t\tpadding-bottom: 0;\n\t\t\t\toutline-offset: -1px;\n\t\t\t}\n\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label:not(.checked):hover {\n\t\t\t\toutline-style: dashed;\n\t\t\t}\n\t\t")}})}),define(e[243],t([1,0,2,20,3,5,537,98,8,72,580,43,37,4,50,12,27,162,332]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=function(e){function t(t,i,n,r,o,s){var l=e.call(this,t,i,n,o,s)||this
;return l.keybindingService=r,l.recordDisposables=[],l._onKeybinding=l._register(new c.Emitter),l.onKeybinding=l._onKeybinding.event,l._onEnter=l._register(new c.Emitter),l.onEnter=l._onEnter.event,l._onEscape=l._register(new c.Emitter),l.onEscape=l._onEscape.event,l._onBlur=l._register(new c.Emitter),l.onBlur=l._onBlur.event,l._register(m.attachInputBoxStyler(l.inputBox,s)),l._register(a.toDisposable(function(){return l.stopRecordingKeys()})),l._reset(),l}return i(t,e),t.prototype.clear=function(){this._reset(),e.prototype.clear.call(this)},t.prototype.startRecordingKeys=function(){var e=this;this.recordDisposables.push(d.addDisposableListener(this.inputBox.inputElement,d.EventType.KEY_DOWN,function(t){return e._onKeyDown(new p.StandardKeyboardEvent(t))})),this.recordDisposables.push(d.addDisposableListener(this.inputBox.inputElement,d.EventType.BLUR,function(){return e._onBlur.fire()})),this.recordDisposables.push(d.addDisposableListener(this.inputBox.inputElement,d.EventType.INPUT,function(){
e.setInputValue(e._inputValue)}))},t.prototype.stopRecordingKeys=function(){this._reset(),a.dispose(this.recordDisposables)},t.prototype.setInputValue=function(e){this._inputValue=e,this.inputBox.value=this._inputValue},t.prototype.focus=function(){this.inputBox.focus()},t.prototype._reset=function(){this._firstPart=null,this._chordPart=null},t.prototype._onKeyDown=function(e){e.preventDefault(),e.stopPropagation();this.options.recordEnter||!e.equals(3)?e.equals(9)?this._onEscape.fire():this.printKeybinding(e):this._onEnter.fire()},t.prototype.printKeybinding=function(e){var t=this.keybindingService.resolveKeyboardEvent(e),i="code: "+e.browserEvent.code+", keyCode: "+e.browserEvent.keyCode+", key: "+e.browserEvent.key+" => UI: "+t.getAriaLabel()+", user settings: "+t.getUserSettingsLabel()+", dispatch: "+t.getDispatchParts()[0],n=this.options,r=this._firstPart&&null!==this._firstPart.getDispatchParts()[0],o=this._chordPart&&null!==this._chordPart.getDispatchParts()[0];r&&o?(this._firstPart=t,
this._chordPart=null):r?this._chordPart=t:this._firstPart=t;var s="";this._firstPart&&(s=this._firstPart.getUserSettingsLabel()),this._chordPart&&(s=s+" "+this._chordPart.getUserSettingsLabel()),this.setInputValue(n.quoteRecordedKeys?'"'+s+'"':s),this.inputBox.inputElement.title=i,this._onKeybinding.fire([this._firstPart,this._chordPart])},t=r([o(2,g.IContextViewService),o(3,f.IKeybindingService),o(4,v.IInstantiationService),o(5,y.IThemeService)],t)}(b.SearchWidget);t.KeybindingsSearchWidget=E;var _=function(e){function t(t,i,n){var r=e.call(this)||this;return r.instantiationService=i,r.themeService=n,r._firstPart=null,r._chordPart=null,r._isVisible=!1,r._onHide=r._register(new c.Emitter),r._onDidChange=r._register(new c.Emitter),r.onDidChange=r._onDidChange.event,r._onShowExistingKeybindings=r._register(new c.Emitter),r.onShowExistingKeybidings=r._onShowExistingKeybindings.event,r.create(),t&&d.append(t,r._domNode.domNode),r}return i(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){
return this._domNode.domNode},enumerable:!0,configurable:!0}),t.prototype.define=function(){var e=this;return this._keybindingInputWidget.clear(),new Promise(function(t){e._isVisible||(e._isVisible=!0,e._domNode.setDisplay("block"),e._firstPart=null,e._chordPart=null,e._keybindingInputWidget.setInputValue(""),d.clearNode(e._outputNode),d.clearNode(e._showExistingKeybindingsNode),e._keybindingInputWidget.focus());var i=e._onHide.event(function(){t(e.getUserSettingsLabel()),i.dispose()})})},t.prototype.layout=function(e){var i=Math.round((e.height-t.HEIGHT)/2);this._domNode.setTop(i);var n=Math.round((e.width-t.WIDTH)/2);this._domNode.setLeft(n)},t.prototype.printExisting=function(e){var t=this;if(e>0){var i=d.$("span.existingText"),r=1===e?n.localize("defineKeybinding.oneExists","1 existing command has this keybinding",e):n.localize("defineKeybinding.existing","{0} existing commands have this keybinding",e);d.append(i,document.createTextNode(r)),this._showExistingKeybindingsNode.appendChild(i),
i.onmousedown=function(e){e.preventDefault()},i.onmouseup=function(e){e.preventDefault()},i.onclick=function(){t._onShowExistingKeybindings.fire(t.getUserSettingsLabel())}}},t.prototype.create=function(){var e=this;this._domNode=h.createFastDomNode(document.createElement("div")),this._domNode.setDisplay("none"),this._domNode.setClassName("defineKeybindingWidget"),this._domNode.setWidth(t.WIDTH),this._domNode.setHeight(t.HEIGHT);var i=n.localize("defineKeybinding.initial","Press desired key combination and then press ENTER.");d.append(this._domNode.domNode,d.$(".message",null,i)),this._register(m.attachStylerCallback(this.themeService,{editorWidgetBackground:S.editorWidgetBackground,widgetShadow:S.widgetShadow},function(t){t.editorWidgetBackground?e._domNode.domNode.style.backgroundColor=t.editorWidgetBackground.toString():e._domNode.domNode.style.backgroundColor=null,t.widgetShadow?e._domNode.domNode.style.boxShadow="0 2px 8px "+t.widgetShadow:e._domNode.domNode.style.boxShadow=null})),
this._keybindingInputWidget=this._register(this.instantiationService.createInstance(E,this._domNode.domNode,{ariaLabel:i})),this._keybindingInputWidget.startRecordingKeys(),this._register(this._keybindingInputWidget.onKeybinding(function(t){return e.onKeybinding(t)})),this._register(this._keybindingInputWidget.onEnter(function(){return e.hide()})),this._register(this._keybindingInputWidget.onEscape(function(){return e.onCancel()})),this._register(this._keybindingInputWidget.onBlur(function(){return e.onCancel()})),this._outputNode=d.append(this._domNode.domNode,d.$(".output")),this._showExistingKeybindingsNode=d.append(this._domNode.domNode,d.$(".existing"))},t.prototype.onKeybinding=function(e){var t=e[0],i=e[1];this._firstPart=t,this._chordPart=i,d.clearNode(this._outputNode),d.clearNode(this._showExistingKeybindingsNode),new l.KeybindingLabel(this._outputNode,s.OS).set(this._firstPart,null),
this._chordPart&&(this._outputNode.appendChild(document.createTextNode(n.localize("defineKeybinding.chordsTo","chord to"))),new l.KeybindingLabel(this._outputNode,s.OS).set(this._chordPart,null));var r=this.getUserSettingsLabel();r&&this._onDidChange.fire(r)},t.prototype.getUserSettingsLabel=function(){var e=null;return this._firstPart&&(e=this._firstPart.getUserSettingsLabel(),this._chordPart&&(e=e+" "+this._chordPart.getUserSettingsLabel())),e},t.prototype.onCancel=function(){this._firstPart=null,this._chordPart=null,this.hide()},t.prototype.hide=function(){this._domNode.setDisplay("none"),this._isVisible=!1,this._onHide.fire()},t.WIDTH=400,t.HEIGHT=110,t=r([o(1,v.IInstantiationService),o(2,y.IThemeService)],t)}(u.Widget);t.DefineKeybindingWidget=_;var C=function(e){function t(t,i){var n=e.call(this)||this;return n._editor=t,n._widget=i.createInstance(_,null),n._editor.addOverlayWidget(n),n}return i(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._widget.domNode
},t.prototype.getPosition=function(){return{preference:null}},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.start=function(){this._editor.revealPositionInCenterIfOutsideViewport(this._editor.getPosition(),0);var e=this._editor.getLayoutInfo();return this._widget.layout(new d.Dimension(e.width,e.height)),this._widget.define()},t.ID="editor.contrib.defineKeybindingWidget",t=r([o(1,v.IInstantiationService)],t)}(a.Disposable);t.DefineKeybindingOverlayWidget=C}),define(e[212],t([1,0,2]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commonlyUsedData={id:"commonlyUsed",label:i.localize("commonlyUsed","Commonly Used"),settings:["files.autoSave","editor.fontSize","editor.fontFamily","editor.tabSize","editor.renderWhitespace","editor.cursorStyle","editor.multiCursorModifier","editor.insertSpaces","editor.wordWrap","files.exclude","files.associations"]},t.tocData={id:"root",label:"root",children:[{id:"editor",
label:i.localize("textEditor","Text Editor"),settings:["editor.*"],children:[{id:"editor/cursor",label:i.localize("cursor","Cursor"),settings:["editor.cursor*"]},{id:"editor/find",label:i.localize("find","Find"),settings:["editor.find.*"]},{id:"editor/font",label:i.localize("font","Font"),settings:["editor.font*"]},{id:"editor/format",label:i.localize("formatting","Formatting"),settings:["editor.format*"]},{id:"editor/diffEditor",label:i.localize("diffEditor","Diff Editor"),settings:["diffEditor.*"]},{id:"editor/minimap",label:i.localize("minimap","Minimap"),settings:["editor.minimap.*"]},{id:"editor/suggestions",label:i.localize("suggestions","Suggestions"),settings:["editor.*suggest*"]},{id:"editor/files",label:i.localize("files","Files"),settings:["files.*"]}]},{id:"workbench",label:i.localize("workbench","Workbench"),settings:["workbench.*"],children:[{id:"workbench/appearance",label:i.localize("appearance","Appearance"),
settings:["workbench.activityBar.*","workbench.*color*","workbench.fontAliasing","workbench.iconTheme","workbench.sidebar.location","workbench.*.visible","workbench.tips.enabled","workbench.tree.*","workbench.view.*"]},{id:"workbench/breadcrumbs",label:i.localize("breadcrumbs","Breadcrumbs"),settings:["breadcrumbs.*"]},{id:"workbench/editor",label:i.localize("editorManagement","Editor Management"),settings:["workbench.editor.*"]},{id:"workbench/settings",label:i.localize("settings","Settings Editor"),settings:["workbench.settings.*"]},{id:"workbench/zenmode",label:i.localize("zenMode","Zen Mode"),settings:["zenmode.*"]}]},{id:"window",label:i.localize("window","Window"),settings:["window.*"],children:[{id:"window/newWindow",label:i.localize("newWindow","New Window"),settings:["window.*newwindow*"]}]},{id:"features",label:i.localize("features","Features"),children:[{id:"features/explorer",label:i.localize("fileExplorer","Explorer"),settings:["explorer.*","outline.*"]},{id:"features/search",
label:i.localize("search","Search"),settings:["search.*","searchRipgrep.*"]},{id:"features/debug",label:i.localize("debug","Debug"),settings:["debug.*","launch"]},{id:"features/scm",label:i.localize("scm","SCM"),settings:["scm.*"]},{id:"features/extensions",label:i.localize("extensionViewlet","Extension Viewlet"),settings:["extensions.*"]},{id:"features/terminal",label:i.localize("terminal","Terminal"),settings:["terminal.*"]},{id:"features/problems",label:i.localize("problems","Problems"),settings:["problems.*"]}]},{id:"application",label:i.localize("application","Application"),children:[{id:"application/http",label:i.localize("proxy","Proxy"),settings:["http.*"]},{id:"application/keyboard",label:i.localize("keyboard","Keyboard"),settings:["keyboard.*"]},{id:"application/update",label:i.localize("update","Update"),settings:["update.*"]},{id:"application/telemetry",label:i.localize("telemetry","Telemetry"),settings:["telemetry.*"]}]}]},t.knownAcronyms=new Set,
["css","html","scss","less","json","js","ts","ie","id","php"].forEach(function(e){return t.knownAcronyms.add(e)})}),define(e[181],t([1,0,8,53,125,159,62,5,3,2,37,27,50,12,13,337]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=s.$;t.settingsHeaderForeground=g.registerColor("settings.headerForeground",{light:"#444444",dark:"#e7e7e7",hc:"#ffffff"},h.localize("headerForeground","(For settings editor preview) The foreground color for a section header or active title.")),t.modifiedItemIndicator=g.registerColor("settings.modifiedItemIndicator",{light:new u.Color(new u.RGBA(102,175,224)),dark:new u.Color(new u.RGBA(12,125,157)),hc:new u.Color(new u.RGBA(0,73,122))},h.localize("modifiedItemForeground","(For settings editor preview) The color of the modified setting indicator.")),t.settingsSelectBackground=g.registerColor("settings.dropdownBackground",{dark:g.selectBackground,light:g.selectBackground,hc:g.selectBackground
},h.localize("settingsDropdownBackground","(For settings editor preview) Settings editor dropdown background.")),t.settingsSelectForeground=g.registerColor("settings.dropdownForeground",{dark:g.selectForeground,light:g.selectForeground,hc:g.selectForeground},h.localize("settingsDropdownForeground","(For settings editor preview) Settings editor dropdown foreground.")),t.settingsSelectBorder=g.registerColor("settings.dropdownBorder",{dark:g.selectBorder,light:g.selectBorder,hc:g.selectBorder},h.localize("settingsDropdownBorder","(For settings editor preview) Settings editor dropdown border.")),t.settingsSelectListBorder=g.registerColor("settings.dropdownListBorder",{dark:g.editorWidgetBorder,light:g.editorWidgetBorder,hc:g.editorWidgetBorder},h.localize("settingsDropdownListBorder","(For settings editor preview) Settings editor dropdown list border. This surrounds the options and separates the options from the description.")),t.settingsCheckboxBackground=g.registerColor("settings.checkboxBackground",{
dark:g.selectBackground,light:g.selectBackground,hc:g.selectBackground},h.localize("settingsCheckboxBackground","(For settings editor preview) Settings editor checkbox background.")),t.settingsCheckboxForeground=g.registerColor("settings.checkboxForeground",{dark:g.selectForeground,light:g.selectForeground,hc:g.selectForeground},h.localize("settingsCheckboxForeground","(For settings editor preview) Settings editor checkbox foreground.")),t.settingsCheckboxBorder=g.registerColor("settings.checkboxBorder",{dark:g.selectBorder,light:g.selectBorder,hc:g.selectBorder},h.localize("settingsCheckboxBorder","(For settings editor preview) Settings editor checkbox border.")),t.settingsTextInputBackground=g.registerColor("settings.textInputBackground",{dark:g.inputBackground,light:g.inputBackground,hc:g.inputBackground},h.localize("textInputBoxBackground","(For settings editor preview) Settings editor text input box background.")),t.settingsTextInputForeground=g.registerColor("settings.textInputForeground",{
dark:g.inputForeground,light:g.inputForeground,hc:g.inputForeground},h.localize("textInputBoxForeground","(For settings editor preview) Settings editor text input box foreground.")),t.settingsTextInputBorder=g.registerColor("settings.textInputBorder",{dark:g.inputBorder,light:g.inputBorder,hc:g.inputBorder},h.localize("textInputBoxBorder","(For settings editor preview) Settings editor text input box border.")),t.settingsNumberInputBackground=g.registerColor("settings.numberInputBackground",{dark:g.inputBackground,light:g.inputBackground,hc:g.inputBackground},h.localize("numberInputBoxBackground","(For settings editor preview) Settings editor number input box background.")),t.settingsNumberInputForeground=g.registerColor("settings.numberInputForeground",{dark:g.inputForeground,light:g.inputForeground,hc:g.inputForeground},h.localize("numberInputBoxForeground","(For settings editor preview) Settings editor number input box foreground.")),t.settingsNumberInputBorder=g.registerColor("settings.numberInputBorder",{
dark:g.inputBorder,light:g.inputBorder,hc:g.inputBorder},h.localize("numberInputBoxBorder","(For settings editor preview) Settings editor number input box border.")),m.registerThemingParticipant(function(e,i){var n=e.getColor(t.settingsCheckboxBackground);n&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item-bool .setting-value-checkbox { background-color: "+n+" !important; }");var r=e.getColor(t.settingsCheckboxBorder);r&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item-bool .setting-value-checkbox { border-color: "+r+" !important; }");var o=e.getColor(g.textLinkForeground);o&&(i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description-markdown a { color: "+o+"; }"),i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description-markdown a > code { color: "+o+"; }"),
i.addRule(".monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown a { color: "+o+"; }"),i.addRule(".monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown a > code { color: "+o+"; }"));var s=e.getColor(g.textLinkActiveForeground);s&&(i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description-markdown a:hover, .settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description-markdown a:active { color: "+s+"; }"),i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description-markdown a:hover > code, .settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description-markdown a:active > code { color: "+s+"; }"),
i.addRule(".monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown a:hover, .monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown a:active { color: "+s+"; }"),i.addRule(".monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown a:hover > code, .monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown a:active > code { color: "+s+"; }"));var a=e.getColor(t.settingsHeaderForeground);a&&i.addRule(".settings-editor > .settings-header > .settings-header-controls .settings-tabs-widget .action-label.checked { color: "+a+"; border-bottom-color: "+a+"; }");var c=e.getColor(g.foreground);c&&i.addRule(".settings-editor > .settings-header > .settings-header-controls .settings-tabs-widget .action-label { color: "+c+"; }");var l=e.getColor(g.listHoverBackground)
;l&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.setting-item-exclude .setting-exclude-row:hover { background-color: "+l+"; }");var u=e.getColor(g.listHoverForeground);u&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.setting-item-exclude .setting-exclude-row:hover { color: "+u+"; }");var d=e.getColor(g.listActiveSelectionBackground);d&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.setting-item-exclude .setting-exclude-row.selected:focus { background-color: "+d+"; }");var p=e.getColor(g.listInactiveSelectionBackground);p&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.setting-item-exclude .setting-exclude-row.selected:not(:focus) { background-color: "+p+"; }");var h=e.getColor(g.listInactiveSelectionForeground)
;h&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.setting-item-exclude .setting-exclude-row.selected:not(:focus) { color: "+h+"; }");var f=e.getColor(g.listActiveSelectionForeground);f&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.setting-item-exclude .setting-exclude-row.selected:focus { color: "+f+"; }");var v=e.getColor(g.textPreformatForeground);v&&(i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description-markdown code { color: "+v+" }"),i.addRule(".monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown code { color: "+v+" }"));var m=e.getColor(t.modifiedItemIndicator);m&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item > .setting-item-modified-indicator { border-color: "+m+"; }")});var b=function(){function e(){this._dataItems=[]}return Object.defineProperty(e.prototype,"items",{
get:function(){var e=this,t=this._dataItems.map(function(t,i){var r=t.pattern===e._editKey;return n({},t,{editing:r,selected:i===e._selectedIdx||r})});return""===this._editKey&&t.push({editing:!0,selected:!0,pattern:"",sibling:""}),t},enumerable:!0,configurable:!0}),e.prototype.setEditKey=function(e){this._editKey=e},e.prototype.setValue=function(e){this._dataItems=e},e.prototype.select=function(e){this._selectedIdx=e},e.prototype.getSelected=function(){return this._selectedIdx},e.prototype.selectNext=function(){"number"==typeof this._selectedIdx?this._selectedIdx=Math.min(this._selectedIdx+1,this._dataItems.length-1):this._selectedIdx=0},e.prototype.selectPrevious=function(){"number"==typeof this._selectedIdx?this._selectedIdx=Math.max(this._selectedIdx-1,0):this._selectedIdx=0},e}();t.ExcludeSettingListModel=b;var E=function(e){function n(t,i,n){var r=e.call(this)||this;return r.container=t,r.themeService=i,r.contextViewService=n,r.listDisposables=[],r.model=new b,r._onDidChangeExclude=new d.Emitter,
r.onDidChangeExclude=r._onDidChangeExclude.event,r.listElement=s.append(t,S(".setting-exclude-widget")),r.listElement.setAttribute("tabindex","0"),s.append(t,r.renderAddButton()),r.renderList(),r._register(s.addDisposableListener(r.listElement,s.EventType.CLICK,function(e){return r.onListClick(e)})),r._register(s.addDisposableListener(r.listElement,s.EventType.DBLCLICK,function(e){return r.onListDoubleClick(e)})),r._register(s.addStandardDisposableListener(r.listElement,"keydown",function(e){16===e.keyCode?(r.model.selectPrevious(),r.renderList(),e.preventDefault(),e.stopPropagation()):18===e.keyCode&&(r.model.selectNext(),r.renderList(),e.preventDefault(),e.stopPropagation())})),r}return i(n,e),Object.defineProperty(n.prototype,"domNode",{get:function(){return this.listElement},enumerable:!0,configurable:!0}),n.prototype.setValue=function(e){this.model.setValue(e),this.renderList()},n.prototype.onListClick=function(e){var t=this.getClickedItemIndex(e);t<0||this.model.getSelected()!==t&&(this.model.select(t),
this.renderList(),e.preventDefault(),e.stopPropagation())},n.prototype.onListDoubleClick=function(e){var t=this.getClickedItemIndex(e);if(!(t<0)){var i=this.model.items[t];i&&(this.editSetting(i.pattern),e.preventDefault(),e.stopPropagation())}},n.prototype.getClickedItemIndex=function(e){if(!e.target)return-1;if(s.findParentWithClass(e.target,"monaco-action-bar"))return-1;var t=s.findParentWithClass(e.target,"setting-exclude-row");if(!t)return-1;var i=t.getAttribute("data-index");if(!i)return-1;return parseInt(i)},n.prototype.renderList=function(){var e=this,t=s.isAncestor(document.activeElement,this.listElement);s.clearNode(this.listElement),this.listDisposables=p.dispose(this.listDisposables);var i=this.model.items.some(function(e){return e.editing&&!e.pattern});s.toggleClass(this.container,"setting-exclude-new-mode",i),this.model.items.map(function(i,n){return e.renderItem(i,n,t)}).forEach(function(t){return e.listElement.appendChild(t)});var n=22*this.model.items.length
;this.listElement.style.height=n+"px"},n.prototype.createDeleteAction=function(e){var t=this;return{class:"setting-excludeAction-remove",enabled:!0,id:"workbench.action.removeExcludeItem",tooltip:h.localize("removeExcludeItem","Remove Exclude Item"),run:function(){return t._onDidChangeExclude.fire({originalPattern:e,pattern:void 0})}}},n.prototype.createEditAction=function(e){var t=this;return{class:"setting-excludeAction-edit",enabled:!0,id:"workbench.action.editExcludeItem",tooltip:h.localize("editExcludeItem","Edit Exclude Item"),run:function(){t.editSetting(e)}}},n.prototype.editSetting=function(e){this.model.setEditKey(e),this.renderList()},n.prototype.renderItem=function(e,t,i){return e.editing?this.renderEditItem(e):this.renderDataItem(e,t,i)},n.prototype.renderDataItem=function(e,t,i){var n=S(".setting-exclude-row");n.setAttribute("data-index",t+""),n.setAttribute("tabindex",e.selected?"0":"-1"),s.toggleClass(n,"selected",e.selected);var r=new a.ActionBar(n);this.listDisposables.push(r)
;var o=s.append(n,S(".setting-exclude-pattern")),c=s.append(n,S(".setting-exclude-sibling"));return o.textContent=e.pattern,c.textContent=e.sibling&&"when: "+e.sibling,r.push([this.createEditAction(e.pattern),this.createDeleteAction(e.pattern)],{icon:!0,label:!1}),n.title=e.sibling?h.localize("excludeSiblingHintLabel","Exclude files matching `{0}`, only when a file matching `{1}` is present",e.pattern,e.sibling):h.localize("excludePatternHintLabel","Exclude files matching `{0}`",e.pattern),e.selected&&i&&setTimeout(function(){n.focus()},10),n},n.prototype.renderAddButton=function(){var e=this,t=S(".setting-exclude-new-row"),i=this._register(new c.Button(t));return i.label=h.localize("addPattern","Add Pattern"),i.element.classList.add("setting-exclude-addButton"),this._register(v.attachButtonStyler(i,this.themeService)),this._register(i.onDidClick(function(){e.model.setEditKey(""),e.renderList()})),t},n.prototype.renderEditItem=function(e){var i=this,n=S(".setting-exclude-edit-row"),r=function(t){
i.model.setEditKey(null);var n=a.value.trim();t&&n&&i._onDidChangeExclude.fire({originalPattern:e.pattern,pattern:n,sibling:u&&u.value.trim()}),i.renderList()},o=function(e){e.equals(3)?r(!0):e.equals(9)&&(r(!1),e.preventDefault())},a=new l.InputBox(n,this.contextViewService,{placeholder:h.localize("excludePatternInputPlaceholder","Exclude Pattern...")});a.element.classList.add("setting-exclude-patternInput"),this.listDisposables.push(v.attachInputBoxStyler(a,this.themeService,{inputBackground:t.settingsTextInputBackground,inputForeground:t.settingsTextInputForeground,inputBorder:t.settingsTextInputBorder})),this.listDisposables.push(a),a.value=e.pattern,this.listDisposables.push(s.addStandardDisposableListener(a.inputElement,s.EventType.KEY_DOWN,o));var u;e.sibling&&((u=new l.InputBox(n,this.contextViewService,{placeholder:h.localize("excludeSiblingInputPlaceholder","When Pattern Is Present...")})).element.classList.add("setting-exclude-siblingInput"),this.listDisposables.push(u),
this.listDisposables.push(v.attachInputBoxStyler(u,this.themeService,{inputBackground:t.settingsTextInputBackground,inputForeground:t.settingsTextInputForeground,inputBorder:t.settingsTextInputBorder})),u.value=e.sibling,this.listDisposables.push(s.addStandardDisposableListener(u.inputElement,s.EventType.KEY_DOWN,o)));var d=this._register(new c.Button(n));d.label=h.localize("okButton","OK"),d.element.classList.add("setting-exclude-okButton"),this.listDisposables.push(v.attachButtonStyler(d,this.themeService)),this.listDisposables.push(d.onDidClick(function(){return r(!0)}));var p=this._register(new c.Button(n));return p.label=h.localize("cancelButton","Cancel"),p.element.classList.add("setting-exclude-cancelButton"),this.listDisposables.push(v.attachButtonStyler(p,this.themeService)),this.listDisposables.push(p.onDidClick(function(){return r(!1)})),this.listDisposables.push(y.disposableTimeout(function(){a.focus(),a.select()})),n},n.prototype.dispose=function(){e.prototype.dispose.call(this),
this.listDisposables=p.dispose(this.listDisposables)},n=r([o(1,m.IThemeService),o(2,f.IContextViewService)],n)}(p.Disposable);t.ExcludeSettingWidget=E}),define(e[107],t([1,0,4,11,33]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPreferencesSearchService=i.createDecorator("preferencesSearchService"),t.CONTEXT_SETTINGS_EDITOR=new n.RawContextKey("inSettingsEditor",!1),t.CONTEXT_SETTINGS_JSON_EDITOR=new n.RawContextKey("inSettingsJSONEditor",!1),t.CONTEXT_SETTINGS_SEARCH_FOCUS=new n.RawContextKey("inSettingsSearch",!1),t.CONTEXT_TOC_ROW_FOCUS=new n.RawContextKey("settingsTocRowFocus",!1),t.CONTEXT_KEYBINDINGS_EDITOR=new n.RawContextKey("inKeybindings",!1),t.CONTEXT_KEYBINDINGS_SEARCH_FOCUS=new n.RawContextKey("inKeybindingsSearch",!1),t.CONTEXT_KEYBINDING_FOCUS=new n.RawContextKey("keybindingFocus",!1),t.SETTINGS_EDITOR_COMMAND_SEARCH="settings.action.search",t.SETTINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS="settings.action.clearSearchResults",
t.SETTINGS_EDITOR_COMMAND_FOCUS_NEXT_SETTING="settings.action.focusNextSetting",t.SETTINGS_EDITOR_COMMAND_FOCUS_PREVIOUS_SETTING="settings.action.focusPreviousSetting",t.SETTINGS_EDITOR_COMMAND_FOCUS_FILE="settings.action.focusSettingsFile",t.SETTINGS_EDITOR_COMMAND_EDIT_FOCUSED_SETTING="settings.action.editFocusedSetting",t.SETTINGS_EDITOR_COMMAND_FOCUS_SETTINGS_FROM_SEARCH="settings.action.focusSettingsFromSearch",t.SETTINGS_EDITOR_COMMAND_FOCUS_SETTINGS_LIST="settings.action.focusSettingsList",t.SETTINGS_EDITOR_COMMAND_SHOW_CONTEXT_MENU="settings.action.showContextMenu",t.SETTINGS_EDITOR_COMMAND_SWITCH_TO_JSON="settings.switchToJSON",t.SETTINGS_EDITOR_COMMAND_FILTER_MODIFIED="settings.filterByModified",t.SETTINGS_EDITOR_COMMAND_FILTER_ONLINE="settings.filterByOnline",t.KEYBINDINGS_EDITOR_COMMAND_SEARCH="keybindings.editor.searchKeybindings",t.KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS="keybindings.editor.clearSearchResults",
t.KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS="keybindings.editor.recordSearchKeys",t.KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE="keybindings.editor.toggleSortByPrecedence",t.KEYBINDINGS_EDITOR_COMMAND_DEFINE="keybindings.editor.defineKeybinding",t.KEYBINDINGS_EDITOR_COMMAND_REMOVE="keybindings.editor.removeKeybinding",t.KEYBINDINGS_EDITOR_COMMAND_RESET="keybindings.editor.resetKeybinding",t.KEYBINDINGS_EDITOR_COMMAND_COPY="keybindings.editor.copyKeybindingEntry",t.KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND="keybindings.editor.copyCommandKeybindingEntry",t.KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR="keybindings.editor.showConflicts",t.KEYBINDINGS_EDITOR_COMMAND_FOCUS_KEYBINDINGS="keybindings.editor.focusKeybindings",t.KEYBINDINGS_EDITOR_CLEAR_INPUT="keybindings.editor.showDefaultKeybindings",t.KEYBINDINGS_EDITOR_SHOW_DEFAULT_KEYBINDINGS="keybindings.editor.showDefaultKeybindings",t.KEYBINDINGS_EDITOR_SHOW_USER_KEYBINDINGS="keybindings.editor.showUserKeybindings",
t.FOLDER_SETTINGS_PATH=r.join(".vscode","settings.json"),t.DEFAULT_SETTINGS_EDITOR_SETTING="workbench.settings.openDefaultSettings",t.MODIFIED_SETTING_TAG="modified"}),define(e[281],t([1,0,73,129,46]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.hasOpenBrace=function(e){for(;17!==e.scan();){if(1===e.getToken())return!0}return!1},e.offsetToPosition=function(e,t){for(var i=0,r=e.getEOL().length,o=e.getLineCount(),s=1;s<=o;s++){var a=i+(e.getLineContent(s).length+r);if(a>t)return new n.Position(s,t-i+1);i=a}return new n.Position(o,e.getLineMaxColumn(o))},e.insertSnippet=function(e,t){var o,s=e.getValueLengthInRange(new r.Range(1,1,t.lineNumber,t.column));!function(e){e[e.INVALID=0]="INVALID",e[e.AFTER_OBJECT=1]="AFTER_OBJECT",e[e.BEFORE_OBJECT=2]="BEFORE_OBJECT"}(o||(o={}));for(var a=o.INVALID,c=-1,l=o.INVALID,u=i.createScanner(e.getValue()),d=0,p=0,h=function(e,t){t!==o.INVALID&&1===d&&0===p?(a=t,c=e,l=t):a!==o.INVALID&&(a=o.INVALID,
c=u.getTokenOffset())};17!==u.scan();){var f=u.getPosition(),g=!1;switch(u.getToken()){case 3:g=!0,d++,h(f,o.BEFORE_OBJECT);break;case 4:g=!0,d--,h(f,o.INVALID);break;case 5:g=!0,h(f,o.BEFORE_OBJECT);break;case 1:g=!0,p++,h(f,o.INVALID);break;case 2:g=!0,p--,h(f,o.AFTER_OBJECT);break;case 15:case 14:g=!0}if(f>=s&&(a!==o.INVALID||-1!==c)){var v=void 0,m=void 0;return a!==o.INVALID?(v=g?f:u.getTokenOffset(),m=a):(v=c,m=l),m===o.AFTER_OBJECT?{position:this.offsetToPosition(e,v),prepend:",",append:""}:(u.setPosition(v),{position:this.offsetToPosition(e,v),prepend:"",append:this.hasOpenBrace(u)?",":""})}}var y=e.getLineCount();return{position:new n.Position(y,e.getLineMaxColumn(y)),prepend:"\n[",append:"]"}},e}();t.SmartSnippetInserter=o}),define(e[282],t([1,0,2,8,98,209,5,12,50,284,11]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(t,i,r,o,s){void 0===r&&(r=Object.create(null));var a=e.call(this)||this;return a.contextViewProvider=i,
a.themeService=o,a.contextKeyService=s,a._onSubmit=a._register(new l.Emitter),a.onSubmit=a._onSubmit.event,a._onCancel=a._register(new l.Emitter),a.onCancel=a._onCancel.event,a.width=r.width||100,a.placeholder=r.placeholder||"",a.ariaLabel=r.ariaLabel||n.localize("defaultLabel","input"),a.domNode=null,a.inputBox=null,a.render(r),t.appendChild(a.domNode),a}return i(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.inputFocusTracker&&this.inputFocusTracker.dispose()},t.prototype.setWidth=function(e){this.width=e,this.domNode.style.width=this.width+"px",this.contextViewProvider.layout(),this.setInputWidth()},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},t.prototype.select=function(){this.inputBox.select()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.inputHasFocus=function(){return this.inputBox.hasFocus()},t.prototype.setInputWidth=function(){
this.inputBox.width=this.width-this.getSubcontrolsWidth()-2},t.prototype.getSubcontrolsWidth=function(){return 0},t.prototype.getHistory=function(){return this.inputBox.getHistory()},t.prototype.clearHistory=function(){this.inputBox.clearHistory()},t.prototype.onSearchSubmit=function(){this.inputBox.addToHistory()},t.prototype.showNextTerm=function(){this.inputBox.showNextValue()},t.prototype.showPreviousTerm=function(){this.inputBox.showPreviousValue()},t.prototype.render=function(e){var t=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",s.addClass(this.domNode,"monaco-findInput"),this.inputBox=new p.ContextScopedHistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.ariaLabel||"",validationOptions:{validation:null},history:e.history||[]},this.contextKeyService),this._register(d.attachInputBoxStyler(this.inputBox,this.themeService)),this.inputFocusTracker=s.trackFocus(this.inputBox.inputElement),
this.onkeyup(this.inputBox.inputElement,function(e){return t.onInputKeyUp(e)});var i=document.createElement("div");i.className="controls",this.renderSubcontrols(i),this.domNode.appendChild(i),this.setInputWidth()},t.prototype.renderSubcontrols=function(e){},t.prototype.onInputKeyUp=function(e){switch(e.keyCode){case 3:return void this._onSubmit.fire();case 9:return void this._onCancel.fire();default:return}},t.OPTION_CHANGE="optionChange",t=r([o(3,u.IThemeService),o(4,h.IContextKeyService)],t)}(a.Widget);t.PatternInputWidget=f;var g=function(e){function t(t,i,n,r,o){return void 0===n&&(n=Object.create(null)),e.call(this,t,i,n,r,o)||this}return i(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.useExcludesAndIgnoreFilesBox.dispose()},t.prototype.useExcludesAndIgnoreFiles=function(){return this.useExcludesAndIgnoreFilesBox.checked},t.prototype.setUseExcludesAndIgnoreFiles=function(e){this.useExcludesAndIgnoreFilesBox.checked=e},t.prototype.getSubcontrolsWidth=function(){
return e.prototype.getSubcontrolsWidth.call(this)+this.useExcludesAndIgnoreFilesBox.width()},t.prototype.renderSubcontrols=function(t){var i=this;this.useExcludesAndIgnoreFilesBox=this._register(new c.Checkbox({actionClassName:"useExcludesAndIgnoreFiles",title:n.localize("useExcludesAndIgnoreFilesDescription","Use Exclude Settings and Ignore Files"),isChecked:!0})),this._register(this.useExcludesAndIgnoreFilesBox.onChange(function(e){e||i.inputBox.focus()})),this._register(d.attachCheckboxStyler(this.useExcludesAndIgnoreFilesBox,this.themeService)),t.appendChild(this.useExcludesAndIgnoreFilesBox.domNode),e.prototype.renderSubcontrols.call(this,t)},t=r([o(3,u.IThemeService),o(4,h.IContextKeyService)],t)}(f);t.ExcludePatternInputWidget=g}),define(e[167],t([1,0,11]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FindInFilesActionId="workbench.action.findInFiles",t.FocusActiveEditorCommandId="search.action.focusActiveEditor",
t.FocusSearchFromResults="search.action.focusSearchFromResults",t.OpenMatchToSide="search.action.openResultToSide",t.CancelActionId="search.action.cancel",t.RemoveActionId="search.action.remove",t.CopyPathCommandId="search.action.copyPath",t.CopyMatchCommandId="search.action.copyMatch",t.CopyAllCommandId="search.action.copyAll",t.ClearSearchHistoryCommandId="search.action.clearHistory",t.FocusSearchListCommandID="search.action.focusSearchList",t.ReplaceActionId="search.action.replace",t.ReplaceAllInFileActionId="search.action.replaceAllInFile",t.ReplaceAllInFolderActionId="search.action.replaceAllInFolder",t.CloseReplaceWidgetActionId="closeReplaceInFilesWidget",t.ToggleCaseSensitiveCommandId="toggleSearchCaseSensitive",t.ToggleWholeWordCommandId="toggleSearchWholeWord",t.ToggleRegexCommandId="toggleSearchRegex",t.ToggleSearchViewPositionCommandId="search.action.toggleSearchViewPosition",t.SearchViewVisibleKey=new i.RawContextKey("searchViewletVisible",!0),
t.SearchViewFocusedKey=new i.RawContextKey("searchViewletFocus",!1),t.InputBoxFocusedKey=new i.RawContextKey("inputBoxFocus",!1),t.SearchInputBoxFocusedKey=new i.RawContextKey("searchInputBoxFocus",!1),t.ReplaceInputBoxFocusedKey=new i.RawContextKey("replaceInputBoxFocus",!1),t.PatternIncludesFocusedKey=new i.RawContextKey("patternIncludesInputBoxFocus",!1),t.PatternExcludesFocusedKey=new i.RawContextKey("patternExcludesInputBoxFocus",!1),t.ReplaceActiveKey=new i.RawContextKey("replaceActive",!1),t.HasSearchResults=new i.RawContextKey("hasSearchResult",!1),t.FirstMatchFocusKey=new i.RawContextKey("firstMatchFocus",!1),t.FileMatchOrMatchFocusKey=new i.RawContextKey("fileMatchOrMatchFocus",!1),t.FileMatchOrFolderMatchFocusKey=new i.RawContextKey("fileMatchOrFolderMatchFocus",!1),t.FileFocusKey=new i.RawContextKey("fileMatchFocus",!1),t.FolderFocusKey=new i.RawContextKey("folderMatchFocus",!1),t.MatchFocusKey=new i.RawContextKey("matchFocus",!1)}),
define(e[182],t([1,0,19,90,152,97,39,33,24,22,6,548,2,9,48,71,21]),function(e,t,i,s,a,c,l,u,d,p,h,f,g,v,m,y,S){"use strict";function b(e){return e.length?e.reduce(function(e,t){return e[t]=!0,e},Object.create(null)):void 0}Object.defineProperty(t,"__esModule",{value:!0});var E=function(){function e(e,t,i){this.configurationService=e,this.workspaceContextService=t,this.environmentService=i}return e.prototype.text=function(e,t,i){var r=this;void 0===i&&(i={}),e.isCaseSensitive=this.isCaseSensitive(e),e.isMultiline=this.isMultiline(e);var o=this.configurationService.getValue();e.wordSeparators=o.editor.wordSeparators;var s=t&&t.some(function(e){return!r.configurationService.getValue({resource:e}).search.useRipgrep}),a=this.commonQuery(t,i);return n({},a,{type:2,contentPattern:e,previewOptions:i.previewOptions,maxFileSize:i.maxFileSize,usePCRE2:o.search.usePCRE2||s||!1,beforeContext:i.beforeContext,afterContext:i.afterContext,userDisabledExcludesAndIgnoreFiles:i.disregardExcludeSettings&&i.disregardIgnoreFiles})
},e.prototype.file=function(e,t){void 0===t&&(t={});var i=this.commonQuery(e,t);return n({},i,{type:1,filePattern:t.filePattern?t.filePattern.trim():t.filePattern,exists:t.exists,sortByScore:t.sortByScore,cacheKey:t.cacheKey})},e.prototype.commonQuery=function(e,t){var i=this;void 0===t&&(t={});var n=this.parseSearchPaths(t.includePattern||""),r=n.searchPaths,o=n.pattern,s=this.parseExcludePattern(t.excludePattern||""),a=r&&r.length?r.map(function(e){return i.getFolderQueryForSearchPath(e,t)}):e&&e.map(function(e){return i.getFolderQueryForRoot(e,t)}),c=!e||e.every(function(e){return!i.configurationService.getValue({resource:e}).search.useLegacySearch}),l={_reason:t._reason,folderQueries:a||[],usingSearchPaths:!(!r||!r.length),extraFileResources:t.extraFileResources,excludePattern:s,includePattern:o,maxResults:t.maxResults,useRipgrep:c},u=t.extraFileResources&&t.extraFileResources.filter(function(e){return y.pathIncludedInQuery(l,e.fsPath)});return l.extraFileResources=u&&u.length?u:void 0,l},
e.prototype.isCaseSensitive=function(e){if(e.isSmartCase)if(e.isRegExp){if(p.containsUppercaseCharacter(e.pattern,!0))return!0}else if(p.containsUppercaseCharacter(e.pattern))return!0;return!!e.isCaseSensitive},e.prototype.isMultiline=function(e){return!!e.isMultiline||!(!e.isRegExp||!f.isMultilineRegexSource(e.pattern))},e.prototype.parseSearchPaths=function(e){var t=this,n=function(e){return a.splitGlobAware(e,",").map(function(e){return e.trim()}).filter(function(e){return!!e.length})}(e).map(function(e){return c.untildify(e,t.environmentService.userHome)}),r=s.groupBy(n,function(e){return function(e){return u.isAbsolute(e)||/^\.\.?[\/\\]/.test(e)}(e)?"searchPaths":"exprSegments"}),o=(r.exprSegments||[]).map(function(e){return"."===e[0]&&(e="*"+e),function(e){return["**/"+e+"/**","**/"+e].map(function(e){return e.replace(/\*\*\/\*\*/g,"**")})}(e)}),l=i.flatten(o),d={},p=this.expandSearchPathPatterns(r.searchPaths);p&&p.length&&(d.searchPaths=p);var h=b(l);return h&&(d.pattern=h),d},
e.prototype.parseExcludePattern=function(e){var t=this.parseSearchPaths(e),i=a.getEmptyExpression();return t.pattern&&(i=l.mixin(i,t.pattern)),t.searchPaths&&t.searchPaths.forEach(function(e){var t=e.searchPath.fsPath,n=e.pattern?u.join(t,e.pattern):t;i[n]=!0}),Object.keys(i).length?i:void 0},e.prototype.getExcludesForFolder=function(e,t){return t.disregardExcludeSettings?void 0:y.getExcludes(e)},e.prototype.expandSearchPathPatterns=function(e){var t=this;if(1===this.workspaceContextService.getWorkbenchState()||!e||!e.length)return[];return i.flatten(e.map(function(e){var i=function(e){var t=e.match(/[\*\{\}\(\)\[\]\?]/);if(t){var i=t.index,n=e.substr(0,i).match(/[/|\\][^/\\]*$/);if(n){var r=e.substr(0,n.index);return r.match(/[/\\]/)||(r+="/"),{pathPortion:r,globPortion:e.substr((n.index||0)+1)}}}return{pathPortion:e}}(e),n=i.pathPortion,r=i.globPortion;return t.expandAbsoluteSearchPaths(n).map(function(e){return{searchPath:e,pattern:r}})})).filter(i.uniqueFilter(function(e){return e.searchPath.toString()}))
},e.prototype.expandAbsoluteSearchPaths=function(e){if(u.isAbsolute(e))return[h.URI.file(u.normalize(e))];if(2===this.workspaceContextService.getWorkbenchState()){var t=this.workspaceContextService.getWorkspace().folders[0].uri;return[d.joinPath(t,e)]}if("./"===e)return[];var i=e.match(/\.[\/\\]([^\/\\]+)([\/\\].+)?/);if(i){var n=i[1],r=this.workspaceContextService.getWorkspace().folders.filter(function(e){return e.name===n});if(r.length)return r.map(function(e){return i[2]?d.joinPath(e.uri,i[2]):e.uri});var o=g.localize("search.noWorkspaceWithName","No folder in workspace with name: {0}",n);throw new Error(o)}return[]},e.prototype.getFolderQueryForSearchPath=function(e,t){var i=this.workspaceContextService.getWorkspaceFolder(e.searchPath),r=i&&e.searchPath.path.substr(i.uri.path.length+1),o=this.getFolderQueryForRoot(e.searchPath,t),s={};if(i&&o.excludePattern)for(var a in o.excludePattern){var c=function(e){var t=e.match(/[\*\{\}\(\)\[\]\?]/);if(t){var i=t.index||0;return{pathPortion:e.substr(0,i),
globPortion:e.substr(i)}}return{pathPortion:e}}(a),l=c.pathPortion,u=c.globPortion;if(l){if(p.startsWith(l,r)){var d=l.substr(r.length+1);s[u?d+u:d]=o.excludePattern[a]}}else u&&(s[u]=o.excludePattern[a])}return n({},o,{includePattern:e.pattern?b([e.pattern]):void 0,excludePattern:Object.keys(s).length?s:void 0})},e.prototype.getFolderQueryForRoot=function(e,t){var i=this.configurationService.getValue({resource:e});return{folder:e,excludePattern:this.getExcludesForFolder(i,t),fileEncoding:i.files&&i.files.encoding,disregardIgnoreFiles:"boolean"==typeof t.disregardIgnoreFiles?t.disregardIgnoreFiles:!i.search.useIgnoreFiles,disregardGlobalIgnoreFiles:"boolean"==typeof t.disregardGlobalIgnoreFiles?t.disregardGlobalIgnoreFiles:!i.search.useGlobalIgnoreFiles,ignoreSymlinks:"boolean"==typeof t.ignoreSymlinks?t.ignoreSymlinks:!i.search.followSymlinks}},e=r([o(0,v.IConfigurationService),o(1,S.IWorkspaceContextService),o(2,m.IEnvironmentService)],e)}();t.QueryBuilder=E}),define(e[139],t([1,0,4]),function(e,t,i){
"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IReplaceService=i.createDecorator("replaceService")}),define(e[138],t([1,0,15,18,17,52]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;!function(e){var t=[];e.register=function(e){return e&&t.push(e),{dispose:function(){if(e){var i=t.indexOf(e);i>=0&&(t.splice(i,1),e=void 0)}}}},e.all=function(){return t.slice(0)}}(s=t.WorkspaceSymbolProviderRegistry||(t.WorkspaceSymbolProviderRegistry={})),t.getWorkspaceSymbols=function(e,t){void 0===t&&(t=o.CancellationToken.None);var r=[],a=s.all().map(function(i){return Promise.resolve(i.provideWorkspaceSymbols(e,t)).then(function(e){Array.isArray(e)&&r.push([i,e])},n.onUnexpectedError)});return i.TPromise.join(a).then(function(e){return r})},t.getOutOfWorkspaceEditorResources=function(e,t){var i=[];return e.editors.forEach(function(e){var n=r.toResource(e,{supportSideBySide:!0});n&&!t.isInsideWorkspace(n)&&i.push(n)}),i}}),
define(e[115],t([1,0,7,117,2,4]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISnippetsService=o.createDecorator("snippetService");var s={id:"vscode://schemas/snippets",allowComments:!0,defaultSnippets:[{label:r.localize("snippetSchema.json.default","Empty snippet"),body:{"${1:snippetName}":{prefix:"${2:prefix}",body:"${3:snippet}",description:"${4:description}"}}}],type:"object",description:r.localize("snippetSchema.json","User snippet configuration"),additionalProperties:{type:"object",required:["prefix","body"],properties:{prefix:{description:r.localize("snippetSchema.json.prefix","The prefix to used when selecting the snippet in intellisense"),type:["string","array"]},body:{description:r.localize("snippetSchema.json.body","The snippet content. Use '$1', '${1:defaultText}' to define cursor positions, use '$0' for the final cursor position. Insert variable values with '${varName}' and '${varName:defaultText}', e.g 'This is file: $TM_FILENAME'."),
type:["string","array"],items:{type:"string"}},description:{description:r.localize("snippetSchema.json.description","The snippet description."),type:"string"}},additionalProperties:!1}},a={id:"vscode://schemas/global-snippets",allowComments:!0,defaultSnippets:[{label:r.localize("snippetSchema.json.default","Empty snippet"),body:{"${1:snippetName}":{scope:"${2:scope}",prefix:"${3:prefix}",body:"${4:snippet}",description:"${5:description}"}}}],type:"object",description:r.localize("snippetSchema.json","User snippet configuration"),additionalProperties:{type:"object",required:["prefix","body"],properties:{prefix:{description:r.localize("snippetSchema.json.prefix","The prefix to used when selecting the snippet in intellisense"),type:["string","array"]},scope:{description:r.localize("snippetSchema.json.scope","A list of language names to which this snippet applies, e.g 'typescript,javascript'."),type:"string"},body:{
description:r.localize("snippetSchema.json.body","The snippet content. Use '$1', '${1:defaultText}' to define cursor positions, use '$0' for the final cursor position. Insert variable values with '${varName}' and '${varName:defaultText}', e.g 'This is file: $TM_FILENAME'."),type:["string","array"],items:{type:"string"}},description:{description:r.localize("snippetSchema.json.description","The snippet description."),type:"string"}},additionalProperties:!1}},c=i.Registry.as(n.Extensions.JSONContribution);c.registerSchema("vscode://schemas/snippets",s),c.registerSchema("vscode://schemas/global-snippets",a)}),define(e[293],t([1,0,2,34,48,36,42,65,26,13,135,6,115,44,61,21,16,25]),function(e,t,i,n,r,o,c,l,u,d,p,h,f,g,v,m,y,S){"use strict";var b=this;Object.defineProperty(t,"__esModule",{value:!0});var E,_="workbench.action.openSnippets";!function(e){e.is=function(e){return e&&"string"==typeof e.filepath}}(E||(E={})),n.CommandsRegistry.registerCommand(_,function(e){return s(b,void 0,void 0,function(){
var t,n,u,b,_,C,w,I,x,D,T,R,A,O,k,M;return a(this,function(P){switch(P.label){case 0:return t=e.get(f.ISnippetsService),n=e.get(v.IQuickInputService),u=e.get(p.IOpenerService),b=e.get(c.IWindowService),_=e.get(o.IModeService),C=e.get(r.IEnvironmentService),w=e.get(S.INotificationService),I=e.get(m.IWorkspaceContextService),x=e.get(y.IFileService),[4,function(e,t,n){return s(this,void 0,void 0,function(){var r,o,s,c,u,d,p,h,f,v,m,y,S,b,E,_,C,w,I;return a(this,function(a){switch(a.label){case 0:return r=[],o=[],s=new Set,c=0,[4,e.getSnippetFiles()];case 1:u=a.sent(),a.label=2;case 2:return c<u.length?3===(d=u[c]).source?[3,5]:d.isGlobalSnippets?[4,d.load()]:[3,4]:[3,6];case 3:a.sent(),p=new Set;e:for(h=0,f=d.data;h<f.length;h++)for(v=f[h],m=0,y=v.scopes;m<y.length;m++){if(S=y[m],b=n.getLanguageName(S),p.size>=4){p.add(b+"...");break e}p.add(b)}return r.push({label:l.basename(d.location.fsPath),filepath:d.location.fsPath,
description:0===p.size?i.localize("global.scope","(global)"):i.localize("global.1","({0})",g.values(p).join(", "))}),[3,5];case 4:w=l.basename(d.location.fsPath,".json"),r.push({label:l.basename(d.location.fsPath),description:"("+n.getLanguageName(w)+")",filepath:d.location.fsPath}),s.add(w),a.label=5;case 5:return c++,[3,2];case 6:for(E=l.join(t.appSettingsHome,"snippets"),_=0,C=n.getRegisteredModes();_<C.length;_++)w=C[_],(I=n.getLanguageName(w))&&!s.has(w)&&o.push({label:w,description:"("+I+")",filepath:l.join(E,w+".json"),hint:!0});return r.sort(function(e,t){var i=l.extname(e.filepath);return i===l.extname(t.filepath)?e.label.localeCompare(t.label):".code-snippets"===i?-1:1}),o.sort(function(e,t){return e.label.localeCompare(t.label)}),[2,{existing:r,future:o}]}})})}(t,C,_)];case 1:for(D=P.sent(),T=D.existing,R=[{label:i.localize("new.global","New Global Snippets file..."),uri:h.URI.file(l.join(C.appSettingsHome,"snippets"))}],A=0,O=I.getWorkspace().folders;A<O.length;A++)k=O[A],R.push({
label:i.localize("new.folder","New Snippets file for '{0}'...",k.name),uri:k.toResource(".vscode")});return T.length>0?(T.unshift({type:"separator",label:i.localize("group.global","Existing Snippets")}),T.push({type:"separator",label:i.localize("new.global.sep","New Snippets")})):T.push({type:"separator",label:i.localize("new.global.sep","New Snippets")}),[4,n.pick([].concat(T,R,D.future),{placeHolder:i.localize("openSnippet.pickLanguage","Select Snippets File or Create Snippets"),matchOnDescription:!0})];case 2:return M=P.sent(),R.indexOf(M)>=0?[2,function(e,t,n,r,o){return s(this,void 0,void 0,function(){var s,c;return a(this,function(a){switch(a.label){case 0:return[4,r.createFolder(e)];case 1:return a.sent(),[4,d.timeout(100)];case 2:return a.sent(),[4,t.showSaveDialog({defaultPath:e.fsPath,filters:[{name:"Code Snippets",extensions:["code-snippets"]}]})];case 3:return(s=a.sent())?(c=h.URI.file(s),
l.dirname(c.fsPath)!==e.fsPath?(n.error(i.localize("badPath","Snippets must be inside this folder: '{0}'. ",e.fsPath)),
[2,void 0]):[4,r.updateContent(c,["{","\t// Place your global snippets here. Each snippet is defined under a snippet name and has a scope, prefix, body and ","\t// description. Add comma separated ids of the languages where the snippet is applicable in the scope field. If scope ","\t// is left empty or omitted, the snippet gets applied to all languages. The prefix is what is ","\t// used to trigger the snippet and the body will be expanded and inserted. Possible variables are: ","\t// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. ","\t// Placeholders with the same ids are connected.","\t// Example:",'\t// "Print to console": {','\t// \t"scope": "javascript,typescript",','\t// \t"prefix": "log",','\t// \t"body": [',"\t// \t\t\"console.log('$1');\",",'\t// \t\t"$2"',"\t// \t],",'\t// \t"description": "Log output to console"',"\t// }","}"].join("\n"))]):[2,void 0];case 4:return a.sent(),[4,o.open(c)];case 5:return a.sent(),[2]}})})}(M.uri,b,w,x,u)]:[3,3]
;case 3:return E.is(M)?M.hint?[4,function(e,t){return s(this,void 0,void 0,function(){var i;return a(this,function(n){switch(n.label){case 0:return[4,t.existsFile(h.URI.file(e.filepath))];case 1:return n.sent()?[2]:(i=["{","\t// Place your snippets for "+e.label+" here. Each snippet is defined under a snippet name and has a prefix, body and ","\t// description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:","\t// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the ","\t// same ids are connected.","\t// Example:",'\t// "Print to console": {','\t// \t"prefix": "log",','\t// \t"body": [',"\t// \t\t\"console.log('$1');\",",'\t// \t\t"$2"',"\t// \t],",'\t// \t"description": "Log output to console"',"\t// }","}"].join("\n"),[4,t.updateContent(h.URI.file(e.filepath),i)]);case 2:return n.sent(),[2]}})})}(M,x)]:[3,5]:[3,6];case 4:P.sent(),P.label=5;case 5:
return[2,u.open(h.URI.file(M.filepath))];case 6:return[2]}})})}),u.MenuRegistry.appendMenuItem(0,{command:{id:_,title:{value:i.localize("openSnippet.label","Configure User Snippets"),original:"Preferences: Configure User Snippets"},category:i.localize("preferences","Preferences")}}),u.MenuRegistry.appendMenuItem(19,{group:"3_snippets",command:{id:_,title:i.localize({key:"miOpenSnippets",comment:["&& denotes a mnemonic"]},"User &&Snippets")},order:1})}),define(e[207],t([1,0,144,22,46,36,296,2,115]),function(e,t,i,n,s,a,c,l,u){"use strict";function d(e,t,i,n){for(;t<e.length&&n<i.length;)e[t]===i[n]&&(t+=1),n+=1;return t===e.length}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){this.snippet=e,this.label=e.prefix,this.detail=l.localize("detail.snippet","{0} ({1})",e.description||e.name,e.source),this.insertText=e.body,this.range=t,this.sortText=(3===e.snippetSource?"z":"a")+"-"+e.prefix,this.kind=25,this.insertTextRules=4}return e.prototype.resolve=function(){
return this.documentation=(new i.MarkdownString).appendCodeblock("",(new c.SnippetParser).text(this.snippet.codeSnippet)),this.insertText=this.snippet.codeSnippet,this},e.compareByLabel=function(e,t){return n.compare(e.label,t.label)},e}();t.SnippetCompletion=p,t.matches=d;var h=function(){function e(e,t){this._modeService=e,this._snippets=t}return e.prototype.provideCompletionItems=function(t,i){if(!(i.column>=e._maxPrefix)){var n=this._getLanguageIdAtPosition(t,i);return this._snippets.getSnippets(n).then(function(e){for(var n,r={lineNumber:i.lineNumber,column:1},o=[],a=t.getLineContent(i.lineNumber).substr(0,i.column-1).toLowerCase(),c=a.match(/\s$/);r.column<i.column;){var u=t.getWordAtPosition(r);u?(o.push(u.startColumn-1),r.column=u.endColumn+1,u.endColumn-1<a.length&&!/\s/.test(a[u.endColumn-1])&&o.push(u.endColumn-1)):/\s/.test(a[r.column-1])?r.column+=1:(o.push(r.column-1),r.column+=1)}var h=new Set;e.forEach(h.add,h),n=[];for(var f=function(e){h.forEach(function(t){
d(a,e,t.prefixLow,0)&&(n.push(new p(t,s.Range.fromPositions(i.delta(0,-(a.length-e)),i))),h.delete(t))})},g=0,v=o;g<v.length;g++){f(v[g])}(c||0===o.length)&&h.forEach(function(e){n.push(new p(e,s.Range.fromPositions(i)))}),n.sort(p.compareByLabel);for(var m=0;m<n.length;m++){for(var y=n[m],S=m+1;S<n.length&&y.label===n[S].label;S++)n[S].label=l.localize("snippetSuggest.longLabel","{0}, {1}",n[S].label,n[S].snippet.name);S>m+1&&(n[m].label=l.localize("snippetSuggest.longLabel","{0}, {1}",n[m].label,n[m].snippet.name),m=S)}return{suggestions:n}})}},e.prototype.resolveCompletionItem=function(e,t,i){return i instanceof p?i.resolve():i},e.prototype._getLanguageIdAtPosition=function(e,t){e.tokenizeIfCheap(t.lineNumber);var i=e.getLanguageIdAtPosition(t.lineNumber,t.column),n=this._modeService.getLanguageIdentifier(i).language;return this._modeService.getLanguageName(n)||(i=e.getLanguageIdentifier().id),i},e._maxPrefix=1e4,e=r([o(0,a.IModeService),o(1,u.ISnippetsService)],e)}();t.SnippetCompletionProvider=h}),
define(e[208],t([1,0,73,90,2,65,296,578,22]),function(e,t,i,n,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t,i,n,r,o,s){this.scopes=e,this.name=t,this.prefix=i,this.description=n,this.body=r,this.source=o,this.snippetSource=s,this.prefixLow=i?i.toLowerCase():i}return Object.defineProperty(e.prototype,"codeSnippet",{get:function(){return this._ensureCodeSnippet(),this._codeSnippet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBogous",{get:function(){return this._ensureCodeSnippet(),this._isBogous},enumerable:!0,configurable:!0}),e.prototype._ensureCodeSnippet=function(){if(!this._codeSnippet){var t=e._rewriteBogousVariables(this.body);"string"==typeof t?(this._codeSnippet=t,this._isBogous=!0):(this._codeSnippet=this.body,this._isBogous=!1)}},e.compare=function(e,t){return e.snippetSource<t.snippetSource?-1:e.snippetSource>t.snippetSource?1:e.name>t.name?1:e.name<t.name?-1:0},e._rewriteBogousVariables=function(e){
for(var t=(new s.SnippetParser).parse(e,!1),i=new Map,n=0,r=0,o=t.placeholders;r<o.length;r++){var c=o[r];n=Math.max(n,c.index)}for(var l=!1,u=t.children.slice();u.length>0;){var d=u.shift();if(d instanceof s.Variable&&0===d.children.length&&!a.KnownSnippetVariableNames[d.name]){var p=i.has(d.name)?i.get(d.name):++n;i.set(d.name,p);var h=new s.Placeholder(p).appendChild(new s.Text(d.name));t.replace(d,[h]),l=!0}else u.push.apply(u,d.children)}return!!l&&t.toTextmateString()},e}();t.Snippet=l;var u=function(){function e(e,t,i,n,r){this.source=e,this.location=t,this.defaultScopes=i,this._extension=n,this._fileService=r,this.data=[],this.isGlobalSnippets=".code-snippets"===o.extname(t.path),this.isUserSnippets=!this._extension}return e.prototype.select=function(e,t){this.isGlobalSnippets||!this.isUserSnippets?this._scopeSelect(e,t):this._filepathSelect(e,t)},e.prototype._filepathSelect=function(e,t){e===o.basename(this.location.path,".json")&&t.push.apply(t,this.data)},e.prototype._scopeSelect=function(e,t){
for(var i=0,n=this.data;i<n.length;i++){var r=n[i],o=r.scopes.length;if(0===o)t.push(r);else for(var s=0;s<o;s++)if(r.scopes[s]===e){t.push(r);break}}var a=e.lastIndexOf(".");a>=0&&this._scopeSelect(e.substring(0,a),t)},e.prototype.load=function(){var e=this;return this._loadPromise||(this._loadPromise=Promise.resolve(this._fileService.resolveContent(this.location,{encoding:"utf8"})).then(function(t){var r=i.parse(t.value.toString());return"object"==typeof r&&n.forEach(r,function(t){var i=t.key,r=t.value;!function(e){return Boolean(e.body)&&Boolean(e.prefix)}(r)?n.forEach(r,function(t){var i=t.key,n=t.value;e._parseSnippet(i,n,e.data)}):e._parseSnippet(i,r,e.data)}),e})),this._loadPromise},e.prototype.reset=function(){this._loadPromise=void 0,this.data.length=0},e.prototype._parseSnippet=function(e,t,i){var n=this,o=t.prefix,s=t.body,a=t.description;if(Array.isArray(s)&&(s=s.join("\n")),("string"==typeof o||Array.isArray(o))&&"string"==typeof s){var u
;u=this.defaultScopes?this.defaultScopes:"string"==typeof t.scope?t.scope.split(",").map(function(e){return e.trim()}).filter(function(e){return!c.isFalsyOrWhitespace(e)}):[];var d;d=this._extension?this._extension.displayName||this._extension.name:2===this.source?r.localize("source.workspaceSnippetGlobal","Workspace Snippet"):this.isGlobalSnippets?r.localize("source.userSnippetGlobal","Global User Snippet"):r.localize("source.userSnippet","User Snippet");(Array.isArray(o)?o:[o]).forEach(function(t){i.push(new l(u,e,t,a,s,d,n.source))})}},e}();t.SnippetFile=u}),define(e[299],t([1,0,2,67,36,34,115,119,134,208,61]),function(e,t,n,r,o,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t,i){this.snippet=e,this.name=t,this.langId=i}return e.fromUser=function(t){if(!t||"object"!=typeof t)return e._empty;var i=t.snippet,n=t.name,r=t.langId;return"string"!=typeof i&&(i=void 0),"string"!=typeof n&&(n=void 0),"string"!=typeof r&&(r=void 0),new e(i,n,r)},
e._empty=new e(void 0,void 0,void 0),e}(),g=function(e){function t(){return e.call(this,{id:"editor.action.insertSnippet",label:n.localize("snippet.suggestions.label","Insert Snippet"),alias:"Insert Snippet",precondition:d.EditorContextKeys.writable})||this}return i(t,e),t.prototype.run=function(e,t,i){var r=this,c=e.get(o.IModeService),d=e.get(l.ISnippetsService);if(t.getModel()){var g=e.get(h.IQuickInputService),v=t.getPosition(),m=v.lineNumber,y=v.column,S=f.fromUser(i),b=S.snippet,E=S.name,_=S.langId;return new Promise(function(e,i){return s(r,void 0,void 0,function(){var r,o,s,l,u,h,f,v,S,C;return a(this,function(a){switch(a.label){case 0:return b?[2,e(new p.Snippet(void 0,void 0,void 0,void 0,b,void 0,1))]:(_?r=c.getLanguageIdentifier(_).id:(t.getModel().tokenizeIfCheap(m),r=t.getModel().getLanguageIdAtPosition(m,y),o=c.getLanguageIdentifier(r).language,c.getLanguageName(o)||(r=t.getModel().getLanguageIdentifier().id)),E?[4,d.getSnippets(r)]:[3,2]);case 1:return a.sent().every(function(t){
return t.name!==E||(e(t),!1)}),[3,4];case 2:return[4,d.getSnippets(r)];case 3:for(s=a.sent().sort(p.Snippet.compare),l=[],u=void 0,h=0,f=s;h<f.length;h++){if(v=f[h],S={label:v.prefix,detail:v.description,snippet:v},!u||u.snippetSource!==v.snippetSource){switch(C="",v.snippetSource){case 1:C=n.localize("sep.userSnippet","User Snippets");break;case 3:C=n.localize("sep.extSnippet","Extension Snippets");break;case 2:C=n.localize("sep.workspaceSnippet","Workspace Snippets")}l.push({type:"separator",label:C})}l.push(S),u=v}return[2,g.pick(l,{matchOnDetail:!0}).then(function(t){return e(t&&t.snippet)},i)];case 4:return[2]}})})}).then(function(e){e&&u.SnippetController2.get(t).insert(e.codeSnippet,0,0)})}},t}(r.EditorAction);r.registerEditorAction(g),c.CommandsRegistry.registerCommand("editor.action.showSnippets",function(e){return e.get(c.ICommandService).executeCommand("editor.action.insertSnippet")})}),define(e[300],t([1,0,11,4]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.TERMINAL_PANEL_ID="workbench.panel.terminal",t.TERMINAL_SERVICE_ID="terminalService",t.KEYBINDING_CONTEXT_TERMINAL_IS_OPEN=new i.RawContextKey("terminalIsOpen",!1),t.KEYBINDING_CONTEXT_TERMINAL_FOCUS=new i.RawContextKey("terminalFocus",!1),t.KEYBINDING_CONTEXT_TERMINAL_NOT_FOCUSED=t.KEYBINDING_CONTEXT_TERMINAL_FOCUS.toNegated(),t.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED=new i.RawContextKey("terminalTextSelected",!1),t.KEYBINDING_CONTEXT_TERMINAL_TEXT_NOT_SELECTED=t.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED.toNegated(),t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_VISIBLE=new i.RawContextKey("terminalFindWidgetVisible",!1),t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_NOT_VISIBLE=t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_VISIBLE.toNegated(),t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_INPUT_FOCUSED=new i.RawContextKey("terminalFindWidgetInputFocused",!1),t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_FOCUSED=new i.RawContextKey("terminalFindWidgetFocused",!1),
t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_INPUT_NOT_FOCUSED=t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_INPUT_FOCUSED.toNegated(),t.IS_WORKSPACE_SHELL_ALLOWED_STORAGE_KEY="terminal.integrated.isWorkspaceShellAllowed",t.NEVER_SUGGEST_SELECT_WINDOWS_SHELL_STORAGE_KEY="terminal.integrated.neverSuggestSelectWindowsShell",t.NEVER_MEASURE_RENDER_TIME_STORAGE_KEY="terminal.integrated.neverMeasureRenderTime",t.EXT_HOST_CREATION_DELAY=100,t.ITerminalService=n.createDecorator(t.TERMINAL_SERVICE_ID),t.TerminalCursorStyle={BLOCK:"block",LINE:"line",UNDERLINE:"underline"},t.TERMINAL_CONFIG_SECTION="terminal.integrated",t.DEFAULT_LETTER_SPACING=0,t.MINIMUM_LETTER_SPACING=-5,t.DEFAULT_LINE_HEIGHT=1}),define(e[132],t([1,0,4]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.descriptorFn=e}return e.prototype.getDescription=function(){return this.descriptorFn(null)},e}();t.BaseBadge=r;var o=function(e){function t(t,i){var n=e.call(this,i)||this;return n.number=t,n}
return i(t,e),t.prototype.getDescription=function(){return this.descriptorFn(this.number)},t}(r);t.NumberBadge=o;var s=function(e){function t(t,i){var n=e.call(this,i)||this;return n.text=t,n}return i(t,e),t}(r);t.TextBadge=s;var a=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(r);t.IconBadge=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r);t.ProgressBadge=c,t.IActivityService=n.createDecorator("activityService")}),define(e[101],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IBackupFileService=i.createDecorator("backupFileService"),t.BACKUP_FILE_RESOLVE_OPTIONS={acceptTextOnly:!0,encoding:"utf8"},t.BACKUP_FILE_UPDATE_OPTIONS={encoding:"utf8"}}),define(e[303],t([1,0,15,137,171,16,36,38,5,13,101,106,80]),function(e,t,n,s,a,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(e){function t(i,n,r,o,s,a,c,l,u){var h=e.call(this,c,a)||this;return h.modeId=i,
h.resource=n,h.hasAssociatedFilePath=r,h.initialValue=o,h.preferredEncoding=s,h.backupFileService=l,h.configurationService=u,h._onDidChangeContent=h._register(new d.Emitter),h._onDidChangeDirty=h._register(new d.Emitter),h._onDidChangeEncoding=h._register(new d.Emitter),h.dirty=!1,h.versionId=0,h.contentChangeEventScheduler=h._register(new p.RunOnceScheduler(function(){return h._onDidChangeContent.fire()},t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY)),h.registerListeners(),h}return i(t,e),Object.defineProperty(t.prototype,"onDidChangeContent",{get:function(){return this._onDidChangeContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeEncoding",{get:function(){return this._onDidChangeEncoding.event},enumerable:!0,configurable:!0}),t.prototype.getOrCreateMode=function(t,i,n){
return i&&i!==a.PLAINTEXT_MODE_ID?e.prototype.getOrCreateMode.call(this,t,i,n):t.createByFilepathOrFirstLine(this.resource.fsPath,n)},t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(t){return e.onConfigurationChange()}))},t.prototype.onConfigurationChange=function(){var e=this.configurationService.getValue(this.resource,"files.encoding");this.configuredEncoding!==e&&(this.configuredEncoding=e,this.preferredEncoding||this._onDidChangeEncoding.fire())},t.prototype.getVersionId=function(){return this.versionId},t.prototype.getModeId=function(){return this.textEditorModel?this.textEditorModel.getLanguageIdentifier().language:null},t.prototype.getEncoding=function(){return this.preferredEncoding||this.configuredEncoding},t.prototype.setEncoding=function(e){var t=this.getEncoding();this.preferredEncoding=e,t!==this.preferredEncoding&&this._onDidChangeEncoding.fire()},t.prototype.isDirty=function(){return this.dirty},
t.prototype.setDirty=function(e){this.dirty!==e&&(this.dirty=e,this._onDidChangeDirty.fire())},t.prototype.getResource=function(){return this.resource},t.prototype.revert=function(){this.setDirty(!1),this.contentChangeEventScheduler.schedule()},t.prototype.load=function(){var e=this;return this.backupFileService.loadBackupResource(this.resource).then(function(t){return t?e.backupFileService.resolveBackupContent(t):null}).then(function(t){var i=!!t;e.setDirty(e.hasAssociatedFilePath||i);var n;return n=t||g.createTextBufferFactory(e.initialValue||""),e.doLoad(n).then(function(t){return e.configuredEncoding=e.configurationService.getValue(e.resource,"files.encoding"),e._register(e.textEditorModel.onDidChangeContent(function(){return e.onModelContentChanged()})),e._register(e.textEditorModel.onDidChangeLanguage(function(){return e.onConfigurationChange()})),t})})},t.prototype.doLoad=function(e){var t=this;return this.textEditorModel?(this.updateTextEditorModel(e),
n.TPromise.as(this)):this.createTextEditorModel(e,this.resource,this.modeId).then(function(e){return t})},t.prototype.onModelContentChanged=function(){this.versionId++,this.hasAssociatedFilePath||1!==this.textEditorModel.getLineCount()||""!==this.textEditorModel.getLineContent(1)?this.setDirty(!0):this.setDirty(!1),this.contentChangeEventScheduler.schedule()},t.prototype.isReadonly=function(){return!1},t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY=c.CONTENT_CHANGE_EVENT_BUFFER_DELAY,t=r([o(5,l.IModeService),o(6,u.IModelService),o(7,h.IBackupFileService),o(8,f.ITextResourceConfigurationService)],t)}(s.BaseTextEditorModel);t.UntitledEditorModel=v}),define(e[418],t([1,0,65,330,165,6,13,101,16,15,262,80,44]),function(e,t,i,n,s,a,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(e,t){this.snapshot=e,this.preamble=t}return e.prototype.read=function(){var e=this.snapshot.read();return this.preambleHandled||(this.preambleHandled=!0,
e="string"==typeof e?this.preamble+e:this.preamble),e},e}();t.BackupSnapshot=g;var v=function(){function e(){this.cache=Object.create(null)}return e.prototype.resolve=function(e){var t=this;return s.readDirsInDir(e).then(function(n){return d.TPromise.join(n.map(function(n){var r=i.join(e,n);return s.readdir(r).then(function(e){e.forEach(function(e){var n=a.URI.file(i.join(r,e));t.add(n)})})}))}).then(function(){return t},function(e){return t})},e.prototype.add=function(e,t){void 0===t&&(t=0),this.cache[e.toString()]=t},e.prototype.count=function(){return Object.keys(this.cache).length},e.prototype.has=function(e,t){var i=this.cache[e.toString()];return"number"==typeof i&&("number"!=typeof t||t===i)},e.prototype.get=function(){return Object.keys(this.cache).map(function(e){return a.URI.parse(e)})},e.prototype.remove=function(e){delete this.cache[e.toString()]},e.prototype.clear=function(){this.cache=Object.create(null)},e}();t.BackupFilesModel=v;var m=function(){function e(e,t){this.fileService=t,
this.isShuttingDown=!1,this.ioOperationQueues=new c.ResourceQueue,this.initialize(e)}return e.prototype.initialize=function(e){this.backupWorkspacePath=e,this.ready=this.init()},e.prototype.init=function(){return(new v).resolve(this.backupWorkspacePath)},e.prototype.hasBackups=function(){return this.ready.then(function(e){return e.count()>0})},e.prototype.loadBackupResource=function(e){var t=this;return this.ready.then(function(i){var n=t.toBackupResource(e);if(i.has(n))return n})},e.prototype.backupResource=function(t,i,n){var r=this;return this.isShuttingDown?d.TPromise.as(void 0):this.ready.then(function(o){var s=r.toBackupResource(t);if(!o.has(s,n))return r.ioOperationQueues.queueFor(s).queue(function(){var a=""+t.toString()+e.META_MARKER;return r.fileService.updateContent(s,new g(i,a),l.BACKUP_FILE_UPDATE_OPTIONS).then(function(){return o.add(s,n)})})})},e.prototype.discardResourceBackup=function(e){var t=this;return this.ready.then(function(i){var n=t.toBackupResource(e)
;return t.ioOperationQueues.queueFor(n).queue(function(){return s.del(n.fsPath).then(function(){return i.remove(n)})})})},e.prototype.discardAllWorkspaceBackups=function(){var e=this;return this.isShuttingDown=!0,this.ready.then(function(t){return s.del(e.backupWorkspacePath).then(function(){return t.clear()})})},e.prototype.getWorkspaceFileBackups=function(){return this.ready.then(function(t){var i=[];return t.get().forEach(function(t){i.push(p.readToMatchingString(t.fsPath,e.META_MARKER,2e3,1e4).then(a.URI.parse))}),d.TPromise.join(i)})},e.prototype.resolveBackupContent=function(t){return this.fileService.resolveStreamContent(t,l.BACKUP_FILE_RESOLVE_OPTIONS).then(function(t){var i=!1;return h.createTextBufferFactoryFromStream(t.value,function(t){if(!i&&t){var n=t.indexOf(e.META_MARKER);return-1===n?"":(i=!0,t.substr(n+1))}return t})})},e.prototype.toBackupResource=function(e){return a.URI.file(i.join(this.backupWorkspacePath,e.scheme,this.hashPath(e)))},e.prototype.hashPath=function(e){
return n.createHash("md5").update(e.fsPath).digest("hex")},e.META_MARKER="\n",e=r([o(1,u.IFileService)],e)}();t.BackupFileService=m;var y=function(){function e(){this.backups=new Map}return e.prototype.hasBackups=function(){return d.TPromise.as(this.backups.size>0)},e.prototype.loadBackupResource=function(e){var t=this.toBackupResource(e);return this.backups.has(t.toString())?d.TPromise.as(t):d.TPromise.as(void 0)},e.prototype.backupResource=function(e,t,i){var n=this.toBackupResource(e);return this.backups.set(n.toString(),t),d.TPromise.as(void 0)},e.prototype.resolveBackupContent=function(e){var t=this.backups.get(e.toString());return t?d.TPromise.as(h.createTextBufferFactoryFromSnapshot(t)):d.TPromise.as(void 0)},e.prototype.getWorkspaceFileBackups=function(){return d.TPromise.as(f.keys(this.backups).map(function(e){return a.URI.parse(e)}))},e.prototype.discardResourceBackup=function(e){return this.backups.delete(this.toBackupResource(e).toString()),d.TPromise.as(void 0)},
e.prototype.discardAllWorkspaceBackups=function(){return this.backups.clear(),d.TPromise.as(void 0)},e.prototype.toBackupResource=function(e){return a.URI.file(i.join(e.scheme,this.hashPath(e)))},e.prototype.hashPath=function(e){return n.createHash("md5").update(e.fsPath).digest("hex")},e}();t.InMemoryBackupFileService=y}),define(e[94],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FOLDER_CONFIG_FOLDER_NAME=".vscode",t.FOLDER_SETTINGS_NAME="settings",t.FOLDER_SETTINGS_PATH=t.FOLDER_CONFIG_FOLDER_NAME+"/"+t.FOLDER_SETTINGS_NAME+".json",t.IWorkspaceConfigurationService=i.createDecorator("configurationService"),t.defaultSettingsSchemaId="vscode://schemas/settings/default",t.userSettingsSchemaId="vscode://schemas/settings/user",t.workspaceSettingsSchemaId="vscode://schemas/settings/workspace",t.folderSettingsSchemaId="vscode://schemas/settings/folder",t.launchSchemaId="vscode://schemas/launch",t.TASKS_CONFIGURATION_KEY="tasks",t.LAUNCH_CONFIGURATION_KEY="launch",
t.WORKSPACE_STANDALONE_CONFIGURATIONS=Object.create(null),t.WORKSPACE_STANDALONE_CONFIGURATIONS[t.TASKS_CONFIGURATION_KEY]=t.FOLDER_CONFIG_FOLDER_NAME+"/"+t.TASKS_CONFIGURATION_KEY+".json",t.WORKSPACE_STANDALONE_CONFIGURATIONS[t.LAUNCH_CONFIGURATION_KEY]=t.FOLDER_CONFIG_FOLDER_NAME+"/"+t.LAUNCH_CONFIGURATION_KEY+".json"}),define(e[227],t([1,0,19,22,7,75,81,94,48,4,577,3,92,68,52,18]),function(e,t,c,l,u,d,p,h,f,g,v,m,y,S,b,E){"use strict";function _(e,t){return t?t+"##"+e:e}Object.defineProperty(t,"__esModule",{value:!0});var C=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.configurationService=t,s.environmentService=i,s.instantiationService=n,s.extensionManagementService=r,s.extensionEnablementService=o,s._installedExtensions=s.extensionManagementService.getInstalled(1).then(function(e){return e.filter(function(e){return s.extensionEnablementService.isEnabled(e)}).filter(function(e){return e.manifest&&e.manifest.contributes&&e.manifest.contributes.configuration}).filter(function(e){
return!!e.identifier.uuid})}),s}return i(t,e),Object.defineProperty(t.prototype,"remoteSearchAllowed",{get:function(){this.configurationService.getValue().workbench.settings;return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_endpoint",{get:function(){var e=this.configurationService.getValue().workbench.settings;return e.naturalLanguageSearchEndpoint?{urlBase:e.naturalLanguageSearchEndpoint,key:e.naturalLanguageSearchKey}:{urlBase:this.environmentService.settingsSearchUrl}},enumerable:!0,configurable:!0}),t.prototype.getRemoteSearchProvider=function(e,t){void 0===t&&(t=!1);var i={filter:e,newExtensionsOnly:t,endpoint:this._endpoint};return this.remoteSearchAllowed&&this.instantiationService.createInstance(I,i,this._installedExtensions)},t.prototype.getLocalSearchProvider=function(e){return this.instantiationService.createInstance(w,e)},
t=r([o(0,h.IWorkspaceConfigurationService),o(1,f.IEnvironmentService),o(2,g.IInstantiationService),o(3,y.IExtensionManagementService),o(4,y.IExtensionEnablementService)],t)}(m.Disposable);t.PreferencesSearchService=C;var w=function(){function e(e){this._filter=e,this._filter=this._filter.replace(/[":]/g," ").replace(/  /g," ").trim()}return e.prototype.searchModel=function(t,i){var n=this;if(!this._filter)return Promise.resolve(null);var r=e.START_SCORE,o=t.filterSettings(this._filter,this.getGroupFilter(this._filter),function(i){var o=new T(n._filter,i,!0,!0,function(e,i){return t.findValueMatches(e,i)}).matches,s=n._filter===i.key?e.EXACT_MATCH_SCORE:r--;return o&&o.length?{matches:o,score:s}:null});return o[0]&&o[0].score===e.EXACT_MATCH_SCORE?Promise.resolve({filterMatches:o.slice(0,1),exactMatch:!0}):Promise.resolve({filterMatches:o})},e.prototype.getGroupFilter=function(e){var t=l.createRegExp(e,!1,{global:!0});return function(e){return t.test(e.title)}},e.EXACT_MATCH_SCORE=1e4,e.START_SCORE=1e3,e}()
;t.LocalSearchProvider=w;var I=function(){function e(e,t,i,n){this.options=e,this.installedExtensions=t,this.environmentService=i,this.logService=n,this._remoteSearchP=this.options.filter?Promise.resolve(this.getSettingsForFilter(this.options.filter)):Promise.resolve(null)}return e.prototype.searchModel=function(t,i){var n=this;return this._remoteSearchP.then(function(r){if(!r)return null;if(i&&i.isCancellationRequested)throw E.canceled();var o=Object.keys(r.scoredResults),s=c.top(o,function(e,t){return r.scoredResults[t].score-r.scoredResults[e].score},1)[0],a=(s?r.scoredResults[s].score:0)/5;if(n.options.newExtensionsOnly)return n.installedExtensions.then(function(t){var i=Math.max(e.NEW_EXTENSIONS_MIN_SCORE,a);return{filterMatches:o.filter(function(e){var i=r.scoredResults[e],n=(i.extensionPublisher+"."+i.extensionName).toLowerCase();return!t.some(function(e){return e.galleryIdentifier.id.toLowerCase()===n})}).filter(function(e){return r.scoredResults[e].score>=i}).map(function(e){var t=r.scoredResults[e]
;return{setting:function(e){return{description:e.description.split("\n"),descriptionIsMarkdown:!1,descriptionRanges:null,key:e.key,keyRange:null,value:e.defaultValue,range:null,valueRange:null,overrides:[],extensionName:e.extensionName,extensionPublisher:e.extensionPublisher}}(t),score:t.score,matches:[]}}),metadata:r}});var l=n.getRemoteSettingMatcher(r.scoredResults,a,t);return{filterMatches:t.filterSettings(n.options.filter,function(e){return null},l),metadata:r}})},e.prototype.getSettingsForFilter=function(t){return s(this,void 0,void 0,function(){var i,r,o,s=this;return a(this,function(a){switch(a.label){case 0:i=[],r=0,a.label=1;case 1:return r<e.MAX_REQUESTS?[4,this.prepareRequest(t,r)]:[3,4];case 2:if(o=a.sent(),i.push(o),!o.hasMoreFilters)return[3,4];a.label=3;case 3:return r++,[3,1];case 4:return[2,Promise.all(i.map(function(e){return s.getSettingsFromBing(e)})).then(function(e){var t=e[0];t.requestCount=1;for(var i=0,r=e.slice(1);i<r.length;i++){var o=r[i];t.requestCount++,
t.scoredResults=n({},t.scoredResults,o.scoredResults)}return t})]}})})},e.prototype.getSettingsFromBing=function(e){this.logService.debug("Searching settings via "+e.url),e.body&&this.logService.debug("Body: "+e.body);var t=e.body?"post":"get",i=Date.now();return this.requestService.request({type:t,url:e.url,data:e.body,headers:{"User-Agent":"request","Content-Type":"application/json; charset=utf-8","api-key":this.options.endpoint.key},timeout:5e3},b.CancellationToken.None).then(function(t){if(t.res.statusCode>=300)throw new Error(e+" returned status code: "+t.res.statusCode);return v.asJson(t)}).then(function(t){var n=Date.now(),r=n-i,o=(t.value||[]).map(function(e){var t,i,n,r=JSON.parse(e.setting||e.Setting),o=e.packageid,s=_(r,o),a=e.value,c=a?JSON.parse(a):a,l=e.packagename;return l&&l.indexOf("##")>=0&&(n=(t=l.split("##"))[0],i=t[1]),{key:r,id:s,defaultValue:c,score:e["@search.score"],description:JSON.parse(e.details),packageId:o,extensionName:i,extensionPublisher:n}}),s=Object.create(null)
;return o.forEach(function(e){s[e.id]=e}),{requestUrl:e.url,requestBody:e.body,duration:r,timestamp:n,scoredResults:s,context:t["@odata.context"],extensions:e.extensions}})},e.prototype.getRemoteSettingMatcher=function(e,t,i){var n=this;return function(r,o){var s=e[_(r.key,o.id)]||e[_(r.key,"core")]||e[_(r.key)];if(s&&s.score>=t){return{matches:new T(n.options.filter,r,!1,!0,function(e,t){return i.findValueMatches(e,t)}).matches,score:s.score}}return null}},e.prototype.prepareRequest=function(t,i){return void 0===i&&(i=0),s(this,void 0,void 0,function(){var n,r,o,s,c,l,u,d,p,h;return a(this,function(a){switch(a.label){case 0:return n=t,t=function(e){return e.replace(/\./g," ").replace(/[\\/+\-&|!"~*?:(){}\[\]\^]/g,"\\$&").replace(/  /g," ").trim()}(t),r=10,o="("+t+")^"+r,t=t.replace(/\ +/g,"~ ")+"~",s=encodeURIComponent(o+" || "+t),c=""+this.options.endpoint.urlBase,this.options.endpoint.key&&(c+=x+"&"+D),[4,this.installedExtensions];case 1:return l=a.sent(),
u=this.options.newExtensionsOnly?["diminish eq 'latest'"]:this.getVersionFilters(l,this.environmentService.settingsSearchBuildId),d=u.slice(i*e.MAX_REQUEST_FILTERS,(i+1)*e.MAX_REQUEST_FILTERS).join(" or "),p=u.length>(i+1)*e.MAX_REQUEST_FILTERS,h=JSON.stringify({query:s,filters:encodeURIComponent(d),rawQuery:encodeURIComponent(n)}),[2,{url:c,body:h,hasMoreFilters:p,extensions:l}]}})})},e.prototype.getVersionFilters=function(e,t){var i=this,n=e.filter(function(e){return e.manifest.contributes&&e.manifest.contributes.configuration}).map(function(e){return i.getExtensionFilter(e)});return t&&n.push("(packageid eq 'core' and startbuildno le '"+t+"' and endbuildno ge '"+t+"')"),n},e.prototype.getExtensionFilter=function(e){var t=e.identifier.uuid,i=e.manifest.version.split(".").map(function(e){return l.pad(e,10)}).join("");return"(packageid eq '"+t+"' and startbuildno le '"+i+"' and endbuildno ge '"+i+"')"},e.MAX_REQUEST_FILTERS=42,e.MAX_REQUESTS=10,e.NEW_EXTENSIONS_MIN_SCORE=1,
e=r([o(2,f.IEnvironmentService),o(3,S.ILogService)],e)}(),x="api-version=2016-09-01-Preview",D="querytype=full",T=function(){function e(e,t,i,n,r){this.requireFullQueryMatch=i,this.searchDescription=n,this.valuesMatcher=r,this.descriptionMatchingWords=new Map,this.keyMatchingWords=new Map,this.valueMatchingWords=new Map,this.matches=c.distinct(this._findMatchesInSetting(e,t),function(e){return e.startLineNumber+"_"+e.startColumn+"_"+e.endLineNumber+"_"+e.endColumn+"_"})}return e.prototype._findMatchesInSetting=function(t,i){var n=this._doFindMatchesInSetting(t,i);if(i.overrides&&i.overrides.length)for(var r=0,o=i.overrides;r<o.length;r++){
var s=new e(t,o[r],this.requireFullQueryMatch,this.searchDescription,this.valuesMatcher),a=t.split(" "),c=this.getRangesForWords(a,this.descriptionMatchingWords,[s.descriptionMatchingWords,s.keyMatchingWords,s.valueMatchingWords]),l=this.getRangesForWords(a,this.keyMatchingWords,[s.descriptionMatchingWords,s.keyMatchingWords,s.valueMatchingWords]),u=this.getRangesForWords(a,s.keyMatchingWords,[this.descriptionMatchingWords,this.keyMatchingWords,s.valueMatchingWords]),d=this.getRangesForWords(a,s.valueMatchingWords,[this.descriptionMatchingWords,this.keyMatchingWords,s.keyMatchingWords]);n.push.apply(n,c.concat(l,u,d)),n.push.apply(n,s.matches)}return n},e.prototype._doFindMatchesInSetting=function(e,t){for(var i=this,n=u.Registry.as(d.Extensions.Configuration).getConfigurationProperties()[t.key],r=e.split(" "),o=t.key.split(".").join(" "),s=function(e){if(a.searchDescription)for(var r=function(n){var r=p.matchesWords(e,t.description[n],!0);r&&a.descriptionMatchingWords.set(e,r.map(function(e){
return i.toDescriptionRange(t,e,n)}))},s=0;s<t.description.length;s++)r(s);var c=p.or(p.matchesWords,p.matchesCamelCase)(e,o);c&&a.keyMatchingWords.set(e,c.map(function(e){return i.toKeyRange(t,e)}));var l="string"==typeof t.value?p.matchesContiguousSubString(e,t.value):null;l?a.valueMatchingWords.set(e,l.map(function(e){return i.toValueRange(t,e)})):n&&n.enum&&n.enum.some(function(t){return"string"==typeof t&&!!p.matchesContiguousSubString(e,t)})&&a.valueMatchingWords.set(e,[])},a=this,c=0,l=r;c<l.length;c++){s(l[c])}var h=[];if(this.searchDescription){for(var f=function(n){var r=p.or(p.matchesContiguousSubString)(e,t.description[n]||"")||[];h.push.apply(h,r.map(function(e){return i.toDescriptionRange(t,e,n)}))},g=0;g<t.description.length;g++)f(g);0===h.length&&h.push.apply(h,this.getRangesForWords(r,this.descriptionMatchingWords,[this.keyMatchingWords,this.valueMatchingWords]))}var v=p.or(p.matchesPrefix,p.matchesContiguousSubString)(e,t.key),m=v?v.map(function(e){return i.toKeyRange(t,e)
}):this.getRangesForWords(r,this.keyMatchingWords,[this.descriptionMatchingWords,this.valueMatchingWords]),y=[];if(t.value&&"string"==typeof t.value){var S=p.or(p.matchesPrefix,p.matchesContiguousSubString)(e,t.value);y=S?S.map(function(e){return i.toValueRange(t,e)}):this.getRangesForWords(r,this.valueMatchingWords,[this.keyMatchingWords,this.descriptionMatchingWords])}else y=this.valuesMatcher?this.valuesMatcher(e,t):[];return h.concat(m,y)},e.prototype.getRangesForWords=function(e,t,i){for(var n=[],r=function(e){var r=t.get(e);if(r)n.push.apply(n,r);else if(o.requireFullQueryMatch&&i.every(function(t){return!t.has(e)}))return{value:[]}},o=this,s=0,a=e;s<a.length;s++){var c=r(a[s]);if("object"==typeof c)return c.value}return n},e.prototype.toKeyRange=function(e,t){return e.keyRange?{startLineNumber:e.keyRange.startLineNumber,startColumn:e.keyRange.startColumn+t.start,endLineNumber:e.keyRange.startLineNumber,endColumn:e.keyRange.startColumn+t.end}:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}
},e.prototype.toDescriptionRange=function(e,t,i){return e.keyRange?{startLineNumber:e.descriptionRanges[i].startLineNumber,startColumn:e.descriptionRanges[i].startColumn+t.start,endLineNumber:e.descriptionRanges[i].endLineNumber,endColumn:e.descriptionRanges[i].startColumn+t.end}:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}},e.prototype.toValueRange=function(e,t){return e.keyRange?{startLineNumber:e.valueRange.startLineNumber,startColumn:e.valueRange.startColumn+t.start+1,endLineNumber:e.valueRange.startLineNumber,endColumn:e.valueRange.startColumn+t.end+1}:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}},e}()}),define(e[149],t([1,0,4]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IJSONEditingService=n.createDecorator("jsonEditingService");var r=function(e){function t(t,i){var n=e.call(this,t)||this;return n.code=i,n}return i(t,e),t}(Error);t.JSONEditingError=r}),
define(e[237],t([1,0,2,39,9,42,30,147,239,234,191,20,4,75,7]),function(e,t,i,n,s,a,c,l,u,d,p,h,f,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICrashReporterService=f.createDecorator("crashReporterService"),t.TELEMETRY_SECTION_ID="telemetry";v.Registry.as(g.Extensions.Configuration).registerConfiguration({id:t.TELEMETRY_SECTION_ID,order:110,title:i.localize("telemetryConfigurationTitle","Telemetry"),type:"object",properties:{"telemetry.enableCrashReporter":{type:"boolean",description:i.localize("telemetry.enableCrashReporting","Enable crash reports to be sent to a Microsoft online service. \nThis option requires restart to take effect."),default:!0,tags:["usesOnlineServices"]}}}),t.NullCrashReporterService={_serviceBrand:void 0,getChildProcessStartOptions:function(e){}};var m=function(){function e(e,i,n){this.telemetryService=e,this.windowsService=i;var r=n.getValue(t.TELEMETRY_SECTION_ID);this.isEnabled=!!r.enableCrashReporter,this.isEnabled&&this.startCrashReporter()}
return e.prototype.startCrashReporter=function(){var e=this;this.options={companyName:u.default.crashReporter.companyName,productName:u.default.crashReporter.productName,submitURL:this.getSubmitURL(),extra:{vscode_version:d.default.version,vscode_commit:u.default.commit}},this.telemetryService.getTelemetryInfo().then(function(t){return n.assign(e.options.extra,{vscode_sessionId:t.sessionId}),l.crashReporter.start(n.deepClone(e.options)),e.windowsService.startCrashReporter(e.options)})},e.prototype.getSubmitURL=function(){if(h.isWindows)return u.default.hockeyApp["win32-"+process.arch];if(h.isMacintosh)return u.default.hockeyApp.darwin;if(h.isLinux)return u.default.hockeyApp["linux-"+process.arch];throw new Error("Unknown platform")},e.prototype.getChildProcessStartOptions=function(e){if(this.isEnabled&&h.isMacintosh){var t=n.deepClone(this.options);return t.extra.processName=e,t.crashesDirectory=p.tmpdir(),t}},e=r([o(0,c.ITelemetryService),o(1,a.IWindowsService),o(2,s.IConfigurationService)],e)}()
;t.CrashReporterService=m}),define(e[146],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationsService=i.createDecorator("IFileDecorationsService")}),define(e[313],t([1,0,5,44,3,13,576,8,12,158,22,2,18,52]),function(e,t,i,n,s,a,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(t){this.data=t,this.itemColorClassName=e._classNames.nextId(),this.itemBadgeClassName=e._classNames.nextId(),this.bubbleBadgeClassName=e._classNames.nextId()}return e.keyOf=function(t){if(Array.isArray(t))return t.map(e.keyOf).join(",");return t.color+"/"+t.letter},e.prototype.appendCSSRules=function(e,t){Array.isArray(this.data)?this._appendForMany(this.data,e,t):this._appendForOne(this.data,e,t)},e.prototype._appendForOne=function(e,t,i){var n=e.color,r=e.letter;l.createCSSRule("."+this.itemColorClassName,"color: "+(i.getColor(n)||"inherit")+";",t),
r&&l.createCSSRule("."+this.itemBadgeClassName+"::after",'content: "'+r+'"; color: '+(i.getColor(n)||"inherit")+";",t)},e.prototype._appendForMany=function(e,t,i){var n=e[0].color;l.createCSSRule("."+this.itemColorClassName,"color: "+(i.getColor(n)||"inherit")+";",t);var r=e.filter(function(e){return!p.isFalsyOrWhitespace(e.letter)}).map(function(e){return e.letter});r.length&&l.createCSSRule("."+this.itemBadgeClassName+"::after",'content: "'+r.join(", ")+'"; color: '+(i.getColor(n)||"inherit")+";",t),l.createCSSRule("."+this.bubbleBadgeClassName+"::after",'content: ""; color: '+(i.getColor(n)||"inherit")+"; font-family: octicons; font-size: 14px; padding-right: 14px; opacity: 0.4;",t)},e.prototype.removeCSSRules=function(e){l.removeCSSRulesContainingSelector(this.itemColorClassName,e),l.removeCSSRulesContainingSelector(this.itemBadgeClassName,e),l.removeCSSRulesContainingSelector(this.bubbleBadgeClassName,e)},e.prototype.isUnused=function(){
return!document.querySelector("."+this.itemColorClassName)&&!document.querySelector("."+this.itemBadgeClassName)&&!document.querySelector("."+this.bubbleBadgeClassName)},e._classNames=new d.IdGenerator("monaco-decorations-style-"),e}(),m=function(){function e(e){this._themeService=e,this._styleElement=l.createStyleSheet(),this._decorationRules=new Map,this._disposables=[this._themeService.onThemeChange(this._onThemeChange,this)]}return e.prototype.dispose=function(){s.dispose(this._disposables),this._styleElement.parentElement.removeChild(this._styleElement)},e.prototype.asDecoration=function(e,t){var i=this;e.sort(function(e,t){return t.weight-e.weight});var n=v.keyOf(e),r=this._decorationRules.get(n);r||(r=new v(e),this._decorationRules.set(n,r),r.appendCSSRules(this._styleElement,this._themeService.getTheme()));var o=r.itemColorClassName,s=r.itemBadgeClassName,a=e.filter(function(e){return!p.isFalsyOrWhitespace(e.tooltip)}).map(function(e){return e.tooltip}).join("  ");return t&&(s=r.bubbleBadgeClassName,
a=h.localize("bubbleTitle","Contains emphasized items")),{labelClassName:o,badgeClassName:s,tooltip:a,update:function(n){for(var r=e.slice(),o=0;o<r.length;o++)r[o].source===n.source&&(r[o]=n);return i.asDecoration(r,t)}}},e.prototype._onThemeChange=function(){var e=this;this._decorationRules.forEach(function(t){t.removeCSSRules(e._styleElement),t.appendCSSRules(e._styleElement,e._themeService.getTheme())})},e.prototype.cleanUp=function(e){for(var t=this,i=new Set,n=e.next();!n.done;n=e.next())n.value.data.forEach(function(e,t){!e||e instanceof S||i.add(v.keyOf(e))});this._decorationRules.forEach(function(e,n){var r=e.data;if(e.isUnused()){var o=void 0;Array.isArray(r)?o=r.some(function(e){return!i.has(v.keyOf(e))}):i.has(v.keyOf(r))||(o=!0),o&&(e.removeCSSRules(t._styleElement),t._decorationRules.delete(n))}})},e}(),y=function(){function e(){this._data=n.TernarySearchTree.forPaths()}return e.prototype.affectsResource=function(e){
return this._data.get(e.toString())||void 0!==this._data.findSuperstr(e.toString())},e.debouncer=function(t,i){if(t||(t=new e),Array.isArray(i))for(var n=0,r=i;n<r.length;n++){var o=r[n];t._data.set(o.toString(),!0)}else t._data.set(i.toString(),!0);return t},e}(),S=function(){return function(e,t){this.source=e,this.thenable=t}}(),b=function(){function e(e,t,i){var r=this;this._provider=e,this._uriEmitter=t,this._flushEmitter=i,this.data=n.TernarySearchTree.forPaths(),this._dispoable=this._provider.onDidChange(function(e){if(e)for(var t=0,i=e;t<i.length;t++){var n=i[t];r._fetchData(n)}else r.data.clear(),r._flushEmitter.fire({affectsResource:function(){return!0}})})}return e.prototype.dispose=function(){this._dispoable.dispose(),this.data.clear()},e.prototype.knowsAbout=function(e){return Boolean(this.data.get(e.toString()))||Boolean(this.data.findSuperstr(e.toString()))},e.prototype.getOrRetrieve=function(e,t,i){var n=e.toString(),r=this.data.get(n);if(void 0===r&&(r=this._fetchData(e)),
!r||r instanceof S||i(r,!1),t){var o=this.data.findSuperstr(n);if(o)for(var s=o.next();!s.done;s=o.next())!s.value||s.value instanceof S||i(s.value,!0)}},e.prototype._fetchData=function(e){var t=this,i=this.data.get(e.toString());i instanceof S&&(i.source.cancel(),this.data.delete(e.toString()));var n=new g.CancellationTokenSource,r=this._provider.provideDecorations(e,n.token);if(!a.isThenable(r))return this._keepItem(e,r);var o=new S(n,Promise.resolve(r).then(function(i){t.data.get(e.toString())===o&&t._keepItem(e,i)}).catch(function(i){f.isPromiseCanceledError(i)||t.data.get(e.toString())!==o||t.data.delete(e.toString())}));this.data.set(e.toString(),o)},e.prototype._keepItem=function(e,t){var i=t||null,n=this.data.set(e.toString(),i);return(i||n)&&this._uriEmitter.fire(e),i},e}(),E=function(){function e(e,t){void 0===t&&(t=17);var n=this;this._data=new c.LinkedList,this._onDidChangeDecorationsDelayed=new i.Emitter,this._onDidChangeDecorations=new i.Emitter,
this.onDidChangeDecorations=i.anyEvent(this._onDidChangeDecorations.event,i.debounceEvent(this._onDidChangeDecorationsDelayed.event,y.debouncer)),this._decorationStyles=new m(e);var r=0,o=this.onDidChangeDecorations(function(){++r%t==0&&n._decorationStyles.cleanUp(n._data.iterator())});this._disposables=[o,this._decorationStyles]}return e.prototype.dispose=function(){s.dispose(this._disposables),s.dispose(this._onDidChangeDecorations),s.dispose(this._onDidChangeDecorationsDelayed)},e.prototype.registerDecorationsProvider=function(e){var t=this,i=new b(e,this._onDidChangeDecorationsDelayed,this._onDidChangeDecorations),n=this._data.push(i);return this._onDidChangeDecorations.fire({affectsResource:function(){return!0}}),s.toDisposable(function(){n(),t._onDidChangeDecorations.fire({affectsResource:function(e){return i.knowsAbout(e)}}),i.dispose()})},e.prototype.getDecoration=function(e,t,i){for(var n,r=[],o=this._data.iterator(),s=o.next();!s.done;s=o.next())s.value.getOrRetrieve(e,t,function(e,t){
t&&!e.bubble||(r.push(e),n=t||n)});if(0===r.length)return i?this._decorationStyles.asDecoration([i],n):void 0;var a=this._decorationStyles.asDecoration(r,n);return i?a.update(i):a},e=r([o(0,u.IThemeService)],e)}();t.FileDecorationsService=E}),define(e[10],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEditorService=i.createDecorator("editorService"),t.ACTIVE_GROUP=-1,t.SIDE_GROUP=-2}),define(e[316],t([1,0,100,10,3,17]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){this._codesandboxService=e,this._editorService=t,this._toDispose=[],t.onDidActiveEditorChange(this.updateCurrentFileOpen,this,this._toDispose)}return e.prototype.updateCurrentFileOpen=function(){var e=a.toResource(this._editorService.activeEditor,{supportSideBySide:!0,filter:"file"}),t=(e?e.fsPath:"").replace(/^\/sandbox/,"");t?this._codesandboxService.runSignal("editor.moduleSelected",{path:t
}):this._codesandboxService.runSignal("editor.clearModuleSelected",{})},e.prototype.dispose=function(){this._toDispose=s.dispose(this._toDispose)},e=r([o(0,i.ICodeSandboxService),o(1,n.IEditorService)],e)}();t.CodeSandboxEditorConnectorService=c}),define(e[255],t([1,0,79,217,6,144,219,10,29,575]),function(e,t,i,r,o,s,a,c,l,u){"use strict";function d(e){return 0===e.length||!!function(e){return void 0!==e.range}(e[0])}function p(e){return void 0===e?e:"string"==typeof e?o.URI.file(e):e}Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.to=function(e){var t=e.selectionStartLineNumber,i=e.selectionStartColumn,n=e.positionLineNumber,o=e.positionColumn,s=new r.Position(t-1,i-1),a=new r.Position(n-1,o-1);return new r.Selection(s,a)},e.from=function(e){var t=e.anchor,i=e.active;return{selectionStartLineNumber:t.line+1,selectionStartColumn:t.character+1,positionLineNumber:i.line+1,positionColumn:i.character+1}}}(t.Selection||(t.Selection={}));var h;!function(e){e.from=function(e){if(e){
var t=e.start,i=e.end;return{startLineNumber:t.line+1,startColumn:t.character+1,endLineNumber:i.line+1,endColumn:i.character+1}}},e.to=function(e){if(e){var t=e.startLineNumber,i=e.startColumn,n=e.endLineNumber,o=e.endColumn;return new r.Range(t-1,i-1,n-1,o-1)}}}(h=t.Range||(t.Range={}));!function(e){e.to=function(e){return new r.Position(e.lineNumber-1,e.column-1)},e.from=function(e){return{lineNumber:e.line+1,column:e.character+1}}}(t.Position||(t.Position={}));var f;!function(e){e.from=function(e){switch(e){case r.DiagnosticTag.Unnecessary:return 1}}}(f=t.DiagnosticTag||(t.DiagnosticTag={}));!function(e){e.from=function(e){return n({},h.from(e.range),{message:e.message,source:e.source,code:l.isString(e.code)||l.isNumber(e.code)?String(e.code):void 0,severity:v.from(e.severity),relatedInformation:e.relatedInformation&&e.relatedInformation.map(g.from),tags:Array.isArray(e.tags)?e.tags.map(f.from):void 0})}}(t.Diagnostic||(t.Diagnostic={}));var g;!function(e){e.from=function(e){
return n({},h.from(e.location.range),{message:e.message,resource:e.location.uri})},e.to=function(e){return new r.DiagnosticRelatedInformation(new r.Location(e.resource,h.to(e)),e.message)}}(g=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var v;!function(e){e.from=function(e){switch(e){case r.DiagnosticSeverity.Error:return a.MarkerSeverity.Error;case r.DiagnosticSeverity.Warning:return a.MarkerSeverity.Warning;case r.DiagnosticSeverity.Information:return a.MarkerSeverity.Info;case r.DiagnosticSeverity.Hint:return a.MarkerSeverity.Hint}return a.MarkerSeverity.Error},e.to=function(e){switch(e){case a.MarkerSeverity.Info:return r.DiagnosticSeverity.Information;case a.MarkerSeverity.Warning:return r.DiagnosticSeverity.Warning;case a.MarkerSeverity.Error:return r.DiagnosticSeverity.Error;case a.MarkerSeverity.Hint:return r.DiagnosticSeverity.Hint}return r.DiagnosticSeverity.Error}}(v=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));!function(e){e.from=function(e){
return"number"==typeof e&&e>=r.ViewColumn.One?e-1:e===r.ViewColumn.Beside?c.SIDE_GROUP:c.ACTIVE_GROUP},e.to=function(e){if("number"==typeof e&&e>=0)return e+1}}(t.ViewColumn||(t.ViewColumn={})),t.isDecorationOptionsArr=d;var m;!function(e){e.fromMany=function(t){return t.map(e.from)},e.from=function(e){var t;if(function(e){return e&&"object"==typeof e&&"string"==typeof e.language&&"string"==typeof e.value}(e)){var i=e.language,n=e.value;t={value:"```"+i+"\n"+n+"\n```\n"}}else t=s.isMarkdownString(e)?e:"string"==typeof e?{value:e}:{value:""};t.uris=Object.create(null);var r=new u.Renderer;return r.image=r.link=function(e){try{t.uris[e]=o.URI.parse(e,!0)}catch(e){}return""},u(t.value,{renderer:r}),t},e.to=function(e){var t=new s.MarkdownString(e.value);return t.isTrusted=e.isTrusted,t},e.fromStrict=function(t){if(t)return"string"==typeof t?t:e.from(t)}}(m=t.MarkdownString||(t.MarkdownString={})),t.fromRangeOrRangeWithMessage=function(e){return d(e)?e.map(function(e){return{range:h.from(e.range),
hoverMessage:Array.isArray(e.hoverMessage)?m.fromMany(e.hoverMessage):e.hoverMessage&&m.from(e.hoverMessage),renderOptions:e.renderOptions}}):e.map(function(e){return{range:h.from(e)}})};var y;!function(e){e.from=function(e){return void 0===e?e:{contentText:e.contentText,contentIconPath:p(e.contentIconPath),border:e.border,borderColor:e.borderColor,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textDecoration:e.textDecoration,color:e.color,backgroundColor:e.backgroundColor,margin:e.margin,width:e.width,height:e.height}}}(y=t.ThemableDecorationAttachmentRenderOptions||(t.ThemableDecorationAttachmentRenderOptions={}));var S;!function(e){e.from=function(e){return void 0===e?e:{backgroundColor:e.backgroundColor,outline:e.outline,outlineColor:e.outlineColor,outlineStyle:e.outlineStyle,outlineWidth:e.outlineWidth,border:e.border,borderColor:e.borderColor,borderRadius:e.borderRadius,borderSpacing:e.borderSpacing,borderStyle:e.borderStyle,borderWidth:e.borderWidth,fontStyle:e.fontStyle,fontWeight:e.fontWeight,
textDecoration:e.textDecoration,cursor:e.cursor,color:e.color,opacity:e.opacity,letterSpacing:e.letterSpacing,gutterIconPath:p(e.gutterIconPath),gutterIconSize:e.gutterIconSize,overviewRulerColor:e.overviewRulerColor,before:y.from(e.before),after:y.from(e.after)}}}(S=t.ThemableDecorationRenderOptions||(t.ThemableDecorationRenderOptions={}));var b;!function(e){e.from=function(e){if(void 0===e)return e;switch(e){case r.DecorationRangeBehavior.OpenOpen:return 0;case r.DecorationRangeBehavior.ClosedClosed:return 1;case r.DecorationRangeBehavior.OpenClosed:return 2;case r.DecorationRangeBehavior.ClosedOpen:return 3}}}(b=t.DecorationRangeBehavior||(t.DecorationRangeBehavior={}));!function(e){e.from=function(e){return{isWholeLine:e.isWholeLine,rangeBehavior:b.from(e.rangeBehavior),overviewRulerLane:e.overviewRulerLane,light:S.from(e.light),dark:S.from(e.dark),backgroundColor:e.backgroundColor,outline:e.outline,outlineColor:e.outlineColor,outlineStyle:e.outlineStyle,outlineWidth:e.outlineWidth,border:e.border,
borderColor:e.borderColor,borderRadius:e.borderRadius,borderSpacing:e.borderSpacing,borderStyle:e.borderStyle,borderWidth:e.borderWidth,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textDecoration:e.textDecoration,cursor:e.cursor,color:e.color,opacity:e.opacity,letterSpacing:e.letterSpacing,gutterIconPath:p(e.gutterIconPath),gutterIconSize:e.gutterIconSize,overviewRulerColor:e.overviewRulerColor,before:y.from(e.before),after:y.from(e.after)}}}(t.DecorationRenderOptions||(t.DecorationRenderOptions={}));var E;!function(e){e.from=function(e){return{text:e.newText,eol:R.from(e.newEol),range:h.from(e.range)}},e.to=function(e){var t=new r.TextEdit(h.to(e.range),e.text);return t.newEol=R.to(e.eol),t}}(E=t.TextEdit||(t.TextEdit={}));!function(e){e.from=function(e,t){for(var i={edits:[]},n=0,r=e._allEntries();n<r.length;n++){var o=r[n],s=o[0],a=o[1];if(Array.isArray(a)){var c=t?t.getDocument(s.toString()):void 0;i.edits.push({resource:s,modelVersionId:c&&c.version,edits:a.map(E.from)})}else i.edits.push({oldUri:s,
newUri:a,options:o[2]})}return i},e.to=function(e){for(var t=new r.WorkspaceEdit,i=0,n=e.edits;i<n.length;i++){var s=n[i];Array.isArray(s.edits)?t.set(o.URI.revive(s.resource),s.edits.map(E.to)):t.renameFile(o.URI.revive(s.oldUri),o.URI.revive(s.newUri),s.options)}return t}}(t.WorkspaceEdit||(t.WorkspaceEdit={}));var _;!function(e){var t=Object.create(null);t[r.SymbolKind.File]=0,t[r.SymbolKind.Module]=1,t[r.SymbolKind.Namespace]=2,t[r.SymbolKind.Package]=3,t[r.SymbolKind.Class]=4,t[r.SymbolKind.Method]=5,t[r.SymbolKind.Property]=6,t[r.SymbolKind.Field]=7,t[r.SymbolKind.Constructor]=8,t[r.SymbolKind.Enum]=9,t[r.SymbolKind.Interface]=10,t[r.SymbolKind.Function]=11,t[r.SymbolKind.Variable]=12,t[r.SymbolKind.Constant]=13,t[r.SymbolKind.String]=14,t[r.SymbolKind.Number]=15,t[r.SymbolKind.Boolean]=16,t[r.SymbolKind.Array]=17,t[r.SymbolKind.Object]=18,t[r.SymbolKind.Key]=19,t[r.SymbolKind.Null]=20,t[r.SymbolKind.EnumMember]=21,t[r.SymbolKind.Struct]=22,t[r.SymbolKind.Event]=23,t[r.SymbolKind.Operator]=24,
t[r.SymbolKind.TypeParameter]=25,e.from=function(e){return"number"==typeof t[e]?t[e]:6},e.to=function(e){for(var i in t)if(t[i]===e)return Number(i);return r.SymbolKind.Property}}(_=t.SymbolKind||(t.SymbolKind={}));!function(e){e.from=function(e){return{name:e.name,kind:_.from(e.kind),containerName:e.containerName,location:C.from(e.location)}},e.to=function(e){return new r.SymbolInformation(e.name,_.to(e.kind),e.containerName,C.to(e.location))}}(t.WorkspaceSymbol||(t.WorkspaceSymbol={}));!function(e){function t(e){var i={name:e.name,detail:e.detail,range:h.from(e.range),selectionRange:h.from(e.selectionRange),kind:_.from(e.kind)};return e.children&&(i.children=e.children.map(t)),i}function i(e){var t=new r.DocumentSymbol(e.name,e.detail,_.to(e.kind),h.to(e.range),h.to(e.selectionRange));return e.children&&(t.children=e.children.map(i)),t}e.from=t,e.to=i}(t.DocumentSymbol||(t.DocumentSymbol={}));var C;!function(e){e.from=function(e){return{range:e.range&&h.from(e.range),uri:e.uri}},e.to=function(e){
return new r.Location(e.uri,h.to(e.range))}}(C=t.location||(t.location={}));!function(e){e.from=function(e){var t=e,i=e;return{origin:t.originSelectionRange?h.from(t.originSelectionRange):void 0,uri:t.targetUri?t.targetUri:i.uri,range:h.from(t.targetRange?t.targetRange:i.range),selectionRange:t.targetSelectionRange?h.from(t.targetSelectionRange):void 0}}}(t.DefinitionLink||(t.DefinitionLink={}));!function(e){e.from=function(e){return{range:h.from(e.range),contents:m.fromMany(e.contents)}},e.to=function(e){return new r.Hover(e.contents.map(m.to),h.to(e.range))}}(t.Hover||(t.Hover={}));!function(e){e.from=function(e){return{range:h.from(e.range),kind:e.kind}},e.to=function(e){return new r.DocumentHighlight(h.to(e.range),e.kind)}}(t.DocumentHighlight||(t.DocumentHighlight={}));var w;!function(e){e.to=function(e){switch(e){case 1:return r.CompletionTriggerKind.TriggerCharacter;case 2:return r.CompletionTriggerKind.TriggerForIncompleteCompletions;case 0:default:return r.CompletionTriggerKind.Invoke}}
}(w=t.CompletionTriggerKind||(t.CompletionTriggerKind={}));!function(e){e.to=function(e){return{triggerKind:w.to(e.triggerKind),triggerCharacter:e.triggerCharacter}}}(t.CompletionContext||(t.CompletionContext={}));var I;!function(e){e.from=function(e){switch(e){case r.CompletionItemKind.Method:return 0;case r.CompletionItemKind.Function:return 1;case r.CompletionItemKind.Constructor:return 2;case r.CompletionItemKind.Field:return 3;case r.CompletionItemKind.Variable:return 4;case r.CompletionItemKind.Class:return 5;case r.CompletionItemKind.Interface:return 7;case r.CompletionItemKind.Struct:return 6;case r.CompletionItemKind.Module:return 8;case r.CompletionItemKind.Property:return 9;case r.CompletionItemKind.Unit:return 12;case r.CompletionItemKind.Value:return 13;case r.CompletionItemKind.Constant:return 14;case r.CompletionItemKind.Enum:return 15;case r.CompletionItemKind.EnumMember:return 16;case r.CompletionItemKind.Keyword:return 17;case r.CompletionItemKind.Snippet:return 25
;case r.CompletionItemKind.Text:return 18;case r.CompletionItemKind.Color:return 19;case r.CompletionItemKind.File:return 20;case r.CompletionItemKind.Reference:return 21;case r.CompletionItemKind.Folder:return 23;case r.CompletionItemKind.Event:return 10;case r.CompletionItemKind.Operator:return 11;case r.CompletionItemKind.TypeParameter:return 24}return 9},e.to=function(e){switch(e){case 0:return r.CompletionItemKind.Method;case 1:return r.CompletionItemKind.Function;case 2:return r.CompletionItemKind.Constructor;case 3:return r.CompletionItemKind.Field;case 4:return r.CompletionItemKind.Variable;case 5:return r.CompletionItemKind.Class;case 7:return r.CompletionItemKind.Interface;case 6:return r.CompletionItemKind.Struct;case 8:return r.CompletionItemKind.Module;case 9:return r.CompletionItemKind.Property;case 12:return r.CompletionItemKind.Unit;case 13:return r.CompletionItemKind.Value;case 14:return r.CompletionItemKind.Constant;case 15:return r.CompletionItemKind.Enum;case 16:
return r.CompletionItemKind.EnumMember;case 17:return r.CompletionItemKind.Keyword;case 25:return r.CompletionItemKind.Snippet;case 18:return r.CompletionItemKind.Text;case 19:return r.CompletionItemKind.Color;case 20:return r.CompletionItemKind.File;case 21:return r.CompletionItemKind.Reference;case 23:return r.CompletionItemKind.Folder;case 10:return r.CompletionItemKind.Event;case 11:return r.CompletionItemKind.Operator;case 24:return r.CompletionItemKind.TypeParameter}return r.CompletionItemKind.Property}}(I=t.CompletionItemKind||(t.CompletionItemKind={}));var x;!function(e){e.from=function(e){var t=0;return e&r.CompletionItemInsertTextRule.KeepWhitespace&&(t+=1),t},e.to=function(e){var t=0;return 1&e&&(t+=r.CompletionItemInsertTextRule.KeepWhitespace),t}}(x=t.CompletionItemInsertTextRule||(t.CompletionItemInsertTextRule={}));!function(e){e.to=function(e){var t=new r.CompletionItem(e.label);return t.insertText=e.insertText,t.kind=I.to(e.kind),t.detail=e.detail,
t.documentation=s.isMarkdownString(e.documentation)?m.to(e.documentation):e.documentation,t.sortText=e.sortText,t.filterText=e.filterText,t.preselect=e.preselect,t.commitCharacters=e.commitCharacters,t.range=h.to(e.range),t.insertTextRules=x.to(e.insertTextRules),4&e.insertTextRules?t.insertText=new r.SnippetString(e.insertText):(t.insertText=e.insertText,t.textEdit=new r.TextEdit(t.range,t.insertText)),t}}(t.CompletionItem||(t.CompletionItem={}));var D;!function(e){e.from=function(e){return{label:e.label,documentation:m.fromStrict(e.documentation)}},e.to=function(e){return{label:e.label,documentation:s.isMarkdownString(e.documentation)?m.to(e.documentation):e.documentation}}}(D=t.ParameterInformation||(t.ParameterInformation={}));var T;!function(e){e.from=function(e){return{label:e.label,documentation:m.fromStrict(e.documentation),parameters:e.parameters&&e.parameters.map(D.from)}},e.to=function(e){return{label:e.label,documentation:s.isMarkdownString(e.documentation)?m.to(e.documentation):e.documentation,
parameters:e.parameters&&e.parameters.map(D.to)}}}(T=t.SignatureInformation||(t.SignatureInformation={}));!function(e){e.from=function(e){return{activeSignature:e.activeSignature,activeParameter:e.activeParameter,signatures:e.signatures&&e.signatures.map(T.from)}},e.to=function(e){return{activeSignature:e.activeSignature,activeParameter:e.activeParameter,signatures:e.signatures&&e.signatures.map(T.to)}}}(t.SignatureHelp||(t.SignatureHelp={}));!function(e){e.from=function(e){return{range:h.from(e.range),url:e.target&&e.target.toString()}},e.to=function(e){return new r.DocumentLink(h.to(e.range),e.url&&o.URI.parse(e.url))}}(t.DocumentLink||(t.DocumentLink={}));!function(e){e.to=function(e){var t=new r.ColorPresentation(e.label);return e.textEdit&&(t.textEdit=E.to(e.textEdit)),e.additionalTextEdits&&(t.additionalTextEdits=e.additionalTextEdits.map(function(e){return E.to(e)})),t},e.from=function(e){return{label:e.label,textEdit:e.textEdit?E.from(e.textEdit):void 0,
additionalTextEdits:e.additionalTextEdits?e.additionalTextEdits.map(function(e){return E.from(e)}):void 0}}}(t.ColorPresentation||(t.ColorPresentation={}));!function(e){e.to=function(e){return new r.Color(e[0],e[1],e[2],e[3])},e.from=function(e){return[e.red,e.green,e.blue,e.alpha]}}(t.Color||(t.Color={}));!function(e){e.to=function(e){switch(e){case 2:return r.TextDocumentSaveReason.AfterDelay;case 1:return r.TextDocumentSaveReason.Manual;case 3:case 4:return r.TextDocumentSaveReason.FocusOut}}}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={}));var R;!function(e){e.from=function(e){return e===r.EndOfLine.CRLF?1:e===r.EndOfLine.LF?0:void 0},e.to=function(e){return 1===e?r.EndOfLine.CRLF:0===e?r.EndOfLine.LF:void 0}}(R=t.EndOfLine||(t.EndOfLine={}));!function(e){e.from=function(e){switch(e){case r.ProgressLocation.SourceControl:return 3;case r.ProgressLocation.Window:return 10;case r.ProgressLocation.Notification:return 15}}}(t.ProgressLocation||(t.ProgressLocation={}));!function(e){e.from=function(e){
var t={start:e.start+1,end:e.end+1};return e.kind&&(t.kind=A.from(e.kind)),t}}(t.FoldingRange||(t.FoldingRange={}));var A;!function(e){e.from=function(e){if(e)switch(e){case r.FoldingRangeKind.Comment:return i.FoldingRangeKind.Comment;case r.FoldingRangeKind.Imports:return i.FoldingRangeKind.Imports;case r.FoldingRangeKind.Region:return i.FoldingRangeKind.Region}}}(A=t.FoldingRangeKind||(t.FoldingRangeKind={}));!function(e){e.from=function(e){if(e)return{pinned:"boolean"==typeof e.preview?!e.preview:void 0,preserveFocus:e.preserveFocus,selection:"object"==typeof e.selection?h.from(e.selection):void 0}}}(t.TextEditorOptions||(t.TextEditorOptions={}));var O;!function(e){e.from=function(e){return e instanceof r.RelativePattern?e:"string"==typeof e?e:function(t){var i=e;return i&&"string"==typeof i.base&&"string"==typeof i.pattern}()?new r.RelativePattern(e.base,e.pattern):e}}(O=t.GlobPattern||(t.GlobPattern={}));!function(e){function t(e){return e?Array.isArray(e)?e.map(t):"string"==typeof e?e:{
language:e.language,scheme:e.scheme,pattern:O.from(e.pattern),exclusive:e.exclusive}:void 0}e.from=t}(t.LanguageSelector||(t.LanguageSelector={}))}),define(e[319],t([1,0,24,255,34]),function(e,t,i,n,r){"use strict";function o(e){return function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return e.apply(void 0,[t.get(r.ICommandService)].concat(i))}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){}return e.execute=function(e,t,i,r,o){return e.executeCommand("_workbench.previewHtml",t,"number"==typeof i&&n.ViewColumn.from(i),r,o)},e.ID="vscode.previewHtml",e}();t.PreviewHTMLAPICommand=s,r.CommandsRegistry.registerCommand(s.ID,o(s.execute));var a=function(){function e(){}return e.execute=function(e,t,n){if(!t)return e.executeCommand("_files.pickFolderAndOpen",n);var r=i.isMalformedFileUri(t);return r&&(console.warn("'vscode.openFolder' command invoked with an invalid URI (file:// scheme missing): '"+t+"'. Converted to a 'file://' URI: "+r),t=r),
e.executeCommand("_files.windowOpen",[t],n)},e.ID="vscode.openFolder",e}();t.OpenFolderAPICommand=a,r.CommandsRegistry.registerCommand(a.ID,o(a.execute));var c=function(){function e(){}return e.execute=function(e,t,i,r,o){return e.executeCommand("_workbench.diff",[t,i,r,void 0,n.TextEditorOptions.from(o),o?n.ViewColumn.from(o.viewColumn):void 0])},e.ID="vscode.diff",e}();t.DiffAPICommand=c,r.CommandsRegistry.registerCommand(c.ID,o(c.execute));var l=function(){function e(){}return e.execute=function(e,t,i,r){var o,s;return i&&("number"==typeof i?s=n.ViewColumn.from(i):(o=n.TextEditorOptions.from(i),s=n.ViewColumn.from(i.viewColumn))),e.executeCommand("_workbench.open",[t,o,s,r])},e.ID="vscode.open",e}();t.OpenAPICommand=l,r.CommandsRegistry.registerCommand(l.ID,o(l.execute));var u=function(){function e(){}return e.execute=function(e,t){return e.executeCommand("_workbench.removeFromRecentlyOpened",t)},e.ID="vscode.removeFromRecentlyOpened",e}();t.RemoveFromRecentlyOpenedAPICommand=u,
r.CommandsRegistry.registerCommand(u.ID,o(u.execute));var d=function(){function e(){}return e.execute=function(e,t){return e.executeCommand("layoutEditorGroups",t)},e.ID="vscode.setEditorLayout",e}();t.SetEditorLayoutAPICommand=d,r.CommandsRegistry.registerCommand(d.ID,o(d.execute))}),define(e[260],t([1,0,10]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewColumnToEditorGroup=function(e,t){if("number"!=typeof t||t===i.ACTIVE_GROUP)return i.ACTIVE_GROUP;var n=e.getGroups(2),r=n[t];if(r)return r.id;var o=n[0];return 1===n.length&&0===o.count?o.id:i.SIDE_GROUP},t.editorGroupToViewColumn=function(e,t){var i="number"==typeof t?e.getGroup(t):t;return e.getGroups(2).indexOf(i)}}),define(e[321],t([1,0,3,5,10,80]),function(e,t,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t){var i=e.call(this)||this;return i.editorService=t,i.rangeHighlightDecorationId=null,i.editor=null,i.editorDisposables=[],
i._onHighlightRemoved=i._register(new s.Emitter),i}return i(t,e),Object.defineProperty(t.prototype,"onHighlghtRemoved",{get:function(){return this._onHighlightRemoved.event},enumerable:!0,configurable:!0}),t.prototype.removeHighlightRange=function(){this.editor&&this.editor.getModel()&&this.rangeHighlightDecorationId&&(this.editor.deltaDecorations([this.rangeHighlightDecorationId],[]),this._onHighlightRemoved.fire()),this.rangeHighlightDecorationId=null},t.prototype.highlightRange=function(e,t){(t=t||this.getEditor(e))&&this.doHighlightRange(t,e)},t.prototype.doHighlightRange=function(e,t){var i=this;this.removeHighlightRange(),e.changeDecorations(function(e){i.rangeHighlightDecorationId=e.addDecoration(t.range,i.createRangeHighlightDecoration(t.isWholeLine))}),this.setEditor(e)},t.prototype.getEditor=function(e){var t=this.editorService.activeEditor,i=t&&t.getResource();return i&&i.toString()===e.resource.toString()?this.editorService.activeTextEditorWidget:null},t.prototype.setEditor=function(e){var t=this
;this.editor!==e&&(this.disposeEditorListeners(),this.editor=e,this.editorDisposables.push(this.editor.onDidChangeCursorPosition(function(e){0!==e.reason&&3!==e.reason&&5!==e.reason&&6!==e.reason||t.removeHighlightRange()})),this.editorDisposables.push(this.editor.onDidChangeModel(function(){t.removeHighlightRange()})),this.editorDisposables.push(this.editor.onDidDispose(function(){t.removeHighlightRange(),t.editor=null})))},t.prototype.disposeEditorListeners=function(){this.editorDisposables.forEach(function(e){return e.dispose()}),this.editorDisposables=[]},t.prototype.createRangeHighlightDecoration=function(e){return void 0===e&&(e=!0),e?t._WHOLE_LINE_RANGE_HIGHLIGHT:t._RANGE_HIGHLIGHT},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.editor&&this.editor.getModel()&&(this.removeHighlightRange(),this.disposeEditorListeners(),this.editor=null)},t._WHOLE_LINE_RANGE_HIGHLIGHT=c.ModelDecorationOptions.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),
t._RANGE_HIGHLIGHT=c.ModelDecorationOptions.register({stickiness:1,className:"rangeHighlight"}),t=r([o(0,a.IEditorService)],t)}(n.Disposable);t.RangeHighlightDecorations=l}),define(e[322],t([1,0,2,166,8,44,32,452,57,175,37,3,12,7,14,10,164,20,297]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b){"use strict";function E(e){var t=e.mime;return t||e.resource.scheme===l.Schemas.data||(t=s.getMediaMime(e.resource.path)),t||s.MIME_BINARY}Object.defineProperty(t,"__esModule",{value:!0});var _=function(){function e(){}return e.formatSize=function(t){return t<e.KB?n.localize("sizeB","{0}B",t):t<e.MB?n.localize("sizeKB","{0}KB",(t/e.KB).toFixed(2)):t<e.GB?n.localize("sizeMB","{0}MB",(t/e.MB).toFixed(2)):t<e.TB?n.localize("sizeGB","{0}GB",(t/e.GB).toFixed(2)):n.localize("sizeTB","{0}TB",(t/e.TB).toFixed(2))},e.KB=1024,e.MB=e.KB*e.KB,e.GB=e.MB*e.KB,e.TB=e.GB*e.KB,e}(),C=function(){function e(){}return e.show=function(t,i,n,r,o,s,a){return n.className="monaco-resource-viewer",
e.isImageResource(t)?w.create(n,t,i,r,s,a):t.size>e.MAX_OPEN_INTERNAL_SIZE?x.create(n,t,r,a):D.create(n,t,r,o,a)},e.isImageResource=function(e){var t=E(e);return t.indexOf("image/")>=0&&"image/tiff"!==t},e.MAX_OPEN_INTERNAL_SIZE=200*_.MB,e}();t.ResourceViewer=C;var w=function(){function e(){}return e.create=function(t,i,n,r,o,s){return e.shouldShowImageInline(i)?R.create(t,i,n,r,s):I.create(t,i,o)},e.shouldShowImageInline=function(t){var i;if(t.resource.scheme===l.Schemas.data){var n=t.resource.path.indexOf(e.BASE64_MARKER);i=!(n>=0&&t.resource.path.substring(n+e.BASE64_MARKER.length).length>0)||t.size>e.MAX_IMAGE_SIZE||t.resource.path.length>e.MAX_IMAGE_SIZE}else i="number"!=typeof t.size||t.size>e.MAX_IMAGE_SIZE;return!i},e.MAX_IMAGE_SIZE=_.MB,e.BASE64_MARKER="base64,",e}(),I=function(){function e(){}return e.create=function(e,t,i){a.clearNode(e);var r=[],o=document.createElement("p")
;if(o.textContent=n.localize("largeImageError","The image is not displayed in the editor because it is too large ({0}).",_.formatSize(t.size)),e.appendChild(o),t.resource.scheme!==l.Schemas.data){var s=a.append(o,a.$("a.embedded-link"));s.setAttribute("role","button"),s.textContent=n.localize("resourceOpenExternalButton","Open image using external program?"),r.push(a.addDisposableListener(s,a.EventType.CLICK,function(){return i(t.resource)}))}return f.combinedDisposable(r)},e}(),x=function(){function e(){}return e.create=function(e,t,i,r){a.clearNode(e);var o=_.formatSize(t.size),s=document.createElement("span");return s.textContent=n.localize("nativeFileTooLargeError","The file is not displayed in the editor because it is too large ({0}).",o),e.appendChild(s),r&&r(o),i.scanDomNode(),f.Disposable.None},e}(),D=function(){function e(){}return e.create=function(e,t,i,r,o){a.clearNode(e);var s=[],c=document.createElement("p")
;if(c.textContent=n.localize("nativeBinaryError","The file is not displayed in the editor because it is either binary or uses an unsupported text encoding."),e.appendChild(c),t.resource.scheme!==l.Schemas.data){var u=a.append(c,a.$("a.embedded-link"));u.setAttribute("role","button"),u.textContent=n.localize("openAsText","Do you want to open it anyway?"),s.push(a.addDisposableListener(u,a.EventType.CLICK,function(){return r(t.resource)}))}return o&&o("number"==typeof t.size?_.formatSize(t.size):""),i.scanDomNode(),f.combinedDisposable(s)},e}(),T=function(e){function t(i,n,r){var o=e.call(this,r)||this;return o.contextMenuService=i,t.instance=o,o._register(n.onDidActiveEditorChange(function(){return o.onActiveEditorChanged()})),o}return i(t,e),t.prototype.onActiveEditorChanged=function(){this.hide(),this.onSelectScale=void 0},t.prototype.show=function(e,t){var i=this;clearTimeout(this.showTimeout),this.showTimeout=setTimeout(function(){i.onSelectScale=t,i.statusBarItem.style.display="block",i.updateLabel(e)},0)
},t.prototype.hide=function(){this.statusBarItem.style.display="none"},t.prototype.render=function(e){var t=this;return!this.statusBarItem&&e&&(this.statusBarItem=a.append(e,a.$("a.zoom-statusbar-item")),this.statusBarItem.setAttribute("role","button"),this.statusBarItem.style.display="none",a.addDisposableListener(this.statusBarItem,a.EventType.CLICK,function(){t.contextMenuService.showContextMenu({getAnchor:function(){return e},getActions:function(){return t.zoomActions}})})),this},t.prototype.updateLabel=function(e){this.statusBarItem.textContent=t.zoomLabel(e)},Object.defineProperty(t.prototype,"zoomActions",{get:function(){var e=this;return[10,5,2,1,.5,.2,"fit"].map(function(i){return new m.Action("zoom."+i,t.zoomLabel(i),void 0,void 0,function(){e.onSelectScale&&e.onSelectScale(i)})})},enumerable:!0,configurable:!0}),t.zoomLabel=function(e){return"fit"===e?n.localize("zoom.action.fit.label","Whole Image"):Math.round(100*e)+"%"},r([S.memoize],t.prototype,"zoomActions",null),
t=r([o(0,h.IContextMenuService),o(1,y.IEditorService),o(2,g.IThemeService)],t)}(d.Themable);v.Registry.as(p.Extensions.Statusbar).registerStatusbarItem(new p.StatusbarItemDescriptor(T,1,101));var R=function(){function e(){}return e.create=function(t,i,r,o,s){function c(t){if(S&&S.parentElement){if("fit"===t)y="fit",a.addClass(S,"scale-to-fit"),a.removeClass(S,"pixelated"),S.style.minWidth="auto",S.style.width="auto",e.imageStateCache.set(h,null);else{var i=S.width,n=S.height;(y=u.clamp(t,e.MIN_SCALE,e.MAX_SCALE))>=e.PIXELATION_THRESHOLD?a.addClass(S,"pixelated"):a.removeClass(S,"pixelated");var r=S.parentElement,s=r.scrollTop,l=r.scrollLeft,d=(l+S.parentElement.clientWidth/2)/S.parentElement.scrollWidth,p=(s+S.parentElement.clientHeight/2)/S.parentElement.scrollHeight;a.removeClass(S,"scale-to-fit"),S.style.minWidth=S.naturalWidth*y+"px",S.style.width=S.naturalWidth*y+"px";var f=(S.width-i)/i,g=i*f*d+l,v=n*f*p+s;o.setScrollPosition({scrollLeft:g,scrollTop:v}),e.imageStateCache.set(h,{scale:y,offsetX:g,
offsetY:v})}T.instance.show(y,c),o.scanDomNode()}}function l(){c(y=S.clientWidth/S.naturalWidth)}var d=[],p={layout:function(e){},dispose:function(){return f.combinedDisposable(d).dispose()}},h=i.resource.toString(),g=!1,v=!1,m=e.imageStateCache.get(h)||{scale:"fit",offsetX:0,offsetY:0},y=m.scale,S=null;return d.push(a.addDisposableListener(window,a.EventType.KEY_DOWN,function(e){S&&(g=e.ctrlKey,v=e.altKey,(b.isMacintosh?v:g)&&(a.removeClass(t,"zoom-in"),a.addClass(t,"zoom-out")))})),d.push(a.addDisposableListener(window,a.EventType.KEY_UP,function(e){S&&(g=e.ctrlKey,v=e.altKey,(b.isMacintosh?v:g)||(a.removeClass(t,"zoom-out"),a.addClass(t,"zoom-in")))})),d.push(a.addDisposableListener(t,a.EventType.CLICK,function(t){if(S&&0===t.button)if("fit"===y&&l(),b.isMacintosh?v:g){for(i=e.zoomLevels.length-1;i>=0&&!(e.zoomLevels[i]<y);--i);c(e.zoomLevels[i]||e.MIN_SCALE)}else{for(var i=0;i<e.zoomLevels.length&&!(e.zoomLevels[i]>y);++i);c(e.zoomLevels[i]||e.MAX_SCALE)}})),
d.push(a.addDisposableListener(t,a.EventType.WHEEL,function(t){if(S){var i=b.isMacintosh?v:g;if(i||t.ctrlKey){t.preventDefault(),t.stopPropagation(),"fit"===y&&l();var n=t.deltaY<0?1:-1;t.ctrlKey&&!i&&(n*=-1),c(y*(1-n*e.SCALE_PINCH_FACTOR))}}})),d.push(a.addDisposableListener(t,a.EventType.SCROLL,function(){if(S&&S.parentElement&&"fit"!==y){var t=e.imageStateCache.get(h);if(t){var i=S.parentElement,n=i.scrollTop,r=i.scrollLeft;e.imageStateCache.set(h,{scale:t.scale,offsetX:r,offsetY:n})}}})),a.clearNode(t),a.addClasses(t,"image","zoom-in"),S=a.append(t,a.$("img.scale-to-fit")),S.style.visibility="hidden",d.push(a.addDisposableListener(S,a.EventType.LOAD,function(e){s("number"==typeof i.size?n.localize("imgMeta","{0}x{1} {2}",S.naturalWidth,S.naturalHeight,_.formatSize(i.size)):n.localize("imgMetaNoSize","{0}x{1}",S.naturalWidth,S.naturalHeight)),s(void 0),o.scanDomNode(),S.style.visibility="visible",c(y),"fit"!==m.scale&&o.setScrollPosition({scrollLeft:m.offsetX,scrollTop:m.offsetY})})),
e.imageSrc(i,r).then(function(e){var i=t.getElementsByTagName("img");i.length&&(i[0].src=e)}),p},e.imageSrc=function(e,t){return e.resource.scheme===l.Schemas.data?Promise.resolve(e.resource.toString(!0)):t.resolveContent(e.resource,{encoding:"base64"}).then(function(t){return"data:"+E(e)+";base64,"+t.value})},e.SCALE_PINCH_FACTOR=.075,e.MAX_SCALE=20,e.MIN_SCALE=.1,e.zoomLevels=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.5,2,3,5,7,10,15,20],e.PIXELATION_THRESHOLD=3,e.imageStateCache=new c.LRUCache(100),e}()}),define(e[173],t([1,0,2,5,15,82,153,253,322,8,16,3,28]),function(e,t,n,s,a,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(e){function t(t,i,n,r,o,a){var c=e.call(this,t,n,r,a)||this;return c._fileService=o,c._onMetadataChanged=c._register(new s.Emitter),c._onDidOpenInPlace=c._register(new s.Emitter),c.callbacks=i,c}return i(t,e),Object.defineProperty(t.prototype,"onMetadataChanged",{get:function(){return this._onMetadataChanged.event},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"onDidOpenInPlace",{get:function(){return this._onDidOpenInPlace.event},enumerable:!0,configurable:!0}),t.prototype.getTitle=function(){return this.input?this.input.getName():n.localize("binaryEditor","Binary Viewer")},t.prototype.createEditor=function(e){this.binaryContainer=document.createElement("div"),this.binaryContainer.className="binary-container",this.binaryContainer.style.outline="none",this.binaryContainer.tabIndex=0,this.scrollbar=this._register(new u.DomScrollableElement(this.binaryContainer,{horizontal:1,vertical:1})),e.appendChild(this.scrollbar.getDomNode())},t.prototype.setInput=function(t,i,n){var r=this;return e.prototype.setInput.call(this,t,i,n).then(function(){return t.resolve().then(function(e){if(!n.isCancellationRequested)return e instanceof l.BinaryEditorModel?void(r.resourceViewerContext=d.ResourceViewer.show({name:e.getName(),resource:e.getResource(),size:e.getSize(),etag:e.getETag(),mime:e.getMime()
},r._fileService,r.binaryContainer,r.scrollbar,function(e){return r.handleOpenInternalCallback(t,i)},function(e){return r.callbacks.openExternal(e)},function(e){return r.handleMetadataChanged(e)})):a.TPromise.wrapError(new Error("Unable to open file as binary"))})})},t.prototype.handleOpenInternalCallback=function(e,t){var i=this;this.callbacks.openInternal(e,t).then(function(){i._onDidOpenInPlace.fire()})},t.prototype.handleMetadataChanged=function(e){this.metadata=e,this._onMetadataChanged.fire()},t.prototype.getMetadata=function(){return this.metadata},t.prototype.clearInput=function(){this.handleMetadataChanged(null),p.clearNode(this.binaryContainer),this.resourceViewerContext=f.dispose(this.resourceViewerContext),e.prototype.clearInput.call(this)},t.prototype.layout=function(e){p.size(this.binaryContainer,e.width,e.height),this.scrollbar.scanDomNode(),this.resourceViewerContext&&this.resourceViewerContext.layout&&this.resourceViewerContext.layout(e)},t.prototype.focus=function(){
this.binaryContainer.focus()},t.prototype.dispose=function(){this.binaryContainer.remove(),this.resourceViewerContext=f.dispose(this.resourceViewerContext),e.prototype.dispose.call(this)},t=r([o(4,h.IFileService),o(5,g.IStorageService)],t)}(c.BaseEditor);t.BaseBinaryResourceEditor=v}),define(e[276],t([1,0,2,17,30,12,172,4,173,28]),function(e,t,n,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.getMetadata=function(){var e=this.masterEditor,t=this.detailsEditor;return e instanceof d.BaseBinaryResourceEditor&&t instanceof d.BaseBinaryResourceEditor?n.localize("metadataDiff","{0}  {1}",t.getMetadata(),e.getMetadata()):null},t.ID=s.BINARY_DIFF_EDITOR_ID,t=r([o(0,a.ITelemetryService),o(1,u.IInstantiationService),o(2,c.IThemeService),o(3,p.IStorageService)],t)}(l.SideBySideEditor);t.BinaryResourceDiffEditor=h}),
define(e[326],t([1,0,2,84,3,574,7,34,10,143,175,4,30,37,14,12,57,21,27,328,62,8,25,28,315]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var D=function(e){function t(t,i,n,r,o){var s=e.call(this,t,{hasTitle:!1},n,o)||this;return s.instantiationService=i,s.contextService=r,s.registerListeners(),s}return i(t,e),t.prototype.registerListeners=function(){var e=this;this._register(this.contextService.onDidChangeWorkbenchState(function(){return e.updateStyles()}))},t.prototype.addEntry=function(e,i,n){void 0===n&&(n=0);for(var r=this.doCreateStatusItem(i,n,e.showBeak?"has-beak":void 0),o=this.instantiationService.createInstance(R,e).render(r),s=this.statusItemsContainer,c=this.getEntries(i),l=!1,u=0;u<c.length;u++){var d=c[u],p=Number(d.getAttribute(t.PRIORITY_PROP));if(0===i&&p<n||1===i&&p>n){s.insertBefore(r,d),l=!0;break}}return l||s.appendChild(r),a.toDisposable(function(){r.remove(),o&&o.dispose()})},t.prototype.getEntries=function(e){
for(var i=[],n=this.statusItemsContainer.children,r=0;r<n.length;r++){var o=n.item(r);Number(o.getAttribute(t.ALIGNMENT_PROP))===e&&i.push(o)}return i},t.prototype.createContentArea=function(e){this.statusItemsContainer=e;for(var t=0,i=l.Registry.as(h.Extensions.Statusbar).items.slice().sort(function(e,t){return e.alignment===t.alignment?0===e.alignment?t.priority-e.priority:e.priority-t.priority:0===e.alignment?1:1===e.alignment?-1:0});t<i.length;t++){var n=i[t],r=this.instantiationService.createInstance(n.syncDescriptor),o=this.doCreateStatusItem(n.alignment,n.priority);this._register(r.render(o)),this.statusItemsContainer.appendChild(o)}return this.statusItemsContainer},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this);var t=this.getContainer(),i=this.getColor(1!==this.contextService.getWorkbenchState()?S.STATUS_BAR_BACKGROUND:S.STATUS_BAR_NO_FOLDER_BACKGROUND);t.style.backgroundColor=i,
t.style.color=this.getColor(1!==this.contextService.getWorkbenchState()?S.STATUS_BAR_FOREGROUND:S.STATUS_BAR_NO_FOLDER_FOREGROUND);var n=this.getColor(1!==this.contextService.getWorkbenchState()?S.STATUS_BAR_BORDER:S.STATUS_BAR_NO_FOLDER_BORDER)||this.getColor(E.contrastBorder);t.style.borderTopWidth=n?"1px":null,t.style.borderTopStyle=n?"solid":null,t.style.borderTopColor=n,this.styleElement||(this.styleElement=w.createStyleSheet(t)),this.styleElement.innerHTML=".monaco-workbench > .part.statusbar > .statusbar-item.has-beak:before { border-bottom-color: "+i+"; }"},t.prototype.doCreateStatusItem=function(e,i,n){void 0===i&&(i=0);var r=document.createElement("div");return w.addClass(r,"statusbar-item"),n&&w.addClass(r,n),1===e?w.addClass(r,"right"):w.addClass(r,"left"),r.setAttribute(t.PRIORITY_PROP,String(i)),r.setAttribute(t.ALIGNMENT_PROP,String(e)),r},t.prototype.setStatusMessage=function(e,t,i){var n=this;void 0===t&&(t=-1),void 0===i&&(i=0),this.statusMsgDispose&&this.statusMsgDispose.dispose()
;var r,o,s=setTimeout(function(){r=n.addEntry({text:e},0,-Number.MAX_VALUE),s=null},i),a={dispose:function(){s&&clearTimeout(s),o&&clearTimeout(o),r&&r.dispose()}};return this.statusMsgDispose=a,"number"==typeof t&&t>0&&(o=setTimeout(function(){return a.dispose()},t)),a},t.PRIORITY_PROP="statusbar-entry-priority",t.ALIGNMENT_PROP="statusbar-entry-alignment",t=r([o(1,f.IInstantiationService),o(2,y.IThemeService),o(3,b.IWorkspaceContextService),o(4,x.IStorageService)],t)}(p.Part);t.StatusbarPart=D;var T,R=function(){function e(e,t,i,n,r,o,s,a){this.entry=e,this.commandService=t,this.instantiationService=i,this.notificationService=n,this.telemetryService=r,this.contextMenuService=o,this.editorService=s,this.themeService=a,this.entry=e,T||(T=this.instantiationService.createInstance(A))}return e.prototype.render=function(e){var t=this,i=[];w.addClass(e,"statusbar-entry");var n;this.entry.command?(n=document.createElement("a"),i.push(w.addDisposableListener(n,"click",function(){
return t.executeCommand(t.entry.command,t.entry.arguments)}))):n=document.createElement("span"),new c.OcticonLabel(n).text=this.entry.text,this.entry.tooltip&&(n.title=this.entry.tooltip);var r=this.entry.color;if(r){if(_.isThemeColor(r)){var o=r.id;r=(this.themeService.getTheme().getColor(o)||C.Color.transparent).toString(),i.push(this.themeService.onThemeChange(function(e){var i=(t.themeService.getTheme().getColor(o)||C.Color.transparent).toString();n.style.color=i}))}n.style.color=r}return this.entry.extensionId&&i.push(w.addDisposableListener(n,"contextmenu",function(i){w.EventHelper.stop(i,!0),t.contextMenuService.showContextMenu({getAnchor:function(){return e},getActionsContext:function(){return t.entry.extensionId},getActions:function(){return[T]}})})),e.appendChild(n),{dispose:function(){i=a.dispose(i)}}},e.prototype.executeCommand=function(e,t){var i,n=this;t=t||[];var r=this.editorService.activeTextEditorWidget;r&&r.focus(),this.telemetryService.publicLog("workbenchActionExecuted",{id:e,
from:"status bar"}),(i=this.commandService).executeCommand.apply(i,[e].concat(t)).then(void 0,function(e){return n.notificationService.error(s.toErrorMessage(e))})},e=r([o(1,u.ICommandService),o(2,f.IInstantiationService),o(3,I.INotificationService),o(4,g.ITelemetryService),o(5,v.IContextMenuService),o(6,d.IEditorService),o(7,y.IThemeService)],e)}(),A=function(e){function t(t){var i=e.call(this,"statusbar.manage.extension",n.localize("manageExtension","Manage Extension"))||this;return i.commandService=t,i}return i(t,e),t.prototype.run=function(e){return this.commandService.executeCommand("_extensions.manage",e)},t=r([o(0,u.ICommandService)],t)}(m.Action);y.registerThemingParticipant(function(e,t){var i=e.getColor(S.STATUS_BAR_ITEM_HOVER_BACKGROUND);i&&t.addRule(".monaco-workbench > .part.statusbar > .statusbar-item a:hover { background-color: "+i+"; }");var n=e.getColor(S.STATUS_BAR_ITEM_ACTIVE_BACKGROUND)
;n&&t.addRule(".monaco-workbench > .part.statusbar > .statusbar-item a:active { background-color: "+n+"; }");var r=e.getColor(S.STATUS_BAR_PROMINENT_ITEM_BACKGROUND);r&&t.addRule(".monaco-workbench > .part.statusbar > .statusbar-item .status-bar-info { background-color: "+r+"; }");var o=e.getColor(S.STATUS_BAR_PROMINENT_ITEM_HOVER_BACKGROUND);o&&t.addRule(".monaco-workbench > .part.statusbar > .statusbar-item a.status-bar-info:hover { background-color: "+o+"; }")})}),define(e[64],t([1,0,2,39,19,22,29,7,14,77,17,54,10]),function(e,t,n,s,a,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLOSE_ON_FOCUS_LOST_CONFIG="workbench.quickOpen.closeOnFocusLost",t.PRESERVE_INPUT_CONFIG="workbench.quickOpen.preserveInput",t.SEARCH_EDITOR_HISTORY="search.quickOpen.includeHistory";var v=function(){function e(){}return e.prototype.getResults=function(e,t){return Promise.resolve(null)},e.prototype.getAriaLabel=function(){return null},e.prototype.getClass=function(){return null},
e.prototype.canRun=function(){return!0},e.prototype.hasShortResponseTime=function(){return!1},e.prototype.getAutoFocus=function(e,t){return{}},e.prototype.onOpen=function(){},e.prototype.onClose=function(e){},e.prototype.getGroupLabel=function(){return null},e.prototype.getEmptyLabel=function(e){return e.length>0?n.localize("noResultsMatching","No results matching"):n.localize("noResultsFound2","No results found")},e}();t.QuickOpenHandler=v;var m=function(){function e(e,t,i,n,r,o){void 0===o&&(o=!1),this.ctor=e,this.id=t,this.prefix=i,this.contextKey=n,this.instantProgress=o,l.isString(r)?this.description=r:this.helpEntries=r}return e.prototype.getId=function(){return this.id},e.prototype.instantiate=function(e){return e.createInstance(this.ctor)},e}();t.QuickOpenHandlerDescriptor=m,t.Extensions={Quickopen:"workbench.contributions.quickopen"};var y=function(){function e(){this.handlers=[]}return e.prototype.registerQuickOpenHandler=function(e){this.handlers.push(e),this.handlers.sort(function(e,t){
return t.prefix.length-e.prefix.length})},e.prototype.registerDefaultQuickOpenHandler=function(e){this.defaultHandler=e},e.prototype.getQuickOpenHandlers=function(){return this.handlers.slice(0)},e.prototype.getQuickOpenHandler=function(e){return e?a.first(this.handlers,function(t){return c.startsWith(e,t.prefix)},null):null},e.prototype.getDefaultQuickOpenHandler=function(){return this.defaultHandler},e}();u.Registry.add(t.Extensions.Quickopen,new y);var S=function(e){function t(t){var i=e.call(this)||this;return i._editorService=t,i}return i(t,e),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),t.prototype.getInput=function(){return null},t.prototype.getOptions=function(){return null},t.prototype.run=function(e,t){var i=1===e;if(1===e||2===e){var n=t.keymods.ctrlCmd,r=void 0;2===e?r={pinned:!0,preserveFocus:!0}:t.keymods.alt&&(r={pinned:!0});var o=this.getInput();if(o instanceof h.EditorInput){var a=this.getOptions()
;a?a=s.mixin(a,r,!0):r&&(a=h.EditorOptions.create(r)),this.editorService.openEditor(o,a,n?g.SIDE_GROUP:g.ACTIVE_GROUP)}else{var c=o;r&&(c.options=s.assign(c.options||Object.create(null),r)),this.editorService.openEditor(c,n?g.SIDE_GROUP:g.ACTIVE_GROUP)}}return i},t}(p.QuickOpenEntry);t.EditorQuickOpenEntry=S;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getInput=function(){return null},t.prototype.getOptions=function(){return null},t}(p.QuickOpenEntryGroup);t.EditorQuickOpenEntryGroup=b;var E=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.quickOpenService=r,o.prefix=n,o.enabled=!!o.quickOpenService,o}return i(t,e),t.prototype.run=function(e){return this.quickOpenService.show(this.prefix),Promise.resolve(null)},t=r([o(3,f.IQuickOpenService)],t)}(d.Action);t.QuickOpenAction=E}),define(e[331],t([1,0,2,29,77,64,156,54,174,12,10,63,5]),function(e,t,n,s,a,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.GOTO_LINE_PREFIX=":";var v=function(e){function s(i,n,r,o){var s=e.call(this,i,n,t.GOTO_LINE_PREFIX,r)||this;return s._quickOpenService=r,s.editorService=o,s}return i(s,e),s.prototype.run=function(){var t=this.editorService.activeTextEditorWidget;f.isDiffEditor(t)&&(t=t.getModifiedEditor());var i=null;if(f.isCodeEditor(t)){2===t.getConfiguration().viewInfo.renderLineNumbers&&(t.updateOptions({lineNumbers:"on"}),i={lineNumbers:"relative"})}var n=e.prototype.run.call(this);return i&&g.once(this._quickOpenService.onHide)(function(){t.updateOptions(i)}),n},s.ID="workbench.action.gotoLine",s.LABEL=n.localize("gotoLine","Go to Line..."),s=r([o(2,u.IQuickOpenService),o(3,h.IEditorService)],s)}(c.QuickOpenAction);t.GotoLineAction=v;var m=function(e){function t(t,i,n){var r=e.call(this,i)||this;return r.parseInput(t),r.handler=n,r}return i(t,e),t.prototype.parseInput=function(e){var t=e.split(/,|:|#/).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)});this.line=t[0],this.column=t[1]},
t.prototype.getLabel=function(){var e=this.getMaxLineNumber();return this.invalidRange(e)?e>0?n.localize("gotoLineLabelEmptyWithLimit","Type a line number between 1 and {0} to navigate to",e):n.localize("gotoLineLabelEmpty","Type a line number to navigate to"):this.column?n.localize("gotoLineColumnLabel","Go to line {0} and character {1}",this.line,this.column):n.localize("gotoLineLabel","Go to line {0}",this.line)},t.prototype.invalidRange=function(e){return void 0===e&&(e=this.getMaxLineNumber()),!this.line||!s.isNumber(this.line)||e>0&&s.isNumber(this.line)&&this.line>e},t.prototype.getMaxLineNumber=function(){var e=this.editorService.activeTextEditorWidget.getModel();return e&&e.modified&&e.original&&(e=e.modified),e&&s.isFunction(e.getLineCount)?e.getLineCount():-1},t.prototype.run=function(e,t){return 1===e?this.runOpen(t):this.runPreview()},t.prototype.getInput=function(){return this.editorService.activeEditor},t.prototype.getOptions=function(e){return{selection:this.toSelection(),pinned:e}},
t.prototype.runOpen=function(e){if(this.invalidRange())return!1;e.keymods.ctrlCmd&&this.editorService.openEditor(this.getInput(),this.getOptions(e.keymods.alt),h.SIDE_GROUP);var t=this.toSelection(),i=this.editorService.activeTextEditorWidget;return i&&(i.setSelection(t),i.revealRangeInCenter(t,0)),!0},t.prototype.runPreview=function(){if(this.invalidRange())return this.handler.clearDecorations(),!1;var e=this.toSelection(),t=this.editorService.activeTextEditorWidget;return t&&(t.revealRangeInCenter(e,0),s.isFunction(t.changeDecorations)&&this.handler.decorateOutline(e,t,this.editorService.activeControl.group)),!1},t.prototype.toSelection=function(){return{startLineNumber:this.line,startColumn:this.column||1,endLineNumber:this.line,endColumn:this.column||1}},t}(c.EditorQuickOpenEntry),y=function(e){function t(t){var i=e.call(this)||this;return i.editorService=t,i}return i(t,e),t.prototype.getAriaLabel=function(){return n.localize("gotoLineHandlerAriaLabel","Type a line number to navigate to.")},
t.prototype.getResults=function(e,t){if(e=e.trim(),!this.lastKnownEditorViewState){var i=this.editorService.activeTextEditorWidget;this.lastKnownEditorViewState=i.saveViewState()}return Promise.resolve(new a.QuickOpenModel([new m(e,this.editorService,this)]))},t.prototype.canRun=function(){return!!!!this.editorService.activeTextEditorWidget||n.localize("cannotRunGotoLine","Open a text file first to go to a line")},t.prototype.decorateOutline=function(e,t,i){var n=this;t.changeDecorations(function(t){var r=[];n.rangeHighlightDecorationId&&(r.push(n.rangeHighlightDecorationId.lineDecorationId),r.push(n.rangeHighlightDecorationId.rangeHighlightId),n.rangeHighlightDecorationId=null);var o=[{range:e,options:{className:"rangeHighlight",isWholeLine:!0}},{range:e,options:{overviewRuler:{color:p.themeColorFromId(d.overviewRulerRangeHighlight),position:l.OverviewRulerLane.Full}}}],s=t.deltaDecorations(r,o),a=s[0],c=s[1];n.rangeHighlightDecorationId={groupId:i.id,rangeHighlightId:a,lineDecorationId:c}})},
t.prototype.clearDecorations=function(){var e=this;this.rangeHighlightDecorationId&&(this.editorService.visibleControls.forEach(function(t){if(t.group.id===e.rangeHighlightDecorationId.groupId){t.getControl().changeDecorations(function(t){t.deltaDecorations([e.rangeHighlightDecorationId.lineDecorationId,e.rangeHighlightDecorationId.rangeHighlightId],[])})}}),this.rangeHighlightDecorationId=null)},t.prototype.onClose=function(e){if(this.clearDecorations(),e&&this.lastKnownEditorViewState){var t=this.editorService.activeTextEditorWidget;t&&t.restoreViewState(this.lastKnownEditorViewState)}this.lastKnownEditorViewState=null},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:e.trim().length>0}},t.ID="workbench.picker.line",t=r([o(0,h.IEditorService)],t)}(c.QuickOpenHandler);t.GotoLineHandler=y}),define(e[334],t([1,0,2,29,22,77,64,81,156,54,570,79,12,174,10,13,52,245]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b
;t.GOTO_SYMBOL_PREFIX="@",t.SCOPE_PREFIX=":";var E=n.localize("property","properties ({0})"),_=(b={},b[5]=n.localize("method","methods ({0})"),b[11]=n.localize("function","functions ({0})"),b[8]=n.localize("_constructor","constructors ({0})"),b[12]=n.localize("variable","variables ({0})"),b[4]=n.localize("class","classes ({0})"),b[22]=n.localize("struct","structs ({0})"),b[23]=n.localize("event","events ({0})"),b[24]=n.localize("operator","operators ({0})"),b[10]=n.localize("interface","interfaces ({0})"),b[2]=n.localize("namespace","namespaces ({0})"),b[3]=n.localize("package","packages ({0})"),b[25]=n.localize("typeParameter","type parameters ({0})"),b[1]=n.localize("modules","modules ({0})"),b[6]=n.localize("property","properties ({0})"),b[9]=n.localize("enum","enumerations ({0})"),b[21]=n.localize("enumMember","enumeration members ({0})"),b[14]=n.localize("string","strings ({0})"),b[0]=n.localize("file","files ({0})"),b[17]=n.localize("array","arrays ({0})"),b[15]=n.localize("number","numbers ({0})"),
b[16]=n.localize("boolean","booleans ({0})"),b[18]=n.localize("object","objects ({0})"),b[19]=n.localize("key","keys ({0})"),b[7]=n.localize("field","fields ({0})"),b[13]=n.localize("constant","constants ({0})"),b),C=function(e){function s(i,n,r){return e.call(this,i,n,t.GOTO_SYMBOL_PREFIX,r)||this}return i(s,e),s.ID="workbench.action.gotoSymbol",s.LABEL=n.localize("gotoSymbol","Go to Symbol in File..."),s=r([o(2,p.IQuickOpenService)],s)}(l.QuickOpenAction);t.GotoSymbolAction=C;var w=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.prototype.applyFilter=function(e){var i=e;0===e.indexOf(t.SCOPE_PREFIX)&&(i=i.substr(t.SCOPE_PREFIX.length)),this.entries.forEach(function(e){if(e.setGroupLabel(null),e.setShowBorder(!1),e.setHighlights(null),e.setHidden(!1),i){var t=u.matchesFuzzy(i,e.getLabel());t?(e.setHighlights(t),e.setHidden(!1)):e.isHidden()||e.setHidden(!0)}}),
e?0===e.indexOf(t.SCOPE_PREFIX)?this.entries.sort(this.sortScoped.bind(this,e.toLowerCase())):this.entries.sort(this.sortNormal.bind(this,e.toLowerCase())):this.entries.sort(function(e,t){return e.getIndex()-t.getIndex()});var r=this.getEntries(!0);if(r.length>0&&0===e.indexOf(t.SCOPE_PREFIX)){for(var o=null,s=null,a=0,c=0;c<r.length;c++){var l=r[c];o!==l.getKind()?(s&&s.setGroupLabel(this.renderGroupLabel(o,a)),o=l.getKind(),s=l,a=1,l.setShowBorder(c>0)):a++}s&&s.setGroupLabel(this.renderGroupLabel(o,a))}else r.length>0&&r[0].setGroupLabel(n.localize("symbols","symbols ({0})",r.length))},r.prototype.sortNormal=function(e,t,i){if(t.isHidden()&&i.isHidden())return 0;if(t.isHidden())return 1;if(i.isHidden())return-1;var n=t.getLabel().toLowerCase(),r=i.getLabel().toLowerCase(),o=n.localeCompare(r);if(0!==o)return o;var s=t.getRange(),a=i.getRange();return s.startLineNumber-a.startLineNumber},r.prototype.sortScoped=function(e,i,n){if(i.isHidden()&&n.isHidden())return 0;if(i.isHidden())return 1
;if(n.isHidden())return-1;e=e.substr(t.SCOPE_PREFIX.length);var r=_[i.getKind()]||E,o=_[n.getKind()]||E,s=r.localeCompare(o);if(0!==s)return s;if(e){var a=i.getLabel().toLowerCase(),c=n.getLabel().toLowerCase();if(0!==(s=a.localeCompare(c)))return s}var l=i.getRange(),u=n.getRange();return l.startLineNumber-u.startLineNumber},r.prototype.renderGroupLabel=function(e,t){var i=_[e];return i||(i=E),a.format(i,t)},r}(c.QuickOpenModel),I=function(e){function t(t,i,n,r,o,s,a,c,l,u){var d=e.call(this)||this;return d.index=t,d.name=i,d.kind=n,d.icon=o,d.description=r,d.range=s,d.revealRange=a||s,d.setHighlights(c),d.editorService=l,d.handler=u,d}return i(t,e),t.prototype.getIndex=function(){return this.index},t.prototype.getLabel=function(){return this.name},t.prototype.getAriaLabel=function(){return n.localize("entryAriaLabel","{0}, symbols",this.getLabel())},t.prototype.getIcon=function(){return this.icon},t.prototype.getDescription=function(){return this.description},t.prototype.getKind=function(){return this.kind
},t.prototype.getRange=function(){return this.range},t.prototype.getInput=function(){return this.editorService.activeEditor},t.prototype.getOptions=function(e){return{selection:this.toSelection(),pinned:e}},t.prototype.run=function(e,t){return 1===e?this.runOpen(t):this.runPreview()},t.prototype.runOpen=function(e){if(e.keymods.ctrlCmd)this.editorService.openEditor(this.getInput(),this.getOptions(e.keymods.alt),m.SIDE_GROUP);else{var t=this.toSelection(),i=this.editorService.activeTextEditorWidget;i&&(i.setSelection(t),i.revealRangeInCenter(t,0))}return!0},t.prototype.runPreview=function(){var e=this.toSelection(),t=this.editorService.activeTextEditorWidget;return t&&(t.revealRangeInCenter(e,0),s.isFunction(t.changeDecorations)&&this.handler.decorateOutline(this.range,e,t,this.editorService.activeControl.group)),!1},t.prototype.toSelection=function(){return{startLineNumber:this.revealRange.startLineNumber,startColumn:this.revealRange.startColumn||1,endLineNumber:this.revealRange.startLineNumber,
endColumn:this.revealRange.startColumn||1}},t}(l.EditorQuickOpenEntryGroup),x=function(e){function c(t){var i=e.call(this)||this;return i.editorService=t,i.registerListeners(),i}return i(c,e),c.prototype.registerListeners=function(){var e=this;this.editorService.onDidActiveEditorChange(function(){return e.onDidActiveEditorChange()})},c.prototype.onDidActiveEditorChange=function(){this.clearOutlineRequest(),this.lastKnownEditorViewState=void 0,this.rangeHighlightDecorationId=void 0},c.prototype.getResults=function(e,t){if(e=e.trim(),this.pendingOutlineRequest||(this.pendingOutlineRequest=new S.CancellationTokenSource),!this.lastKnownEditorViewState){var i=this.editorService.activeTextEditorWidget;this.lastKnownEditorViewState=i.saveViewState()}return this.getOutline().then(function(i){return t.isCancellationRequested?i:(i.applyFilter(e),i)})},c.prototype.getEmptyLabel=function(e){return e.length>0?n.localize("noSymbolsMatching","No symbols matching"):n.localize("noSymbolsFound","No symbols found")},
c.prototype.getAriaLabel=function(){return n.localize("gotoSymbolHandlerAriaLabel","Type to narrow down symbols of the currently active editor.")},c.prototype.canRun=function(){var e=!1,t=this.editorService.activeTextEditorWidget;if(t){var i=t.getModel();i&&i.modified&&i.original&&(i=i.modified),i&&s.isFunction(i.getLanguageIdentifier)&&(e=f.DocumentSymbolProviderRegistry.has(i))}return!!e||(null!==t?n.localize("cannotRunGotoSymbolInFile","No symbol information for the file"):n.localize("cannotRunGotoSymbol","Open a text file first to go to a symbol"))},c.prototype.getAutoFocus=function(e){return 0===(e=e.trim()).indexOf(t.SCOPE_PREFIX)&&(e=e.substr(t.SCOPE_PREFIX.length)),{autoFocusPrefixMatch:e,autoFocusFirstEntry:!!e}},c.prototype.toQuickOpenEntries=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],r=a.trim(n.name),o=n.containerName,s=f.symbolKindToCssClass(n.kind);t.push(new I(i,r,n.kind,o,"symbol-icon "+s,n.range,n.selectionRange,null,this.editorService,this))}return t},
c.prototype.getOutline=function(){return this.cachedOutlineRequest||(this.cachedOutlineRequest=this.doGetActiveOutline()),this.cachedOutlineRequest},c.prototype.doGetActiveOutline=function(){var e=this,t=this.editorService.activeTextEditorWidget;if(t){var i=t.getModel();if(i&&i.modified&&i.original&&(i=i.modified),i&&s.isFunction(i.getLanguageIdentifier))return Promise.resolve(y.asThenable(function(){return h.getDocumentSymbols(i,!0,e.pendingOutlineRequest.token)}).then(function(t){return new w(e.toQuickOpenEntries(t))}))}return Promise.resolve(null)},c.prototype.decorateOutline=function(e,t,i,n){var r=this;i.changeDecorations(function(i){var o=[];r.rangeHighlightDecorationId&&(o.push(r.rangeHighlightDecorationId.lineDecorationId),o.push(r.rangeHighlightDecorationId.rangeHighlightId),r.rangeHighlightDecorationId=null);var s=[{range:e,options:{className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{overviewRuler:{color:g.themeColorFromId(v.overviewRulerRangeHighlight),position:d.OverviewRulerLane.Full}}
}],a=i.deltaDecorations(o,s),c=a[0],l=a[1];r.rangeHighlightDecorationId={groupId:n.id,rangeHighlightId:c,lineDecorationId:l}})},c.prototype.clearDecorations=function(){var e=this;this.rangeHighlightDecorationId&&(this.editorService.visibleControls.forEach(function(t){if(t.group.id===e.rangeHighlightDecorationId.groupId){t.getControl().changeDecorations(function(t){t.deltaDecorations([e.rangeHighlightDecorationId.lineDecorationId,e.rangeHighlightDecorationId.rangeHighlightId],[])})}}),this.rangeHighlightDecorationId=null)},c.prototype.onClose=function(e){if(this.clearOutlineRequest(),this.clearDecorations(),e&&this.lastKnownEditorViewState){var t=this.editorService.activeTextEditorWidget;t&&t.restoreViewState(this.lastKnownEditorViewState),this.lastKnownEditorViewState=null}},c.prototype.clearOutlineRequest=function(){this.pendingOutlineRequest&&(this.pendingOutlineRequest.cancel(),this.pendingOutlineRequest.dispose(),this.pendingOutlineRequest=void 0),this.cachedOutlineRequest=null},
c.ID="workbench.picker.filesymbols",c=r([o(0,m.IEditorService)],c)}(l.QuickOpenHandler);t.GotoSymbolHandler=x}),define(e[336],t([1,0,15,2,29,7,77,64,54]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HELP_PREFIX="?";var p=function(e){function t(t,i,n,r){var o=e.call(this)||this;return t?o.prefix=o.prefixLabel=t:(o.prefix="",o.prefixLabel=""),o.description=i,o.quickOpenService=n,o.openOnPreview=r,o}return i(t,e),t.prototype.getLabel=function(){return this.prefixLabel},t.prototype.getAriaLabel=function(){return s.localize("entryAriaLabel","{0}, picker help",this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.run=function(e,t){return(1===e||this.openOnPreview)&&this.quickOpenService.show(this.prefix),!1},t}(l.QuickOpenEntryGroup),h=function(e){function h(t){var i=e.call(this)||this;return i.quickOpenService=t,i}return i(h,e),h.prototype.getResults=function(e,i){var r=this;e=e.trim()
;var o=c.Registry.as(u.Extensions.Quickopen),d=o.getQuickOpenHandlers(),h=o.getDefaultQuickOpenHandler();h&&d.push(h);var f=[],g=[],v=[];return d.sort(function(e,t){return e.prefix.localeCompare(t.prefix)}).forEach(function(i){if(i.prefix!==t.HELP_PREFIX)if(a.isArray(i.helpEntries))for(var n=0;n<i.helpEntries.length;n++){var r=i.helpEntries[n];0===r.prefix.indexOf(e)&&v.push(r)}else 0===i.prefix.indexOf(e)&&v.push(i)}),v.forEach(function(e){if(e instanceof u.QuickOpenHandlerDescriptor)f.push(new p(e.prefix,e.description,r.quickOpenService,1===v.length));else{var t=new p(e.prefix,e.description,r.quickOpenService,1===v.length);e.needsEditor?g.push(t):f.push(t)}}),f.length>0&&f[0].setGroupLabel(s.localize("globalCommands","global commands")),g.length>0&&(g[0].setGroupLabel(s.localize("editorCommands","editor commands")),f.length>0&&g[0].setShowBorder(!0)),n.TPromise.as(new l.QuickOpenModel(f.concat(g)))},h.prototype.getAutoFocus=function(e){return e=e.trim(),{autoFocusFirstEntry:e.length>0,autoFocusPrefixMatch:e
}},h.ID="workbench.picker.help",h=r([o(0,d.IQuickOpenService)],h)}(u.QuickOpenHandler);t.HelpHandler=h}),define(e[199],t([1,0,2,15,18,13,64,77,81,22,46,79,4,9,138,33,10,55,52,32,135]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){function t(t,i,n,r,o,s){var a=e.call(this,r)||this;return a.bearing=t,a.provider=i,a.configurationService=n,a.labelService=o,a.openerService=s,a}return i(t,e),t.prototype.getLabel=function(){return this.bearing.name},t.prototype.getAriaLabel=function(){return n.localize("entryAriaLabel","{0}, symbols picker",this.getLabel())},t.prototype.getDescription=function(){var e=this.bearing.containerName;return this.bearing.location.uri?e?e+"  "+y.basename(this.bearing.location.uri.fsPath):this.labelService.getUriLabel(this.bearing.location.uri,{relative:!0}):e},t.prototype.getIcon=function(){return f.symbolKindToCssClass(this.bearing.kind)},t.prototype.getResource=function(){
return this.bearing.location.uri},t.prototype.run=function(t,i){var n=this;return this.bearingResolve||"function"!=typeof this.provider.resolveWorkspaceSymbol||this.bearing.location.range||(this.bearingResolve=Promise.resolve(this.provider.resolveWorkspaceSymbol(this.bearing,E.CancellationToken.None)).then(function(e){return n.bearing=e||n.bearing,n},a.onUnexpectedError)),s.TPromise.as(this.bearingResolve).then(function(){var r=n.bearing.location.uri?n.bearing.location.uri.scheme:void 0;r===_.Schemas.http||r===_.Schemas.https?1!==t&&2!==t||n.openerService.open(n.bearing.location.uri):e.prototype.run.call(n,t,i)}),1===t},t.prototype.getInput=function(){var e={resource:this.bearing.location.uri,options:{pinned:!this.configurationService.getValue().workbench.editor.enablePreviewFromQuickOpen}};return this.bearing.location.range&&(e.options.selection=h.Range.collapseToStart(this.bearing.location.range)),e},t.compare=function(e,t,i){if(e.getLabel().toLowerCase()===t.getLabel().toLowerCase()){
var n=f.symbolKindToCssClass(e.bearing.kind),r=f.symbolKindToCssClass(t.bearing.kind);return n.localeCompare(r)}return u.compareEntries(e,t,i)},t=r([o(2,v.IConfigurationService),o(3,S.IEditorService),o(4,b.ILabelService),o(5,C.IOpenerService)],t)}(l.EditorQuickOpenEntry),I=function(e){function t(i){var n=e.call(this)||this;return n.instantiationService=i,n.delayer=new c.ThrottledDelayer(t.TYPING_SEARCH_DELAY),n.options=Object.create(null),n}return i(t,e),t.prototype.setOptions=function(e){this.options=e},t.prototype.canRun=function(){return!0},t.prototype.getResults=function(e,t){var i=this;e=e.trim();return(this.options.skipDelay?this.doGetResults(e,t):this.delayer.trigger(function(){return t.isCancellationRequested?s.TPromise.wrap([]):i.doGetResults(e,t)})).then(function(e){return new u.QuickOpenModel(e)})},t.prototype.doGetResults=function(e,t){var i=this;return m.getWorkspaceSymbols(e,t).then(function(n){if(t.isCancellationRequested)return[];for(var r=[],o=0,s=n;o<s.length;o++){var a=s[o],c=a[0],l=a[1]
;i.fillInSymbolEntries(r,c,l,e)}return i.options.skipSorting?r:(e=e?p.stripWildcards(e.toLowerCase()):e,r.sort(function(t,i){return w.compare(t,i,e)}))})},t.prototype.fillInSymbolEntries=function(e,t,i,n){for(var r=0,o=i;r<o.length;r++){var s=o[r];if(!this.options.skipLocalSymbols||!s.containerName){var a=this.instantiationService.createInstance(w,s,t);a.setHighlights(d.matchesFuzzy(n,a.getLabel())),e.push(a)}}},t.prototype.getGroupLabel=function(){return n.localize("symbols","symbol results")},t.prototype.getEmptyLabel=function(e){return e.length>0?n.localize("noSymbolsMatching","No symbols matching"):n.localize("noSymbolsWithoutInput","Type to search for symbols")},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:e.trim()}},t.ID="workbench.picker.symbols",t.TYPING_SEARCH_DELAY=200,t=r([o(0,g.IInstantiationService)],t)}(l.QuickOpenHandler);t.OpenSymbolHandler=I}),define(e[339],t([1,0,15,63,569,12,17,10]),function(e,t,n,s,a,c,l,u){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,i){var n=e.call(this,i)||this;return n.editorService=t,n}return i(t,e),t.prototype.getActiveCodeEditor=function(){var e=this.editorService.activeTextEditorWidget;return s.isCodeEditor(e)?e:s.isDiffEditor(e)?e.getModifiedEditor():null},t.prototype.openCodeEditor=function(e,t,i){var r=this.editorService.activeTextEditorWidget;if(!i&&s.isDiffEditor(r)&&e.options&&e.resource&&r.getModel()&&t===r.getModifiedEditor()&&e.resource.toString()===r.getModel().modified.uri.toString()){var o=r.getModifiedEditor();return l.TextEditorOptions.create(e.options).apply(o,0),n.TPromise.as(o)}return this.doOpenCodeEditor(e,t,i)},t.prototype.doOpenCodeEditor=function(e,t,i){return this.editorService.openEditor(e,i?u.SIDE_GROUP:u.ACTIVE_GROUP).then(function(e){if(e){var t=e.getControl();if(s.isCodeEditor(t))return t}return null})},t=r([o(0,u.IEditorService),o(1,c.IThemeService)],t)}(a.CodeEditorServiceImpl);t.CodeEditorService=d}),
define(e[45],t([1,0,6,4]),function(e,t,i,n){"use strict";function r(e){throw new Error("["+e.id+"]: Proposed API is only available when running out of dev or with the following command line switch: --enable-proposed-api "+e.id)}Object.defineProperty(t,"__esModule",{value:!0}),t.nullExtensionDescription=Object.freeze({id:"nullExtensionDescription",name:"Null Extension Description",version:"0.0.0",publisher:"vscode",enableProposedApi:!1,engines:{vscode:""},extensionLocation:i.URI.parse("void:location"),isBuiltin:!1}),t.IExtensionService=n.createDecorator("extensionService");var o=function(){return function(e,t,i,n,r){this.startup=e,this.codeLoadingTime=t,this.activateCallTime=i,this.activateResolvedTime=n,this.activationEvent=r}}();t.ActivationTimes=o;var s=function(){return function(e,t){this.description=e,this.value=t}}();t.ExtensionPointContribution=s,t.ExtensionHostLogFileName="exthost",t.checkProposedApiEnabled=function(e){e.enableProposedApi||r(e)},t.throwProposedApiError=r}),
define(e[342],t([1,0,15,2,19,29,20,14,77,26,11,64,81,4,30,43,54,67,28,44,9,10,18,25,45,3]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T){"use strict";function R(e){var t=e.getValue(),i=t.workbench&&t.workbench.commandPalette&&t.workbench.commandPalette.history;return"number"!=typeof i&&(i=M.DEFAULT_COMMANDS_HISTORY_LENGTH),i}Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_COMMANDS_PREFIX=">";var A,O,k=1,M=function(e){function t(t,i){var n=e.call(this)||this;return n.storageService=t,n.configurationService=i,n.updateConfiguration(),n.load(),n.registerListeners(),n}return i(t,e),t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(t){return e.updateConfiguration()})),this._register(this.storageService.onWillSaveState(function(){return e.saveState()}))},t.prototype.updateConfiguration=function(){this.commandHistoryLength=R(this.configurationService),O&&(O.limit=this.commandHistoryLength)},t.prototype.load=function(){
var e,i=this.storageService.get(t.PREF_KEY_CACHE,0);if(i)try{e=JSON.parse(i)}catch(e){}if(O=new _.LRUCache(this.commandHistoryLength,1),e){(e.usesLRU?e.entries:e.entries.sort(function(e,t){return e.value-t.value})).forEach(function(e){return O.set(e.key,e.value)})}k=this.storageService.getInteger(t.PREF_KEY_COUNTER,0,k)},t.prototype.push=function(e){O.set(e,k++)},t.prototype.peek=function(e){return O.peek(e)},t.prototype.saveState=function(){var e={usesLRU:!0,entries:[]};O.forEach(function(t,i){return e.entries.push({key:i,value:t})}),this.storageService.store(t.PREF_KEY_CACHE,JSON.stringify(e),0),this.storageService.store(t.PREF_KEY_COUNTER,k,0)},t.DEFAULT_COMMANDS_HISTORY_LENGTH=50,t.PREF_KEY_CACHE="commandPalette.mru.cache",t.PREF_KEY_COUNTER="commandPalette.mru.counter",t=r([o(0,E.IStorageService),o(1,C.IConfigurationService)],t)}(T.Disposable),P=function(e){function a(t,i,n,r){var o=e.call(this,t,i)||this;return o.quickOpenService=n,o.configurationService=r,o}return i(a,e),a.prototype.run=function(e){
var i=this.configurationService.getValue(),r=i.workbench&&i.workbench.commandPalette&&!0===i.workbench.commandPalette.preserveInput,o=t.ALL_COMMANDS_PREFIX;return r&&A&&(o=""+o+A),this.quickOpenService.show(o,{inputSelection:A?{start:1,end:o.length}:void 0}),n.TPromise.as(null)},a.ID="workbench.action.showCommands",a.LABEL=s.localize("showTriggerActions","Show All Commands"),a=r([o(2,S.IQuickOpenService),o(3,C.IConfigurationService)],a)}(u.Action);t.ShowAllCommandsAction=P;var L=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.configurationService=n,r}return i(t,e),t.prototype.run=function(e){var t=R(this.configurationService);return t>0&&(O=new _.LRUCache(t),k=1),n.TPromise.as(null)},t.ID="workbench.action.clearCommandHistory",t.LABEL=s.localize("clearCommandHistory","Clear Command History"),t=r([o(2,C.IConfigurationService)],t)}(u.Action);t.ClearCommandHistoryAction=L;var F=function(e){function r(){return e.call(this,{id:P.ID,label:s.localize("showCommands.label","Command Palette..."),
alias:"Command Palette",precondition:null,menuOpts:{group:"z_commands",order:1}})||this}return i(r,e),r.prototype.run=function(e,i){return e.get(S.IQuickOpenService).show(t.ALL_COMMANDS_PREFIX),n.TPromise.as(null)},r}(b.EditorAction),N=function(e){function t(t,i,n,r,o,s,a,c){var l=e.call(this)||this;return l.commandId=t,l.keybinding=i,l.label=n,l.onBeforeRun=s,l.notificationService=a,l.telemetryService=c,l.labelLowercase=l.label.toLowerCase(),l.keybindingAriaLabel=i?i.getAriaLabel():void 0,l.label!==r?l.alias=r:o.alias=null,l.setHighlights(o.label,null,o.alias),l}return i(t,e),t.prototype.getCommandId=function(){return this.commandId},t.prototype.getLabel=function(){return this.label},t.prototype.getSortLabel=function(){return this.labelLowercase},t.prototype.getDescription=function(){return this.description},t.prototype.setDescription=function(e){this.description=e},t.prototype.getKeybinding=function(){return this.keybinding},t.prototype.getDetail=function(){return this.alias},
t.prototype.getAriaLabel=function(){return this.keybindingAriaLabel?s.localize("entryAriaLabelWithKey","{0}, {1}, commands",this.getLabel(),this.keybindingAriaLabel):s.localize("entryAriaLabel","{0}, commands",this.getLabel())},t.prototype.run=function(e,t){return 1===e&&(this.runAction(this.getAction()),!0)},t.prototype.runAction=function(e){var t=this;this.onBeforeRun(this.commandId),setTimeout(function(){if(!e||e instanceof u.Action&&!e.enabled)t.notificationService.info(s.localize("actionNotEnabled","Command '{0}' is not enabled in the current context.",t.getLabel()));else try{t.telemetryService.publicLog("workbenchActionExecuted",{id:e.id,from:"quick open"}),(e.run()||Promise.resolve()).then(function(){e instanceof u.Action&&e.dispose()},function(e){return t.onError(e)})}catch(e){t.onError(e)}},50)},t.prototype.onError=function(e){I.isPromiseCanceledError(e)||this.notificationService.error(e||s.localize("canNotRun","Command '{0}' resulted in an error.",this.label))},
t=r([o(6,x.INotificationService),o(7,m.ITelemetryService)],t)}(d.QuickOpenEntryGroup),B=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this,t,i,n,r,o,a,c,l)||this;return u.action=s,u}return i(t,e),t.prototype.getAction=function(){return this.action},t=r([o(7,x.INotificationService),o(8,m.ITelemetryService)],t)}(N),W=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this,t,i,n,r,o,a,c,l)||this;return u.action=s,u}return i(t,e),t.prototype.getAction=function(){return this.action},t=r([o(7,x.INotificationService),o(8,m.ITelemetryService)],t)}(N),V=g.or(g.matchesPrefix,g.matchesWords,g.matchesContiguousSubString),z=function(e){function t(t,i,n,r,o,s){var a=e.call(this)||this;return a.editorService=t,a.instantiationService=i,a.keybindingService=n,a.menuService=r,a.configurationService=o,a.extensionService=s,a.commandsHistory=a.instantiationService.createInstance(M),a.configurationService.onDidChangeConfiguration(function(e){return a.updateConfiguration()}),a.updateConfiguration(),a}return i(t,e),
t.prototype.updateConfiguration=function(){this.commandHistoryEnabled=R(this.configurationService)>0},t.prototype.getResults=function(e,t){var i=this;return this.extensionService.whenInstalledExtensionsRegistered().then(function(){if(t.isCancellationRequested)return new d.QuickOpenModel([]);e=e.trim(),A=e;var n=i.editorService.activeTextEditorWidget,r=[];n&&c.isFunction(n.getSupportedActions)&&(r=n.getSupportedActions());var o=i.editorActionsToEntries(r,e),l=i.editorService.invokeWithinEditorContext(function(e){return i.menuService.createMenu(0,e.get(h.IContextKeyService))}),u=l.getActions().reduce(function(e,t){var i=t[1];return e.concat(i)},[]).filter(function(e){return e instanceof p.MenuItemAction}),f=i.menuItemActionsToEntries(u,e);l.dispose();var g=o.concat(f);g=a.distinct(g,function(e){return""+e.getLabel()+e.getGroupLabel()+e.getCommandId()});var v=new Set;g.forEach(function(e){var t=""+e.getLabel()+e.getGroupLabel();v.has(t)?e.setDescription(e.getCommandId()):v.add(t)});var m=(g=g.sort(function(e,t){
var n=i.commandsHistory.peek(e.getCommandId()),r=i.commandsHistory.peek(t.getCommandId());return n&&r?n>r?-1:1:n?-1:r?1:e.getSortLabel().localeCompare(t.getSortLabel())}))[0];if(m&&i.commandsHistory.peek(m.getCommandId())){m.setGroupLabel(s.localize("recentlyUsed","recently used"));for(var y=1;y<g.length;y++){var S=g[y];if(!i.commandsHistory.peek(S.getCommandId())){S.setShowBorder(!0),S.setGroupLabel(s.localize("morecCommands","other commands"));break}}}return new d.QuickOpenModel(g)})},t.prototype.editorActionsToEntries=function(e,t){for(var i=this,n=[],r=0;r<e.length;r++){var o=e[r];if(o.id!==P.ID){var s=o.label;if(s){var a=l.language!==l.LANGUAGE_DEFAULT?o.alias:null,c=V(t,s),u=a?V(t,a):null;(c||u)&&n.push(this.instantiationService.createInstance(B,o.id,this.keybindingService.lookupKeybinding(o.id),s,a,{label:c,alias:u},o,function(e){return i.onBeforeRunCommand(e)}))}}}return n},t.prototype.onBeforeRunCommand=function(e){this.commandsHistory.push(e)},t.prototype.menuItemActionsToEntries=function(e,t){
for(var i=this,n=[],r=0,o=e;r<o.length;r++){var a=o[r],c="string"==typeof a.item.title?a.item.title:a.item.title.value,u=void 0,d=c;if(a.item.category&&(u="string"==typeof a.item.category?a.item.category:a.item.category.value,d=s.localize("cat.title","{0}: {1}",u,c)),d){var p=V(t,d),h=l.language!==l.LANGUAGE_DEFAULT&&"string"!=typeof a.item.title?a.item.title.original:null,f=l.language!==l.LANGUAGE_DEFAULT&&u&&"string"!=typeof a.item.category?a.item.category.original:null,g=void 0;h&&u?g=f?f+": "+h:u+": "+h:h&&(g=h);var v=g?V(t,g):null;(p||v)&&n.push(this.instantiationService.createInstance(W,a.id,this.keybindingService.lookupKeybinding(a.item.id),d,g,{label:p,alias:v},a,function(e){return i.onBeforeRunCommand(e)}))}}return n},t.prototype.getAutoFocus=function(e,t){var i=e.trim();if(i&&this.commandHistoryEnabled){var n=t.model&&t.model.entries[0];n instanceof N&&this.commandsHistory.peek(n.getCommandId())&&(i=void 0)}return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:i}},t.prototype.getEmptyLabel=function(e){
return s.localize("noCommandsMatching","No commands matching")},t.ID="workbench.picker.commands",t=r([o(0,w.IEditorService),o(1,v.IInstantiationService),o(2,y.IKeybindingService),o(3,p.IMenuService),o(4,C.IConfigurationService),o(5,D.IExtensionService)],t)}(f.QuickOpenHandler);t.CommandsHandler=z,b.registerEditorAction(F)}),define(e[343],t([1,0,4,34,45,5,3,68]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,i,n){var r=e.call(this)||this;return r._instantiationService=t,r._extensionService=i,r._logService=n,r._extensionHostIsReady=!1,r._onWillExecuteCommand=r._register(new c.Emitter),r.onWillExecuteCommand=r._onWillExecuteCommand.event,r._extensionService.whenInstalledExtensionsRegistered().then(function(e){return r._extensionHostIsReady=e}),r}return i(t,e),t.prototype.executeCommand=function(e){for(var t=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this._logService.trace("CommandService#executeCommand",e)
;var r=this._extensionService.activateByEvent("onCommand:"+e),o=!!s.CommandsRegistry.getCommand(e);if(!this._extensionHostIsReady&&o)return this._tryExecuteCommand(e,i);var a=r;return o||(a=Promise.race([Promise.all([r,this._extensionService.activateByEvent("*")]),c.toPromise(c.filterEvent(s.CommandsRegistry.onDidRegisterCommand,function(t){return t===e}))])),a.then(function(n){return t._tryExecuteCommand(e,i)})},t.prototype._tryExecuteCommand=function(e,t){var i=s.CommandsRegistry.getCommand(e);if(!i)return Promise.reject(new Error("command '"+e+"' not found"));try{this._onWillExecuteCommand.fire({commandId:e});var n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler].concat(t));return Promise.resolve(n)}catch(e){return Promise.reject(e)}},t=r([o(0,n.IInstantiationService),o(1,a.IExtensionService),o(2,u.ILogService)],t)}(l.Disposable);t.CommandService=d}),define(e[78],t([1,0,2,18,184,92,117,7]),function(e,t,i,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{
value:!0});var c=Object.hasOwnProperty,l=a.Registry.as(s.Extensions.JSONContribution),u=function(){function e(e,t,i){this._messageHandler=e,this._extension=t,this._extensionPointId=i}return e.prototype._msg=function(e,t){this._messageHandler({type:e,message:t,extensionId:this._extension.id,extensionPointId:this._extensionPointId})},e.prototype.error=function(e){this._msg(r.default.Error,e)},e.prototype.warn=function(e){this._msg(r.default.Warning,e)},e.prototype.info=function(e){this._msg(r.default.Info,e)},e}();t.ExtensionMessageCollector=u;var d=function(){function e(e){this.name=e,this._handler=null,this._users=null,this._done=!1}return e.prototype.setHandler=function(e){if(null!==this._handler||this._done)throw new Error("Handler already set!");this._handler=e,this._handle()},e.prototype.acceptUsers=function(e){if(null!==this._users||this._done)throw new Error("Users already set!");this._users=e,this._handle()},e.prototype._handle=function(){if(null!==this._handler&&null!==this._users){this._done=!0
;var e=this._handler;this._handler=null;var t=this._users;this._users=null;try{e(t)}catch(e){n.onUnexpectedError(e)}}},e}();t.ExtensionPoint=d;var p="vscode://schemas/vscode-extensions";t.schema={properties:{engines:{type:"object",description:i.localize("vscode.extension.engines","Engine compatibility."),properties:{vscode:{type:"string",description:i.localize("vscode.extension.engines.vscode","For VS Code extensions, specifies the VS Code version that the extension is compatible with. Cannot be *. For example: ^0.10.5 indicates compatibility with a minimum VS Code version of 0.10.5."),default:"^1.22.0"}}},publisher:{description:i.localize("vscode.extension.publisher","The publisher of the VS Code extension."),type:"string"},displayName:{description:i.localize("vscode.extension.displayName","The display name for the extension used in the VS Code gallery."),type:"string"},categories:{description:i.localize("vscode.extension.categories","The categories used by the VS Code gallery to categorize the extension."),
type:"array",uniqueItems:!0,items:{oneOf:[{type:"string",enum:["Programming Languages","Snippets","Linters","Themes","Debuggers","Other","Keymaps","Formatters","Extension Packs","SCM Providers","Azure","Language Packs"]},{type:"string",const:"Languages",deprecationMessage:i.localize("vscode.extension.category.languages.deprecated","Use 'Programming  Languages' instead")}]}},galleryBanner:{type:"object",description:i.localize("vscode.extension.galleryBanner","Banner used in the VS Code marketplace."),properties:{color:{description:i.localize("vscode.extension.galleryBanner.color","The banner color on the VS Code marketplace page header."),type:"string"},theme:{description:i.localize("vscode.extension.galleryBanner.theme","The color theme for the font used in the banner."),type:"string",enum:["dark","light"]}}},contributes:{description:i.localize("vscode.extension.contributes","All contributions of the VS Code extension represented by this package."),type:"object",properties:{},default:{}},preview:{
type:"boolean",description:i.localize("vscode.extension.preview","Sets the extension to be flagged as a Preview in the Marketplace.")},activationEvents:{description:i.localize("vscode.extension.activationEvents","Activation events for the VS Code extension."),type:"array",items:{type:"string",defaultSnippets:[{label:"onLanguage",description:i.localize("vscode.extension.activationEvents.onLanguage","An activation event emitted whenever a file that resolves to the specified language gets opened."),body:"onLanguage:${1:languageId}"},{label:"onCommand",description:i.localize("vscode.extension.activationEvents.onCommand","An activation event emitted whenever the specified command gets invoked."),body:"onCommand:${2:commandId}"},{label:"onDebug",description:i.localize("vscode.extension.activationEvents.onDebug","An activation event emitted whenever a user is about to start debugging or about to setup debug configurations."),body:"onDebug"},{label:"onDebugInitialConfigurations",
description:i.localize("vscode.extension.activationEvents.onDebugInitialConfigurations",'An activation event emitted whenever a "launch.json" needs to be created (and all provideDebugConfigurations methods need to be called).'),body:"onDebugInitialConfigurations"},{label:"onDebugResolve",description:i.localize("vscode.extension.activationEvents.onDebugResolve","An activation event emitted whenever a debug session with the specific type is about to be launched (and a corresponding resolveDebugConfiguration method needs to be called)."),body:"onDebugResolve:${6:type}"},{label:"workspaceContains",description:i.localize("vscode.extension.activationEvents.workspaceContains","An activation event emitted whenever a folder is opened that contains at least a file matching the specified glob pattern."),body:"workspaceContains:${4:filePattern}"},{label:"onFileSystem",
description:i.localize("vscode.extension.activationEvents.onFileSystem","An activation event emitted whenever a file or folder is accessed with the given scheme."),body:"onFileSystem:${1:scheme}"},{label:"onSearch",description:i.localize("vscode.extension.activationEvents.onSearch","An activation event emitted whenever a search is started in the folder with the given scheme."),body:"onSearch:${7:scheme}"},{label:"onView",body:"onView:${5:viewId}",description:i.localize("vscode.extension.activationEvents.onView","An activation event emitted whenever the specified view is expanded.")},{label:"onUri",body:"onUri",description:i.localize("vscode.extension.activationEvents.onUri","An activation event emitted whenever a system-wide Uri directed towards this extension is open.")},{label:"*",
description:i.localize("vscode.extension.activationEvents.star","An activation event emitted on VS Code startup. To ensure a great end user experience, please use this activation event in your extension only when no other activation events combination works in your use-case."),body:"*"}]}},badges:{type:"array",description:i.localize("vscode.extension.badges","Array of badges to display in the sidebar of the Marketplace's extension page."),items:{type:"object",required:["url","href","description"],properties:{url:{type:"string",description:i.localize("vscode.extension.badges.url","Badge image URL.")},href:{type:"string",description:i.localize("vscode.extension.badges.href","Badge link.")},description:{type:"string",description:i.localize("vscode.extension.badges.description","Badge description.")}}}},markdown:{type:"string",description:i.localize("vscode.extension.markdown","Controls the Markdown rendering engine used in the Marketplace. Either github (default) or standard."),enum:["github","standard"],
default:"github"},qna:{default:"marketplace",description:i.localize("vscode.extension.qna","Controls the Q&A link in the Marketplace. Set to marketplace to enable the default Marketplace Q & A site. Set to a string to provide the URL of a custom Q & A site. Set to false to disable Q & A altogether."),anyOf:[{type:["string","boolean"],enum:["marketplace",!1]},{type:"string"}]},extensionDependencies:{description:i.localize("vscode.extension.extensionDependencies","Dependencies to other extensions. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:o.EXTENSION_IDENTIFIER_PATTERN}},extensionPack:{description:i.localize("vscode.extension.contributes.extensionPack","A set of extensions that can be installed together. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:o.EXTENSION_IDENTIFIER_PATTERN}},scripts:{
type:"object",properties:{"vscode:prepublish":{description:i.localize("vscode.extension.scripts.prepublish","Script executed before the package is published as a VS Code extension."),type:"string"},"vscode:uninstall":{description:i.localize("vscode.extension.scripts.uninstall","Uninstall hook for VS Code extension. Script that gets executed when the extension is completely uninstalled from VS Code which is when VS Code is restarted (shutdown and start) after the extension is uninstalled. Only Node scripts are supported."),type:"string"}}},icon:{type:"string",description:i.localize("vscode.extension.icon","The path to a 128x128 pixel icon.")}}};var h=function(){function e(){this._extensionPoints={}}return e.prototype.registerExtensionPoint=function(e,i,n){if(c.call(this._extensionPoints,e))throw new Error("Duplicate extension point: "+e);var r=new d(e);return this._extensionPoints[e]=r,t.schema.properties.contributes.properties[e]=n,l.registerSchema(p,t.schema),r},e.prototype.getExtensionPoints=function(){
var e=this;return Object.keys(this._extensionPoints).map(function(t){return e._extensionPoints[t]})},e}();t.ExtensionsRegistryImpl=h;var f={ExtensionsRegistry:"ExtensionsRegistry"};a.Registry.add(f.ExtensionsRegistry,new h),t.ExtensionsRegistry=a.Registry.as(f.ExtensionsRegistry),l.registerSchema(p,t.schema)}),define(e[345],t([1,0,2,22,24,90,78,11,26]),function(e,t,i,n,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l;!function(e){function t(e,t){return e?n.isFalsyOrWhitespace(e.command)?(t.error(i.localize("requirestring","property `{0}` is mandatory and must be of type `string`","command")),!1):!!r(e.title,t,"title")&&(!(e.category&&!r(e.category,t,"category"))&&!!function(e,t){if(void 0===e)return!0;if("string"==typeof e)return!0;if("string"==typeof e.dark&&"string"==typeof e.light)return!0;return t.error(i.localize("opticon","property `icon` can be omitted or must be either a string or a literal like `{dark, light}`")),!1
}(e.icon,t)):(t.error(i.localize("nonempty","expected non-empty value.")),!1)}function r(e,t,r){return void 0===e?(t.error(i.localize("requireStringOrObject","property `{0}` is mandatory and must be of type `string` or `object`",r)),!1):"string"==typeof e&&n.isFalsyOrWhitespace(e)?(t.error(i.localize("requirestring","property `{0}` is mandatory and must be of type `string`",r)),!1):"string"==typeof e||!n.isFalsyOrWhitespace(e.original)&&!n.isFalsyOrWhitespace(e.value)||(t.error(i.localize("requirestrings","properties `{0}` and `{1}` are mandatory and must be of type `string`",r+".value",r+".original")),!1)}e.parseMenuId=function(e){switch(e){case"commandPalette":return 0;case"touchBar":return 34;case"editor/title":return 7;case"editor/context":return 6;case"explorer/context":return 10;case"editor/title/context":return 8;case"debug/callstack/context":return 2;case"scm/title":return 32;case"scm/sourceControl":return 31;case"scm/resourceGroup/context":return 30;case"scm/resourceState/context":return 29
;case"scm/change/title":return 28;case"view/title":return 36;case"view/item/context":return 35}},e.isValidMenuItems=function(e,t){if(!Array.isArray(e))return t.error(i.localize("requirearray","menu items must be an array")),!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if("string"!=typeof o.command)return t.error(i.localize("requirestring","property `{0}` is mandatory and must be of type `string`","command")),!1;if(o.alt&&"string"!=typeof o.alt)return t.error(i.localize("optstring","property `{0}` can be omitted or must be of type `string`","alt")),!1;if(o.when&&"string"!=typeof o.when)return t.error(i.localize("optstring","property `{0}` can be omitted or must be of type `string`","when")),!1;if(o.group&&"string"!=typeof o.group)return t.error(i.localize("optstring","property `{0}` can be omitted or must be of type `string`","group")),!1}return!0};var o={type:"object",properties:{command:{
description:i.localize("vscode.extension.contributes.menuItem.command","Identifier of the command to execute. The command must be declared in the 'commands'-section"),type:"string"},alt:{description:i.localize("vscode.extension.contributes.menuItem.alt","Identifier of an alternative command to execute. The command must be declared in the 'commands'-section"),type:"string"},when:{description:i.localize("vscode.extension.contributes.menuItem.when","Condition which must be true to show this item"),type:"string"},group:{description:i.localize("vscode.extension.contributes.menuItem.group","Group into which this command belongs"),type:"string"}}};e.menusContribtion={description:i.localize("vscode.extension.contributes.menus","Contributes menu items to the editor"),type:"object",properties:{commandPalette:{description:i.localize("menus.commandPalette","The Command Palette"),type:"array",items:o},touchBar:{description:i.localize("menus.touchBar","The touch bar (macOS only)"),type:"array",items:o},"editor/title":{
description:i.localize("menus.editorTitle","The editor title menu"),type:"array",items:o},"editor/context":{description:i.localize("menus.editorContext","The editor context menu"),type:"array",items:o},"explorer/context":{description:i.localize("menus.explorerContext","The file explorer context menu"),type:"array",items:o},"editor/title/context":{description:i.localize("menus.editorTabContext","The editor tabs context menu"),type:"array",items:o},"debug/callstack/context":{description:i.localize("menus.debugCallstackContext","The debug callstack context menu"),type:"array",items:o},"scm/title":{description:i.localize("menus.scmTitle","The Source Control title menu"),type:"array",items:o},"scm/sourceControl":{description:i.localize("menus.scmSourceControl","The Source Control menu"),type:"array",items:o},"scm/resourceGroup/context":{description:i.localize("menus.resourceGroupContext","The Source Control resource group context menu"),type:"array",items:o},"scm/resourceState/context":{
description:i.localize("menus.resourceStateContext","The Source Control resource state context menu"),type:"array",items:o},"view/title":{description:i.localize("view.viewTitle","The contributed view title menu"),type:"array",items:o},"view/item/context":{description:i.localize("view.itemContext","The contributed view item context menu"),type:"array",items:o}}},e.isValidCommand=t;var s={type:"object",properties:{command:{description:i.localize("vscode.extension.contributes.commandType.command","Identifier of the command to execute"),type:"string"},title:{description:i.localize("vscode.extension.contributes.commandType.title","Title by which the command is represented in the UI"),type:"string"},category:{description:i.localize("vscode.extension.contributes.commandType.category","(Optional) Category string by the command is grouped in the UI"),type:"string"},icon:{
description:i.localize("vscode.extension.contributes.commandType.icon","(Optional) Icon which is used to represent the command in the UI. Either a file path or a themable configuration"),anyOf:[{type:"string"},{type:"object",properties:{light:{description:i.localize("vscode.extension.contributes.commandType.icon.light","Icon path when a light theme is used"),type:"string"},dark:{description:i.localize("vscode.extension.contributes.commandType.icon.dark","Icon path when a dark theme is used"),type:"string"}}}]}}};e.commandsContribution={description:i.localize("vscode.extension.contributes.commands","Contributes commands to the command palette."),oneOf:[s,{type:"array",items:s}]}}(l||(l={})),s.ExtensionsRegistry.registerExtensionPoint("commands",[],l.commandsContribution).setHandler(function(e){function t(e,t){if(l.isValidCommand(e,t.collector)){var n,o=e.icon,s=e.category,a=e.title,u=e.command;o&&(n="string"==typeof o?{dark:r.joinPath(t.description.extensionLocation,o)}:{
dark:r.joinPath(t.description.extensionLocation,o.dark),light:r.joinPath(t.description.extensionLocation,o.light)}),c.MenuRegistry.addCommand({id:u,title:a,category:s,iconLocation:n})&&t.collector.info(i.localize("dup","Command `{0}` appears multiple times in the `commands` section.",e.command))}}for(var n=0,o=e;n<o.length;n++){var s=o[n],a=s.value;if(Array.isArray(a))for(var u=0,d=a;u<d.length;u++){t(d[u],s)}else t(a,s)}}),s.ExtensionsRegistry.registerExtensionPoint("menus",[],l.menusContribtion).setHandler(function(e){for(var t=function(e){var t=e.value,n=e.collector;o.forEach(t,function(e){if(l.isValidMenuItems(e.value,n)){var t=l.parseMenuId(e.key);if("number"==typeof t)for(var r=0,o=e.value;r<o.length;r++){var s=o[r],u=c.MenuRegistry.getCommand(s.command),d=s.alt&&c.MenuRegistry.getCommand(s.alt);if(u){s.alt&&!d&&n.warn(i.localize("missing.altCommand","Menu item references an alt-command `{0}` which is not defined in the 'commands' section.",s.alt)),
s.command===s.alt&&n.info(i.localize("dupe.command","Menu item references the same command as default and alt-command"));var p=void 0,h=void 0;if(s.group){var f=s.group.lastIndexOf("@");f>0?(p=s.group.substr(0,f),h=Number(s.group.substr(f+1))||void 0):p=s.group}c.MenuRegistry.appendMenuItem(t,{command:u,alt:d,group:p,order:h,when:a.ContextKeyExpr.deserialize(s.when)})}else n.error(i.localize("missing.command","Menu item references a command `{0}` which is not defined in the 'commands' section.",s.command))}else n.warn(i.localize("menuId.invalid","`{0}` is not a valid menu identifier",e.key))}})},n=0,r=e;n<r.length;n++){t(r[n])}})}),define(e[346],t([1,0,2,39,7,78,75,117,94,29]),function(e,t,i,n,r,o,s,a,c,l){"use strict";function u(e,t){var n=e.properties;if(n){"object"!=typeof n&&(t.collector.error(i.localize("invalid.properties","'configuration.properties' must be an object")),e.properties={});for(var r in n){var o=s.validateProperty(r);if(o)delete n[r],t.collector.warn(o);else{var a=n[r]
;l.isObject(a)?a.scope?"application"===a.scope.toString()?a.scope=1:"resource"===a.scope.toString()?a.scope=3:a.scope=2:a.scope=2:(delete n[r],t.collector.error(i.localize("invalid.property","'configuration.property' must be an object")))}}}var c=e.allOf;if(c){t.collector.error(i.localize("invalid.allOf","'configuration.allOf' is deprecated and should no longer be used. Instead, pass multiple configuration sections as an array to the 'configuration' contribution point."));for(var d=0,p=c;d<p.length;d++){u(p[d],t)}}}Object.defineProperty(t,"__esModule",{value:!0});var d=r.Registry.as(s.Extensions.Configuration),p={type:"object",defaultSnippets:[{body:{title:"",properties:{}}}],properties:{title:{description:i.localize("vscode.extension.contributes.configuration.title","A summary of the settings. This label will be used in the settings file as separating comment."),type:"string"},properties:{
description:i.localize("vscode.extension.contributes.configuration.properties","Description of the configuration properties."),type:"object",additionalProperties:{anyOf:[{$ref:"http://json-schema.org/draft-07/schema#"},{type:"object",properties:{isExecutable:{type:"boolean",deprecationMessage:"This property is deprecated. Instead use `scope` property and set it to `application` value."},scope:{type:"string",enum:["application","window","resource"],default:"window",enumDescriptions:[i.localize("scope.application.description","Application specific configuration, which can be configured only in User settings."),i.localize("scope.window.description","Window specific configuration, which can be configured in the User or Workspace settings."),i.localize("scope.resource.description","Resource specific configuration, which can be configured in the User, Workspace or Folder settings.")],
description:i.localize("scope.description","Scope in which the configuration is applicable. Available scopes are `window` and `resource`.")},enumDescriptions:{type:"array",items:{type:"string"},description:i.localize("scope.enumDescriptions","Descriptions for enum values")},markdownEnumDescription:{type:"array",items:{type:"string"},description:i.localize("scope.markdownEnumDescription","Descriptions for enum values in the markdown format.")},markdownDescription:{type:"string",description:i.localize("scope.markdownDescription","The description in the markdown format.")},deprecationMessage:{type:"string",description:i.localize("scope.deprecationMessage","If set, the property is marked as deprecated and the given message is shown as an explanation.")}}}]}}}},h=[],f=o.ExtensionsRegistry.registerExtensionPoint("configurationDefaults",[],{description:i.localize("vscode.extension.contributes.defaultConfiguration","Contributes default editor configuration settings by language."),type:"object",defaultSnippets:[{
body:{}}],patternProperties:{"\\[.*\\]$":{type:"object",default:{},$ref:s.editorConfigurationSchemaId}}});f.setHandler(function(e){h=e.map(function(e){return{id:e.description.id,name:e.description.name,defaults:n.deepClone(e.value)}})});o.ExtensionsRegistry.registerExtensionPoint("configuration",[f],{description:i.localize("vscode.extension.contributes.configuration","Contributes configuration settings."),oneOf:[p,{type:"array",items:p}]}).setHandler(function(e){function t(e,t){var o=n.deepClone(e);o.title&&"string"!=typeof o.title&&t.collector.error(i.localize("invalid.title","'configuration.title' must be a string")),u(o,t),o.id=e.id||t.description.id||t.description.uuid,o.contributedByExtension=!0,o.title=o.title||t.description.displayName||t.description.id,r.push(o)}for(var r=[],o=function(e){var i=e.value;Array.isArray(i)?i.forEach(function(i){return t(i,e)}):t(i,e)},s=0,a=e;s<a.length;s++){o(a[s])}d.registerConfigurations(r,h,!1)})
;r.Registry.as(a.Extensions.JSONContribution).registerSchema("vscode://schemas/workspaceConfig",{allowComments:!0,default:{folders:[{path:""}],settings:{}},required:["folders"],properties:{folders:{minItems:0,uniqueItems:!0,description:i.localize("workspaceConfig.folders.description","List of folders to be loaded in the workspace."),items:{type:"object",default:{path:""},oneOf:[{properties:{path:{type:"string",description:i.localize("workspaceConfig.path.description","A file path. e.g. `/root/folderA` or `./folderA` for a relative path that will be resolved against the location of the workspace file.")},name:{type:"string",description:i.localize("workspaceConfig.name.description","An optional name for the folder. ")}},required:["path"]},{properties:{uri:{type:"string",description:i.localize("workspaceConfig.uri.description","URI of the folder")},name:{type:"string",description:i.localize("workspaceConfig.name.description","An optional name for the folder. ")}},required:["uri"]}]}},settings:{type:"object",
default:{},description:i.localize("workspaceConfig.settings.description","Workspace settings"),$ref:c.workspaceSettingsSchemaId},launch:{type:"object",default:{configurations:[],compounds:[]},description:i.localize("workspaceConfig.launch.description","Workspace launch configurations"),$ref:c.launchSchemaId},extensions:{type:"object",default:{},description:i.localize("workspaceConfig.extensions.description","Workspace extensions"),$ref:"vscode://schemas/extensions"}},additionalProperties:!1,errorMessage:i.localize("unknownWorkspaceProperty","Unknown workspace configuration property")})}),define(e[347],t([1,0,2,568,147,265,272,13,84,18,5,3,32,39,20,24,6,15,371,405,414,236,75,48,396,55,70,68,239,25,30,42,21,426,94,237]),function(e,t,i,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B){"use strict";function W(e){var t=e.isExtensionDevelopment,i=e.extensionDevelopmentLocationURI,n=!i||i.scheme===g.Schemas.file;return{isExtensionDevHost:t,
isExtensionDevDebug:n&&"number"==typeof e.debugExtensionHost.port,isExtensionDevDebugBrk:n&&!!e.debugExtensionHost.break,isExtensionDevTestFromCli:t&&!!e.extensionTestsPath&&!e.debugExtensionHost.break}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseExtensionDevOptions=W;var V=function(){function t(e,t,i,n,r,o,s,a,c,l,u,d,p,g){var v=this;this._extensions=e,this._extensionHostLogsLocation=t,this._contextService=i,this._notificationService=n,this._windowsService=r,this._windowService=o,this._broadcastService=s,this._lifecycleService=a,this._environmentService=c,this._configurationService=l,this._telemetryService=u,this._crashReporterService=d,this._logService=p,this._labelService=g,this._onCrashed=new h.Emitter,this.onCrashed=this._onCrashed.event;var m=W(this._environmentService);this._isExtensionDevHost=m.isExtensionDevHost,this._isExtensionDevDebug=m.isExtensionDevDebug,this._isExtensionDevDebugBrk=m.isExtensionDevDebugBrk,this._isExtensionDevTestFromCli=m.isExtensionDevTestFromCli,
this._lastExtensionHostError=null,this._terminating=!1,this._namedPipeServer=null,this._extensionHostProcess=null,this._extensionHostConnection=null,this._messageProtocol=null,this._toDispose=[],this._toDispose.push(this._onCrashed),this._toDispose.push(this._lifecycleService.onWillShutdown(function(e){return v._onWillShutdown(e)})),this._toDispose.push(this._lifecycleService.onShutdown(function(e){return v.terminate()})),this._toDispose.push(this._broadcastService.onBroadcast(function(e){return v._onBroadcast(e)}));var y=function(){return v.terminate()};process.once("exit",y),this._toDispose.push(f.toDisposable(function(){process.removeListener("exit",y)}))}return t.prototype.dispose=function(){this.terminate()},t.prototype._onBroadcast=function(e){var t=this;if(e.channel===D.EXTENSION_CLOSE_EXTHOST_BROADCAST_CHANNEL&&this._isExtensionDevHost){var i=e.payload;Array.isArray(i)&&i.some(function(e){return y.isEqual(t._environmentService.extensionDevelopmentLocationURI,S.URI.parse(e))
})&&this._windowService.closeWindow()}if(e.channel===D.EXTENSION_RELOAD_BROADCAST_CHANNEL&&this._isExtensionDevHost){var n=e.payload;Array.isArray(n)&&n.some(function(e){return y.isEqual(t._environmentService.extensionDevelopmentLocationURI,S.URI.parse(e))})&&this._windowService.reloadWindow()}},t.prototype.start=function(){var t=this;return this._terminating?null:(this._messageProtocol||(this._messageProtocol=b.TPromise.join([this._tryListenOnPipe()]).then(function(n){var r=n[0],o={env:v.mixin(v.deepClone(process.env),{AMD_ENTRYPOINT:"vs/workbench/node/extensionHostProcess",PIPE_LOGGING:"true",VERBOSE_LOGGING:!0,VSCODE_IPC_HOOK_EXTHOST:r,VSCODE_HANDLES_UNCAUGHT_ERRORS:!0,VSCODE_LOG_STACK:!t._isExtensionDevTestFromCli&&(t._isExtensionDevHost||!t._environmentService.isBuilt||"stable"!==O.default.quality||t._environmentService.verbose),VSCODE_LOG_LEVEL:t._environmentService.verbose?"trace":t._environmentService.log}),detached:!!m.isWindows,execArgv:void 0,silent:!0
},a=t._crashReporterService.getChildProcessStartOptions("extensionHost");a&&(o.env.CRASH_REPORTER_START_OPTIONS=JSON.stringify(a)),t._extensionHostProcess=s.fork(l.getPathFromAmdModule(e,"bootstrap-fork"),["--type=extensionHost"],o),t._extensionHostProcess.stdout.setEncoding("utf8"),t._extensionHostProcess.stderr.setEncoding("utf8");var c=h.fromNodeEventEmitter(t._extensionHostProcess.stdout,"data"),u=h.fromNodeEventEmitter(t._extensionHostProcess.stderr,"data"),d=h.anyEvent(h.mapEvent(c,function(e){return{data:"%c"+e,format:[""]}}),h.mapEvent(u,function(e){return{data:"%c"+e,format:["color: red"]}}));h.debounceEvent(d,function(e,t){return e?{data:e.data+t.data,format:e.format.concat(t.format)}:{data:t.data,format:t.format}},100)(function(e){var i=!t._environmentService.isBuilt&&e.data&&e.data.match(/ws:\/\/([^\s]+)/)
;i?console.log("%c[Extension Host] %cdebugger inspector at chrome-devtools://devtools/bundled/inspector.html?experiments=true&v8only=true&ws="+i[1],"color: blue","color: black"):(console.group("Extension Host"),console.log.apply(console,[e.data].concat(e.format)),console.groupEnd())}),t._extensionHostProcess.on("message",function(e){e&&"__$console"===e.type&&t._logExtensionHostMessage(e)}),t._extensionHostProcess.on("error",function(e){return t._onExtHostProcessError(e)}),t._extensionHostProcess.on("exit",function(e,i){return t._onExtHostProcessExit(e,i)});var p;return(!t._environmentService.isBuilt&&!t._windowService.getConfiguration().remoteAuthority||t._isExtensionDevHost)&&(p=setTimeout(function(){
var e=t._isExtensionDevDebugBrk?i.localize("extensionHostProcess.startupFailDebug","Extension host did not start in 10 seconds, it might be stopped on the first line and needs a debugger to continue."):i.localize("extensionHostProcess.startupFail","Extension host did not start in 10 seconds, that might be a problem.");t._notificationService.prompt(k.Severity.Warning,e,[{label:i.localize("reloadWindow","Reload Window"),run:function(){return t._windowService.reloadWindow()}}],{sticky:!0})},1e4)),t._tryExtHostHandshake().then(function(e){return clearTimeout(p),e})})),this._messageProtocol)},t.prototype._tryListenOnPipe=function(){var e=this;return new Promise(function(t,i){var n=C.generateRandomPipeName();e._namedPipeServer=c.createServer(),e._namedPipeServer.on("error",i),e._namedPipeServer.listen(n,function(){e._namedPipeServer.removeListener("error",i),t(n)})})},t.prototype._tryFindDebugPort=function(){var e,t=this,i=9333
;return"number"==typeof this._environmentService.debugExtensionHost.port&&(i=e=this._environmentService.debugExtensionHost.port),new Promise(function(n){return _.findFreePort(i,10,5e3).then(function(i){return i?(e&&i!==e&&console.warn("%c[Extension Host] %cProvided debugging port "+e+" is not free, using "+i+" instead.","color: blue","color: black"),t._isExtensionDevDebugBrk?console.warn("%c[Extension Host] %cSTOPPED on first line for debugging on port "+i,"color: blue","color: black"):console.info("%c[Extension Host] %cdebugger listening on port "+i,"color: blue","color: black")):console.warn("%c[Extension Host] %cCould not find a free port for debugging","color: blue","color: black"),n({expected:e,actual:i})})})},t.prototype._tryExtHostHandshake=function(){var e=this;return new Promise(function(t,i){var n=setTimeout(function(){e._namedPipeServer.close(),e._namedPipeServer=null,i("timeout")},6e4);e._namedPipeServer.on("connection",function(i){clearTimeout(n),e._namedPipeServer.close(),
e._namedPipeServer=null,e._extensionHostConnection=i,t(new C.Protocol(e._extensionHostConnection))})}).then(function(t){return new Promise(function(i,n){var r,o=function(){r=setTimeout(function(){n("timeout")},6e4)},s=function(){clearTimeout(r)};o();var a=t.onMessage(function(n){return F.isMessageOfType(n,1)?(s(),void e._createExtHostInitData().then(function(e){o(),t.send(Buffer.from(JSON.stringify(e)))})):F.isMessageOfType(n,0)?(s(),a.dispose(),void i(new z(t))):void console.error("received unexpected message during handshake phase from the extension host: ",n)})})})},t.prototype._createExtHostInitData=function(){var e=this;return b.TPromise.join([this._telemetryService.getTelemetryInfo(),this._extensions]).then(function(t){var i=t[0],r=t[1],o=n({},e._configurationService.getConfigurationData(),{configurationScopes:{}}),s=e._contextService.getWorkspace();return{commit:O.default.commit,parentPid:process.pid,environment:{isExtensionDevelopmentDebug:e._isExtensionDevDebug,
appRoot:e._environmentService.appRoot?S.URI.file(e._environmentService.appRoot):void 0,appSettingsHome:e._environmentService.appSettingsHome?S.URI.file(e._environmentService.appSettingsHome):void 0,extensionDevelopmentLocationURI:e._environmentService.extensionDevelopmentLocationURI,extensionTestsPath:e._environmentService.extensionTestsPath},workspace:1===e._contextService.getWorkbenchState()?null:{configuration:s.configuration,folders:s.folders,id:s.id,name:e._labelService.getWorkspaceLabel(s)},extensions:r,configuration:!e._environmentService.isBuilt||e._environmentService.isExtensionDevelopment?n({},o,{configurationScopes:I.getScopes()}):o,telemetryInfo:i,logLevel:e._logService.getLevel(),logsLocation:e._extensionHostLogsLocation}})},t.prototype._logExtensionHostMessage=function(e){var t;this._isExtensionDevTestFromCli||E.log(e,"Extension Host"),
this._isExtensionDevTestFromCli?(t=this._windowsService).log.apply(t,[e.severity].concat(E.parse(e).args)):this._environmentService.isBuilt&&!this._isExtensionDevHost||this._broadcastService.broadcast({channel:D.EXTENSION_LOG_BROADCAST_CHANNEL,payload:{logEntry:e,debugId:this._environmentService.debugExtensionHost.debugId}})},t.prototype._onExtHostProcessError=function(e){var t=d.toErrorMessage(e);t!==this._lastExtensionHostError&&(this._lastExtensionHostError=t,this._notificationService.error(i.localize("extensionHostProcess.error","Error from the extension host: {0}",t)))},t.prototype._onExtHostProcessExit=function(e,t){this._terminating||(this._isExtensionDevHost?this._isExtensionDevTestFromCli?a.ipcRenderer.send("vscode:exit",e):this._windowService.closeWindow():this._onCrashed.fire([e,t]))},t.prototype.getInspectPort=function(){return this._inspectPort},t.prototype.terminate=function(){var e=this;this._terminating||(this._terminating=!0,f.dispose(this._toDispose),
this._messageProtocol&&this._messageProtocol.then(function(t){t.send(F.createMessageOfType(2)),setTimeout(function(){return e._cleanResources()},1e4)},function(t){e._cleanResources()}))},t.prototype._cleanResources=function(){this._namedPipeServer&&(this._namedPipeServer.close(),this._namedPipeServer=null),this._extensionHostConnection&&(this._extensionHostConnection.end(),this._extensionHostConnection=null),this._extensionHostProcess&&(this._extensionHostProcess.kill(),this._extensionHostProcess=null)},t.prototype._onWillShutdown=function(e){!this._isExtensionDevHost||this._isExtensionDevTestFromCli||this._isExtensionDevDebug||(this._broadcastService.broadcast({channel:D.EXTENSION_TERMINATE_BROADCAST_CHANNEL,payload:{debugId:this._environmentService.debugExtensionHost.debugId}}),e.veto(u.timeout(100).then(function(){return!1})))},
t=r([o(2,L.IWorkspaceContextService),o(3,k.INotificationService),o(4,P.IWindowsService),o(5,P.IWindowService),o(6,w.IBroadcastService),o(7,R.ILifecycleService),o(8,x.IEnvironmentService),o(9,N.IWorkspaceConfigurationService),o(10,M.ITelemetryService),o(11,B.ICrashReporterService),o(12,A.ILogService),o(13,T.ILabelService)],t)}();t.ExtensionHostProcessWorker=V;var z=function(){function e(e){var t=this;this._actual=e,this._bufferedMessages=[],this._bufferedMessagesListener=this._actual.onMessage(function(e){return t._bufferedMessages.push(e)})}return e.prototype.send=function(e){this._actual.send(e)},e.prototype.onMessage=function(e,t,i){if(!this._bufferedMessages)return this._actual.onMessage(e,t,i);var n=this._actual.onMessage(e,t,i);this._bufferedMessagesListener.dispose();var r=this._bufferedMessages;return this._bufferedMessages=null,process.nextTick(function(){for(;r.length>0;){var i=r.shift();try{e.call(t,i)}catch(e){p.onUnexpectedError(e)}}}),n},e}()}),
define(e[349],t([1,0,44,270,45]),function(e,t,i,n,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function t(e,t){this._port=e,this._extensionService=t}return t.prototype.start=function(){return s(this,void 0,void 0,function(){var t,i,n=this;return a(this,function(r){switch(r.label){case 0:return[4,new Promise(function(t,i){e(["v8-inspect-profiler"],t,i)})];case 1:return t=r.sent(),[4,t.startProfiling({port:this._port})];case 2:return i=r.sent(),[2,{stop:function(){return s(n,void 0,void 0,function(){var e,t;return a(this,function(n){switch(n.label){case 0:return[4,i.stop()];case 1:return e=n.sent(),[4,this._extensionService.getExtensions()];case 2:return t=n.sent(),[2,this.distill(e.profile,t)]}})})}}]}})})},t.prototype.distill=function(e,t){function r(e,t){if(t){if("self"===t&&e.callFrame.url){var i=o.findSubstr(e.callFrame.url);i&&(t=i.id)}}else switch(e.callFrame.functionName){case"(root)":break;case"(program)":t="program";break;case"(garbage collector)":t="gc";break
;default:t="self"}if(d.set(e.id,t),e.children)for(var n=0,s=e.children;n<s.length;n++){var a=s[n];r(u.get(a),t)}}for(var o=i.TernarySearchTree.forPaths(),s=0,a=t;s<a.length;s++){var c=a[s];o.set(n.realpathSync(c.extensionLocation.fsPath),c)}for(var l=e.nodes,u=new Map,d=new Map,p=0,h=l;p<h.length;p++){var f=h[p];u.set(f.id,f)}r(l[0],null);for(var g=e.samples,v=e.timeDeltas,m=[],y=[],S=0,b=void 0,E=0;E<g.length;E++){var _=g[E],C=d.get(_);C!==b&&(b&&(y.push(b),m.push(S)),b=C,S=0),S+=v[E]}return b&&(y.push(b),m.push(S)),u=null,d=null,o=null,{startTime:e.startTime,endTime:e.endTime,deltas:m,ids:y,data:e,getAggregatedTimes:function(){for(var e=new Map,t=0;t<y.length;t++){var i=y[t];e.set(i,(e.get(i)||0)+m[t])}return e}}},t=r([o(1,c.IExtensionService)],t)}();t.ExtensionHostProfiler=l}),define(e[203],t([1,0,2,14,3,6,15,85,92,96,4,25,28,168,42,45]),function(e,t,i,n,c,l,u,d,p,h,f,g,v,m,y,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=3e4,E="extensionUrlHandler.urlToHandle"
;t.IExtensionUrlHandler=f.createDecorator("inactiveExtensionUrlHandler");var _=function(){function e(e,t,i,n,r,o,s,a,u){var d=this;this.extensionService=t,this.dialogService=i,this.notificationService=n,this.extensionManagementService=r,this.extensionEnablementService=o,this.windowService=s,this.galleryService=a,this.storageService=u,this.extensionHandlers=new Map,this.uriBuffer=new Map;var p=setInterval(function(){return d.garbageCollect()},b),h=this.storageService.get(E,1);h&&(this.storageService.remove(E,1),this.handleURL(l.URI.revive(JSON.parse(h)),!0)),this.disposable=c.combinedDisposable([e.registerHandler(this),c.toDisposable(function(){return clearInterval(p)})])}return e.prototype.handleURL=function(e,t){var n=this;if(!function(e){return/^[a-z0-9][a-z0-9\-]*\.[a-z0-9][a-z0-9\-]*$/i.test(e)}(e.authority))return u.TPromise.as(!1);var r=e.authority,o=this.extensionHandlers.has(r);return this.extensionService.getExtensions().then(function(s){var a=s.filter(function(e){return e.id===r})[0]
;if(!a)return n.handleUnhandledURL(e,{id:r}).then(function(){return!1});var c=function(){var t=n.extensionHandlers.get(r);if(t)return o?u.TPromise.as(!1):t.handleURL(e);var i=(new Date).getTime(),s=n.uriBuffer.get(r);return s||(s=[],n.uriBuffer.set(r,s)),s.push({timestamp:i,uri:e}),n.extensionService.activateByEvent("onUri:"+r).then(function(){return!0})};return t?c():n.dialogService.confirm({message:i.localize("confirmUrl","Allow an extension to open this URL?",r),detail:(a.displayName||a.name)+" ("+r+") wants to open a URL:\n\n"+e.toString(),primaryButton:i.localize("open","&&Open"),type:"question"}).then(function(e){return e.confirmed?c():u.TPromise.as(!0)})})},e.prototype.registerExtensionHandler=function(e,t){this.extensionHandlers.set(e,t);for(var i=0,n=this.uriBuffer.get(e)||[];i<n.length;i++){var r=n[i].uri;t.handleURL(r)}this.uriBuffer.delete(e)},e.prototype.unregisterExtensionHandler=function(e){this.extensionHandlers.delete(e)},e.prototype.handleUnhandledURL=function(e,t){
return s(this,void 0,void 0,function(){var r,o,c,l,u=this;return a(this,function(d){switch(d.label){case 0:return[4,this.extensionManagementService.getInstalled()];case 1:return r=d.sent(),(o=r.filter(function(e){return h.areSameExtensions(e.galleryIdentifier,t)})[0])?((c=this.extensionEnablementService.isEnabled(o))?this.dialogService.confirm({message:i.localize("reloadAndHandle","Extension '{0}' is not loaded. Would you like to reload the window to load the extension and open the URL?",o.manifest.displayName||o.manifest.name),detail:(o.manifest.displayName||o.manifest.name)+" ("+t.id+") wants to open a URL:\n\n"+e.toString(),primaryButton:i.localize("reloadAndOpen","&&Reload Window and Open"),type:"question"}).then(function(t){return t.confirmed?u.reloadAndHandle(e):null}):this.dialogService.confirm({message:i.localize("enableAndHandle","Extension '{0}' is disabled. Would you like to enable the extension and reload the window to open the URL?",o.manifest.displayName||o.manifest.name),
detail:(o.manifest.displayName||o.manifest.name)+" ("+t.id+") wants to open a URL:\n\n"+e.toString(),primaryButton:i.localize("enableAndReload","&&Enable and Open"),type:"question"}).then(function(t){return t.confirmed?u.extensionEnablementService.setEnablement(o,2).then(function(){return u.reloadAndHandle(e)}):null}),[3,4]):[3,2];case 2:return[4,this.galleryService.getExtension(t)];case 3:(l=d.sent())&&this.dialogService.confirm({message:i.localize("installAndHandle","Extension '{0}' is not installed. Would you like to install the extension and reload the window to open this URL?",l.displayName||l.name),detail:(l.displayName||l.name)+" ("+t.id+") wants to open a URL:\n\n"+e.toString(),primaryButton:i.localize("install","&&Install"),type:"question"}).then(function(t){return s(u,void 0,void 0,function(){var r,o,s,c,u=this;return a(this,function(a){switch(a.label){case 0:if(!t.confirmed)return[3,4];(r=this.notificationService.notify({severity:g.Severity.Info,
message:i.localize("Installing","Installing Extension '{0}'...",l.displayName||l.name)})).progress.infinite(),r.onDidClose(function(){return r=null}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.extensionManagementService.installFromGallery(l)];case 2:return a.sent(),o=i.localize("reload","Would you like to reload the window and open the URL '{0}'?",e.toString()),s=i.localize("Reload","Reload Window and Open"),r?(r.progress.done(),r.updateMessage(o),r.updateActions({primary:[new n.Action("reloadWindow",s,void 0,!0,function(){return u.reloadAndHandle(e)})]})):this.notificationService.prompt(g.Severity.Info,o,[{label:s,run:function(){return u.reloadAndHandle(e)}}],{sticky:!0}),[3,4];case 3:return c=a.sent(),r?(r.progress.done(),r.updateSeverity(g.Severity.Error),r.updateMessage(c)):this.notificationService.error(c),[3,4];case 4:return[2]}})})}),d.label=4;case 4:return[2]}})})},e.prototype.reloadAndHandle=function(e){return this.storageService.store(E,JSON.stringify(e.toJSON()),1),
this.windowService.reloadWindow()},e.prototype.garbageCollect=function(){var e=(new Date).getTime(),t=new Map;this.uriBuffer.forEach(function(i,n){(i=i.filter(function(t){var i=t.timestamp;return e-i<3e5})).length>0&&t.set(n,i)}),this.uriBuffer=t},e.prototype.dispose=function(){this.disposable.dispose(),this.extensionHandlers.clear(),this.uriBuffer.clear()},e=r([o(0,m.IURLService),o(1,S.IExtensionService),o(2,d.IDialogService),o(3,g.INotificationService),o(4,p.IExtensionManagementService),o(5,p.IExtensionEnablementService),o(6,y.IWindowService),o(7,p.IExtensionGalleryService),o(8,v.IStorageService)],e)}();t.ExtensionUrlHandler=_}),define(e[352],t([1,0,2,6,15,17]),function(e,t,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return n.localize("extensionsInputName","Running Extensions")},t.prototype.matches=function(e){return e instanceof t},
t.prototype.resolve=function(){return o.TPromise.as(null)},t.prototype.supportsSplitEditor=function(){return!1},t.prototype.getResource=function(){return r.URI.from({scheme:"runtime-extensions",path:"default"})},t.ID="workbench.runtimeExtensions.input",t}(s.EditorInput);t.RuntimeExtensionsInput=a}),define(e[353],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.hasOwnProperty,n=function(){function e(e){this._extensionsMap={},this._extensionsArr=[],this._activationMap={};for(var t=0,n=e.length;t<n;t++){var r=e[t];if(i.call(this._extensionsMap,r.id))console.error("Extension `"+r.id+"` is already registered");else if(this._extensionsMap[r.id]=r,this._extensionsArr.push(r),Array.isArray(r.activationEvents))for(var o=0,s=r.activationEvents.length;o<s;o++){var a=r.activationEvents[o];"onUri"===a&&(a="onUri:"+r.id),this._activationMap[a]=this._activationMap[a]||[],this._activationMap[a].push(r)}}}return e.prototype.containsActivationEvent=function(e){
return i.call(this._activationMap,e)},e.prototype.getExtensionDescriptionsForActivationEvent=function(e){return i.call(this._activationMap,e)?this._activationMap[e].slice(0):[]},e.prototype.getAllExtensionDescriptions=function(){return this._extensionsArr.slice(0)},e.prototype.getExtensionDescription=function(e){return i.call(this._extensionsMap,e)?this._extensionsMap[e]:null},e}();t.ExtensionDescriptionRegistry=n}),define(e[354],t([1,0,2,65,392,73,186,29,6,165,96,391,442]),function(e,t,n,r,o,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v,m="package.json";!function(e){e.equals=function(e,t){if(e===t)return!0;for(var i=Object.keys(e),n=new Set,r=0,o=Object.keys(t);r<o.length;r++)c=o[r],n.add(c);if(i.length!==n.size)return!1;for(var s=0,a=i;s<a.length;s++){var c;if(e[c=a[s]]!==t[c])return!1;n.delete(c)}return 0===n.size}}(v||(v={}));var y=function(){return function(e,t,i,n,o){this._ourVersion=e,this._log=t,this._absoluteFolderPath=i,this._isBuiltin=n,
this._isUnderDevelopment=o,this._absoluteManifestPath=r.join(i,m)}}(),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.parse=function(){var e=this;return p.readFile(this._absoluteManifestPath).then(function(t){try{var i=JSON.parse(t.toString());return i.__metadata&&(i.uuid=i.__metadata.id),delete i.__metadata,i}catch(t){e._log.error(e._absoluteFolderPath,n.localize("jsonParseFail","Failed to parse {0}: {1}.",e._absoluteManifestPath,l.getParseErrorMessage(t.message)))}return null},function(t){return"ENOENT"===t.code?null:(e._log.error(e._absoluteFolderPath,n.localize("fileReadFail","Cannot read file {0}: {1}.",e._absoluteManifestPath,t.message)),null)})},t}(y),b=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,n,r,o)||this;return a._nlsConfig=s,a}return i(t,e),t.prototype.replaceNLS=function(e){var i=this,o=function(e,t){t.forEach(function(t){
i._log.error(i._absoluteFolderPath,n.localize("jsonsParseReportErrors","Failed to parse {0}: {1}.",e,l.getParseErrorMessage(t.error)))})},s=r.extname(this._absoluteManifestPath),a=this._absoluteManifestPath.substr(0,this._absoluteManifestPath.length-s.length),u=e.publisher+"."+e.name,d=this._nlsConfig.translations[u];return(d?p.readFile(d,"utf8").then(function(e){var t=[],i=c.parse(e,t);if(t.length>0)return o(d,t),{values:void 0,default:a+".nls.json"};return{values:i.contents?i.contents.package:void 0,default:a+".nls.json"}},function(e){return{values:void 0,default:a+".nls.json"}}):p.fileExists(a+".nls"+s).then(function(e){if(e)return t.findMessageBundles(i._nlsConfig,a).then(function(e){return e.localized?p.readFile(e.localized,"utf8").then(function(t){var i=[],n=c.parse(t,i);return i.length>0?(o(e.localized,i),{values:void 0,default:e.original}):{values:n,default:e.original}},function(t){return{values:void 0,default:e.original}}):{values:void 0,default:e.original}},function(e){})})).then(function(n){
if(void 0===n)return e;var r=[];return t.resolveOriginalMessageBundle(n.default,r).then(function(s){if(r.length>0)return o(n.default,r),e;var a=n.values||Object.create(null);return t._replaceNLStrings(i._nlsConfig,e,a,s,i._log,i._absoluteFolderPath),e})},function(t){return e})},t.resolveOriginalMessageBundle=function(e,t){return new Promise(function(i,n){e?p.readFile(e).then(function(e){i(c.parse(e.toString(),t))},function(e){i(null)}):i(null)})},t.findMessageBundles=function(e,t){return new Promise(function(i,n){function r(e,t){var n=e+".nls."+t+".json";p.fileExists(n).then(function(o){o&&i({localized:n,original:e+".nls.json"});var s=t.lastIndexOf("-");-1===s?i({localized:e+".nls.json",original:null}):(t=t.substring(0,s),r(e,t))})}if(e.devMode||e.pseudo||!e.locale)return i({localized:t+".nls.json",original:null});r(t,e.locale)})},t._replaceNLStrings=function(e,t,i,r,o,s){function a(t,c,l){var d=t[c];if(u.isString(d)){var p=d,h=p.length;if(h>1&&"%"===p[0]&&"%"===p[h-1]){var f=p.substr(1,h-2),g=i[f]
;void 0===g&&r&&(g=r[f]),g?(e.pseudo&&(g=""+g.replace(/[aouei]/g,"$&$&")+""),t[c]=l&&("title"===c||"category"===c)&&r?{value:g,original:r[f]}:g):o.warn(s,n.localize("missingNLSKey","Couldn't find message for key {0}.",f))}}else if(u.isObject(d))for(var v in d)d.hasOwnProperty(v)&&("commands"===v?a(d,v,!0):a(d,v,l));else if(u.isArray(d))for(var m=0;m<d.length;m++)a(d,m,l)}for(var c in t)t.hasOwnProperty(c)&&a(t,c)},t}(y),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validate=function(e){var i=this,n=e;n.isBuiltin=this._isBuiltin,n.isUnderDevelopment=this._isUnderDevelopment;var o=[];return t.isValidExtensionDescription(this._ourVersion,this._absoluteFolderPath,n,o)?(o.forEach(function(e){i._log.warn(i._absoluteFolderPath,e)}),n.publisher||(n.publisher="undefined_publisher"),n.id=n.publisher+"."+n.name,n.main&&(n.main=r.join(this._absoluteFolderPath,n.main)),n.extensionLocation=d.URI.file(this._absoluteFolderPath),n):(o.forEach(function(e){
i._log.error(i._absoluteFolderPath,e)}),null)},t.isValidExtensionDescription=function(e,i,r,s){return!!t.baseIsValidExtensionDescription(i,r,s)&&(o.valid(r.version)?g.isValidExtensionVersion(e,r,s):(s.push(n.localize("notSemver","Extension version is not semver compatible.")),!1))},t.baseIsValidExtensionDescription=function(e,i,o){if(!i)return o.push(n.localize("extensionDescription.empty","Got empty extension description")),!1;if(void 0!==i.publisher&&"string"!=typeof i.publisher)return o.push(n.localize("extensionDescription.publisher","property publisher must be of type `string`.")),!1;if("string"!=typeof i.name)return o.push(n.localize("extensionDescription.name","property `{0}` is mandatory and must be of type `string`","name")),!1;if("string"!=typeof i.version)return o.push(n.localize("extensionDescription.version","property `{0}` is mandatory and must be of type `string`","version")),!1
;if(!i.engines)return o.push(n.localize("extensionDescription.engines","property `{0}` is mandatory and must be of type `object`","engines")),!1;if("string"!=typeof i.engines.vscode)return o.push(n.localize("extensionDescription.engines.vscode","property `{0}` is mandatory and must be of type `string`","engines.vscode")),!1;if(void 0!==i.extensionDependencies&&!t._isStringArray(i.extensionDependencies))return o.push(n.localize("extensionDescription.extensionDependencies","property `{0}` can be omitted or must be of type `string[]`","extensionDependencies")),!1;if(void 0!==i.activationEvents){if(!t._isStringArray(i.activationEvents))return o.push(n.localize("extensionDescription.activationEvents1","property `{0}` can be omitted or must be of type `string[]`","activationEvents")),!1;if(void 0===i.main)return o.push(n.localize("extensionDescription.activationEvents2","properties `{0}` and `{1}` must both be specified or must both be omitted","activationEvents","main")),!1}if(void 0!==i.main){
if("string"!=typeof i.main)return o.push(n.localize("extensionDescription.main1","property `{0}` can be omitted or must be of type `string`","main")),!1;var s=r.join(e,i.main);if(s.indexOf(e)&&o.push(n.localize("extensionDescription.main2","Expected `main` ({0}) to be included inside extension's folder ({1}). This might make the extension non-portable.",s,e)),void 0===i.activationEvents)return o.push(n.localize("extensionDescription.main3","properties `{0}` and `{1}` must both be specified or must both be omitted","activationEvents","main")),!1}return!0},t._isStringArray=function(e){if(!Array.isArray(e))return!1;for(var t=0,i=e.length;t<i;t++)if("string"!=typeof e[t])return!1;return!0},t}(y),_=function(){function e(e,t,i,n,r,o,s,a){this.ourVersion=e,this.commit=t,this.locale=i,this.devMode=n,this.absoluteFolderPath=r,this.isBuiltin=o,this.isUnderDevelopment=s,this.tanslations=a}return e.createNLSConfig=function(e){return{devMode:e.devMode,locale:e.locale,pseudo:"pseudo"===e.locale,translations:e.tanslations}
},e.equals=function(e,t){return e.ourVersion===t.ourVersion&&e.commit===t.commit&&e.locale===t.locale&&e.devMode===t.devMode&&e.absoluteFolderPath===t.absoluteFolderPath&&e.isBuiltin===t.isBuiltin&&e.isUnderDevelopment===t.isUnderDevelopment&&e.mtime===t.mtime&&v.equals(e.tanslations,t.tanslations)},e}();t.ExtensionScannerInput=_;var C=function(){function e(e){this.root=e}return e.prototype.resolveExtensions=function(){var e=this;return p.readDirsInDir(this.root).then(function(t){return t.map(function(t){return{name:t,path:r.join(e.root,t)}})})},e}(),w=function(){function e(){}return e.scanExtension=function(e,t,i,n,o,s){i=r.normalize(i);return new S(e,t,i,n,o).parse().then(function(r){if(null===r)return null;return new b(e,t,i,n,o,s).replaceNLS(r)}).then(function(r){if(null===r)return null;return new E(e,t,i,n,o).validate(r)})},e.scanExtensions=function(e,t,i){return void 0===i&&(i=null),s(this,void 0,void 0,function(){var n,s,c,l,u,d,g,v,m,y,S,b,E,w=this;return a(this,function(a){switch(a.label){case 0:
n=e.absoluteFolderPath,s=e.isBuiltin,c=e.isUnderDevelopment,i||(i=new C(n)),a.label=1;case 1:if(a.trys.push([1,8,,9]),l={},s)return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,p.readFile(r.join(n,".obsolete"),"utf8")];case 3:return u=a.sent(),l=JSON.parse(u),[3,5];case 4:return d=a.sent(),[3,5];case 5:return[4,i.resolveExtensions()];case 6:return(g=a.sent()).sort(function(e,t){return e.name<t.name?-1:1}),s||(v=[],m=[],g.forEach(function(e){if(0!==e.name.indexOf(".")){var t=f.getIdAndVersionFromLocalExtensionId(e.name),i=t.id,n=t.version;i&&n?m.push(e):v.push(e)}}),g=v.concat(m)),y=_.createNLSConfig(e),[4,Promise.all(g.map(function(i){return w.scanExtension(e.ourVersion,t,i.path,s,c,y)}))];case 7:return S=a.sent(),S=S.filter(function(e){return null!==e&&!l[h.getLocalExtensionId(h.getGalleryExtensionId(e.publisher,e.name),e.version)]}),s||(b=h.groupByExtension(S,function(e){return{id:e.id,uuid:e.uuid}}),S=b.map(function(e){return e.sort(function(e,t){return o.rcompare(e.version,t.version)})[0]})),
S.sort(function(e,t){return e.extensionLocation.fsPath<t.extensionLocation.fsPath?-1:1}),[2,S];case 8:return E=a.sent(),t.error(n,E),[2,[]];case 9:return[2]}})})},e.scanOneOrMultipleExtensions=function(e,t){var i=this,n=e.absoluteFolderPath,o=e.isBuiltin,s=e.isUnderDevelopment;return p.fileExists(r.join(n,m)).then(function(r){if(r){var a=_.createNLSConfig(e);return i.scanExtension(e.ourVersion,t,n,o,s,a).then(function(e){return null===e?[]:[e]})}return i.scanExtensions(e,t)},function(e){return t.error(n,e),[]})},e}();t.ExtensionScanner=w}),define(e[355],t([1,0,18]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._actual=null,this._actualOk=null,this._actualErr=null,this._hasValue=!1,this._value=null,this._hasErr=!1,this._err=null}return e.prototype._ensureActual=function(){var e=this;return this._actual||(this._actual=new Promise(function(t,i){e._actualOk=t,e._actualErr=i,e._hasValue&&e._actualOk(e._value),e._hasErr&&e._actualErr(e._err)})),
this._actual},e.prototype.resolveOk=function(e){this._hasValue||this._hasErr||(this._hasValue=!0,this._value=e,this._actual&&this._actualOk(e))},e.prototype.resolveErr=function(e){this._hasValue||this._hasErr||(this._hasErr=!0,this._err=e,this._actual?this._actualErr(e):i.onUnexpectedError(e))},e.prototype.then=function(e,t){return this._ensureActual().then(e,t)},e}();t.LazyPromise=n}),define(e[205],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t,i){this.isMain=t,this.sid=i,this.nid=++e.count}return e.count=0,e}();t.ProxyIdentifier=i;var n=[];t.createMainContextProxyIdentifier=function(e){var t=new i(!0,e);return n[t.nid]=t,t},t.createExtHostContextProxyIdentifier=function(e){var t=new i(!1,e);return n[t.nid]=t,t},t.getStringIdentifierForProxy=function(e){return n[e].sid}}),define(e[35],t([1,0,6,205]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Default=0]="Default",
e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",e[e.AtTop=3]="AtTop"}(t.TextEditorRevealType||(t.TextEditorRevealType={}));!function(e){e.name="$ident",e.mixin=function(t,i){return Object.defineProperty(t,e.name,{value:i,enumerable:!0}),t},e.of=function(t){return t[e.name]}}(t.ObjectIdentifier||(t.ObjectIdentifier={}));var r=function(){function e(){}return e.mixin=function(t){return t._id=e._n++,t},e._n=0,e}();t.IdObject=r,t.reviveWorkspaceEditDto=function(e){if(e&&e.edits)for(var t=0,n=e.edits;t<n.length;t++){var r=n[t];"object"==typeof r.resource?r.resource=i.URI.revive(r.resource):(r.newUri=i.URI.revive(r.newUri),r.oldUri=i.URI.revive(r.oldUri))}return e},t.MainContext={MainThreadClipboard:n.createMainContextProxyIdentifier("MainThreadClipboard"),MainThreadCommands:n.createMainContextProxyIdentifier("MainThreadCommands"),MainThreadConfiguration:n.createMainContextProxyIdentifier("MainThreadConfiguration"),
MainThreadDecorations:n.createMainContextProxyIdentifier("MainThreadDecorations"),MainThreadDiagnostics:n.createMainContextProxyIdentifier("MainThreadDiagnostics"),MainThreadDialogs:n.createMainContextProxyIdentifier("MainThreadDiaglogs"),MainThreadDocuments:n.createMainContextProxyIdentifier("MainThreadDocuments"),MainThreadDocumentContentProviders:n.createMainContextProxyIdentifier("MainThreadDocumentContentProviders"),MainThreadTextEditors:n.createMainContextProxyIdentifier("MainThreadTextEditors"),MainThreadErrors:n.createMainContextProxyIdentifier("MainThreadErrors"),MainThreadLanguageFeatures:n.createMainContextProxyIdentifier("MainThreadLanguageFeatures"),MainThreadLanguages:n.createMainContextProxyIdentifier("MainThreadLanguages"),MainThreadMessageService:n.createMainContextProxyIdentifier("MainThreadMessageService"),MainThreadProgress:n.createMainContextProxyIdentifier("MainThreadProgress"),MainThreadQuickOpen:n.createMainContextProxyIdentifier("MainThreadQuickOpen"),
MainThreadStatusBar:n.createMainContextProxyIdentifier("MainThreadStatusBar"),MainThreadStorage:n.createMainContextProxyIdentifier("MainThreadStorage"),MainThreadTelemetry:n.createMainContextProxyIdentifier("MainThreadTelemetry"),MainThreadUrls:n.createMainContextProxyIdentifier("MainThreadUrls"),MainThreadWorkspace:n.createMainContextProxyIdentifier("MainThreadWorkspace"),MainThreadFileSystem:n.createMainContextProxyIdentifier("MainThreadFileSystem"),MainThreadExtensionService:n.createMainContextProxyIdentifier("MainThreadExtensionService"),MainThreadWindow:n.createMainContextProxyIdentifier("MainThreadWindow")},t.ExtHostContext={ExtHostCommands:n.createExtHostContextProxyIdentifier("ExtHostCommands"),ExtHostConfiguration:n.createExtHostContextProxyIdentifier("ExtHostConfiguration"),ExtHostDiagnostics:n.createExtHostContextProxyIdentifier("ExtHostDiagnostics"),ExtHostDecorations:n.createExtHostContextProxyIdentifier("ExtHostDecorations"),
ExtHostDocumentsAndEditors:n.createExtHostContextProxyIdentifier("ExtHostDocumentsAndEditors"),ExtHostDocuments:n.createExtHostContextProxyIdentifier("ExtHostDocuments"),ExtHostDocumentContentProviders:n.createExtHostContextProxyIdentifier("ExtHostDocumentContentProviders"),ExtHostDocumentSaveParticipant:n.createExtHostContextProxyIdentifier("ExtHostDocumentSaveParticipant"),ExtHostEditors:n.createExtHostContextProxyIdentifier("ExtHostEditors"),ExtHostFileSystem:n.createExtHostContextProxyIdentifier("ExtHostFileSystem"),ExtHostFileSystemEventService:n.createExtHostContextProxyIdentifier("ExtHostFileSystemEventService"),ExtHostHeapService:n.createExtHostContextProxyIdentifier("ExtHostHeapMonitor"),ExtHostLanguageFeatures:n.createExtHostContextProxyIdentifier("ExtHostLanguageFeatures"),ExtHostQuickOpen:n.createExtHostContextProxyIdentifier("ExtHostQuickOpen"),ExtHostExtensionService:n.createExtHostContextProxyIdentifier("ExtHostExtensionService"),
ExtHostLogService:n.createExtHostContextProxyIdentifier("ExtHostLogService"),ExtHostWorkspace:n.createExtHostContextProxyIdentifier("ExtHostWorkspace"),ExtHostWindow:n.createExtHostContextProxyIdentifier("ExtHostWindow"),ExtHostProgress:n.createMainContextProxyIdentifier("ExtHostProgress"),ExtHostStorage:n.createMainContextProxyIdentifier("ExtHostStorage"),ExtHostUrls:n.createExtHostContextProxyIdentifier("ExtHostUrls")}}),define(e[358],t([1,0,147,40,35]),function(e,t,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){}return e.prototype.dispose=function(){},e.prototype.$readText=function(){return Promise.resolve(i.clipboard.readText())},e.prototype.$writeText=function(e){i.clipboard.writeText(e)},e=r([n.extHostNamedCustomer(o.MainContext.MainThreadClipboard)],e)}();t.MainThreadCommands=s}),define(e[359],t([1,0,34,35,40,567]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){var r=this
;this._commandService=t,this._disposables=new Map,this._proxy=e.getProxy(n.ExtHostContext.ExtHostCommands),this._generateCommandsDocumentationRegistration=i.CommandsRegistry.registerCommand("_generateCommandsDocumentation",function(){return r._generateCommandsDocumentation()})}return e.prototype.dispose=function(){this._disposables.forEach(function(e){return e.dispose()}),this._disposables.clear(),this._generateCommandsDocumentationRegistration.dispose()},e.prototype._generateCommandsDocumentation=function(){return this._proxy.$getContributedCommandHandlerDescriptions().then(function(e){var t=i.CommandsRegistry.getCommands();for(var n in t){var r=t[n].description;r&&(e[n]=r)}var o=[];for(var n in e)o.push("`"+n+"` - "+function(e){if("string"==typeof e)return e;var t=[e.description];if(t.push("\n\n"),e.args)for(var i=0,n=e.args;i<n.length;i++){var r=n[i];t.push("* _"+r.name+"_ - "+(r.description||"")+"\n")}return e.returns&&t.push("* _(returns)_ - "+e.returns),t.push("\n\n"),t.join("")}(e[n]))
;console.log(o.join("\n"))})},e.prototype.$registerCommand=function(e){var t=this;this._disposables.set(e,i.CommandsRegistry.registerCommand(e,function(i){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o;return(o=t._proxy).$executeContributedCommand.apply(o,[e].concat(n)).then(function(e){return a.revive(e,0)})}))},e.prototype.$unregisterCommand=function(e){this._disposables.has(e)&&(this._disposables.get(e).dispose(),this._disposables.delete(e))},e.prototype.$executeCommand=function(e,t){for(var i,n=0;n<t.length;n++)t[n]=a.revive(t[n],0);return(i=this._commandService).executeCommand.apply(i,[e].concat(t))},e.prototype.$getCommands=function(){return Promise.resolve(Object.keys(i.CommandsRegistry.getCommands()))},e=r([s.extHostNamedCustomer(n.MainContext.MainThreadCommands),o(1,i.ICommandService)],e)}();t.MainThreadCommands=c}),define(e[361],t([1,0,6,7,75,21,94,35,40]),function(e,t,i,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,i){
var n=this;this._workspaceContextService=t,this.configurationService=i;var r=e.getProxy(l.ExtHostContext.ExtHostConfiguration);this._configurationListener=i.onDidChangeConfiguration(function(e){r.$acceptConfigurationChanged(i.getConfigurationData(),n.toConfigurationChangeEventData(e))})}return e.prototype.dispose=function(){this._configurationListener.dispose()},e.prototype.$updateConfigurationOption=function(e,t,n,r){var o=r?i.URI.revive(r):null;return this.writeConfiguration(e,t,n,o)},e.prototype.$removeConfigurationOption=function(e,t,n){var r=n?i.URI.revive(n):null;return this.writeConfiguration(e,t,void 0,r)},e.prototype.writeConfiguration=function(e,t,i,n){return e=null!==e&&void 0!==e?e:this.deriveConfigurationTarget(t,n),this.configurationService.updateValue(t,i,{resource:n},e,!0)},e.prototype.deriveConfigurationTarget=function(e,t){if(t&&3===this._workspaceContextService.getWorkbenchState()){var i=n.Registry.as(s.Extensions.Configuration).getConfigurationProperties();if(i[e]&&3===i[e].scope)return 3}
return 2},e.prototype.toConfigurationChangeEventData=function(e){var t=this;return{changedConfiguration:this.toJSONConfiguration(e.changedConfiguration),changedConfigurationByResource:e.changedConfigurationByResource.keys().reduce(function(i,n){return i[n.toString()]=t.toJSONConfiguration(e.changedConfigurationByResource.get(n)),i},Object.create({}))}},e.prototype.toJSONConfiguration=function(e){var t=void 0===e?{contents:{},keys:[],overrides:[]}:e;return{contents:t.contents,keys:t.keys,overrides:t.overrides}},e=r([u.extHostNamedCustomer(l.MainContext.MainThreadConfiguration),o(1,a.IWorkspaceContextService),o(2,c.IWorkspaceConfigurationService)],e)}();t.MainThreadConfiguration=d}),define(e[362],t([1,0,6,5,3,35,40,146,90,52]),function(e,t,i,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e){this._proxy=e,this._idPool=0,this._requests=Object.create(null),this._resolver=Object.create(null)}return e.prototype.enqueue=function(e,t,i){
var n=this,r=++this._idPool,o=new Promise(function(i){n._requests[r]={id:r,handle:e,uri:t},n._resolver[r]=i,n._processQueue()});return i.onCancellationRequested(function(){delete n._requests[r],delete n._resolver[r]}),o},e.prototype._processQueue=function(){var e=this;"number"!=typeof this._timer&&(this._timer=setTimeout(function(){var t=e._requests,i=e._resolver;e._proxy.$provideDecorations(u.values(t),d.CancellationToken.None).then(function(e){for(var t in i)i[t](e[t])}),e._requests=[],e._resolver=[],e._timer=void 0},0))},e}(),h=function(){function e(e,t){this._decorationsService=t,this._provider=new Map,this._proxy=e.getProxy(a.ExtHostContext.ExtHostDecorations),this._requestQueue=new p(this._proxy)}return e.prototype.dispose=function(){this._provider.forEach(function(e){return s.dispose(e)}),this._provider.clear()},e.prototype.$registerDecorationProvider=function(e,t){var i=this,r=new n.Emitter,o=this._decorationsService.registerDecorationsProvider({label:t,onDidChange:r.event,
provideDecorations:function(t,n){return i._requestQueue.enqueue(e,t,n).then(function(e){if(e){var t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],s=e[5];return{weight:t||0,bubble:i||!1,color:o&&o.id,tooltip:n,letter:r,source:s}}})}});this._provider.set(e,[r,o])},e.prototype.$onDidChange=function(e,t){this._provider.get(e)[0].fire(t&&t.map(i.URI.revive))},e.prototype.$unregisterDecorationProvider=function(e){this._provider.has(e)&&(s.dispose(this._provider.get(e)),this._provider.delete(e))},e=r([c.extHostNamedCustomer(a.MainContext.MainThreadDecorations),o(1,l.IDecorationsService)],e)}();t.MainThreadDecorations=h}),define(e[363],t([1,0,219,6,35,40]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){this._activeOwners=new Set,this._markerService=t}return e.prototype.dispose=function(){var e=this;this._activeOwners.forEach(function(t){return e._markerService.changeAll(t,void 0)})},e.prototype.$changeMany=function(e,t){for(var i=0,r=t;i<r.length;i++){
var o=r[i],s=o[0],a=o[1];if(a)for(var c=0,l=a;c<l.length;c++){var u=l[c];if(u.relatedInformation)for(var d=0,p=u.relatedInformation;d<p.length;d++){var h=p[d];h.resource=n.URI.revive(h.resource)}}this._markerService.changeOne(e,n.URI.revive(s),a)}this._activeOwners.add(e)},e.prototype.$clear=function(e){this._markerService.changeAll(e,void 0),this._activeOwners.delete(e)},e=r([a.extHostNamedCustomer(s.MainContext.MainThreadDiagnostics),o(1,i.IMarkerService)],e)}();t.MainThreadDiagnostics=c}),define(e[364],t([1,0,6,35,40,90,85]),function(e,t,i,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){this._fileDialogService=t}t=e,e.prototype.dispose=function(){},e.prototype.$showOpenDialog=function(e){return Promise.resolve(this._fileDialogService.showOpenDialog(t._convertOpenOptions(e)))},e.prototype.$showSaveDialog=function(e){return Promise.resolve(this._fileDialogService.showSaveDialog(t._convertSaveOptions(e)))},e._convertOpenOptions=function(e){var t={
openLabel:e.openLabel,canSelectFiles:e.canSelectFiles||!e.canSelectFiles&&!e.canSelectFolders,canSelectFolders:e.canSelectFolders,canSelectMany:e.canSelectMany,defaultUri:i.URI.revive(e.defaultUri)};return e.filters&&(t.filters=[],a.forEach(e.filters,function(e){return t.filters.push({name:e.key,extensions:e.value})})),t},e._convertSaveOptions=function(e){var t={defaultUri:i.URI.revive(e.defaultUri),saveLabel:e.saveLabel};return e.filters&&(t.filters=[],a.forEach(e.filters,function(e){return t.filters.push({name:e.key,extensions:e.value})})),t};var t;return e=t=r([s.extHostNamedCustomer(n.MainContext.MainThreadDialogs),o(1,c.IFileDialogService)],e)}();t.MainThreadDialogs=l}),define(e[365],t([1,0,18,6,88,46,177,38,36,58,40,35,52]),function(e,t,i,n,s,a,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(e,t,i,n,r){this._textModelResolverService=t,this._modeService=i,this._modelService=n,this._editorWorkerService=r,this._resourceContentProvider=new Map,
this._pendingUpdate=new Map,this._proxy=e.getProxy(h.ExtHostContext.ExtHostDocumentContentProviders)}return e.prototype.dispose=function(){this._resourceContentProvider.forEach(function(e){return e.dispose()}),this._pendingUpdate.forEach(function(e){return e.dispose()})},e.prototype.$registerTextContentProvider=function(e,t){var i=this,n=this._textModelResolverService.registerTextModelContentProvider(t,{provideTextContent:function(t){return i._proxy.$provideTextDocumentContent(e,t).then(function(e){if("string"==typeof e){var n=e.substr(0,1+e.search(/\r?\n/)),r=i._modeService.createByFilepathOrFirstLine(t.fsPath,n);return i._modelService.createModel(e,r,t)}})}});this._resourceContentProvider.set(e,n)},e.prototype.$unregisterTextContentProvider=function(e){var t=this._resourceContentProvider.get(e);t&&(t.dispose(),this._resourceContentProvider.delete(e))},e.prototype.$onVirtualDocumentChange=function(e,t){var r=this,o=this._modelService.getModel(n.URI.revive(e));if(o){
this._pendingUpdate.has(o.id)&&this._pendingUpdate.get(o.id).cancel();var c=new f.CancellationTokenSource;this._pendingUpdate.set(o.id,c),this._editorWorkerService.computeMoreMinimalEdits(o.uri,[{text:t,range:o.getFullModelRange()}]).then(function(e){r._pendingUpdate.delete(o.id),c.token.isCancellationRequested||e.length>0&&o.applyEdits(e.map(function(e){return s.EditOperation.replace(a.Range.lift(e.range),e.text)}))}).catch(i.onUnexpectedError)}},e=r([p.extHostNamedCustomer(h.MainContext.MainThreadDocumentContentProviders),o(1,d.ITextModelService),o(2,u.IModeService),o(3,l.IModelService),o(4,c.IEditorWorkerService)],e)}();t.MainThreadDocumentContentProviders=g}),define(e[210],t([1,0,5,3,170,46,91,119,35,217]),function(e,t,i,n,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t,i){this.selections=e,this.options=t,this.visibleRanges=i}return e.readFromEditor=function(t,i,n){
return new e(e._readSelectionsFromCodeEditor(t,n),e._readOptionsFromCodeEditor(t,i,n),e._readVisibleRangesFromCodeEditor(t,n))},e._readSelectionsFromCodeEditor=function(e,t){var i=null;return t&&(i=t.getSelections()),!i&&e&&(i=e.selections),i||(i=[new s.Selection(1,1,1,1)]),i},e._readOptionsFromCodeEditor=function(e,t,i){if(t.isDisposed())return e.options;var n,o;if(i){var s=i.getConfiguration();switch(n=s.viewInfo.cursorStyle,s.viewInfo.renderLineNumbers){case 0:o=l.TextEditorLineNumbersStyle.Off;break;case 2:o=l.TextEditorLineNumbersStyle.Relative;break;default:o=l.TextEditorLineNumbersStyle.On}}else e?(n=e.options.cursorStyle,o=e.options.lineNumbers):(n=r.TextEditorCursorStyle.Line,o=l.TextEditorLineNumbersStyle.On);var a=t.getOptions();return{insertSpaces:a.insertSpaces,tabSize:a.tabSize,cursorStyle:n,lineNumbers:o}},e._readVisibleRangesFromCodeEditor=function(e,t){return t?t.getVisibleRanges():[]},e.prototype.generateDelta=function(t,i){var n={options:null,selections:null,visibleRanges:null}
;return t&&e._selectionsEqual(t.selections,this.selections)||(n.selections={selections:this.selections,source:i}),t&&e._optionsEqual(t.options,this.options)||(n.options=this.options),t&&e._rangesEqual(t.visibleRanges,this.visibleRanges)||(n.visibleRanges=this.visibleRanges),n.selections||n.options||n.visibleRanges?n:null},e._selectionsEqual=function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!e[i].equalsSelection(t[i]))return!1;return!0},e._rangesEqual=function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!e[i].equalsRange(t[i]))return!1;return!0},e._optionsEqual=function(e,t){return!(e&&!t||!e&&t)&&(!e&&!t||e.tabSize===t.tabSize&&e.insertSpaces===t.insertSpaces&&e.cursorStyle===t.cursorStyle&&e.lineNumbers===t.lineNumbers)},e}();t.MainThreadTextEditorProperties=u;var d=function(){function e(e,t,n,r,o){var s=this;this._id=e,this._model=t,this._codeEditor=null,this._focusTracker=r,this._modelService=o,this._codeEditorListeners=[],this._properties=null,
this._onPropertiesChanged=new i.Emitter,this._modelListeners=[],this._modelListeners.push(this._model.onDidChangeOptions(function(e){s._updatePropertiesNow(null)})),this.setCodeEditor(n),this._updatePropertiesNow(null)}return e.prototype.dispose=function(){this._model=null,this._modelListeners=n.dispose(this._modelListeners),this._codeEditor=null,this._codeEditorListeners=n.dispose(this._codeEditorListeners)},e.prototype._updatePropertiesNow=function(e){this._setProperties(u.readFromEditor(this._properties,this._model,this._codeEditor),e)},e.prototype._setProperties=function(e,t){var i=e.generateDelta(this._properties,t);this._properties=e,i&&this._onPropertiesChanged.fire(i)},e.prototype.getId=function(){return this._id},e.prototype.getModel=function(){return this._model},e.prototype.getCodeEditor=function(){return this._codeEditor},e.prototype.hasCodeEditor=function(e){return this._codeEditor===e},e.prototype.setCodeEditor=function(e){var t=this
;this.hasCodeEditor(e)||(this._codeEditorListeners=n.dispose(this._codeEditorListeners),this._codeEditor=e,this._codeEditor&&(this._codeEditorListeners.push(this._codeEditor.onDidChangeModel(function(){t.setCodeEditor(null)})),this._codeEditorListeners.push(this._codeEditor.onDidFocusEditorWidget(function(){t._focusTracker.onGainedFocus()})),this._codeEditorListeners.push(this._codeEditor.onDidBlurEditorWidget(function(){t._focusTracker.onLostFocus()})),this._codeEditorListeners.push(this._codeEditor.onDidChangeCursorSelection(function(e){t._updatePropertiesNow(e.source)})),this._codeEditorListeners.push(this._codeEditor.onDidChangeConfiguration(function(){t._updatePropertiesNow(null)})),this._codeEditorListeners.push(this._codeEditor.onDidLayoutChange(function(){t._updatePropertiesNow(null)})),this._codeEditorListeners.push(this._codeEditor.onDidScrollChange(function(){t._updatePropertiesNow(null)})),this._updatePropertiesNow(null)))},e.prototype.isVisible=function(){return!!this._codeEditor},
e.prototype.getProperties=function(){return this._properties},Object.defineProperty(e.prototype,"onPropertiesChanged",{get:function(){return this._onPropertiesChanged.event},enumerable:!0,configurable:!0}),e.prototype.setSelections=function(e){if(this._codeEditor)this._codeEditor.setSelections(e);else{var t=e.map(s.Selection.liftSelection);this._setProperties(new u(t,this._properties.options,this._properties.visibleRanges),null)}},e.prototype._setIndentConfiguration=function(e){if("auto"===e.tabSize||"auto"===e.insertSpaces){var t=this._modelService.getCreationOptions(this._model.getLanguageIdentifier().language,this._model.uri,this._model.isForSimpleWidget),i=t.insertSpaces,n=t.tabSize;return"auto"!==e.insertSpaces&&void 0!==e.insertSpaces&&(i=e.insertSpaces),"auto"!==e.tabSize&&void 0!==e.tabSize&&(n=e.tabSize),void this._model.detectIndentation(i,n)}var r={};void 0!==e.insertSpaces&&(r.insertSpaces=e.insertSpaces),void 0!==e.tabSize&&(r.tabSize=e.tabSize),this._model.updateOptions(r)},
e.prototype.setConfiguration=function(e){if(this._setIndentConfiguration(e),this._codeEditor){if(e.cursorStyle){var t=r.cursorStyleToString(e.cursorStyle);this._codeEditor.updateOptions({cursorStyle:t})}if(void 0!==e.lineNumbers){var i=void 0;switch(e.lineNumbers){case l.TextEditorLineNumbersStyle.On:i="on";break;case l.TextEditorLineNumbersStyle.Relative:i="relative";break;default:i="off"}this._codeEditor.updateOptions({lineNumbers:i})}}},e.prototype.setDecorations=function(e,t){this._codeEditor&&this._codeEditor.setDecorations(e,t)},e.prototype.setDecorationsFast=function(e,t){if(this._codeEditor){for(var i=[],n=0,r=Math.floor(t.length/4);n<r;n++)i[n]=new o.Range(t[4*n],t[4*n+1],t[4*n+2],t[4*n+3]);this._codeEditor.setDecorationsFast(e,i)}},e.prototype.revealRange=function(e,t){if(this._codeEditor)switch(t){case c.TextEditorRevealType.Default:this._codeEditor.revealRange(e,0);break;case c.TextEditorRevealType.InCenter:this._codeEditor.revealRangeInCenter(e,0);break
;case c.TextEditorRevealType.InCenterIfOutsideViewport:this._codeEditor.revealRangeInCenterIfOutsideViewport(e,0);break;case c.TextEditorRevealType.AtTop:this._codeEditor.revealRangeAtTop(e,0);break;default:console.warn("Unknown revealType: "+t)}},e.prototype.isFocused=function(){return!!this._codeEditor&&this._codeEditor.hasTextFocus()},e.prototype.matches=function(e){return!!e&&e.getControl()===this._codeEditor},e.prototype.applyEdits=function(e,t,i){if(this._model.getVersionId()!==e)return!1;if(!this._codeEditor)return!1;i.setEndOfLine===l.EndOfLine.CRLF?this._model.pushEOL(1):i.setEndOfLine===l.EndOfLine.LF&&this._model.pushEOL(0);var n=t.map(function(e){return{range:o.Range.lift(e.range),text:e.text,forceMoveMarkers:e.forceMoveMarkers}});return i.undoStopBefore&&this._codeEditor.pushUndoStop(),this._codeEditor.executeEdits("MainThreadTextEditor",n),i.undoStopAfter&&this._codeEditor.pushUndoStop(),!0},e.prototype.insertSnippet=function(e,t,i){if(!this._codeEditor)return!1
;var n=a.SnippetController2.get(this._codeEditor),r=t.map(function(e){return new s.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)});return this._codeEditor.setSelections(r),this._codeEditor.focus(),n.insert(e,0,0,i.undoStopBefore,i.undoStopAfter),!0},e}();t.MainThreadTextEditor=d}),define(e[369],t([1,0,18,40,35]),function(e,t,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){}return e.prototype.dispose=function(){},e.prototype.$onUnexpectedError=function(e){if(e&&e.$isError){var t=e.name,n=e.message,r=e.stack;(e=new Error).message=n,e.name=t,e.stack=r}i.onUnexpectedError(e)},e=r([n.extHostNamedCustomer(o.MainContext.MainThreadErrors)],e)}();t.MainThreadErrors=s}),define(e[370],t([1,0,5,3,6,16,40,35,55]),function(e,t,i,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,i){this._fileService=t,this._labelService=i,this._fileProvider=new Map,
this._proxy=e.getProxy(l.ExtHostContext.ExtHostFileSystem)}return e.prototype.dispose=function(){this._fileProvider.forEach(function(e){return e.dispose()}),this._fileProvider.clear()},e.prototype.$registerFileSystemProvider=function(e,t,i){this._fileProvider.set(e,new p(this._fileService,t,i,e,this._proxy))},e.prototype.$unregisterProvider=function(e){n.dispose(this._fileProvider.get(e)),this._fileProvider.delete(e)},e.prototype.$setUriFormatter=function(e,t){this._labelService.registerFormatter(e,t)},e.prototype.$onFileSystemChange=function(e,t){this._fileProvider.get(e).$onFileSystemChange(t)},e=r([c.extHostNamedCustomer(l.MainContext.MainThreadFileSystem),o(1,a.IFileService),o(2,u.ILabelService)],e)}();t.MainThreadFileSystem=d;var p=function(){function e(e,t,n,r,o){this._handle=r,this._proxy=o,this._onDidChange=new i.Emitter,this.onDidChangeFile=this._onDidChange.event,this.capabilities=n,this._registration=e.registerProvider(t,this)}return e.prototype.dispose=function(){this._registration.dispose(),
this._onDidChange.dispose()},e.prototype.watch=function(e,t){var i=this,r=Math.random();return this._proxy.$watch(this._handle,r,e,t),n.toDisposable(function(){i._proxy.$unwatch(i._handle,r)})},e.prototype.$onFileSystemChange=function(t){this._onDidChange.fire(t.map(e._createFileChange))},e._createFileChange=function(e){return{resource:s.URI.revive(e.resource),type:e.type}},e._asBuffer=function(e){return Buffer.isBuffer(e)?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength)},e.prototype.stat=function(e){return this._proxy.$stat(this._handle,e).then(void 0,function(e){throw e})},e.prototype.readFile=function(e){return this._proxy.$readFile(this._handle,e)},e.prototype.writeFile=function(t,i,n){return this._proxy.$writeFile(this._handle,t,e._asBuffer(i),n)},e.prototype.delete=function(e,t){return this._proxy.$delete(this._handle,e,t)},e.prototype.mkdir=function(e){return this._proxy.$mkdir(this._handle,e)},e.prototype.readdir=function(e){return this._proxy.$readdir(this._handle,e)},
e.prototype.rename=function(e,t,i){return this._proxy.$rename(this._handle,e,t,i)},e.prototype.copy=function(e,t,i){return this._proxy.$copy(this._handle,e,t,i)},e.prototype.open=function(e){return this._proxy.$open(this._handle,e)},e.prototype.close=function(e){return this._proxy.$close(this._handle,e)},e.prototype.read=function(t,i,n,r,o){return this._proxy.$read(this._handle,t,i,e._asBuffer(n),r,o)},e.prototype.write=function(t,i,n,r,o){return this._proxy.$write(this._handle,t,i,e._asBuffer(n),r,o)},e}()}),define(e[179],t([1,0,35,4,95,5,40,13,566]),function(e,t,i,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHeapService=n.createDecorator("heapService");var d=function(){function e(){this._onGarbageCollection=new a.Emitter,this.onGarbageCollection=this._onGarbageCollection.event,this._activeSignals=new WeakMap,this._activeIds=new Set}return e.prototype.dispose=function(){clearInterval(this._consumeHandle)},e.prototype.trackRecursive=function(e){var t=this
;return l.isThenable(e)?e.then(function(e){return t.trackRecursive(e)}):this._doTrackRecursive(e)},e.prototype._doTrackRecursive=function(e){return u.isNullOrUndefined(e),Promise.resolve(e)},e}();t.HeapService=d;var p=function(){function e(e,t){var n=e.getProxy(i.ExtHostContext.ExtHostHeapService);this._toDispose=t.onGarbageCollection(function(e){n.$onGarbageCollection(e)})}return e.prototype.dispose=function(){this._toDispose.dispose()},e=r([c.extHostCustomer,o(1,t.IHeapService)],e)}();t.MainThreadHeapService=p,s.registerSingleton(t.IHeapService,d,!0)}),define(e[373],t([1,0,5,79,138,35,223,179,36,40,255,6]),function(e,t,i,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t,i){this._registrations=Object.create(null),this._proxy=e.getProxy(a.ExtHostContext.ExtHostLanguageFeatures),this._heapService=t,this._modeService=i}t=e,e.prototype.dispose=function(){for(var e in this._registrations)this._registrations[e].dispose()},
e.prototype.$unregister=function(e){var t=this._registrations[e];t&&(t.dispose(),delete this._registrations[e])},e._reviveLocationDto=function(e){return e?Array.isArray(e)?(e.forEach(function(e){return t._reviveLocationDto(e)}),e):(e.uri=h.URI.revive(e.uri),e):e},e._reviveDefinitionLinkDto=function(e){return e?Array.isArray(e)?(e.forEach(function(e){return t._reviveDefinitionLinkDto(e)}),e):(e.uri=h.URI.revive(e.uri),e):e},e._reviveWorkspaceSymbolDto=function(e){return e?Array.isArray(e)?(e.forEach(t._reviveWorkspaceSymbolDto),e):(e.location=t._reviveLocationDto(e.location),e):e},e._reviveCodeActionDto=function(e){return e&&e.forEach(function(e){return a.reviveWorkspaceEditDto(e.edit)}),e},e.prototype.$registerOutlineSupport=function(e,t,i){var r=this;this._registrations[e]=n.DocumentSymbolProviderRegistry.register(p.LanguageSelector.from(t),{displayName:i,provideDocumentSymbols:function(t,i){return r._proxy.$provideDocumentSymbols(e,t.uri,i)}})},e.prototype.$registerCodeLensSupport=function(e,t,r){
var o=this,s={provideCodeLenses:function(t,i){return o._heapService.trackRecursive(o._proxy.$provideCodeLenses(e,t.uri,i))},resolveCodeLens:function(t,i,n){return o._heapService.trackRecursive(o._proxy.$resolveCodeLens(e,t.uri,i,n))}};if("number"==typeof r){var a=new i.Emitter;this._registrations[r]=a,s.onDidChange=a.event}this._registrations[e]=n.CodeLensProviderRegistry.register(p.LanguageSelector.from(t),s)},e.prototype.$emitCodeLensEvent=function(e,t){var n=this._registrations[e];n instanceof i.Emitter&&n.fire(t)},e.prototype.$registerDefinitionSupport=function(e,i){var r=this;this._registrations[e]=n.DefinitionProviderRegistry.register(p.LanguageSelector.from(i),{provideDefinition:function(i,n,o){return r._proxy.$provideDefinition(e,i.uri,n,o).then(t._reviveDefinitionLinkDto)}})},e.prototype.$registerDeclarationSupport=function(e,i){var r=this;this._registrations[e]=n.DeclarationProviderRegistry.register(p.LanguageSelector.from(i),{provideDeclaration:function(i,n,o){
return r._proxy.$provideDeclaration(e,i.uri,n,o).then(t._reviveDefinitionLinkDto)}})},e.prototype.$registerImplementationSupport=function(e,i){var r=this;this._registrations[e]=n.ImplementationProviderRegistry.register(p.LanguageSelector.from(i),{provideImplementation:function(i,n,o){return r._proxy.$provideImplementation(e,i.uri,n,o).then(t._reviveDefinitionLinkDto)}})},e.prototype.$registerTypeDefinitionSupport=function(e,i){var r=this;this._registrations[e]=n.TypeDefinitionProviderRegistry.register(p.LanguageSelector.from(i),{provideTypeDefinition:function(i,n,o){return r._proxy.$provideTypeDefinition(e,i.uri,n,o).then(t._reviveDefinitionLinkDto)}})},e.prototype.$registerHoverProvider=function(e,t){var i=this;this._registrations[e]=n.HoverProviderRegistry.register(p.LanguageSelector.from(t),{provideHover:function(t,n,r){return i._proxy.$provideHover(e,t.uri,n,r)}})},e.prototype.$registerDocumentHighlightProvider=function(e,t){var i=this
;this._registrations[e]=n.DocumentHighlightProviderRegistry.register(p.LanguageSelector.from(t),{provideDocumentHighlights:function(t,n,r){return i._proxy.$provideDocumentHighlights(e,t.uri,n,r)}})},e.prototype.$registerReferenceSupport=function(e,i){var r=this;this._registrations[e]=n.ReferenceProviderRegistry.register(p.LanguageSelector.from(i),{provideReferences:function(i,n,o,s){return r._proxy.$provideReferences(e,i.uri,n,o,s).then(t._reviveLocationDto)}})},e.prototype.$registerQuickFixSupport=function(e,i,r){var o=this;this._registrations[e]=n.CodeActionProviderRegistry.register(p.LanguageSelector.from(i),{provideCodeActions:function(i,n,r,s){return o._heapService.trackRecursive(o._proxy.$provideCodeActions(e,i.uri,n,r,s)).then(t._reviveCodeActionDto)},providedCodeActionKinds:r})},e.prototype.$registerDocumentFormattingSupport=function(e,t){var i=this;this._registrations[e]=n.DocumentFormattingEditProviderRegistry.register(p.LanguageSelector.from(t),{provideDocumentFormattingEdits:function(t,n,r){
return i._proxy.$provideDocumentFormattingEdits(e,t.uri,n,r)}})},e.prototype.$registerRangeFormattingSupport=function(e,t){var i=this;this._registrations[e]=n.DocumentRangeFormattingEditProviderRegistry.register(p.LanguageSelector.from(t),{provideDocumentRangeFormattingEdits:function(t,n,r,o){return i._proxy.$provideDocumentRangeFormattingEdits(e,t.uri,n,r,o)}})},e.prototype.$registerOnTypeFormattingSupport=function(e,t,i){var r=this;this._registrations[e]=n.OnTypeFormattingEditProviderRegistry.register(p.LanguageSelector.from(t),{autoFormatTriggerCharacters:i,provideOnTypeFormattingEdits:function(t,i,n,o,s){return r._proxy.$provideOnTypeFormattingEdits(e,t.uri,i,n,o,s)}})},e.prototype.$registerNavigateTypeSupport=function(e){var i,n=this;this._registrations[e]=s.WorkspaceSymbolProviderRegistry.register({provideWorkspaceSymbols:function(r,o){return n._proxy.$provideWorkspaceSymbols(e,r,o).then(function(r){return void 0!==i&&n._proxy.$releaseWorkspaceSymbols(e,i),i=r._id,t._reviveWorkspaceSymbolDto(r.symbols)
})},resolveWorkspaceSymbol:function(i,r){return n._proxy.$resolveWorkspaceSymbol(e,i,r).then(function(e){return t._reviveWorkspaceSymbolDto(e)})}})},e.prototype.$registerRenameSupport=function(e,t,i){var r=this;this._registrations[e]=n.RenameProviderRegistry.register(p.LanguageSelector.from(t),{provideRenameEdits:function(t,i,n,o){return r._proxy.$provideRenameEdits(e,t.uri,i,n,o).then(a.reviveWorkspaceEditDto)},resolveRenameLocation:i?function(t,i,n){return r._proxy.$resolveRenameLocation(e,t.uri,i,n)}:void 0})},e.prototype.$registerSuggestSupport=function(e,t,i,r){var o=this;this._registrations[e]=n.CompletionProviderRegistry.register(p.LanguageSelector.from(t),{triggerCharacters:i,provideCompletionItems:function(t,i,n,r){return o._proxy.$provideCompletionItems(e,t.uri,i,n,r).then(function(t){return t?{suggestions:t.suggestions,incomplete:t.incomplete,dispose:function(){return o._proxy.$releaseCompletionItems(e,t._id)}}:t})},resolveCompletionItem:r?function(t,i,n,r){
return o._proxy.$resolveCompletionItem(e,t.uri,i,n,r)}:void 0})},e.prototype.$registerSignatureHelpProvider=function(e,t,i){var r=this;this._registrations[e]=n.SignatureHelpProviderRegistry.register(p.LanguageSelector.from(t),{signatureHelpTriggerCharacters:i.triggerCharacters,signatureHelpRetriggerCharacters:i.retriggerCharacters,provideSignatureHelp:function(t,i,n,o){return r._proxy.$provideSignatureHelp(e,t.uri,i,o,n)}})},e.prototype.$registerDocumentLinkProvider=function(e,t){var i=this;this._registrations[e]=n.LinkProviderRegistry.register(p.LanguageSelector.from(t),{provideLinks:function(t,n){return i._heapService.trackRecursive(i._proxy.$provideDocumentLinks(e,t.uri,n))},resolveLink:function(t,n){return i._proxy.$resolveDocumentLink(e,t,n)}})},e.prototype.$registerDocumentColorProvider=function(e,t){var i=this._proxy;this._registrations[e]=n.ColorProviderRegistry.register(p.LanguageSelector.from(t),{provideDocumentColors:function(t,n){return i.$provideDocumentColors(e,t.uri,n).then(function(e){
return e.map(function(e){var t=e.color;return{color:{red:t[0],green:t[1],blue:t[2],alpha:t[3]},range:e.range}})})},provideColorPresentations:function(t,n,r){return i.$provideColorPresentations(e,t.uri,{color:[n.color.red,n.color.green,n.color.blue,n.color.alpha],range:n.range},r)}})},e.prototype.$registerFoldingRangeProvider=function(e,t){var i=this._proxy;this._registrations[e]=n.FoldingRangeProviderRegistry.register(p.LanguageSelector.from(t),{provideFoldingRanges:function(t,n,r){return i.$provideFoldingRanges(e,t.uri,n,r)}})},e._reviveRegExp=function(e){if(void 0!==e)return null===e?null:new RegExp(e.pattern,e.flags)},e._reviveIndentationRule=function(e){if(void 0!==e)return null===e?null:{decreaseIndentPattern:t._reviveRegExp(e.decreaseIndentPattern),increaseIndentPattern:t._reviveRegExp(e.increaseIndentPattern),indentNextLinePattern:t._reviveRegExp(e.indentNextLinePattern),unIndentedLinePattern:t._reviveRegExp(e.unIndentedLinePattern)}},e._reviveOnEnterRule=function(e){return{
beforeText:t._reviveRegExp(e.beforeText),afterText:t._reviveRegExp(e.afterText),oneLineAboveText:t._reviveRegExp(e.oneLineAboveText),action:e.action}},e._reviveOnEnterRules=function(e){if(void 0!==e)return null===e?null:e.map(t._reviveOnEnterRule)},e.prototype.$setLanguageConfiguration=function(e,i,n){var r={comments:n.comments,brackets:n.brackets,wordPattern:t._reviveRegExp(n.wordPattern),indentationRules:t._reviveIndentationRule(n.indentationRules),onEnterRules:t._reviveOnEnterRules(n.onEnterRules),autoClosingPairs:null,surroundingPairs:null,__electricCharacterSupport:null};n.__characterPairSupport&&(r.autoClosingPairs=n.__characterPairSupport.autoClosingPairs),n.__electricCharacterSupport&&n.__electricCharacterSupport.docComment&&(r.__electricCharacterSupport={docComment:{open:n.__electricCharacterSupport.docComment.open,close:n.__electricCharacterSupport.docComment.close}});var o=this._modeService.getLanguageIdentifier(i);o&&(this._registrations[e]=c.LanguageConfigurationRegistry.register(o,r))};var t
;return e=t=r([d.extHostNamedCustomer(a.MainContext.MainThreadLanguageFeatures),o(1,l.IHeapService),o(2,u.IModeService)],e)}();t.MainThreadLanguageFeatures=f}),define(e[374],t([1,0,6,36,38,35,40]),function(e,t,i,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t,i){this._modeService=t,this._modelService=i}return e.prototype.dispose=function(){},e.prototype.$getLanguages=function(){return Promise.resolve(this._modeService.getRegisteredModes())},e.prototype.$changeLanguage=function(e,t){var n=i.URI.revive(e),r=this._modelService.getModel(n);if(!r)return Promise.reject(new Error("Invalid uri"));var o=this._modeService.getLanguageIdentifier(t);return o&&o.language===t?(this._modelService.setMode(r,this._modeService.create(t)),Promise.resolve(void 0)):Promise.reject(new Error("Unknown language id: "+t))},e=r([c.extHostNamedCustomer(a.MainContext.MainThreadLanguages),o(1,n.IModeService),o(2,s.IModelService)],e)}();t.MainThreadLanguages=l}),
define(e[375],t([1,0,40,68,3,35]),function(e,t,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,i){var n=e.call(this)||this;return n._register(i.onDidChangeLogLevel(function(e){return t.getProxy(c.ExtHostContext.ExtHostLogService).$setLevel(e)})),n}return i(t,e),t=r([n.extHostCustomer,o(1,s.ILogService)],t)}(a.Disposable);t.MainThreadLogService=l}),define(e[376],t([1,0,2,14,35,40,85,25,5,34,3]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t,i,n){this._notificationService=t,this._commandService=i,this._dialogService=n}return e.prototype.dispose=function(){},e.prototype.$showMessage=function(e,t,i,n){return i.modal?this._showModalMessage(e,t,n):this._showMessage(e,t,n,i.extension)},e.prototype._showMessage=function(e,t,r,o){var a=this;return new Promise(function(c){var l=[],u=function(e){function t(t,i,n){return e.call(this,t,i,void 0,!0,function(){c(n)})||this}return i(t,e),t
}(s.Action),p=function(e){function t(t,i,n){return e.call(this,t,i,void 0,!0,function(){return n.executeCommand("_extensions.manage",t)})||this}return i(t,e),t}(s.Action);r.forEach(function(e){l.push(new u("_extension_message_handle_"+e.handle,e.title,e.handle))});var f;o&&(f=n.localize("extensionSource","{0} (Extension)",o.displayName||o.name)),f||(f=n.localize("defaultSource","Extension"));var g=[];o&&!o.isUnderDevelopment&&g.push(new p(o.id,n.localize("manageExtension","Manage Extension"),a._commandService));var v=a._notificationService.notify({severity:e,message:t,actions:{primary:l,secondary:g},source:f});d.once(v.onDidClose)(function(){h.dispose.apply(void 0,l.concat(g)),c(void 0)})})},e.prototype._showModalMessage=function(e,t,i){var r=void 0,o=i.map(function(e,t){return!0===e.isCloseAffordance&&(r=t),e.title});return void 0===r&&(o.length>0?o.push(n.localize("cancel","Cancel")):o.push(n.localize("ok","OK")),r=o.length-1),this._dialogService.show(e,t,o,{cancelId:r}).then(function(e){
return e===i.length?void 0:i[e].handle})},e=r([c.extHostNamedCustomer(a.MainContext.MainThreadMessageService),o(1,u.INotificationService),o(2,p.ICommandService),o(3,l.IDialogService)],e)}();t.MainThreadMessageService=f}),define(e[377],t([1,0,76,35,40]),function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this._progress=new Map,this._proxy=e.getProxy(n.ExtHostContext.ExtHostProgress),this._progressService=t}return e.prototype.dispose=function(){this._progress.forEach(function(e){return e.resolve()}),this._progress.clear()},e.prototype.$startProgress=function(e,t){var i=this,n=this._createTask(e);this._progressService.withProgress(t,n,function(){return i._proxy.$acceptProgressCanceled(e)})},e.prototype.$progressReport=function(e,t){this._progress.has(e)&&this._progress.get(e).progress.report(t)},e.prototype.$progressEnd=function(e){this._progress.has(e)&&(this._progress.get(e).resolve(),this._progress.delete(e))},e.prototype._createTask=function(e){
var t=this;return function(i){return new Promise(function(n){t._progress.set(e,{resolve:n,progress:i})})}},e=r([s.extHostNamedCustomer(n.MainContext.MainThreadProgress),o(1,i.IProgressService2)],e)}();t.MainThreadProgress=a}),define(e[379],t([1,0,61,35,40,6]),function(e,t,i,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){this._items={},this.sessions=new Map,this._proxy=e.getProxy(s.ExtHostContext.ExtHostQuickOpen),this._quickInputService=t}return e.prototype.dispose=function(){},e.prototype.$show=function(e,t,i){var r=this,o=new Promise(function(t,i){r._items[e]={resolve:t,reject:i}});return(t=n({},t,{onDidFocus:function(e){e&&r._proxy.$onItemSelected(e.handle)}})).canPickMany?this._quickInputService.pick(o,t,i).then(function(e){if(e)return e.map(function(e){return e.handle})}):this._quickInputService.pick(o,t,i).then(function(e){if(e)return e.handle})},e.prototype.$setItems=function(e,t){this._items[e]&&(this._items[e].resolve(t),delete this._items[e])},
e.prototype.$setError=function(e,t){this._items[e]&&(this._items[e].reject(t),delete this._items[e])},e.prototype.$input=function(e,t,i){var n=this,r=Object.create(null);return e&&(r.password=e.password,r.placeHolder=e.placeHolder,r.valueSelection=e.valueSelection,r.prompt=e.prompt,r.value=e.value,r.ignoreFocusLost=e.ignoreFocusOut),t&&(r.validateInput=function(e){return n._proxy.$validateInput(e)}),this._quickInputService.input(r,i)},e.prototype.$createOrUpdate=function(e){var t=this,i=e.id,n=this.sessions.get(i);if(!n){if("quickPick"===e.type){var r=this._quickInputService.createQuickPick();r.onDidAccept(function(){t._proxy.$onDidAccept(i)}),r.onDidChangeActive(function(e){t._proxy.$onDidChangeActive(i,e.map(function(e){return e.handle}))}),r.onDidChangeSelection(function(e){t._proxy.$onDidChangeSelection(i,e.map(function(e){return e.handle}))}),r.onDidTriggerButton(function(e){t._proxy.$onDidTriggerButton(i,e.handle)}),r.onDidChangeValue(function(e){t._proxy.$onDidChangeValue(i,e)}),r.onDidHide(function(){
t._proxy.$onDidHide(i)}),n={input:r,handlesToItems:new Map}}else{var o=this._quickInputService.createInputBox();o.onDidAccept(function(){t._proxy.$onDidAccept(i)}),o.onDidTriggerButton(function(e){t._proxy.$onDidTriggerButton(i,e.handle)}),o.onDidChangeValue(function(e){t._proxy.$onDidChangeValue(i,e)}),o.onDidHide(function(){t._proxy.$onDidHide(i)}),n={input:o,handlesToItems:new Map}}this.sessions.set(i,n)}var s=n.input,a=n.handlesToItems;for(var l in e)"id"!==l&&"type"!==l&&("visible"===l?e.visible?s.show():s.hide():"items"===l?(a.clear(),e[l].forEach(function(e){a.set(e.handle,e)}),s[l]=e[l]):s[l]="activeItems"===l||"selectedItems"===l?e[l].filter(function(e){return a.has(e)}).map(function(e){return a.get(e)}):"buttons"===l?e.buttons.map(function(e){if(-1===e.handle)return t._quickInputService.backButton;var i=e.iconPath,n=e.tooltip,r=e.handle;return{iconPath:{dark:c.URI.revive(i.dark),light:i.light&&c.URI.revive(i.light)},tooltip:n,handle:r}}):e[l]);return Promise.resolve(void 0)},
e.prototype.$dispose=function(e){var t=this.sessions.get(e);return t&&(t.input.dispose(),this.sessions.delete(e)),Promise.resolve(void 0)},e=r([a.extHostNamedCustomer(s.MainContext.MainThreadQuickOpen),o(1,i.IQuickInputService)],e)}();t.MainThreadQuickOpen=l}),define(e[380],t([1,0,154,35,40]),function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this._statusbarService=t,this._entries=Object.create(null)}return e.prototype.dispose=function(){for(var e in this._entries)this._entries[e].dispose()},e.prototype.$setEntry=function(e,t,i,n,r,o,s,a){this.$dispose(e);var c=this._statusbarService.addEntry({text:i,tooltip:n,command:r,color:o,extensionId:t},s,a);this._entries[e]=c},e.prototype.$dispose=function(e){var t=this._entries[e];t&&t.dispose(),delete this._entries[e]},e=r([s.extHostNamedCustomer(n.MainContext.MainThreadStatusBar),o(1,i.IStatusbarService)],e)}();t.MainThreadStatusBar=a}),define(e[381],t([1,0,28,35,40]),function(e,t,i,n,s){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var i=this;this._sharedStorageKeysToWatch=new Map,this._storageService=t,this._proxy=e.getProxy(n.ExtHostContext.ExtHostStorage),this._storageListener=this._storageService.onDidChangeStorage(function(e){var t=0===e.scope;if(t&&i._sharedStorageKeysToWatch.has(e.key))try{i._proxy.$acceptValue(t,e.key,i._getValue(t,e.key))}catch(e){}})}return e.prototype.dispose=function(){this._storageListener.dispose()},e.prototype.$getValue=function(e,t){e&&this._sharedStorageKeysToWatch.set(t,!0);try{return Promise.resolve(this._getValue(e,t))}catch(e){return Promise.reject(e)}},e.prototype._getValue=function(e,t){var i=this._storageService.get(t,e?0:1);if(i)return JSON.parse(i)},e.prototype.$setValue=function(e,t,i){var n;try{n=JSON.stringify(i),this._storageService.store(t,n,e?0:1)}catch(e){return Promise.reject(e)}},e=r([s.extHostNamedCustomer(n.MainContext.MainThreadStorage),o(1,i.IStorageService)],e)}();t.MainThreadStorage=a}),
define(e[382],t([1,0,30,35,40]),function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this._telemetryService=t}t=e,e.prototype.dispose=function(){},e.prototype.$publicLog=function(e,i){void 0===i&&(i=Object.create(null)),i[t._name]=!0,this._telemetryService.publicLog(e,i)};var t;return e._name="pluginHostTelemetry",e=t=r([s.extHostNamedCustomer(n.MainContext.MainThreadTelemetry),o(1,i.ITelemetryService)],e)}();t.MainThreadTelemetry=a}),define(e[383],t([1,0,35,40,168,203]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,i){this.proxy=e,this.handle=t,this.extensionId=i}return e.prototype.handleURL=function(e){return e.authority!==this.extensionId?Promise.resolve(!1):Promise.resolve(this.proxy.$handleExternalUri(this.handle,e)).then(function(){return!0})},e}(),l=function(){function e(e,t,n){this.urlService=t,this.inactiveExtensionUrlHandler=n,this.handlers=new Map,
this.proxy=e.getProxy(i.ExtHostContext.ExtHostUrls)}return e.prototype.$registerUriHandler=function(e,t){var i=new c(this.proxy,e,t),n=this.urlService.registerHandler(i);return this.handlers.set(e,{extensionId:t,disposable:n}),this.inactiveExtensionUrlHandler.registerExtensionHandler(t,i),Promise.resolve(null)},e.prototype.$unregisterUriHandler=function(e){var t=this.handlers.get(e);if(!t)return Promise.resolve(null);var i=t.extensionId,n=t.disposable;return this.inactiveExtensionUrlHandler.unregisterExtensionHandler(i),this.handlers.delete(e),n.dispose(),Promise.resolve(null)},e.prototype.dispose=function(){this.handlers.forEach(function(e){return e.disposable.dispose()}),this.handlers.clear()},e=r([n.extHostNamedCustomer(i.MainContext.MainThreadUrls),o(1,s.IURLService),o(2,a.IExtensionUrlHandler)],e)}();t.MainThreadUrls=l}),define(e[384],t([1,0,42,35,3,40]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){this.windowService=t,
this.disposables=[],this.proxy=e.getProxy(n.ExtHostContext.ExtHostWindow)}return e.prototype.$getWindowVisibility=function(){return this.windowService.isFocused()},e.prototype.dispose=function(){this.disposables=s.dispose(this.disposables)},e=r([a.extHostNamedCustomer(n.MainContext.MainThreadWindow),o(1,i.IWindowService)],e)}();t.MainThreadWindow=c}),define(e[385],t([1,0,13,52,18,5,3,6,355,205]),function(e,t,n,r,o,s,a,c,l,u){"use strict";function d(e,t){try{return JSON.stringify(e,t)}catch(e){return"null"}}function p(e,t,i){if(!e||i>200)return null;if("object"==typeof e){if(e instanceof c.URI)return t.transformOutgoing(e);for(var n in e)if(Object.hasOwnProperty.call(e,n)){var r=p(e[n],t,i+1);null!==r&&(e[n]=r)}}return null}function h(e,t,i){if(!e||i>200)return null;if("object"==typeof e){if(1===e.$mid)return t.transformIncoming(e);for(var n in e)if(Object.hasOwnProperty.call(e,n)){var r=h(e[n],t,i+1);null!==r&&(e[n]=r)}}return null}function f(e,t){var i=h(e,t,0);return null===i?e:i}
Object.defineProperty(t,"__esModule",{value:!0}),t.transformOutgoingURIs=function(e,t){var i=p(e,t,0);return null===i?e:i};var g=function(){},v=function(e){function t(t,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var o=e.call(this)||this;o._onDidChangeResponsiveState=o._register(new s.Emitter),o.onDidChangeResponsiveState=o._onDidChangeResponsiveState.event,o._protocol=t,o._logger=i,o._uriTransformer=r,o._uriReplacer=function(e){return e?function(t,i){return i&&1===i.$mid?e.transformOutgoing(i):i}:null}(o._uriTransformer),o._isDisposed=!1,o._locals=[],o._proxies=[];for(var a=0,c=u.ProxyIdentifier.count;a<c;a++)o._locals[a]=null,o._proxies[a]=null;return o._lastMessageId=0,o._cancelInvokedHandlers=Object.create(null),o._pendingRPCReplies={},o._responsiveState=0,o._unacknowledgedCount=0,o._unresponsiveTime=0,o._asyncCheckUresponsive=o._register(new n.RunOnceScheduler(function(){return o._checkUnresponsive()},1e3)),o._protocol.onMessage(function(e){return o._receiveOneMessage(e)}),o}return i(t,e),
t.prototype.dispose=function(){var e=this;this._isDisposed=!0,Object.keys(this._pendingRPCReplies).forEach(function(t){e._pendingRPCReplies[t].resolveErr(o.canceled())})},t.prototype._onWillSendRequest=function(e){0===this._unacknowledgedCount&&(this._unresponsiveTime=Date.now()+t.UNRESPONSIVE_TIME),this._unacknowledgedCount++,this._asyncCheckUresponsive.isScheduled()||this._asyncCheckUresponsive.schedule()},t.prototype._onDidReceiveAcknowledge=function(e){this._unresponsiveTime=Date.now()+t.UNRESPONSIVE_TIME,this._unacknowledgedCount--,0===this._unacknowledgedCount&&this._asyncCheckUresponsive.cancel(),this._setResponsiveState(0)},t.prototype._checkUnresponsive=function(){0!==this._unacknowledgedCount&&(Date.now()>this._unresponsiveTime?this._setResponsiveState(1):this._asyncCheckUresponsive.schedule())},t.prototype._setResponsiveState=function(e){this._responsiveState!==e&&(this._responsiveState=e,this._onDidChangeResponsiveState.fire(this._responsiveState))},
Object.defineProperty(t.prototype,"responsiveState",{get:function(){return this._responsiveState},enumerable:!0,configurable:!0}),t.prototype.transformIncomingURIs=function(e){return this._uriTransformer?f(e,this._uriTransformer):e},t.prototype.getProxy=function(e){var t=e.nid;return this._proxies[t]||(this._proxies[t]=this._createProxy(t)),this._proxies[t]},t.prototype._createProxy=function(e){var t=this,i={get:function(i,n){return i[n]||36!==n.charCodeAt(0)||(i[n]=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return t._remoteCall(e,n,i)}),i[n]}};return new Proxy(Object.create(null),i)},t.prototype.set=function(e,t){return this._locals[e.nid]=t,t},t.prototype.assertRegistered=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];if(!this._locals[n.nid])throw new Error("Missing actor "+n.sid+" (isMain: "+n.isMain+")")}},t.prototype._receiveOneMessage=function(e){if(!this._isDisposed){var t=e.length,i=m.read(e,0),n=i.readUInt8(),r=i.readUInt32();switch(n){case 1:case 2:
var o=y.deserializeRequestJSONArgs(i),s=o.rpcId,a=o.method,c=o.args;this._uriTransformer&&(c=f(c,this._uriTransformer)),this._receiveRequest(t,r,s,a,c,2===n);break;case 3:case 4:var l=y.deserializeRequestMixedArgs(i),s=l.rpcId,a=l.method,c=l.args;this._uriTransformer&&(c=f(c,this._uriTransformer)),this._receiveRequest(t,r,s,a,c,4===n);break;case 5:this._logger&&this._logger.logIncoming(t,r,0,"ack"),this._onDidReceiveAcknowledge(r);break;case 6:this._receiveCancel(t,r);break;case 7:this._receiveReply(t,r,void 0);break;case 9:u=y.deserializeReplyOKJSON(i);this._uriTransformer&&(u=f(u,this._uriTransformer)),this._receiveReply(t,r,u);break;case 8:var u=y.deserializeReplyOKBuffer(i);this._receiveReply(t,r,u);break;case 10:var d=y.deserializeReplyErrError(i);this._uriTransformer&&(d=f(d,this._uriTransformer)),this._receiveReplyErr(t,r,d);break;case 11:this._receiveReplyErr(t,r,void 0)}}},t.prototype._receiveRequest=function(e,t,i,n,o,s){var a=this
;this._logger&&this._logger.logIncoming(e,t,1,"receiveRequest "+u.getStringIdentifierForProxy(i)+"."+n+"(",o);var c,l,d=String(t);if(s){var p=new r.CancellationTokenSource;o.push(p.token),c=this._invokeHandler(i,n,o),l=function(){return p.cancel()}}else c=this._invokeHandler(i,n,o),l=g;this._cancelInvokedHandlers[d]=l;var h=y.serializeAcknowledged(t);this._logger&&this._logger.logOutgoing(h.byteLength,t,1,"ack"),this._protocol.send(h),c.then(function(e){delete a._cancelInvokedHandlers[d];var i=y.serializeReplyOK(t,e,a._uriReplacer);a._logger&&a._logger.logOutgoing(i.byteLength,t,1,"reply:",e),a._protocol.send(i)},function(e){delete a._cancelInvokedHandlers[d];var i=y.serializeReplyErr(t,e);a._logger&&a._logger.logOutgoing(i.byteLength,t,1,"replyErr:",e),a._protocol.send(i)})},t.prototype._receiveCancel=function(e,t){this._logger&&this._logger.logIncoming(e,t,1,"receiveCancel");var i=String(t);this._cancelInvokedHandlers[i]&&this._cancelInvokedHandlers[i]()},t.prototype._receiveReply=function(e,t,i){
this._logger&&this._logger.logIncoming(e,t,0,"receiveReply:",i);var n=String(t);if(this._pendingRPCReplies.hasOwnProperty(n)){var r=this._pendingRPCReplies[n];delete this._pendingRPCReplies[n],r.resolveOk(i)}},t.prototype._receiveReplyErr=function(e,t,i){this._logger&&this._logger.logIncoming(e,t,0,"receiveReplyErr:",i);var n=String(t);if(this._pendingRPCReplies.hasOwnProperty(n)){var r=this._pendingRPCReplies[n];delete this._pendingRPCReplies[n];var o=null;i&&i.$isError&&((o=new Error).name=i.name,o.message=i.message,o.stack=i.stack),r.resolveErr(o)}},t.prototype._invokeHandler=function(e,t,i){try{return Promise.resolve(this._doInvokeHandler(e,t,i))}catch(e){return Promise.reject(e)}},t.prototype._doInvokeHandler=function(e,t,i){var n=this._locals[e];if(!n)throw new Error("Unknown actor "+u.getStringIdentifierForProxy(e));var r=n[t];if("function"!=typeof r)throw new Error("Unknown method "+t+" on actor "+u.getStringIdentifierForProxy(e));return r.apply(n,i)},t.prototype._remoteCall=function(e,t,i){var n=this
;if(this._isDisposed)return Promise.reject(o.canceled());var s=null;if(i.length>0&&r.CancellationToken.isCancellationToken(i[i.length-1])&&(s=i.pop()),s&&s.isCancellationRequested)return Promise.reject(o.canceled());var a=++this._lastMessageId,c=String(a),d=new l.LazyPromise;s&&s.onCancellationRequested(function(){var e=y.serializeCancel(a);n._logger&&n._logger.logOutgoing(e.byteLength,a,0,"cancel"),n._protocol.send(y.serializeCancel(a))}),this._pendingRPCReplies[c]=d,this._onWillSendRequest(a);var p=y.serializeRequest(a,e,t,i,!!s,this._uriReplacer);return this._logger&&this._logger.logOutgoing(p.byteLength,a,0,"request: "+u.getStringIdentifierForProxy(e)+"."+t+"(",i),this._protocol.send(p),d},t.UNRESPONSIVE_TIME=3e3,t}(a.Disposable);t.RPCProtocol=v;var m=function(){function e(e,t){this._buff=e,this._offset=t}return e.alloc=function(t,i,n){var r=new e(Buffer.allocUnsafe(n+1+4),0);return r.writeUInt8(t),r.writeUInt32(i),r},e.read=function(t,i){return new e(t,i)},Object.defineProperty(e.prototype,"buffer",{
get:function(){return this._buff},enumerable:!0,configurable:!0}),e.sizeUInt8=function(){return 1},e.prototype.writeUInt8=function(e){this._buff.writeUInt8(e,this._offset,!0),this._offset+=1},e.prototype.readUInt8=function(){var e=this._buff.readUInt8(this._offset,!0);return this._offset+=1,e},e.prototype.writeUInt32=function(e){this._buff.writeUInt32BE(e,this._offset,!0),this._offset+=4},e.prototype.readUInt32=function(){var e=this._buff.readUInt32BE(this._offset,!0);return this._offset+=4,e},e.sizeShortString=function(e,t){return 1+t},e.prototype.writeShortString=function(e,t){this._buff.writeUInt8(t,this._offset,!0),this._offset+=1,this._buff.write(e,this._offset,t,"utf8"),this._offset+=t},e.prototype.readShortString=function(){var e=this._buff.readUInt8(this._offset,!0);this._offset+=1;var t=this._buff.toString("utf8",this._offset,this._offset+e);return this._offset+=e,t},e.sizeLongString=function(e,t){return 4+t},e.prototype.writeLongString=function(e,t){this._buff.writeUInt32LE(t,this._offset,!0),
this._offset+=4,this._buff.write(e,this._offset,t,"utf8"),this._offset+=t},e.prototype.readLongString=function(){var e=this._buff.readUInt32LE(this._offset,!0);this._offset+=4;var t=this._buff.toString("utf8",this._offset,this._offset+e);return this._offset+=e,t},e.sizeBuffer=function(e,t){return 4+t},e.prototype.writeBuffer=function(e,t){this._buff.writeUInt32LE(t,this._offset,!0),this._offset+=4,e.copy(this._buff,this._offset),this._offset+=t},e.prototype.readBuffer=function(){var e=this._buff.readUInt32LE(this._offset,!0);this._offset+=4;var t=this._buff.slice(this._offset,this._offset+e);return this._offset+=e,t},e.sizeMixedArray=function(e,t){var i=0;i+=1;for(var n=0,r=e.length;n<r;n++){var o=e[n],s=t[n];i+=1,i+="string"==typeof o?this.sizeLongString(o,s):this.sizeBuffer(o,s)}return i},e.prototype.writeMixedArray=function(e,t){this._buff.writeUInt8(e.length,this._offset,!0),this._offset+=1;for(var i=0,n=e.length;i<n;i++){var r=e[i],o=t[i];"string"==typeof r?(this.writeUInt8(1),
this.writeLongString(r,o)):(this.writeUInt8(2),this.writeBuffer(r,o))}},e.prototype.readMixedArray=function(){var e=this._buff.readUInt8(this._offset,!0);this._offset+=1;for(var t=new Array(e),i=0;i<e;i++){var n=this.readUInt8();t[i]=1===n?this.readLongString():this.readBuffer()}return t},e}(),y=function(){function e(){}return e._arrayContainsBuffer=function(e){for(var t=0,i=e.length;t<i;t++)if(Buffer.isBuffer(e[t]))return!0;return!1},e.serializeRequest=function(e,t,i,n,r,o){if(this._arrayContainsBuffer(n)){for(var s=new Array(n.length),a=new Array(n.length),c=0,l=n.length;c<l;c++){var u=n[c];Buffer.isBuffer(u)?(s[c]=u,a[c]=u.byteLength):(s[c]=d(u,o),a[c]=Buffer.byteLength(s[c],"utf8"))}return this._requestMixedArgs(e,t,i,s,a,r)}return this._requestJSONArgs(e,t,i,d(n,o),r)},e._requestJSONArgs=function(e,t,i,n,r){var o=Buffer.byteLength(i,"utf8"),s=Buffer.byteLength(n,"utf8"),a=0;a+=m.sizeUInt8(),a+=m.sizeShortString(i,o),a+=m.sizeLongString(n,s);var c=m.alloc(r?2:1,e,a);return c.writeUInt8(t),
c.writeShortString(i,o),c.writeLongString(n,s),c.buffer},e.deserializeRequestJSONArgs=function(e){var t=e.readUInt8(),i=e.readShortString(),n=e.readLongString();return{rpcId:t,method:i,args:JSON.parse(n)}},e._requestMixedArgs=function(e,t,i,n,r,o){var s=Buffer.byteLength(i,"utf8"),a=0;a+=m.sizeUInt8(),a+=m.sizeShortString(i,s),a+=m.sizeMixedArray(n,r);var c=m.alloc(o?4:3,e,a);return c.writeUInt8(t),c.writeShortString(i,s),c.writeMixedArray(n,r),c.buffer},e.deserializeRequestMixedArgs=function(e){for(var t=e.readUInt8(),i=e.readShortString(),n=e.readMixedArray(),r=new Array(n.length),o=0,s=n.length;o<s;o++){var a=n[o];r[o]="string"==typeof a?JSON.parse(a):a}return{rpcId:t,method:i,args:r}},e.serializeAcknowledged=function(e){return m.alloc(5,e,0).buffer},e.serializeCancel=function(e){return m.alloc(6,e,0).buffer},e.serializeReplyOK=function(e,t,i){return void 0===t?this._serializeReplyOKEmpty(e):Buffer.isBuffer(t)?this._serializeReplyOKBuffer(e,t):this._serializeReplyOKJSON(e,d(t,i))},
e._serializeReplyOKEmpty=function(e){return m.alloc(7,e,0).buffer},e._serializeReplyOKBuffer=function(e,t){var i=t.byteLength,n=0;n+=m.sizeBuffer(t,i);var r=m.alloc(8,e,n);return r.writeBuffer(t,i),r.buffer},e.deserializeReplyOKBuffer=function(e){return e.readBuffer()},e._serializeReplyOKJSON=function(e,t){var i=Buffer.byteLength(t,"utf8"),n=0;n+=m.sizeLongString(t,i);var r=m.alloc(9,e,n);return r.writeLongString(t,i),r.buffer},e.deserializeReplyOKJSON=function(e){var t=e.readLongString();return JSON.parse(t)},e.serializeReplyErr=function(e,t){return t instanceof Error?this._serializeReplyErrEror(e,t):this._serializeReplyErrEmpty(e)},e._serializeReplyErrEror=function(e,t){var i=d(o.transformErrorForSerialization(t),null),n=Buffer.byteLength(i,"utf8"),r=0;r+=m.sizeLongString(i,n);var s=m.alloc(10,e,r);return s.writeLongString(i,n),s.buffer},e.deserializeReplyErrError=function(e){var t=e.readLongString();return JSON.parse(t)},e._serializeReplyErrEmpty=function(e){return m.alloc(11,e,0).buffer},e}()}),
define(e[214],t([1,0,2,191,65,272,19,13,18,5,3,32,39,230,20,24,22,6,165,48,92,96,397,4,70,234,239,25,28,30,42,40,35,10,45,78,347,349,352,353,354,385]),function(e,t,n,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W,V,z,G,K,H,U,j){"use strict";function q(){return Y||(Y=l.normalize(l.join(u.getPathFromAmdModule(e,""),"..",".build","builtInExtensions"))),Y}function $(e){if(Array.isArray(e))return e;if(e&&"object"==typeof e&&"function"==typeof e.toString){var t=e.toString();if("[object Object]"!==t)return t}return e}Object.defineProperty(t,"__esModule",{value:!0});var Q=null,Y=null,X=function(){function e(e,t){this.builtInExtensions=e,this.control=t}return e.prototype.resolveExtensions=function(){for(var e=[],t=0,i=this.builtInExtensions;t<i.length;t++){var n=i[t],r=this.control[n.name]||"marketplace";switch(r){case"disabled":break;case"marketplace":e.push({name:n.name,path:l.join(q(),n.name)});break;default:e.push({name:n.name,path:r})}}return Promise.resolve(e)},e
}(),J=Object.hasOwnProperty,Z=Promise.resolve(void 0),ee=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s._remoteAuthority=i,s._instantiationService=r,s._environmentService=o,s._onDidChangeResponsiveState=s._register(new f.Emitter),s.onDidChangeResponsiveState=s._onDidChangeResponsiveState.event,s._extensionHostProcessFinishedActivateEvents=Object.create(null),s._extensionHostProcessRPCProtocol=null,s._extensionHostProcessCustomers=[],s._extensionHostProcessWorker=t,s.onDidCrash=s._extensionHostProcessWorker.onCrashed,s._extensionHostProcessProxy=s._extensionHostProcessWorker.start().then(function(e){return{value:s._createExtensionHostCustomers(e)}},function(e){return console.error("Error received from starting extension host"),console.error(e),null}),s._extensionHostProcessProxy.then(function(){n.forEach(function(e){return s.activateByEvent(e)})}),s}return i(t,e),t.prototype.dispose=function(){this._extensionHostProcessWorker&&this._extensionHostProcessWorker.dispose(),
this._extensionHostProcessRPCProtocol&&this._extensionHostProcessRPCProtocol.dispose();for(var t=0,i=this._extensionHostProcessCustomers.length;t<i;t++){var n=this._extensionHostProcessCustomers[t];try{n.dispose()}catch(e){h.onUnexpectedError(e)}}this._extensionHostProcessProxy=null,e.prototype.dispose.call(this)},t.prototype.canProfileExtensionHost=function(){return this._extensionHostProcessWorker&&Boolean(this._extensionHostProcessWorker.getInspectPort())},t.prototype._createExtensionHostCustomers=function(e){var t=this,i=null;this._environmentService.logExtensionHostCommunication&&(i=new ne),this._extensionHostProcessRPCProtocol=new j.RPCProtocol(e,i),this._register(this._extensionHostProcessRPCProtocol.onDidChangeResponsiveState(function(e){return t._onDidChangeResponsiveState.fire(e)}));for(var n={remoteAuthority:this._remoteAuthority,getProxy:function(e){return t._extensionHostProcessRPCProtocol.getProxy(e)},set:function(e,i){return t._extensionHostProcessRPCProtocol.set(e,i)},
assertRegistered:function(e){return t._extensionHostProcessRPCProtocol.assertRegistered(e)}},r=F.ExtHostCustomersRegistry.getNamedCustomers(),o=0,s=r.length;o<s;o++){var a=r[o],c=a[0],l=a[1],u=this._instantiationService.createInstance(l,n);this._extensionHostProcessCustomers.push(u),this._extensionHostProcessRPCProtocol.set(c,u)}for(var d=F.ExtHostCustomersRegistry.getCustomers(),o=0,s=d.length;o<s;o++){var l=d[o],u=this._instantiationService.createInstance(l,n);this._extensionHostProcessCustomers.push(u)}var p=Object.keys(N.MainContext).map(function(e){return N.MainContext[e]});return this._extensionHostProcessRPCProtocol.assertRegistered(p),this._extensionHostProcessRPCProtocol.getProxy(N.ExtHostContext.ExtHostExtensionService)},t.prototype.activateByEvent=function(e){var t=this;return this._extensionHostProcessFinishedActivateEvents[e]||!this._extensionHostProcessProxy?Z:this._extensionHostProcessProxy.then(function(t){return t?t.value.$activateByEvent(e):Z}).then(function(){
t._extensionHostProcessFinishedActivateEvents[e]=!0})},t.prototype.startExtensionHostProfile=function(){if(this._extensionHostProcessWorker){var e=this._extensionHostProcessWorker.getInspectPort();if(e)return this._instantiationService.createInstance(G.ExtensionHostProfiler,e).start()}throw new Error("Extension host not running or no inspect port available")},t.prototype.getInspectPort=function(){if(this._extensionHostProcessWorker){var e=this._extensionHostProcessWorker.getInspectPort();if(e)return e}return 0},t=r([o(3,T.IInstantiationService),o(4,w.IEnvironmentService)],t)}(g.Disposable);t.ExtensionHostProcessManager=ee,V.schema.properties.engines.properties.vscode.default="^"+A.default.version;var te=function(t){function g(e,i,r,o,s,a,c,u,d){var h=t.call(this)||this;return h._instantiationService=e,h._notificationService=i,h._environmentService=r,h._telemetryService=o,h._extensionEnablementService=s,h._storageService=a,h._windowService=c,h.extensionManagementService=d,
h._onDidChangeExtensionsStatus=h._register(new f.Emitter),h.onDidChangeExtensionsStatus=h._onDidChangeExtensionsStatus.event,h._onWillActivateByEvent=new f.Emitter,h.onWillActivateByEvent=h._onWillActivateByEvent.event,h._onDidChangeResponsiveChange=new f.Emitter,h.onDidChangeResponsiveChange=h._onDidChangeResponsiveChange.event,h._extensionHostLogsLocation=_.URI.file(l.posix.join(h._environmentService.logsPath,"exthost"+h._windowService.getCurrentWindowId())),h._registry=null,h._installedExtensionsReady=new p.Barrier,h._isDev=!h._environmentService.isBuilt||h._environmentService.isExtensionDevelopment,h._extensionsMessages={},h._allRequestedActivateEvents=Object.create(null),h._onDidRegisterExtensions=new f.Emitter,h._unresponsiveNotificationHandle=null,h._extensionHostProcessManagers=[],h._extensionHostProcessActivationTimes=Object.create(null),h._extensionHostExtensionRuntimeErrors=Object.create(null),h._startDelayed(u),
h._extensionEnablementService.allUserExtensionsDisabled&&h._notificationService.prompt(k.Severity.Info,n.localize("extensionsDisabled","All installed extensions are temporarily disabled. Reload the window to return to the previous state."),[{label:n.localize("Reload","Reload"),run:function(){h._windowService.reloadWindow()}}]),h}return i(g,t),g.prototype._startDelayed=function(e){var t=this;e.when(2).then(function(){p.runWhenIdle(function(){y.mark("willLoadExtensions"),t._scanAndHandleExtensions(),t._startExtensionHostProcess([]),t.whenInstalledExtensionsRegistered().then(function(){return y.mark("didLoadExtensions")})},50)})},g.prototype.dispose=function(){t.prototype.dispose.call(this),this._onWillActivateByEvent.dispose(),this._onDidChangeResponsiveChange.dispose()},Object.defineProperty(g.prototype,"onDidRegisterExtensions",{get:function(){return this._onDidRegisterExtensions.event},enumerable:!0,configurable:!0}),g.prototype.restartExtensionHost=function(){this._stopExtensionHostProcess(),
this._startExtensionHostProcess(Object.keys(this._allRequestedActivateEvents))},g.prototype.startExtensionHost=function(){this._startExtensionHostProcess(Object.keys(this._allRequestedActivateEvents))},g.prototype.stopExtensionHost=function(){this._stopExtensionHostProcess()},g.prototype._stopExtensionHostProcess=function(){for(var e=Object.keys(this._extensionHostProcessActivationTimes),t=0;t<this._extensionHostProcessManagers.length;t++)this._extensionHostProcessManagers[t].dispose();this._extensionHostProcessManagers=[],this._extensionHostProcessActivationTimes=Object.create(null),this._extensionHostExtensionRuntimeErrors=Object.create(null),e.length>0&&this._onDidChangeExtensionsStatus.fire(e)},g.prototype._startExtensionHostProcess=function(e){var t=this;this._stopExtensionHostProcess();var i=this._instantiationService.createInstance(z.ExtensionHostProcessWorker,this.getExtensions(),this._extensionHostLogsLocation),n=this._instantiationService.createInstance(ee,i,null,e);n.onDidCrash(function(e){
var i=e[0],n=e[1];return t._onExtensionHostCrashed(i,n)}),n.onDidChangeResponsiveState(function(e){return t._onResponsiveStateChanged(e,n)}),this._extensionHostProcessManagers.push(n)},g.prototype._onExtensionHostCrashed=function(e,t){var i=this;if(console.error("Extension host terminated unexpectedly. Code: ",e," Signal: ",t),this._stopExtensionHostProcess(),55!==e){var r=n.localize("extensionHostProcess.crash","Extension host terminated unexpectedly.");87===e&&(r=n.localize("extensionHostProcess.unresponsiveCrash","Extension host terminated because it was not responsive.")),this._notificationService.prompt(k.Severity.Error,r,[{label:n.localize("devTools","Open Developer Tools"),run:function(){return i._windowService.openDevTools()}},{label:n.localize("restart","Restart Extension Host"),run:function(){return i._startExtensionHostProcess(Object.keys(i._allRequestedActivateEvents))}}])
}else this._notificationService.prompt(k.Severity.Error,n.localize("extensionHostProcess.versionMismatchCrash","Extension host cannot start: version mismatch."),[{label:n.localize("relaunch","Relaunch VS Code"),run:function(){i._instantiationService.invokeFunction(function(e){e.get(L.IWindowsService).relaunch({})})}}])},g.prototype._onResponsiveStateChanged=function(e,t){var i=this;this._onDidChangeResponsiveChange.fire({target:t,isResponsive:0===e});if(this._isDev,0){this._unresponsiveNotificationHandle&&(this._unresponsiveNotificationHandle.close(),this._unresponsiveNotificationHandle=null);var r={keepOpen:!0,label:n.localize("extensionHostProcess.unresponsive.inspect","Show running extensions"),run:function(){i._instantiationService.invokeFunction(function(e){e.get(B.IEditorService).openEditor(i._instantiationService.createInstance(K.RuntimeExtensionsInput),{revealIfOpened:!0})})}},o={label:n.localize("extensionHostProcess.unresponsive.restart","Restart Extension Host"),run:function(){
i.restartExtensionHost()}};this._unresponsiveNotificationHandle=1===e?this._notificationService.prompt(k.Severity.Warning,n.localize("extensionHostProcess.unresponsive","Extension Host is unresponsive."),[r,o]):this._notificationService.prompt(k.Severity.Info,n.localize("extensionHostProcess.responsive","Extension Host is now responsive."),[r])}},g.prototype.activateByEvent=function(e){var t=this;return this._installedExtensionsReady.isOpen()?this._registry.containsActivationEvent(e)?(this._allRequestedActivateEvents[e]=!0,this._activateByEvent(e)):Z:(this._allRequestedActivateEvents[e]=!0,this._installedExtensionsReady.wait().then(function(){return t._activateByEvent(e)}))},g.prototype._activateByEvent=function(e){var t=Promise.all(this._extensionHostProcessManagers.map(function(t){return t.activateByEvent(e)})).then(function(){});return this._onWillActivateByEvent.fire({event:e,activation:t}),t},g.prototype.whenInstalledExtensionsRegistered=function(){return this._installedExtensionsReady.wait()},
g.prototype.getExtensions=function(){var e=this;return this._installedExtensionsReady.wait().then(function(){return e._registry.getAllExtensionDescriptions()})},g.prototype.readExtensionPointContributions=function(e){var t=this;return this._installedExtensionsReady.wait().then(function(){for(var i=t._registry.getAllExtensionDescriptions(),n=[],r=0,o=0,s=i.length;o<s;o++){var a=i[o];a.contributes&&J.call(a.contributes,e.name)&&(n[r++]=new W.ExtensionPointContribution(a,a.contributes[e.name]))}return n})},g.prototype.getExtensionsStatus=function(){var e=Object.create(null);if(this._registry)for(var t=this._registry.getAllExtensionDescriptions(),i=0,n=t.length;i<n;i++){var r=t[i].id;e[r]={messages:this._extensionsMessages[r],activationTimes:this._extensionHostProcessActivationTimes[r],runtimeErrors:this._extensionHostExtensionRuntimeErrors[r]}}return e},g.prototype.canProfileExtensionHost=function(){for(var e=0,t=this._extensionHostProcessManagers.length;e<t;e++){
if(this._extensionHostProcessManagers[e].canProfileExtensionHost())return!0}return!1},g.prototype.startExtensionHostProfile=function(){for(var e=0,t=this._extensionHostProcessManagers.length;e<t;e++){var i=this._extensionHostProcessManagers[e];if(i.canProfileExtensionHost())return i.startExtensionHostProfile()}throw new Error("Extension host not running or no inspect port available")},g.prototype.getInspectPort=function(){return this._extensionHostProcessManagers.length>0?this._extensionHostProcessManagers[0].getInspectPort():0},g.prototype._scanAndHandleExtensions=function(){var e=this;this._scanExtensions().then(function(t){return e._getRuntimeExtensions(t)}).then(function(t){e._registry=new H.ExtensionDescriptionRegistry(t);for(var i=e._registry.getAllExtensionDescriptions(),n=V.ExtensionsRegistry.getExtensionPoints(),r=function(t){return e._handleExtensionPointMessage(t)},o=0,s=n.length;o<s;o++)g._handleExtensionPoint(n[o],i,r);y.mark("extensionHostReady"),e._installedExtensionsReady.open(),
e._onDidRegisterExtensions.fire(void 0),e._onDidChangeExtensionsStatus.fire(i.map(function(e){return e.id}))})},g.prototype._scanExtensions=function(){var e=this,t=new re(function(t,i,n){e._logOrShowMessage(t,e._isDev?function(e,t){return e?"["+e+"]: "+t:t}(i,n):n)});return g._scanInstalledExtensions(this._windowService,this._notificationService,this._environmentService,this._extensionEnablementService,t).then(function(e){var i=e.system,r=e.user,o=e.development,s={};return i.forEach(function(e){s[e.id]=e}),r.forEach(function(e){s.hasOwnProperty(e.id)&&t.warn(e.extensionLocation.fsPath,n.localize("overwritingExtension","Overwriting extension {0} with {1}.",s[e.id].extensionLocation.fsPath,e.extensionLocation.fsPath)),s[e.id]=e}),o.forEach(function(e){t.info("",n.localize("extensionUnderDevelopment","Loading development extension at {0}",e.extensionLocation.fsPath)),
s.hasOwnProperty(e.id)&&t.warn(e.extensionLocation.fsPath,n.localize("overwritingExtension","Overwriting extension {0} with {1}.",s[e.id].extensionLocation.fsPath,e.extensionLocation.fsPath)),s[e.id]=e}),Object.keys(s).map(function(e){return s[e]})})},g.prototype._getRuntimeExtensions=function(e){var t=this;return this._extensionEnablementService.getDisabledExtensions().then(function(i){var r={},o=[],s=[{id:x.BetterMergeId}],a=t._environmentService.args["enable-proposed-api"]||[];if(a.length){(a instanceof Array?a:[a]).forEach(function(t){e.some(function(e){return e.id===t})||console.error(function(e){return n.localize("notFound","Extension `{0}` cannot use PROPOSED API as it cannot be found",e)}(t))})}for(var c=(!t._environmentService.isBuilt||!!t._environmentService.extensionDevelopmentLocationURI&&O.default.nameLong.indexOf("Insiders")>=0||0===a.length&&"enable-proposed-api"in t._environmentService.args),l=function(e){
if(!(t._environmentService.isExtensionDevelopment&&b.isEqualOrParent(e.extensionLocation,t._environmentService.extensionDevelopmentLocationURI))&&i.some(function(t){return x.areSameExtensions(t,e)}))return"continue";if(!e.isBuiltin){var n=s.filter(function(t){return x.areSameExtensions(t,{id:e.id})})[0];if(n)return o.push(n),"continue"}r[e.id]=t._updateEnableProposedApi(e,c,a)},u=0,d=e;u<d.length;u++){l(d[u])}var p=Object.keys(r).map(function(e){return r[e]});return t._telemetryService.publicLog("extensionsScanned",{totalCount:p.length,disabledCount:i.length}),o.length?t.extensionManagementService.getInstalled(1).then(function(e){var i=e.filter(function(e){return o.some(function(t){return x.areSameExtensions({id:x.getGalleryExtensionIdFromLocal(e)},t)})});return Promise.all(i.map(function(e){return t._extensionEnablementService.setEnablement(e,0)}))}).then(function(){return t._storageService.store(x.BetterMergeDisabledNowKey,!0,0),p}):p})},g.prototype._updateEnableProposedApi=function(e,t,i){
return!d.isFalsyOrEmpty(O.default.extensionAllowedProposedApi)&&O.default.extensionAllowedProposedApi.indexOf(e.id)>=0?e.enableProposedApi=!0:e.enableProposedApi&&!e.isBuiltin&&(!t&&i.indexOf(e.id)<0?(e.enableProposedApi=!1,console.error("Extension '"+e.id+" cannot use PROPOSED API (must started out of dev or enabled via --enable-proposed-api)")):console.warn("Extension '"+e.id+"' uses PROPOSED API which is subject to change and removal without notice.")),e},g.prototype._handleExtensionPointMessage=function(e){this._extensionsMessages[e.extensionId]||(this._extensionsMessages[e.extensionId]=[]),this._extensionsMessages[e.extensionId].push(e);var t=this._registry.getExtensionDescription(e.extensionId),i="["+e.extensionId+"]: "+e.message;if(t&&t.isUnderDevelopment?this._showMessageToUser(e.type,i):this._logMessageInConsole(e.type,i),!this._isDev&&e.extensionId){var n=e.type,r=e.extensionId,o=e.extensionPointId,s=e.message;this._telemetryService.publicLog("extensionsMessage",{type:n,extensionId:r,
extensionPointId:o,message:s})}},g._validateExtensionsCache=function(e,t,i,r,o){return s(this,void 0,void 0,function(){var s,c,u,d,p,f,g,v,y,S;return a(this,function(a){switch(a.label){case 0:return s=l.join(i.userDataPath,D.MANIFEST_CACHE_FOLDER),c=l.join(s,r),p=(d=JSON).parse,g=(f=JSON).stringify,[4,U.ExtensionScanner.scanExtensions(o,new se)];case 1:return u=p.apply(d,[g.apply(f,[a.sent()])]),[4,this._readExtensionCache(i,r)];case 2:if(!(v=a.sent()))return[2];if(y=v.result,m.equals(u,y))return[2];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,C.del(c)];case 4:return a.sent(),[3,6];case 5:return S=a.sent(),h.onUnexpectedError(S),console.error(S),[3,6];case 6:return t.prompt(k.Severity.Error,n.localize("extensionCache.invalid","Extensions have been modified on disk. Please reload the window."),[{label:n.localize("reloadWindow","Reload Window"),run:function(){return e.reloadWindow()}}]),[2]}})})},g._readExtensionCache=function(e,t){return s(this,void 0,void 0,function(){var i,n,r,o
;return a(this,function(s){switch(s.label){case 0:i=l.join(e.userDataPath,D.MANIFEST_CACHE_FOLDER),n=l.join(i,t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,C.readFile(n,"utf8")];case 2:return r=s.sent(),[2,JSON.parse(r)];case 3:return o=s.sent(),[3,4];case 4:return[2,null]}})})},g._writeExtensionCache=function(e,t,i){return s(this,void 0,void 0,function(){var n,r,o,s;return a(this,function(a){switch(a.label){case 0:n=l.join(e.userDataPath,D.MANIFEST_CACHE_FOLDER),r=l.join(n,t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,C.mkdirp(n)];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),[3,4];case 4:return a.trys.push([4,6,,7]),[4,C.writeFile(r,JSON.stringify(i))];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),[3,7];case 7:return[2]}})})},g._scanExtensionsWithCache=function(e,t,i,n,r,o){return s(this,void 0,void 0,function(){var c,l,u,d,p,f,g=this;return a(this,function(v){switch(v.label){case 0:if(r.devMode)return[2,U.ExtensionScanner.scanExtensions(r,o)];v.label=1;case 1:
return v.trys.push([1,3,,4]),[4,C.stat(r.absoluteFolderPath)];case 2:return c=v.sent(),r.mtime=c.mtime.getTime(),[3,4];case 3:return l=v.sent(),[3,4];case 4:return[4,this._readExtensionCache(i,n)];case 5:return(u=v.sent())&&u.input&&U.ExtensionScannerInput.equals(u.input,r)?(setTimeout(function(){return s(g,void 0,void 0,function(){var o;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this._validateExtensionsCache(e,t,i,n,r)];case 1:return s.sent(),[3,3];case 2:return o=s.sent(),h.onUnexpectedError(o),[3,3];case 3:return[2]}})})},5e3),[2,u.result.map(function(e){return e.extensionLocation=_.URI.revive(e.extensionLocation),e})]):(d=new oe(o),[4,U.ExtensionScanner.scanExtensions(r,d)]);case 6:return p=v.sent(),0!==d.errorCnt?[3,8]:(f={input:r,result:p},[4,this._writeExtensionCache(i,n,f)]);case 7:v.sent(),v.label=8;case 8:return[2,p]}})})},g._scanInstalledExtensions=function(t,i,n,r,o){var s=this
;return(S.translationsConfigFile?C.readFile(S.translationsConfigFile,"utf8").then(function(e){try{return JSON.parse(e)}catch(e){return Object.create(null)}},function(e){return Object.create(null)}):Promise.resolve(Object.create(null))).then(function(a){var d=A.default.version,p=O.default.commit,h=!!process.env.VSCODE_DEV,f=S.locale,g=s._scanExtensionsWithCache(t,i,n,D.BUILTIN_MANIFEST_CACHE_FILE,new U.ExtensionScannerInput(d,p,f,h,(Q||(Q=l.normalize(l.join(u.getPathFromAmdModule(e,""),"..","extensions"))),Q),!0,!1,a),o),m=g;if(h){var y=l.normalize(l.join(u.getPathFromAmdModule(e,""),"..","build","builtInExtensions.json")),E=C.readFile(y,"utf8").then(function(e){return JSON.parse(e)}),_=l.join(c.homedir(),".vscode-oss-dev","extensions","control.json"),w=C.readFile(_,"utf8").then(function(e){return JSON.parse(e)},function(){return{}}),I=new U.ExtensionScannerInput(d,p,f,h,q(),!0,!1,a),x=Promise.all([E,w]).then(function(e){var t=e[0],i=e[1];return new X(t,i)}).then(function(e){
return U.ExtensionScanner.scanExtensions(I,o,e)});m=Promise.all([g,x]).then(function(e){for(var t=e[0],i=e[1],n=Object.create(null),r=0,o=t.length;r<o;r++)n[t[r].id]=t[r];for(var r=0,o=i.length;r<o;r++)n[i[r].id]=i[r];var s=Object.keys(n).map(function(e){return n[e]});return s.sort(function(e,t){var i=l.basename(e.extensionLocation.fsPath),n=l.basename(t.extensionLocation.fsPath);return i<n?-1:i>n?1:0}),s})}var T=r.allUserExtensionsDisabled||!n.extensionsPath?Promise.resolve([]):s._scanExtensionsWithCache(t,i,n,D.USER_MANIFEST_CACHE_FILE,new U.ExtensionScannerInput(d,p,f,h,n.extensionsPath,!1,!1,a),o),R=Promise.resolve([]);return n.isExtensionDevelopment&&n.extensionDevelopmentLocationURI.scheme===v.Schemas.file&&(R=U.ExtensionScanner.scanOneOrMultipleExtensions(new U.ExtensionScannerInput(d,p,f,h,b.fsPath(n.extensionDevelopmentLocationURI),!1,!0,a),o)),Promise.all([m,T,R]).then(function(e){return{system:e[0],user:e[1],development:e[2]}}).then(null,function(e){return o.error("",e),{system:[],user:[],
development:[]}})})},g._handleExtensionPoint=function(e,t,i){for(var n=[],r=0,o=0,s=t.length;o<s;o++){var a=t[o];a.contributes&&J.call(a.contributes,e.name)&&(n[r++]={description:a,value:a.contributes[e.name],collector:new V.ExtensionMessageCollector(i,a,e.name)})}e.acceptUsers(n)},g.prototype._showMessageToUser=function(e,t){e===k.Severity.Error||e===k.Severity.Warning?this._notificationService.notify({severity:e,message:t}):this._logMessageInConsole(e,t)},g.prototype._logMessageInConsole=function(e,t){e===k.Severity.Error?console.error(t):e===k.Severity.Warning?console.warn(t):console.log(t)},g.prototype._logOrShowMessage=function(e,t){this._isDev?this._showMessageToUser(e,t):this._logMessageInConsole(e,t)},g.prototype._onExtensionActivated=function(e,t,i,n,r,o){this._extensionHostProcessActivationTimes[e]=new W.ActivationTimes(t,i,n,r,o),this._onDidChangeExtensionsStatus.fire([e])},g.prototype._onExtensionRuntimeError=function(e,t){
this._extensionHostExtensionRuntimeErrors[e]||(this._extensionHostExtensionRuntimeErrors[e]=[]),this._extensionHostExtensionRuntimeErrors[e].push(t),this._onDidChangeExtensionsStatus.fire([e])},g.prototype._addMessage=function(e,t,i){this._extensionsMessages[e]||(this._extensionsMessages[e]=[]),this._extensionsMessages[e].push({type:t,message:i,extensionId:null,extensionPointId:null}),this._onDidChangeExtensionsStatus.fire([e])},g=r([o(0,T.IInstantiationService),o(1,k.INotificationService),o(2,w.IEnvironmentService),o(3,P.ITelemetryService),o(4,I.IExtensionEnablementService),o(5,M.IStorageService),o(6,L.IWindowService),o(7,R.ILifecycleService),o(8,I.IExtensionManagementService)],g)}(g.Disposable);t.ExtensionService=te;var ie=[["#2977B1","#FC802D","#34A13A","#D3282F","#9366BA"],["#8B564C","#E177C0","#7F7F7F","#BBBE3D","#2EBECD"]],ne=function(){function e(){this._totalIncoming=0,this._totalOutgoing=0}return e.prototype._log=function(e,t,i,n,r,o,s){s=function(e){return Array.isArray(e)?e.map($):$(e)}(s)
;var a=ie[r],c=a[n%a.length],l=["%c["+e+"]%c["+E.pad(t,7," ")+"]%c[len: "+E.pad(i,5," ")+"]%c"+E.pad(n,5," ")+" - "+o,"color: darkgreen","color: grey","color: grey","color: "+c];/\($/.test(o)?(l=l.concat(s)).push(")"):l.push(s),console.log.apply(console,l)},e.prototype.logIncoming=function(e,t,i,n,r){this._totalIncoming+=e,this._log("Ext  Win",this._totalIncoming,e,t,i,n,r)},e.prototype.logOutgoing=function(e,t,i,n,r){this._totalOutgoing+=e,this._log("Win  Ext",this._totalOutgoing,e,t,i,n,r)},e}(),re=function(){function e(e){this._messageHandler=e}return e.prototype.error=function(e,t){this._messageHandler(k.Severity.Error,e,t)},e.prototype.warn=function(e,t){this._messageHandler(k.Severity.Warning,e,t)},e.prototype.info=function(e,t){this._messageHandler(k.Severity.Info,e,t)},e}();t.Logger=re;var oe=function(){function e(e){this._actual=e,this.errorCnt=0,this.warnCnt=0,this.infoCnt=0}return e.prototype.error=function(e,t){this._actual.error(e,t)},e.prototype.warn=function(e,t){this._actual.warn(e,t)},
e.prototype.info=function(e,t){this._actual.info(e,t)},e}(),se=function(){function e(){}return e.prototype.error=function(e,t){},e.prototype.warn=function(e,t){},e.prototype.info=function(e,t){},e}()}),define(e[387],t([1,0,40,35,45,214]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){t instanceof a.ExtensionService&&(this._extensionService=t)}return e.prototype.dispose=function(){},e.prototype.$localShowMessage=function(e,t){this._extensionService._logOrShowMessage(e,t)},e.prototype.$onExtensionActivated=function(e,t,i,n,r,o){this._extensionService._onExtensionActivated(e,t,i,n,r,o)},e.prototype.$onExtensionRuntimeError=function(e,t){var i=new Error;i.name=t.name,i.message=t.message,i.stack=t.stack,this._extensionService._onExtensionRuntimeError(e,i),console.error("["+e+"]"+i.message),console.error(i.stack)},e.prototype.$onExtensionActivationFailed=function(e){},e.prototype.$addMessage=function(e,t,i){
this._extensionService._addMessage(e,t,i)},e=r([i.extHostNamedCustomer(n.MainContext.MainThreadExtensionService),o(1,s.IExtensionService)],e)}();t.MainThreadExtensionService=c}),define(e[388],t([1,0,6,16,20]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFileChangesEvent=function(e){return new n.FileChangesEvent(e.map(function(e){return{type:e.type,resource:i.URI.file(e.path)}}))},t.normalize=function(e){for(var t=new o,i=0;i<e.length;i++){var n=e[i];t.processEvent(n)}return t.normalize()};var o=function(){function e(){this.normalized=[],this.mapPathToChange=Object.create(null)}return e.prototype.processEvent=function(e){var t=this.mapPathToChange[e.path];if(t){var i=t.type,n=e.type;1===i&&2===n?(delete this.mapPathToChange[e.path],this.normalized.splice(this.normalized.indexOf(t),1)):2===i&&1===n?t.type=0:1===i&&0===n||(t.type=n)}else this.normalized.push(e),this.mapPathToChange[e.path]=e},e.prototype.normalize=function(){var e=[],t=[]
;return this.normalized.filter(function(t){return 2===t.type||(e.push(t),!1)}).sort(function(e,t){return e.path.length-t.path.length}).filter(function(e){return!t.some(function(t){return n.isParent(e.path,t,!r.isLinux)})&&(t.push(e.path),!0)}).concat(e)},e}()}),define(e[389],t([1,0,269,270,6,16,15,3,5,100,65,32,33,388,44,13,70,372]),function(e,t,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C){"use strict";function w(e){var t=this;return new p.TPromise(function(i,n){c.stat(e.fsPath,function(r,o){return s(t,void 0,void 0,function(){var t,s,l;return a(this,function(a){switch(a.label){case 0:return r?[2,n(r)]:(t=[],o.isDirectory()&&(s=c.readdirSync(e.fsPath)).forEach(function(i){var n=y.join(e.fsPath,i);t.push(u.URI.file(n))}),[4,Promise.all(t.map(w))]);case 1:return l=a.sent(),[2,i({isDirectory:o.isDirectory(),mtime:o.mtime.getTime(),size:o.size,resource:e,name:v.basename(e.fsPath),etag:void 0,children:l})]}})})})})}Object.defineProperty(t,"__esModule",{value:!0});var I=function(e,t){return t?{isDirectory:!1,
resource:u.URI.file(e),etag:void 0,mtime:new Date(t.updatedAt).getTime(),name:v.basename(e)}:{isDirectory:!0,resource:u.URI.file(e),etag:void 0,mtime:(new Date).getTime(),name:e}},x=function(e){function t(i,n){var r=e.call(this)||this;return r.codesandboxService=i,r.lifecycleService=n,r._onFileChanges=r._register(new f.Emitter),r._onAfterOperation=r._register(new f.Emitter),r._onDidChangeFileSystemProviderRegistrations=r._register(new f.Emitter),r.activeFileChangesWatchers=new b.ResourceMap,r.fileChangesWatchDelayer=new E.ThrottledDelayer(t.FS_EVENT_DELAY),r.undeliveredRawFileChangesEvents=[],r.registerListeners(),r}return i(t,e),Object.defineProperty(t.prototype,"onFileChanges",{get:function(){return this._onFileChanges.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onAfterOperation",{get:function(){return this._onAfterOperation.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeFileSystemProviderRegistrations",{get:function(){
return this._onDidChangeFileSystemProviderRegistrations.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){this.lifecycleService.when(3).then(function(){}),this.lifecycleService.onShutdown(this.dispose,this)},t.prototype.registerProvider=function(e,t){throw new Error("Method not implemented.")},t.prototype.canHandleResource=function(e){return e.scheme===m.Schemas.file},t.prototype.resolveFile=function(e,t){return w(e)},t.prototype.resolveFiles=function(e){return p.TPromise.join(e.map(function(e){return w(e.resource)})).then(function(e){return e.map(function(e){return{success:!0,stat:e}})})},t.prototype.existsFile=function(e){return new p.TPromise(function(t){c.stat(e.fsPath,function(e,i){t(e?!1:!0)})})},t.prototype.resolveContent=function(e,t){return new p.TPromise(function(i,n){c.stat(e.fsPath,function(r,o){if(r)return n("ENOENT"===r.code?new d.FileOperationError("File not found ("+e.toString(!0)+")",2,t):r);c.readFile(e.fsPath,function(r,s){var a=C.detectEncodingFromBuffer({
buffer:s,bytesRead:s.length},t.autoGuessEncoding).seemsBinary;if(a&&t.acceptTextOnly)n(new d.FileOperationError("Binary",0,t));else{var c=a?"base64":"utf8";i({encoding:c,value:s.toString(c),name:v.basename(e.fsPath),resource:u.URI.file(e.fsPath),etag:void 0,isReadonly:!1,mtime:o.mtime.getTime()})}})})})},t.prototype.resolveStreamContent=function(e,t){return this.resolveContent(e,t).then(function(e){return n({},e,{value:function(e){return{on:function(t,i){"data"===t&&i(e),"end"===t&&i()}}}(e.value)})})},t.prototype.updateContent=function(e,t,i){var n=this;if(void 0===t&&(t=""),0!==e.fsPath.indexOf("/sandbox/")){var r=t.read?t.read():t;return new p.TPromise(function(t,i){c.writeFile(e.fsPath,r,function(n){n&&i(n),c.stat(e.fsPath,function(i,n){t({isDirectory:n.isDirectory(),resource:u.URI.file(e.fsPath),etag:void 0,mtime:n.mtime.getTime(),name:v.basename(e.fsPath)})})})})}var o=this.codesandboxService.getFilesByPath()[e.fsPath],s=t.read?t.read():t,a="cb-"+Math.floor(1e4*Math.random())
;return c.writeFileSync(e.fsPath,s),new p.TPromise(function(t,i){var r;window.cbs=window.cbs||{},window.cbs[a]=function(r,o){if(r)return i(null);var s=n.codesandboxService.getFilesByPath()[e.fsPath];t(I(e.fsPath,s))},o?n.codesandboxService.runSignal("editor.codeSaved",{cbID:a,code:s,moduleShortid:o.shortid}):n.codesandboxService.runSignal("files.createModulesByPath",{cbID:a,files:(r={},r[e.fsPath.replace(/^\/sandbox/,"")]={isBinary:!1,content:s},r)})})},t.prototype.moveFile=function(e,t,i){var n=this.codesandboxService.getFilesByPath()[t.fsPath];return p.TPromise.as(I(t.fsPath,n))},t.prototype.copyFile=function(e,t,i){throw new Error("copyFile not implemented.")},t.prototype.createFile=function(e,t,i){return this.codesandboxService.getFilesByPath()[e.fsPath]&&!i.overwrite?p.TPromise.wrapError(new d.FileOperationError("File to create already exists ("+e.toString()+")",4,i)):this.updateContent(e,t)},t.prototype.createFolder=function(e){if(0===e.fsPath.indexOf("/vscode")){try{c.mkdirSync(e.fsPath)}catch(e){}
return w(e)}throw new Error("createFolder not implemented.")},t.prototype.del=function(e,t){throw new Error("del not implemented.")},t.prototype.watchFileChanges=function(e){var i=this;if(e&&e.scheme===m.Schemas.file){var n=this.activeFileChangesWatchers.get(e);if(n)n.count+=1;else{var r=e.fsPath,o=v.basename(e.fsPath),s=l.watch(r,function(n,a){(a&&a!==o||"rename"===n)&&(s.dispose(),i.activeFileChangesWatchers.delete(e),setTimeout(function(){i.existsFile(e).then(function(t){t?i.watchFileChanges(e):i.onRawFileChange({type:2,path:r})})},t.FS_REWATCH_DELAY)),i.onRawFileChange({type:0,path:r})},function(e){return new Error(e)});this.activeFileChangesWatchers.set(e,{count:1,unwatch:function(){return s.dispose()}})}}},t.prototype.onRawFileChange=function(e){var t=this;this.undeliveredRawFileChangesEvents.push(e),this.fileChangesWatchDelayer.trigger(function(){var e=t.undeliveredRawFileChangesEvents;t.undeliveredRawFileChangesEvents=[];var i=S.normalize(e);return t._onFileChanges.fire(S.toFileChangesEvent(i)),
p.TPromise.as(null)})},t.prototype.unwatchFileChanges=function(e){var t=this.activeFileChangesWatchers.get(e);t&&0==--t.count&&(t.unwatch(),this.activeFileChangesWatchers.delete(e))},t.FS_EVENT_DELAY=500,t.FS_REWATCH_DELAY=300,t=r([o(0,g.ICodeSandboxService),o(1,_.ILifecycleService)],t)}(h.Disposable);t.CodeSandboxFileService=x}),define(e[41],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEditorGroupsService=i.createDecorator("editorGroupsService"),t.preferredSideBySideGroupDirection=function(e){return"down"===e.getValue("workbench.editor.openSideBySideDirection")?1:3}}),define(e[216],t([1,0,2,18,3,39,6,112,83,34,135,35,260,10,41]),function(e,t,i,n,s,a,c,l,u,d,p,h,f,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(t,i,n,r,o,s){var a=this;this._codeEditorService=n,this._bulkEditService=r,this._editorService=o,this._editorGroupService=s,this._instanceId=String(++e.INSTANCE_COUNT),
this._proxy=i.getProxy(h.ExtHostContext.ExtHostEditors),this._documentsAndEditors=t,this._toDispose=[],this._textEditorsListenersMap=Object.create(null),this._editorPositionData=null,this._toDispose.push(t.onTextEditorAdd(function(e){return e.forEach(a._onTextEditorAdd,a)})),this._toDispose.push(t.onTextEditorRemove(function(e){return e.forEach(a._onTextEditorRemove,a)})),this._toDispose.push(this._editorService.onDidVisibleEditorsChange(function(){return a._updateActiveAndVisibleTextEditors()})),this._toDispose.push(this._editorGroupService.onDidRemoveGroup(function(){return a._updateActiveAndVisibleTextEditors()})),this._toDispose.push(this._editorGroupService.onDidMoveGroup(function(){return a._updateActiveAndVisibleTextEditors()})),this._registeredDecorationTypes=Object.create(null)}return e.prototype.dispose=function(){var e=this;Object.keys(this._textEditorsListenersMap).forEach(function(t){s.dispose(e._textEditorsListenersMap[t])}),this._textEditorsListenersMap=Object.create(null),
this._toDispose=s.dispose(this._toDispose);for(var t in this._registeredDecorationTypes)this._codeEditorService.removeDecorationType(t);this._registeredDecorationTypes=Object.create(null)},e.prototype._onTextEditorAdd=function(e){var t=this,i=e.getId(),n=[];n.push(e.onPropertiesChanged(function(e){t._proxy.$acceptEditorPropertiesChanged(i,e)})),this._textEditorsListenersMap[i]=n},e.prototype._onTextEditorRemove=function(e){s.dispose(this._textEditorsListenersMap[e]),delete this._textEditorsListenersMap[e]},e.prototype._updateActiveAndVisibleTextEditors=function(){var e=this._getTextEditorPositionData();a.equals(this._editorPositionData,e)||(this._editorPositionData=e,this._proxy.$acceptEditorPositionData(this._editorPositionData))},e.prototype._getTextEditorPositionData=function(){for(var e=Object.create(null),t=0,i=this._editorService.visibleControls;t<i.length;t++){var n=i[t],r=this._documentsAndEditors.findTextEditorIdFor(n);r&&(e[r]=f.editorGroupToViewColumn(this._editorGroupService,n.group))}return e},
e.prototype.$tryShowTextDocument=function(e,t){var i=this,n={resource:c.URI.revive(e),options:{preserveFocus:t.preserveFocus,pinned:t.pinned,selection:t.selection}};return this._editorService.openEditor(n,f.viewColumnToEditorGroup(this._editorGroupService,t.position)).then(function(e){if(e)return i._documentsAndEditors.findTextEditorIdFor(e)})},e.prototype.$tryShowEditor=function(e,t){var i=this._documentsAndEditors.getEditor(e);if(i){var n=i.getModel();return this._editorService.openEditor({resource:n.uri,options:{preserveFocus:!1}},f.viewColumnToEditorGroup(this._editorGroupService,t)).then(function(){})}},e.prototype.$tryHideEditor=function(e){var t=this._documentsAndEditors.getEditor(e);if(t)for(var i=0,n=this._editorService.visibleControls;i<n.length;i++){var r=n[i];if(t.matches(r))return r.group.closeEditor(r.input).then(function(){})}},e.prototype.$trySetSelections=function(e,t){return this._documentsAndEditors.getEditor(e)?(this._documentsAndEditors.getEditor(e).setSelections(t),
Promise.resolve(null)):Promise.reject(n.disposed("TextEditor("+e+")"))},e.prototype.$trySetDecorations=function(e,t,i){return t=this._instanceId+"-"+t,this._documentsAndEditors.getEditor(e)?(this._documentsAndEditors.getEditor(e).setDecorations(t,i),Promise.resolve(null)):Promise.reject(n.disposed("TextEditor("+e+")"))},e.prototype.$trySetDecorationsFast=function(e,t,i){return t=this._instanceId+"-"+t,this._documentsAndEditors.getEditor(e)?(this._documentsAndEditors.getEditor(e).setDecorationsFast(t,i),Promise.resolve(null)):Promise.reject(n.disposed("TextEditor("+e+")"))},e.prototype.$tryRevealRange=function(e,t,i){if(!this._documentsAndEditors.getEditor(e))return Promise.reject(n.disposed("TextEditor("+e+")"));this._documentsAndEditors.getEditor(e).revealRange(t,i)},e.prototype.$trySetOptions=function(e,t){return this._documentsAndEditors.getEditor(e)?(this._documentsAndEditors.getEditor(e).setConfiguration(t),Promise.resolve(null)):Promise.reject(n.disposed("TextEditor("+e+")"))},
e.prototype.$tryApplyEdits=function(e,t,i,r){return this._documentsAndEditors.getEditor(e)?Promise.resolve(this._documentsAndEditors.getEditor(e).applyEdits(t,i,r)):Promise.reject(n.disposed("TextEditor("+e+")"))},e.prototype.$tryApplyWorkspaceEdit=function(e){var t=h.reviveWorkspaceEditDto(e).edits;return this._bulkEditService.apply({edits:t},void 0).then(function(){return!0},function(e){return!1})},e.prototype.$tryInsertSnippet=function(e,t,i,r){return this._documentsAndEditors.getEditor(e)?Promise.resolve(this._documentsAndEditors.getEditor(e).insertSnippet(t,i,r)):Promise.reject(n.disposed("TextEditor("+e+")"))},e.prototype.$registerTextEditorDecorationType=function(e,t){e=this._instanceId+"-"+e,this._registeredDecorationTypes[e]=!0,this._codeEditorService.registerDecorationType(e,t)},e.prototype.$removeTextEditorDecorationType=function(e){e=this._instanceId+"-"+e,delete this._registeredDecorationTypes[e],this._codeEditorService.removeDecorationType(e)},e.prototype.$getDiffInformation=function(e){
var t=this._documentsAndEditors.getEditor(e);if(!t)return Promise.reject(new Error("No such TextEditor"));var i=t.getCodeEditor(),n=i.getId(),r=this._codeEditorService.listDiffEditors().filter(function(e){return e.getOriginalEditor().getId()===n||e.getModifiedEditor().getId()===n})[0];if(r)return Promise.resolve(r.getLineChanges());var o=i.getContribution("editor.contrib.dirtydiff");return o?Promise.resolve(o.getChanges()):Promise.resolve([])},e.INSTANCE_COUNT=0,e=r([o(2,u.ICodeEditorService),o(3,l.IBulkEditService),o(4,g.IEditorService),o(5,v.IEditorGroupsService)],e)}();t.MainThreadTextEditors=m,d.CommandsRegistry.registerCommand("_workbench.open",function(e,t){var i=e.get(g.IEditorService),n=e.get(v.IEditorGroupsService),r=e.get(p.IOpenerService),o=t[0],s=t[1],a=t[2],c=t[3];return s||"number"==typeof a?i.openEditor({resource:o,options:s,label:c},f.viewColumnToEditorGroup(n,a)).then(function(e){}):o&&"command"===o.scheme?Promise.resolve(void 0):r.open(o).then(function(e){})}),
d.CommandsRegistry.registerCommand("_workbench.diff",function(e,t){var n=e.get(g.IEditorService),r=e.get(v.IEditorGroupsService),o=t[0],s=t[1],a=t[2],c=t[3],l=t[4],u=t[5];return l&&"object"==typeof l||(l={preserveFocus:!1}),a||(a=i.localize("diffLeftRightLabel","{0}  {1}",o.toString(!0),s.toString(!0))),n.openEditor({leftResource:o,rightResource:s,label:a,description:c,options:l},f.viewColumnToEditorGroup(r,u)).then(function(){})})}),define(e[393],t([1,0,2,7,14,26,47,3,34,41,541]),function(e,t,n,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r.toDispose=[],r.class="flip-editor-layout",r.updateEnablement(),r.registerListeners(),r}return i(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.editorGroupService.onDidAddGroup(function(){return e.updateEnablement()})),this.toDispose.push(this.editorGroupService.onDidRemoveGroup(function(){
return e.updateEnablement()}))},t.prototype.updateEnablement=function(){this.enabled=this.editorGroupService.count>1},t.prototype.run=function(){var e=1===this.editorGroupService.orientation?0:1;return this.editorGroupService.setGroupOrientation(e),Promise.resolve(null)},t.prototype.dispose=function(){this.toDispose=u.dispose(this.toDispose),e.prototype.dispose.call(this)},t.ID="workbench.action.toggleEditorGroupLayout",t.LABEL=n.localize("flipLayout","Toggle Vertical/Horizontal Editor Layout"),t=r([o(2,p.IEditorGroupsService)],t)}(a.Action);t.ToggleEditorLayoutAction=h,d.CommandsRegistry.registerCommand("_workbench.editor.setGroupOrientation",function(e,t){var i=e.get(p.IEditorGroupsService),n=t[0];return i.setGroupOrientation(n),Promise.resolve(null)});var f=s.Registry.as(l.Extensions.WorkbenchActions),g=n.localize("view","View");f.registerWorkbenchAction(new c.SyncActionDescriptor(h,h.ID,h.LABEL,{primary:1557,mac:{primary:2581}}),"View: Flip Editor Group Layout",g),c.MenuRegistry.appendMenuItem(17,{
group:"z_flip",command:{id:h.ID,title:n.localize({key:"miToggleEditorLayout",comment:["&& denotes a mnemonic"]},"Flip &&Layout")},order:1})}),define(e[218],t([1,0,15,2,77,36,113,38,64,10,41,4,17,157,292]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.editor=t,o._group=i,o.modeService=n,o.modelService=r,o}return i(t,e),t.prototype.getLabelOptions=function(){return{extraClasses:l.getIconClasses(this.modelService,this.modeService,this.getResource()),italic:!this._group.isPinned(this.editor)}},t.prototype.getLabel=function(){return this.editor.getName()},t.prototype.getIcon=function(){return this.editor.isDirty()?"dirty":""},Object.defineProperty(t.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),t.prototype.getResource=function(){return g.toResource(this.editor,{supportSideBySide:!0})},t.prototype.getAriaLabel=function(){
return s.localize("entryAriaLabel","{0}, editor group picker",this.getLabel())},t.prototype.getDescription=function(){return this.editor.getDescription()},t.prototype.run=function(t,i){return 1===t?this.runOpen(i):e.prototype.run.call(this,t,i)},t.prototype.runOpen=function(e){return this._group.openEditor(this.editor),!0},t=r([o(2,c.IModeService),o(3,u.IModelService)],t)}(a.QuickOpenEntryGroup);t.EditorPickerEntry=m;var y=function(e){function t(t,i,n){var r=e.call(this)||this;return r.instantiationService=t,r.editorService=i,r.editorGroupService=n,r.scorerCache=Object.create(null),r}return i(t,e),t.prototype.getResults=function(e,t){var i=this,r=this.getEditorEntries();if(!r.length)return n.TPromise.as(null);var o=v.prepareQuery(e),s=r.filter(function(e){if(!o.value)return!0;var t=v.scoreItem(e,o,!0,a.QuickOpenItemAccessor,i.scorerCache);return!!t.score&&(e.setHighlights(t.labelMatch,t.descriptionMatch),!0)});if(o.value){var c=this.editorGroupService.getGroups(2);s.sort(function(e,t){
return e.group!==t.group?c.indexOf(e.group)-c.indexOf(t.group):v.compareItemsByScore(e,t,o,!0,a.QuickOpenItemAccessor,i.scorerCache)})}if(this.editorGroupService.count>1){var l;s.forEach(function(e){l&&l===e.group||(e.setGroupLabel(e.group.label),e.setShowBorder(!!l),l=e.group)})}return n.TPromise.as(new a.QuickOpenModel(s))},t.prototype.onClose=function(e){this.scorerCache=Object.create(null)},t=r([o(0,f.IInstantiationService),o(1,p.IEditorService),o(2,h.IEditorGroupsService)],t)}(d.QuickOpenHandler);t.BaseEditorPicker=y;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getEditorEntries=function(){var e=this;return this.group.getEditors(0).map(function(t,i){return e.instantiationService.createInstance(m,t,e.group)})},Object.defineProperty(t.prototype,"group",{get:function(){return this.editorGroupService.activeGroup},enumerable:!0,configurable:!0}),t.prototype.getEmptyLabel=function(e){
return e?s.localize("noResultsFoundInGroup","No matching opened editor found in group"):s.localize("noOpenedEditors","List of opened editors is currently empty in group")},t.prototype.getAutoFocus=function(e,t){if(e||!t.quickNavigateConfiguration)return{autoFocusFirstEntry:!0};if(t.quickNavigateConfiguration&&t.quickNavigateConfiguration.keybindings.some(function(e){var t=e.getParts(),i=t[0];return!t[1]&&i.shiftKey}))return{autoFocusLastEntry:!0};var i=this.group.count;return{autoFocusFirstEntry:1===i,autoFocusSecondEntry:i>1}},t.ID="workbench.picker.activeEditors",t}(y);t.ActiveEditorGroupPicker=S;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getEditorEntries=function(){var e=this,t=[];return this.editorGroupService.getGroups(2).forEach(function(i){i.editors.forEach(function(n){t.push(e.instantiationService.createInstance(m,n,i))})}),t},t.prototype.getEmptyLabel=function(e){
return e?s.localize("noResultsFound","No matching opened editor found"):s.localize("noOpenedEditorsAllGroups","List of opened editors is currently empty")},t.prototype.getAutoFocus=function(t,i){return t?{autoFocusFirstEntry:!0}:e.prototype.getAutoFocus.call(this,t,i)},t.ID="workbench.picker.editors",t}(y);t.AllEditorsPicker=b}),define(e[114],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHashService=i.createDecorator("hashService")}),define(e[116],t([1,0,15,17,222,58,278,114]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.textModelResolverService=r,s.hashService=o,s.name=t,s.description=i,s.resource=n,s}return i(t,e),t.prototype.getResource=function(){return this.resource},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.setName=function(e){this.name!==e&&(this.name=e,
this._onDidChangeLabel.fire())},t.prototype.getDescription=function(){return this.description},t.prototype.setDescription=function(e){this.description!==e&&(this.description=e,this._onDidChangeLabel.fire())},t.prototype.getTelemetryDescriptor=function(){var t=this,i=e.prototype.getTelemetryDescriptor.call(this);return i.resource=a.telemetryURIDescriptor(this.resource,function(e){return t.hashService.createSHA1(e)}),i},t.prototype.resolve=function(){var e=this;return this.modelReference||(this.modelReference=this.textModelResolverService.createModelReference(this.resource)),this.modelReference.then(function(t){var i=t.object;return i instanceof l.ResourceEditorModel?i:(t.dispose(),e.modelReference=null,n.TPromise.wrapError(new Error("Unexpected model for ResourceInput: "+e.resource)))})},t.prototype.matches=function(i){if(!0===e.prototype.matches.call(this,i))return!0;if(i instanceof t){return i.resource.toString()===this.resource.toString()}return!1},t.prototype.dispose=function(){
this.modelReference&&(this.modelReference.then(function(e){return e.dispose()}),this.modelReference=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.resourceEditorInput",t=r([o(3,c.ITextModelService),o(4,u.IHashService)],t)}(s.EditorInput);t.ResourceEditorInput=d}),define(e[145],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHistoryService=i.createDecorator("historyService")}),define(e[194],t([1,0,2,78,22,24]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n.ExtensionsRegistry.registerExtensionPoint("jsonValidation",[],{description:i.localize("contributes.jsonValidation","Contributes json schema configuration."),type:"array",defaultSnippets:[{body:[{fileMatch:"${1:file.json}",url:"${2:url}"}]}],items:{type:"object",defaultSnippets:[{body:{fileMatch:"${1:file.json}",url:"${2:url}"}}],properties:{fileMatch:{type:"string",
description:i.localize("contributes.jsonValidation.fileMatch",'The file pattern to match, for example "package.json" or "*.launch".')},url:{description:i.localize("contributes.jsonValidation.url","A schema URL ('http:', 'https:') or relative path to the extension folder ('./')."),type:"string"}}}}),a=function(){return function(){s.setHandler(function(e){for(var t=function(t){var n=e[t].value,a=e[t].collector,c=e[t].description.extensionLocation;if(!n||!Array.isArray(n))return a.error(i.localize("invalid.jsonValidation","'configuration.jsonValidation' must be a array")),{value:void 0};n.forEach(function(e){if("string"==typeof e.fileMatch){var t=e.url;if("string"==typeof e.url){if(r.startsWith(t,"./"))try{var n=o.joinPath(c,t);o.isEqualOrParent(n,c)||a.warn(i.localize("invalid.path.1","Expected `contributes.{0}.url` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.",s.name,n.toString(),c.path))}catch(e){
a.error(i.localize("invalid.url.fileschema","'configuration.jsonValidation.url' is an invalid relative URL: {0}",e.message))}else if(!r.startsWith(t,"https:/")&&r.startsWith(t,"https:/"))return void a.error(i.localize("invalid.url.schema","'configuration.jsonValidation.url' must start with 'http:', 'https:' or './' to reference schemas located in the extension"))}else a.error(i.localize("invalid.url","'configuration.jsonValidation.url' must be a URL or relative path"))}else a.error(i.localize("invalid.fileMatch","'configuration.jsonValidation.fileMatch' must be defined"))})},n=0;n<e.length;n++){var a=t(n);if("object"==typeof a)return a.value}})}}();t.JSONValidationExtensionPoint=a}),define(e[401],t([1,0,193,11]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.writeKeybindingItem=function(e,t,i){if(t.resolvedKeybinding){var n=JSON.stringify(t.resolvedKeybinding.getUserSettingsLabel());e.write('{ "key": '+function(e,t){
return e.length<t?e+new Array(t-e.length).join(" "):e}(n+",",25)+' "command": ');var r=t.when?JSON.stringify(t.when.serialize()):"",o=JSON.stringify(t.command);r.length>0?(e.write(o+","),e.writeLine(),e.write('                                     "when": '+r+" ")):e.write(o+" "),e.write("}")}},e.readUserKeybindingItem=function(e,t){var r="string"==typeof e.key?i.KeybindingParser.parseUserBinding(e.key):[null,null],o=r[0],s=r[1],a="string"==typeof e.when?n.ContextKeyExpr.deserialize(e.when):null;return{firstPart:o,chordPart:s,command:"string"==typeof e.command?e.command:null,commandArgs:void 0!==e.args?e.args:void 0,when:a}},e}();t.KeybindingIO=r;var o=function(){function e(){this._lines=[],this._currentLine=""}return e.prototype.write=function(e){this._currentLine+=e},e.prototype.writeLine=function(e){void 0===e&&(e=""),this._lines.push(this._currentLine+e),this._currentLine=""},e.prototype.toString=function(){return this.writeLine(),this._lines.join("\n")},e}();t.OutputBuilder=o}),
define(e[402],t([1,0,69,161,403]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this._OS=e}return e.prototype.dumpDebugInfo=function(){return"FallbackKeyboardMapper dispatching on keyCode"},e.prototype.resolveKeybinding=function(e){return[new r.USLayoutResolvedKeybinding(e,this._OS)]},e.prototype.resolveKeyboardEvent=function(e){var t=new i.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new r.USLayoutResolvedKeybinding(t,this._OS)},e.prototype._scanCodeToKeyCode=function(e){var t=n.IMMUTABLE_CODE_TO_KEY_CODE[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51
;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0},e.prototype._resolveSimpleUserBinding=function(e){if(!e)return null;if(e instanceof i.SimpleKeybinding)return e;var t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new i.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)},e.prototype.resolveUserBinding=function(e,t){var n=this._resolveSimpleUserBinding(e),o=this._resolveSimpleUserBinding(t);return n&&o?[new r.USLayoutResolvedKeybinding(new i.ChordKeybinding(n,o),this._OS)]:n?[new r.USLayoutResolvedKeybinding(n,this._OS)]:[]},e}()
;t.MacLinuxFallbackKeyboardMapper=o}),define(e[404],t([1,0,2,11,78,34,30,25,565,406,74,72,69,20,3,407,403,8,430,564,48,18,401,402,193]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var T={type:"object",default:{command:"",key:""},properties:{command:{description:n.localize("vscode.extension.contributes.keybindings.command","Identifier of the command to run when keybinding is triggered."),type:"string"},key:{description:n.localize("vscode.extension.contributes.keybindings.key","Key or key sequence (separate keys with plus-sign and sequences with space, e.g Ctrl+O and Ctrl+L L for a chord)."),type:"string"},mac:{description:n.localize("vscode.extension.contributes.keybindings.mac","Mac specific key or key sequence."),type:"string"},linux:{description:n.localize("vscode.extension.contributes.keybindings.linux","Linux specific key or key sequence."),type:"string"},win:{
description:n.localize("vscode.extension.contributes.keybindings.win","Windows specific key or key sequence."),type:"string"},when:{description:n.localize("vscode.extension.contributes.keybindings.when","Condition when the key is active."),type:"string"}}},R=a.ExtensionsRegistry.registerExtensionPoint("keybindings",[],{description:n.localize("vscode.extension.contributes.keybindings","Contributes keybindings."),oneOf:[T,{type:"array",items:T}]}),A=function(e){function t(t,i,n,r,o,s){var a=e.call(this,n,r,o,s)||this;return a._firstTimeComputingResolver=!0,a._cachedResolver=null,a._dynamicKeybindings=[],a._register(b.addDisposableListener(t,b.EventType.KEY_DOWN,function(e){var t=new f.StandardKeyboardEvent(e);a._dispatch(t,t.target)&&t.preventDefault()})),a.userKeybindings=a._register(new _.ConfigWatcher(i.appKeybindingsPath,{defaultConfig:[],onError:function(e){return w.onUnexpectedError(e)}})),a._keyboardMapper=new x.MacLinuxFallbackKeyboardMapper(v.OS),
a._register(a.userKeybindings.onDidUpdateConfiguration(function(e){return a.updateResolver({source:2,keybindings:e.config})})),R.setHandler(function(e){for(var t=!1,i=0,n=e;i<n.length;i++){var r=n[i];t=a._handleKeybindingsExtensionPointUser(r.description.isBuiltin,r.value,r.collector)||t}t&&a.updateResolver({source:1})}),a}return i(t,e),t.prototype.addDynamicKeybinding=function(e,t,i,n){var r=this,o=[];this._dynamicKeybindings.push({keybinding:g.createKeybinding(t,v.OS),command:e,when:n,weight1:1e3,weight2:0}),o.push(m.toDisposable(function(){for(var t=0;t<r._dynamicKeybindings.length;t++){if(r._dynamicKeybindings[t].command===e)return r._dynamicKeybindings.splice(t,1),void r.updateResolver({source:1})}}));var s=this._commandService;if(!(s instanceof E.CodeSandboxCommandService))throw new Error("Unknown command service!");return o.push(s.addCommand({id:e,handler:i})),this.updateResolver({source:1}),m.combinedDisposable(o)},t.prototype.updateResolver=function(e){this._cachedResolver=null,
this._onDidUpdateKeybindings.fire(e)},t.prototype._getResolver=function(){if(!this._cachedResolver){var e=this._resolveKeybindingItems(h.KeybindingsRegistry.getDefaultKeybindings(),!0),t=this._resolveUserKeybindingItems(this._getExtraKeybindings(this._firstTimeComputingResolver),!1);this._cachedResolver=new p.KeybindingResolver(e,t),this._firstTimeComputingResolver=!1}return this._cachedResolver},t.prototype._safeGetConfig=function(){var e=this.userKeybindings.getConfig();return Array.isArray(e)?e:[]},t.prototype._handleKeybindingsExtensionPointUser=function(e,t,i){if(function(e){return Array.isArray(e)}(t)){for(var n=!1,r=0,o=t.length;r<o;r++)n=this._handleKeybinding(e,r+1,t[r],i)||n;return n}return this._handleKeybinding(e,1,t,i)},t.prototype._handleKeybinding=function(e,t,i,r){var o=[],s=!1;if(function(e,t){return e?"string"!=typeof e.command?(t.push(n.localize("requirestring","property `{0}` is mandatory and must be of type `string`","command")),
!1):e.key&&"string"!=typeof e.key?(t.push(n.localize("optstring","property `{0}` can be omitted or must be of type `string`","key")),!1):e.when&&"string"!=typeof e.when?(t.push(n.localize("optstring","property `{0}` can be omitted or must be of type `string`","when")),!1):e.mac&&"string"!=typeof e.mac?(t.push(n.localize("optstring","property `{0}` can be omitted or must be of type `string`","mac")),!1):e.linux&&"string"!=typeof e.linux?(t.push(n.localize("optstring","property `{0}` can be omitted or must be of type `string`","linux")),!1):!e.win||"string"==typeof e.win||(t.push(n.localize("optstring","property `{0}` can be omitted or must be of type `string`","win")),!1):(t.push(n.localize("nonempty","expected non-empty value.")),!1)}(i,o)){var a=this._asCommandRule(e,t++,i);a&&(h.KeybindingsRegistry.registerKeybindingRule2(a,1),s=!0)}return o.length>0&&r.error(n.localize("invalid.keybindings","Invalid `contributes.{0}`: {1}",R.name,o.join("\n"))),s},t.prototype._asCommandRule=function(e,t,i){
var n,r=i.command,o=i.when,a=i.key,c=i.mac,l=i.linux,u=i.win;n=e?300+t:400+t;var d={id:r,when:s.ContextKeyExpr.deserialize(o),weight:n,primary:D.KeybindingParser.parseKeybinding(a,v.OS),mac:c&&{primary:D.KeybindingParser.parseKeybinding(c,v.OS)},linux:l&&{primary:D.KeybindingParser.parseKeybinding(l,v.OS)},win:u&&{primary:D.KeybindingParser.parseKeybinding(u,v.OS)}};if(d.primary||d.mac||d.linux||d.win)return d},t.prototype._getExtraKeybindings=function(e){var t=this._safeGetConfig();if(!e){var i=t.length;this._telemetryService.publicLog("customKeybindingsChanged",{keyCount:i})}return t.map(function(e){return I.KeybindingIO.readUserKeybindingItem(e,v.OS)})},t.prototype._resolveKeybindingItems=function(e,t){for(var i=[],n=0,r=0,o=e.length;r<o;r++){var s=e[r],a=s.when?s.when.normalize():null,c=s.keybinding;if(c)for(var l=this.resolveKeybinding(c),u=0;u<l.length;u++)i[n++]=new y.ResolvedKeybindingItem(l[u],s.command,s.commandArgs,a,t);else i[n++]=new y.ResolvedKeybindingItem(null,s.command,s.commandArgs,a,t)}
return i},t.prototype._resolveUserKeybindingItems=function(e,t){for(var i=[],n=0,r=0,o=e.length;r<o;r++){var s=e[r],a=s.when?s.when.normalize():null,c=s.firstPart,l=s.chordPart;if(c)for(var u=this._keyboardMapper.resolveUserBinding(c,l),d=0;d<u.length;d++)i[n++]=new y.ResolvedKeybindingItem(u[d],s.command,s.commandArgs,a,t);else i[n++]=new y.ResolvedKeybindingItem(null,s.command,s.commandArgs,a,t)}return i},t._getDefaultKeybindings=function(e){var t=new I.OutputBuilder;t.writeLine("[");var i=e.length-1;return e.forEach(function(e,n){I.KeybindingIO.writeKeybindingItem(t,e,v.OS),n!==i?t.writeLine(","):t.writeLine()}),t.writeLine("]"),t.toString()},t._getAllCommandsAsComment=function(e){return"// Here are other available commands: \n// - "+p.KeybindingResolver.getAllUnboundCommands(e).sort().join("\n// - ")},t.prototype.getDefaultKeybindingsContent=function(){var e=this._getResolver(),i=e.getDefaultKeybindings(),n=e.getDefaultBoundCommands();return t._getDefaultKeybindings(i)+"\n\n"+t._getAllCommandsAsComment(n)
},t.prototype._documentHasFocus=function(){return document.hasFocus()},t.prototype._toNormalizedKeybindingItems=function(e,t){for(var i=[],n=0,r=0,o=e.length;r<o;r++){var s=e[r],a=s.when?s.when.normalize():null,c=s.keybinding;if(c)for(var l=[new S.USLayoutResolvedKeybinding(c,v.OS)],u=0;u<l.length;u++)i[n++]=new y.ResolvedKeybindingItem(l[u],s.command,s.commandArgs,a,t);else i[n++]=new y.ResolvedKeybindingItem(null,s.command,s.commandArgs,a,t)}return i},t.prototype.resolveKeybinding=function(e){return this._keyboardMapper.resolveKeybinding(e)},t.prototype.resolveKeyboardEvent=function(e){return this._keyboardMapper.resolveKeyboardEvent(e)},t.prototype.resolveUserBinding=function(e){var t=D.KeybindingParser.parseUserBinding(e),i=t[0],n=t[1];return this._keyboardMapper.resolveUserBinding(i,n)},t=r([o(1,C.IEnvironmentService),o(2,s.IContextKeyService),o(3,c.ICommandService),o(4,l.ITelemetryService),o(5,u.INotificationService)],t)}(d.AbstractKeybindingService);t.CodeSandboxKeybindingService=A}),
define(e[409],t([1,0,69,410,161]),function(e,t,n,r,o){"use strict";function s(e,t){return!e&&!t||!(!e||!t)&&(e.vkey===t.vkey&&e.value===t.value&&e.withShift===t.withShift&&e.withAltGr===t.withAltGr&&e.withShiftAltGr===t.withShiftAltGr)}function a(e){c&&console.info(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.windowsKeyboardMappingEquals=function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;for(var i=0;i<193;i++){var n=o.ScanCodeUtils.toString(i);if(!s(e[n],t[n]))return!1}return!0};var c=!1,l={VK_BACK:1,VK_TAB:2,VK_CLEAR:0,VK_RETURN:3,VK_SHIFT:4,VK_CONTROL:5,VK_MENU:6,VK_PAUSE:7,VK_CAPITAL:8,VK_KANA:0,VK_HANGUL:0,VK_JUNJA:0,VK_FINAL:0,VK_HANJA:0,VK_KANJI:0,VK_ESCAPE:9,VK_CONVERT:0,VK_NONCONVERT:0,VK_ACCEPT:0,VK_MODECHANGE:0,VK_SPACE:10,VK_PRIOR:11,VK_NEXT:12,VK_END:13,VK_HOME:14,VK_LEFT:15,VK_UP:16,VK_RIGHT:17,VK_DOWN:18,VK_SELECT:0,VK_PRINT:0,VK_EXECUTE:0,VK_SNAPSHOT:0,VK_INSERT:19,VK_DELETE:20,VK_HELP:0,VK_0:21,VK_1:22,VK_2:23,VK_3:24,VK_4:25,VK_5:26,VK_6:27,VK_7:28,VK_8:29,VK_9:30,VK_A:31,VK_B:32,
VK_C:33,VK_D:34,VK_E:35,VK_F:36,VK_G:37,VK_H:38,VK_I:39,VK_J:40,VK_K:41,VK_L:42,VK_M:43,VK_N:44,VK_O:45,VK_P:46,VK_Q:47,VK_R:48,VK_S:49,VK_T:50,VK_U:51,VK_V:52,VK_W:53,VK_X:54,VK_Y:55,VK_Z:56,VK_LWIN:57,VK_COMMAND:57,VK_RWIN:57,VK_APPS:0,VK_SLEEP:0,VK_NUMPAD0:93,VK_NUMPAD1:94,VK_NUMPAD2:95,VK_NUMPAD3:96,VK_NUMPAD4:97,VK_NUMPAD5:98,VK_NUMPAD6:99,VK_NUMPAD7:100,VK_NUMPAD8:101,VK_NUMPAD9:102,VK_MULTIPLY:103,VK_ADD:104,VK_SEPARATOR:105,VK_SUBTRACT:106,VK_DECIMAL:107,VK_DIVIDE:108,VK_F1:59,VK_F2:60,VK_F3:61,VK_F4:62,VK_F5:63,VK_F6:64,VK_F7:65,VK_F8:66,VK_F9:67,VK_F10:68,VK_F11:69,VK_F12:70,VK_F13:71,VK_F14:72,VK_F15:73,VK_F16:74,VK_F17:75,VK_F18:76,VK_F19:77,VK_F20:0,VK_F21:0,VK_F22:0,VK_F23:0,VK_F24:0,VK_NUMLOCK:78,VK_SCROLL:79,VK_LSHIFT:4,VK_RSHIFT:4,VK_LCONTROL:5,VK_RCONTROL:5,VK_LMENU:0,VK_RMENU:0,VK_BROWSER_BACK:0,VK_BROWSER_FORWARD:0,VK_BROWSER_REFRESH:0,VK_BROWSER_STOP:0,VK_BROWSER_SEARCH:0,VK_BROWSER_FAVORITES:0,VK_BROWSER_HOME:0,VK_VOLUME_MUTE:0,VK_VOLUME_DOWN:0,VK_VOLUME_UP:0,VK_MEDIA_NEXT_TRACK:0,
VK_MEDIA_PREV_TRACK:0,VK_MEDIA_STOP:0,VK_MEDIA_PLAY_PAUSE:0,VK_MEDIA_LAUNCH_MAIL:0,VK_MEDIA_LAUNCH_MEDIA_SELECT:0,VK_MEDIA_LAUNCH_APP1:0,VK_MEDIA_LAUNCH_APP2:0,VK_OEM_1:80,VK_OEM_PLUS:81,VK_OEM_COMMA:82,VK_OEM_MINUS:83,VK_OEM_PERIOD:84,VK_OEM_2:85,VK_OEM_3:86,VK_ABNT_C1:110,VK_ABNT_C2:111,VK_OEM_4:87,VK_OEM_5:88,VK_OEM_6:89,VK_OEM_7:90,VK_OEM_8:91,VK_OEM_102:92,VK_PROCESSKEY:0,VK_PACKET:0,VK_DBE_SBCSCHAR:0,VK_DBE_DBCSCHAR:0,VK_ATTN:0,VK_CRSEL:0,VK_EXSEL:0,VK_EREOF:0,VK_PLAY:0,VK_ZOOM:0,VK_NONAME:0,VK_PA1:0,VK_OEM_CLEAR:0,VK_UNKNOWN:0},u=function(e){function t(t,i,n){var r=e.call(this)||this;if(!i)throw new Error("Invalid WindowsNativeResolvedKeybinding firstPart");return r._mapper=t,r._firstPart=i,r._chordPart=n,r}return i(t,e),t.prototype._getUILabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":this._mapper.getUILabelForKeyCode(e.keyCode):null},t.prototype.getLabel=function(){var e=this._getUILabelForKeybinding(this._firstPart),t=this._getUILabelForKeybinding(this._chordPart)
;return r.UILabelProvider.toLabel(this._firstPart,e,this._chordPart,t,1)},t.prototype._getUSLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":n.KeyCodeUtils.toString(e.keyCode):null},t.prototype.getUSLabel=function(){var e=this._getUSLabelForKeybinding(this._firstPart),t=this._getUSLabelForKeybinding(this._chordPart);return r.UILabelProvider.toLabel(this._firstPart,e,this._chordPart,t,1)},t.prototype._getAriaLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":this._mapper.getAriaLabelForKeyCode(e.keyCode):null},t.prototype.getAriaLabel=function(){var e=this._getAriaLabelForKeybinding(this._firstPart),t=this._getAriaLabelForKeybinding(this._chordPart);return r.AriaLabelProvider.toLabel(this._firstPart,e,this._chordPart,t,1)},t.prototype._keyCodeToElectronAccelerator=function(e){if(e>=93&&e<=108)return null;switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return n.KeyCodeUtils.toString(e)},
t.prototype._getElectronAcceleratorLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?null:this._keyCodeToElectronAccelerator(e.keyCode):null},t.prototype.getElectronAccelerator=function(){if(null!==this._chordPart)return null;var e=this._getElectronAcceleratorLabelForKeybinding(this._firstPart);return r.ElectronAcceleratorLabelProvider.toLabel(this._firstPart,e,null,null,1)},t.prototype._getUserSettingsLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":this._mapper.getUserSettingsLabelForKeyCode(e.keyCode):null},t.prototype.getUserSettingsLabel=function(){var e=this._getUserSettingsLabelForKeybinding(this._firstPart),t=this._getUserSettingsLabelForKeybinding(this._chordPart),i=r.UserSettingsLabelProvider.toLabel(this._firstPart,e,this._chordPart,t,1);return i?i.toLowerCase():i},t.prototype.isWYSIWYG=function(){return!(this._firstPart&&!this._isWYSIWYG(this._firstPart.keyCode))&&!(this._chordPart&&!this._isWYSIWYG(this._chordPart.keyCode))},
t.prototype._isWYSIWYG=function(e){if(15===e||16===e||17===e||18===e)return!0;return this._mapper.getAriaLabelForKeyCode(e)===this._mapper.getUserSettingsLabelForKeyCode(e)},t.prototype.isChord=function(){return!!this._chordPart},t.prototype.getParts=function(){return[this._toResolvedKeybindingPart(this._firstPart),this._chordPart?this._toResolvedKeybindingPart(this._chordPart):null]},t.prototype._toResolvedKeybindingPart=function(e){return new n.ResolvedKeybindingPart(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getUILabelForKeybinding(e),this._getAriaLabelForKeybinding(e))},t.prototype.getDispatchParts=function(){return[this._firstPart?this._getDispatchStr(this._firstPart):null,this._chordPart?this._getDispatchStr(this._chordPart):null]},t.prototype._getDispatchStr=function(e){if(e.isModifierKey())return null;var t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=n.KeyCodeUtils.toString(e.keyCode)},t.getProducedCharCode=function(e,t){
return t?e.ctrlKey&&e.shiftKey&&e.altKey?t.withShiftAltGr:e.ctrlKey&&e.altKey?t.withAltGr:e.shiftKey?t.withShift:t.value:null},t.getProducedChar=function(e,t){var i=this.getProducedCharCode(e,t);return null===i||0===i.length?" --- ":"  "+i+"  "},t}(n.ResolvedKeybinding);t.WindowsNativeResolvedKeybinding=u;var d=function(){function e(e,t){var i=this;this._keyCodeToLabel=[],this.isUSStandard=e,this._scanCodeToKeyCode=[],this._keyCodeToLabel=[],this._keyCodeExists=[],this._keyCodeToLabel[0]=n.KeyCodeUtils.toString(0);for(c=0;c<193;c++){-1!==(d=o.IMMUTABLE_CODE_TO_KEY_CODE[c])&&(this._scanCodeToKeyCode[c]=d,this._keyCodeToLabel[d]=n.KeyCodeUtils.toString(d),this._keyCodeExists[d]=!0)}var r=[];this._codeInfo=[];for(var s in t)if(t.hasOwnProperty(s)){var c;if(0===(c=o.ScanCodeUtils.toEnum(s))){a("Unknown scanCode "+s+" in mapping.");continue}var u=t[s],d=o.IMMUTABLE_CODE_TO_KEY_CODE[c];if(-1!==d){var p=l[u.vkey]||0;if(0===p||d===p)continue;if(134!==c)continue}
var h=u.value,f=u.withShift,g=u.withAltGr,v=u.withShiftAltGr,m=l[u.vkey]||0,y={scanCode:c,keyCode:m,value:h,withShift:f,withAltGr:g,withShiftAltGr:v};if(this._codeInfo[c]=y,this._scanCodeToKeyCode[c]=m,0===m)continue;if(this._keyCodeExists[m]=!0,0===h.length)this._keyCodeToLabel[m]=null;else if(h.length>1)this._keyCodeToLabel[m]=h;else{var S=h.charCodeAt(0);if(S>=97&&S<=122){r[S-97+65]=!0,this._keyCodeToLabel[m]=String.fromCharCode(S-97+65)}else S>=65&&S<=90?(r[S]=!0,this._keyCodeToLabel[m]=h):this._keyCodeToLabel[m]=h}}var b=function(e,t){r[e]||(i._keyCodeToLabel[t]=String.fromCharCode(e))};b(65,31),b(66,32),b(67,33),b(68,34),b(69,35),b(70,36),b(71,37),b(72,38),b(73,39),b(74,40),b(75,41),b(76,42),b(77,43),b(78,44),b(79,45),b(80,46),b(81,47),b(82,48),b(83,49),b(84,50),b(85,51),b(86,52),b(87,53),b(88,54),b(89,55),b(90,56)}return e.prototype.dumpDebugInfo=function(){var e=[],t=[88,104],i=0
;e.push("-----------------------------------------------------------------------------------------------------------------------------------------");for(var r=0;r<193;r++)if(-1===o.IMMUTABLE_CODE_TO_KEY_CODE[r]||-1!==t.indexOf(r)){i%6==0&&(e.push("|       HW Code combination      |  Key  |    KeyCode combination    |          UI label         |        User settings       | WYSIWYG |"),e.push("-----------------------------------------------------------------------------------------------------------------------------------------")),i++;for(var s=this._codeInfo[r],a=o.ScanCodeUtils.toString(r),c=[0,2,5,7],l=0;l<c.length;l++){
var d=c[l],p=!!(1&d),h=!!(2&d),f=!!(4&d),g=new o.ScanCodeBinding(p,h,f,!1,r),v=this._resolveSimpleUserBinding(g),m=v?n.KeyCodeUtils.toString(v.keyCode):null,y=v?new u(this,v,null):null,S=(p?"Ctrl+":"")+(h?"Shift+":"")+(f?"Alt+":"")+a,b=y?y.getAriaLabel():null,E=b?b.replace(/Control\+/,"Ctrl+"):null,_=y?y.getUserSettingsLabel():null,C=u.getProducedChar(g,s),w=m?(p?"Ctrl+":"")+(h?"Shift+":"")+(f?"Alt+":"")+m:null,I=!!y&&y.isWYSIWYG()?"       ":"   NO  ";e.push("| "+this._leftPad(S,30)+" | "+C+" | "+this._leftPad(w,25)+" | "+this._leftPad(E,25)+" |  "+this._leftPad(_,25)+" | "+I+" |")}e.push("-----------------------------------------------------------------------------------------------------------------------------------------")}return e.join("\n")},e.prototype._leftPad=function(e,t){for(null===e&&(e="null");e.length<t;)e=" "+e;return e},e.prototype.getUILabelForKeyCode=function(e){return this._getLabelForKeyCode(e)},e.prototype.getAriaLabelForKeyCode=function(e){return this._getLabelForKeyCode(e)},
e.prototype.getUserSettingsLabelForKeyCode=function(e){return this.isUSStandard?n.KeyCodeUtils.toUserSettingsUS(e):n.KeyCodeUtils.toUserSettingsGeneral(e)},e.prototype._getLabelForKeyCode=function(e){return this._keyCodeToLabel[e]||n.KeyCodeUtils.toString(0)},e.prototype.resolveKeybinding=function(e){if(2===e.type){var t=e.firstPart.keyCode,i=e.chordPart.keyCode;return this._keyCodeExists[t]&&this._keyCodeExists[i]?[new u(this,e.firstPart,e.chordPart)]:[]}return this._keyCodeExists[e.keyCode]?[new u(this,e,null)]:[]},e.prototype.resolveKeyboardEvent=function(e){var t=new n.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new u(this,t,null)},e.prototype._resolveSimpleUserBinding=function(e){if(!e)return null;if(e instanceof n.SimpleKeybinding)return this._keyCodeExists[e.keyCode]?e:null;var t=this._scanCodeToKeyCode[e.scanCode]||0;return 0!==t&&this._keyCodeExists[t]?new n.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t):null},e.prototype.resolveUserBinding=function(e,t){
var i=this._resolveSimpleUserBinding(e),n=this._resolveSimpleUserBinding(t);return i&&n?[new u(this,i,n)]:i?[new u(this,i,null)]:[]},e}();t.WindowsKeyboardMapper=d}),define(e[411],t([1,0,2,13,144,69,3,43,4,11,46,67,119,281,243,213,73,161,134,409,12,174,156,193]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x){"use strict";function D(e){var t=e.getModel();if(!t)return!1;var i=t.uri.toString();return A.test(i)}Object.defineProperty(t,"__esModule",{value:!0});var T=n.localize("defineKeybinding.start","Define Keybinding"),R=n.localize("defineKeybinding.kbLayoutErrorMessage","You won't be able to produce this key combination under your current keyboard layout."),A=/keybindings\.json$/,O=function(e){function t(t,i){var n=e.call(this)||this;return n._editor=t,n._instantiationService=i,n._keybindingWidgetRenderer=null,n._keybindingDecorationRenderer=null,n._register(n._editor.onDidChangeModel(function(e){return n._update()})),n._update(),n}return i(t,e),t.get=function(e){return e.getContribution(t.ID)},
t.prototype.getId=function(){return t.ID},Object.defineProperty(t.prototype,"keybindingWidgetRenderer",{get:function(){return this._keybindingWidgetRenderer},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._disposeKeybindingWidgetRenderer(),this._disposeKeybindingDecorationRenderer(),e.prototype.dispose.call(this)},t.prototype._update=function(){if(!D(this._editor))return this._disposeKeybindingWidgetRenderer(),void this._disposeKeybindingDecorationRenderer();this._createKeybindingDecorationRenderer(),this._editor.getConfiguration().readOnly?this._disposeKeybindingWidgetRenderer():this._createKeybindingWidgetRenderer()},t.prototype._createKeybindingWidgetRenderer=function(){this._keybindingWidgetRenderer||(this._keybindingWidgetRenderer=this._instantiationService.createInstance(k,this._editor))},t.prototype._disposeKeybindingWidgetRenderer=function(){this._keybindingWidgetRenderer&&(this._keybindingWidgetRenderer.dispose(),this._keybindingWidgetRenderer=null)},
t.prototype._createKeybindingDecorationRenderer=function(){this._keybindingDecorationRenderer||(this._keybindingDecorationRenderer=this._instantiationService.createInstance(M,this._editor))},t.prototype._disposeKeybindingDecorationRenderer=function(){this._keybindingDecorationRenderer&&(this._keybindingDecorationRenderer.dispose(),this._keybindingDecorationRenderer=null)},t.ID="editor.contrib.defineKeybinding",t=r([o(1,d.IInstantiationService)],t)}(l.Disposable);t.DefineKeybindingController=O;var k=function(e){function t(t,i){var n=e.call(this)||this;return n._editor=t,n._instantiationService=i,n._launchWidget=n._register(n._instantiationService.createInstance(y.FloatingClickWidget,n._editor,T,P.ID)),n._register(n._launchWidget.onClick(function(){return n.showDefineKeybindingWidget()})),n._defineWidget=n._register(n._instantiationService.createInstance(m.DefineKeybindingOverlayWidget,n._editor)),n._launchWidget.render(),n}return i(t,e),t.prototype.showDefineKeybindingWidget=function(){var e=this
;this._defineWidget.start().then(function(t){return e._onAccepted(t)})},t.prototype._onAccepted=function(e){if(this._editor.focus(),e){new RegExp(/\\/g).test(e)&&(e=e.slice(0,-1)+"\\\\");var t=["{",'\t"key": '+JSON.stringify(e)+",",'\t"command": "${1:commandId}",','\t"when": "${2:editorTextFocus}"',"}$0"].join("\n"),i=v.SmartSnippetInserter.insertSnippet(this._editor.getModel(),this._editor.getPosition());t=i.prepend+t+i.append,this._editor.setPosition(i.position),g.SnippetController2.get(this._editor).insert(t,0,0)}},t=r([o(1,d.IInstantiationService)],t)}(l.Disposable);t.KeybindingWidgetRenderer=k;var M=function(e){function t(t,i){var n=e.call(this)||this;n._editor=t,n._keybindingService=i,n._dec=[],n._updateDecorations=n._register(new s.RunOnceScheduler(function(){return n._updateDecorationsNow()},500));var r=n._editor.getModel();return n._register(r.onDidChangeContent(function(){return n._updateDecorations.schedule()})),n._register(n._keybindingService.onDidUpdateKeybindings(function(e){
return n._updateDecorations.schedule()})),n._register({dispose:function(){n._dec=n._editor.deltaDecorations(n._dec,[]),n._updateDecorations.cancel()}}),n._updateDecorations.schedule(),n}return i(t,e),t.prototype._updateDecorationsNow=function(){var e=this._editor.getModel(),t=[],i=S.parseTree(e.getValue());if(i&&Array.isArray(i.children))for(var n=0,r=i.children.length;n<r;n++){var o=i.children[n],s=this._getDecorationForEntry(e,o);null!==s&&t.push(s)}this._dec=this._editor.deltaDecorations(this._dec,t)},t.prototype._getDecorationForEntry=function(e,i){if(!Array.isArray(i.children))return null;for(var n=0,r=i.children.length;n<r;n++){var o=i.children[n];if("property"===o.type&&(Array.isArray(o.children)&&2===o.children.length)){if("key"===o.children[0].value){var s=o.children[1];if("string"===s.type){var a=this._keybindingService.resolveUserBinding(s.value);if(0===a.length)return this._createDecoration(!0,null,null,e,s);var c=a[0],l=null;if(c instanceof _.WindowsNativeResolvedKeybinding&&(l=c.getUSLabel()),
!c.isWYSIWYG()){var u=c.getLabel();return s.value.toLowerCase()===u.toLowerCase()?null:this._createDecoration(!1,c.getLabel(),l,e,s)}if(/abnt_|oem_/.test(s.value))return this._createDecoration(!1,c.getLabel(),l,e,s);var d=c.getUserSettingsLabel();return t._userSettingsFuzzyEquals(s.value,d)?null:this._createDecoration(!1,c.getLabel(),l,e,s)}}}}return null},t._userSettingsFuzzyEquals=function(e,t){if(e=e.trim().toLowerCase(),t=t.trim().toLowerCase(),e===t)return!0;var i=x.KeybindingParser.parseUserBinding(e),n=i[0],r=i[1],o=x.KeybindingParser.parseUserBinding(t),s=o[0],a=o[1];return this._userBindingEquals(n,s)&&this._userBindingEquals(r,a)},t._userBindingEquals=function(e,t){return null===e&&null===t||!(!e||!t)&&(e instanceof c.SimpleKeybinding&&t instanceof c.SimpleKeybinding?e.equals(t):e instanceof b.ScanCodeBinding&&t instanceof b.ScanCodeBinding&&e.equals(t))},t.prototype._createDecoration=function(e,t,i,r,o){var s,c,l,u;e?(s=(new a.MarkdownString).appendText(R),c="keybindingError",
l="inlineKeybindingError",u=C.themeColorFromId(w.overviewRulerError)):(s=i&&t!==i?new a.MarkdownString(n.localize({key:"defineKeybinding.kbLayoutLocalAndUSMessage",comment:["Please translate maintaining the stars (*) around the placeholders such that they will be rendered in bold.","The placeholders will contain a keyboard combination e.g. Ctrl+Shift+/"]},"**{0}** for your current keyboard layout (**{1}** for US standard).",t,i)):new a.MarkdownString(n.localize({key:"defineKeybinding.kbLayoutLocalMessage",comment:["Please translate maintaining the stars (*) around the placeholder such that it will be rendered in bold.","The placeholder will contain a keyboard combination e.g. Ctrl+Shift+/"]},"**{0}** for your current keyboard layout.",t)),c="keybindingInfo",l="inlineKeybindingInfo",u=C.themeColorFromId(w.overviewRulerInfo));var d=r.getPositionAt(o.offset),p=r.getPositionAt(o.offset+o.length);return{range:new h.Range(d.lineNumber,d.column,p.lineNumber,p.column),options:{stickiness:1,className:c,
beforeContentClassName:l,hoverMessage:s,overviewRuler:{color:u,position:I.OverviewRulerLane.Right}}}},t=r([o(1,u.IKeybindingService)],t)}(l.Disposable);t.KeybindingEditorDecorationsRenderer=M;var P=function(e){function t(){return e.call(this,{id:t.ID,precondition:p.ContextKeyExpr.and(E.EditorContextKeys.writable,E.EditorContextKeys.languageId.isEqualTo("jsonc")),kbOpts:{kbExpr:E.EditorContextKeys.editorTextFocus,primary:c.KeyChord(2089,2089),weight:100}})||this}return i(t,e),t.prototype.runEditorCommand=function(e,t){if(D(t)&&!t.getConfiguration().readOnly){var i=O.get(t);i&&i.keybindingWidgetRenderer&&i.keybindingWidgetRenderer.showDefineKeybindingWidget()}},t.ID="editor.action.defineKeybinding",t}(f.EditorCommand);f.registerEditorContribution(O),f.registerEditorCommand(new P)}),define(e[183],t([1,0,2,166,24,171,563,9,48,16,45,78]),function(e,t,n,s,a,c,l,u,d,p,h,f){"use strict";function g(e){return void 0===e||!!Array.isArray(e)&&e.every(function(e){return"string"==typeof e})}
Object.defineProperty(t,"__esModule",{value:!0}),t.languagesExtPoint=f.ExtensionsRegistry.registerExtensionPoint("languages",[],{description:n.localize("vscode.extension.contributes.languages","Contributes language declarations."),type:"array",items:{type:"object",defaultSnippets:[{body:{id:"${1:languageId}",aliases:["${2:label}"],extensions:["${3:extension}"],configuration:"./language-configuration.json"}}],properties:{id:{description:n.localize("vscode.extension.contributes.languages.id","ID of the language."),type:"string"},aliases:{description:n.localize("vscode.extension.contributes.languages.aliases","Name aliases for the language."),type:"array",items:{type:"string"}},extensions:{description:n.localize("vscode.extension.contributes.languages.extensions","File extensions associated to the language."),default:[".foo"],type:"array",items:{type:"string"}},filenames:{description:n.localize("vscode.extension.contributes.languages.filenames","File names associated to the language."),type:"array",items:{
type:"string"}},filenamePatterns:{description:n.localize("vscode.extension.contributes.languages.filenamePatterns","File name glob patterns associated to the language."),type:"array",items:{type:"string"}},mimetypes:{description:n.localize("vscode.extension.contributes.languages.mimetypes","Mime types associated to the language."),type:"array",items:{type:"string"}},firstLine:{description:n.localize("vscode.extension.contributes.languages.firstLine","A regular expression matching the first line of a file of the language."),type:"string"},configuration:{description:n.localize("vscode.extension.contributes.languages.configuration","A relative path to a file containing configuration options for the language."),type:"string",default:"./language-configuration.json"}}}});var v=function(e){function l(i,r,o){var s=e.call(this,o.verbose||o.isExtensionDevelopment||!o.isBuilt)||this;return s._configurationService=r,s._extensionService=i,t.languagesExtPoint.setHandler(function(e){for(var i=[],r=0,o=e.length;r<o;r++){
var s=e[r];if(Array.isArray(s.value))for(var l=0,u=s.value.length;l<u;l++){var d=s.value[l];if(function(e,i){return e?"string"!=typeof e.id?(i.error(n.localize("require.id","property `{0}` is mandatory and must be of type `string`","id")),!1):g(e.extensions)?g(e.filenames)?void 0!==e.firstLine&&"string"!=typeof e.firstLine?(i.error(n.localize("opt.firstLine","property `{0}` can be omitted and must be of type `string`","firstLine")),!1):void 0!==e.configuration&&"string"!=typeof e.configuration?(i.error(n.localize("opt.configuration","property `{0}` can be omitted and must be of type `string`","configuration")),!1):g(e.aliases)?!!g(e.mimetypes)||(i.error(n.localize("opt.mimetypes","property `{0}` can be omitted and must be of type `string[]`","mimetypes")),!1):(i.error(n.localize("opt.aliases","property `{0}` can be omitted and must be of type `string[]`","aliases")),!1):(i.error(n.localize("opt.filenames","property `{0}` can be omitted and must be of type `string[]`","filenames")),
!1):(i.error(n.localize("opt.extensions","property `{0}` can be omitted and must be of type `string[]`","extensions")),!1):(i.error(n.localize("invalid.empty","Empty value for `contributes.{0}`",t.languagesExtPoint.name)),!1)}(d,s.collector)){var p=void 0;d.configuration&&(p=a.joinPath(s.description.extensionLocation,d.configuration)),i.push({id:d.id,extensions:d.extensions,filenames:d.filenames,filenamePatterns:d.filenamePatterns,firstLine:d.firstLine,aliases:d.aliases,mimetypes:d.mimetypes,configuration:p})}}else s.collector.error(n.localize("invalid","Invalid `contributes.{0}`. Expected an array.",t.languagesExtPoint.name))}c.ModesRegistry.registerLanguages(i)}),s.updateMime(),s._configurationService.onDidChangeConfiguration(function(e){e.affectsConfiguration(p.FILES_ASSOCIATIONS_CONFIG)&&s.updateMime()}),s._extensionService.whenInstalledExtensionsRegistered().then(function(){s.updateMime()}),s.onDidCreateMode(function(e){s._extensionService.activateByEvent("onLanguage:"+e.getId())}),s}return i(l,e),
l.prototype._onReady=function(){return this._onReadyPromise||(this._onReadyPromise=Promise.resolve(this._extensionService.whenInstalledExtensionsRegistered().then(function(){return!0}))),this._onReadyPromise},l.prototype.updateMime=function(){var e=this,t=this._configurationService.getValue();s.clearTextMimes(!0),t.files&&t.files.associations&&Object.keys(t.files.associations).forEach(function(i){var n=t.files.associations[i],r=e.getMimeForMode(n)||"text/x-"+n;s.registerTextMime({id:n,mime:r,filepattern:i,userConfigured:!0})}),this._onLanguagesMaybeChanged.fire()},l=r([o(0,h.IExtensionService),o(1,u.IConfigurationService),o(2,d.IEnvironmentService)],l)}(l.ModeServiceImpl);t.WorkbenchModeServiceImpl=v}),define(e[228],t([1,0,65,19,3,44,24,22,6,36,229,2,48,16,95,70,68,21,115,208,78,183,207]),function(e,t,i,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w){"use strict";function I(e,t,i){var n=e.onFileChanges(function(e){for(var n=0,r=e.changes;n<r.length;n++){var o=r[n]
;c.isEqualOrParent(o.resource,t)&&i(o.type,o.resource)}});return e.watchFileChanges(t),{dispose:function(){n.dispose(),e.unwatchFileChanges(t)}}}Object.defineProperty(t,"__esModule",{value:!0});var x;!function(e){e.toValidSnippet=function(e,t,i){if(l.isFalsyOrWhitespace(t.path))return e.collector.error(h.localize("invalid.path.0","Expected string in `contributes.{0}.path`. Provided value: {1}",e.description.name,String(t.path))),null;if(l.isFalsyOrWhitespace(t.language)&&!l.endsWith(t.path,".code-snippets"))return e.collector.error(h.localize("invalid.language.0","When omitting the language, the value of `contributes.{0}.path` must be a `.code-snippets`-file. Provided value: {1}",e.description.name,String(t.path))),null;if(!l.isFalsyOrWhitespace(t.language)&&!i.isRegisteredMode(t.language))return e.collector.error(h.localize("invalid.language","Unknown language in `contributes.{0}.language`. Provided value: {1}",e.description.name,String(t.language))),null
;var n=e.description.extensionLocation,r=c.joinPath(n,t.path);return c.isEqualOrParent(r,n)?{language:t.language,location:r}:(e.collector.error(h.localize("invalid.path.1","Expected `contributes.{0}.path` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.",e.description.name,r.path,n.path)),null)},e.snippetsContribution={description:h.localize("vscode.extension.contributes.snippets","Contributes snippets."),type:"array",defaultSnippets:[{body:[{language:"",path:""}]}],items:{type:"object",defaultSnippets:[{body:{language:"${1:id}",path:"./snippets/${2:id}.json."}}],properties:{language:{description:h.localize("vscode.extension.contributes.snippets-language","Language identifier for which this snippet is contributed to."),type:"string"},path:{description:h.localize("vscode.extension.contributes.snippets-path","Path of the snippets file. The path is relative to the extension folder and typically starts with './snippets/'."),type:"string"}}}},
e.point=_.ExtensionsRegistry.registerExtensionPoint("snippets",[C.languagesExtPoint],e.snippetsContribution)}(x||(x={}));var D=function(){function e(e,t,i,n,r,o){var s=this;this._environmentService=e,this._contextService=t,this._modeService=i,this._logService=n,this._fileService=r,this._disposables=[],this._pendingWork=[],this._files=new Map,this._pendingWork.push(Promise.resolve(o.when(3).then(function(){s._initExtensionSnippets(),s._initUserSnippets(),s._initWorkspaceSnippets()}))),p.setSnippetSuggestSupport(new w.SnippetCompletionProvider(this._modeService,this))}return e.prototype.dispose=function(){s.dispose(this._disposables)},e.prototype._joinSnippets=function(){var e=this._pendingWork.slice(0);return this._pendingWork.length=0,Promise.all(e)},e.prototype.getSnippetFiles=function(){var e=this;return this._joinSnippets().then(function(){return a.values(e._files)})},e.prototype.getSnippets=function(e){var t=this;return this._joinSnippets().then(function(){
var i=t._modeService.getLanguageIdentifier(e).language,n=[],r=[];return t._files.forEach(function(e){r.push(e.load().then(function(e){return e.select(i,n)}).catch(function(i){return t._logService.error(i,e.location.toString())}))}),Promise.all(r).then(function(){return n})})},e.prototype.getSnippetsSync=function(e){var t=this._modeService.getLanguageIdentifier(e).language,i=[];return this._files.forEach(function(e){e.load().catch(function(e){}),e.select(t,i)}),i},e.prototype._initExtensionSnippets=function(){var e=this;x.point.setHandler(function(t){for(var i=function(t){for(var i=function(i){var n=x.toValidSnippet(t,i,e._modeService);if(!n)return"continue";if(e._files.has(n.location.toString()))e._files.get(n.location.toString()).defaultScopes.push(n.language);else{var r=new E.SnippetFile(3,n.location,n.language?[n.language]:void 0,t.description,e._fileService);e._files.set(r.location.toString(),r),e._environmentService.isExtensionDevelopment&&r.load().then(function(e){e.data.some(function(e){
return e.isBogous})&&t.collector.warn(h.localize("badVariableUse","One or more snippets from the extension '{0}' very likely confuse snippet-variables and snippet-placeholders (see https://code.visualstudio.com/docs/editor/userdefinedsnippets#_snippet-syntax for more details)",t.description.name))},function(e){t.collector.warn(h.localize("badFile",'The snippet file "{0}" could not be read.',r.location.toString()))})}},n=0,r=t.value;n<r.length;n++){i(r[n])}},n=0,r=t;n<r.length;n++){i(r[n])}})},e.prototype._initWorkspaceSnippets=function(){var e=this,t=[],i=function(){t=s.dispose(t),e._pendingWork.push(e._initWorkspaceFolderSnippets(e._contextService.getWorkspace(),t))};this._disposables.push({dispose:function(){s.dispose(t)}}),this._disposables.push(this._contextService.onDidChangeWorkspaceFolders(i)),this._disposables.push(this._contextService.onDidChangeWorkbenchState(i)),i()},e.prototype._initWorkspaceFolderSnippets=function(e,t){var i=this,n=e.folders.map(function(e){var n=e.toResource(".vscode")
;return i._fileService.existsFile(n).then(function(e){e?i._initFolderSnippets(2,n,t):t.push(I(i._fileService,n,function(e){1===e&&i._initFolderSnippets(2,n,t)}))})});return Promise.all(n)},e.prototype._initUserSnippets=function(){var e=this,t=u.URI.file(i.join(this._environmentService.appSettingsHome,"snippets"));return this._fileService.createFolder(t).then(function(){return e._initFolderSnippets(1,t,e._disposables)})},e.prototype._initFolderSnippets=function(e,t,i){var r=this,o=[],a=function(){return o=s.dispose(o),r._fileService.resolveFile(t).then(function(t){if(!n.isFalsyOrEmpty(t.children))for(var i=0,s=t.children;i<s.length;i++){var a=s[i];o.push(r._addSnippetFile(a.resource,e))}},function(e){r._logService.error("Failed snippets from folder '"+t.toString()+"'",e)})};return i.push(I(this._fileService,t,a)),i.push(s.combinedDisposable(o)),a()},e.prototype._addSnippetFile=function(e,t){var n=this,r=i.extname(e.path),o=e.toString();if(1===t&&".json"===r){var s=i.basename(e.path,".json")
;this._files.set(o,new E.SnippetFile(t,e,[s],void 0,this._fileService))}else".code-snippets"===r&&this._files.set(o,new E.SnippetFile(t,e,void 0,void 0,this._fileService));return{dispose:function(){return n._files.delete(o)}}},e=r([o(0,f.IEnvironmentService),o(1,S.IWorkspaceContextService),o(2,d.IModeService),o(3,y.ILogService),o(4,g.IFileService),o(5,m.ILifecycleService)],e)}();v.registerSingleton(b.ISnippetsService,D),t.getNonWhitespacePrefix=function(e,t){for(var i=e.getLineContent(t.lineNumber).substr(0,t.column-1),n=Math.max(0,i.length-100),r=i.length-1;r>=n;r--){var o=i.charAt(r);if(/\s/.test(o))return i.substr(r+1)}return 0===n?i:""}}),define(e[416],t([1,0,11,115,228,22,3,46,67,119,229,134,207]),function(e,t,i,n,s,a,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(t,i,n){var r=this;this._editor=t,this._snippetService=i,this._activeSnippets=[],this._hasSnippets=e.ContextKey.bindTo(n),
this._configListener=this._editor.onDidChangeConfiguration(function(e){e.contribInfo&&r._update()}),this._update()}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){c.dispose(this._configListener),c.dispose(this._selectionListener)},e.prototype._update=function(){var e=this,t="onlySnippets"===this._editor.getConfiguration().contribInfo.tabCompletion;this._enabled!==t&&(this._enabled=t,this._enabled?(this._selectionListener=this._editor.onDidChangeCursorSelection(function(t){return e._updateSnippets()}),this._editor.getModel()&&this._updateSnippets()):c.dispose(this._selectionListener))},e.prototype._updateSnippets=function(){this._activeSnippets=[];var e=this._editor.getSelection(),t=this._editor.getModel();t.tokenizeIfCheap(e.positionLineNumber);var i=t.getLanguageIdAtPosition(e.positionLineNumber,e.positionColumn),n=this._snippetService.getSnippetsSync(i);if(n){if(l.Range.isEmpty(e)){
var r=s.getNonWhitespacePrefix(t,e.getPosition());if(r)for(var o=0,c=n;o<c.length;o++){h=c[o];a.endsWith(r,h.prefix)&&this._activeSnippets.push(h)}}else if(!l.Range.spansMultipleLines(e)&&t.getValueLengthInRange(e)<=100){var u=t.getValueInRange(e);if(u)for(var d=0,p=n;d<p.length;d++){var h;u===(h=p[d]).prefix&&this._activeSnippets.push(h)}}this._hasSnippets.set(this._activeSnippets.length>0)}else this._hasSnippets.set(!1)},e.prototype.performSnippetCompletions=function(){var e=this;if(1===this._activeSnippets.length){var t=this._activeSnippets[0];d.SnippetController2.get(this._editor).insert(t.codeSnippet,t.prefix.length,0)}else this._activeSnippets.length>1&&p.showSimpleSuggestions(this._editor,this._activeSnippets.map(function(t){var i=e._editor.getPosition(),n=l.Range.fromPositions(i.delta(0,-t.prefix.length),i);return new f.SnippetCompletion(t,n)}))},e.ID="editor.tabCompletionController",e.ContextKey=new i.RawContextKey("hasSnippetCompletions",void 0),
e=r([o(1,n.ISnippetsService),o(2,i.IContextKeyService)],e)}();t.TabCompletionController=g,u.registerEditorContribution(g);var v=u.EditorCommand.bindToContribution(g.get);u.registerEditorCommand(new v({id:"insertSnippet",precondition:g.ContextKey,handler:function(e){return e.performSnippetCompletions()},kbOpts:{weight:100,kbExpr:i.ContextKeyExpr.and(h.EditorContextKeys.editorTextFocus,h.EditorContextKeys.tabDoesNotMoveFocus,d.SnippetController2.InSnippetMode.toNegated()),primary:2}}))}),define(e[93],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPanelService=i.createDecorator("panelService")}),define(e[49],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PositionToString=function(e){switch(e){case 0:return"LEFT";case 1:return"RIGHT";case 2:return"BOTTOM"}},t.IPartService=i.createDecorator("partService")}),define(e[419],t([1,0,2,7,14,26,47,9,49]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{
value:!0});var p=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.partService=n,o.configurationService=r,o.enabled=!!o.partService,o}return i(t,e),t.prototype.run=function(){var e=!this.partService.isVisible(0);return this.configurationService.updateValue(t.activityBarVisibleKey,e,1)},t.ID="workbench.action.toggleActivityBarVisibility",t.LABEL=n.localize("toggleActivityBar","Toggle Activity Bar Visibility"),t.activityBarVisibleKey="workbench.activityBar.visible",t=r([o(2,d.IPartService),o(3,u.IConfigurationService)],t)}(a.Action);t.ToggleActivityBarVisibilityAction=p;s.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(p,p.ID,p.LABEL),"View: Toggle Activity Bar Visibility",n.localize("view","View")),c.MenuRegistry.appendMenuItem(11,{group:"2_workbench_layout",command:{id:p.ID,title:n.localize({key:"miToggleActivityBar",comment:["&& denotes a mnemonic"]},"Toggle &&Activity Bar")},order:4})}),
define(e[420],t([1,0,2,7,14,26,47,49,9]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.partService=n,o.configurationService=r,o.enabled=!!o.partService&&!!o.configurationService,o}return i(t,e),t.prototype.run=function(){var e=0===this.partService.getSideBarPosition()?"right":"left";return this.configurationService.updateValue(t.sidebarPositionConfigurationKey,e,1)},t.getLabel=function(e){return 0===e.getSideBarPosition()?n.localize("moveSidebarRight","Move Side Bar Right"):n.localize("moveSidebarLeft","Move Side Bar Left")},t.ID="workbench.action.toggleSidebarPosition",t.LABEL=n.localize("toggleSidebarPosition","Toggle Side Bar Position"),t.sidebarPositionConfigurationKey="workbench.sideBar.location",t=r([o(2,u.IPartService),o(3,d.IConfigurationService)],t)}(a.Action);t.ToggleSidebarPositionAction=p
;s.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(p,p.ID,p.LABEL),"View: Toggle Side Bar Position",n.localize("view","View")),c.MenuRegistry.appendMenuItem(11,{group:"2_workbench_layout",command:{id:p.ID,title:n.localize({key:"miMoveSidebarLeftRight",comment:["&& denotes a mnemonic"]},"&&Move Side Bar Left/Right")},order:2})}),define(e[421],t([1,0,2,7,14,26,47,49]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.partService=n,r.enabled=!!r.partService,r}return i(t,e),t.prototype.run=function(){var e=this.partService.isVisible(1);return this.partService.setSideBarHidden(e),Promise.resolve(null)},t.ID="workbench.action.toggleSidebarVisibility",t.LABEL=n.localize("toggleSidebar","Toggle Side Bar Visibility"),t=r([o(2,u.IPartService)],t)}(a.Action);t.ToggleSidebarVisibilityAction=d
;s.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(d,d.ID,d.LABEL,{primary:2080}),"View: Toggle Side Bar Visibility",n.localize("view","View")),c.MenuRegistry.appendMenuItem(11,{group:"2_workbench_layout",command:{id:d.ID,title:n.localize({key:"miToggleSidebar",comment:["&& denotes a mnemonic"]},"&&Toggle Side Bar")},order:1})}),define(e[422],t([1,0,2,14,69,7,26,47,49]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.partService=n,r.enabled=!!r.partService,r}return i(t,e),t.prototype.run=function(){return this.partService.toggleZenMode(),Promise.resolve(null)},t.ID="workbench.action.toggleZenMode",t.LABEL=n.localize("toggleZenMode","Toggle Zen Mode"),t=r([o(2,d.IPartService)],t)}(s.Action);c.Registry.as(u.Extensions.WorkbenchActions).registerWorkbenchAction(new l.SyncActionDescriptor(p,p.ID,p.LABEL,{primary:a.KeyChord(2089,56)
}),"View: Toggle Zen Mode",n.localize("view","View")),l.MenuRegistry.appendMenuItem(11,{group:"1_toggle_view",command:{id:p.ID,title:n.localize("miToggleZenMode","Toggle Zen Mode")},order:2})}),define(e[423],t([1,0,3,8,7,103,15,49,4,76,104,5]),function(e,t,n,s,a,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.parent=t,s.groupView=i,s.partService=n,s.instantiationService=r,s._onDidFocus=s._register(new f.Emitter),s._onDidSizeConstraintsChange=s._register(new f.Emitter),s.controls=[],s.activeControlDisposeables=[],s.editorOperation=s._register(new p.LongRunningOperation(o)),s}return i(t,e),Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return this._activeControl?this._activeControl.minimumWidth:h.DEFAULT_EDITOR_MIN_DIMENSIONS.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumHeight",{get:function(){
return this._activeControl?this._activeControl.minimumHeight:h.DEFAULT_EDITOR_MIN_DIMENSIONS.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return this._activeControl?this._activeControl.maximumWidth:h.DEFAULT_EDITOR_MAX_DIMENSIONS.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumHeight",{get:function(){return this._activeControl?this._activeControl.maximumHeight:h.DEFAULT_EDITOR_MAX_DIMENSIONS.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidFocus",{get:function(){return this._onDidFocus.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidSizeConstraintsChange",{get:function(){return this._onDidSizeConstraintsChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeControl",{get:function(){return this._activeControl},enumerable:!0,configurable:!0}),t.prototype.openEditor=function(e,t){
var i=a.Registry.as(c.Extensions.Editors).getEditor(e),n=this.doShowEditorControl(i,t);return this.doSetInput(n,e,t).then(function(e){return{control:n,editorChanged:e}})},t.prototype.doShowEditorControl=function(e,t){if(this._activeControl&&e.describes(this._activeControl))return this._activeControl;this.doHideActiveEditorControl();var i=this.doCreateEditorControl(e);return this.doSetActiveControl(i),this.parent.appendChild(i.getContainer()),s.show(i.getContainer()),i.setVisible(!0,this.groupView),this.dimension&&i.layout(this.dimension),i},t.prototype.doCreateEditorControl=function(e){var t=this.doInstantiateEditorControl(e);if(!t.getContainer()){var i=document.createElement("div");s.addClass(i,"editor-instance"),i.id=e.getId(),t.create(i)}return t},t.prototype.doInstantiateEditorControl=function(e){var t=this.controls.filter(function(t){return e.describes(t)})[0];if(t)return t;var i=this._register(e.instantiate(this.instantiationService));return this.controls.push(i),i},
t.prototype.doSetActiveControl=function(e){var t=this;this._activeControl=e,this.activeControlDisposeables=n.dispose(this.activeControlDisposeables),e&&(this.activeControlDisposeables.push(e.onDidSizeConstraintsChange(function(e){return t._onDidSizeConstraintsChange.fire(e)})),this.activeControlDisposeables.push(e.onDidFocus(function(){return t._onDidFocus.fire()}))),this._onDidSizeConstraintsChange.fire()},t.prototype.doSetInput=function(e,t,i){var n=i&&i.forceReload,r=e.input&&e.input.matches(t);if(r&&!n){e.setOptions(i);return(!i||!i.preserveFocus)&&e.focus(),l.TPromise.as(!1)}var o=this.editorOperation.start(this.partService.isCreated()?800:3200),s=!r;return l.TPromise.wrap(e.setInput(t,i,o.token)).then(function(){if(o.isCurrent()){(!i||!i.preserveFocus)&&e.focus()}return o.stop(),s},function(e){return o.stop(),l.TPromise.wrapError(e)})},t.prototype.doHideActiveEditorControl=function(){if(this._activeControl){this.editorOperation.stop();var e=this._activeControl.getContainer();this.parent.removeChild(e),
s.hide(e),this._activeControl.clearInput(),this._activeControl.setVisible(!1,this.groupView),this.doSetActiveControl(null)}},t.prototype.closeEditor=function(e){this._activeControl&&e.matches(this._activeControl.input)&&this.doHideActiveEditorControl()},t.prototype.layout=function(e){this.dimension=e,this._activeControl&&this.dimension&&this._activeControl.layout(this.dimension)},t.prototype.dispose=function(){this.activeControlDisposeables=n.dispose(this.activeControlDisposeables),e.prototype.dispose.call(this)},t=r([o(2,u.IPartService),o(3,d.IInstantiationService),o(4,p.IProgressService)],t)}(n.Disposable);t.EditorControl=g}),define(e[232],t([1,0,141,61,49,8,4,12,27,57,54,52,368,360,72,2,9,64,425,50,48,233,5,125,3,184,41,11,110,53,14,6,43,19,13,206,128,28,160]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W,V,z){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var G=l.$,K={iconPath:{
dark:L.URI.parse(e.toUrl("vs/workbench/browser/parts/quickinput/media/dark/arrow-left.svg")),light:L.URI.parse(e.toUrl("vs/workbench/browser/parts/quickinput/media/light/arrow-left.svg"))},tooltip:S.localize("quickInput.back","Back"),handle:-1},H=function(){function e(e){this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=new x.Emitter,this.onDidHideEmitter=new x.Emitter,this.visibleDisposables=[],this.disposables=[this.onDidTriggerButtonEmitter,this.onDidHideEmitter],this.onDidTriggerButton=this.onDidTriggerButtonEmitter.event,this.onDidHide=this.onDidHideEmitter.event}return Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){this._title=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._steps},set:function(e){this._steps=e,this.update()},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"totalSteps",{get:function(){return this._totalSteps},set:function(e){this._totalSteps=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contextKey",{get:function(){return this._contextKey},set:function(e){this._contextKey=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"busy",{get:function(){return this._busy},set:function(e){this._busy=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ignoreFocusOut",{get:function(){return this._ignoreFocusOut},set:function(e){this._ignoreFocusOut=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buttons",{get:function(){return this._buttons},set:function(e){this._buttons=e,this.buttonsUpdated=!0,this.update()},enumerable:!0,configurable:!0}),
e.prototype.show=function(){var e=this;this.visible||(this.visibleDisposables.push(this.ui.onDidTriggerButton(function(t){-1!==e.buttons.indexOf(t)&&e.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this.update())},e.prototype.hide=function(){this.visible&&this.ui.hide()},e.prototype.didHide=function(){this.visible=!1,this.visibleDisposables=T.dispose(this.visibleDisposables),this.onDidHideEmitter.fire()},e.prototype.update=function(){var e=this;if(this.visible){var t=this.getTitle();if(this.ui.title.textContent!==t&&(this.ui.title.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new B.TimeoutTimer,this.busyDelay.setIfNotSet(function(){e.visible&&e.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=null),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();var i=this.buttons.filter(function(e){return e===K});this.ui.leftActionBar.push(i.map(function(t,i){
var n=new P.Action("id-"+i,"",t.iconClass||W.getIconClass(t.iconPath),!0,function(){return e.onDidTriggerButtonEmitter.fire(t)});return n.tooltip=t.tooltip,n}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();var n=this.buttons.filter(function(e){return e!==K});this.ui.rightActionBar.push(n.map(function(t,i){var n=new P.Action("id-"+i,"",t.iconClass||W.getIconClass(t.iconPath),!0,function(){return e.onDidTriggerButtonEmitter.fire(t)});return n.tooltip=t.tooltip,n}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey)}},e.prototype.getTitle=function(){return this.title&&this.step?this.title+" ("+this.getSteps()+")":this.title?this.title:this.step?this.getSteps():""},e.prototype.getSteps=function(){return this.step&&this.totalSteps?S.localize("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""},e.prototype.dispose=function(){this.hide(),this.disposables=T.dispose(this.disposables)},e
}(),U=function(e){function t(t){var i=e.call(this,t)||this;return i._value="",i.onDidChangeValueEmitter=new x.Emitter,i.onDidAcceptEmitter=new x.Emitter,i._items=[],i.itemsUpdated=!1,i._canSelectMany=!1,i._matchOnDescription=!1,i._matchOnDetail=!1,i._activeItems=[],i.activeItemsUpdated=!1,i.activeItemsToConfirm=[],i.onDidChangeActiveEmitter=new x.Emitter,i._selectedItems=[],i.selectedItemsUpdated=!1,i.selectedItemsToConfirm=[],i.onDidChangeSelectionEmitter=new x.Emitter,i.onDidTriggerItemButtonEmitter=new x.Emitter,i.onDidChangeValue=i.onDidChangeValueEmitter.event,i.onDidAccept=i.onDidAcceptEmitter.event,i.onDidChangeActive=i.onDidChangeActiveEmitter.event,i.onDidChangeSelection=i.onDidChangeSelectionEmitter.event,i.onDidTriggerItemButton=i.onDidTriggerItemButtonEmitter.event,i.disposables.push(i.onDidChangeValueEmitter,i.onDidAcceptEmitter,i.onDidChangeActiveEmitter,i.onDidChangeSelectionEmitter,i.onDidTriggerItemButtonEmitter),i}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){
return this._value},set:function(e){this._value=e||"",this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e,this.itemsUpdated=!0,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canSelectMany",{get:function(){return this._canSelectMany},set:function(e){this._canSelectMany=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matchOnDescription",{get:function(){return this._matchOnDescription},set:function(e){this._matchOnDescription=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matchOnDetail",{get:function(){return this._matchOnDetail},set:function(e){this._matchOnDetail=e,this.update()},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"activeItems",{get:function(){return this._activeItems},set:function(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._selectedItems},set:function(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyMods",{get:function(){return this.ui.keyMods},enumerable:!0,configurable:!0}),t.prototype.show=function(){var t=this;this.visible||this.visibleDisposables.push(this.ui.inputBox.onDidChange(function(e){e!==t.value&&(t._value=e,t.ui.list.filter(t.ui.inputBox.value),t.ui.isScreenReaderOptimized()||t.canSelectMany||t.ui.list.focus("First"),t.onDidChangeValueEmitter.fire(e))}),this.ui.inputBox.onKeyDown(function(e){switch(e.keyCode){case 18:t.ui.list.focus("Next"),t.canSelectMany&&t.ui.list.domFocus();break;case 16:
t.ui.list.getFocusedElements().length?t.ui.list.focus("Previous"):t.ui.list.focus("Last"),t.canSelectMany&&t.ui.list.domFocus();break;case 12:t.ui.list.getFocusedElements().length?t.ui.list.focus("NextPage"):t.ui.list.focus("First"),t.canSelectMany&&t.ui.list.domFocus();break;case 11:t.ui.list.getFocusedElements().length?t.ui.list.focus("PreviousPage"):t.ui.list.focus("Last"),t.canSelectMany&&t.ui.list.domFocus()}}),this.ui.onDidAccept(function(){!t.canSelectMany&&t.activeItems[0]&&(t._selectedItems=[t.activeItems[0]],t.onDidChangeSelectionEmitter.fire(t.selectedItems)),t.onDidAcceptEmitter.fire()}),this.ui.list.onDidChangeFocus(function(e){t.activeItemsUpdated||t.activeItemsToConfirm!==t._activeItems&&N.equals(e,t._activeItems,function(e,t){return e===t})||(t._activeItems=e,t.onDidChangeActiveEmitter.fire(e))}),this.ui.list.onDidChangeSelection(function(e){t.canSelectMany?e.length&&t.ui.list.setSelectedElements([]):t.selectedItemsToConfirm!==t._selectedItems&&N.equals(e,t._selectedItems,function(e,t){
return e===t})||(t._selectedItems=e,t.onDidChangeSelectionEmitter.fire(e),e.length&&t.onDidAcceptEmitter.fire())}),this.ui.list.onChangedCheckedElements(function(e){t.canSelectMany&&(t.selectedItemsToConfirm!==t._selectedItems&&N.equals(e,t._selectedItems,function(e,t){return e===t})||(t._selectedItems=e,t.onDidChangeSelectionEmitter.fire(e)))}),this.ui.list.onButtonTriggered(function(e){return t.onDidTriggerItemButtonEmitter.fire(e)}),this.registerQuickNavigation()),e.prototype.show.call(this)},t.prototype.registerQuickNavigation=function(){var e=this;return l.addDisposableListener(this.ui.container,l.EventType.KEY_UP,function(t){if(!e.canSelectMany&&e.quickNavigate){var i=new y.StandardKeyboardEvent(t),n=i.keyCode,r=e.quickNavigate.keybindings;(3===n||r.some(function(e){var t=e.getParts(),r=t[0];return!t[1]&&(r.shiftKey&&4===n?!(i.ctrlKey||i.altKey||i.metaKey):!(!r.altKey||6!==n)||(!(!r.ctrlKey||5!==n)||!(!r.metaKey||57!==n)))}))&&e.activeItems[0]&&(e._selectedItems=[e.activeItems[0]],
e.onDidChangeSelectionEmitter.fire(e.selectedItems),e.onDidAcceptEmitter.fire())}})},t.prototype.update=function(){e.prototype.update.call(this),this.visible&&(this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.itemsUpdated&&(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.ui.inputBox.value),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this.ui.isScreenReaderOptimized()||this.canSelectMany||this.ui.list.focus("First")),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.ui.isScreenReaderOptimized()||this.ui.list.focus("First")),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,
this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.setComboboxAccessibility(!0),this.ui.inputBox.setAttribute("aria-label",t.INPUT_BOX_ARIA_LABEL),this.ui.setVisibilities(this.canSelectMany?{title:!!this.title||!!this.step,checkAll:!0,inputBox:!0,visibleCount:!0,count:!0,ok:!0,list:!0}:{title:!!this.title||!!this.step,inputBox:!0,visibleCount:!0,list:!0}))},t.INPUT_BOX_ARIA_LABEL=S.localize("quickInputBox.ariaLabel","Type to narrow down results."),t}(H),j=function(e){function t(i){var n=e.call(this,i)||this
;return n._value="",n.valueSelectionUpdated=!0,n._password=!1,n.noValidationMessage=t.noPromptMessage,n.onDidValueChangeEmitter=new x.Emitter,n.onDidAcceptEmitter=new x.Emitter,n.onDidChangeValue=n.onDidValueChangeEmitter.event,n.onDidAccept=n.onDidAcceptEmitter.event,n.disposables.push(n.onDidValueChangeEmitter,n.onDidAcceptEmitter),n}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e||"",this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueSelection",{set:function(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"password",{get:function(){return this._password},set:function(e){this._password=e,this.update()},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"prompt",{get:function(){return this._prompt},set:function(e){this._prompt=e,this.noValidationMessage=e?S.localize("inputModeEntryDescription","{0} (Press 'Enter' to confirm or 'Escape' to cancel)",e):t.noPromptMessage,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validationMessage",{get:function(){return this._validationMessage},set:function(e){this._validationMessage=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.show=function(){var t=this;this.visible||(this.visibleDisposables.push(this.ui.inputBox.onDidChange(function(e){e!==t.value&&(t._value=e,t.onDidValueChangeEmitter.fire(e))}),this.ui.onDidAccept(function(){return t.onDidAcceptEmitter.fire()})),this.valueSelectionUpdated=!0),e.prototype.show.call(this)},t.prototype.update=function(){e.prototype.update.call(this),this.visible&&(this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,
this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password),this.validationMessage||this.ui.message.textContent===this.noValidationMessage||(this.ui.message.textContent=this.noValidationMessage,this.ui.inputBox.showDecoration(R.default.Ignore)),this.validationMessage&&this.ui.message.textContent!==this.validationMessage&&(this.ui.message.textContent=this.validationMessage,this.ui.inputBox.showDecoration(R.default.Error)),this.ui.setVisibilities({title:!!this.title||!!this.step,inputBox:!0,message:!0}))},t.noPromptMessage=S.localize("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel"),t}(H),q=function(e){function t(i,n,r,o,s,a,c,l,u,d){var p=e.call(this,t.ID,u,d)||this;return p.environmentService=i,p.configurationService=n,p.instantiationService=r,
p.partService=o,p.quickOpenService=s,p.editorGroupService=a,p.keybindingService=c,p.contextKeyService=l,p.idPrefix="quickInput_",p.comboboxAccessibility=!1,p.enabled=!0,p.inQuickOpenWidgets={},p.contexts=Object.create(null),p.onDidAcceptEmitter=p._register(new x.Emitter),p.onDidTriggerButtonEmitter=p._register(new x.Emitter),p.keyMods={ctrlCmd:!1,alt:!1},p.backButton=K,p.inQuickOpenContext=new O.RawContextKey("inQuickOpen",!1).bindTo(l),p._register(p.quickOpenService.onShow(function(){return p.inQuickOpen("quickOpen",!0)})),p._register(p.quickOpenService.onHide(function(){return p.inQuickOpen("quickOpen",!1)})),p.registerKeyModsListeners(),p}return i(t,e),t.prototype.inQuickOpen=function(e,t){t?this.inQuickOpenWidgets[e]=!0:delete this.inQuickOpenWidgets[e],Object.keys(this.inQuickOpenWidgets).length?this.inQuickOpenContext.get()||this.inQuickOpenContext.set(!0):this.inQuickOpenContext.get()&&this.inQuickOpenContext.reset()},t.prototype.setContextKey=function(e){var t
;e&&((t=this.contexts[e])||(t=new O.RawContextKey(e,!1).bindTo(this.contextKeyService),this.contexts[e]=t)),t&&t.get()||(this.resetContextKeys(),t&&t.set(!0))},t.prototype.resetContextKeys=function(){for(var e in this.contexts)this.contexts[e].get()&&this.contexts[e].reset()},t.prototype.registerKeyModsListeners=function(){var e=this,t=this.partService.getWorkbenchElement();this._register(l.addDisposableListener(t,l.EventType.KEY_DOWN,function(t){switch(new y.StandardKeyboardEvent(t).keyCode){case 5:case 57:e.keyMods.ctrlCmd=!0;break;case 6:e.keyMods.alt=!0}})),this._register(l.addDisposableListener(t,l.EventType.KEY_UP,function(t){switch(new y.StandardKeyboardEvent(t).keyCode){case 5:case 57:e.keyMods.ctrlCmd=!1;break;case 6:e.keyMods.alt=!1}}))},t.prototype.create=function(){var e=this;if(!this.ui){var t=this.partService.getWorkbenchElement(),i=l.append(t,G(".quick-input-widget.show-file-icons"));i.tabIndex=-1,i.style.display="none",this.titleBar=l.append(i,G(".quick-input-titlebar"))
;var n=this._register(new M.ActionBar(this.titleBar));n.domNode.classList.add("quick-input-left-action-bar");var r=l.append(this.titleBar,G(".quick-input-title")),o=this._register(new M.ActionBar(this.titleBar));o.domNode.classList.add("quick-input-right-action-bar");var s=l.append(i,G(".quick-input-header")),a=l.append(s,G("input.quick-input-check-all"));a.type="checkbox",this._register(l.addStandardDisposableListener(a,l.EventType.CHANGE,function(e){var t=a.checked;f.setAllVisibleChecked(t)})),this._register(l.addDisposableListener(a,l.EventType.CLICK,function(e){(e.x||e.y)&&c.setFocus()})),this.filterContainer=l.append(s,G(".quick-input-filter"));var c=this._register(new m.QuickInputBox(this.filterContainer));c.setAttribute("aria-describedby",this.idPrefix+"message"),this.visibleCountContainer=l.append(this.filterContainer,G(".quick-input-visible-count")),this.visibleCountContainer.setAttribute("aria-live","polite"),this.visibleCountContainer.setAttribute("aria-atomic","true")
;var u=new _.CountBadge(this.visibleCountContainer,{countFormat:S.localize({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")});this.countContainer=l.append(this.filterContainer,G(".quick-input-count")),this.countContainer.setAttribute("aria-live","polite");var d=new _.CountBadge(this.countContainer,{countFormat:S.localize({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")});this._register(C.attachBadgeStyler(d,this.themeService)),this.okContainer=l.append(s,G(".quick-input-action")),this.ok=new D.Button(this.okContainer),C.attachButtonStyler(this.ok,this.themeService),this.ok.label=S.localize("ok","OK"),this._register(this.ok.onDidClick(function(t){e.onDidAcceptEmitter.fire()}))
;var p=l.append(i,G("#"+this.idPrefix+"message.quick-input-message")),h=new I.ProgressBar(i);l.addClass(h.getContainer(),"quick-input-progress"),this._register(C.attachProgressBarStyler(h,this.themeService));var f=this._register(this.instantiationService.createInstance(v.QuickInputList,i,this.idPrefix+"list"));this._register(f.onChangedAllVisibleChecked(function(e){a.checked=e})),this._register(f.onChangedVisibleCount(function(e){u.setCount(e)})),this._register(f.onChangedCheckedCount(function(e){d.setCount(e)})),this._register(f.onLeave(function(){setTimeout(function(){c.setFocus(),e.controller instanceof U&&e.controller.canSelectMany&&f.clearFocus()},0)})),this._register(f.onDidChangeFocus(function(){e.comboboxAccessibility&&e.ui.inputBox.setAttribute("aria-activedescendant",e.ui.list.getActiveDescendant())}));var g=l.trackFocus(i);this._register(g),this._register(g.onDidBlur(function(){
e.ui.ignoreFocusOut||e.environmentService.args["sticky-quickopen"]||!e.configurationService.getValue(E.CLOSE_ON_FOCUS_LOST_CONFIG)||e.hide(!0)})),this._register(l.addDisposableListener(i,l.EventType.KEY_DOWN,function(t){var n=new y.StandardKeyboardEvent(t);switch(n.keyCode){case 3:l.EventHelper.stop(t,!0),e.onDidAcceptEmitter.fire();break;case 9:l.EventHelper.stop(t,!0),e.hide();break;case 2:if(!n.altKey&&!n.ctrlKey&&!n.metaKey){var r=[".action-label.icon"];i.classList.contains("show-checkboxes")?r.push("input"):r.push("input[type=text]"),e.ui.list.isDisplayed()&&r.push(".monaco-list");var o=i.querySelectorAll(r.join(", "));n.shiftKey&&n.target===o[0]?(l.EventHelper.stop(t,!0),o[o.length-1].focus()):n.shiftKey||n.target!==o[o.length-1]||(l.EventHelper.stop(t,!0),o[0].focus())}}})),this._register(this.quickOpenService.onShow(function(){return e.hide(!0)})),this.ui={container:i,leftActionBar:n,title:r,rightActionBar:o,checkAll:a,inputBox:c,visibleCount:u,count:d,message:p,progressBar:h,list:f,
onDidAccept:this.onDidAcceptEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:function(){return e.isScreenReaderOptimized()},show:function(t){return e.show(t)},hide:function(){return e.hide()},setVisibilities:function(t){return e.setVisibilities(t)},setComboboxAccessibility:function(t){return e.setComboboxAccessibility(t)},setEnabled:function(t){return e.setEnabled(t)},setContextKey:function(t){return e.setContextKey(t)}},this.updateStyles()}},t.prototype.pick=function(e,t,i){var r=this;return void 0===t&&(t={}),void 0===i&&(i=g.CancellationToken.None),new Promise(function(o,s){var a=function(e){a=o,t.onKeyMods&&t.onKeyMods(l.keyMods),o(e)};if(i.isCancellationRequested)a(void 0);else{var c,l=r.createQuickPick(),u=[l,l.onDidAccept(function(){if(l.canSelectMany)a(l.selectedItems.slice()),l.hide();else{var e=l.activeItems[0];e&&(a(e),l.hide())}}),l.onDidChangeActive(function(e){var i=e[0];i&&t.onDidFocus&&t.onDidFocus(i)
}),l.onDidChangeSelection(function(e){if(!l.canSelectMany){var t=e[0];t&&(a(t),l.hide())}}),l.onDidTriggerItemButton(function(e){return t.onDidTriggerItemButton&&t.onDidTriggerItemButton(n({},e,{removeItem:function(){var t=l.items.indexOf(e.item);if(-1!==t){var i=l.items.slice();i.splice(t,1),l.items=i}}}))}),l.onDidChangeValue(function(e){!c||e||1===l.activeItems.length&&l.activeItems[0]===c||(l.activeItems=[c])}),i.onCancellationRequested(function(){l.hide()}),l.onDidHide(function(){T.dispose(u),a(void 0)})];l.canSelectMany=t.canPickMany,l.placeholder=t.placeHolder,l.ignoreFocusOut=t.ignoreFocusLost,l.matchOnDescription=t.matchOnDescription,l.matchOnDetail=t.matchOnDetail,l.quickNavigate=t.quickNavigate,l.contextKey=t.contextKey,l.busy=!0,Promise.all([e,t.activeItem]).then(function(e){var t=e[0],i=e[1];c=i,l.busy=!1,l.items=t,l.canSelectMany&&(l.selectedItems=t.filter(function(e){return"separator"!==e.type&&e.picked})),c&&(l.activeItems=[c])}),l.show(),Promise.resolve(e).then(null,function(e){s(e),l.hide()
})}})},t.prototype.input=function(e,t){var i=this;return void 0===e&&(e={}),void 0===t&&(t=g.CancellationToken.None),new Promise(function(n,r){if(t.isCancellationRequested)n(void 0);else{var o=i.createInputBox(),s=e.validateInput||function(){return Promise.resolve(void 0)},a=x.debounceEvent(o.onDidChangeValue,function(e,t){return t},100),c=e.value||"",l=Promise.resolve(s(c)),u=[o,a(function(e){e!==c&&(l=Promise.resolve(s(e)),c=e),l.then(function(t){e===c&&(o.validationMessage=t)})}),o.onDidAccept(function(){var e=o.value;e!==c&&(l=Promise.resolve(s(e)),c=e),l.then(function(t){t?e===c&&(o.validationMessage=t):(n(e),o.hide())})}),t.onCancellationRequested(function(){o.hide()}),o.onDidHide(function(){T.dispose(u),n(void 0)})];o.value=e.value,o.valueSelection=e.valueSelection,o.prompt=e.prompt,o.placeholder=e.placeHolder,o.password=e.password,o.ignoreFocusOut=e.ignoreFocusLost,o.show()}})},t.prototype.createQuickPick=function(){return this.create(),new U(this.ui)},t.prototype.createInputBox=function(){
return this.create(),new j(this.ui)},t.prototype.show=function(e){this.create(),this.quickOpenService.close();var t=this.controller;this.controller=e,t&&t.didHide(),this.setEnabled(!0),this.ui.leftActionBar.clear(),this.ui.title.textContent="",this.ui.rightActionBar.clear(),this.ui.checkAll.checked=!1,this.ui.inputBox.placeholder="",this.ui.inputBox.password=!1,this.ui.inputBox.showDecoration(R.default.Ignore),this.ui.visibleCount.setCount(0),this.ui.count.setCount(0),this.ui.message.textContent="",this.ui.progressBar.stop(),this.ui.list.setElements([]),this.ui.list.matchOnDescription=!1,this.ui.list.matchOnDetail=!1,this.ui.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),this.ui.inputBox.removeAttribute("aria-label");var i=this.keybindingService.lookupKeybinding($.ID);K.tooltip=i?S.localize("quickInput.backWithKeybinding","Back ({0})",i.getLabel()):S.localize("quickInput.back","Back"),this.inQuickOpen("quickInput",!0),this.resetContextKeys(),this.ui.container.style.display="",this.updateLayout(),
this.ui.inputBox.setFocus()},t.prototype.setVisibilities=function(e){this.ui.title.style.display=e.title?"":"none",this.ui.checkAll.style.display=e.checkAll?"":"none",this.filterContainer.style.display=e.inputBox?"":"none",this.visibleCountContainer.style.display=e.visibleCount?"":"none",this.countContainer.style.display=e.count?"":"none",this.okContainer.style.display=e.ok?"":"none",this.ui.message.style.display=e.message?"":"none",this.ui.list.display(e.list),this.ui.container.classList[e.checkAll?"add":"remove"]("show-checkboxes"),this.updateLayout()},t.prototype.setComboboxAccessibility=function(e){e!==this.comboboxAccessibility&&(this.comboboxAccessibility=e,this.comboboxAccessibility?(this.ui.inputBox.setAttribute("role","combobox"),this.ui.inputBox.setAttribute("aria-haspopup","true"),this.ui.inputBox.setAttribute("aria-autocomplete","list"),this.ui.inputBox.setAttribute("aria-activedescendant",this.ui.list.getActiveDescendant())):(this.ui.inputBox.removeAttribute("role"),
this.ui.inputBox.removeAttribute("aria-haspopup"),this.ui.inputBox.removeAttribute("aria-autocomplete"),this.ui.inputBox.removeAttribute("aria-activedescendant")))},t.prototype.isScreenReaderOptimized=function(){var e=2===V.getAccessibilitySupport(),t=this.configurationService.getValue("editor").accessibilitySupport;return"on"===t||"auto"===t&&e},t.prototype.setEnabled=function(e){if(e!==this.enabled){this.enabled=e;for(var t=0,i=this.ui.leftActionBar.items;t<i.length;t++){(o=i[t]).getAction().enabled=e}for(var n=0,r=this.ui.rightActionBar.items;n<r.length;n++){var o=r[n];o.getAction().enabled=e}this.ui.checkAll.disabled=!e,this.ok.enabled=e,this.ui.list.enabled=e}},t.prototype.hide=function(e){var t=this.controller;t&&(this.controller=null,this.inQuickOpen("quickInput",!1),this.resetContextKeys(),this.ui.container.style.display="none",e||this.editorGroupService.activeGroup.focus(),t.didHide())},t.prototype.focus=function(){this.isDisplayed()&&this.ui.inputBox.setFocus()},t.prototype.toggle=function(){
this.isDisplayed()&&this.controller instanceof U&&this.controller.canSelectMany&&this.ui.list.toggleCheckbox()},t.prototype.navigate=function(e,t){this.isDisplayed()&&this.ui.list.isDisplayed()&&(this.ui.list.focus(e?"Next":"Previous"),t&&this.controller instanceof U&&(this.controller.quickNavigate=t))},t.prototype.accept=function(){return this.onDidAcceptEmitter.fire(),Promise.resolve(void 0)},t.prototype.back=function(){return this.onDidTriggerButtonEmitter.fire(this.backButton),Promise.resolve(void 0)},t.prototype.cancel=function(){return this.hide(),Promise.resolve(void 0)},t.prototype.layout=function(e){this.layoutDimensions=e,this.updateLayout()},t.prototype.updateLayout=function(){if(this.layoutDimensions&&this.ui){var e=this.partService.getTitleBarOffset();this.ui.container.style.top=e+"px";var i=this.ui.container.style,n=Math.min(.62*this.layoutDimensions.width,t.MAX_WIDTH);i.width=n+"px",i.marginLeft="-"+n/2+"px",this.ui.inputBox.layout(),this.ui.list.layout()}},t.prototype.updateStyles=function(){
var e=this.themeService.getTheme();if(this.ui){var t={dark:"rgba(255, 255, 255, 0.105)",light:"rgba(0,0,0,.06)",hc:"black"}[e.type];this.titleBar.style.backgroundColor=t?t.toString():null,this.ui.inputBox.style(e);var i=e.getColor(h.SIDE_BAR_BACKGROUND);this.ui.container.style.backgroundColor=i?i.toString():null;var n=e.getColor(h.SIDE_BAR_FOREGROUND);this.ui.container.style.color=n?n.toString():null;var r=e.getColor(p.contrastBorder);this.ui.container.style.border=r?"1px solid "+r:null;var o=e.getColor(p.widgetShadow);this.ui.container.style.boxShadow=o?"0 5px 8px "+o:null}},t.prototype.isDisplayed=function(){return this.ui&&"none"!==this.ui.container.style.display},t.ID="workbench.component.quickinput",t.MAX_WIDTH=600,t=r([o(0,w.IEnvironmentService),o(1,b.IConfigurationService),o(2,u.IInstantiationService),o(3,c.IPartService),o(4,f.IQuickOpenService),o(5,A.IEditorGroupsService),o(6,F.IKeybindingService),o(7,O.IContextKeyService),o(8,d.IThemeService),o(9,z.IStorageService)],t)}(s.Component)
;t.QuickInputService=q,t.QuickPickManyToggle={id:"workbench.action.quickPickManyToggle",weight:200,when:k.inQuickOpenContext,primary:void 0,handler:function(e){e.get(a.IQuickInputService).toggle()}};var $=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.quickInputService=n,r}return i(t,e),t.prototype.run=function(){return this.quickInputService.back(),Promise.resolve(null)},t.ID="workbench.action.quickInputBack",t.LABEL=S.localize("back","Back"),t=r([o(2,a.IQuickInputService)],t)}(P.Action);t.BackAction=$}),define(e[428],t([1,0,232,74,7,47,26,110]),function(e,t,i,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.KeybindingsRegistry.registerCommandAndKeybindingRule(i.QuickPickManyToggle);r.Registry.as(o.Extensions.WorkbenchActions).registerWorkbenchAction(new s.SyncActionDescriptor(i.BackAction,i.BackAction.ID,i.BackAction.LABEL,{primary:0,win:{primary:527},mac:{primary:339},linux:{primary:2643}},a.inQuickOpenContext,250),"Back")}),
define(e[429],t([1,0,18,6,17,10,16,91,21,3,28,7,5,9,41,42,63,71,4,231,49,11]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var I=function(){function e(e,t){this._editorInput=e,this._selection=t,this.textEditorSelection=u.Selection.isISelection(t)?{startLineNumber:t.startLineNumber,startColumn:t.startColumn}:void 0}return Object.defineProperty(e.prototype,"editorInput",{get:function(){return this._editorInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this.textEditorSelection},enumerable:!0,configurable:!0}),e.prototype.justifiesNewPushState=function(t,i){if(i&&"api"===i.source)return!0;if(!this._editorInput.matches(t._editorInput))return!0;if(!u.Selection.isISelection(this._selection)||!u.Selection.isISelection(t._selection))return!0
;var n=Math.min(this._selection.selectionStartLineNumber,this._selection.positionLineNumber),r=Math.min(t._selection.selectionStartLineNumber,t._selection.positionLineNumber);return!(Math.abs(n-r)<e.EDITOR_SELECTION_THRESHOLD)},e.EDITOR_SELECTION_THRESHOLD=10,e}();t.TextEditorState=I;var x=function(e){function t(t,i,n,r,o,s,c,u,d,p){var h=e.call(this)||this;return h.editorService=t,h.editorGroupService=i,h.contextService=n,h.storageService=r,h.configurationService=o,h.fileService=s,h.windowService=c,h.instantiationService=u,h.partService=d,h.contextKeyService=p,h.activeEditorListeners=[],h.canNavigateBackContextKey=new w.RawContextKey("canNavigateBack",!1).bindTo(h.contextKeyService),h.canNavigateForwardContextKey=new w.RawContextKey("canNavigateForward",!1).bindTo(h.contextKeyService),h.fileInputFactory=f.Registry.as(a.Extensions.EditorInputFactories).getFileInputFactory(),h.index=-1,h.lastIndex=-1,h.stack=[],h.recentlyClosedFiles=[],h.loaded=!1,
h.resourceFilter=h._register(u.createInstance(_.ResourceGlobMatcher,function(e){return h.getExcludes(e)},function(e){return e.affectsConfiguration(l.FILES_EXCLUDE_CONFIG)||e.affectsConfiguration("search.exclude")})),h.registerListeners(),t.activeControl&&h.onActiveEditorChanged(),h}return i(t,e),t.prototype.getExcludes=function(e){var t=e?{resource:e}:void 0;return b.getExcludes(this.configurationService.getValue(t))},t.prototype.registerListeners=function(){var e=this;this._register(this.editorService.onDidActiveEditorChange(function(){return e.onActiveEditorChanged()})),this._register(this.editorService.onDidOpenEditorFail(function(t){return e.remove(t.editor)})),this._register(this.editorService.onDidCloseEditor(function(t){return e.onEditorClosed(t)})),this._register(this.storageService.onWillSaveState(function(t){return e.saveState()})),this._register(this.fileService.onFileChanges(function(t){return e.onFileChanges(t)})),this._register(this.resourceFilter.onExpressionChange(function(){
return e.handleExcludesChange()}))},t.prototype.onActiveEditorChanged=function(){var e=this,t=this.editorService.activeControl;if(!this.lastActiveEditor||!this.matchesEditor(this.lastActiveEditor,t)){this.lastActiveEditor=t?{editor:t.input,groupId:t.group.id}:void 0,p.dispose(this.activeEditorListeners),this.activeEditorListeners=[],this.handleActiveEditorChange(t);var i=S.getCodeEditor(this.editorService.activeTextEditorWidget),n=this.editorService.activeEditor;i&&(this.activeEditorListeners.push(g.debounceEvent(i.onDidChangeCursorPosition,function(e,t){return t},0)(function(i){e.handleEditorSelectionChangeEvent(t,i)})),this.activeEditorListeners.push(g.debounceEvent(i.onDidChangeModelContent,function(e,t){return t},0)(function(t){e.lastEditLocation={input:n};var r=i.getPosition();r&&(e.lastEditLocation.selection={startLineNumber:r.lineNumber,startColumn:r.column})})))}},t.prototype.matchesEditor=function(e,t){return!(!t||!t.group)&&(e.groupId===t.group.id&&e.editor.matches(t.input))},
t.prototype.onFileChanges=function(e){e.gotDeleted()&&this.remove(e)},t.prototype.onEditorClosed=function(e){if(!e.replaced){var i=e.editor?e.editor.getResource():void 0;i&&this.fileService.canHandleResource(i)&&(this.removeFromRecentlyClosedFiles(e.editor),this.recentlyClosedFiles.push({resource:i,index:e.index}),this.recentlyClosedFiles.length>t.MAX_RECENTLY_CLOSED_EDITORS&&this.recentlyClosedFiles.shift())}},t.prototype.reopenLastClosedEditor=function(){this.ensureHistoryLoaded();for(var e=this.recentlyClosedFiles.pop();e&&this.isFileOpened(e.resource,this.editorGroupService.activeGroup);)e=this.recentlyClosedFiles.pop();e&&this.editorService.openEditor({resource:e.resource,options:{pinned:!0,index:e.index}})},t.prototype.openLastEditLocation=function(){this.lastEditLocation&&this.doNavigate(this.lastEditLocation,!0)},t.prototype.forward=function(e){this.stack.length>this.index+1&&(e?this.doForwardAcrossEditors():this.doForwardInEditors())},t.prototype.doForwardInEditors=function(){
this.setIndex(this.index+1),this.navigate()},t.prototype.setIndex=function(e){this.lastIndex=this.index,this.index=e,this.updateContextKeys()},t.prototype.doForwardAcrossEditors=function(){for(var e=this.index,t=this.stack[this.index];this.stack.length>e+1;){e++;var i=this.stack[e];if(!this.matches(t.input,i.input)){this.setIndex(e),this.navigate(!0);break}}},t.prototype.back=function(e){this.index>0&&(e?this.doBackAcrossEditors():this.doBackInEditors())},t.prototype.last=function(){-1===this.lastIndex?this.back():(this.setIndex(this.lastIndex),this.navigate())},t.prototype.doBackInEditors=function(){this.setIndex(this.index-1),this.navigate()},t.prototype.doBackAcrossEditors=function(){for(var e=this.index,t=this.stack[this.index];e>0;){e--;var i=this.stack[e];if(!this.matches(t.input,i.input)){this.setIndex(e),this.navigate(!0);break}}},t.prototype.clear=function(){this.ensureHistoryLoaded(),this.index=-1,this.lastIndex=-1,this.stack.splice(0),this.recentlyClosedFiles=[],this.clearRecentlyOpened(),
this.updateContextKeys()},t.prototype.clearRecentlyOpened=function(){this.history=[]},t.prototype.updateContextKeys=function(){this.canNavigateBackContextKey.set(this.stack.length>0&&this.index>0),this.canNavigateForwardContextKey.set(this.stack.length>0&&this.index<this.stack.length-1)},t.prototype.navigate=function(e){var t=this;this.navigatingInStack=!0,this.doNavigate(this.stack[this.index],!e).then(function(){t.navigatingInStack=!1},function(e){t.navigatingInStack=!1,n.onUnexpectedError(e)})},t.prototype.doNavigate=function(e,t){var i={revealIfOpened:!0};return e.selection&&t&&(i.selection=e.selection,i.revealInCenterIfOutsideViewport=!0),e.input instanceof a.EditorInput?this.editorService.openEditor(e.input,i):this.editorService.openEditor({resource:e.input.resource,options:i})},t.prototype.handleEditorSelectionChangeEvent=function(e,t){this.handleEditorEventInStack(e,t)},t.prototype.handleActiveEditorChange=function(e){this.handleEditorEventInHistory(e),this.handleEditorEventInStack(e)},
t.prototype.handleEditorEventInHistory=function(e){var i=this,n=e?e.input:void 0;if(n&&n.getName()&&this.include(n)){this.ensureHistoryLoaded();var r=this.preferResourceInput(n);this.removeFromHistory(n),this.history.unshift(r),this.history.length>t.MAX_HISTORY_ITEMS&&this.history.pop(),r instanceof a.EditorInput&&g.once(r.onDispose)(function(){return i.removeFromHistory(n)})}},t.prototype.include=function(e){if(e instanceof a.EditorInput)return!0;var t=e;return!this.resourceFilter.matches(t.resource)},t.prototype.handleExcludesChange=function(){this.removeExcludedFromHistory()},t.prototype.remove=function(e){this.removeFromHistory(e),this.removeFromStack(e),this.removeFromRecentlyClosedFiles(e),this.removeFromRecentlyOpened(e)},t.prototype.removeExcludedFromHistory=function(){var e=this;this.ensureHistoryLoaded(),this.history=this.history.filter(function(t){return e.include(t)})},t.prototype.removeFromHistory=function(e){var t=this;this.ensureHistoryLoaded(),this.history=this.history.filter(function(i){
return!t.matches(e,i)})},t.prototype.handleEditorEventInStack=function(e,t){var i=e?S.getCodeEditor(e.getControl()):void 0;this.navigatingInStack?i&&e.input?this.currentTextEditorState=new I(e.input,i.getSelection()):this.currentTextEditorState=null:i&&e.input?this.handleTextEditorEvent(e,i,t):(this.currentTextEditorState=null,e&&e.input&&this.handleNonTextEditorEvent(e))},t.prototype.handleTextEditorEvent=function(e,t,i){var n=new I(e.input,t.getSelection());!this.currentTextEditorState||this.currentTextEditorState.justifiesNewPushState(n,i)?this.add(e.input,n.selection):this.replace(e.input,n.selection),this.currentTextEditorState=n},t.prototype.handleNonTextEditorEvent=function(e){var t=this.stack[this.index];t&&this.matches(e.input,t.input)||this.add(e.input)},t.prototype.add=function(e,t){this.navigatingInStack||this.addOrReplaceInStack(e,t)},t.prototype.replace=function(e,t){this.navigatingInStack||this.addOrReplaceInStack(e,t,!0)},t.prototype.addOrReplaceInStack=function(e,i,n){
var r=this,o=!1,s=this.stack[this.index];s&&(n?o=!0:this.matches(e,s.input)&&this.sameSelection(s.selection,i)&&(o=!0));var c=this.preferResourceInput(e),l={input:c,selection:i};o?this.stack[this.index]=l:(this.stack.length>this.index+1&&(this.stack=this.stack.slice(0,this.index+1)),this.stack.splice(this.index+1,0,l),this.stack.length>t.MAX_STACK_ITEMS?(this.stack.shift(),this.lastIndex>=0&&this.lastIndex--):this.setIndex(this.index+1)),c instanceof a.EditorInput&&g.once(c.onDispose)(function(){return r.removeFromStack(e)}),this.updateContextKeys()},t.prototype.preferResourceInput=function(e){return this.fileInputFactory.isFileInput(e)?{resource:e.getResource()}:e},t.prototype.sameSelection=function(e,t){return!e&&!t||!(!e&&t||e&&!t)&&e.startLineNumber===t.startLineNumber},t.prototype.removeFromStack=function(e){var t=this;this.stack=this.stack.filter(function(i){return!t.matches(e,i.input)}),this.index=this.stack.length-1,this.lastIndex=-1,this.updateContextKeys()},
t.prototype.removeFromRecentlyClosedFiles=function(e){var t=this;this.recentlyClosedFiles=this.recentlyClosedFiles.filter(function(i){return!t.matchesFile(i.resource,e)})},t.prototype.removeFromRecentlyOpened=function(e){if(!(e instanceof a.EditorInput||e instanceof l.FileChangesEvent)){var t=e;this.windowService.removeFromRecentlyOpened([t.resource])}},t.prototype.isFileOpened=function(e,t){var i=this;return!!t&&(!!this.editorService.isOpen({resource:e},t)&&t.editors.some(function(t){return i.matchesFile(e,t)}))},t.prototype.matches=function(e,t){if(e instanceof l.FileChangesEvent){if(t instanceof a.EditorInput)return!1;var i=t;return e.contains(i.resource,2)}if(e instanceof a.EditorInput&&t instanceof a.EditorInput)return e.matches(t);if(e instanceof a.EditorInput)return this.matchesFile(t.resource,e);if(t instanceof a.EditorInput)return this.matchesFile(e.resource,t);var n=e,r=t;return n&&r&&n.resource.toString()===r.resource.toString()},t.prototype.matchesFile=function(e,t){
if(t instanceof l.FileChangesEvent)return t.contains(e,2);if(t instanceof a.EditorInput){var i=t.getResource();return!!i&&(!(this.partService.isCreated()&&!this.fileService.canHandleResource(i))&&i.toString()===e.toString())}var n=t;return n&&n.resource.toString()===e.toString()},t.prototype.getHistory=function(){return this.ensureHistoryLoaded(),this.history.slice(0)},t.prototype.ensureHistoryLoaded=function(){this.loaded||this.loadHistory(),this.loaded=!0},t.prototype.saveState=function(){if(this.history){var e=f.Registry.as(a.Extensions.EditorInputFactories),i=this.history.map(function(t){if(!(t instanceof a.EditorInput))return{resourceJSON:t.resource.toJSON()};var i=e.getEditorInputFactory(t.getTypeId());if(i){var n=i.serialize(t);if(n)return{editorInputJSON:{typeId:t.getTypeId(),deserialized:n}}}}).filter(function(e){return!!e});this.storageService.store(t.STORAGE_KEY,JSON.stringify(i),1)}},t.prototype.loadHistory=function(){var e=this,i=[],r=this.storageService.get(t.STORAGE_KEY,1)
;r&&(i=JSON.parse(r).filter(function(e){return!!e}));var o=f.Registry.as(a.Extensions.EditorInputFactories);this.history=i.map(function(t){try{return e.safeLoadHistoryEntry(o,t)}catch(e){return void n.onUnexpectedError(e)}}).filter(function(e){return!!e})},t.prototype.safeLoadHistoryEntry=function(e,t){var i=this,n=t;if(n.resourceJSON)return{resource:s.URI.revive(n.resourceJSON)};var r=n.editorInputJSON;if(r&&r.deserialized){var o=e.getEditorInputFactory(r.typeId);if(o){var a=o.deserialize(this.instantiationService,r.deserialized);return a&&g.once(a.onDispose)(function(){return i.removeFromHistory(a)}),a}}},t.prototype.getLastActiveWorkspaceRoot=function(e){var t=this.contextService.getWorkspace().folders;if(0!==t.length)if(1!==t.length){for(var i=this.getHistory(),n=0;n<i.length;n++){var r=i[n];if(!(r instanceof a.EditorInput)){var o=r;if(!e||o.resource.scheme===e){var s=this.contextService.getWorkspaceFolder(o.resource);if(s)return s.uri}}}for(n=0;n<t.length;n++){c=t[n].uri;if(!e||c.scheme===e)return c}
}else{var c=t[0].uri;if(!e||c.scheme===e)return c}},t.prototype.getLastActiveFile=function(e){for(var t=this.getHistory(),i=0;i<t.length;i++){var n=void 0,r=t[i];if((n=r instanceof a.EditorInput?a.toResource(r,{filter:e}):r.resource)&&n.scheme===e)return n}},t.STORAGE_KEY="history.entries",t.MAX_HISTORY_ITEMS=200,t.MAX_STACK_ITEMS=20,t.MAX_RECENTLY_CLOSED_EDITORS=20,t=r([o(0,c.IEditorService),o(1,m.IEditorGroupsService),o(2,d.IWorkspaceContextService),o(3,h.IStorageService),o(4,v.IConfigurationService),o(5,l.IFileService),o(6,y.IWindowsService),o(7,E.IInstantiationService),o(8,C.IPartService),o(9,w.IContextKeyService)],t)}(p.Disposable);t.HistoryService=x}),define(e[235],t([1,0,2,19,22,20,81,7,410,26,47,17,45,43,407,406]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEYBINDING_ENTRY_TEMPLATE_ID="keybinding.entry.template",t.KEYBINDING_HEADER_TEMPLATE_ID="keybinding.header.template"
;var S=n.localize("default","Default"),b=n.localize("user","User"),E=l.or(l.matchesPrefix,l.matchesWords,l.matchesContiguousSubString),_=function(e){function n(t,i,n){var r=e.call(this)||this;return r.keybindingsService=i,r.extensionService=n,r.modifierLabels={ui:d.UILabelProvider.modifierLabels[t],aria:d.AriaLabelProvider.modifierLabels[t],user:d.UserSettingsLabelProvider.modifierLabels[t]},r}return i(n,e),n.prototype.fetch=function(e,i){void 0===i&&(i=!1);var r=i?this._keybindingItemsSortedByPrecedence:this._keybindingItems;return/@source:\s*(user|default)/i.test(e)&&(r=this.filterBySource(r,e),e=e.replace(/@source:\s*(user|default)/i,"")),(e=e.trim())?this.filterByText(r,e):r.map(function(e){return{id:n.getId(e),keybindingItem:e,templateId:t.KEYBINDING_ENTRY_TEMPLATE_ID}})},n.prototype.filterBySource=function(e,t){return/@source:\s*default/i.test(t)?e.filter(function(e){return e.source===S}):/@source:\s*user/i.test(t)?e.filter(function(e){return e.source===b}):e},n.prototype.filterByText=function(e,i){
var r='"'===i.charAt(0),o='"'===i.charAt(i.length-1),s=r&&o;r&&(i=i.substring(1)),o&&(i=i.substring(0,i.length-1));for(var a=[],c=(i=i.trim()).split(" "),l=this.splitKeybindingWords(c),u=0,d=e;u<d.length;u++){var p=d[u],h=new C(this.modifierLabels,p,i,c,l,s);(h.commandIdMatches||h.commandLabelMatches||h.commandDefaultLabelMatches||h.sourceMatches||h.whenMatches||h.keybindingMatches)&&a.push({id:n.getId(p),templateId:t.KEYBINDING_ENTRY_TEMPLATE_ID,commandLabelMatches:h.commandLabelMatches,commandDefaultLabelMatches:h.commandDefaultLabelMatches,keybindingItem:p,keybindingMatches:h.keybindingMatches,commandIdMatches:h.commandIdMatches,sourceMatches:h.sourceMatches,whenMatches:h.whenMatches})}return a},n.prototype.splitKeybindingWords=function(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i];t.push.apply(t,r.split("+").filter(function(e){return!!e}))}return t},n.prototype.resolve=function(e){var t=this;return this.extensionService.whenInstalledExtensionsRegistered().then(function(){
var i=u.Registry.as(h.Extensions.WorkbenchActions);t._keybindingItemsSortedByPrecedence=[];for(var r=new Map,o=0,s=t.keybindingsService.getKeybindings();o<s.length;o++){var a=s[o];a.command&&(t._keybindingItemsSortedByPrecedence.push(n.toKeybindingEntry(a.command,a,i,e)),r.set(a.command,!0))}for(var c=t.keybindingsService.getDefaultKeybindings().map(function(e){return e.command}),l=0,d=y.KeybindingResolver.getAllUnboundCommands(r);l<d.length;l++){var p=d[l],f=new m.ResolvedKeybindingItem(null,p,null,null,-1===c.indexOf(p));t._keybindingItemsSortedByPrecedence.push(n.toKeybindingEntry(p,f,i,e))}return t._keybindingItems=t._keybindingItemsSortedByPrecedence.slice(0).sort(function(e,t){return n.compareKeybindingData(e,t)}),t})},n.getId=function(e){return e.command+(e.keybinding?e.keybinding.getAriaLabel():"")+e.source+e.when},n.compareKeybindingData=function(e,t){
return e.keybinding&&!t.keybinding?-1:t.keybinding&&!e.keybinding?1:e.commandLabel&&!t.commandLabel?-1:t.commandLabel&&!e.commandLabel?1:e.commandLabel&&t.commandLabel&&e.commandLabel!==t.commandLabel?e.commandLabel.localeCompare(t.commandLabel):e.command===t.command?e.keybindingItem.isDefault?1:-1:e.command.localeCompare(t.command)},n.toKeybindingEntry=function(e,t,i,r){var o=p.MenuRegistry.getCommand(e),s=r[e];return{keybinding:t.resolvedKeybinding,keybindingItem:t,command:e,commandLabel:n.getCommandLabel(o,s),commandDefaultLabel:n.getCommandDefaultLabel(o,i),when:t.when?t.when.serialize():"",source:t.isDefault?S:b}},n.getCommandDefaultLabel=function(e,t){return c.language!==c.LANGUAGE_DEFAULT&&e&&e.title&&e.title.original?e.title.original:null},n.getCommandLabel=function(e,t){return e?"string"==typeof e.title?e.title:e.title.value:t||""},n=r([o(1,v.IKeybindingService),o(2,g.IExtensionService)],n)}(f.EditorModel);t.KeybindingsEditorModel=_;var C=function(){function e(e,t,i,n,r,o){this.modifierLabels=e,
this.commandIdMatches=null,this.commandLabelMatches=null,this.commandDefaultLabelMatches=null,this.sourceMatches=null,this.whenMatches=null,this.keybindingMatches=null,o||(this.commandIdMatches=this.matches(i,t.command,l.or(l.matchesWords,l.matchesCamelCase),n),this.commandLabelMatches=t.commandLabel?this.matches(i,t.commandLabel,function(e,i){return l.matchesWords(e,t.commandLabel,!0)},n):null,this.commandDefaultLabelMatches=t.commandDefaultLabel?this.matches(i,t.commandDefaultLabel,function(e,i){return l.matchesWords(e,t.commandDefaultLabel,!0)},n):null,this.sourceMatches=this.matches(i,t.source,function(e,i){return l.matchesWords(e,t.source,!0)},n),this.whenMatches=t.when?this.matches(i,t.when,l.or(l.matchesWords,l.matchesCamelCase),n):null),this.keybindingMatches=t.keybinding?this.matchesKeybinding(t.keybinding,i,r,o):null}return e.prototype.matches=function(e,t,i,n){var r=E(e,t);return r||(r=this.matchesWords(n,t,i)),r&&(r=this.filterAndSort(r)),r},e.prototype.matchesWords=function(e,t,i){
for(var n=[],r=0,o=e;r<o.length;r++){var s=i(o[r],t);if(!s){n=null;break}n=(n||[]).concat(s)}return n},e.prototype.filterAndSort=function(e){return s.distinct(e,function(e){return e.start+"."+e.end}).filter(function(t){return!e.some(function(e){return!(e.start===t.start&&e.end===t.end)&&e.start<=t.start&&e.end>=t.end})}).sort(function(e,t){return e.start-t.start})},e.prototype.matchesKeybinding=function(e,t,i,n){var r=e.getParts(),o=r[0],s=r[1];if(0===a.compareIgnoreCase(t,e.getUserSettingsLabel())||0===a.compareIgnoreCase(t,e.getAriaLabel())||0===a.compareIgnoreCase(t,e.getLabel()))return{firstPart:this.createCompleteMatch(o),chordPart:this.createCompleteMatch(s)};for(var c={},l={},u=[],d=[],p=[],h=!0,f=0;f<i.length;f++){var g=i[f],v=!1,m=!1;h=h&&!c.keyCode;var y=!l.keyCode;if(h&&(v=this.matchPart(o,c,g,n),c.keyCode)){for(var S=0,b=p;S<b.length;S++){var E=b[S];-1===d.indexOf(E)&&u.splice(u.indexOf(E),1)}l={},p=[],y=!1}y&&(m=this.matchPart(s,l,g,n)),v&&d.push(f),m&&p.push(f),(v||m)&&u.push(f),
h=h&&this.isModifier(g)}return u.length!==i.length?null:(!n||this.isCompleteMatch(o,c)&&this.isCompleteMatch(s,l))&&(this.hasAnyMatch(c)||this.hasAnyMatch(l))?{firstPart:c,chordPart:l}:null},e.prototype.matchPart=function(e,t,i,n){var r=!1;return this.matchesMetaModifier(e,i)&&(r=!0,t.metaKey=!0),this.matchesCtrlModifier(e,i)&&(r=!0,t.ctrlKey=!0),this.matchesShiftModifier(e,i)&&(r=!0,t.shiftKey=!0),this.matchesAltModifier(e,i)&&(r=!0,t.altKey=!0),this.matchesKeyCode(e,i,n)&&(t.keyCode=!0,r=!0),r},e.prototype.matchesKeyCode=function(e,t,i){if(!e)return!1;var n=e.keyAriaLabel;if(i||1===n.length||1===t.length){if(0===a.compareIgnoreCase(n,t))return!0}else if(l.matchesContiguousSubString(t,n))return!0;return!1},e.prototype.matchesMetaModifier=function(e,t){return!!e&&(!!e.metaKey&&this.wordMatchesMetaModifier(t))},e.prototype.wordMatchesMetaModifier=function(e){
return!!l.matchesPrefix(this.modifierLabels.ui.metaKey,e)||(!!l.matchesPrefix(this.modifierLabels.aria.metaKey,e)||(!!l.matchesPrefix(this.modifierLabels.user.metaKey,e)||!!l.matchesPrefix(n.localize("meta","meta"),e)))},e.prototype.matchesCtrlModifier=function(e,t){return!!e&&(!!e.ctrlKey&&this.wordMatchesCtrlModifier(t))},e.prototype.wordMatchesCtrlModifier=function(e){return!!l.matchesPrefix(this.modifierLabels.ui.ctrlKey,e)||(!!l.matchesPrefix(this.modifierLabels.aria.ctrlKey,e)||!!l.matchesPrefix(this.modifierLabels.user.ctrlKey,e))},e.prototype.matchesShiftModifier=function(e,t){return!!e&&(!!e.shiftKey&&this.wordMatchesShiftModifier(t))},e.prototype.wordMatchesShiftModifier=function(e){return!!l.matchesPrefix(this.modifierLabels.ui.shiftKey,e)||(!!l.matchesPrefix(this.modifierLabels.aria.shiftKey,e)||!!l.matchesPrefix(this.modifierLabels.user.shiftKey,e))},e.prototype.matchesAltModifier=function(e,t){return!!e&&(!!e.altKey&&this.wordMatchesAltModifier(t))},
e.prototype.wordMatchesAltModifier=function(e){return!!l.matchesPrefix(this.modifierLabels.ui.altKey,e)||(!!l.matchesPrefix(this.modifierLabels.aria.altKey,e)||(!!l.matchesPrefix(this.modifierLabels.user.altKey,e)||!!l.matchesPrefix(n.localize("option","option"),e)))},e.prototype.hasAnyMatch=function(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||e.keyCode},e.prototype.isCompleteMatch=function(e,t){return!e||!!t.keyCode&&(!(e.metaKey&&!t.metaKey)&&(!(e.altKey&&!t.altKey)&&(!(e.ctrlKey&&!t.ctrlKey)&&!(e.shiftKey&&!t.shiftKey))))},e.prototype.createCompleteMatch=function(e){var t={};return e&&(t.keyCode=!0,e.metaKey&&(t.metaKey=!0),e.altKey&&(t.altKey=!0),e.ctrlKey&&(t.ctrlKey=!0),e.shiftKey&&(t.shiftKey=!0)),t},e.prototype.isModifier=function(e){return!!this.wordMatchesAltModifier(e)||(!!this.wordMatchesCtrlModifier(e)||(!!this.wordMatchesMetaModifier(e)||!!this.wordMatchesShiftModifier(e)))},e}()}),define(e[60],t([1,0,33,2,4,17]),function(e,t,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{
value:!0});!function(e){e.Null="null",e.Enum="enum",e.String="string",e.Integer="integer",e.Number="number",e.Boolean="boolean",e.Exclude="exclude",e.Complex="complex",e.NullableInteger="nullable-integer",e.NullableNumber="nullable-number"}(t.SettingValueType||(t.SettingValueType={}));var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.create=function(e){if(!e)return null;var i=new t;return i.target=e.target,i.folderUri=e.folderUri,i.query=e.query,i.preserveFocus=e.preserveFocus,i.forceReload=e.forceReload,i.revealIfVisible=e.revealIfVisible,i.revealIfOpened=e.revealIfOpened,i.pinned=e.pinned,i.index=e.index,i.inactive=e.inactive,i},t}(s.EditorOptions);t.SettingsEditorOptions=a,t.IPreferencesService=o.createDecorator("preferencesService"),t.getSettingsTargetName=function(e,t,i){switch(e){case 1:return r.localize("userSettingsTarget","User Settings");case 2:return r.localize("workspaceSettingsTarget","Workspace Settings");case 3:var n=i.getWorkspaceFolder(t)
;return n?n.name:""}return""},t.FOLDER_SETTINGS_PATH=n.join(".vscode","settings.json"),t.DEFAULT_SETTINGS_EDITOR_SETTING="workbench.settings.openDefaultSettings"}),define(e[185],t([1,0,19,29,6,2,9,212,60,107]),function(e,t,n,s,a,c,l,u,d,p){"use strict";function h(e,t,i){var n=a.URI.isUri(t)?{resource:t}:void 0,r=i.inspect(e,n),o=1===t?"user":2===t?"workspace":"workspaceFolder";return{isConfigured:void 0!==r[o],inspected:r,targetSelector:o}}function f(e,t){void 0===t&&(t="");var i=e.lastIndexOf("."),n="";i>=0&&(n=e.substr(0,i),e=e.substr(i+1));return{category:n=g(n=function(e,t){var i=function(i){for(var n=t.split(".");n.length;){var r=new RegExp("^"+n.join("\\.")+"(\\.|$)","i");if(r.test(e))return e.replace(r,"");i?n.pop():n.shift()}return null},n=i(!0);null===n&&(n=i(!1));null===n&&(n=e);return n}(n,t=t.replace(/\//g,"."))),label:g(e)}}function g(e){return e.replace(/\.([a-z])/g,function(e,t){return"  "+t.toUpperCase()}).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/^[a-z]/g,function(e){return e.toUpperCase()
}).replace(/\b\w+\b/g,function(e){return u.knownAcronyms.has(e.toLowerCase())?e.toUpperCase():e})}function v(e){return"files.exclude"===e.key||"search.exclude"===e.key||"files.watcherExclude"===e.key}Object.defineProperty(t,"__esModule",{value:!0}),t.ONLINE_SERVICES_SETTING_TAG="usesOnlineServices";var m=function(){return function(){}}();t.SettingsTreeElement=m;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},set:function(e){var t=this;this._children=e,this._childSettingKeys=new Set,this._children.forEach(function(e){e instanceof b&&t._childSettingKeys.add(e.setting.key)})},enumerable:!0,configurable:!0}),t.prototype.containsSetting=function(e){return this._childSettingKeys.has(e)},t}(m);t.SettingsTreeGroupElement=y;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(m);t.SettingsTreeNewExtensionsElement=S;var b=function(e){
function t(t,i,n,r){var o=e.call(this)||this;return o.index=n,o.setting=t,o.parent=i,o.id=function(e){return e.replace(/[\.\/]/,"_")}(i.id+"_"+t.key),o.update(r),o}return i(t,e),Object.defineProperty(t.prototype,"displayCategory",{get:function(){return this._displayCategory||this.initLabel(),this._displayCategory},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayLabel",{get:function(){return this._displayLabel||this.initLabel(),this._displayLabel},enumerable:!0,configurable:!0}),t.prototype.initLabel=function(){var e=f(this.setting.key,this.parent.id);this._displayLabel=e.label,this._displayCategory=e.category},t.prototype.update=function(e){var t=this,i=e.isConfigured,n=e.inspected,r=e.targetSelector,o=i?n[r]:n.default,a=[];"user"===r&&void 0!==n.workspace&&a.push(c.localize("workspace","Workspace")),"workspace"===r&&void 0!==n.user&&a.push(c.localize("user","User")),this.value=o,this.scopeValue=i&&n[r],this.defaultValue=n.default,this.isConfigured=i,
(i||this.setting.tags||this.tags)&&(this.tags=new Set,i&&this.tags.add(p.MODIFIED_SETTING_TAG),this.setting.tags&&this.setting.tags.forEach(function(e){return t.tags.add(e)})),this.overriddenScopeList=a,this.description=this.setting.description.join("\n"),!this.setting.enum||this.setting.type&&!function(e){var t=["string","boolean","null","integer","number"];return(s.isArray(e)?e:[e]).every(function(e){return t.indexOf(e)>-1})
}(this.setting.type)?"string"===this.setting.type?this.valueType=d.SettingValueType.String:v(this.setting)?this.valueType=d.SettingValueType.Exclude:"integer"===this.setting.type?this.valueType=d.SettingValueType.Integer:"number"===this.setting.type?this.valueType=d.SettingValueType.Number:"boolean"===this.setting.type?this.valueType=d.SettingValueType.Boolean:s.isArray(this.setting.type)&&this.setting.type.indexOf(d.SettingValueType.Null)>-1&&2===this.setting.type.length?this.setting.type.indexOf(d.SettingValueType.Integer)>-1?this.valueType=d.SettingValueType.NullableInteger:this.setting.type.indexOf(d.SettingValueType.Number)>-1?this.valueType=d.SettingValueType.NullableNumber:this.valueType=d.SettingValueType.Complex:this.valueType=d.SettingValueType.Complex:this.valueType=d.SettingValueType.Enum},t.prototype.matchesAllTags=function(e){var t=this;if(!e||!e.size)return!0;if(this.tags){var i=!0;return e.forEach(function(e){i=i&&t.tags.has(e)}),i}return!1},t.prototype.matchesScope=function(e){
var t=a.URI.isUri(e)?3:e;return 3===t?3===this.setting.scope:2!==t||(2===this.setting.scope||3===this.setting.scope)},t}(m);t.SettingsTreeSettingElement=b;var E=function(){function e(e,t){this._viewState=e,this._configurationService=t,this._treeElementsById=new Map,this._treeElementsBySettingName=new Map}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.update=function(e){void 0===e&&(e=this._tocRoot),this._treeElementsById.clear(),this._treeElementsBySettingName.clear();var t=this.createSettingsTreeGroupElement(e);t.children[0]instanceof y&&(t.children[0].isFirstGroup=!0),this._root?this._root.children=t.children:this._root=t},e.prototype.getElementById=function(e){return this._treeElementsById.get(e)},e.prototype.getElementsByName=function(e){return this._treeElementsBySettingName.get(e)},e.prototype.updateElementsByName=function(e){var t=this
;this._treeElementsBySettingName.has(e)&&this._treeElementsBySettingName.get(e).forEach(function(e){var i=h(e.setting.key,t._viewState.settingsTarget,t._configurationService);e.update(i)})},e.prototype.createSettingsTreeGroupElement=function(e,t){var i=this,n=new y,r=this._treeElementsById.size;n.index=r,n.id=e.id,n.label=e.label,n.parent=t,n.level=this.getDepth(n);var o=[];if(e.settings){var s=e.settings.map(function(e){return i.createSettingsTreeSettingElement(e,n)}).filter(function(e){return!e.setting.deprecationMessage||e.isConfigured});o.push.apply(o,s)}if(e.children){var a=e.children.map(function(e){return i.createSettingsTreeGroupElement(e,n)});o.push.apply(o,a)}return n.children=o,this._treeElementsById.set(n.id,n),n},e.prototype.getDepth=function(e){return e.parent?1+this.getDepth(e.parent):0},e.prototype.createSettingsTreeSettingElement=function(e,t){var i=this._treeElementsById.size,n=h(e.key,this._viewState.settingsTarget,this._configurationService),r=new b(e,t,i,n)
;this._treeElementsById.set(r.id,r);var o=this._treeElementsBySettingName.get(e.key)||[];return o.push(r),this._treeElementsBySettingName.set(e.key,o),r},e=r([o(1,l.IConfigurationService)],e)}();t.SettingsTreeModel=E,t.settingKeyToDisplayFormat=f,t.isExcludeSetting=v;var _=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.id="searchResultModel",n.update({id:"searchResultModel",label:""}),n}return i(t,e),t.prototype.getUniqueResults=function(){if(this.cachedUniqueSearchResults)return this.cachedUniqueSearchResults;if(!this.rawSearchResults)return[];var e=new Set,t=this.rawSearchResults[0];t&&t.filterMatches.forEach(function(t){return e.add(t.setting.key)});var i=this.rawSearchResults[1];return i&&(i.filterMatches=i.filterMatches.filter(function(t){return!e.has(t.setting.key)})),i&&(this.newExtensionSearchResults=this.rawSearchResults[2]),this.cachedUniqueSearchResults=[t,i],this.cachedUniqueSearchResults},t.prototype.getRawResults=function(){return this.rawSearchResults},
t.prototype.setResult=function(e,t){this.cachedUniqueSearchResults=null,this.rawSearchResults=this.rawSearchResults||[],t?(this.rawSearchResults[e]=t,this.updateChildren()):delete this.rawSearchResults[e]},t.prototype.updateChildren=function(){var e=this;if(this.update({id:"searchResultModel",label:"searchResultModel",settings:this.getFlatSettings()}),this.root.children=this.root.children.filter(function(t){return t instanceof b&&t.matchesAllTags(e._viewState.tagFilters)&&t.matchesScope(e._viewState.settingsTarget)}),this.newExtensionSearchResults&&this.newExtensionSearchResults.filterMatches.length){var t=new S;t.index=this._treeElementsById.size,t.parent=this._root,t.id="newExtensions",this._treeElementsById.set(t.id,t);var i=this.newExtensionSearchResults.filterMatches.map(function(e){return e.setting}).filter(function(e){return e.extensionName&&e.extensionPublisher}).map(function(e){return e.extensionPublisher+"."+e.extensionName});t.extensionIds=n.distinct(i),this._root.children.push(t)}},
t.prototype.getFlatSettings=function(){var e=[];return this.getUniqueResults().filter(function(e){return!!e}).forEach(function(t){e.push.apply(e,t.filterMatches.map(function(e){return e.setting}))}),e},t=r([o(1,l.IConfigurationService)],t)}(E);t.SearchResultModel=_;var C=/(^|\s)@tag:("([^"]*)"|[^"]\S*)/g;t.parseQuery=function(e){var t=[];return e=e.replace(C,function(e,i,n,r){return t.push(r||n),""}),e=e.replace("@"+p.MODIFIED_SETTING_TAG,function(){return t.push(p.MODIFIED_SETTING_TAG),""}),e=e.trim(),{tags:t,query:e}}}),define(e[238],t([1,0,8,562,53,435,125,209,159,561,127,14,19,62,18,5,3,22,6,240,197,2,99,34,9,37,4,43,59,135,27,50,12,185,181,107]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W){"use strict";function V(e){var t=e.isConfigured?n({},e.defaultValue,e.scopeValue):e.defaultValue;return Object.keys(t).filter(function(e){return!!t[e]}).map(function(e){var i=t[e];return{id:e,pattern:e,sibling:"boolean"==typeof i?void 0:i.when}})}function z(e,t){var i=function(e){
for(var t=new Set,i=0,n=e;i<n.length;i++)for(var r=0,o=n[i].sections;r<o.length;r++)for(var s=0,a=o[r].settings;s<a.length;s++){var c=a[s];c.overrides&&c.overrides.length||t.add(c)}return t}(t);return{tree:K(e,i),leftoverSettings:i}}function G(e){var t=e.sort(function(e,t){return e.title.localeCompare(t.title)}).map(function(e){return function(e){var t=v.flatten(e.sections.map(function(e){return e.settings}));return{id:e.id,label:e.title,settings:t}}(e)});return{id:"extensions",label:I.localize("extensions","Extensions"),children:t}}function K(e,t){var i;e.children&&(i=e.children.map(function(e){return K(e,t)}).filter(function(e){return e.children&&e.children.length||e.settings&&e.settings.length}));var n;return e.settings&&(n=v.flatten(e.settings.map(function(e){return function(e,t){var i=[];return e.forEach(function(n){(function(e,t){var i=Q.get(t);return i||(i=function(e){return e=E.escapeRegExpCharacters(e).replace(/\\\*/g,".*"),new RegExp("^"+e,"i")}(t),Q.set(t,i)),i.test(e.key)})(n,t)&&(i.push(n),
e.delete(n))}),i.sort(function(e,t){return e.key.localeCompare(t.key)})}(t,e)}))),i||n?{id:e.id,label:e.label,children:i,settings:n}:null}function H(e,t,i,n){if(e.setting.validator){var r=e.setting.validator(t.inputBox.value);if(r){s.addClass(t.containerElement,"invalid-input"),t.validationErrorMessageElement.innerText=r;var o=I.localize("validationError","Validation Error.");return t.inputBox.inputElement.parentElement.setAttribute("aria-label",[n,o,r].join(" ")),void(i||l.alert(o+" "+r))}t.inputBox.inputElement.parentElement.setAttribute("aria-label",n)}s.removeClass(t.containerElement,"invalid-input")}function U(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes.item(t);"img"===(i.tagName&&i.tagName.toLowerCase())?e.removeChild(i):U(i)}}function j(e,t){return void 0===t&&(t=!0),e.replace(/`#([^#]*)#`/g,function(e,i){var n=N.settingKeyToDisplayFormat(i),r=n.category+": "+n.label;return t?"["+r+"](#"+i+")":'"'+r+'"'})}function q(e){return e&&e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}
Object.defineProperty(t,"__esModule",{value:!0});var $=s.$;t.resolveSettingsTree=z,t.resolveExtensionsSettings=G;var Q=new Map,Y=function(){function e(){}return e.prototype.getId=function(e,t){return t.id},e.prototype.hasChildren=function(e,t){return t instanceof N.SettingsTreeGroupElement},e.prototype.getChildren=function(e,t){return Promise.resolve(this._getChildren(t))},e.prototype._getChildren=function(e){return e instanceof N.SettingsTreeGroupElement?e.children:null},e.prototype.getParent=function(e,t){return Promise.resolve(t&&t.parent)},e.prototype.shouldAutoexpand=function(){return!0},e}();t.SettingsDataSource=Y;var X=function(){function e(e){this.realDataSource=e,this.reset()}return e.prototype.reset=function(){this.loadedToIndex=e.SETTINGS_PER_PAGE},e.prototype.pageTo=function(t,i){void 0===i&&(i=!1);var n=i?e.SETTINGS_PER_PAGE:e.BUFFER;return t>this.loadedToIndex-n&&(this.loadedToIndex=(Math.ceil(t/e.SETTINGS_PER_PAGE)+1)*e.SETTINGS_PER_PAGE,!0)},e.prototype.getId=function(e,t){
return this.realDataSource.getId(e,t)},e.prototype.hasChildren=function(e,t){return this.realDataSource.hasChildren(e,t)},e.prototype.getChildren=function(e,t){var i=this;return this.realDataSource.getChildren(e,t).then(function(e){return i._getChildren(e)})},e.prototype._getChildren=function(e){var t=this,i=e[e.length-1];return i&&i.index>this.loadedToIndex?e.filter(function(e){return e.index<t.loadedToIndex}):e},e.prototype.getParent=function(e,t){return this.realDataSource.getParent(e,t)},e.prototype.shouldAutoexpand=function(e,t){return this.realDataSource.shouldAutoexpand(e,t)},e.SETTINGS_PER_PAGE=30,e.BUFFER=5,e}();t.SimplePagedDataSource=X;var J=function(){function e(e,t,i,n,r,o,a,l){var u=this;this.themeService=t,this.contextViewService=i,this.openerService=n,this.instantiationService=r,this.commandService=o,this.contextMenuService=a,this.keybindingService=l,this._onDidClickOverrideElement=new S.Emitter,this.onDidClickOverrideElement=this._onDidClickOverrideElement.event,
this._onDidChangeSetting=new S.Emitter,this.onDidChangeSetting=this._onDidChangeSetting.event,this._onDidOpenSettings=new S.Emitter,this.onDidOpenSettings=this._onDidOpenSettings.event,this._onDidClickSettingLink=new S.Emitter,this.onDidClickSettingLink=this._onDidClickSettingLink.event,this._onDidFocusSetting=new S.Emitter,this.onDidFocusSetting=this._onDidFocusSetting.event,this.longestSingleLineDescription=0,this.rowHeightCache=new Map,this.descriptionMeasureContainer=$(".setting-item-description"),s.append(e,$(".setting-measure-container.monaco-tree.settings-editor-tree",void 0,$(".monaco-scrollable-element",void 0,$(".monaco-tree-wrapper",void 0,$(".monaco-tree-rows",void 0,$(".monaco-tree-row",void 0,$(".setting-item",void 0,this.descriptionMeasureContainer))))))),this.settingActions=[new g.Action("settings.resetSetting",I.localize("resetSettingLabel","Reset Setting"),void 0,void 0,function(e){return e&&u._onDidChangeSetting.fire({key:e.setting.key,value:void 0,type:e.setting.type}),
Promise.resolve(null)}),new c.Separator,this.instantiationService.createInstance(ne),this.instantiationService.createInstance(re)]}return e.prototype.showContextMenu=function(e,t){var i=this,n=t.querySelector(".toolbar-toggle-more");n&&this.contextMenuService.showContextMenu({getActions:function(){return i.settingActions},getAnchor:function(){return n},getActionsContext:function(){return e}})},e.prototype.updateWidth=function(e){this.lastRenderedWidth!==e&&(this.rowHeightCache=new Map),this.longestSingleLineDescription=0,this.lastRenderedWidth=e},e.prototype.getHeight=function(e,t){if(this.rowHeightCache.has(t.id)&&!(t instanceof N.SettingsTreeSettingElement&&N.isExcludeSetting(t.setting)))return this.rowHeightCache.get(t.id);var i=this._getHeight(e,t);return this.rowHeightCache.set(t.id,i),i},e.prototype._getHeight=function(e,t){
return t instanceof N.SettingsTreeGroupElement?t.isFirstGroup?31:40+7*t.level:t instanceof N.SettingsTreeSettingElement?N.isExcludeSetting(t.setting)?this._getExcludeSettingHeight(t):this.measureSettingElementHeight(e,t):t instanceof N.SettingsTreeNewExtensionsElement?40:0},e.prototype._getExcludeSettingHeight=function(e){return 22*(V(e).length+1)+66+this.measureSettingDescription(e)},e.prototype.measureSettingElementHeight=function(e,t){var i=86;return"boolean"===t.valueType&&(i=60),i+this.measureSettingDescription(t)},e.prototype.measureSettingDescription=function(e){if(e.description.length<.8*this.longestSingleLineDescription)return 18;"boolean"===e.valueType?this.descriptionMeasureContainer.classList.add("measure-bool-description"):this.descriptionMeasureContainer.classList.contains("measure-bool-description")&&this.descriptionMeasureContainer.classList.remove("measure-bool-description")
;for(var t=e.setting.descriptionIsMarkdown&&e.description.indexOf("\n- ")>=0;this.descriptionMeasureContainer.firstChild;)this.descriptionMeasureContainer.removeChild(this.descriptionMeasureContainer.firstChild);if(t){var i=j(e.description),n=a.renderMarkdown({value:i});return n.classList.add("setting-item-description-markdown"),this.descriptionMeasureContainer.appendChild(n),this.descriptionMeasureContainer.offsetHeight}var r=e.setting.descriptionIsMarkdown?j(e.description).replace(/\[(.*)\]\(.*\)/g,"$1").replace(/`([^`]*)`/g,"$1"):e.description;this.descriptionMeasureContainer.innerText=r;var o=this.descriptionMeasureContainer.offsetHeight;return o<20&&r.length>this.longestSingleLineDescription&&(this.longestSingleLineDescription=r.length),o},e.prototype.getTemplateId=function(e,t){
return t instanceof N.SettingsTreeGroupElement?"settings.group.template":t instanceof N.SettingsTreeSettingElement?"boolean"===t.valueType?"settings.bool.template":"integer"===t.valueType||"number"===t.valueType||"nullable-integer"===t.valueType||"nullable-number"===t.valueType?"settings.number.template":"string"===t.valueType?"settings.text.template":"enum"===t.valueType?"settings.enum.template":"exclude"===t.valueType?"settings.exclude.template":"settings.complex.template":t instanceof N.SettingsTreeNewExtensionsElement?"settings.newExtensions.template":""},e.prototype.renderTemplate=function(e,t,i){
return"settings.group.template"===t?this.renderGroupTitleTemplate(i):"settings.text.template"===t?this.renderSettingTextTemplate(e,i):"settings.number.template"===t?this.renderSettingNumberTemplate(e,i):"settings.bool.template"===t?this.renderSettingBoolTemplate(e,i):"settings.enum.template"===t?this.renderSettingEnumTemplate(e,i):"settings.exclude.template"===t?this.renderSettingExcludeTemplate(e,i):"settings.complex.template"===t?this.renderSettingComplexTemplate(e,i):"settings.newExtensions.template"===t?this.renderNewExtensionsTemplate(i):null},e.prototype.renderGroupTitleTemplate=function(e){s.addClass(e,"group-title");return{parent:e,toDispose:[]}},e.prototype.renderCommonTemplate=function(e,t,i){s.addClass(t,"setting-item"),s.addClass(t,"setting-item-"+i)
;var n=s.append(t,$(".setting-item-title")),r=s.append(n,$(".setting-item-cat-label-container")),o=s.append(r,$("span.setting-item-category")),a=s.append(r,$("span.setting-item-label")),c=s.append(n,$("span.setting-item-overrides")),l=s.append(t,$(".setting-item-description"));s.append(t,$(".setting-item-modified-indicator")).title=I.localize("modified","Modified");var u=s.append(t,$(".setting-item-value")),d=s.append(u,$("div.setting-item-control")),p=s.append(t,$(".setting-item-deprecation-message")),h=[],f=s.append(t,$(".setting-toolbar-container")),g=this.renderSettingToolbar(f),v={toDispose:h,containerElement:t,categoryElement:o,labelElement:a,descriptionElement:l,controlElement:d,deprecationWarningElement:p,otherOverridesElement:c,toolbar:g};return h.push(s.addDisposableListener(d,"mousedown",function(e){return e.stopPropagation()})),h.push(s.addDisposableListener(n,s.EventType.MOUSE_ENTER,function(e){return t.classList.add("mouseover")})),
h.push(s.addDisposableListener(n,s.EventType.MOUSE_LEAVE,function(e){return t.classList.remove("mouseover")})),h.push(s.addStandardDisposableListener(u,"keydown",function(t){9===t.keyCode&&(e.domFocus(),t.browserEvent.stopPropagation())})),v},e.prototype.addSettingElementFocusHandler=function(e){var t=this,i=s.trackFocus(e.containerElement);e.toDispose.push(i),i.onDidBlur(function(){e.containerElement.classList.contains("focused")&&e.containerElement.classList.remove("focused")}),i.onDidFocus(function(){e.containerElement.classList.add("focused"),e.context&&t._onDidFocusSetting.fire(e.context)})},e.prototype.renderSettingTextTemplate=function(t,i,r){void 0===r&&(r="text");var o=this.renderCommonTemplate(t,i,"text"),a=s.append(i,$(".setting-item-validation-message")),c=new p.InputBox(o.controlElement,this.contextViewService);o.toDispose.push(c),o.toDispose.push(L.attachInputBoxStyler(c,this.themeService,{inputBackground:B.settingsTextInputBackground,inputForeground:B.settingsTextInputForeground,
inputBorder:B.settingsTextInputBorder})),o.toDispose.push(c.onDidChange(function(e){l.onChange&&l.onChange(e)})),o.toDispose.push(c),c.inputElement.classList.add(e.CONTROL_CLASS);var l=n({},o,{inputBox:c,validationErrorMessageElement:a});return this.addSettingElementFocusHandler(l),l},e.prototype.renderSettingNumberTemplate=function(t,i){var r=this.renderCommonTemplate(t,i,"number"),o=s.append(i,$(".setting-item-validation-message")),a=new p.InputBox(r.controlElement,this.contextViewService,{type:"number"});r.toDispose.push(a),r.toDispose.push(L.attachInputBoxStyler(a,this.themeService,{inputBackground:B.settingsNumberInputBackground,inputForeground:B.settingsNumberInputForeground,inputBorder:B.settingsNumberInputBorder})),r.toDispose.push(a.onDidChange(function(e){c.onChange&&c.onChange(e)})),r.toDispose.push(a),a.inputElement.classList.add(e.CONTROL_CLASS);var c=n({},r,{inputBox:a,validationErrorMessageElement:o});return this.addSettingElementFocusHandler(c),c},e.prototype.renderSettingToolbar=function(e){
var t=this.keybindingService.lookupKeybinding(W.SETTINGS_EDITOR_COMMAND_SHOW_CONTEXT_MENU),i=I.localize("settingsContextMenuTitle","More Actions... ");t&&(i+=" ("+(t&&t.getLabel())+")");var n=new f.ToolBar(e,this.contextMenuService,{toggleMenuTitle:i});n.setActions([],this.settingActions)();var r=e.querySelector(".toolbar-toggle-more");return r&&(r.tabIndex=-1),n},e.prototype.renderSettingBoolTemplate=function(t,i){s.addClass(i,"setting-item"),s.addClass(i,"setting-item-bool");var n=s.append(i,$(".setting-item-title")),r=s.append(n,$("span.setting-item-category")),o=s.append(n,$("span.setting-item-label")),a=s.append(n,$("span.setting-item-overrides")),c=s.append(i,$(".setting-item-value-description")),l=s.append(c,$(".setting-item-bool-control")),u=s.append(c,$(".setting-item-description"));s.append(i,$(".setting-item-modified-indicator")).title=I.localize("modified","Modified");var p=s.append(i,$(".setting-item-deprecation-message")),h=[],f=new d.Checkbox({actionClassName:"setting-value-checkbox",
isChecked:!0,title:"",inputActiveOptionBorder:null});l.appendChild(f.domNode),h.push(f),h.push(f.onChange(function(){m.onChange&&m.onChange(f.checked)})),h.push(s.addDisposableListener(u,s.EventType.MOUSE_DOWN,function(e){var t=e.toElement,i=u.getAttribute("checkbox_label_target_id");"a"!==t.tagName.toLowerCase()&&i===m.checkbox.domNode.id&&(m.checkbox.checked=!m.checkbox.checked,m.onChange(f.checked)),s.EventHelper.stop(e)})),f.domNode.classList.add(e.CONTROL_CLASS);var g=s.append(i,$(".setting-toolbar-container")),v=this.renderSettingToolbar(g);h.push(v);var m={toDispose:h,containerElement:i,categoryElement:r,labelElement:o,controlElement:l,checkbox:f,descriptionElement:u,deprecationWarningElement:p,otherOverridesElement:a,toolbar:v};return this.addSettingElementFocusHandler(m),h.push(s.addDisposableListener(l,"mousedown",function(e){return e.stopPropagation()})),h.push(s.addStandardDisposableListener(l,"keydown",function(e){9===e.keyCode&&(t.domFocus(),e.browserEvent.stopPropagation())})),m},
e.prototype.cancelSuggesters=function(){this.contextViewService.hideContextView()},e.prototype.renderSettingEnumTemplate=function(t,i){var r=this.renderCommonTemplate(t,i,"enum"),o=new h.SelectBox([],void 0,this.contextViewService,void 0,{hasDetails:!0});r.toDispose.push(o),r.toDispose.push(L.attachSelectBoxStyler(o,this.themeService,{selectBackground:B.settingsSelectBackground,selectForeground:B.settingsSelectForeground,selectBorder:B.settingsSelectBorder,selectListBorder:B.settingsSelectListBorder})),o.render(r.controlElement);var s=r.controlElement.querySelector("select");s&&s.classList.add(e.CONTROL_CLASS),r.toDispose.push(o.onDidSelect(function(e){c.onChange&&c.onChange(e.index)}));var a=r.containerElement.insertBefore($(".setting-item-enumDescription"),r.descriptionElement.nextSibling),c=n({},r,{selectBox:o,enumDescriptionElement:a});return this.addSettingElementFocusHandler(c),c},e.prototype.renderSettingExcludeTemplate=function(t,i){
var r=this,o=this.renderCommonTemplate(t,i,"exclude"),s=this.instantiationService.createInstance(B.ExcludeSettingWidget,o.controlElement);s.domNode.classList.add(e.CONTROL_CLASS),o.toDispose.push(s);var a=n({},o,{excludeWidget:s});return this.addSettingElementFocusHandler(a),o.toDispose.push(s.onDidChangeExclude(function(e){if(a.context){var t=n({},a.context.scopeValue);e.originalPattern&&(e.originalPattern in a.context.defaultValue?t[e.originalPattern]=!1:delete t[e.originalPattern]),e.pattern&&(e.pattern in a.context.defaultValue&&!e.sibling?delete t[e.pattern]:t[e.pattern]=!e.sibling||{when:e.sibling});r._onDidChangeSetting.fire({key:a.context.setting.key,value:0===Object.keys(t).length?void 0:function(e){var t={};return Object.keys(e).map(function(t){return{key:t,val:e[t]}}).sort(function(e,t){return e.key.localeCompare(t.key)}).forEach(function(e){t[e.key]=e.val}),t}(t),type:a.context.valueType})}})),a},e.prototype.renderSettingComplexTemplate=function(e,t){
var i=this.renderCommonTemplate(e,t,"complex"),r=new u.Button(i.controlElement,{title:!0,buttonBackground:null,buttonHoverBackground:null});i.toDispose.push(r),i.toDispose.push(r.onDidClick(function(){return o.onChange(null)})),r.label=I.localize("editInSettingsJson","Edit in settings.json"),r.element.classList.add("edit-in-settings-button"),i.toDispose.push(L.attachButtonStyler(r,this.themeService,{buttonBackground:m.Color.transparent.toString(),buttonHoverBackground:m.Color.transparent.toString(),buttonForeground:"foreground"}));var o=n({},i,{button:r});return this.addSettingElementFocusHandler(o),o},e.prototype.renderNewExtensionsTemplate=function(e){var t=this,i=[];e.classList.add("setting-item-new-extensions");var n=new u.Button(e,{title:!0,buttonBackground:null,buttonHoverBackground:null});i.push(n),i.push(n.onDidClick(function(){r.context&&t.commandService.executeCommand("workbench.extensions.action.showExtensionsWithIds",r.context.extensionIds)})),
n.label=I.localize("newExtensionsButtonLabel","Show matching extensions"),n.element.classList.add("settings-new-extensions-button"),i.push(L.attachButtonStyler(n,this.themeService));var r={button:n,toDispose:i};return r},e.prototype.renderElement=function(e,t,i,n){return"settings.group.template"===i?this.renderGroupElement(t,n):"settings.newExtensions.template"===i?this.renderNewExtensionsElement(t,n):this.renderSettingElement(e,t,i,n)},e.prototype.renderGroupElement=function(e,t){t.parent.innerHTML="";var i=s.append(t.parent,$("div.settings-group-title-label"));i.classList.add("settings-group-level-"+e.level),i.textContent=e.label,e.isFirstGroup&&i.classList.add("settings-group-first")},e.prototype.renderNewExtensionsElement=function(e,t){t.context=e},e.prototype.getSettingDOMElementForDOMElement=function(e){var t=s.findParentWithClass(e,"setting-item");return t||null},e.prototype.getDOMElementsForSettingKey=function(t,i){return t.querySelectorAll("["+e.SETTING_KEY_ATTR+'="'+i+'"]')},
e.prototype.getKeyForDOMElementInSetting=function(t){var i=this.getSettingDOMElementForDOMElement(t);return i&&i.getAttribute(e.SETTING_KEY_ATTR)},e.prototype.renderSettingElement=function(t,i,n,r){var o=this;r.context=i,r.toolbar.context=i;var a=i.setting;s.toggleClass(r.containerElement,"is-configured",i.isConfigured),s.toggleClass(r.containerElement,"is-expanded",!0),r.containerElement.setAttribute(e.SETTING_KEY_ATTR,i.setting.key);var c=a.key+(i.isConfigured?" - Modified":"");if(r.categoryElement.textContent=i.displayCategory&&i.displayCategory+": ",r.categoryElement.title=c,r.labelElement.textContent=i.displayLabel,r.labelElement.title=c,r.descriptionElement.innerHTML="",i.setting.descriptionIsMarkdown){var l=this.renderDescriptionMarkdown(i,i.description,r.toDispose);r.descriptionElement.appendChild(l)}else r.descriptionElement.innerText=i.description;var u=(i.displayCategory+"_"+i.displayLabel).replace(/ /g,"_").toLowerCase();if(r.descriptionElement.id=u+"_setting_description",
r.otherOverridesElement.innerHTML="",i.overriddenScopeList.length){var d=i.isConfigured?I.localize("alsoConfiguredIn","Also modified in"):I.localize("configuredIn","Modified in");s.append(r.otherOverridesElement,$("span",null,"("+d+": "));for(var p=function(e){var t=s.append(r.otherOverridesElement,$("a.modified-scope",null,i.overriddenScopeList[e]));e!==i.overriddenScopeList.length-1?s.append(r.otherOverridesElement,$("span",null,", ")):s.append(r.otherOverridesElement,$("span",null,")")),s.addStandardDisposableListener(t,s.EventType.CLICK,function(t){o._onDidClickOverrideElement.fire({targetKey:i.setting.key,scope:i.overriddenScopeList[e]}),t.preventDefault(),t.stopPropagation()})},h=0;h<i.overriddenScopeList.length;h++)p(h)}this.renderValue(i,n,r),r.containerElement.parentElement.removeAttribute("role"),r.containerElement.parentElement.removeAttribute("aria-level"),r.containerElement.parentElement.removeAttribute("aria-posinset"),r.containerElement.parentElement.removeAttribute("aria-setsize")},
e.prototype.renderDescriptionMarkdown=function(e,t,i){var n=this;t=j(t);var r=a.renderMarkdown({value:t},{actionHandler:{callback:function(t){if(E.startsWith(t,"#")){var i={source:e,targetKey:t.substr(1)};n._onDidClickSettingLink.fire(i)}else{var r=void 0;try{r=_.URI.parse(t)}catch(e){}r&&n.openerService.open(r).catch(y.onUnexpectedError)}},disposeables:i}});return r.classList.add("setting-item-description-markdown"),U(r),r},e.prototype.renderValue=function(e,t,i){var n=this,r=function(t){return n._onDidChangeSetting.fire({key:e.setting.key,value:t,type:i.context.valueType})};i.deprecationWarningElement.innerText=e.setting.deprecationMessage||"","settings.enum.template"===t?this.renderEnum(e,i,r):"settings.text.template"===t?this.renderText(e,i,r):"settings.number.template"===t?this.renderNumber(e,i,r):"settings.bool.template"===t?this.renderBool(e,i,r):"settings.exclude.template"===t?this.renderExcludeSetting(e,i):"settings.complex.template"===t&&this.renderComplexSetting(e,i)},
e.prototype.renderBool=function(e,t,i){t.onChange=null,t.checkbox.checked=e.value,t.onChange=i,this.setElementAriaLabels(e,"settings.bool.template",t)},e.prototype.renderEnum=function(e,t,i){var n=e.setting.enum.map(String).map(q);t.selectBox.setOptions(n);var r=e.setting.enumDescriptions,o=e.setting.enumDescriptionsAreMarkdown;t.selectBox.setDetailsProvider(function(e){return{details:r&&r[e]&&(o?j(r[e],!1):r[e]),isMarkdown:o}});var s=this.setElementAriaLabels(e,"settings.enum.template",t);t.selectBox.setAriaLabel(s);var a=e.setting.enum.indexOf(e.value);t.onChange=null,t.selectBox.select(a),t.onChange=function(t){return i(e.setting.enum[t])},t.enumDescriptionElement.innerHTML=""},e.prototype.renderText=function(e,t,i){var n=this.setElementAriaLabels(e,"settings.text.template",t);t.onChange=null,t.inputBox.value=e.value,t.onChange=function(r){H(e,t,!1,n),i(r)},H(e,t,!0,n)},e.prototype.renderNumber=function(e,t,i){
var n="integer"===e.valueType||"nullable-integer"===e.valueType?parseInt:parseFloat,r="nullable-integer"===e.valueType||"nullable-number"===e.valueType?function(e){return""===e?null:n(e)}:n,o=this.setElementAriaLabels(e,"settings.number.template",t);t.onChange=null,t.inputBox.value=e.value,t.onChange=function(n){H(e,t,!1,o),i(r(n))},H(e,t,!0,o)},e.prototype.renderExcludeSetting=function(e,t){var i=V(e);t.excludeWidget.setValue(i),t.context=e},e.prototype.renderComplexSetting=function(e,t){var i=this;t.onChange=function(){return i._onDidOpenSettings.fire(e.setting.key)}},e.prototype.setElementAriaLabels=function(e,t,i){var n=(e.displayCategory+"_"+e.displayLabel).replace(/ /g,"_").toLowerCase(),r=i.otherOverridesElement.textContent?i.otherOverridesElement.textContent:e.isConfigured?I.localize("settings.Modified"," Modified. "):"",o=null,s=e.displayCategory+" "+e.displayLabel+". ";if("settings.text.template"===t)(o=i.inputBox.inputElement)&&(o.setAttribute("role","textbox"),
s+=r);else if("settings.number.template"===t)(o=i.inputBox.inputElement)&&(o.setAttribute("role","textbox"),s+=" number. "+r);else if("settings.bool.template"===t)(o=i.checkbox.domNode)&&(o.setAttribute("role","checkbox"),s+=r,i.descriptionElement.setAttribute("checkbox_label_target_id",n+"_setting_item"));else{if("settings.enum.template"!==t)return"";(o=i.controlElement.firstElementChild)&&(o.setAttribute("role","combobox"),s+=r)}return o?(o.id=n+"_setting_item",o.setAttribute("aria-label",s),o.setAttribute("aria-describedby",n+"_setting_description settings_aria_more_actions_shortcut_label"),s):""},e.prototype.disposeTemplate=function(e,t,i){b.dispose(i.toDispose)},e.CONTROL_CLASS="setting-control-focus-target",e.CONTROL_SELECTOR="."+e.CONTROL_CLASS,e.SETTING_KEY_ATTR="data-key",e=r([o(1,F.IThemeService),o(2,R.IContextViewService),o(3,M.IOpenerService),o(4,A.IInstantiationService),o(5,D.ICommandService),o(6,R.IContextMenuService),o(7,O.IKeybindingService)],e)}();t.SettingsRenderer=J;var Z=function(){
function e(e){this.viewState=e}return e.prototype.isVisible=function(e,t){var i=this;return!(this.viewState.filterToCategory&&t instanceof N.SettingsTreeSettingElement&&!this.settingContainedInGroup(t.setting,this.viewState.filterToCategory))&&(!(t instanceof N.SettingsTreeSettingElement&&1!==this.viewState.settingsTarget&&!t.matchesScope(this.viewState.settingsTarget))&&(!(t instanceof N.SettingsTreeSettingElement&&this.viewState.tagFilters&&!t.matchesAllTags(this.viewState.tagFilters))&&(t instanceof N.SettingsTreeGroupElement?"number"==typeof t.count?t.count>0:t.children.some(function(t){return i.isVisible(e,t)}):!(t instanceof N.SettingsTreeNewExtensionsElement&&(this.viewState.tagFilters&&this.viewState.tagFilters.size||this.viewState.filterToCategory)))))},e.prototype.settingContainedInGroup=function(e,t){var i=this;return t.children.some(function(t){return t instanceof N.SettingsTreeGroupElement?i.settingContainedInGroup(e,t):t instanceof N.SettingsTreeSettingElement&&t.setting.key===e.key})},e}()
;t.SettingsTreeFilter=Z;var ee=function(e){function t(t){return e.call(this,{},t)||this}return i(t,e),t.prototype.onLeftClick=function(e,t,i,n){return!("a"!==i.target.tagName.toLowerCase()&&"a"!==i.target.parentElement.tagName.toLowerCase()||!s.findParentWithClass(i.target,"setting-item-description-markdown",e.getHTMLElement())&&!s.findParentWithClass(i.target,"select-box-description-markdown"))},t=r([o(0,T.IConfigurationService)],t)}(k.WorkbenchTreeController);t.SettingsTreeController=ee;var te=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t?t instanceof N.SettingsTreeSettingElement?"boolean"===t.valueType?"":I.localize("settingRowAriaLabel","{0} {1}, Setting",t.displayCategory,t.displayLabel):t instanceof N.SettingsTreeGroupElement?I.localize("groupRowAriaLabel","{0}, group",t.label):"":""},e}();t.SettingsAccessibilityProvider=te;var ie=function(e){function t(t,i,r,o,a){var c=this,l=a.createInstance(ee),u=n({controller:l,accessibilityProvider:a.createInstance(te),
filter:a.createInstance(Z,i),styler:new C.DefaultTreestyler(s.createStyleSheet(t),"settings-editor-tree")},r),d={ariaLabel:I.localize("treeAriaLabel","Settings"),showLoading:!1,indentPixels:0,twistiePixels:20};return c=e.call(this,t,u,d)||this,c.disposables=[],c.disposables.push(l),c.disposables.push(F.registerThemingParticipant(function(e,t){var i=e.getColor(P.focusBorder);i&&t.addRule(".settings-editor > .settings-body > .settings-toc-container .monaco-tree:focus .monaco-tree-row.focused {outline: solid 1px "+i+"; outline-offset: -1px;  }");var n=e.getColor(P.foreground);if(n){var r=new m.Color(new m.RGBA(n.rgba.r,n.rgba.g,n.rgba.b,.9));t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description { color: "+r+"; }")}var o=e.getColor(P.errorForeground);o&&t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-deprecation-message { color: "+o+"; }");var s=e.getColor(P.inputValidationErrorBackground)
;s&&t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-validation-message { background-color: "+s+"; }");var a=e.getColor(P.inputValidationErrorForeground);a&&t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-validation-message { color: "+a+"; }");var c=e.getColor(P.inputValidationErrorBorder);c&&(t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-validation-message { border-style:solid; border-width: 1px; border-color: "+c+"; }"),t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.invalid-input .setting-item-control .monaco-inputbox.idle { outline-width: 0; border-style:solid; border-width: 1px; border-color: "+c+"; }"));var l=e.getColor(B.settingsHeaderForeground);l&&(t.addRule(".settings-editor > .settings-body > .settings-tree-container .settings-group-title-label { color: "+l+"; }"),
t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item-label { color: "+l+"; }"));var u=e.getColor(P.focusBorder);u&&t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description-markdown a:focus { outline-color: "+u+" }")})),c.getHTMLElement().classList.add("settings-editor-tree"),c.disposables.push(L.attachStyler(o,{listActiveSelectionBackground:P.editorBackground,listActiveSelectionForeground:P.foreground,listFocusAndSelectionBackground:P.editorBackground,listFocusAndSelectionForeground:P.foreground,listFocusBackground:P.editorBackground,listFocusForeground:P.foreground,listHoverForeground:P.foreground,listHoverBackground:P.editorBackground,listHoverOutline:P.editorBackground,listFocusOutline:P.editorBackground,listInactiveSelectionBackground:P.editorBackground,listInactiveSelectionForeground:P.foreground},function(e){c.style(e)})),c}return i(t,e),t.prototype.dispose=function(){this.disposables=b.dispose(this.disposables)},
t=r([o(3,F.IThemeService),o(4,A.IInstantiationService)],t)}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.expand=function(){return Promise.resolve(null)},t.prototype.collapse=function(){return Promise.resolve(null)},t.prototype.setFocus=function(e,t){},t.prototype.focusNext=function(e,t){},t.prototype.focusPrevious=function(e,t){},t.prototype.focusParent=function(e){},t.prototype.focusFirstChild=function(e){},t.prototype.focusFirst=function(e,t){},t.prototype.focusNth=function(e,t){},t.prototype.focusLast=function(e,t){},t.prototype.focusNextPage=function(e){},t.prototype.focusPreviousPage=function(e){},t.prototype.select=function(e,t){},t.prototype.selectRange=function(e,t,i){},t.prototype.selectAll=function(e,t){},t.prototype.setSelection=function(e,t){},t.prototype.toggleSelection=function(e,t){},t}(w.Tree));t.SettingsTree=ie;var ne=function(e){function t(i){var n=e.call(this,t.ID,t.LABEL)||this;return n.clipboardService=i,n}return i(t,e),
t.prototype.run=function(e){return e&&this.clipboardService.writeText(e.setting.key),Promise.resolve(null)},t.ID="settings.copySettingId",t.LABEL=I.localize("copySettingIdLabel","Copy Setting ID"),t=r([o(0,x.IClipboardService)],t)}(g.Action),re=function(e){function t(i){var n=e.call(this,t.ID,t.LABEL)||this;return n.clipboardService=i,n}return i(t,e),t.prototype.run=function(e){if(e){var t='"'+e.setting.key+'": '+JSON.stringify(e.value,void 0,"  ");this.clipboardService.writeText(t)}return Promise.resolve(null)},t.ID="settings.copySettingAsJSON",t.LABEL=I.localize("copySettingAsJSONLabel","Copy Setting as JSON"),t=r([o(0,x.IClipboardService)],t)}(g.Action)}),define(e[439],t([1,0,8,240,9,11,4,59,27,50,12,238,185,181]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=s.$,S=function(){function e(e){this._viewState=e}return Object.defineProperty(e.prototype,"settingsTreeRoot",{get:function(){return this._settingsTreeRoot},set:function(e){
this._settingsTreeRoot=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSearchModel",{set:function(e){this._currentSearchModel=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._settingsTreeRoot.children},enumerable:!0,configurable:!0}),e.prototype.update=function(){this._settingsTreeRoot&&this.updateGroupCount(this._settingsTreeRoot)},e.prototype.updateGroupCount=function(e){var t=this;e.children.forEach(function(e){e instanceof v.SettingsTreeGroupElement&&t.updateGroupCount(e)});var i=e.children.filter(function(e){return e instanceof v.SettingsTreeGroupElement}).reduce(function(e,t){return e+t.count},0);e.count=i+this.getGroupCount(e)},e.prototype.getGroupCount=function(e){var t=this;return e.children.filter(function(e){
return e instanceof v.SettingsTreeSettingElement&&(!(t._currentSearchModel&&!t._currentSearchModel.root.containsSetting(e.setting.key))&&(e.matchesScope(t._viewState.settingsTarget)&&e.matchesAllTags(t._viewState.tagFilters)))}).length},e}();t.TOCTreeModel=S;var b=function(){function e(e){this._treeFilter=e}return e.prototype.getId=function(e,t){return t.id},e.prototype.hasChildren=function(e,t){var i=this;return t instanceof S||t instanceof v.SettingsTreeGroupElement&&(t.children&&t.children.some(function(t){return t instanceof v.SettingsTreeGroupElement&&i._treeFilter.isVisible(e,t)}))},e.prototype.getChildren=function(e,t){return Promise.resolve(this._getChildren(t))},e.prototype._getChildren=function(e){return e.children.filter(function(e){return e instanceof v.SettingsTreeGroupElement})},e.prototype.getParent=function(e,t){return Promise.resolve(t instanceof v.SettingsTreeGroupElement&&t.parent)},e}();t.TOCDataSource=b;var E=function(){function e(){}return e.prototype.getHeight=function(e,t){return 22},
e.prototype.getTemplateId=function(e,t){return"settings.toc.entry"},e.prototype.renderTemplate=function(e,t,i){return{labelElement:s.append(i,y(".settings-toc-entry")),countElement:s.append(i,y(".settings-toc-count"))}},e.prototype.renderElement=function(e,t,i,n){var r=t.count,o=t.label;s.toggleClass(n.labelElement,"no-results",0===r),n.labelElement.textContent=o,n.countElement.textContent=r?" ("+r+")":""},e.prototype.disposeTemplate=function(e,t,i){},e}();t.TOCRenderer=E;var _=function(e){function t(t,i,r,o,c,l,u,f){var v=this,y=u.createInstance(g.SettingsTreeFilter,i),S=n({controller:u.createInstance(d.WorkbenchTreeController,{}),filter:y,styler:new a.DefaultTreestyler(s.createStyleSheet(t),"settings-toc-tree"),dataSource:u.createInstance(b,y),accessibilityProvider:u.createInstance(g.SettingsAccessibilityProvider)},r);return(v=e.call(this,t,S,{showLoading:!1,twistiePixels:15,horizontalScrollMode:2},o,c,l,u,f)||this).getHTMLElement().classList.add("settings-toc-tree"),v.disposables.push(h.attachStyler(l,{
listActiveSelectionBackground:p.editorBackground,listActiveSelectionForeground:m.settingsHeaderForeground,listFocusAndSelectionBackground:p.editorBackground,listFocusAndSelectionForeground:m.settingsHeaderForeground,listFocusBackground:p.editorBackground,listFocusForeground:m.settingsHeaderForeground,listHoverForeground:m.settingsHeaderForeground,listHoverBackground:p.editorBackground,listInactiveSelectionBackground:p.editorBackground,listInactiveSelectionForeground:m.settingsHeaderForeground},function(e){v.style(e)})),v}return i(t,e),t=r([o(3,l.IContextKeyService),o(4,d.IListService),o(5,f.IThemeService),o(6,u.IInstantiationService),o(7,c.IConfigurationService)],t)}(d.WorkbenchTree);t.TOCTree=_}),define(e[440],t([1,0,38,36,6,117,7,58,60,3,10,22,48,21,9,20,24]),function(e,t,i,n,s,a,c,l,u,d,p,h,f,g,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=c.Registry.as(a.Extensions.JSONContribution),b=function(){function e(e,t,i,n,r,o,s,a){var c=this;this.modelService=e,
this.textModelResolverService=t,this.preferencesService=i,this.modeService=n,this.editorService=r,this.environmentService=o,this.workspaceService=s,this.configurationService=a,this.settingsListener=this.configurationService.onDidChangeConfiguration(function(e){e.affectsConfiguration(u.DEFAULT_SETTINGS_EDITOR_SETTING)&&c.handleSettingsEditorOverride()}),this.handleSettingsEditorOverride(),this.start()}return e.prototype.handleSettingsEditorOverride=function(){var e=this;this.editorOpeningListener=d.dispose(this.editorOpeningListener),this.configurationService.getValue(u.DEFAULT_SETTINGS_EDITOR_SETTING)&&(this.editorOpeningListener=this.editorService.overrideOpenEditor(function(t,i,n){return e.onEditorOpening(t,i,n)}))},e.prototype.onEditorOpening=function(e,t,i){var n=e.getResource();if(n&&h.endsWith(n.path,"settings.json")&&this.configurationService.getValue(u.DEFAULT_SETTINGS_EDITOR_SETTING)&&!i.isOpened(e)){if(y.isEqual(n,s.URI.file(this.environmentService.appSettingsPath),!m.isLinux))return{
override:this.preferencesService.openGlobalSettings(!0,t,i)};var r=this.workspaceService.getWorkbenchState();if(2===r){o=this.workspaceService.getWorkspace().folders;if(y.isEqual(n,o[0].toResource(u.FOLDER_SETTINGS_PATH)))return{override:this.preferencesService.openWorkspaceSettings(!0,t,i)}}else if(3===r)for(var o=this.workspaceService.getWorkspace().folders,a=0;a<o.length;a++)if(y.isEqual(n,o[a].toResource(u.FOLDER_SETTINGS_PATH)))return{override:this.preferencesService.openFolderSettings(o[a].uri,!0,t,i)}}},e.prototype.start=function(){var e=this;this.textModelResolverService.registerTextModelContentProvider("vscode",{provideTextContent:function(t){if("vscode"!==t.scheme)return null;if("schemas"===t.authority){var i=e.getSchemaModel(t);if(i)return Promise.resolve(i)}return e.preferencesService.resolveModel(t)}})},e.prototype.getSchemaModel=function(e){var t=S.getSchemaContributions().schemas[e.toString()];if(t){
var i=JSON.stringify(t),n=this.modeService.create("jsonc"),r=this.modelService.createModel(i,n,e),o=[];return o.push(S.onDidChangeSchema(function(i){i===e.toString()&&(t=S.getSchemaContributions().schemas[e.toString()],r.setValue(JSON.stringify(t)))})),o.push(r.onWillDispose(function(){return d.dispose(o)})),r}return null},e.prototype.dispose=function(){this.editorOpeningListener=d.dispose(this.editorOpeningListener),this.settingsListener=d.dispose(this.settingsListener)},e=r([o(0,i.IModelService),o(1,l.ITextModelService),o(2,u.IPreferencesService),o(3,n.IModeService),o(4,p.IEditorService),o(5,f.IEnvironmentService),o(6,g.IWorkspaceContextService),o(7,v.IConfigurationService)],e)}();t.PreferencesContribution=b}),define(e[441],t([1,0,8,127,19,13,52,90,18,29,6,432,2,9,11,37,4,43,68,25,28,30,27,50,12,82,459,162,212,238,185,181,439,107,41,60,338]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B){"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;var W=n.$,V="settingsEditorState",z=function(e){function t(i,n,r,o,s,a,l,u,d,p,h,f,g){var v=e.call(this,t.ID,i,r,p)||this;return v.configurationService=n,v.preferencesService=o,v.instantiationService=s,v.preferencesSearchService=a,v.logService=l,v.contextMenuService=d,v.storageService=p,v.notificationService=h,v.editorGroupService=f,v.keybindingService=g,v.delayedFilterLogging=new c.Delayer(1e3),v.localSearchDelayer=new c.Delayer(300),v.remoteSearchThrottle=new c.ThrottledDelayer(200),v.viewState={settingsTarget:1},v.delayRefreshOnLayout=new c.Delayer(100),v.settingFastUpdateDelayer=new c.Delayer(t.SETTING_UPDATE_FAST_DEBOUNCE),v.settingSlowUpdateDelayer=new c.Delayer(t.SETTING_UPDATE_SLOW_DEBOUNCE),v.inSettingsEditorContextKey=F.CONTEXT_SETTINGS_EDITOR.bindTo(u),v.searchFocusContextKey=F.CONTEXT_SETTINGS_SEARCH_FOCUS.bindTo(u),v.tocRowFocused=F.CONTEXT_TOC_ROW_FOCUS.bindTo(u),v.scheduledRefreshes=new Map,v.editorMemento=v.getEditorMemento(f,V),v._register(n.onDidChangeConfiguration(function(e){
4!==e.source&&v.onConfigUpdate(e.affectedKeys)})),v}return i(t,e),t.shouldSettingUpdateFast=function(e){return!p.isArray(e)&&(e===B.SettingValueType.Enum||e===B.SettingValueType.Complex)},Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return 375},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return Number.POSITIVE_INFINITY},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSettingsModel",{get:function(){return this.searchResultModel||this.settingsTreeModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchResultModel",{get:function(){return this._searchResultModel},set:function(e){this._searchResultModel=e,n.toggleClass(this.rootElement,"search-mode",!!this._searchResultModel)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSettingsContextMenuKeyBindingLabel",{get:function(){
return this.keybindingService.lookupKeybinding(F.SETTINGS_EDITOR_COMMAND_SHOW_CONTEXT_MENU).getAriaLabel()},enumerable:!0,configurable:!0}),t.prototype.createEditor=function(e){e.setAttribute("tabindex","-1"),this.rootElement=n.append(e,W(".settings-editor")),this.createHeader(this.rootElement),this.createBody(this.rootElement),this.updateStyles()},t.prototype.setInput=function(t,i,n){var r=this;return this.inSettingsEditorContextKey.set(!0),e.prototype.setInput.call(this,t,i,n).then(function(){return new Promise(process.nextTick)}).then(function(){return i?i.target||(i.target=1):r.viewState.settingsTarget||(i=B.SettingsEditorOptions.create({target:1})),r._setOptions(i),r._register(t.onDispose(function(){r.searchWidget.setValue("")})),r.render(n)}).then(function(){r.updateTreeScrollSync(),r.restoreCachedState()})},t.prototype.restoreCachedState=function(){var e=this.editorMemento.loadEditorState(this.group,this.input);if(e&&"object"==typeof e.target&&(e.target=h.URI.revive(e.target)),e){var t=e.target
;this.settingsTargetsWidget.settingsTarget=t,this.onDidSettingsTargetChange(t),this.searchWidget.setValue(e.searchQuery)}},t.prototype.setOptions=function(t){e.prototype.setOptions.call(this,t),this._setOptions(t)},t.prototype._setOptions=function(e){if(e){e.query&&this.searchWidget.setValue(e.query);var t=e.folderUri||e.target;this.settingsTargetsWidget.settingsTarget=t,this.viewState.settingsTarget=t}},t.prototype.clearInput=function(){this.inSettingsEditorContextKey.set(!1),this.editorMemento.clearEditorState(this.input,this.group),e.prototype.clearInput.call(this)},t.prototype.layout=function(e){var t=this,i=this.settingsTree.getFirstVisibleElement(),r=this.settingsTree.getRelativeTop(i);this.layoutTrees(e);var o=e.width-48,s=(o>1e3?1e3:o)-10;this.searchWidget.layout({height:20,width:s}),n.toggleClass(this.rootElement,"mid-width",e.width<1e3&&e.width>=600),n.toggleClass(this.rootElement,"narrow-width",e.width<600),e.width!==this.lastLayedoutWidth&&(this.lastLayedoutWidth=e.width,
this.delayRefreshOnLayout.trigger(function(){t.renderTree(void 0,!0).then(function(){t.settingsTree.reveal(i,r)})}))},t.prototype.focus=function(){if(this.lastFocusedSettingElement){var e=this.settingsTreeRenderer.getDOMElementsForSettingKey(this.settingsTree.getHTMLElement(),this.lastFocusedSettingElement);if(e.length){var t=e[0].querySelector(k.SettingsRenderer.CONTROL_SELECTOR);if(t)return void t.focus()}}this.focusSearch()},t.prototype.focusSettings=function(){var e=this.settingsAriaExtraLabelsContainer.querySelector("#settings_aria_more_actions_shortcut_label");if(e){var t=this.currentSettingsContextMenuKeyBindingLabel;t&&e.setAttribute("aria-label",g.localize("settingsContextMenuAriaShortcut","For more actions, Press {0}.",t))}var i=this.settingsTree.getHTMLElement().querySelector(k.SettingsRenderer.CONTROL_SELECTOR);i&&i.focus()},t.prototype.showContextMenu=function(){var e=this.settingsTreeRenderer.getSettingDOMElementForDOMElement(this.getActiveElementInSettingsTree());if(e){
var t=this.settingsTreeRenderer.getKeyForDOMElementInSetting(e);if(t){var i=this.currentSettingsModel.getElementsByName(t);i&&i[0]&&this.settingsTreeRenderer.showContextMenu(i[0],e)}}},t.prototype.focusSearch=function(e,t){void 0===t&&(t=!0),e&&this.searchWidget&&this.searchWidget.setValue(e),this.searchWidget.focus(t)},t.prototype.clearSearchResults=function(){this.searchWidget.setValue("")},t.prototype.clearSearchFilters=function(){var e=this.searchWidget.getValue();t.SUGGESTIONS.forEach(function(t){e=e.replace(t,"")}),this.searchWidget.setValue(e.trim())},t.prototype.createHeader=function(e){var i=this;this.headerContainer=n.append(e,W(".settings-header"));var r=n.append(this.headerContainer,W(".search-container")),o=g.localize("SearchSettings.AriaLabel","Search settings");this.searchWidget=this._register(this.instantiationService.createInstance(R.SuggestEnabledInput,t.ID+".searchbox",r,{triggerCharacters:["@"],provideResults:function(e){return t.SUGGESTIONS.filter(function(t){return-1===e.indexOf(t)
}).map(function(e){return e+" "})}},o,"settingseditor:searchinput"+t.NUM_INSTANCES++,{placeholderText:o,focusContextKey:this.searchFocusContextKey})),this._register(R.attachSuggestEnabledInputBoxStyler(this.searchWidget,this.themeService,{inputBorder:P.settingsTextInputBorder})),this.countElement=n.append(r,n.$(".settings-count-widget")),this._register(x.attachStylerCallback(this.themeService,{badgeBackground:I.badgeBackground,contrastBorder:I.contrastBorder,badgeForeground:I.badgeForeground},function(e){var t=e.badgeBackground?e.badgeBackground.toString():null,n=e.contrastBorder?e.contrastBorder.toString():null;i.countElement.style.backgroundColor=t,i.countElement.style.color=e.badgeForeground.toString(),i.countElement.style.borderWidth=n?"1px":null,i.countElement.style.borderStyle=n?"solid":null,i.countElement.style.borderColor=n})),this._register(this.searchWidget.onInputDidChange(function(){return i.onSearchInputChanged()}))
;var s=n.append(this.headerContainer,W(".settings-header-controls")),a=n.append(s,W(".settings-target-container"));this.settingsTargetsWidget=this._register(this.instantiationService.createInstance(A.SettingsTargetsWidget,a)),this.settingsTargetsWidget.settingsTarget=1,this.settingsTargetsWidget.onDidTargetChange(function(e){return i.onDidSettingsTargetChange(e)}),this.createHeaderControls(s)},t.prototype.onDidSettingsTargetChange=function(e){this.viewState.settingsTarget=e,this.onConfigUpdate(void 0,!0)},t.prototype.createHeaderControls=function(e){var t=n.append(e,W(".settings-header-controls-right"));this.toolbar=this._register(new s.ToolBar(t,this.contextMenuService,{ariaLabel:g.localize("settingsToolbarLabel","Settings Editor Actions"),actionRunner:this.actionRunner})),this.toolbar.context={target:this.settingsTargetsWidget.settingsTarget}},t.prototype.onDidClickSetting=function(e,t){var i=this,n=this.currentSettingsModel.getElementsByName(e.targetKey);if(n&&n[0]){
var r=this.settingsTree.getRelativeTop(e.source);r<0&&(r=.5),this.settingsTree.reveal(n[0],r);var o=this.settingsTreeRenderer.getDOMElementsForSettingKey(this.settingsTree.getHTMLElement(),e.targetKey);if(o&&o[0]){var s=o[0].querySelector(k.SettingsRenderer.CONTROL_SELECTOR);s&&s.focus()}}else if(!t){this.triggerSearch("").then(function(){i.searchWidget.setValue(""),i.onDidClickSetting(e,!0)})}},t.prototype.switchToSettingsFile=function(){var e=M.parseQuery(this.searchWidget.getValue());return this.openSettingsFile(e.query)},t.prototype.openSettingsFile=function(e){var t=this.settingsTargetsWidget.settingsTarget,i={query:e};return 1===t?this.preferencesService.openGlobalSettings(!0,i):2===t?this.preferencesService.openWorkspaceSettings(!0,i):this.preferencesService.openFolderSettings(t,!0,i)},t.prototype.createBody=function(e){var t=this,i=n.append(e,W(".settings-body"));this.noResultsMessage=n.append(i,W(".no-results")),this.noResultsMessage.innerText=g.localize("noResults","No Settings Found"),
this.clearFilterLinkContainer=W("span.clear-search-filters"),this.clearFilterLinkContainer.textContent=" - ";var r=n.append(this.clearFilterLinkContainer,W("a.pointer.prominent",{tabindex:0},g.localize("clearSearchFilters","Clear Filters")));this._register(n.addDisposableListener(r,n.EventType.CLICK,function(e){n.EventHelper.stop(e,!1),t.clearSearchFilters()})),n.append(this.noResultsMessage,this.clearFilterLinkContainer);var o=W("span.clear-search");o.textContent=" - ";var s=n.append(o,W("a.pointer.prominent",{tabindex:0},g.localize("clearSearch","Clear Search")));this._register(n.addDisposableListener(s,n.EventType.CLICK,function(e){n.EventHelper.stop(e,!1),t.clearSearchResults()})),n.append(this.noResultsMessage,o),this._register(x.attachStylerCallback(this.themeService,{editorForeground:I.editorForeground},function(e){t.noResultsMessage.style.color=e.editorForeground?e.editorForeground.toString():null})),this.createTOC(i),this.createFocusSink(i,function(e){
if(n.findParentWithClass(e.relatedTarget,"settings-editor-tree")){if(t.settingsTree.getScrollPosition()>0){var i=t.settingsTree.getFirstVisibleElement();return t.settingsTree.reveal(i,.1),!0}}else{var r=t.settingsTree.getHTMLElement().querySelector(k.SettingsRenderer.CONTROL_SELECTOR);r&&r.focus()}return!1},"settings list focus helper"),this.createSettingsTree(i),this.createFocusSink(i,function(e){if(n.findParentWithClass(e.relatedTarget,"settings-editor-tree")&&t.settingsTree.getScrollPosition()<1){var i=t.settingsTree.getLastVisibleElement();return t.settingsTree.reveal(i,.9),!0}return!1},"settings list focus helper")},t.prototype.createFocusSink=function(e,t,i){var r=n.append(e,W(".settings-tree-focus-sink"));return r.setAttribute("aria-label",i),r.tabIndex=0,this._register(n.addDisposableListener(r,"focus",function(e){e.relatedTarget&&t(e)&&e.relatedTarget.focus()})),r},t.prototype.createTOC=function(e){var t=this;this.tocTreeModel=new L.TOCTreeModel(this.viewState),
this.tocTreeContainer=n.append(e,W(".settings-toc-container"));var i=this.instantiationService.createInstance(L.TOCRenderer);this.tocTree=this._register(this.instantiationService.createInstance(L.TOCTree,n.append(this.tocTreeContainer,W(".settings-toc-wrapper")),this.viewState,{renderer:i})),this._register(this.tocTree.onDidChangeFocus(function(e){var i=e.focus;if(t.searchResultModel&&(t.viewState.filterToCategory=i,t.renderTree()),i&&(!e.payload||!e.payload.fromScroll)){var n=Promise.resolve(null);t.settingsTreeDataSource.pageTo(i.index,!0)&&(n=t.renderTree()),n.then(function(){return t.settingsTree.reveal(i,0)})}})),this._register(this.tocTree.onDidFocus(function(){t.tocRowFocused.set(!0)})),this._register(this.tocTree.onDidBlur(function(){t.tocRowFocused.set(!1)}))},t.prototype.createSettingsTree=function(e){var t=this;this.settingsTreeContainer=n.append(e,W(".settings-tree-container")),this.settingsAriaExtraLabelsContainer=n.append(this.settingsTreeContainer,W(".settings-aria-extra-labels")),
this.settingsAriaExtraLabelsContainer.id="settings_aria_extra_labels";var i=n.append(this.settingsAriaExtraLabelsContainer,W(".settings-aria-extra-label"));i.id="settings_aria_more_actions_shortcut_label",i.setAttribute("aria-label",""),this.settingsTreeRenderer=this.instantiationService.createInstance(k.SettingsRenderer,this.settingsTreeContainer),this._register(this.settingsTreeRenderer.onDidChangeSetting(function(e){return t.onDidChangeSetting(e.key,e.value,e.type)})),this._register(this.settingsTreeRenderer.onDidOpenSettings(function(e){t.openSettingsFile(e)})),this._register(this.settingsTreeRenderer.onDidClickSettingLink(function(e){return t.onDidClickSetting(e)})),this._register(this.settingsTreeRenderer.onDidFocusSetting(function(e){t.lastFocusedSettingElement=e.setting.key,t.settingsTree.reveal(e)})),this._register(this.settingsTreeRenderer.onDidClickOverrideElement(function(e){
v.ConfigurationTargetToString(2)===e.scope.toUpperCase()?t.settingsTargetsWidget.updateTarget(2):v.ConfigurationTargetToString(1)===e.scope.toUpperCase()&&t.settingsTargetsWidget.updateTarget(1),t.searchWidget.setValue(e.targetKey)})),this.settingsTreeDataSource=this.instantiationService.createInstance(k.SimplePagedDataSource,this.instantiationService.createInstance(k.SettingsDataSource,this.viewState)),this.settingsTree=this._register(this.instantiationService.createInstance(k.SettingsTree,this.settingsTreeContainer,this.viewState,{renderer:this.settingsTreeRenderer,dataSource:this.settingsTreeDataSource})),this.settingsTree.getHTMLElement().attributes.removeNamedItem("tabindex"),this.settingsTree.getHTMLElement().setAttribute("role","form"),this._register(this.settingsTree.onDidScroll(function(){t.updateTreeScrollSync()}))},t.prototype.notifyNoSaveNeeded=function(e){void 0===e&&(e=!0),
!e&&this.storageService.getBoolean("hasNotifiedOfSettingsAutosave",0,!1)||(this.storageService.store("hasNotifiedOfSettingsAutosave",!0,0),this.notificationService.info(g.localize("settingsNoSaveNeeded","Your changes are automatically saved as you edit.")))},t.prototype.onDidChangeSetting=function(e,i,n){var r=this;this.notifyNoSaveNeeded(!1),this.pendingSettingUpdate&&this.pendingSettingUpdate.key!==e&&this.updateChangedSetting(e,i),this.pendingSettingUpdate={key:e,value:i},t.shouldSettingUpdateFast(n)?this.settingFastUpdateDelayer.trigger(function(){return r.updateChangedSetting(e,i)}):this.settingSlowUpdateDelayer.trigger(function(){return r.updateChangedSetting(e,i)})},t.prototype.updateTreeScrollSync=function(){if(this.settingsTreeRenderer.cancelSuggesters(),!this.searchResultModel&&this.tocTree.getInput()){this.updateTreePagingByScroll();var e=this.settingsTree.getFirstVisibleElement(),t=e instanceof M.SettingsTreeSettingElement?e.parent:e instanceof M.SettingsTreeGroupElement?e:null
;if(t&&this.tocTree.getSelection()[0]!==t){this.tocTree.reveal(t);var i=this.tocTree.getRelativeTop(t);f.collapseAll(this.tocTree,t),i<0||i>1?this.tocTree.reveal(t):this.tocTree.reveal(t,i),this.tocTree.expand(t),this.tocTree.setSelection([t]),this.tocTree.setFocus(t,{fromScroll:!0})}}},t.prototype.updateTreePagingByScroll=function(){var e=this.settingsTree.getLastVisibleElement();e&&this.settingsTreeDataSource.pageTo(e.index)&&this.renderTree()},t.prototype.updateChangedSetting=function(e,t){var i=this,n=this.settingsTargetsWidget.settingsTarget,r=h.URI.isUri(n)?n:void 0,o=r?3:n,s={resource:r},a=void 0===t;return this.configurationService.inspect(e,s).default===t&&(t=void 0),this.configurationService.updateValue(e,t,s,o).then(function(){return i.renderTree(e,a)}).then(function(){var n={key:e,query:i.searchWidget.getValue(),searchResults:i.searchResultModel&&i.searchResultModel.getUniqueResults(),rawResults:i.searchResultModel&&i.searchResultModel.getRawResults(),
showConfiguredOnly:i.viewState.tagFilters&&i.viewState.tagFilters.has(F.MODIFIED_SETTING_TAG),isReset:void 0===t,settingsTarget:i.settingsTargetsWidget.settingsTarget};return i.reportModifiedSetting(n)})},t.prototype.reportModifiedSetting=function(e){this.pendingSettingUpdate=null;var t=e.searchResults&&e.searchResults[1],i=e.searchResults&&e.searchResults[0],n=void 0,r=void 0,o=void 0;if(e.searchResults){var s=a.firstIndex(i.filterMatches,function(t){return t.setting.key===e.key});if(n=s>=0?"local":"remote",o=s>=0?s:t&&a.firstIndex(t.filterMatches,function(t){return t.setting.key===e.key})+i.filterMatches.length,this.searchResultModel){var c=this.searchResultModel.getRawResults();if(c[1]){var l=a.firstIndex(c[1].filterMatches,function(t){return t.setting.key===e.key});r=l>=0?l:void 0}}}var u=1===e.settingsTarget?"user":2===e.settingsTarget?"workspace":"folder",d={key:e.key,query:e.query,groupId:n,nlpIndex:r,displayIndex:o,showConfiguredOnly:e.showConfiguredOnly,isReset:e.isReset,target:u}
;this.telemetryService.publicLog("settingsEditor.settingModified",d)},t.prototype.render=function(e){var t=this;return this.input?this.input.resolve().then(function(i){if(!e.isCancellationRequested)return t._register(i.onDidChangeGroups(function(){return t.onConfigUpdate()})),t.defaultSettingsEditorModel=i,t.onConfigUpdate()}):Promise.resolve(null)},t.prototype.onSearchModeToggled=function(){n.removeClass(this.rootElement,"no-toc-search"),"hide"===this.configurationService.getValue("workbench.settings.settingsSearchTocBehavior")&&n.toggleClass(this.rootElement,"no-toc-search",!!this.searchResultModel),this.searchResultModel?this.settingsTreeDataSource.pageTo(Number.MAX_VALUE):this.settingsTreeDataSource.reset()},t.prototype.scheduleRefresh=function(e,t){var i=this;if(void 0===t&&(t=""),!t||!this.scheduledRefreshes.has(t)){t||(this.scheduledRefreshes.forEach(function(e){return e.dispose()}),this.scheduledRefreshes.clear());var r=n.trackFocus(e);this.scheduledRefreshes.set(t,r),r.onDidBlur(function(){
r.dispose(),i.scheduledRefreshes.delete(t),i.onConfigUpdate([t])})}},t.prototype.onConfigUpdate=function(e,t){if(void 0===t&&(t=!1),e&&this.settingsTreeModel)return this.updateElementsByKey(e);var i=this.defaultSettingsEditorModel.settingsGroups.slice(1),n=u.groupBy(i,function(e){return e.contributedByExtension?"extension":"core"}),r=k.resolveSettingsTree(O.tocData,n.core),o=r.tree;if(r.leftoverSettings.size&&!this.hasWarnedMissingSettings){var s=[];r.leftoverSettings.forEach(function(e){s.push(e.key)}),this.logService.warn("SettingsEditor2: Settings not included in settingsLayout.ts: "+s.join(", ")),this.hasWarnedMissingSettings=!0}var a=k.resolveSettingsTree(O.commonlyUsedData,n.core);if(o.children.unshift(a.tree),o.children.push(k.resolveExtensionsSettings(n.extension||[])),this.searchResultModel&&this.searchResultModel.updateChildren(),this.settingsTreeModel){this.settingsTreeModel.update(o);var c=this.editorMemento.loadEditorState(this.group,this.input)
;if(!c||!c.searchQuery)return this.renderTree(void 0,t);this.triggerSearch(c.searchQuery)}else this.settingsTreeModel=this.instantiationService.createInstance(M.SettingsTreeModel,this.viewState),this.settingsTreeModel.update(o),this.settingsTree.setInput(this.settingsTreeModel.root),this.tocTreeModel.settingsTreeRoot=this.settingsTreeModel.root,this.tocTree.getInput()?this.tocTree.refresh():this.tocTree.setInput(this.tocTreeModel);return Promise.resolve(null)},t.prototype.updateElementsByKey=function(e){var t=this;return e.length?(this.searchResultModel&&e.forEach(function(e){return t.searchResultModel.updateElementsByName(e)}),this.settingsTreeModel&&e.forEach(function(e){return t.settingsTreeModel.updateElementsByName(e)}),Promise.all(e.map(function(e){return t.renderTree(e)})).then(function(){})):this.renderTree()},t.prototype.getActiveElementInSettingsTree=function(){return document.activeElement&&n.isAncestor(document.activeElement,this.settingsTree.getHTMLElement())?document.activeElement:null},
t.prototype.renderTree=function(e,t){var i=this;if(void 0===t&&(t=!1),!t&&e&&this.scheduledRefreshes.has(e))return this.updateModifiedLabelForKey(e),Promise.resolve(null);var r=this.settingsTreeRenderer.getSettingDOMElementForDOMElement(this.getActiveElementInSettingsTree());if(r&&!t){if(!e)return this.scheduleRefresh(r),Promise.resolve(null);if(r.getAttribute(k.SettingsRenderer.SETTING_KEY_ATTR)===e&&!n.hasClass(r,"setting-item-exclude"))return this.updateModifiedLabelForKey(e),this.scheduleRefresh(r,e),Promise.resolve(null)}var o;if(e){var s=this.currentSettingsModel.getElementsByName(e);if(!s||!s.length)return Promise.resolve(null);o=this.settingsTree.refresh()}else o=this.settingsTree.refresh();return o.then(function(){return i.tocTreeModel.update(),i.renderResultCountMessages(),i.tocTree.refresh()}).then(function(){})},t.prototype.updateModifiedLabelForKey=function(e){
var t=this.currentSettingsModel.getElementsByName(e),i=t&&t[0]&&t[0].isConfigured,r=this.settingsTreeRenderer.getDOMElementsForSettingKey(this.settingsTree.getHTMLElement(),e);r&&r[0]&&n.toggleClass(r[0],"is-configured",i)},t.prototype.onSearchInputChanged=function(){var e=this,t=this.searchWidget.getValue().trim();this.delayedFilterLogging.cancel(),this.triggerSearch(t.replace(//g," ")).then(function(){t&&e.searchResultModel&&e.delayedFilterLogging.trigger(function(){return e.reportFilteringUsed(t,e.searchResultModel.getUniqueResults())})})},t.prototype.parseSettingFromJSON=function(e){var t=e.match(/"([a-zA-Z.]+)": /);return t&&t[1]},t.prototype.triggerSearch=function(e){var t=this;if(this.viewState.tagFilters=new Set,e){var i=M.parseQuery(e);e=i.query,i.tags.forEach(function(e){return t.viewState.tagFilters.add(e)})}return e&&"@"!==e?(e=this.parseSettingFromJSON(e)||e,
this.triggerFilterPreferences(e)):(this.viewState.tagFilters&&this.viewState.tagFilters.size?this.searchResultModel=this.createFilterModel():this.searchResultModel=null,this.localSearchDelayer.cancel(),this.remoteSearchThrottle.cancel(),this.searchInProgress&&(this.searchInProgress.cancel(),this.searchInProgress.dispose(),this.searchInProgress=null),this.viewState.filterToCategory=null,this.tocTreeModel.currentSearchModel=this.searchResultModel,this.tocTree.refresh(),this.onSearchModeToggled(),this.searchResultModel?(this.tocTree.setSelection([]),f.expandAll(this.tocTree),this.settingsTree.setInput(this.searchResultModel.root).then(function(){t.renderResultCountMessages()})):(f.collapseAll(this.tocTree),this.settingsTree.setInput(this.settingsTreeModel.root).then(function(){return t.renderResultCountMessages()})))},t.prototype.createFilterModel=function(){for(var e=this.instantiationService.createInstance(M.SearchResultModel,this.viewState),t={filterMatches:[]
},i=0,n=this.defaultSettingsEditorModel.settingsGroups.slice(1);i<n.length;i++)for(var r=0,o=n[i].sections;r<o.length;r++)for(var s=0,a=o[r].settings;s<a.length;s++){var c=a[s];t.filterMatches.push({setting:c,matches:[],score:0})}return e.setResult(0,t),e},t.prototype.reportFilteringUsed=function(e,t){var i=t[1],n=i&&i.metadata,r={};r.nlpResult=n&&n.duration;var o={},s=t[0];s&&(o.filterResult=s.filterMatches.length),i&&(o.nlpResult=i.filterMatches.length);var a={query:e,durations:r,counts:o,requestCount:n&&n.requestCount};this.telemetryService.publicLog("settingsEditor.filter",a)},t.prototype.triggerFilterPreferences=function(e){var t=this;this.searchInProgress&&(this.searchInProgress.cancel(),this.searchInProgress=null);var i=this.searchInProgress=new l.CancellationTokenSource;return this.localSearchDelayer.trigger(function(){return i&&!i.token.isCancellationRequested?t.localFilterPreferences(e).then(function(n){n&&!n.exactMatch&&t.remoteSearchThrottle.trigger(function(){
return i&&!i.token.isCancellationRequested?t.remoteSearchPreferences(e,t.searchInProgress.token):Promise.resolve(null)})}):Promise.resolve(null)})},t.prototype.localFilterPreferences=function(e,t){var i=this.preferencesSearchService.getLocalSearchProvider(e);return this.filterOrSearchPreferences(e,0,i,t)},t.prototype.remoteSearchPreferences=function(e,t){var i=this,n=this.preferencesSearchService.getRemoteSearchProvider(e),r=this.preferencesSearchService.getRemoteSearchProvider(e,!0);return Promise.all([this.filterOrSearchPreferences(e,1,n,t),this.filterOrSearchPreferences(e,2,r,t)]).then(function(){i.renderResultCountMessages()})},t.prototype.filterOrSearchPreferences=function(e,t,i,n){var r=this;return this._filterOrSearchPreferencesModel(e,this.defaultSettingsEditorModel,i,n).then(function(e){return n&&n.isCancellationRequested?null:(r.searchResultModel?(r.searchResultModel.setResult(t,e),r.tocTreeModel.update()):(r.searchResultModel=r.instantiationService.createInstance(M.SearchResultModel,r.viewState),
r.searchResultModel.setResult(t,e),r.tocTreeModel.currentSearchModel=r.searchResultModel,r.onSearchModeToggled(),r.settingsTree.setInput(r.searchResultModel.root)),r.tocTree.setSelection([]),r.viewState.filterToCategory=null,f.expandAll(r.tocTree),r.renderTree().then(function(){return e}))})},t.prototype.renderResultCountMessages=function(){if(this.settingsTree.getInput()&&this.tocTreeModel&&this.tocTreeModel.settingsTreeRoot){var e=this.tocTreeModel.settingsTreeRoot.count;switch(e){case 0:this.countElement.innerText=g.localize("noResults","No Settings Found");break;case 1:this.countElement.innerText=g.localize("oneResult","1 Setting Found");break;default:this.countElement.innerText=g.localize("moreThanOneResult","{0} Settings Found",e)}this.countElement.style.display="block",this.noResultsMessage.style.display=0===e?"block":"none",this.clearFilterLinkContainer.style.display=this.viewState.tagFilters&&this.viewState.tagFilters.size>0?"initial":"none"}},
t.prototype._filterOrSearchPreferencesModel=function(e,t,i,n){var r=this;return(i?i.searchModel(t,n):Promise.resolve(null)).then(null,function(t){if(d.isPromiseCanceledError(t))return Promise.reject(t);var i=d.getErrorMessage(t).trim();return i&&"Error"!==i&&(r.telemetryService.publicLog("settingsEditor.searchError",{message:i,filter:e}),r.logService.info("Setting search error: "+i)),null})},t.prototype.layoutTrees=function(e){var t=e.height-87,i=t-14;this.settingsTreeContainer.style.height=i+"px",this.settingsTree.layout(i,800);var n=t-16;this.tocTreeContainer.style.height=n+"px",this.tocTree.layout(n,175),this.settingsTreeRenderer.updateWidth(e.width)},t.prototype.saveState=function(){if(this.isVisible()){var t=this.searchWidget.getValue().trim(),i=this.settingsTargetsWidget.settingsTarget;this.editorMemento.saveEditorState(this.group,this.input,{searchQuery:t,target:i})}e.prototype.saveState.call(this)},t.ID="workbench.editor.settings2",t.NUM_INSTANCES=0,t.SETTING_UPDATE_FAST_DEBOUNCE=200,
t.SETTING_UPDATE_SLOW_DEBOUNCE=1e3,t.SUGGESTIONS=["@"+F.MODIFIED_SETTING_TAG,"@tag:usesOnlineServices"],t=r([o(0,w.ITelemetryService),o(1,v.IConfigurationService),o(2,D.IThemeService),o(3,B.IPreferencesService),o(4,S.IInstantiationService),o(5,F.IPreferencesSearchService),o(6,E.ILogService),o(7,m.IContextKeyService),o(8,y.IContextMenuService),o(9,C.IStorageService),o(10,_.INotificationService),o(11,N.IEditorGroupsService),o(12,b.IKeybindingService)],t)}(T.BaseEditor);t.SettingsEditor2=z}),define(e[242],t([1,0,20,6,58,2,4,17,116,114,235,60]),function(e,t,n,s,a,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.getTitle=function(e){return this.master.getTitle(e)},t.ID="workbench.editorinputs.preferencesEditorInput",t}(u.SideBySideEditorInput);t.PreferencesEditorInput=g;var v=function(e){function t(t,i,n){
return e.call(this,c.localize("settingsEditorName","Default Settings"),"",t,i,n)||this}return i(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.matches=function(i){return i instanceof t||!!e.prototype.matches.call(this,i)},t.ID="workbench.editorinputs.defaultpreferences",t=r([o(1,a.ITextModelService),o(2,p.IHashService)],t)}(d.ResourceEditorInput);t.DefaultPreferencesEditorInput=v;var m=function(e){function t(t){var i=e.call(this)||this;return i.keybindingsModel=t.createInstance(h.KeybindingsEditorModel,n.OS),i}return i(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return c.localize("keybindingsInputName","Keyboard Shortcuts")},t.prototype.resolve=function(){return Promise.resolve(this.keybindingsModel)},t.prototype.matches=function(e){return e instanceof t},t.ID="workbench.input.keybindings",t=r([o(0,l.IInstantiationService)],t)}(u.EditorInput);t.KeybindingsEditorInput=m;var y=function(e){function t(t){var i=e.call(this)||this
;return i._settingsModel=t.createSettings2EditorModel(),i}return i(t,e),t.prototype.matches=function(e){return e instanceof t},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return c.localize("settingsEditor2InputName","Settings")},t.prototype.resolve=function(){return Promise.resolve(this._settingsModel)},t.prototype.getResource=function(){return s.URI.from({scheme:"vscode-settings",path:"settingseditor"})},t.ID="workbench.input.settings2",t=r([o(0,f.IPreferencesService)],t)}(u.EditorInput);t.SettingsEditor2Input=y}),define(e[187],t([1,0,19,5,73,3,44,39,46,91,2,9,75,43,7,17]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y){"use strict";function S(e,t){function i(t,i,a){if(Array.isArray(s)?s.push(t):o&&(s[o]=t),c.length===l+1||c.length===l+2&&null!==r){var d=c.length===l+1?n[n.length-1]:r.overrides[r.overrides.length-1];if(d){var p=e.getPositionAt(i),h=e.getPositionAt(i+a);d.value=t,d.valueRange={startLineNumber:p.lineNumber,startColumn:p.column,endLineNumber:h.lineNumber,
endColumn:h.column},d.range=u.assign(d.range,{endLineNumber:h.lineNumber,endColumn:h.column})}}}var n=[],r=null,o=null,s=[],c=[],l=-1,d={startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0},p={onObjectBegin:function(n,r){if(t(o,c)){l=c.length;var a=e.getPositionAt(n);d.startLineNumber=a.lineNumber,d.startColumn=a.column}var u={};i(u,n,r),s=u,o=null,c.push(s)},onObjectProperty:function(t,i,s){if(o=t,c.length===l+1||c.length===l+2&&null!==r){var a=e.getPositionAt(i),u={description:[],descriptionIsMarkdown:!1,key:t,keyRange:{startLineNumber:a.lineNumber,startColumn:a.column+1,endLineNumber:a.lineNumber,endColumn:a.column+s},range:{startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:0,endColumn:0},value:null,valueRange:null,descriptionRanges:null,overrides:[],overrideOf:r};c.length===l+1?(n.push(u),g.OVERRIDE_PROPERTY_PATTERN.test(t)&&(r=u)):r.overrides.push(u)}},onObjectEnd:function(t,i){if(s=c.pop(),c.length===l+1||c.length===l+2&&null!==r){
var o=c.length===l+1?n[n.length-1]:r.overrides[r.overrides.length-1];if(o){var a=e.getPositionAt(t+i);o.valueRange=u.assign(o.valueRange,{endLineNumber:a.lineNumber,endColumn:a.column}),o.range=u.assign(o.range,{endLineNumber:a.lineNumber,endColumn:a.column})}c.length===l+1&&(r=null)}if(c.length===l){var p=e.getPositionAt(t);d.endLineNumber=p.lineNumber,d.endColumn=p.column}},onArrayBegin:function(e,t){var n=[];i(n,e,t),c.push(s),s=n,o=null},onArrayEnd:function(t,i){if(s=c.pop(),c.length===l+1||c.length===l+2&&null!==r){var o=c.length===l+1?n[n.length-1]:r.overrides[r.overrides.length-1];if(o){var a=e.getPositionAt(t+i);o.valueRange=u.assign(o.valueRange,{endLineNumber:a.lineNumber,endColumn:a.column}),o.range=u.assign(o.range,{endLineNumber:a.lineNumber,endColumn:a.column})}}},onLiteralValue:i,onError:function(e){var t=n[n.length-1];!t||t.range&&t.keyRange&&t.valueRange||n.pop()}};return e.isDisposed()||a.visit(e.getValue(),p),n.length>0?[{sections:[{settings:n}],title:null,titleRange:null,range:d}]:[]}
function b(e){return function(t){var i,n;i="boolean"==typeof e.exclusiveMaximum?e.exclusiveMaximum?e.maximum:void 0:e.exclusiveMaximum,n="boolean"==typeof e.exclusiveMinimum?e.exclusiveMinimum?e.minimum:void 0:e.exclusiveMinimum;var r;"string"==typeof e.pattern&&(r=new RegExp(e.pattern));var o=Array.isArray(e.type)?e.type:[e.type],s=function(e){return o.indexOf(e)>-1},a=s("null"),c=(s("number")||s("integer"))&&(1===o.length||2===o.length&&a),l=s("integer")&&(1===o.length||2===o.length&&a),u=c?[{enabled:void 0!==i&&(void 0===e.maximum||i<=e.maximum),isValid:function(e){return e<i},message:h.localize("validations.exclusiveMax","Value must be strictly less than {0}.",i)},{enabled:void 0!==n&&(void 0===e.minimum||n>=e.minimum),isValid:function(e){return e>n},message:h.localize("validations.exclusiveMin","Value must be strictly greater than {0}.",n)},{enabled:void 0!==e.maximum&&(void 0===i||i>e.maximum),isValid:function(t){return t<=e.maximum},
message:h.localize("validations.max","Value must be less than or equal to {0}.",e.maximum)},{enabled:void 0!==e.minimum&&(void 0===n||n<e.minimum),isValid:function(t){return t>=e.minimum},message:h.localize("validations.min","Value must be greater than or equal to {0}.",e.minimum)},{enabled:void 0!==e.multipleOf,isValid:function(t){return t%e.multipleOf==0},message:h.localize("validations.multipleOf","Value must be a multiple of {0}.",e.multipleOf)},{enabled:l,isValid:function(e){return e%1==0},message:h.localize("validations.expectedInteger","Value must be an integer.")}].filter(function(e){return e.enabled}):[],d=[{enabled:void 0!==e.maxLength,isValid:function(t){return t.length<=e.maxLength},message:h.localize("validations.maxLength","Value must be {0} or fewer characters long.",e.maxLength)},{enabled:void 0!==e.minLength,isValid:function(t){return t.length>=e.minLength},message:h.localize("validations.minLength","Value must be {0} or more characters long.",e.minLength)},{enabled:void 0!==r,
isValid:function(e){return r.test(e)},message:e.patternErrorMessage||h.localize("validations.regex","Value must match regex `{0}`.",e.pattern)}].filter(function(e){return e.enabled});if("string"===e.type&&0===d.length)return null;if(a&&""===t)return"";var p=[];return c&&(""===t||isNaN(+t)?p.push(h.localize("validations.expectedNumeric","Value must be a number.")):p.push.apply(p,u.filter(function(e){return!e.isValid(+t)}).map(function(e){return e.message}))),"string"===e.type&&p.push.apply(p,d.filter(function(e){return!e.isValid(""+t)}).map(function(e){return e.message})),p.length?e.errorMessage?[e.errorMessage].concat(p).join(" "):p.join(" "):""}}function E(e){return"// "+h.localize("defaultKeybindingsHeader","Override key bindings by placing them into your key bindings file.")+"\n"+e.getDefaultKeybindingsContent()}Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentResultGroups=new Map,t}return i(t,e),
t.prototype.updateResultGroup=function(e,t){return t?this._currentResultGroups.set(e,t):this._currentResultGroups.delete(e),this.removeDuplicateResults(),this.update()},t.prototype.removeDuplicateResults=function(){var e=this,t=new Set;l.keys(this._currentResultGroups).sort(function(t,i){return e._currentResultGroups.get(t).order-e._currentResultGroups.get(i).order}).forEach(function(i){var n=e._currentResultGroups.get(i);n.result.filterMatches=n.result.filterMatches.filter(function(e){return!t.has(e.setting.key)}),n.result.filterMatches.forEach(function(e){return t.add(e.setting.key)})})},t.prototype.filterSettings=function(e,t,i){for(var n=[],r=0,o=this.filterGroups;r<o.length;r++)for(var s=o[r],a=t(s),c=0,l=s.sections;c<l.length;c++)for(var u=0,d=l[c].settings;u<d.length;u++){var p=d[u],h=i(p,s);(a||h)&&n.push({setting:p,matches:h&&h.matches,score:h?h.score:0})}return n.sort(function(e,t){return t.score-e.score})},t.prototype.getPreference=function(e){
for(var t=0,i=this.settingsGroups;t<i.length;t++)for(var n=0,r=i[t].sections;n<r.length;n++)for(var o=0,s=r[n].settings;o<s.length;o++){var a=s[o];if(e===a.key)return a}return null},t.prototype.collectMetadata=function(e){var t=Object.create(null),i=!1;return e.forEach(function(e){e.result.metadata&&(t[e.id]=e.result.metadata,i=!0)}),i?t:null},Object.defineProperty(t.prototype,"filterGroups",{get:function(){return this.settingsGroups},enumerable:!0,configurable:!0}),t}(y.EditorModel);t.AbstractSettingsModel=_;var C=function(e){function t(t,i){var n=e.call(this)||this;return n._configurationTarget=i,n._onDidChangeGroups=n._register(new s.Emitter),n.onDidChangeGroups=n._onDidChangeGroups.event,n.settingsModel=t.object.textEditorModel,n._register(n.onDispose(function(){return t.dispose()})),n._register(n.settingsModel.onDidChangeContent(function(){n._settingsGroups=null,n._onDidChangeGroups.fire()})),n}return i(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this.settingsModel.uri},
enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"configurationTarget",{get:function(){return this._configurationTarget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsGroups",{get:function(){return this._settingsGroups||this.parse(),this._settingsGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.settingsModel.getValue()},enumerable:!0,configurable:!0}),t.prototype.findValueMatches=function(e,t){return this.settingsModel.findMatches(e,t.valueRange,!1,!1,null,!1).map(function(e){return e.range})},t.prototype.isSettingsProperty=function(e,t){return 0===t.length},t.prototype.parse=function(){var e=this;this._settingsGroups=S(this.settingsModel,function(t,i){return e.isSettingsProperty(t,i)})},t.prototype.update=function(){var e=l.values(this._currentResultGroups);if(!e.length)return null;var t=[],i=[];e.forEach(function(e){e.result.filterMatches.forEach(function(e){t.push(e.setting),
i.push.apply(i,e.matches)})});var n,r=this.settingsGroups[0];r&&(n={id:r.id,range:r.range,sections:[{settings:t}],title:r.title,titleRange:r.titleRange,contributedByExtension:!!r.contributedByExtension});var o=this.collectMetadata(e);return{allGroups:this.settingsGroups,filteredGroups:n?[n]:[],matches:i,metadata:o}},t}(_);t.SettingsEditorModel=C;var w=function(e){function t(t,i){var n=e.call(this)||this;return n._defaultSettings=t,n._onDidChangeGroups=n._register(new s.Emitter),n.onDidChangeGroups=n._onDidChangeGroups.event,n.dirty=!1,i.onDidChangeConfiguration(function(e){4===e.source&&(n.dirty=!0,n._onDidChangeGroups.fire())}),n}return i(t,e),Object.defineProperty(t.prototype,"filterGroups",{get:function(){return this.settingsGroups.slice(1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsGroups",{get:function(){var e=this._defaultSettings.getSettingsGroups(this.dirty);return this.dirty=!1,e},enumerable:!0,configurable:!0}),t.prototype.findValueMatches=function(e,t){return[]},
t.prototype.update=function(){throw new Error("Not supported")},t=r([o(1,f.IConfigurationService)],t)}(_);t.Settings2EditorModel=w;var I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"configurationGroups",{get:function(){return this._configurationGroups},enumerable:!0,configurable:!0}),t.prototype.parse=function(){e.prototype.parse.call(this),this._configurationGroups=S(this.settingsModel,function(e,t){return 0===t.length})},t.prototype.isSettingsProperty=function(e,t){return"settings"===e&&1===t.length},t}(C);t.WorkspaceConfigurationEditorModel=I;var x=function(e){function t(t,i){var n=e.call(this)||this;return n._mostCommonlyUsedSettingsKeys=t,n.target=i,n._onDidChange=n._register(new s.Emitter),n.onDidChange=n._onDidChange.event,n}return i(t,e),t.prototype.getContent=function(e){return void 0===e&&(e=!1),this._content&&!e||(this._content=this.toContent(!0,this.getSettingsGroups(e))),this._content},
t.prototype.getSettingsGroups=function(e){return void 0===e&&(e=!1),this._allSettingsGroups&&!e||(this._allSettingsGroups=this.parse()),this._allSettingsGroups},t.prototype.parse=function(){var e=this.getRegisteredGroups();this.initAllSettingsMap(e);return[this.getMostCommonlyUsedSettings(e)].concat(e)},Object.defineProperty(t.prototype,"raw",{get:function(){return t._RAW||(t._RAW=this.toContent(!1,this.getRegisteredGroups())),t._RAW},enumerable:!0,configurable:!0}),t.prototype.getRegisteredGroups=function(){var e=this,t=m.Registry.as(g.Extensions.Configuration).getConfigurations().slice(),i=this.removeEmptySettingsGroups(t.sort(this.compareConfigurationNodes).reduce(function(t,i,n,r){return e.parseConfig(i,t,r)},[]));return this.sortGroups(i)},t.prototype.sortGroups=function(e){return e.forEach(function(e){e.sections.forEach(function(e){e.settings.sort(function(e,t){return e.key.localeCompare(t.key)})})}),e},t.prototype.initAllSettingsMap=function(e){this._settingsByName=new Map
;for(var t=0,i=e;t<i.length;t++)for(var n=0,r=i[t].sections;n<r.length;n++)for(var o=0,s=r[n].settings;o<s.length;o++){var a=s[o];this._settingsByName.set(a.key,a)}},t.prototype.getMostCommonlyUsedSettings=function(e){var t=this,i=this._mostCommonlyUsedSettingsKeys.map(function(e){var i=t._settingsByName.get(e);return i?{description:i.description,key:i.key,value:i.value,range:null,valueRange:null,overrides:[],scope:3,type:i.type,enum:i.enum,enumDescriptions:i.enumDescriptions}:null}).filter(function(e){return!!e});return{id:"mostCommonlyUsed",range:null,title:h.localize("commonlyUsed","Commonly Used"),titleRange:null,sections:[{settings:i}]}},t.prototype.parseConfig=function(e,t,i,r,o){var s=this;o=o||{};var a=e.title;if(!a){var c=n.find(i,function(t){return t.id===e.id&&t.title});c&&(a=c.title)}if(a&&(r?r.sections[r.sections.length-1].title=a:(r=n.find(t,function(e){return e.title===a}))||(r={sections:[{settings:[]}],id:e.id,title:a,titleRange:null,range:null,contributedByExtension:!!e.contributedByExtension
},t.push(r))),e.properties){r||(r={sections:[{settings:[]}],id:e.id,title:e.id,titleRange:null,range:null,contributedByExtension:!!e.contributedByExtension},t.push(r));for(var l=[],u=0,d=r.sections[r.sections.length-1].settings.concat(this.parseSettings(e.properties));u<d.length;u++){var p=d[u];o[p.key]||(l.push(p),o[p.key]=!0)}l.length&&(r.sections[r.sections.length-1].settings=l)}return e.allOf&&e.allOf.forEach(function(e){return s.parseConfig(e,t,i,r,o)}),t},t.prototype.removeEmptySettingsGroups=function(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i];r.sections=r.sections.filter(function(e){return e.settings.length>0}),r.sections.length&&t.push(r)}return t},t.prototype.parseSettings=function(e){var t=[];for(var i in e){var n=e[i];if(this.matchesScope(n)){var r=n.default,o=(n.description||n.markdownDescription||"").split("\n"),s=g.OVERRIDE_PROPERTY_PATTERN.test(i)?this.parseOverrideSettings(n.default):[];t.push({key:i,value:r,description:o,descriptionIsMarkdown:!n.description,range:null,keyRange:null,
valueRange:null,descriptionRanges:[],overrides:s,scope:n.scope,type:n.type,enum:n.enum,enumDescriptions:n.enumDescriptions||n.markdownEnumDescriptions,enumDescriptionsAreMarkdown:!n.enumDescriptions,tags:n.tags,deprecationMessage:n.deprecationMessage,validator:b(n)})}}return t},t.prototype.parseOverrideSettings=function(e){return Object.keys(e).map(function(t){return{key:t,value:e[t],description:[],descriptionIsMarkdown:!1,range:null,keyRange:null,valueRange:null,descriptionRanges:[],overrides:[]}})},t.prototype.matchesScope=function(e){return 3===this.target?3===e.scope:2!==this.target||(2===e.scope||3===e.scope)},t.prototype.compareConfigurationNodes=function(e,t){if("number"!=typeof e.order)return 1;if("number"!=typeof t.order)return-1;if(e.order===t.order){var i=e.title||"",n=t.title||"";return i.localeCompare(n)}return e.order-t.order},t.prototype.toContent=function(e,t){var i=new T;return e&&i.pushLine("["),t.forEach(function(e,t){i.pushGroup(e),i.pushLine(",")}),e&&i.pushLine("]"),i.getContent()},t
}(c.Disposable);t.DefaultSettings=x;var D=function(e){function t(t,i,n){var r=e.call(this)||this;return r._uri=t,r.defaultSettings=n,r._onDidChangeGroups=r._register(new s.Emitter),r.onDidChangeGroups=r._onDidChangeGroups.event,r._register(n.onDidChange(function(){return r._onDidChangeGroups.fire()})),r._model=i.object.textEditorModel,r._register(r.onDispose(function(){return i.dispose()})),r}return i(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this.defaultSettings.target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsGroups",{get:function(){return this.defaultSettings.getSettingsGroups()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterGroups",{get:function(){return this.settingsGroups.slice(1)},enumerable:!0,configurable:!0}),t.prototype.update=function(){if(this._model.isDisposed())return null
;var e=l.values(this._currentResultGroups).sort(function(e,t){return e.order-t.order}),t=e.filter(function(e){return e.result.filterMatches.length}),i=n.tail(this.settingsGroups).range.endLineNumber+2,r=this.writeResultGroups(t,i),o=r.settingsGroups,s=r.matches,a=this.collectMetadata(e);return e.length?{allGroups:this.settingsGroups,filteredGroups:o,matches:s,metadata:a}:null},t.prototype.writeResultGroups=function(e,t){var i=this,n=new T(t-1),r=[],o=[];n.pushLine(","),e.forEach(function(e){var t=i.getGroup(e);r.push(t),o.push.apply(o,i.writeSettingsGroupToBuilder(n,t,e.result.filterMatches))});var s=n.getContent()+"\n",a=this._model.getLineCount(),c=new p.Selection(t,1,t,1),l={text:s,forceMoveMarkers:!0,range:new d.Range(t,1,a,1),identifier:{major:1,minor:0}};this._model.pushEditOperations([c],[l],function(){return[c]});var u=Math.min(t+60,this._model.getLineCount());return this._model.forceTokenization(u),{matches:o,settingsGroups:r}},t.prototype.writeSettingsGroupToBuilder=function(e,t,i){
i=i.map(function(e){return{setting:e.setting,score:e.score,matches:e.matches&&e.matches.map(function(t){return new d.Range(t.startLineNumber-e.setting.range.startLineNumber,t.startColumn,t.endLineNumber-e.setting.range.startLineNumber,t.endColumn)})}}),e.pushGroup(t),e.pushLine(",");return n.flatten(i.map(function(e){return e.matches||[]}).map(function(e,i){var n=t.sections[0].settings[i];return e.map(function(e){return new d.Range(e.startLineNumber+n.range.startLineNumber,e.startColumn,e.endLineNumber+n.range.startLineNumber,e.endColumn)})}))},t.prototype.copySetting=function(e){return{description:e.description,scope:e.scope,type:e.type,enum:e.enum,enumDescriptions:e.enumDescriptions,key:e.key,value:e.value,range:e.range,overrides:[],overrideOf:e.overrideOf,tags:e.tags,deprecationMessage:e.deprecationMessage,keyRange:void 0,valueRange:void 0,descriptionIsMarkdown:void 0,descriptionRanges:void 0}},t.prototype.findValueMatches=function(e,t){return[]},t.prototype.getPreference=function(e){
for(var t=0,i=this.settingsGroups;t<i.length;t++)for(var n=0,r=i[t].sections;n<r.length;n++)for(var o=0,s=r[n].settings;o<s.length;o++){var a=s[o];if(a.key===e)return a}return null},t.prototype.getGroup=function(e){var t=this;return{id:e.id,range:null,title:e.label,titleRange:null,sections:[{settings:e.result.filterMatches.map(function(e){return t.copySetting(e.setting)})}]}},t}(_);t.DefaultSettingsEditorModel=D;var T=function(){function e(e){void 0===e&&(e=0),this._rangeOffset=e,this._contentByLines=[]}return Object.defineProperty(e.prototype,"lineCountWithOffset",{get:function(){return this._contentByLines.length+this._rangeOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastLine",{get:function(){return this._contentByLines[this._contentByLines.length-1]||""},enumerable:!0,configurable:!0}),e.prototype.offsetIndexToIndex=function(e){return e-this._rangeOffset},e.prototype.pushLine=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i
;(i=this._contentByLines).push.apply(i,e)},e.prototype.pushGroup=function(e){this._contentByLines.push("{"),this._contentByLines.push(""),this._contentByLines.push("");var t=this._pushGroup(e);if(t){var i=this.offsetIndexToIndex(t.range.endLineNumber),n=this._contentByLines[i-2];this._contentByLines[i-2]=n.substring(0,n.length-1)}this._contentByLines.push("}")},e.prototype._pushGroup=function(e){for(var t=null,i=this.lineCountWithOffset+1,n=0,r=e.sections;n<r.length;n++){var o=r[n];if(o.title){var s=this.lineCountWithOffset+1;this.addDescription([o.title],"  ",this._contentByLines),o.titleRange={startLineNumber:s,startColumn:1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length}}if(o.settings.length)for(var a=0,c=o.settings;a<c.length;a++){var l=c[a];this.pushSetting(l,"  "),t=l}}return e.range={startLineNumber:i,startColumn:1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length},t},e.prototype.getContent=function(){return this._contentByLines.join("\n")},
e.prototype.pushSetting=function(e,t){var i=this.lineCountWithOffset+1;this.pushSettingDescription(e,t);var n=t;n+=JSON.stringify(e.key),e.keyRange={startLineNumber:this.lineCountWithOffset+1,startColumn:n.indexOf(e.key)+1,endLineNumber:this.lineCountWithOffset+1,endColumn:e.key.length},n+=": ";var r=this.lineCountWithOffset+1;this.pushValue(e,n,t),e.valueRange={startLineNumber:r,startColumn:n.length+1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length+1},this._contentByLines[this._contentByLines.length-1]+=",",this._contentByLines.push(""),e.range={startLineNumber:i,startColumn:1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length}},e.prototype.pushSettingDescription=function(e,t){var i=this,n=function(e){return e.replace(/`#(.*)#`/g,function(e,t){return"`"+t+"`"})};e.descriptionRanges=[];for(var r=t+"// ",o=0,s=e.deprecationMessage?[e.deprecationMessage].concat(e.description):e.description;o<s.length;o++){var a=s[o];a=n(a),this._contentByLines.push(r+a),
e.descriptionRanges.push({startLineNumber:this.lineCountWithOffset,startColumn:this.lastLine.indexOf(a)+1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length})}e.enumDescriptions&&e.enumDescriptions.some(function(e){return!!e})&&e.enumDescriptions.forEach(function(t,r){var o=function(e){return e&&e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(String(e.enum[r])),s=t?o+": "+n(t):o;i._contentByLines.push("  //  - "+s),e.descriptionRanges.push({startLineNumber:i.lineCountWithOffset,startColumn:i.lastLine.indexOf(s)+1,endLineNumber:i.lineCountWithOffset,endColumn:i.lastLine.length})})},e.prototype.pushValue=function(e,t,i){var n=JSON.stringify(e.value,null,i);if(n&&"object"==typeof e.value)if(e.overrides.length){this._contentByLines.push(t+" {");for(var r=0,o=e.overrides;r<o.length;r++){var s=o[r];this.pushSetting(s,i+i),this._contentByLines.pop()}var a=e.overrides[e.overrides.length-1],c=this._contentByLines[a.range.endLineNumber-2]
;this._contentByLines[a.range.endLineNumber-2]=c.substring(0,c.length-1),this._contentByLines.push(i+"}")}else{var l=n.split("\n");this._contentByLines.push(t+l[0]);for(var u=1;u<l.length;u++)this._contentByLines.push(i+l[u])}else this._contentByLines.push(t+n)},e.prototype.addDescription=function(e,t,i){for(var n=0,r=e;n<r.length;n++){var o=r[n];i.push(t+"// "+o)}},e}();t.createValidator=b,t.defaultKeybindingsContents=E;var R=function(){function e(e,t){this._uri=e,this.keybindingService=t}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content||(this._content=E(this.keybindingService)),this._content},enumerable:!0,configurable:!0}),e.prototype.getPreference=function(){return null},e.prototype.dispose=function(){},e=r([o(1,v.IKeybindingService)],e)}();t.DefaultKeybindingsEditorModel=R}),
define(e[444],t([1,0,366,8,13,5,3,129,46,80,2,9,75,37,4,7,30,21,321,162,60,187]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.editor=t,s.preferencesModel=i,s.preferencesService=n,s.configurationService=r,s.instantiationService=o,s.modelChangeDelayer=new c.Delayer(200),s._onFocusPreference=new l.Emitter,s.onFocusPreference=s._onFocusPreference.event,s._onClearFocusPreference=new l.Emitter,s.onClearFocusPreference=s._onClearFocusPreference.event,s._onUpdatePreference=new l.Emitter,s.onUpdatePreference=s._onUpdatePreference.event,s.settingHighlighter=s._register(o.createInstance(N,t,s._onFocusPreference,s._onClearFocusPreference)),s.highlightMatchesRenderer=s._register(o.createInstance(L,t)),s.editSettingActionRenderer=s._register(s.instantiationService.createInstance(F,s.editor,s.preferencesModel,s.settingHighlighter)),
s._register(s.editSettingActionRenderer.onUpdateSetting(function(e){var t=e.key,i=e.value,n=e.source;return s._updatePreference(t,i,n)})),s._register(s.editor.getModel().onDidChangeContent(function(){return s.modelChangeDelayer.trigger(function(){return s.onModelChanged()})})),s}return i(t,e),t.prototype.getAssociatedPreferencesModel=function(){return this.associatedPreferencesModel},t.prototype.setAssociatedPreferencesModel=function(e){this.associatedPreferencesModel=e,this.editSettingActionRenderer.associatedPreferencesModel=e,this.createHeader()},t.prototype.createHeader=function(){this._register(new C.SettingsHeaderWidget(this.editor,"")).setMessage(f.localize("emptyUserSettingsHeader","Place your settings here to override the Default Settings."))},t.prototype.render=function(){this.editSettingActionRenderer.render(this.preferencesModel.settingsGroups,this.associatedPreferencesModel),this.filterResult&&this.filterPreferences(this.filterResult)},t.prototype._updatePreference=function(e,t,i){
this._onUpdatePreference.fire({key:e,value:t,source:i}),this.updatePreference(e,t,i)},t.prototype.updatePreference=function(e,t,i){var n=this,r=i.overrideOf?g.overrideIdentifierFromKey(i.overrideOf.key):null,o=this.preferencesModel.uri;this.configurationService.updateValue(e,t,{overrideIdentifier:r,resource:o},this.preferencesModel.configurationTarget).then(function(){return n.onSettingUpdated(i)})},t.prototype.onModelChanged=function(){this.editor.getModel()&&this.render()},t.prototype.onSettingUpdated=function(e){this.editor.focus(),(e=this.getSetting(e))&&(this.editor.setSelection(e.valueRange),this.settingHighlighter.highlight(e,!0))},t.prototype.getSetting=function(e){var t=e.key,i=e.overrideOf;if(i){for(var n=0,r=this.getSetting(i).overrides;n<r.length;n++){var o=r[n];if(o.key===t)return o}return null}return this.preferencesModel.getPreference(t)},t.prototype.filterPreferences=function(e){this.filterResult=e,this.settingHighlighter.clear(!0),this.highlightMatchesRenderer.render(e?e.matches:[])},
t.prototype.focusPreference=function(e){var t=this.getSetting(e);t?(this.settingHighlighter.highlight(t,!0),this.editor.setPosition({lineNumber:t.keyRange.startLineNumber,column:t.keyRange.startColumn})):this.settingHighlighter.clear(!0)},t.prototype.clearFocus=function(e){this.settingHighlighter.clear(!0)},t.prototype.editPreference=function(e){var t=this.getSetting(e);return t&&this.editSettingActionRenderer.activateOnSetting(t)},t=r([o(2,w.IPreferencesService),o(3,g.IConfigurationService),o(4,y.IInstantiationService)],t)}(u.Disposable);t.UserSettingsRenderer=x;var D=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,n,o,s)||this;return a.workspaceConfigurationRenderer=a._register(s.createInstance(B,t,i)),a}return i(t,e),t.prototype.createHeader=function(){this._register(new C.SettingsHeaderWidget(this.editor,"")).setMessage(f.localize("emptyWorkspaceSettingsHeader","Place your settings here to override the User Settings."))},t.prototype.setAssociatedPreferencesModel=function(t){
e.prototype.setAssociatedPreferencesModel.call(this,t),this.workspaceConfigurationRenderer.render(this.getAssociatedPreferencesModel())},t.prototype.render=function(){e.prototype.render.call(this),this.workspaceConfigurationRenderer.render(this.getAssociatedPreferencesModel())},t=r([o(2,w.IPreferencesService),o(3,b.ITelemetryService),o(4,g.IConfigurationService),o(5,y.IInstantiationService)],t)}(x);t.WorkspaceSettingsRenderer=D;var T=function(e){function t(t,i,n,r,o,s){return e.call(this,t,i,n,o,s)||this}return i(t,e),t.prototype.createHeader=function(){this._register(new C.SettingsHeaderWidget(this.editor,"")).setMessage(f.localize("emptyFolderSettingsHeader","Place your folder settings here to override those from the Workspace Settings."))},t=r([o(2,w.IPreferencesService),o(3,b.ITelemetryService),o(4,g.IConfigurationService),o(5,y.IInstantiationService)],t)}(x);t.FolderSettingsRenderer=T;var R=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.editor=t,o.preferencesModel=i,
o.preferencesService=n,o.instantiationService=r,o._onUpdatePreference=new l.Emitter,o.onUpdatePreference=o._onUpdatePreference.event,o._onFocusPreference=new l.Emitter,o.onFocusPreference=o._onFocusPreference.event,o._onClearFocusPreference=new l.Emitter,o.onClearFocusPreference=o._onClearFocusPreference.event,o.settingHighlighter=o._register(r.createInstance(N,t,o._onFocusPreference,o._onClearFocusPreference)),o.settingsHeaderRenderer=o._register(r.createInstance(O,t)),o.settingsGroupTitleRenderer=o._register(r.createInstance(k,t)),o.filteredMatchesRenderer=o._register(r.createInstance(P,t)),o.editSettingActionRenderer=o._register(r.createInstance(F,t,i,o.settingHighlighter)),o.bracesHidingRenderer=o._register(r.createInstance(A,t,i)),o.hiddenAreasRenderer=o._register(r.createInstance(M,t,[o.settingsGroupTitleRenderer,o.filteredMatchesRenderer,o.bracesHidingRenderer])),o._register(o.editSettingActionRenderer.onUpdateSetting(function(e){return o._onUpdatePreference.fire(e)})),
o._register(o.settingsGroupTitleRenderer.onHiddenAreasChanged(function(){return o.hiddenAreasRenderer.render()})),o._register(i.onDidChangeGroups(function(){return o.render()})),o}return i(t,e),t.prototype.getAssociatedPreferencesModel=function(){return this._associatedPreferencesModel},t.prototype.setAssociatedPreferencesModel=function(e){this._associatedPreferencesModel=e,this.editSettingActionRenderer.associatedPreferencesModel=e},t.prototype.render=function(){this.settingsGroupTitleRenderer.render(this.preferencesModel.settingsGroups),this.editSettingActionRenderer.render(this.preferencesModel.settingsGroups,this._associatedPreferencesModel),this.settingHighlighter.clear(!0),this.bracesHidingRenderer.render(null,this.preferencesModel.settingsGroups),this.settingsGroupTitleRenderer.showGroup(0),this.hiddenAreasRenderer.render()},t.prototype.filterPreferences=function(e){this.filterResult=e,e?(this.filteredMatchesRenderer.render(e,this.preferencesModel.settingsGroups),
this.settingsGroupTitleRenderer.render(null),this.settingsHeaderRenderer.render(e),this.settingHighlighter.clear(!0),this.bracesHidingRenderer.render(e,this.preferencesModel.settingsGroups),this.editSettingActionRenderer.render(e.filteredGroups,this._associatedPreferencesModel)):(this.settingHighlighter.clear(!0),this.filteredMatchesRenderer.render(null,this.preferencesModel.settingsGroups),this.settingsHeaderRenderer.render(null),this.settingsGroupTitleRenderer.render(this.preferencesModel.settingsGroups),this.settingsGroupTitleRenderer.showGroup(0),this.bracesHidingRenderer.render(null,this.preferencesModel.settingsGroups),this.editSettingActionRenderer.render(this.preferencesModel.settingsGroups,this._associatedPreferencesModel)),this.hiddenAreasRenderer.render()},t.prototype.focusPreference=function(e){var t=this.getSetting(e);t?(this.settingsGroupTitleRenderer.showSetting(t),this.settingHighlighter.highlight(t,!0)):this.settingHighlighter.clear(!0)},t.prototype.getSetting=function(e){
var t=e.key,i=e.overrideOf;if(i){for(var n=0,r=this.getSetting(i).overrides;n<r.length;n++){var o=r[n];if(o.key===t)return o}return null}var s=this.filterResult?this.filterResult.filteredGroups:this.preferencesModel.settingsGroups;return this.getPreference(t,s)},t.prototype.getPreference=function(e,t){for(var i=0,n=t;i<n.length;i++)for(var r=0,o=n[i].sections;r<o.length;r++)for(var s=0,a=o[r].settings;s<a.length;s++){var c=a[s];if(c.key===e)return c}return null},t.prototype.clearFocus=function(e){this.settingHighlighter.clear(!0)},t.prototype.updatePreference=function(e,t,i){},t.prototype.editPreference=function(e){return this.editSettingActionRenderer.activateOnSetting(e)},t=r([o(2,w.IPreferencesService),o(3,y.IInstantiationService)],t)}(u.Disposable);t.DefaultSettingsRenderer=R;var A=function(e){function t(t){var i=e.call(this)||this;return i.editor=t,i}return i(t,e),t.prototype.render=function(e,t){this._result=e,this._settingsGroups=t},Object.defineProperty(t.prototype,"hiddenAreas",{get:function(){
var e=[{startLineNumber:1,startColumn:1,endLineNumber:2,endColumn:1}],t=function(t,i){e.push({startLineNumber:t.range.startLineNumber-3,startColumn:1,endLineNumber:t.range.startLineNumber-(i?1:3),endColumn:1}),e.push({startLineNumber:t.range.endLineNumber+1,startColumn:1,endLineNumber:t.range.endLineNumber+4,endColumn:1})};this._settingsGroups.forEach(function(e){return t(e)}),this._result&&this._result.filteredGroups.forEach(function(e,i){return t(e,!0)});var i=this.editor.getModel().getLineCount();return e.push({startLineNumber:i,startColumn:1,endLineNumber:i,endColumn:1}),e},enumerable:!0,configurable:!0}),t}(u.Disposable);t.BracesHidingRenderer=A;var O=function(e){function t(t){var i=e.call(this)||this;return i.settingsHeaderWidget=i._register(new C.DefaultSettingsHeaderWidget(t,"")),i.onClick=i.settingsHeaderWidget.onClick,i}return i(t,e),t.prototype.render=function(e){var t=!e||e.filteredGroups.length>0;this.settingsHeaderWidget.toggleMessage(t)},t}(u.Disposable),k=function(e){function t(t,i){
var n=e.call(this)||this;return n.editor=t,n.instantiationService=i,n._onHiddenAreasChanged=new l.Emitter,n.hiddenGroups=[],n.disposables=[],n}return i(t,e),Object.defineProperty(t.prototype,"onHiddenAreasChanged",{get:function(){return this._onHiddenAreasChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenAreas",{get:function(){for(var e=[],t=0,i=this.hiddenGroups;t<i.length;t++){var n=i[t];e.push(n.range)}return e},enumerable:!0,configurable:!0}),t.prototype.render=function(e){var t=this;if(this.disposeWidgets(),e){this.settingsGroups=e.slice(),this.settingsGroupTitleWidgets=[];for(var i=function(e){if(e.sections.every(function(e){return 0===e.settings.length}))return"continue";var i=n.instantiationService.createInstance(C.SettingsGroupTitleWidget,n.editor,e);i.render(),n.settingsGroupTitleWidgets.push(i),n.disposables.push(i),n.disposables.push(i.onToggled(function(e){return t.onToggled(e,i.settingsGroup)}))
},n=this,r=0,o=this.settingsGroups.slice().reverse();r<o.length;r++){i(o[r])}this.settingsGroupTitleWidgets.reverse()}},t.prototype.showGroup=function(e){var t=this.settingsGroupTitleWidgets[e].settingsGroup;this.hiddenGroups=this.settingsGroups.filter(function(e){return e!==t});for(var i=0,n=this.settingsGroupTitleWidgets.filter(function(e){return e.settingsGroup!==t});i<n.length;i++){n[i].toggleCollapse(!0)}this._onHiddenAreasChanged.fire()},t.prototype.showSetting=function(e){var t=this.settingsGroupTitleWidgets.filter(function(t){return p.Range.containsRange(t.settingsGroup.range,e.range)})[0];t&&t.isCollapsed()&&(t.toggleCollapse(!1),this.hiddenGroups.splice(this.hiddenGroups.indexOf(t.settingsGroup),1),this._onHiddenAreasChanged.fire())},t.prototype.onToggled=function(e,t){var i=this.hiddenGroups.indexOf(t);if(e){var n=this.editor.getPosition();t.range.startLineNumber<=n.lineNumber&&t.range.endLineNumber>=n.lineNumber&&this.editor.setPosition({lineNumber:t.range.startLineNumber-1,column:1}),
this.hiddenGroups.push(t)}else this.hiddenGroups.splice(i,1);this._onHiddenAreasChanged.fire()},t.prototype.disposeWidgets=function(){this.hiddenGroups=[],this.disposables=u.dispose(this.disposables)},t.prototype.dispose=function(){this.disposeWidgets(),e.prototype.dispose.call(this)},t=r([o(1,y.IInstantiationService)],t)}(u.Disposable);t.SettingsGroupTitleRenderer=k;var M=function(e){function t(t,i){var n=e.call(this)||this;return n.editor=t,n.hiddenAreasProviders=i,n}return i(t,e),t.prototype.render=function(){for(var e=[],t=0,i=this.hiddenAreasProviders;t<i.length;t++){var n=i[t];e.push.apply(e,n.hiddenAreas)}this.editor.setHiddenAreas(e)},t.prototype.dispose=function(){this.editor.setHiddenAreas([]),e.prototype.dispose.call(this)},t}(u.Disposable);t.HiddenAreasRenderer=M;var P=function(e){function t(t){var i=e.call(this)||this;return i.editor=t,i.decorationIds=[],i.hiddenAreas=[],i}return i(t,e),t.prototype.render=function(e,t){var i=this,n=this.editor.getModel();this.hiddenAreas=[],
e?(this.hiddenAreas=this.computeHiddenRanges(e.filteredGroups,e.allGroups,n),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,e.matches.map(function(e){return i.createDecoration(e,n)}))):(this.hiddenAreas=this.computeHiddenRanges(null,t,n),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]))},t.prototype.createDecoration=function(e,i){return{range:e,options:t._FIND_MATCH}},t.prototype.computeHiddenRanges=function(e,t,i){var n=[];return e&&t.forEach(function(e,t){n.push({startLineNumber:e.range.startLineNumber-1,startColumn:e.range.startColumn,endLineNumber:e.range.endLineNumber,endColumn:e.range.endColumn})}),n},t.prototype.dispose=function(){this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]),e.prototype.dispose.call(this)},t._FIND_MATCH=h.ModelDecorationOptions.register({stickiness:1,className:"findMatch"}),t}(u.Disposable);t.FilteredMatchesRenderer=P;var L=function(e){function t(t){var i=e.call(this)||this;return i.editor=t,i.decorationIds=[],i}
return i(t,e),t.prototype.render=function(e){var t=this,i=this.editor.getModel();this.decorationIds=this.editor.deltaDecorations(this.decorationIds,e.map(function(e){return t.createDecoration(e,i)}))},t.prototype.createDecoration=function(e,i){return{range:e,options:t._FIND_MATCH}},t.prototype.dispose=function(){this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]),e.prototype.dispose.call(this)},t._FIND_MATCH=h.ModelDecorationOptions.register({stickiness:1,className:"findMatch"}),t}(u.Disposable);t.HighlightMatchesRenderer=L;var F=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.editor=t,s.masterSettingsModel=i,s.settingHighlighter=n,s.instantiationService=r,s.contextMenuService=o,s.settingsGroups=[],s._onUpdateSetting=new l.Emitter,s.onUpdateSetting=s._onUpdateSetting.event,s.editPreferenceWidgetForCursorPosition=s._register(s.instantiationService.createInstance(C.EditPreferenceWidget,t)),
s.editPreferenceWidgetForMouseMove=s._register(s.instantiationService.createInstance(C.EditPreferenceWidget,t)),s.toggleEditPreferencesForMouseMoveDelayer=new c.Delayer(75),s._register(s.editPreferenceWidgetForCursorPosition.onClick(function(e){return s.onEditSettingClicked(s.editPreferenceWidgetForCursorPosition,e)})),s._register(s.editPreferenceWidgetForMouseMove.onClick(function(e){return s.onEditSettingClicked(s.editPreferenceWidgetForMouseMove,e)})),s._register(s.editor.onDidChangeCursorPosition(function(e){return s.onPositionChanged(e)})),s._register(s.editor.onMouseMove(function(e){return s.onMouseMoved(e)})),s._register(s.editor.onDidChangeConfiguration(function(){return s.onConfigurationChanged()})),s}return i(t,e),t.prototype.render=function(e,t){this.editPreferenceWidgetForCursorPosition.hide(),this.editPreferenceWidgetForMouseMove.hide(),this.settingsGroups=e,this.associatedPreferencesModel=t;var i=this.getSettings(this.editor.getPosition().lineNumber)
;i.length&&this.showEditPreferencesWidget(this.editPreferenceWidgetForCursorPosition,i)},t.prototype.isDefaultSettings=function(){return this.masterSettingsModel instanceof I.DefaultSettingsEditorModel},t.prototype.onConfigurationChanged=function(){this.editor.getConfiguration().viewInfo.glyphMargin||(this.editPreferenceWidgetForCursorPosition.hide(),this.editPreferenceWidgetForMouseMove.hide())},t.prototype.onPositionChanged=function(e){this.editPreferenceWidgetForMouseMove.hide();var t=this.getSettings(e.position.lineNumber);t.length?this.showEditPreferencesWidget(this.editPreferenceWidgetForCursorPosition,t):this.editPreferenceWidgetForCursorPosition.hide()},t.prototype.onMouseMoved=function(e){var t=this,i=this.getEditPreferenceWidgetUnderMouse(e);i?this.onMouseOver(i):(this.settingHighlighter.clear(),this.toggleEditPreferencesForMouseMoveDelayer.trigger(function(){return t.toggleEditPreferenceWidgetForMouseMove(e)}))},t.prototype.getEditPreferenceWidgetUnderMouse=function(e){if(2===e.target.type){
var t=e.target.position.lineNumber;if(this.editPreferenceWidgetForMouseMove.getLine()===t&&this.editPreferenceWidgetForMouseMove.isVisible())return this.editPreferenceWidgetForMouseMove;if(this.editPreferenceWidgetForCursorPosition.getLine()===t&&this.editPreferenceWidgetForCursorPosition.isVisible())return this.editPreferenceWidgetForCursorPosition}return null},t.prototype.toggleEditPreferenceWidgetForMouseMove=function(e){var t=e.target.position?this.getSettings(e.target.position.lineNumber):null;t&&t.length?this.showEditPreferencesWidget(this.editPreferenceWidgetForMouseMove,t):this.editPreferenceWidgetForMouseMove.hide()},t.prototype.showEditPreferencesWidget=function(e,t){var i=t[0].valueRange.startLineNumber;if(this.editor.getConfiguration().viewInfo.glyphMargin&&this.marginFreeFromOtherDecorations(i)){e.show(i,f.localize("editTtile","Edit"),t);(e===this.editPreferenceWidgetForCursorPosition?this.editPreferenceWidgetForMouseMove:this.editPreferenceWidgetForCursorPosition).hide()}},
t.prototype.marginFreeFromOtherDecorations=function(e){var t=this.editor.getLineDecorations(e);if(t)for(var i=0,n=t;i<n.length;i++){var r=n[i].options;if(r.glyphMarginClassName&&-1===r.glyphMarginClassName.indexOf(C.EditPreferenceWidget.GLYPH_MARGIN_CLASS_NAME))return!1}return!0},t.prototype.getSettings=function(e){var t=this,i=this.getConfigurationsMap();return this.getSettingsAtLineNumber(e).filter(function(e){var n=i[e.key];if(n){if(t.isDefaultSettings())return"launch"!==e.key;if("boolean"===n.type||n.enum){if(3!==t.masterSettingsModel.configurationTarget)return!0;if(3===n.scope)return!0}}return!1})},t.prototype.getSettingsAtLineNumber=function(e){for(var t=0,i=[],r=0,o=this.settingsGroups;r<o.length;r++){var s=o[r];if(s.range.startLineNumber>e)break;if(e>=s.range.startLineNumber&&e<=s.range.endLineNumber)for(var a=0,c=s.sections;a<c.length;a++)for(var l=0,u=c[a].settings;l<u.length;l++){var d=u[l];if(d.range.startLineNumber>e)break
;if(e>=d.range.startLineNumber&&e<=d.range.endLineNumber)if(!this.isDefaultSettings()&&d.overrides.length)for(var p=0,h=d.overrides;p<h.length;p++){var f=h[p];e>=f.range.startLineNumber&&e<=f.range.endLineNumber&&i.push(n({},f,{index:t,groupId:s.id}))}else i.push(n({},d,{index:t,groupId:s.id}));t++}}return i},t.prototype.onMouseOver=function(e){this.settingHighlighter.highlight(e.preferences[0])},t.prototype.onEditSettingClicked=function(e,t){var i=this,n={x:t.event.posx,y:t.event.posy+10},r=1===this.getSettings(e.getLine()).length?this.getActions(e.preferences[0],this.getConfigurationsMap()[e.preferences[0].key]):e.preferences.map(function(e){return new s.ContextSubMenu(e.key,i.getActions(e,i.getConfigurationsMap()[e.key]))});this.contextMenuService.showContextMenu({getAnchor:function(){return n},getActions:function(){return r}})},t.prototype.activateOnSetting=function(e){var t=this,i=e.keyRange.startLineNumber,n=this.getSettings(i);if(!n.length)return!1;this.editPreferenceWidgetForMouseMove.show(i,"",n)
;var r=this.getActions(this.editPreferenceWidgetForMouseMove.preferences[0],this.getConfigurationsMap()[this.editPreferenceWidgetForMouseMove.preferences[0].key]);return this.contextMenuService.showContextMenu({getAnchor:function(){return t.toAbsoluteCoords(new d.Position(i,1))},getActions:function(){return r}}),!0},t.prototype.toAbsoluteCoords=function(e){var t=this.editor.getScrolledVisiblePosition(e),i=a.getDomNodePagePosition(this.editor.getDomNode());return{x:i.left+t.left,y:i.top+t.top+t.height+10}},t.prototype.getConfigurationsMap=function(){return S.Registry.as(v.Extensions.Configuration).getConfigurationProperties()},t.prototype.getActions=function(e,t){var i=this;return"boolean"===t.type?[{id:"truthyValue",label:"true",enabled:!0,run:function(){return i.updateSetting(e.key,!0,e)}},{id:"falsyValue",label:"false",enabled:!0,run:function(){return i.updateSetting(e.key,!1,e)}}]:t.enum?t.enum.map(function(t){return{id:t,label:JSON.stringify(t),enabled:!0,run:function(){return i.updateSetting(e.key,t,e)}}
}):this.getDefaultActions(e)},t.prototype.getDefaultActions=function(e){var t=this;if(this.isDefaultSettings()){return[{id:"setDefaultValue",label:this.associatedPreferencesModel.getPreference(e.key)?f.localize("replaceDefaultValue","Replace in Settings"):f.localize("copyDefaultValue","Copy to Settings"),enabled:!0,run:function(){return t.updateSetting(e.key,e.value,e)}}]}return[]},t.prototype.updateSetting=function(e,t,i){this._onUpdateSetting.fire({key:e,value:t,source:i})},t=r([o(3,y.IInstantiationService),o(4,m.IContextMenuService)],t)}(u.Disposable),N=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.editor=t,o.focusEventEmitter=i,o.clearFocusEventEmitter=n,o.fixedHighlighter=o._register(r.createInstance(_.RangeHighlightDecorations)),o.volatileHighlighter=o._register(r.createInstance(_.RangeHighlightDecorations)),o.fixedHighlighter.onHighlghtRemoved(function(){return o.clearFocusEventEmitter.fire(o.highlightedSetting)}),o.volatileHighlighter.onHighlghtRemoved(function(){
return o.clearFocusEventEmitter.fire(o.highlightedSetting)}),o}return i(t,e),t.prototype.highlight=function(e,t){void 0===t&&(t=!1),this.highlightedSetting=e,this.volatileHighlighter.removeHighlightRange(),this.fixedHighlighter.removeHighlightRange();(t?this.fixedHighlighter:this.volatileHighlighter).highlightRange({range:e.valueRange,resource:this.editor.getModel().uri},this.editor),this.editor.revealLineInCenterIfOutsideViewport(e.valueRange.startLineNumber,0),this.focusEventEmitter.fire(e)},t.prototype.clear=function(e){void 0===e&&(e=!1),this.volatileHighlighter.removeHighlightRange(),e&&this.fixedHighlighter.removeHighlightRange(),this.clearFocusEventEmitter.fire(this.highlightedSetting)},t=r([o(3,y.IInstantiationService)],t)}(u.Disposable),B=function(e){function t(t,i,n){var r=e.call(this)||this;return r.editor=t,r.workspaceSettingsEditorModel=i,r.workspaceContextService=n,r.decorationIds=[],r.renderingDelayer=new c.Delayer(200),r._register(r.editor.getModel().onDidChangeContent(function(){
return r.renderingDelayer.trigger(function(){return r.render(r.associatedSettingsEditorModel)})})),r}return i(t,e),t.prototype.render=function(e){var t=this;if(this.associatedSettingsEditorModel=e,this.associatedSettingsEditorModel&&3===this.workspaceContextService.getWorkbenchState()&&this.workspaceSettingsEditorModel instanceof I.WorkspaceConfigurationEditorModel){for(var i=[],n=0,r=this.workspaceSettingsEditorModel.configurationGroups;n<r.length;n++)for(var o=0,s=r[n].sections;o<s.length;o++)for(var a=0,c=s[o].settings;a<c.length;a++){var l=c[a];"settings"!==l.key&&i.push({startLineNumber:l.keyRange.startLineNumber,startColumn:l.keyRange.startColumn-1,endLineNumber:l.valueRange.endLineNumber,endColumn:l.valueRange.endColumn})}this.decorationIds=this.editor.deltaDecorations(this.decorationIds,i.map(function(e){return t.createDecoration(e,t.editor.getModel())}))}},t.prototype.createDecoration=function(e,i){return{range:e,options:t._DIM_CONFIGURATION_}},t.prototype.dispose=function(){
this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]),e.prototype.dispose.call(this)},t._DIM_CONFIGURATION_=h.ModelDecorationOptions.register({stickiness:1,inlineClassName:"dim-configuration"}),t=r([o(2,E.IWorkspaceContextService)],t)}(u.Disposable)}),define(e[445],t([1,0,5,73,3,32,39,22,6,63,88,129,38,36,58,2,48,16,4,43,55,25,30,21,94,149,10,41,60,242,187]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var L=function(e){function t(t,i,n,r,o,a,c,u,d,h,f,g,v,m,y){var S=e.call(this)||this;return S.editorService=t,S.editorGroupService=i,S.fileService=n,S.configurationService=r,S.notificationService=o,S.contextService=a,S.instantiationService=c,S.environmentService=u,S.telemetryService=d,S.textModelResolverService=h,S.modelService=g,S.jsonEditingService=v,S.modeService=m,S.labelService=y,S.lastOpenedSettingsInput=null,S._onDispose=new s.Emitter,S._defaultUserSettingsUriCounter=0,
S._defaultWorkspaceSettingsUriCounter=0,S._defaultFolderSettingsUriCounter=0,S.defaultKeybindingsResource=p.URI.from({scheme:l.Schemas.vscode,authority:"defaultsettings",path:"/keybindings.json"}),S.defaultSettingsRawResource=p.URI.from({scheme:l.Schemas.vscode,authority:"defaultsettings",path:"/defaultSettings.json"}),f.onDidUpdateKeybindings(function(){var e=g.getModel(S.defaultKeybindingsResource);e&&g.updateModel(e,P.defaultKeybindingsContents(f))}),S}return i(t,e),Object.defineProperty(t.prototype,"userSettingsResource",{get:function(){return this.getEditableSettingsURI(1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceSettingsResource",{get:function(){return this.getEditableSettingsURI(2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsEditor2Input",{get:function(){return this.instantiationService.createInstance(M.SettingsEditor2Input)},enumerable:!0,configurable:!0}),t.prototype.getFolderSettingsResource=function(e){
return this.getEditableSettingsURI(3,e)},t.prototype.resolveModel=function(e){var t=this;if(this.isDefaultSettingsResource(e)){var i,n=this.getConfigurationTargetFromDefaultSettingsResource(e),r=this.modeService.create("jsonc"),o=this._register(this.modelService.createModel("",r,e));return this.configurationService.onDidChangeConfiguration(function(r){if(4===r.source){var o=t.modelService.getModel(e);if(!o)return;i=t.getDefaultSettings(n),t.modelService.updateModel(o,i.getContent(!0)),i._onDidChange.fire()}}),i||(i=this.getDefaultSettings(n),this.modelService.updateModel(o,i.getContent(!0))),Promise.resolve(o)}if(this.defaultSettingsRawResource.toString()===e.toString()){var s=this.getDefaultSettings(1),r=this.modeService.create("jsonc"),o=this._register(this.modelService.createModel(s.raw,r,e));return Promise.resolve(o)}if(this.defaultKeybindingsResource.toString()===e.toString()){
var a=this.instantiationService.createInstance(P.DefaultKeybindingsEditorModel,e),r=this.modeService.create("jsonc"),o=this._register(this.modelService.createModel(a.content,r,e));return Promise.resolve(o)}return Promise.resolve(null)},t.prototype.createPreferencesEditorModel=function(e){if(this.isDefaultSettingsResource(e))return this.createDefaultSettingsEditorModel(e);if(this.getEditableSettingsURI(1).toString()===e.toString())return this.createEditableSettingsEditorModel(1,e);var t=this.getEditableSettingsURI(2);return t&&t.toString()===e.toString()?this.createEditableSettingsEditorModel(2,t):3===this.contextService.getWorkbenchState()?this.createEditableSettingsEditorModel(3,e):Promise.resolve(null)},t.prototype.openRawDefaultSettings=function(){return this.editorService.openEditor({resource:this.defaultSettingsRawResource})},t.prototype.openRawUserSettings=function(){return this.editorService.openEditor({resource:this.userSettingsResource})},t.prototype.openSettings=function(e){
if(!(e=void 0===e?"json"===this.configurationService.getValue("workbench.settings.editor"):e))return this.openSettings2();var t=this.getActiveSettingsEditorInput()||this.lastOpenedSettingsInput,i=t?t.master.getResource():this.userSettingsResource,n=this.getConfigurationTargetFromSettingsResource(i);return this.openOrSwitchSettings(n,i)},t.prototype.openSettings2=function(){var e=this,t=this.settingsEditor2Input;return this.editorGroupService.activeGroup.openEditor(t).then(function(){return e.editorGroupService.activeGroup.activeControl})},t.prototype.openGlobalSettings=function(e,t,i){return(e=void 0===e?"json"===this.configurationService.getValue("workbench.settings.editor"):e)?this.openOrSwitchSettings(1,this.userSettingsResource,t,i):this.openOrSwitchSettings2(1,void 0,t,i)},t.prototype.openWorkspaceSettings=function(e,t,i){return e=void 0===e?"json"===this.configurationService.getValue("workbench.settings.editor"):e,
1===this.contextService.getWorkbenchState()?(this.notificationService.info(S.localize("openFolderFirst","Open a folder first to create workspace settings")),Promise.resolve(null)):e?this.openOrSwitchSettings(2,this.workspaceSettingsResource,t,i):this.openOrSwitchSettings2(2,void 0,t,i)},t.prototype.openFolderSettings=function(e,t,i,n){return(t=void 0===t?"json"===this.configurationService.getValue("workbench.settings.editor"):t)?this.openOrSwitchSettings(3,this.getEditableSettingsURI(3,e),i,n):this.openOrSwitchSettings2(3,e,i,n)},t.prototype.switchSettings=function(e,t,i){if(!i)return this.doOpenSettings2(e,t).then(function(){return null});var n=this.editorService.activeControl;return n&&n.input instanceof M.PreferencesEditorInput?this.doSwitchSettings(e,t,n.input,n.group).then(function(){return null}):this.doOpenSettings(e,t).then(function(){return null})},t.prototype.openGlobalKeybindingSettings=function(e){var t=this;if(this.telemetryService.publicLog("openKeybindings",{textual:e}),e){
var i="// "+S.localize("emptyKeybindingsHeader","Place your key bindings in this file to override the defaults")+"\n[\n]",n=p.URI.file(this.environmentService.appKeybindingsPath),r=!!this.configurationService.getValue("workbench.settings.openDefaultKeybindings");return this.createIfNotExists(n,i).then(function(){if(r){var e=t.editorGroupService.activeGroup,i=t.editorGroupService.addGroup(e.id,3);return Promise.all([t.editorService.openEditor({resource:t.defaultKeybindingsResource,options:{pinned:!0,preserveFocus:!0},label:S.localize("defaultKeybindings","Default Keybindings"),description:""}),t.editorService.openEditor({resource:n,options:{pinned:!0}},i.id)]).then(function(e){})}return t.editorService.openEditor({resource:n,options:{pinned:!0}}).then(function(){})})}return this.editorService.openEditor(this.instantiationService.createInstance(M.KeybindingsEditorInput),{pinned:!0}).then(function(){return null})},t.prototype.openDefaultKeybindingsFile=function(){return this.editorService.openEditor({
resource:this.defaultKeybindingsResource,label:S.localize("defaultKeybindings","Default Keybindings")})},t.prototype.configureSettingsForLanguage=function(e){var t=this;this.openGlobalSettings(!0).then(function(i){return t.createPreferencesEditorModel(t.userSettingsResource).then(function(n){var r=h.getCodeEditor(i.getControl());r&&t.getPosition(e,n,r).then(function(e){r&&(r.setPosition(e),r.revealLine(e.lineNumber),r.focus())})})})},t.prototype.openOrSwitchSettings=function(e,t,i,n){void 0===n&&(n=this.editorGroupService.activeGroup);var r=this.getActiveSettingsEditorInput(n);return r&&r.master.getResource().fsPath!==t.fsPath?this.doSwitchSettings(e,t,r,n,i):this.doOpenSettings(e,t,i,n)},t.prototype.openOrSwitchSettings2=function(e,t,i,n){return void 0===n&&(n=this.editorGroupService.activeGroup),this.doOpenSettings2(e,t,i,n)},t.prototype.doOpenSettings=function(e,t,i,n){var r=this,o=!!this.configurationService.getValue(k.DEFAULT_SETTINGS_EDITOR_SETTING)
;return this.getOrCreateEditableSettingsEditorInput(e,t).then(function(s){if(i=i?u.assign(i,{pinned:!0}):{pinned:!0},o){var a=r.instantiationService.createInstance(M.DefaultPreferencesEditorInput,r.getDefaultSettingsResource(e)),c=new M.PreferencesEditorInput(r.getPreferencesEditorInputName(e,t),s.getDescription(),a,s);return r.lastOpenedSettingsInput=c,r.editorService.openEditor(c,k.SettingsEditorOptions.create(i),n)}return r.editorService.openEditor(s,k.SettingsEditorOptions.create(i),n)})},t.prototype.createSettings2EditorModel=function(){return this.instantiationService.createInstance(P.Settings2EditorModel,this.getDefaultSettings(1))},t.prototype.doOpenSettings2=function(e,t,i,r){var o=this.settingsEditor2Input,s=n({},i,{target:e,folderUri:t});return this.editorService.openEditor(o,k.SettingsEditorOptions.create(s),r)},t.prototype.doSwitchSettings=function(e,t,i,n,r){var o=this;return this.getOrCreateEditableSettingsEditorInput(e,this.getEditableSettingsURI(e,t)).then(function(s){
return n.openEditor(i).then(function(){var a=new M.PreferencesEditorInput(o.getPreferencesEditorInputName(e,t),s.getDescription(),o.instantiationService.createInstance(M.DefaultPreferencesEditorInput,o.getDefaultSettingsResource(e)),s);return n.replaceEditors([{editor:i,replacement:a,options:k.SettingsEditorOptions.create(r)}]).then(function(){return o.lastOpenedSettingsInput=a,n.activeControl})})})},t.prototype.getActiveSettingsEditorInput=function(e){return void 0===e&&(e=this.editorGroupService.activeGroup),e.editors.filter(function(e){return e instanceof M.PreferencesEditorInput})[0]},t.prototype.getConfigurationTargetFromSettingsResource=function(e){if(this.userSettingsResource.toString()===e.toString())return 1;var t=this.workspaceSettingsResource;if(t&&t.toString()===e.toString())return 2;return this.contextService.getWorkspaceFolder(e)?3:1},t.prototype.getConfigurationTargetFromDefaultSettingsResource=function(e){
return this.isDefaultWorkspaceSettingsResource(e)?2:this.isDefaultFolderSettingsResource(e)?3:1},t.prototype.isDefaultSettingsResource=function(e){return this.isDefaultUserSettingsResource(e)||this.isDefaultWorkspaceSettingsResource(e)||this.isDefaultFolderSettingsResource(e)},t.prototype.isDefaultUserSettingsResource=function(e){return"defaultsettings"===e.authority&&e.scheme===l.Schemas.vscode&&!!e.path.match(/\/(\d+\/)?settings\.json$/)},t.prototype.isDefaultWorkspaceSettingsResource=function(e){return"defaultsettings"===e.authority&&e.scheme===l.Schemas.vscode&&!!e.path.match(/\/(\d+\/)?workspaceSettings\.json$/)},t.prototype.isDefaultFolderSettingsResource=function(e){return"defaultsettings"===e.authority&&e.scheme===l.Schemas.vscode&&!!e.path.match(/\/(\d+\/)?resourceSettings\.json$/)},t.prototype.getDefaultSettingsResource=function(e){switch(e){case 2:return p.URI.from({scheme:l.Schemas.vscode,authority:"defaultsettings",path:"/"+this._defaultWorkspaceSettingsUriCounter+++"/workspaceSettings.json"})
;case 3:return p.URI.from({scheme:l.Schemas.vscode,authority:"defaultsettings",path:"/"+this._defaultFolderSettingsUriCounter+++"/resourceSettings.json"})}return p.URI.from({scheme:l.Schemas.vscode,authority:"defaultsettings",path:"/"+this._defaultUserSettingsUriCounter+++"/settings.json"})},t.prototype.getPreferencesEditorInputName=function(e,t){var i=k.getSettingsTargetName(e,t,this.contextService);return 3===e?S.localize("folderSettingsName","{0} (Folder Settings)",i):i},t.prototype.getOrCreateEditableSettingsEditorInput=function(e,t){var i=this;return this.createSettingsIfNotExists(e,t).then(function(){return i.editorService.createInput({resource:t})})},t.prototype.createEditableSettingsEditorModel=function(e,t){var i=this,n=this.getEditableSettingsURI(e,t);if(n){var r=this.contextService.getWorkspace();return r.configuration&&r.configuration.toString()===n.toString()?this.textModelResolverService.createModelReference(n).then(function(t){
return i.instantiationService.createInstance(P.WorkspaceConfigurationEditorModel,t,e)}):this.textModelResolverService.createModelReference(n).then(function(t){return i.instantiationService.createInstance(P.SettingsEditorModel,t,e)})}return Promise.resolve(null)},t.prototype.createDefaultSettingsEditorModel=function(e){var t=this;return this.textModelResolverService.createModelReference(e).then(function(i){var n=t.getConfigurationTargetFromDefaultSettingsResource(e);return t.instantiationService.createInstance(P.DefaultSettingsEditorModel,e,i,t.getDefaultSettings(n))})},t.prototype.getDefaultSettings=function(e){return 2===e?(this._defaultWorkspaceSettingsContentModel||(this._defaultWorkspaceSettingsContentModel=new P.DefaultSettings(this.getMostCommonlyUsedSettings(),e)),this._defaultWorkspaceSettingsContentModel):3===e?(this._defaultFolderSettingsContentModel||(this._defaultFolderSettingsContentModel=new P.DefaultSettings(this.getMostCommonlyUsedSettings(),e)),
this._defaultFolderSettingsContentModel):(this._defaultUserSettingsContentModel||(this._defaultUserSettingsContentModel=new P.DefaultSettings(this.getMostCommonlyUsedSettings(),e)),this._defaultUserSettingsContentModel)},t.prototype.getEditableSettingsURI=function(e,t){switch(e){case 1:return p.URI.file(this.environmentService.appSettingsPath);case 2:if(1===this.contextService.getWorkbenchState())return null;var i=this.contextService.getWorkspace();return i.configuration||i.folders[0].toResource(k.FOLDER_SETTINGS_PATH);case 3:var n=this.contextService.getWorkspaceFolder(t);return n?n.toResource(k.FOLDER_SETTINGS_PATH):null}return null},t.prototype.createSettingsIfNotExists=function(e,t){var i=this;if(3===this.contextService.getWorkbenchState()&&2===e){var n=this.contextService.getWorkspace().configuration;return n?this.fileService.resolveContent(n).then(function(e){return-1===Object.keys(a.parse(e.value)).indexOf("settings")?i.jsonEditingService.write(t,{key:"settings",value:{}
},!0).then(null,function(){}):null}):Promise.resolve(null)}return this.createIfNotExists(t,"{\n}").then(function(){})},t.prototype.createIfNotExists=function(e,t){var i=this;return this.fileService.resolveContent(e,{acceptTextOnly:!0}).then(null,function(n){return 2===n.fileOperationResult?i.fileService.updateContent(e,t).then(null,function(t){return Promise.reject(new Error(S.localize("fail.createSettings","Unable to create '{0}' ({1}).",i.labelService.getUriLabel(e,{relative:!0}),t)))}):Promise.reject(n)})},t.prototype.getMostCommonlyUsedSettings=function(){return["files.autoSave","editor.fontSize","editor.fontFamily","editor.tabSize","editor.renderWhitespace","editor.cursorStyle","editor.multiCursorModifier","editor.insertSpaces","editor.wordWrap","files.exclude","files.associations"]},t.prototype.getPosition=function(e,t,i){var n=this,r="["+e+"]",o=t.getPreference(r),s=i.getModel(),a=this.configurationService.getValue(),c=s.getEOL();if(o){if(o.overrides.length){
var l=o.overrides[o.overrides.length-1],u=void 0;u=l.valueRange.endLineNumber===o.range.endLineNumber?","+c+this.spaces(2,a.editor)+c+this.spaces(1,a.editor):","+c+this.spaces(2,a.editor);var d=f.EditOperation.insert(new g.Position(l.valueRange.endLineNumber,l.valueRange.endColumn),u);return s.pushEditOperations([],[d],function(){return[]}),Promise.resolve({lineNumber:l.valueRange.endLineNumber+1,column:s.getLineMaxColumn(l.valueRange.endLineNumber+1)})}return Promise.resolve({lineNumber:o.valueRange.startLineNumber,column:o.valueRange.startColumn+1})}return this.configurationService.updateValue(r,{},1).then(function(){o=t.getPreference(r);var e=c+n.spaces(2,a.editor)+c+n.spaces(1,a.editor),i=f.EditOperation.insert(new g.Position(o.valueRange.endLineNumber,o.valueRange.endColumn-1),e);s.pushEditOperations([],[i],function(){return[]});var l=o.valueRange.endLineNumber+1;return t.dispose(),{lineNumber:l,column:s.getLineMaxColumn(l)}})},t.prototype.spaces=function(e,t){var i=t.tabSize
;return t.insertSpaces?d.repeat(" ",i*e):d.repeat("\t",e)},t.prototype.dispose=function(){this._onDispose.fire(),e.prototype.dispose.call(this)},t=r([o(0,A.IEditorService),o(1,O.IEditorGroupsService),o(2,E.IFileService),o(3,T.IWorkspaceConfigurationService),o(4,I.INotificationService),o(5,D.IWorkspaceContextService),o(6,_.IInstantiationService),o(7,b.IEnvironmentService),o(8,x.ITelemetryService),o(9,y.ITextModelService),o(10,C.IKeybindingService),o(11,v.IModelService),o(12,R.IJSONEditingService),o(13,m.IModeService),o(14,w.ILabelService)],t)}(c.Disposable);t.PreferencesService=L}),define(e[244],t([1,0,46,71]),function(e,t,i,n){"use strict";function r(e,t,r){var o=-1,s=[],a=[];return e.forEach(function(e){e.range.startLineNumber!==o&&(a=[],s.push(a)),a.push(e),o=e.range.endLineNumber}),s.map(function(e){return function(e,t,r){for(var o=e[0].range.startLineNumber,s=e[e.length-1].range.endLineNumber,a=[],c=r&&1===e.length?r.matchLines:Number.MAX_VALUE,l=o;l<=s&&l-o<c;l++)a.push(t.getLineContent(l))
;return new n.TextSearchMatch(a.join("\n")+"\n",e.map(function(e){return new i.Range(e.range.startLineNumber-1,e.range.startColumn-1,e.range.endLineNumber-1,e.range.endColumn-1)}),r)}(e,t,r)})}function o(e){var t=e.ranges;return{start:Array.isArray(t)?t[0].startLineNumber:t.startLineNumber,end:Array.isArray(t)?t[t.length-1].endLineNumber:t.endLineNumber}}Object.defineProperty(t,"__esModule",{value:!0}),t.editorMatchesToTextSearchResults=r,t.addContextToEditorMatches=function(e,t,i){for(var n=[],r=-1,s=0;s<e.length;s++){var a=o(e[s]),c=a.start,l=a.end;if("number"==typeof i.beforeContext&&i.beforeContext>0)for(var u=Math.max(r+1,c-i.beforeContext);u<c;u++)n.push({text:t.getLineContent(u+1),lineNumber:u});n.push(e[s]);var d=e[s+1],p=d?o(d).start:Number.MAX_VALUE;if("number"==typeof i.afterContext&&i.afterContext>0)for(var h=Math.min(p-1,l+i.afterContext,t.getLineCount()-1),f=l+1;f<=h;f++)n.push({text:t.getLineContent(f+1),lineNumber:f});r=l}return n}}),
define(e[126],t([1,0,13,52,18,5,97,3,44,39,22,6,46,156,80,38,4,530,71,30,27,12,139,244]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x){"use strict";function D(e,t){if(Array.isArray(e.ranges)){var i=e.preview.text.split("\n");return e.ranges.map(function(n,r){var o=e.preview.matches[r],s=i[o.startLineNumber],a=o.startLineNumber===o.endLineNumber?o.endColumn:s.length,c=new E.OneLineRange(0,o.startColumn,a);return new T(t,{uri:e.uri,ranges:n,preview:{text:s,matches:c}})})}var n=e.preview.text.indexOf("\n"),r=n>=0?e.preview.text.slice(0,n):e.preview.text,o=e.preview.matches,s=o.startLineNumber===o.endLineNumber?o.endColumn:r.length,a={preview:{text:r,matches:new E.OneLineRange(0,o.startColumn,s)},ranges:e.ranges};return[new T(t,a)]}Object.defineProperty(t,"__esModule",{value:!0});var T=function(){function e(e,t){if(this._parent=e,Array.isArray(t.ranges)||Array.isArray(t.preview.matches))throw new Error("A Match can only be built from a single search result")
;this._range=new g.Range(t.ranges.startLineNumber+1,t.ranges.startColumn+1,t.ranges.endLineNumber+1,t.ranges.endColumn+1),this._rangeInPreviewText=new g.Range(t.preview.matches.startLineNumber+1,t.preview.matches.startColumn+1,t.preview.matches.endLineNumber+1,t.preview.matches.endColumn+1),this._previewText=t.preview.text,this._id=this._parent.id()+">"+this._range+this.getMatchString()}return e.prototype.id=function(){return this._id},e.prototype.parent=function(){return this._parent},e.prototype.text=function(){return this._previewText},e.prototype.range=function(){return this._range},e.prototype.preview=function(){var t=this._previewText.substring(0,this._rangeInPreviewText.startColumn-1),i=this.getMatchString(),n=this._previewText.substring(this._rangeInPreviewText.endColumn-1);t=h.lcut(t,26);var r=e.MAX_PREVIEW_CHARS-t.length;return i=i.substr(0,r),r-=i.length,n=n.substr(0,r),{before:t,inside:i,after:n}},Object.defineProperty(e.prototype,"replaceString",{get:function(){
var e=this.parent().parent().searchModel,t=this.getMatchString(),i=e.replacePattern.getReplaceString(t);return null===i&&(i=e.replacePattern.getReplaceString(t+this._previewText.substring(this._rangeInPreviewText.endColumn-1))),null===i&&(i=e.replacePattern.pattern),i},enumerable:!0,configurable:!0}),e.prototype.getMatchString=function(){return this._previewText.substring(this._rangeInPreviewText.startColumn-1,this._rangeInPreviewText.endColumn-1)},e.MAX_PREVIEW_CHARS=250,e}();t.Match=T;var R=function(e){function t(t,i,r,o,s,a,l){var u=e.call(this)||this;return u._query=t,u._previewOptions=i,u._maxResults=r,u._parent=o,u.rawMatch=s,u.modelService=a,u.replaceService=l,u._onChange=u._register(new c.Emitter),u.onChange=u._onChange.event,u._onDispose=u._register(new c.Emitter),u.onDispose=u._onDispose.event,u._modelDecorations=[],u._resource=u.rawMatch.resource,u._matches=new Map,u._removedMatches=new Set,u._updateScheduler=new n.RunOnceScheduler(u.updateMatchesForModel.bind(u),250),u.createMatches(),
u.registerListeners(),u}return i(t,e),t.getDecorationOption=function(e){return e?t._CURRENT_FIND_MATCH:t._FIND_MATCH},t.prototype.createMatches=function(){var e=this,t=this.modelService.getModel(this._resource);t?(this.bindModel(t),this.updateMatchesForModel()):this.rawMatch.results.filter(E.resultIsMatch).forEach(function(t){D(t,e).forEach(function(t){return e.add(t)})})},t.prototype.registerListeners=function(){var e=this;this._register(this.modelService.onModelAdded(function(t){t.uri.toString()===e._resource.toString()&&e.bindModel(t)}))},t.prototype.bindModel=function(e){var t=this;this._model=e,this._modelListener=this._model.onDidChangeContent(function(){t._updateScheduler.schedule()}),this._model.onWillDispose(function(){return t.onModelWillDispose()}),this.updateHighlights()},t.prototype.onModelWillDispose=function(){this.updateMatchesForModel(),this.unbindModel()},t.prototype.unbindModel=function(){this._model&&(this._updateScheduler.cancel(),this._model.deltaDecorations(this._modelDecorations,[]),
this._model=null,this._modelListener.dispose())},t.prototype.updateMatchesForModel=function(){if(this._model){this._matches=new Map;var e=this._model.findMatches(this._query.pattern,this._model.getFullModelRange(),this._query.isRegExp,this._query.isCaseSensitive,this._query.isWordMatch?this._query.wordSeparators:null,!1,this._maxResults);this.updateMatches(e,!0)}},t.prototype.updatesMatchesForLineAfterReplace=function(e,t){var i=this,n={startLineNumber:e,startColumn:this._model.getLineMinColumn(e),endLineNumber:e,endColumn:this._model.getLineMaxColumn(e)};d.values(this._matches).filter(function(t){return t.range().startLineNumber===e}).forEach(function(e){return i._matches.delete(e.id())});var r=this._model.findMatches(this._query.pattern,n,this._query.isRegExp,this._query.isCaseSensitive,this._query.isWordMatch?this._query.wordSeparators:null,!1,this._maxResults);this.updateMatches(r,t)},t.prototype.updateMatches=function(e,t){var i=this
;x.editorMatchesToTextSearchResults(e,this._model,this._previewOptions).forEach(function(e){D(e,i).forEach(function(e){i._removedMatches.has(e.id())||(i.add(e),i.isMatchSelected(e)&&(i._selectedMatch=e))})}),this._onChange.fire(t),this.updateHighlights()},t.prototype.updateHighlights=function(){var e=this;this._model&&(this.parent().showHighlights?this._modelDecorations=this._model.deltaDecorations(this._modelDecorations,this.matches().map(function(i){return{range:i.range(),options:t.getDecorationOption(e.isMatchSelected(i))}})):this._modelDecorations=this._model.deltaDecorations(this._modelDecorations,[]))},t.prototype.id=function(){return this.resource().toString()},t.prototype.parent=function(){return this._parent},t.prototype.matches=function(){return d.values(this._matches)},t.prototype.remove=function(e){this.removeMatch(e),this._removedMatches.add(e.id()),this._onChange.fire(!1)},t.prototype.replace=function(e){var t=this;return this.replaceService.replace(e).then(function(){
return t.updatesMatchesForLineAfterReplace(e.range().startLineNumber,!1)})},t.prototype.setSelectedMatch=function(e){if(e){if(!this._matches.has(e.id()))return;if(this.isMatchSelected(e))return}this._selectedMatch=e,this.updateHighlights()},t.prototype.getSelectedMatch=function(){return this._selectedMatch},t.prototype.isMatchSelected=function(e){return this._selectedMatch&&this._selectedMatch.id()===e.id()},t.prototype.count=function(){return this.matches().length},t.prototype.resource=function(){return this._resource},t.prototype.name=function(){return l.getBaseLabel(this.resource())},t.prototype.add=function(e,t){this._matches.set(e.id(),e),t&&this._onChange.fire(!0)},t.prototype.removeMatch=function(e){this._matches.delete(e.id()),this.isMatchSelected(e)?this.setSelectedMatch(null):this.updateHighlights()},t.prototype.dispose=function(){this.setSelectedMatch(null),this.unbindModel(),this._onDispose.fire(),e.prototype.dispose.call(this)},t._CURRENT_FIND_MATCH=m.ModelDecorationOptions.register({
stickiness:1,zIndex:13,className:"currentFindMatch",overviewRuler:{color:w.themeColorFromId(C.overviewRulerFindMatchForeground),position:v.OverviewRulerLane.Center}}),t._FIND_MATCH=m.ModelDecorationOptions.register({stickiness:1,className:"findMatch",overviewRuler:{color:w.themeColorFromId(C.overviewRulerFindMatchForeground),position:v.OverviewRulerLane.Center}}),t=r([o(5,y.IModelService),o(6,I.IReplaceService)],t)}(u.Disposable);t.FileMatch=R;var A=function(e){function t(t,i,n,r,o,s,a,l){var u=e.call(this)||this;return u._resource=t,u._id=i,u._index=n,u._query=r,u._parent=o,u._searchModel=s,u.replaceService=a,u.instantiationService=l,u._onChange=u._register(new c.Emitter),u.onChange=u._onChange.event,u._onDispose=u._register(new c.Emitter),u.onDispose=u._onDispose.event,u._replacingAll=!1,u._fileMatches=new d.ResourceMap,u._unDisposedFileMatches=new d.ResourceMap,u}return i(t,e),Object.defineProperty(t.prototype,"searchModel",{get:function(){return this._searchModel},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"showHighlights",{get:function(){return this._parent.showHighlights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replacingAll",{set:function(e){this._replacingAll=e},enumerable:!0,configurable:!0}),t.prototype.id=function(){return this._id},t.prototype.resource=function(){return this._resource},t.prototype.index=function(){return this._index},t.prototype.name=function(){return l.getBaseLabel(this.resource())},t.prototype.parent=function(){return this._parent},t.prototype.hasResource=function(){return!!this._resource},t.prototype.add=function(e,t){var i=this,n=[],r=[];e.forEach(function(e){if(i._fileMatches.has(e.resource)){var t=i._fileMatches.get(e.resource);e.results.filter(E.resultIsMatch).forEach(function(e){D(e,t).forEach(function(e){return t.add(e)})}),r.push(t)}else{var o=i.instantiationService.createInstance(R,i._query.contentPattern,i._query.previewOptions,i._query.maxResults,i,e);i.doAdd(o),n.push(o);var s=o.onChange(function(){
return i.onFileChange(o)});o.onDispose(function(){return s.dispose()})}});var o=n.concat(r);!t&&o.length&&this._onChange.fire({elements:o,added:!!n.length})},t.prototype.clear=function(){var e=this.matches();this.disposeMatches(),this._onChange.fire({elements:e,removed:!0})},t.prototype.remove=function(e){this.doRemove(e)},t.prototype.replace=function(e){var t=this;return this.replaceService.replace([e]).then(function(){t.doRemove(e,!1,!0)})},t.prototype.replaceAll=function(){var e=this,t=this.matches();return this.replaceService.replace(t).then(function(){t.forEach(function(t){return e.doRemove(t,!1,!0)})})},t.prototype.matches=function(){return this._fileMatches.values()},t.prototype.isEmpty=function(){return 0===this.fileCount()},t.prototype.fileCount=function(){return this._fileMatches.size},t.prototype.count=function(){return this.matches().reduce(function(e,t){return e+t.count()},0)},t.prototype.onFileChange=function(e){var t=!1,i=!1;this._fileMatches.has(e.resource())||(this.doAdd(e),t=!0),
0===e.count()&&(this.doRemove(e,!1,!1),t=!1,i=!0),this._replacingAll||this._onChange.fire({elements:[e],added:t,removed:i})},t.prototype.doAdd=function(e){this._fileMatches.set(e.resource(),e),this._unDisposedFileMatches.has(e.resource())&&this._unDisposedFileMatches.delete(e.resource())},t.prototype.doRemove=function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!0),this._fileMatches.delete(e.resource()),t?e.dispose():this._unDisposedFileMatches.set(e.resource(),e),i&&this._onChange.fire({elements:[e],removed:!0})},t.prototype.disposeMatches=function(){this._fileMatches.values().forEach(function(e){return e.dispose()}),this._unDisposedFileMatches.values().forEach(function(e){return e.dispose()}),this._fileMatches.clear(),this._unDisposedFileMatches.clear()},t.prototype.dispose=function(){this.disposeMatches(),this._onDispose.fire(),e.prototype.dispose.call(this)},t=r([o(6,I.IReplaceService),o(7,S.IInstantiationService)],t)}(u.Disposable);t.FolderMatch=A,t.searchMatchComparer=function(e,t){
return e instanceof A&&t instanceof A?e.index()-t.index():e instanceof R&&t instanceof R?e.resource().fsPath.localeCompare(t.resource().fsPath)||e.name().localeCompare(t.name()):e instanceof T&&t instanceof T?g.Range.compareRangesUsingStarts(e.range(),t.range()):void 0};var O=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o._searchModel=t,o.replaceService=i,o.telemetryService=n,o.instantiationService=r,o._onChange=o._register(new c.Emitter),o.onChange=o._onChange.event,o._folderMatches=[],o._folderMatchesMap=d.TernarySearchTree.forPaths(),o._rangeHighlightDecorations=o.instantiationService.createInstance(P),o}return i(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this._query},set:function(e){var t=this;this.clear(),this._folderMatches=(e.folderQueries||[]).map(function(e){return e.folder}).map(function(i,n){return t.createFolderMatch(i,i.toString(),n,e)}),this._folderMatches.forEach(function(e){return t._folderMatchesMap.set(e.resource().toString(),e)}),
this._otherFilesMatch=this.createFolderMatch(null,"otherFiles",this._folderMatches.length+1,e),this._query=e},enumerable:!0,configurable:!0}),t.prototype.createFolderMatch=function(e,t,i,n){var r=this,o=this.instantiationService.createInstance(A,e,t,i,n,this,this._searchModel),s=o.onChange(function(e){return r._onChange.fire(e)});return o.onDispose(function(){return s.dispose()}),o},Object.defineProperty(t.prototype,"searchModel",{get:function(){return this._searchModel},enumerable:!0,configurable:!0}),t.prototype.add=function(e,t){var i=this;void 0===t&&(t=!1);var n=new d.ResourceMap,r=[];this._folderMatches.forEach(function(e){return n.set(e.resource(),[])}),e.forEach(function(e){var t=i.getFolderMatch(e.resource);t&&(t.resource()?n.get(t.resource()).push(e):r.push(e))}),n.forEach(function(e){if(e.length){var n=i.getFolderMatch(e[0].resource);n&&n.add(e,t)}}),this.otherFiles.add(r,t)},t.prototype.clear=function(){this.folderMatches().forEach(function(e){return e.clear()}),this.disposeMatches()},
t.prototype.remove=function(e){e instanceof R?this.getFolderMatch(e.resource()).remove(e):e.clear()},t.prototype.replace=function(e){return this.getFolderMatch(e.resource()).replace(e)},t.prototype.replaceAll=function(e){var t=this;this.replacingAll=!0;var i=this.replaceService.replace(this.matches(),e);return c.stopwatch(c.fromPromise(i))(function(e){return t.telemetryService.publicLog("replaceAll.started",{duration:e})}),i.then(function(){t.replacingAll=!1,t.clear()},function(){t.replacingAll=!1})},t.prototype.folderMatches=function(){return this._otherFilesMatch?this._folderMatches.concat(this._otherFilesMatch):this._folderMatches.concat()},t.prototype.matches=function(){var e=[];return this.folderMatches().forEach(function(t){e.push(t.matches())}),[].concat.apply([],e)},t.prototype.isEmpty=function(){return this.folderMatches().every(function(e){return e.isEmpty()})},t.prototype.fileCount=function(){return this.folderMatches().reduce(function(e,t){return e+t.fileCount()},0)},t.prototype.count=function(){
return this.matches().reduce(function(e,t){return e+t.count()},0)},Object.defineProperty(t.prototype,"showHighlights",{get:function(){return this._showHighlights},enumerable:!0,configurable:!0}),t.prototype.toggleHighlights=function(e){if(this._showHighlights!==e){this._showHighlights=e;var t=null;this.matches().forEach(function(e){e.updateHighlights(),t||(t=e.getSelectedMatch())}),this._showHighlights&&t?this._rangeHighlightDecorations.highlightRange(t.parent().resource(),t.range()):this._rangeHighlightDecorations.removeHighlightRange()}},Object.defineProperty(t.prototype,"rangeHighlightDecorations",{get:function(){return this._rangeHighlightDecorations},enumerable:!0,configurable:!0}),t.prototype.getFolderMatch=function(e){var t=this._folderMatchesMap.findSubstr(e.toString());return t||this.otherFiles},Object.defineProperty(t.prototype,"otherFiles",{get:function(){return this._otherFilesMatch},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replacingAll",{set:function(e){
this.folderMatches().forEach(function(t){t.replacingAll=e})},enumerable:!0,configurable:!0}),t.prototype.disposeMatches=function(){this.folderMatches().forEach(function(e){return e.dispose()}),this._folderMatches=[],this._otherFilesMatch=null,this._folderMatchesMap=d.TernarySearchTree.forPaths(),this._rangeHighlightDecorations.removeHighlightRange()},t.prototype.dispose=function(){this.disposeMatches(),this._rangeHighlightDecorations.dispose(),e.prototype.dispose.call(this)},t=r([o(1,I.IReplaceService),o(2,_.ITelemetryService),o(3,S.IInstantiationService)],t)}(u.Disposable);t.SearchResult=O;var k=function(e){function t(t,i,n){var r=e.call(this)||this;return r.searchService=t,r.telemetryService=i,r.instantiationService=n,r._searchQuery=null,r._replaceActive=!1,r._replaceString=null,r._replacePattern=null,r._onReplaceTermChanged=r._register(new c.Emitter),r.onReplaceTermChanged=r._onReplaceTermChanged.event,r._searchResult=r.instantiationService.createInstance(O,r),r}return i(t,e),
t.prototype.isReplaceActive=function(){return this._replaceActive},Object.defineProperty(t.prototype,"replaceActive",{set:function(e){this._replaceActive=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replacePattern",{get:function(){return this._replacePattern},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replaceString",{get:function(){return this._replaceString},set:function(e){this._replaceString=e,this._searchQuery&&(this._replacePattern=new b.ReplacePattern(e,this._searchQuery.contentPattern)),this._onReplaceTermChanged.fire()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchResult",{get:function(){return this._searchResult},enumerable:!0,configurable:!0}),t.prototype.search=function(e,t){var i=this;this.cancelSearch(),this._searchQuery=e,this.searchResult.clear(),this._searchResult.query=this._searchQuery;var n=new c.Emitter;this._replacePattern=new b.ReplacePattern(this._replaceString,this._searchQuery.contentPattern)
;var r=this.currentCancelTokenSource=new s.CancellationTokenSource,o=this.searchService.textSearch(this._searchQuery,this.currentCancelTokenSource.token,function(e){n.fire(),i.onSearchProgress(e),t&&t(e)}),a=function(){return r.dispose()};o.then(a,a);var l=c.fromPromise(o),u=c.anyEvent(l,n.event);c.stopwatch(u)(function(e){return i.telemetryService.publicLog("searchResultsFirstRender",{duration:e})});var d=c.stopwatch(l),p=Date.now();return d(function(e){return i.telemetryService.publicLog("searchResultsFinished",{duration:e})}),o.then(function(e){return i.onSearchCompleted(e,Date.now()-p)},function(e){return i.onSearchError(e,Date.now()-p)}),o},t.prototype.onSearchCompleted=function(e,t){var i=p.assign({},this._searchQuery.contentPattern);delete i.pattern;var n=e&&e.stats,r=this._searchQuery.folderQueries.every(function(e){return"file"===e.folder.scheme}),o=this._searchQuery.folderQueries.every(function(e){return"file"!==e.folder.scheme}),s=r?"file":o?"other":"mixed"
;return this.telemetryService.publicLog("searchResultsShown",{count:this._searchResult.count(),fileCount:this._searchResult.fileCount(),options:i,duration:t,useRipgrep:this._searchQuery.useRipgrep,type:n&&n.type,scheme:s}),e},t.prototype.onSearchError=function(e,t){a.isPromiseCanceledError(e)&&this.onSearchCompleted(null,t)},t.prototype.onSearchProgress=function(e){e.resource&&this._searchResult.add([e],!0)},t.prototype.cancelSearch=function(){return!!this.currentCancelTokenSource&&(this.currentCancelTokenSource.cancel(),!0)},t.prototype.dispose=function(){this.cancelSearch(),this.searchResult.dispose(),e.prototype.dispose.call(this)},t=r([o(0,E.ISearchService),o(1,_.ITelemetryService),o(2,S.IInstantiationService)],t)}(u.Disposable);t.SearchModel=k;var M=function(){function e(e){this.instantiationService=e}return Object.defineProperty(e.prototype,"searchModel",{get:function(){return this._searchModel||(this._searchModel=this.instantiationService.createInstance(k)),this._searchModel},enumerable:!0,
configurable:!0}),e=r([o(0,S.IInstantiationService)],e)}();t.SearchWorkbenchService=M,t.ISearchWorkbenchService=S.createDecorator("searchWorkbenchService");var P=function(){function e(e){this._modelService=e,this._decorationId=null,this._model=null,this._modelDisposables=[]}return e.prototype.removeHighlightRange=function(){this._model&&this._decorationId&&this._model.deltaDecorations([this._decorationId],[]),this._decorationId=null},e.prototype.highlightRange=function(e,t,i){void 0===i&&(i=0);var n;(n=f.URI.isUri(e)?this._modelService.getModel(e):e)&&this.doHighlightRange(n,t)},e.prototype.doHighlightRange=function(t,i){this.removeHighlightRange(),this._decorationId=t.deltaDecorations([],[{range:i,options:e._RANGE_HIGHLIGHT_DECORATION}])[0],this.setModel(t)},e.prototype.setModel=function(e){var t=this;this._model!==e&&(this.disposeModelListeners(),this._model=e,this._modelDisposables.push(this._model.onDidChangeDecorations(function(e){t.disposeModelListeners(),t.removeHighlightRange(),t._model=null})),
this._modelDisposables.push(this._model.onWillDispose(function(){t.disposeModelListeners(),t.removeHighlightRange(),t._model=null})))},e.prototype.disposeModelListeners=function(){this._modelDisposables.forEach(function(e){return e.dispose()}),this._modelDisposables=[]},e.prototype.dispose=function(){this._model&&(this.removeHighlightRange(),this.disposeModelListeners(),this._model=null)},e._RANGE_HIGHLIGHT_DECORATION=m.ModelDecorationOptions.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),e=r([o(0,y.IModelService)],e)}();t.RangeHighlightDecorations=P}),define(e[448],t([1,0,5,28,29]),function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.storageService=e,this._onDidClearHistory=new i.Emitter,this.onDidClearHistory=this._onDidClearHistory.event}return e.prototype.clearHistory=function(){this.storageService.remove(e.SEARCH_HISTORY_KEY,1),this._onDidClearHistory.fire()},e.prototype.load=function(){
var t,i=this.storageService.get(e.SEARCH_HISTORY_KEY,1);if(i)try{t=JSON.parse(i)}catch(e){}return t||{}},e.prototype.save=function(t){s.isEmptyObject(t)?this.storageService.remove(e.SEARCH_HISTORY_KEY,1):this.storageService.store(e.SEARCH_HISTORY_KEY,JSON.stringify(t),1)},e.SEARCH_HISTORY_KEY="workbench.search.history",e=r([o(0,n.IStorageService)],e)}();t.SearchHistoryService=a}),define(e[449],t([1,0,2,78,183]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.grammarsExtPoint=n.ExtensionsRegistry.registerExtensionPoint("grammars",[r.languagesExtPoint],{description:i.localize("vscode.extension.contributes.grammars","Contributes textmate tokenizers."),type:"array",defaultSnippets:[{body:[{language:"${1:id}",scopeName:"source.${2:id}",path:"./syntaxes/${3:id}.tmLanguage."}]}],items:{type:"object",defaultSnippets:[{body:{language:"${1:id}",scopeName:"source.${2:id}",path:"./syntaxes/${3:id}.tmLanguage."}}],properties:{language:{
description:i.localize("vscode.extension.contributes.grammars.language","Language identifier for which this syntax is contributed to."),type:"string"},scopeName:{description:i.localize("vscode.extension.contributes.grammars.scopeName","Textmate scope name used by the tmLanguage file."),type:"string"},path:{description:i.localize("vscode.extension.contributes.grammars.path","Path of the tmLanguage file. The path is relative to the extension folder and typically starts with './syntaxes/'."),type:"string"},embeddedLanguages:{description:i.localize("vscode.extension.contributes.grammars.embeddedLanguages","A map of scope name to language id if this grammar contains embedded languages."),type:"object"},tokenTypes:{description:i.localize("vscode.extension.contributes.grammars.tokenTypes","A map of scope name to token types."),type:"object",additionalProperties:{enum:["string","comment","other"]}},injectTo:{
description:i.localize("vscode.extension.contributes.grammars.injectTo","List of language scope names to which this grammar is injected to."),type:"array",items:{type:"string"}}},required:["scopeName","path"]}})}),define(e[246],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITextMateService=i.createDecorator("textMateService")}),define(e[451],t([1,0,2,73,29,223,36,16,117,7,45,246]),function(e,t,i,n,s,a,c,l,u,d,p,h){"use strict";function f(e){if(!Array.isArray(e))return!1;for(var t=0,i=e.length;t<i;t++)if("string"!=typeof e[t])return!1;return!0}function g(e){return f(e)&&2===e.length}Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(e,t,i,n){var r=this;this._modeService=t,this._fileService=i,this._extensionService=n,this._done=[],this._modeService.onDidCreateMode(function(e){var t=e.getLanguageIdentifier();r._extensionService.whenInstalledExtensionsRegistered().then(function(){r._loadConfigurationsForMode(t)})}),
e.onDidEncounterLanguage(function(e){r._loadConfigurationsForMode(r._modeService.getLanguageIdentifier(e))})}return e.prototype._loadConfigurationsForMode=function(e){var t=this;if(!this._done[e.id]){this._done[e.id]=!0;this._modeService.getConfigurationFiles(e.language).forEach(function(i){return t._handleConfigFile(e,i)})}},e.prototype._handleConfigFile=function(e,t){var r=this;this._fileService.resolveContent(t,{encoding:"utf8"}).then(function(o){var s=[],a=n.parse(o.value.toString(),s);s.length&&console.error(i.localize("parseErrors","Errors parsing {0}: {1}",t.toString(),s.join("\n"))),r._handleConfig(e,a)},function(e){console.error(e)})},e.prototype._extractValidCommentRule=function(e,t){var i=t.comments;if(void 0===i)return null;if(!s.isObject(i))return console.warn("["+e.language+"]: language configuration: expected `comments` to be an object."),null;var n=null
;return void 0!==i.lineComment&&("string"!=typeof i.lineComment?console.warn("["+e.language+"]: language configuration: expected `comments.lineComment` to be a string."):(n=n||{}).lineComment=i.lineComment),void 0!==i.blockComment&&(g(i.blockComment)?(n=n||{}).blockComment=i.blockComment:console.warn("["+e.language+"]: language configuration: expected `comments.blockComment` to be an array of two strings.")),n},e.prototype._extractValidBrackets=function(e,t){var i=t.brackets;if(void 0===i)return null;if(!Array.isArray(i))return console.warn("["+e.language+"]: language configuration: expected `brackets` to be an array."),null;for(var n=null,r=0,o=i.length;r<o;r++){var s=i[r];g(s)?(n=n||[]).push(s):console.warn("["+e.language+"]: language configuration: expected `brackets["+r+"]` to be an array of two strings.")}return n},e.prototype._extractValidAutoClosingPairs=function(e,t){var i=t.autoClosingPairs;if(void 0===i)return null
;if(!Array.isArray(i))return console.warn("["+e.language+"]: language configuration: expected `autoClosingPairs` to be an array."),null;for(var n=null,r=0,o=i.length;r<o;r++){var a=i[r];if(Array.isArray(a)){if(!g(a)){console.warn("["+e.language+"]: language configuration: expected `autoClosingPairs["+r+"]` to be an array of two strings or an object.");continue}(n=n||[]).push({open:a[0],close:a[1]})}else{if(!s.isObject(a)){console.warn("["+e.language+"]: language configuration: expected `autoClosingPairs["+r+"]` to be an array of two strings or an object.");continue}if("string"!=typeof a.open){console.warn("["+e.language+"]: language configuration: expected `autoClosingPairs["+r+"].open` to be a string.");continue}if("string"!=typeof a.close){console.warn("["+e.language+"]: language configuration: expected `autoClosingPairs["+r+"].close` to be a string.");continue}if(void 0!==a.notIn&&!f(a.notIn)){
console.warn("["+e.language+"]: language configuration: expected `autoClosingPairs["+r+"].notIn` to be a string array.");continue}(n=n||[]).push({open:a.open,close:a.close,notIn:a.notIn})}}return n},e.prototype._extractValidSurroundingPairs=function(e,t){var i=t.surroundingPairs;if(void 0===i)return null;if(!Array.isArray(i))return console.warn("["+e.language+"]: language configuration: expected `surroundingPairs` to be an array."),null;for(var n=null,r=0,o=i.length;r<o;r++){var a=i[r];if(Array.isArray(a)){if(!g(a)){console.warn("["+e.language+"]: language configuration: expected `surroundingPairs["+r+"]` to be an array of two strings or an object.");continue}(n=n||[]).push({open:a[0],close:a[1]})}else{if(!s.isObject(a)){console.warn("["+e.language+"]: language configuration: expected `surroundingPairs["+r+"]` to be an array of two strings or an object.");continue}if("string"!=typeof a.open){console.warn("["+e.language+"]: language configuration: expected `surroundingPairs["+r+"].open` to be a string.")
;continue}if("string"!=typeof a.close){console.warn("["+e.language+"]: language configuration: expected `surroundingPairs["+r+"].close` to be a string.");continue}(n=n||[]).push({open:a.open,close:a.close})}}return n},e.prototype._handleConfig=function(e,t){var i={},n=this._extractValidCommentRule(e,t);n&&(i.comments=n);var r=this._extractValidBrackets(e,t);r&&(i.brackets=r);var o=this._extractValidAutoClosingPairs(e,t);o&&(i.autoClosingPairs=o);var s=this._extractValidSurroundingPairs(e,t);s&&(i.surroundingPairs=s);var c=t.autoCloseBefore;if("string"==typeof c&&(i.autoCloseBefore=c),t.wordPattern)try{var l=this._parseRegex(t.wordPattern);l&&(i.wordPattern=l)}catch(e){}if(t.indentationRules){var u=this._mapIndentationRules(t.indentationRules);u&&(i.indentationRules=u)}if(t.folding){var d=t.folding.markers;i.folding={offSide:t.folding.offSide,markers:d?{start:new RegExp(d.start),end:new RegExp(d.end)}:void 0}}a.LanguageConfigurationRegistry.register(e,i)},e.prototype._parseRegex=function(e){
return"string"==typeof e?new RegExp(e,""):"object"==typeof e?new RegExp(e.pattern,e.flags):null},e.prototype._mapIndentationRules=function(e){try{var t=this._parseRegex(e.increaseIndentPattern),i=this._parseRegex(e.decreaseIndentPattern);if(t&&i){var n={increaseIndentPattern:t,decreaseIndentPattern:i};return e.indentNextLinePattern&&(n.indentNextLinePattern=this._parseRegex(e.indentNextLinePattern)),e.unIndentedLinePattern&&(n.unIndentedLinePattern=this._parseRegex(e.unIndentedLinePattern)),n}}catch(e){}return null},e=r([o(0,h.ITextMateService),o(1,c.IModeService),o(2,l.IFileService),o(3,p.IExtensionService)],e)}();t.LanguageConfigurationFileHandler=v;var m={allowComments:!0,default:{comments:{blockComment:["/*","*/"],lineComment:"//"},brackets:[["(",")"],["[","]"],["{","}"]],autoClosingPairs:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[["(",")"],["[","]"],["{","}"]]},definitions:{openBracket:{type:"string",description:i.localize("schema.openBracket","The opening bracket character or string sequence.")},
closeBracket:{type:"string",description:i.localize("schema.closeBracket","The closing bracket character or string sequence.")},bracketPair:{type:"array",items:[{$ref:"#definitions/openBracket"},{$ref:"#definitions/closeBracket"}]}},properties:{comments:{default:{blockComment:["/*","*/"],lineComment:"//"},description:i.localize("schema.comments","Defines the comment symbols"),type:"object",properties:{blockComment:{type:"array",description:i.localize("schema.blockComments","Defines how block comments are marked."),items:[{type:"string",description:i.localize("schema.blockComment.begin","The character sequence that starts a block comment.")},{type:"string",description:i.localize("schema.blockComment.end","The character sequence that ends a block comment.")}]},lineComment:{type:"string",description:i.localize("schema.lineComment","The character sequence that starts a line comment.")}}},brackets:{default:[["(",")"],["[","]"],["{","}"]],
description:i.localize("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),type:"array",items:{$ref:"#definitions/bracketPair"}},autoClosingPairs:{default:[["(",")"],["[","]"],["{","}"]],description:i.localize("schema.autoClosingPairs","Defines the bracket pairs. When a opening bracket is entered, the closing bracket is inserted automatically."),type:"array",items:{oneOf:[{$ref:"#definitions/bracketPair"},{type:"object",properties:{open:{$ref:"#definitions/openBracket"},close:{$ref:"#definitions/closeBracket"},notIn:{type:"array",description:i.localize("schema.autoClosingPairs.notIn","Defines a list of scopes where the auto pairs are disabled."),items:{enum:["string","comment"]}}}}]}},autoCloseBefore:{default:";:.,=}])> \n\t",
description:i.localize("schema.autoCloseBefore","Defines what characters must be after the cursor in order for bracket or quote autoclosing to occur when using the 'languageDefined' autoclosing setting. This is typically the set of characters which can not start an expression."),type:"string"},surroundingPairs:{default:[["(",")"],["[","]"],["{","}"]],description:i.localize("schema.surroundingPairs","Defines the bracket pairs that can be used to surround a selected string."),type:"array",items:{oneOf:[{$ref:"#definitions/bracketPair"},{type:"object",properties:{open:{$ref:"#definitions/openBracket"},close:{$ref:"#definitions/closeBracket"}}}]}},wordPattern:{default:"",description:i.localize("schema.wordPattern","The word definition for the language."),type:["string","object"],properties:{pattern:{type:"string",description:i.localize("schema.wordPattern.pattern","The RegExp pattern used to match words."),default:""},flags:{type:"string",
description:i.localize("schema.wordPattern.flags","The RegExp flags used to match words."),default:"g",pattern:"^([gimuy]+)$",patternErrorMessage:i.localize("schema.wordPattern.flags.errorMessage","Must match the pattern `/^([gimuy]+)$/`.")}}},indentationRules:{default:{increaseIndentPattern:"",decreaseIndentPattern:""},description:i.localize("schema.indentationRules","The language's indentation settings."),type:"object",properties:{increaseIndentPattern:{type:["string","object"],description:i.localize("schema.indentationRules.increaseIndentPattern","If a line matches this pattern, then all the lines after it should be indented once (until another rule matches)."),properties:{pattern:{type:"string",description:i.localize("schema.indentationRules.increaseIndentPattern.pattern","The RegExp pattern for increaseIndentPattern."),default:""},flags:{type:"string",description:i.localize("schema.indentationRules.increaseIndentPattern.flags","The RegExp flags for increaseIndentPattern."),default:"",
pattern:"^([gimuy]+)$",patternErrorMessage:i.localize("schema.indentationRules.increaseIndentPattern.errorMessage","Must match the pattern `/^([gimuy]+)$/`.")}}},decreaseIndentPattern:{type:["string","object"],description:i.localize("schema.indentationRules.decreaseIndentPattern","If a line matches this pattern, then all the lines after it should be unindented once (until another rule matches)."),properties:{pattern:{type:"string",description:i.localize("schema.indentationRules.decreaseIndentPattern.pattern","The RegExp pattern for decreaseIndentPattern."),default:""},flags:{type:"string",description:i.localize("schema.indentationRules.decreaseIndentPattern.flags","The RegExp flags for decreaseIndentPattern."),default:"",pattern:"^([gimuy]+)$",patternErrorMessage:i.localize("schema.indentationRules.decreaseIndentPattern.errorMessage","Must match the pattern `/^([gimuy]+)$/`.")}}},indentNextLinePattern:{type:["string","object"],
description:i.localize("schema.indentationRules.indentNextLinePattern","If a line matches this pattern, then **only the next line** after it should be indented once."),properties:{pattern:{type:"string",description:i.localize("schema.indentationRules.indentNextLinePattern.pattern","The RegExp pattern for indentNextLinePattern."),default:""},flags:{type:"string",description:i.localize("schema.indentationRules.indentNextLinePattern.flags","The RegExp flags for indentNextLinePattern."),default:"",pattern:"^([gimuy]+)$",patternErrorMessage:i.localize("schema.indentationRules.indentNextLinePattern.errorMessage","Must match the pattern `/^([gimuy]+)$/`.")}}},unIndentedLinePattern:{type:["string","object"],description:i.localize("schema.indentationRules.unIndentedLinePattern","If a line matches this pattern, then its indentation should not be changed and it should not be evaluated against the other rules."),properties:{pattern:{type:"string",
description:i.localize("schema.indentationRules.unIndentedLinePattern.pattern","The RegExp pattern for unIndentedLinePattern."),default:""},flags:{type:"string",description:i.localize("schema.indentationRules.unIndentedLinePattern.flags","The RegExp flags for unIndentedLinePattern."),default:"",pattern:"^([gimuy]+)$",patternErrorMessage:i.localize("schema.indentationRules.unIndentedLinePattern.errorMessage","Must match the pattern `/^([gimuy]+)$/`.")}}}}},folding:{type:"object",description:i.localize("schema.folding","The language's folding settings."),properties:{offSide:{type:"boolean",description:i.localize("schema.folding.offSide","A language adheres to the off-side rule if blocks in that language are expressed by their indentation. If set, empty lines belong to the subsequent block.")},markers:{type:"object",
description:i.localize("schema.folding.markers","Language specific folding markers such as '#region' and '#endregion'. The start and end regexes will be tested against the contents of all lines and must be designed efficiently"),properties:{start:{type:"string",description:i.localize("schema.folding.markers.start","The RegExp pattern for the start marker. The regexp must start with '^'.")},end:{type:"string",description:i.localize("schema.folding.markers.end","The RegExp pattern for the end marker. The regexp must start with '^'.")}}}}}}};d.Registry.as(u.Extensions.JSONContribution).registerSchema("vscode://schemas/language-configuration",m)}),define(e[31],t([1,0,4,11]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._resource=e.getResource(),this._kind=t}return Object.defineProperty(e.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kind",{get:function(){
return this._kind},enumerable:!0,configurable:!0}),e}();t.TextFileModelChangeEvent=r,t.TEXT_FILE_SERVICE_ID="textFileService",t.AutoSaveContext=new n.RawContextKey("config.files.autoSave",void 0),t.ITextFileService=i.createDecorator(t.TEXT_FILE_SERVICE_ID)}),define(e[453],t([1,0,3,16,40,35,31]),function(e,t,i,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t,i){this._listener=new Array;var n=e.getProxy(a.ExtHostContext.ExtHostFileSystemEventService),r={created:[],changed:[],deleted:[]};t.onFileChanges(function(e){for(var t=0,i=e.changes;t<i.length;t++){var o=i[t];switch(o.type){case 1:r.created.push(o.resource);break;case 0:r.changed.push(o.resource);break;case 2:r.deleted.push(o.resource)}}n.$onFileEvent(r),r.created.length=0,r.changed.length=0,r.deleted.length=0},void 0,this._listener),t.onAfterOperation(function(e){2===e.operation&&n.$onFileRename(e.resource,e.target.resource)},void 0,this._listener),i.onWillMove(function(e){
var t=n.$onWillRename(e.oldResource,e.newResource);e.waitUntil(t)},void 0,this._listener)}return e.prototype.dispose=function(){i.dispose(this._listener)},e=r([s.extHostCustomer,o(1,n.IFileService),o(2,c.ITextFileService)],e)}();t.MainThreadFileSystemEventService=l}),define(e[133],t([1,0,2,39,29,211,82,28,4,30,12,31,106,63,41,10,42]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b="textEditorViewState",E=function(e){function t(t,i,n,r,o,s,a,c,l,u){var d=e.call(this,t,i,s,r)||this;return d._instantiationService=n,d._configurationService=o,d.themeService=s,d._textFileService=a,d.editorService=c,d.editorGroupService=l,d.windowService=u,d.editorMemento=d.getEditorMemento(l,b,100),d._register(d.configurationService.onDidChangeConfiguration(function(e){return d.handleConfigurationChangeEvent(d.configurationService.getValue(d.getResource()))})),d}return i(t,e),Object.defineProperty(t.prototype,"instantiationService",{get:function(){
return this._instantiationService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"configurationService",{get:function(){return this._configurationService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textFileService",{get:function(){return this._textFileService},enumerable:!0,configurable:!0}),t.prototype.handleConfigurationChangeEvent=function(e){this.isVisible()?this.updateEditorConfiguration(e):this.hasPendingConfigurationChange=!0},t.prototype.consumePendingConfigurationChangeEvent=function(){this.hasPendingConfigurationChange&&(this.updateEditorConfiguration(),this.hasPendingConfigurationChange=!1)},t.prototype.computeConfiguration=function(e){var t=a.isObject(e.editor)?s.deepClone(e.editor):Object.create(null);return s.assign(t,this.getConfigurationOverrides()),t.ariaLabel=this.computeAriaLabel(),t},t.prototype.computeAriaLabel=function(){var e=this.getAriaLabel();return e&&this.group&&(e=n.localize("editorLabelWithGroup","{0}, {1}.",e,this.group.label)),e},
t.prototype.getConfigurationOverrides=function(){var e={};return s.assign(e,{overviewRulerLanes:3,lineNumbersMinChars:3,fixedOverflowWidgets:!0}),e},t.prototype.createEditor=function(e){var t=this;this._editorContainer=e,this.editorControl=this._register(this.createEditorControl(e,this.computeConfiguration(this.configurationService.getValue(this.getResource()))));var i=v.getCodeEditor(this.editorControl);i&&(this._register(i.onDidChangeModelLanguage(function(e){return t.updateEditorConfiguration()})),this._register(i.onDidChangeModel(function(e){return t.updateEditorConfiguration()}))),v.isCodeEditor(this.editorControl)?this._register(this.editorControl.onDidBlurEditorWidget(function(){return t.onEditorFocusLost()})):v.isDiffEditor(this.editorControl)&&(this._register(this.editorControl.getOriginalEditor().onDidBlurEditorWidget(function(){return t.onEditorFocusLost()})),this._register(this.editorControl.getModifiedEditor().onDidBlurEditorWidget(function(){return t.onEditorFocusLost()}))),
this._register(this.editorService.onDidActiveEditorChange(function(){return t.onEditorFocusLost()})),this._register(this.windowService.onDidChangeFocus(function(e){return t.onWindowFocusChange(e)}))},t.prototype.onEditorFocusLost=function(){this.maybeTriggerSaveAll(3)},t.prototype.onWindowFocusChange=function(e){e||this.maybeTriggerSaveAll(4)},t.prototype.maybeTriggerSaveAll=function(e){var t=this.textFileService.getAutoSaveMode();(4===e&&(3===t||4===t)||3===e&&3===t)&&this.textFileService.isDirty()&&this.textFileService.saveAll(void 0,{reason:e})},t.prototype.createEditorControl=function(e,t){return this.instantiationService.createInstance(c.CodeEditorWidget,e,t,{})},t.prototype.setInput=function(t,i,n){var r=this;return e.prototype.setInput.call(this,t,i,n).then(function(){r.updateEditorConfiguration(),r._editorContainer.setAttribute("aria-label",r.computeAriaLabel())})},t.prototype.setEditorVisible=function(t,i){t?(this.consumePendingConfigurationChangeEvent(),
this.editorControl.onVisible()):this.editorControl.onHide(),e.prototype.setEditorVisible.call(this,t,i)},t.prototype.focus=function(){this.editorControl.focus()},t.prototype.layout=function(e){this.editorControl.layout(e)},t.prototype.getControl=function(){return this.editorControl},t.prototype.saveTextEditorViewState=function(e){var t=this.retrieveTextEditorViewState(e);t&&this.editorMemento.saveEditorState(this.group,e,t)},t.prototype.retrieveTextEditorViewState=function(e){var t=this.getControl(),i=t.getModel();if(!i)return null;var n=i.uri;return n?n.toString()!==e.toString()?null:t.saveViewState():null},t.prototype.clearTextEditorViewState=function(e,t){var i=this;e.forEach(function(e){i.editorMemento.clearEditorState(e,t)})},t.prototype.loadTextEditorViewState=function(e){return this.editorMemento.loadEditorState(this.group,e)},t.prototype.updateEditorConfiguration=function(e){if(void 0===e&&(e=this.configurationService.getValue(this.getResource())),this.editorControl){
var t=this.computeConfiguration(e),i=t;this.lastAppliedEditorOptions&&(i=s.distinct(this.lastAppliedEditorOptions,i)),Object.keys(i).length>0&&(this.lastAppliedEditorOptions=t,this.editorControl.updateOptions(i))}},t.prototype.getResource=function(){var e=v.getCodeEditor(this.editorControl);if(e){var t=e.getModel();if(t)return t.uri}return this.input?this.input.getResource():null},t.prototype.dispose=function(){this.lastAppliedEditorOptions=void 0,e.prototype.dispose.call(this)},t=r([o(1,p.ITelemetryService),o(2,d.IInstantiationService),o(3,u.IStorageService),o(4,g.ITextResourceConfigurationService),o(5,h.IThemeService),o(6,f.ITextFileService),o(7,y.IEditorService),o(8,m.IEditorGroupsService),o(9,S.IWindowService)],t)}(l.BaseEditor);t.BaseTextEditor=E}),define(e[249],t([1,0,15,2,39,29,133,17,116,136,456,560,195,30,28,106,4,12,31,3,7,6,5,41,10,82,42]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=function(e){
function t(i,n,r,o,s,a,c,l,u){var d=e.call(this,t.ID,i,n,r,o,a,l,s,c,u)||this;return d.diffNavigatorDisposables=[],d}return i(t,e),t.prototype.getEditorMemento=function(e,t,i){return void 0===i&&(i=10),new T.EditorMemento(this.getId(),t,Object.create(null),i,e)},t.prototype.getTitle=function(){return this.input?this.input.getName():s.localize("textDiffEditor","Text Diff Editor")},t.prototype.createEditorControl=function(e,t){return this.instantiationService.createInstance(f.DiffEditorWidget,e,t)},t.prototype.setInput=function(t,i,r){var o=this;return this.diffNavigatorDisposables=_.dispose(this.diffNavigatorDisposables),this.saveTextDiffEditorViewState(this.input),e.prototype.setInput.call(this,t,i,r).then(function(){return t.resolve().then(function(e){if(!r.isCancellationRequested&&(e instanceof g.TextDiffEditorModel||!o.openAsBinary(t,i))){var n=o.getControl(),s=e;n.setModel(s.textDiffEditorModel);var a=!1;i&&c.isFunction(i.apply)&&(a=i.apply(n,1));var l=!1;a||(l=o.restoreTextDiffEditorViewState(t)),
o.diffNavigator=new h.DiffNavigator(n,{alwaysRevealFirst:!a&&!l}),o.diffNavigatorDisposables.push(o.diffNavigator),n.updateOptions({readOnly:s.isReadonly()})}},function(e){return o.isFileBinaryError(e)&&o.openAsBinary(t,i)?null:n.TPromise.wrapError(e)})})},t.prototype.setOptions=function(e){var t=e;t&&c.isFunction(t.apply)&&t.apply(this.getControl(),0)},t.prototype.restoreTextDiffEditorViewState=function(e){if(e instanceof p.DiffEditorInput){var t=this.toDiffEditorViewStateResource(e);if(t){var i=this.loadTextEditorViewState(t);if(i)return this.getControl().restoreViewState(i),!0}}return!1},t.prototype.openAsBinary=function(e,t){if(e instanceof p.DiffEditorInput){var i=e.originalInput,n=e.modifiedInput,r=new p.DiffEditorInput(e.getName(),e.getDescription(),i,n,!0),o=C.Registry.as(u.Extensions.EditorInputFactories).getFileInputFactory();return o.isFileInput(i)&&i.setForceOpenAsBinary(),o.isFileInput(n)&&n.setForceOpenAsBinary(),this.editorService.openEditor(r,t,this.group),!0}return!1},
t.prototype.computeConfiguration=function(t){var i=e.prototype.computeConfiguration.call(this,t);return c.isObject(t.diffEditor)&&a.mixin(i,t.diffEditor),i},t.prototype.getConfigurationOverrides=function(){var t=e.prototype.getConfigurationOverrides.call(this);return t.readOnly=this.isReadOnly(),t.lineDecorationsWidth="2ch",t},t.prototype.getAriaLabel=function(){var e=this.input&&this.input.getName();return this.isReadOnly()?e?s.localize("readonlyEditorWithInputAriaLabel","{0}. Readonly text compare editor.",e):s.localize("readonlyEditorAriaLabel","Readonly text compare editor."):e?s.localize("editableEditorWithInputAriaLabel","{0}. Text file compare editor.",e):s.localize("editableEditorAriaLabel","Text file compare editor.")},t.prototype.isReadOnly=function(){var e=this.input;if(e instanceof p.DiffEditorInput){return e.modifiedInput instanceof d.ResourceEditorInput}return!1},t.prototype.isFileBinaryError=function(e){var t=this;if(c.isArray(e)){return e.some(function(e){return t.isFileBinaryError(e)})}
return 0===e.fileOperationResult},t.prototype.clearInput=function(){this.diffNavigatorDisposables=_.dispose(this.diffNavigatorDisposables),this.saveTextDiffEditorViewState(this.input),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.getDiffNavigator=function(){return this.diffNavigator},t.prototype.getControl=function(){return e.prototype.getControl.call(this)},t.prototype.loadTextEditorViewState=function(t){return e.prototype.loadTextEditorViewState.call(this,t)},t.prototype.saveTextDiffEditorViewState=function(t){var i=this;if(t instanceof p.DiffEditorInput){var n=this.toDiffEditorViewStateResource(t);n&&(t.isDisposed()?e.prototype.clearTextEditorViewState.call(this,[n]):(e.prototype.saveTextEditorViewState.call(this,n),I.once(t.onDispose)(function(){e.prototype.clearTextEditorViewState.call(i,[n])})))}},t.prototype.retrieveTextEditorViewState=function(e){return this.retrieveTextDiffEditorViewState(e)},t.prototype.retrieveTextDiffEditorViewState=function(e){
var t=this.getControl(),i=t.getModel();if(!i||!i.modified||!i.original)return null;var n=this.toDiffEditorViewStateResource(i);return n?n.toString()!==e.toString()?null:t.saveViewState():null},t.prototype.toDiffEditorViewStateResource=function(e){var t,i;return e instanceof p.DiffEditorInput?(t=e.originalInput.getResource(),i=e.modifiedInput.getResource()):(t=e.original.uri,i=e.modified.uri),t&&i?w.URI.from({scheme:"diff",path:""+btoa(t.toString())+btoa(i.toString())}):null},t.prototype.dispose=function(){this.diffNavigatorDisposables=_.dispose(this.diffNavigatorDisposables),e.prototype.dispose.call(this)},t.ID=u.TEXT_DIFF_EDITOR_ID,t=r([o(0,v.ITelemetryService),o(1,S.IInstantiationService),o(2,m.IStorageService),o(3,y.ITextResourceConfigurationService),o(4,D.IEditorService),o(5,b.IThemeService),o(6,x.IEditorGroupsService),o(7,E.ITextFileService),o(8,R.IWindowService)],t)}(l.BaseTextEditor);t.TextDiffEditor=A}),
define(e[123],t([1,0,2,29,74,17,10,134,249,69,6,54,59,520,19,41,11,9,34,26,25]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b){"use strict";function E(){r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.MOVE_ACTIVE_EDITOR_COMMAND_ID,weight:200,when:a.EditorContextKeys.editorTextFocus,primary:0,handler:function(e,t){return function(e,t){void 0===e&&(e=Object.create(null));e.to=e.to||"right",e.by=e.by||"tab",e.value="number"==typeof e.value?e.value:1;var i=t.get(s.IEditorService).activeControl;if(i)switch(e.by){case"tab":return function(e,t,i){var n=t.group,r=n.getIndexOfEditor(t.input);switch(e.to){case"first":r=0;break;case"last":r=n.count-1;break;case"left":r-=e.value;break;case"right":r+=e.value;break;case"center":r=Math.round(n.count/2)-1;break;case"position":r=e.value-1}r=r<0?0:r>=n.count?n.count-1:r,n.moveEditor(t.input,n,{index:r})}(e,i);case"group":return function(e,t,i){var n,r=i.get(g.IEditorGroupsService),o=i.get(m.IConfigurationService),s=t.group;switch(e.to){case"left":
(n=r.findGroup({direction:2},s))||(n=r.addGroup(s,2));break;case"right":(n=r.findGroup({direction:3},s))||(n=r.addGroup(s,3));break;case"up":(n=r.findGroup({direction:0},s))||(n=r.addGroup(s,0));break;case"down":(n=r.findGroup({direction:1},s))||(n=r.addGroup(s,1));break;case"first":n=r.findGroup({location:0},s);break;case"last":n=r.findGroup({location:1},s);break;case"previous":n=r.findGroup({location:3},s);break;case"next":(n=r.findGroup({location:2},s))||(n=r.addGroup(s,g.preferredSideBySideGroupDirection(o)));break;case"center":n=r.getGroups(2)[r.count/2-1];break;case"position":n=r.getGroups(2)[e.value-1]}n&&(s.moveEditor(t.input,n),n.focus())}(e,i,t)}}(t,e)},description:{description:i.localize("editorCommand.activeEditorMove.description","Move the active editor by tabs or groups"),args:[{name:i.localize("editorCommand.activeEditorMove.arg.name","Active editor move argument"),
description:i.localize("editorCommand.activeEditorMove.arg.description","Argument Properties:\n\t* 'to': String value providing where to move.\n\t* 'by': String value providing the unit for move (by tab or by group).\n\t* 'value': Number value providing how many positions or an absolute position to move."),constraint:R}]}})}function _(){function e(e,t){var i=e.get(s.IEditorService),n=[i.activeControl].concat(i.visibleControls).filter(function(e){return e instanceof c.TextDiffEditor});n.length>0&&(t?n[0].getDiffNavigator().next():n[0].getDiffNavigator().previous())}function n(e){var t=e.get(m.IConfigurationService),i=!t.getValue("diffEditor.renderSideBySide");t.updateValue("diffEditor.renderSideBySide",i,1)}r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.GOTO_NEXT_CHANGE,weight:200,when:o.TextCompareEditorVisibleContext,primary:575,handler:function(t){return e(t,!0)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.GOTO_PREVIOUS_CHANGE,weight:200,
when:o.TextCompareEditorVisibleContext,primary:1599,handler:function(t){return e(t,!1)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.TOGGLE_DIFF_SIDE_BY_SIDE,weight:200,when:void 0,primary:void 0,handler:function(e){return n(e)}}),y.CommandsRegistry.registerCommand("toggle.diff.editorMode",function(e){n(e),e.get(b.INotificationService).warn(i.localize("diffCommandDeprecation","Command 'toggle.diff.editorMode' has been deprecated. Please use '{0}' instead.",t.TOGGLE_DIFF_SIDE_BY_SIDE))}),S.MenuRegistry.appendMenuItem(0,{command:{id:t.TOGGLE_DIFF_SIDE_BY_SIDE,title:{value:i.localize("toggleInlineView","Toggle Inline View"),original:"Compare: Toggle Inline View"},category:i.localize("compare","Compare")},when:v.ContextKeyExpr.has("textCompareEditorActive")}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.TOGGLE_DIFF_IGNORE_TRIM_WHITESPACE,weight:200,when:void 0,primary:void 0,handler:function(e){return function(e){
var t=e.get(m.IConfigurationService),i=!t.getValue("diffEditor.ignoreTrimWhitespace");t.updateValue("diffEditor.ignoreTrimWhitespace",i,1)}(e)}})}function C(e,t,i){var n;n=i&&"number"==typeof i.groupId?e.getGroup(i.groupId):e.activeGroup;var r,o=e.addGroup(n,t);(r=i&&"number"==typeof i.editorIndex?n.getEditor(i.editorIndex):n.activeEditor)&&r.supportsSplitEditor()&&n.copyEditor(r,o),o.focus()}function w(e,t){return u.URI.isUri(e)?t:e&&"number"==typeof e.groupId?e:t&&"number"==typeof t.groupId?t:void 0}function I(e,t){var i=t&&"number"==typeof t.groupId?e.getGroup(t.groupId):void 0,n=i&&"number"==typeof t.editorIndex?i.getEditor(t.editorIndex):void 0,r=i?i.activeControl:void 0;return i||(n=(i=e.activeGroup).activeEditor,r=i.activeControl),{group:i,editor:n,control:r}}function x(e,t,i){var n=t.lastFocusedList;if(n instanceof h.List&&n.getHTMLElement()===document.activeElement){var r=function(e){return D(e)?{groupId:e.id,editorIndex:void 0}:{groupId:e.groupId,
editorIndex:i.getGroup(e.groupId).getIndexOfEditor(e.editor)}},o=function(e){return D(e)||function(e){var t=e;return t&&"number"==typeof t.groupId}(e)},s=n.getFocusedElements().filter(o),a=e||(s.length?s.map(r)[0]:void 0);if(a){var c=n.getSelectedElements().filter(o);return c&&c.some(function(e){return D(e)?e.id===a.groupId:e.groupId===a.groupId&&i.getGroup(e.groupId).getIndexOfEditor(e.editor)===a.editorIndex})?c.map(r):[a]}}return e?[e]:[]}function D(e){var t=e;return t&&"number"==typeof t.id&&Array.isArray(t.editors)}function T(){E(),y.CommandsRegistry.registerCommand(t.LAYOUT_EDITOR_GROUPS_COMMAND_ID,function(e,t){t&&"object"==typeof t&&e.get(g.IEditorGroupsService).applyLayout(t)}),_(),function(){function e(e){switch(e){case 0:return 21;case 1:return 22;case 2:return 23;case 3:return 24;case 4:return 25;case 5:return 26;case 6:return 27;case 7:return 28;case 8:return 29;case 9:return 30}}var i=function(e,t){var i=e.get(s.IEditorService),n=i.activeControl;if(n){var r=n.group.getEditor(t)
;r&&i.openEditor(r)}};y.CommandsRegistry.registerCommand({id:t.OPEN_EDITOR_AT_INDEX_COMMAND_ID,handler:i});for(var n=function(n){var o=n,s=n+1;r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.OPEN_EDITOR_AT_INDEX_COMMAND_ID+s,weight:200,when:void 0,primary:512|e(s),mac:{primary:256|e(s)},handler:function(e){return i(e,o)}})},o=0;o<9;o++)n(o)}(),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.CLOSE_SAVED_EDITORS_COMMAND_ID,weight:200,when:void 0,primary:l.KeyChord(2089,51),handler:function(e,t,i){var n=e.get(g.IEditorGroupsService),r=x(w(t,i),e.get(p.IListService),n),o=n.activeGroup;return 0===r.length&&r.push({groupId:o.id}),Promise.all(f.distinct(r.map(function(e){return e.groupId})).map(function(e){return n.getGroup(e).closeEditors({savedOnly:!0})}))}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,weight:200,when:void 0,primary:l.KeyChord(297,53),handler:function(e,t,i){
var n=e.get(g.IEditorGroupsService),r=x(w(t,i),e.get(p.IListService),n),o=f.distinct(r.map(function(e){return e.groupId}));return 0===o.length&&o.push(n.activeGroup.id),Promise.all(o.map(function(e){return n.getGroup(e).closeAllEditors()}))}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.CLOSE_EDITOR_COMMAND_ID,weight:200,when:void 0,primary:309,win:{primary:2110,secondary:[2101]},handler:function(e,t,i){var n=e.get(g.IEditorGroupsService),r=x(w(t,i),e.get(p.IListService),n),o=n.activeGroup;0===r.length&&o.activeEditor&&r.push({groupId:o.id,editorIndex:o.getIndexOfEditor(o.activeEditor)});var s=f.distinct(r.map(function(e){return e.groupId}));return Promise.all(s.map(function(e){var t=n.getGroup(e),i=r.filter(function(t){return t.groupId===e}).map(function(e){return"number"==typeof e.editorIndex?t.getEditor(e.editorIndex):t.activeEditor});return t.closeEditors(i)}))}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.CLOSE_EDITOR_GROUP_COMMAND_ID,weight:200,
when:v.ContextKeyExpr.and(o.ActiveEditorGroupEmptyContext,o.MultipleEditorGroupsContext),primary:309,win:{primary:2110,secondary:[2101]},handler:function(e,t,i){var n,r=e.get(g.IEditorGroupsService),o=w(t,i);n=o&&"number"==typeof o.groupId?r.getGroup(o.groupId):r.activeGroup,r.removeGroup(n)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.CLOSE_OTHER_EDITORS_IN_GROUP_COMMAND_ID,weight:200,when:void 0,primary:void 0,mac:{primary:2610},handler:function(e,t,i){var n=e.get(g.IEditorGroupsService),r=x(w(t,i),e.get(p.IListService),n),o=n.activeGroup;0===r.length&&o.activeEditor&&r.push({groupId:o.id,editorIndex:o.getIndexOfEditor(o.activeEditor)});var s=f.distinct(r.map(function(e){return e.groupId}));return Promise.all(s.map(function(e){var t=n.getGroup(e),i=r.filter(function(t){return t.groupId===e}).map(function(e){return"number"==typeof e.editorIndex?t.getEditor(e.editorIndex):t.activeEditor}),o=t.editors.filter(function(e){return-1===i.indexOf(e)});return t.closeEditors(o)}))}}),
r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.CLOSE_EDITORS_TO_THE_RIGHT_COMMAND_ID,weight:200,when:void 0,primary:void 0,handler:function(e,t,i){var n=I(e.get(g.IEditorGroupsService),w(t,i)),r=n.group,o=n.editor;return r&&o?r.closeEditors({direction:1,except:o}):Promise.resolve(!1)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.KEEP_EDITOR_COMMAND_ID,weight:200,when:void 0,primary:l.KeyChord(2089,3),handler:function(e,t,i){var n=I(e.get(g.IEditorGroupsService),w(t,i)),r=n.group,o=n.editor;return r&&o?r.pinEditor(o):Promise.resolve(!1)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.SHOW_EDITORS_IN_GROUP,weight:200,when:void 0,primary:void 0,handler:function(e,i,n){var r=e.get(g.IEditorGroupsService),o=e.get(d.IQuickOpenService);if(r.count<=1)return o.show(t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX);var s=w(i,n);return s&&"number"==typeof s.groupId&&r.activateGroup(r.getGroup(s.groupId)),o.show(t.NAVIGATE_IN_ACTIVE_GROUP_PREFIX)}}),
y.CommandsRegistry.registerCommand(t.CLOSE_EDITORS_AND_GROUP_COMMAND_ID,function(e,t,i){var n=e.get(g.IEditorGroupsService),r=I(n,w(t,i)).group;if(r)return r.closeAllEditors().then(function(){0===r.count&&n.getGroup(r.id)&&n.removeGroup(r)})}),function(){for(var e=function(e){r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:function(t){switch(e){case 1:return"workbench.action.focusSecondEditorGroup";case 2:return"workbench.action.focusThirdEditorGroup";case 3:return"workbench.action.focusFourthEditorGroup";case 4:return"workbench.action.focusFifthEditorGroup";case 5:return"workbench.action.focusSixthEditorGroup";case 6:return"workbench.action.focusSeventhEditorGroup";case 7:return"workbench.action.focusEighthEditorGroup"}}(),weight:200,when:void 0,primary:2048|function(t){switch(e){case 1:return 23;case 2:return 24;case 3:return 25;case 4:return 26;case 5:return 27;case 6:return 28;case 7:return 29}}(),handler:function(t){var i=t.get(g.IEditorGroupsService),n=t.get(m.IConfigurationService)
;if(!(e>i.count)){var r=i.getGroups(2);if(r[e])return r[e].focus();var o=g.preferredSideBySideGroupDirection(n),s=i.findGroup({location:1});i.addGroup(s,o).focus()}}})},t=1;t<8;t++)e(t)}(),[{id:t.SPLIT_EDITOR_UP,direction:0},{id:t.SPLIT_EDITOR_DOWN,direction:1},{id:t.SPLIT_EDITOR_LEFT,direction:2},{id:t.SPLIT_EDITOR_RIGHT,direction:3}].forEach(function(e){var t=e.id,i=e.direction;y.CommandsRegistry.registerCommand(t,function(e,t,n){C(e.get(g.IEditorGroupsService),i,w(t,n))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.CLOSE_SAVED_EDITORS_COMMAND_ID="workbench.action.closeUnmodifiedEditors",t.CLOSE_EDITORS_IN_GROUP_COMMAND_ID="workbench.action.closeEditorsInGroup",t.CLOSE_EDITORS_AND_GROUP_COMMAND_ID="workbench.action.closeEditorsAndGroup",t.CLOSE_EDITORS_TO_THE_RIGHT_COMMAND_ID="workbench.action.closeEditorsToTheRight",t.CLOSE_EDITOR_COMMAND_ID="workbench.action.closeActiveEditor",t.CLOSE_EDITOR_GROUP_COMMAND_ID="workbench.action.closeGroup",
t.CLOSE_OTHER_EDITORS_IN_GROUP_COMMAND_ID="workbench.action.closeOtherEditors",t.MOVE_ACTIVE_EDITOR_COMMAND_ID="moveActiveEditor",t.LAYOUT_EDITOR_GROUPS_COMMAND_ID="layoutEditorGroups",t.KEEP_EDITOR_COMMAND_ID="workbench.action.keepEditor",t.SHOW_EDITORS_IN_GROUP="workbench.action.showEditorsInGroup",t.TOGGLE_DIFF_SIDE_BY_SIDE="toggle.diff.renderSideBySide",t.GOTO_NEXT_CHANGE="workbench.action.compareEditor.nextChange",t.GOTO_PREVIOUS_CHANGE="workbench.action.compareEditor.previousChange",t.TOGGLE_DIFF_IGNORE_TRIM_WHITESPACE="toggle.diff.ignoreTrimWhitespace",t.SPLIT_EDITOR_UP="workbench.action.splitEditorUp",t.SPLIT_EDITOR_DOWN="workbench.action.splitEditorDown",t.SPLIT_EDITOR_LEFT="workbench.action.splitEditorLeft",t.SPLIT_EDITOR_RIGHT="workbench.action.splitEditorRight",t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX="edt ",t.NAVIGATE_IN_ACTIVE_GROUP_PREFIX="edt active ",t.OPEN_EDITOR_AT_INDEX_COMMAND_ID="workbench.action.openEditorAtIndex";var R=function(e){
return!!n.isObject(e)&&(!!n.isString(e.to)&&(!(!n.isUndefined(e.by)&&!n.isString(e.by))&&!(!n.isUndefined(e.value)&&!n.isNumber(e.value))))};t.mergeAllGroups=function(e){var t=e.activeGroup;e.getGroups(1).forEach(function(i){i!==t&&e.mergeGroup(i,t)})},t.splitEditor=C,t.getMultiSelectedEditorContexts=x,t.setup=T}),define(e[188],t([1,0,2,14,39,17,77,64,54,49,145,43,34,31,42,123,41,10,9,3]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_){"use strict";function C(e){if(e instanceof l.QuickOpenEntryGroup){var t=e;t.getEntry()&&(e=t.getEntry())}return e instanceof u.EditorQuickOpenEntry||e instanceof u.EditorQuickOpenEntryGroup?e:null}Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.commandId=n,s.commandService=r,s.commandArgs=o,s}return i(t,e),t.prototype.run=function(){return this.commandService.executeCommand(this.commandId,this.commandArgs)},t}(s.Action);t.ExecuteCommandAction=w;var I=function(e){function t(t,i,n,r){
var o=e.call(this,t,i)||this;return o.editorGroupService=n,o.configurationService=r,o.toDispose=[],o.direction=o.getDirection(),o.registerListeners(),o}return i(t,e),t.prototype.getDirection=function(){return S.preferredSideBySideGroupDirection(this.configurationService)},t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidChangeConfiguration(function(t){t.affectsConfiguration("workbench.editor.openSideBySideDirection")&&(e.direction=S.preferredSideBySideGroupDirection(e.configurationService))}))},t.prototype.run=function(e){return y.splitEditor(this.editorGroupService,this.direction,e),Promise.resolve(!0)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose=_.dispose(this.toDispose)},t}(s.Action);t.BaseSplitEditorAction=I;var x=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.ID="workbench.action.splitEditor",t.LABEL=n.localize("splitEditor","Split Editor"),
t=r([o(2,S.IEditorGroupsService),o(3,E.IConfigurationService)],t)}(I);t.SplitEditorAction=x;var D=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.getDirection=function(){return 3===S.preferredSideBySideGroupDirection(this.configurationService)?1:3},t.ID="workbench.action.splitEditorOrthogonal",t.LABEL=n.localize("splitEditorOrthogonal","Split Editor Orthogonal"),t=r([o(2,S.IEditorGroupsService),o(3,E.IConfigurationService)],t)}(I);t.SplitEditorOrthogonalAction=D;var T=function(e){function t(t,i,n){return e.call(this,t,i,y.SPLIT_EDITOR_LEFT,n)||this}return i(t,e),t.ID=y.SPLIT_EDITOR_LEFT,t.LABEL=n.localize("splitEditorGroupLeft","Split Editor Left"),t=r([o(2,g.ICommandService)],t)}(w);t.SplitEditorLeftAction=T;var R=function(e){function t(t,i,n){return e.call(this,t,i,y.SPLIT_EDITOR_RIGHT,n)||this}return i(t,e),t.ID=y.SPLIT_EDITOR_RIGHT,t.LABEL=n.localize("splitEditorGroupRight","Split Editor Right"),t=r([o(2,g.ICommandService)],t)}(w);t.SplitEditorRightAction=R
;var A=function(e){function t(t,i,n){return e.call(this,t,i,y.SPLIT_EDITOR_UP,n)||this}return i(t,e),t.ID=y.SPLIT_EDITOR_UP,t.LABEL=n.localize("splitEditorGroupUp","Split Editor Up"),t=r([o(2,g.ICommandService)],t)}(w);t.SplitEditorUpAction=A;var O=function(e){function t(t,i,n){return e.call(this,t,i,y.SPLIT_EDITOR_DOWN,n)||this}return i(t,e),t.ID=y.SPLIT_EDITOR_DOWN,t.LABEL=n.localize("splitEditorGroupDown","Split Editor Down"),t=r([o(2,g.ICommandService)],t)}(w);t.SplitEditorDownAction=O;var k=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(e){var t;t=e&&"number"==typeof e.groupId?this.editorGroupService.getGroup(e.groupId):this.editorGroupService.activeGroup;for(var i=[3,1,2,0],n=0;n<i.length;n++){var r=this.editorGroupService.findGroup({direction:i[n]},t);if(r&&t!==r)return this.editorGroupService.mergeGroup(t,r),Promise.resolve(!0)}return Promise.resolve(!0)},t.ID="workbench.action.joinTwoGroups",
t.LABEL=n.localize("joinTwoGroups","Join Editor Group with Next Group"),t=r([o(2,S.IEditorGroupsService)],t)}(s.Action);t.JoinTwoGroupsAction=k;var M=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(e){return y.mergeAllGroups(this.editorGroupService),Promise.resolve(!0)},t.ID="workbench.action.joinAllGroups",t.LABEL=n.localize("joinAllGroups","Join All Editor Groups"),t=r([o(2,S.IEditorGroupsService)],t)}(s.Action);t.JoinAllGroupsAction=M;var P=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(){return this.editorGroupService.findGroup({location:2},this.editorGroupService.activeGroup,!0).focus(),Promise.resolve(!0)},t.ID="workbench.action.navigateEditorGroups",t.LABEL=n.localize("navigateEditorGroups","Navigate Between Editor Groups"),t=r([o(2,S.IEditorGroupsService)],t)}(s.Action);t.NavigateBetweenGroupsAction=P;var L=function(e){function t(t,i,n){
var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(){return this.editorGroupService.activeGroup.focus(),Promise.resolve(!0)},t.ID="workbench.action.focusActiveEditorGroup",t.LABEL=n.localize("focusActiveEditorGroup","Focus Active Editor Group"),t=r([o(2,S.IEditorGroupsService)],t)}(s.Action);t.FocusActiveGroupAction=L;var F=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.scope=n,o.editorGroupService=r,o}return i(t,e),t.prototype.run=function(){var e=this.editorGroupService.findGroup(this.scope,this.editorGroupService.activeGroup,!0);return e&&e.focus(),Promise.resolve(!0)},t=r([o(3,S.IEditorGroupsService)],t)}(s.Action);t.BaseFocusGroupAction=F;var N=function(e){function t(t,i,n){return e.call(this,t,i,{location:0},n)||this}return i(t,e),t.ID="workbench.action.focusFirstEditorGroup",t.LABEL=n.localize("focusFirstEditorGroup","Focus First Editor Group"),t=r([o(2,S.IEditorGroupsService)],t)}(F);t.FocusFirstGroupAction=N;var B=function(e){
function t(t,i,n){return e.call(this,t,i,{location:1},n)||this}return i(t,e),t.ID="workbench.action.focusLastEditorGroup",t.LABEL=n.localize("focusLastEditorGroup","Focus Last Editor Group"),t=r([o(2,S.IEditorGroupsService)],t)}(F);t.FocusLastGroupAction=B;var W=function(e){function t(t,i,n){return e.call(this,t,i,{location:2},n)||this}return i(t,e),t.ID="workbench.action.focusNextGroup",t.LABEL=n.localize("focusNextGroup","Focus Next Editor Group"),t=r([o(2,S.IEditorGroupsService)],t)}(F);t.FocusNextGroup=W;var V=function(e){function t(t,i,n){return e.call(this,t,i,{location:3},n)||this}return i(t,e),t.ID="workbench.action.focusPreviousGroup",t.LABEL=n.localize("focusPreviousGroup","Focus Previous Editor Group"),t=r([o(2,S.IEditorGroupsService)],t)}(F);t.FocusPreviousGroup=V;var z=function(e){function t(t,i,n){return e.call(this,t,i,{direction:2},n)||this}return i(t,e),t.ID="workbench.action.focusLeftGroup",t.LABEL=n.localize("focusLeftGroup","Focus Left Editor Group"),t=r([o(2,S.IEditorGroupsService)],t)
}(F);t.FocusLeftGroup=z;var G=function(e){function t(t,i,n){return e.call(this,t,i,{direction:3},n)||this}return i(t,e),t.ID="workbench.action.focusRightGroup",t.LABEL=n.localize("focusRightGroup","Focus Right Editor Group"),t=r([o(2,S.IEditorGroupsService)],t)}(F);t.FocusRightGroup=G;var K=function(e){function t(t,i,n){return e.call(this,t,i,{direction:0},n)||this}return i(t,e),t.ID="workbench.action.focusAboveGroup",t.LABEL=n.localize("focusAboveGroup","Focus Above Editor Group"),t=r([o(2,S.IEditorGroupsService)],t)}(F);t.FocusAboveGroup=K;var H=function(e){function t(t,i,n){return e.call(this,t,i,{direction:1},n)||this}return i(t,e),t.ID="workbench.action.focusBelowGroup",t.LABEL=n.localize("focusBelowGroup","Focus Below Editor Group"),t=r([o(2,S.IEditorGroupsService)],t)}(F);t.FocusBelowGroup=H;var U=function(e){function t(i,n){var r=e.call(this,t.OPEN_TO_SIDE_ID,t.OPEN_TO_SIDE_LABEL)||this;return r.editorService=i,r.configurationService=n,r.updateClass(),r}return i(t,e),
t.prototype.updateClass=function(){var e=S.preferredSideBySideGroupDirection(this.configurationService);this.class=3===e?"quick-open-sidebyside-vertical":"quick-open-sidebyside-horizontal"},t.prototype.run=function(e){var t=C(e);if(t){var i=t.getInput();if(i instanceof c.EditorInput)return this.editorService.openEditor(i,t.getOptions(),b.SIDE_GROUP);var n=i;return n.options=a.mixin(n.options,t.getOptions()),this.editorService.openEditor(n,b.SIDE_GROUP)}return Promise.resolve(!1)},t.OPEN_TO_SIDE_ID="workbench.action.openToSide",t.OPEN_TO_SIDE_LABEL=n.localize("openToSide","Open to the Side"),t=r([o(0,b.IEditorService),o(1,E.IConfigurationService)],t)}(s.Action);t.OpenToSideFromQuickOpenAction=U,t.toEditorQuickOpenEntry=C;var j=function(e){function t(t,i,n){var r=e.call(this,t,i,"close-editor-action")||this;return r.commandService=n,r}return i(t,e),t.prototype.run=function(e){return this.commandService.executeCommand(y.CLOSE_EDITOR_COMMAND_ID,void 0,e)},t.ID="workbench.action.closeActiveEditor",
t.LABEL=n.localize("closeEditor","Close Editor"),t=r([o(2,g.ICommandService)],t)}(s.Action);t.CloseEditorAction=j;var q=function(e){function t(t,i,n){var r=e.call(this,t,i,"close-editor-action")||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(e){var t,i;if(e&&(t=this.editorGroupService.getGroup(e.groupId))&&(i=e.editorIndex),t||(t=this.editorGroupService.activeGroup),"number"==typeof i){var n=t.getEditor(i);if(n)return t.closeEditor(n)}return t.activeEditor?t.closeEditor(t.activeEditor):Promise.resolve(!1)},t.ID="workbench.action.closeActiveEditor",t.LABEL=n.localize("closeOneEditor","Close"),t=r([o(2,S.IEditorGroupsService)],t)}(s.Action);t.CloseOneEditorAction=q;var $=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorService=n,r}return i(t,e),t.prototype.run=function(){var e=this.editorService.activeControl;if(e){var t=e.input,i=e.group;return t.revert().then(function(){return i.closeEditor(t)},function(e){return t.revert({soft:!0}).then(function(){
return i.closeEditor(t)})})}return Promise.resolve(!1)},t.ID="workbench.action.revertAndCloseActiveEditor",t.LABEL=n.localize("revertAndCloseActiveEditor","Revert and Close Editor"),t=r([o(2,b.IEditorService)],t)}(s.Action);t.RevertAndCloseEditorAction=$;var Q=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.editorService=n,o.editorGroupService=r,o}return i(t,e),t.prototype.run=function(e){var t=function(e,t,i){return i?{editor:i.editor,group:t.getGroup(i.groupId)}:{group:t.activeGroup,editor:t.activeGroup.activeEditor}}(this.editorService,this.editorGroupService,e),i=t.group,n=t.editor;return i&&n?i.closeEditors({direction:0,except:n}):Promise.resolve(!1)},t.ID="workbench.action.closeEditorsToTheLeft",t.LABEL=n.localize("closeEditorsToTheLeft","Close Editors to the Left in Group"),t=r([o(2,b.IEditorService),o(3,S.IEditorGroupsService)],t)}(s.Action);t.CloseLeftEditorsInGroupAction=Q;var Y=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i,n)||this;return s.textFileService=r,
s.editorGroupService=o,s}return i(t,e),Object.defineProperty(t.prototype,"groupsToClose",{get:function(){for(var e=[],t=this.editorGroupService.getGroups(2),i=t.length-1;i>=0;i--)e.push(t[i]);return e},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this;return this.textFileService.getDirty().length<2?this.doCloseAll():this.textFileService.confirmSave().then(function(t){if(2!==t){return(1===t?e.textFileService.revertAll(null,{soft:!0}).then(function(){return!0}):e.textFileService.saveAll(!0).then(function(e){return e.results.every(function(e){return e.success})})).then(function(t){if(t)return e.doCloseAll()})}})},t}(s.Action);t.BaseCloseAllAction=Y;var X=function(e){function t(t,i,n,r){return e.call(this,t,i,"action-close-all-files",n,r)||this}return i(t,e),t.prototype.doCloseAll=function(){return Promise.all(this.groupsToClose.map(function(e){return e.closeAllEditors()}))},t.ID="workbench.action.closeAllEditors",t.LABEL=n.localize("closeAllEditors","Close All Editors"),
t=r([o(2,v.ITextFileService),o(3,S.IEditorGroupsService)],t)}(Y);t.CloseAllEditorsAction=X;var J=function(e){function t(t,i,n,r){return e.call(this,t,i,void 0,n,r)||this}return i(t,e),t.prototype.doCloseAll=function(){var e=this;return Promise.all(this.groupsToClose.map(function(e){return e.closeAllEditors()})).then(function(){e.groupsToClose.forEach(function(t){return e.editorGroupService.removeGroup(t)})})},t.ID="workbench.action.closeAllGroups",t.LABEL=n.localize("closeAllGroups","Close All Editor Groups"),t=r([o(2,v.ITextFileService),o(3,S.IEditorGroupsService)],t)}(Y);t.CloseAllEditorGroupsAction=J;var Z=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getGroup(e.groupId):this.editorGroupService.activeGroup;return Promise.all(this.editorGroupService.getGroups(1).map(function(e){return e.id===t.id?Promise.resolve(null):e.closeAllEditors()}))},
t.ID="workbench.action.closeEditorsInOtherGroups",t.LABEL=n.localize("closeEditorsInOtherGroups","Close Editors in Other Groups"),t=r([o(2,S.IEditorGroupsService)],t)}(s.Action);t.CloseEditorsInOtherGroupsAction=Z;var ee=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.editorGroupService=n,o.editorService=r,o}return i(t,e),t.prototype.run=function(){var e=this.editorService.activeEditor;return e?Promise.all(this.editorGroupService.getGroups(1).map(function(t){return t.closeEditor(e)})):Promise.resolve(null)},t.ID="workbench.action.closeEditorInAllGroups",t.LABEL=n.localize("closeEditorInAllGroups","Close Editor in All Groups"),t=r([o(2,S.IEditorGroupsService),o(3,b.IEditorService)],t)}(s.Action);t.CloseEditorInAllGroupsAction=ee;var te=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.direction=n,o.editorGroupService=r,o}return i(t,e),t.prototype.run=function(e){var t
;t=e&&"number"==typeof e.groupId?this.editorGroupService.getGroup(e.groupId):this.editorGroupService.activeGroup;var i=this.findTargetGroup(t);return i&&this.editorGroupService.moveGroup(t,i,this.direction),Promise.resolve(!0)},t.prototype.findTargetGroup=function(e){var t=[this.direction];switch(this.direction){case 2:case 3:t.push(0,1);break;case 0:case 1:t.push(2,3)}for(var i=0;i<t.length;i++){var n=this.editorGroupService.findGroup({direction:t[i]},e);if(n)return n}},t}(s.Action);t.BaseMoveGroupAction=te;var ie=function(e){function t(t,i,n){return e.call(this,t,i,2,n)||this}return i(t,e),t.ID="workbench.action.moveActiveEditorGroupLeft",t.LABEL=n.localize("moveActiveGroupLeft","Move Editor Group Left"),t=r([o(2,S.IEditorGroupsService)],t)}(te);t.MoveGroupLeftAction=ie;var ne=function(e){function t(t,i,n){return e.call(this,t,i,3,n)||this}return i(t,e),t.ID="workbench.action.moveActiveEditorGroupRight",t.LABEL=n.localize("moveActiveGroupRight","Move Editor Group Right"),t=r([o(2,S.IEditorGroupsService)],t)
}(te);t.MoveGroupRightAction=ne;var re=function(e){function t(t,i,n){return e.call(this,t,i,0,n)||this}return i(t,e),t.ID="workbench.action.moveActiveEditorGroupUp",t.LABEL=n.localize("moveActiveGroupUp","Move Editor Group Up"),t=r([o(2,S.IEditorGroupsService)],t)}(te);t.MoveGroupUpAction=re;var oe=function(e){function t(t,i,n){return e.call(this,t,i,1,n)||this}return i(t,e),t.ID="workbench.action.moveActiveEditorGroupDown",t.LABEL=n.localize("moveActiveGroupDown","Move Editor Group Down"),t=r([o(2,S.IEditorGroupsService)],t)}(te);t.MoveGroupDownAction=oe;var se=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(){return this.editorGroupService.arrangeGroups(0),Promise.resolve(!1)},t.ID="workbench.action.minimizeOtherEditors",t.LABEL=n.localize("minimizeOtherEditorGroups","Maximize Editor Group"),t=r([o(2,S.IEditorGroupsService)],t)}(s.Action);t.MinimizeOtherGroupsAction=se;var ae=function(e){function t(t,i,n){
var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(){return this.editorGroupService.arrangeGroups(1),Promise.resolve(!1)},t.ID="workbench.action.evenEditorWidths",t.LABEL=n.localize("evenEditorGroups","Reset Editor Group Sizes"),t=r([o(2,S.IEditorGroupsService)],t)}(s.Action);t.ResetGroupSizesAction=ae;var ce=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.editorService=n,s.editorGroupService=r,s.partService=o,s}return i(t,e),t.prototype.run=function(){return this.editorService.activeEditor&&(this.editorGroupService.arrangeGroups(0),this.partService.setSideBarHidden(!0)),Promise.resolve(!1)},t.ID="workbench.action.maximizeEditor",t.LABEL=n.localize("maximizeEditor","Maximize Editor Group and Hide Sidebar"),t=r([o(2,b.IEditorService),o(3,S.IEditorGroupsService),o(4,p.IPartService)],t)}(s.Action);t.MaximizeGroupAction=ce;var le=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.editorGroupService=n,o.editorService=r,o}
return i(t,e),t.prototype.run=function(){var e=this.navigate();if(!e)return Promise.resolve(!1);var t=e.groupId,i=e.editor;if(!i)return Promise.resolve(!1);return this.editorGroupService.getGroup(t).openEditor(i)},t}(s.Action);t.BaseNavigateEditorAction=le;var ue=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.navigate=function(){var e=this.editorGroupService.activeGroup,t=e.getEditors(1),i=t.indexOf(e.activeEditor);if(i+1<t.length)return{editor:t[i+1],groupId:e.id};var n=this.editorGroupService.findGroup({location:2},this.editorGroupService.activeGroup,!0);if(n){return{editor:n.getEditors(1)[0],groupId:n.id}}},t.ID="workbench.action.nextEditor",t.LABEL=n.localize("openNextEditor","Open Next Editor"),t=r([o(2,S.IEditorGroupsService),o(3,b.IEditorService)],t)}(le);t.OpenNextEditor=ue;var de=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.navigate=function(){
var e=this.editorGroupService.activeGroup,t=e.getEditors(1),i=t.indexOf(e.activeEditor);if(i>0)return{editor:t[i-1],groupId:e.id};var n=this.editorGroupService.findGroup({location:3},this.editorGroupService.activeGroup,!0);if(n){var r=n.getEditors(1);return{editor:r[r.length-1],groupId:n.id}}},t.ID="workbench.action.previousEditor",t.LABEL=n.localize("openPreviousEditor","Open Previous Editor"),t=r([o(2,S.IEditorGroupsService),o(3,b.IEditorService)],t)}(le);t.OpenPreviousEditor=de;var pe=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.navigate=function(){var e=this.editorGroupService.activeGroup,t=e.getEditors(1),i=t.indexOf(e.activeEditor);return{editor:i+1<t.length?t[i+1]:t[0],groupId:e.id}},t.ID="workbench.action.nextEditorInGroup",t.LABEL=n.localize("nextEditorInGroup","Open Next Editor in Group"),t=r([o(2,S.IEditorGroupsService),o(3,b.IEditorService)],t)}(le);t.OpenNextEditorInGroup=pe;var he=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}
return i(t,e),t.prototype.navigate=function(){var e=this.editorGroupService.activeGroup,t=e.getEditors(1),i=t.indexOf(e.activeEditor);return{editor:i>0?t[i-1]:t[t.length-1],groupId:e.id}},t.ID="workbench.action.previousEditorInGroup",t.LABEL=n.localize("openPreviousEditorInGroup","Open Previous Editor in Group"),t=r([o(2,S.IEditorGroupsService),o(3,b.IEditorService)],t)}(le);t.OpenPreviousEditorInGroup=he;var fe=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.navigate=function(){var e=this.editorGroupService.activeGroup;return{editor:e.getEditors(1)[0],groupId:e.id}},t.ID="workbench.action.firstEditorInGroup",t.LABEL=n.localize("firstEditorInGroup","Open First Editor in Group"),t=r([o(2,S.IEditorGroupsService),o(3,b.IEditorService)],t)}(le);t.OpenFirstEditorInGroup=fe;var ge=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.navigate=function(){var e=this.editorGroupService.activeGroup,t=e.getEditors(1);return{
editor:t[t.length-1],groupId:e.id}},t.ID="workbench.action.lastEditorInGroup",t.LABEL=n.localize("lastEditorInGroup","Open Last Editor in Group"),t=r([o(2,S.IEditorGroupsService),o(3,b.IEditorService)],t)}(le);t.OpenLastEditorInGroup=ge;var ve=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.forward(),Promise.resolve(null)},t.ID="workbench.action.navigateForward",t.LABEL=n.localize("navigateNext","Go Forward"),t=r([o(2,h.IHistoryService)],t)}(s.Action);t.NavigateForwardAction=ve;var me=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.back(),Promise.resolve(null)},t.ID="workbench.action.navigateBack",t.LABEL=n.localize("navigatePrevious","Go Back"),t=r([o(2,h.IHistoryService)],t)}(s.Action);t.NavigateBackwardsAction=me;var ye=function(e){function t(t,i,n){var r=e.call(this,t,i)||this
;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.openLastEditLocation(),Promise.resolve(null)},t.ID="workbench.action.navigateToLastEditLocation",t.LABEL=n.localize("navigateToLastEditLocation","Go to Last Edit Location"),t=r([o(2,h.IHistoryService)],t)}(s.Action);t.NavigateToLastEditLocationAction=ye;var Se=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.last(),Promise.resolve(null)},t.ID="workbench.action.navigateLast",t.LABEL=n.localize("navigateLast","Go Last"),t=r([o(2,h.IHistoryService)],t)}(s.Action);t.NavigateLastAction=Se;var be=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.reopenLastClosedEditor(),Promise.resolve(!1)},t.ID="workbench.action.reopenClosedEditor",t.LABEL=n.localize("reopenClosedEditor","Reopen Closed Editor"),
t=r([o(2,h.IHistoryService)],t)}(s.Action);t.ReopenClosedEditorAction=be;var Ee=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.windowsService=n,o.historyService=r,o}return i(t,e),t.prototype.run=function(){return this.windowsService.clearRecentlyOpened(),this.historyService.clearRecentlyOpened(),Promise.resolve(!1)},t.ID="workbench.action.clearRecentFiles",t.LABEL=n.localize("clearRecentFiles","Clear Recently Opened"),t=r([o(2,m.IWindowsService),o(3,h.IHistoryService)],t)}(s.Action);t.ClearRecentFilesAction=Ee;var _e=function(e){function t(t,i,n){return e.call(this,t,i,y.NAVIGATE_IN_ACTIVE_GROUP_PREFIX,n)||this}return i(t,e),t.ID="workbench.action.showEditorsInActiveGroup",t.LABEL=n.localize("showEditorsInActiveGroup","Show Editors in Active Group"),t=r([o(2,d.IQuickOpenService)],t)}(u.QuickOpenAction);t.ShowEditorsInActiveGroupAction=_e;var Ce=function(e){function t(t,i,n){return e.call(this,t,i,y.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,n)||this}return i(t,e),
t.ID="workbench.action.showAllEditors",t.LABEL=n.localize("showAllEditors","Show All Editors"),t=r([o(2,d.IQuickOpenService)],t)}(u.QuickOpenAction);t.ShowAllEditorsAction=Ce;var we=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.quickOpenService=n,o.keybindingService=r,o}return i(t,e),t.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id);return this.quickOpenService.show(y.NAVIGATE_IN_ACTIVE_GROUP_PREFIX,{quickNavigateConfiguration:{keybindings:e}}),Promise.resolve(!0)},t=r([o(2,d.IQuickOpenService),o(3,f.IKeybindingService)],t)}(s.Action);t.BaseQuickOpenEditorInGroupAction=we;var Ie=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.ID="workbench.action.openPreviousRecentlyUsedEditorInGroup",t.LABEL=n.localize("openPreviousRecentlyUsedEditorInGroup","Open Previous Recently Used Editor in Group"),t=r([o(2,d.IQuickOpenService),o(3,f.IKeybindingService)],t)}(we);t.OpenPreviousRecentlyUsedEditorInGroupAction=Ie;var xe=function(e){
function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.ID="workbench.action.openNextRecentlyUsedEditorInGroup",t.LABEL=n.localize("openNextRecentlyUsedEditorInGroup","Open Next Recently Used Editor in Group"),t=r([o(2,d.IQuickOpenService),o(3,f.IKeybindingService)],t)}(we);t.OpenNextRecentlyUsedEditorInGroupAction=xe;var De=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.quickOpenService=n,o.keybindingService=r,o}return i(t,e),t.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id);return this.quickOpenService.show(null,{quickNavigateConfiguration:{keybindings:e}}),Promise.resolve(!0)},t.ID="workbench.action.openPreviousEditorFromHistory",t.LABEL=n.localize("navigateEditorHistoryByInput","Open Previous Editor from History"),t=r([o(2,d.IQuickOpenService),o(3,f.IKeybindingService)],t)}(s.Action);t.OpenPreviousEditorFromHistoryAction=De;var Te=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),
t.prototype.run=function(){return this.historyService.forward(!0),Promise.resolve(null)},t.ID="workbench.action.openNextRecentlyUsedEditor",t.LABEL=n.localize("openNextRecentlyUsedEditor","Open Next Recently Used Editor"),t=r([o(2,h.IHistoryService)],t)}(s.Action);t.OpenNextRecentlyUsedEditorAction=Te;var Re=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.back(!0),Promise.resolve(null)},t.ID="workbench.action.openPreviousRecentlyUsedEditor",t.LABEL=n.localize("openPreviousRecentlyUsedEditor","Open Previous Recently Used Editor"),t=r([o(2,h.IHistoryService)],t)}(s.Action);t.OpenPreviousRecentlyUsedEditorAction=Re;var Ae=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.clear(),Promise.resolve(!0)},t.ID="workbench.action.clearEditorHistory",
t.LABEL=n.localize("clearEditorHistory","Clear Editor History"),t=r([o(2,h.IHistoryService)],t)}(s.Action);t.ClearEditorHistoryAction=Ae;var Oe=function(e){function t(t,i,n){return e.call(this,t,i,y.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"left"})||this}return i(t,e),t.ID="workbench.action.moveEditorLeftInGroup",t.LABEL=n.localize("moveEditorLeft","Move Editor Left"),t=r([o(2,g.ICommandService)],t)}(w);t.MoveEditorLeftInGroupAction=Oe;var ke=function(e){function t(t,i,n){return e.call(this,t,i,y.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"right"})||this}return i(t,e),t.ID="workbench.action.moveEditorRightInGroup",t.LABEL=n.localize("moveEditorRight","Move Editor Right"),t=r([o(2,g.ICommandService)],t)}(w);t.MoveEditorRightInGroupAction=ke;var Me=function(e){function t(t,i,n){return e.call(this,t,i,y.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"previous",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToPreviousGroup",t.LABEL=n.localize("moveEditorToPreviousGroup","Move Editor into Previous Group"),
t=r([o(2,g.ICommandService)],t)}(w);t.MoveEditorToPreviousGroupAction=Me;var Pe=function(e){function t(t,i,n){return e.call(this,t,i,y.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"next",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToNextGroup",t.LABEL=n.localize("moveEditorToNextGroup","Move Editor into Next Group"),t=r([o(2,g.ICommandService)],t)}(w);t.MoveEditorToNextGroupAction=Pe;var Le=function(e){function t(t,i,n){return e.call(this,t,i,y.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"up",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToAboveGroup",t.LABEL=n.localize("moveEditorToAboveGroup","Move Editor into Above Group"),t=r([o(2,g.ICommandService)],t)}(w);t.MoveEditorToAboveGroupAction=Le;var Fe=function(e){function t(t,i,n){return e.call(this,t,i,y.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"down",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToBelowGroup",t.LABEL=n.localize("moveEditorToBelowGroup","Move Editor into Below Group"),t=r([o(2,g.ICommandService)],t)
}(w);t.MoveEditorToBelowGroupAction=Fe;var Ne=function(e){function t(t,i,n){return e.call(this,t,i,y.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"left",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToLeftGroup",t.LABEL=n.localize("moveEditorToLeftGroup","Move Editor into Left Group"),t=r([o(2,g.ICommandService)],t)}(w);t.MoveEditorToLeftGroupAction=Ne;var Be=function(e){function t(t,i,n){return e.call(this,t,i,y.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"right",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToRightGroup",t.LABEL=n.localize("moveEditorToRightGroup","Move Editor into Right Group"),t=r([o(2,g.ICommandService)],t)}(w);t.MoveEditorToRightGroupAction=Be;var We=function(e){function t(t,i,n){return e.call(this,t,i,y.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"first",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToFirstGroup",t.LABEL=n.localize("moveEditorToFirstGroup","Move Editor into First Group"),t=r([o(2,g.ICommandService)],t)}(w)
;t.MoveEditorToFirstGroupAction=We;var Ve=function(e){function t(t,i,n){return e.call(this,t,i,y.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"last",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToLastGroup",t.LABEL=n.localize("moveEditorToLastGroup","Move Editor into Last Group"),t=r([o(2,g.ICommandService)],t)}(w);t.MoveEditorToLastGroupAction=Ve;var ze=function(e){function t(t,i,n){return e.call(this,t,i,y.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{}]})||this}return i(t,e),t.ID="workbench.action.editorLayoutSingle",t.LABEL=n.localize("editorLayoutSingle","Single Column Editor Layout"),t=r([o(2,g.ICommandService)],t)}(w);t.EditorLayoutSingleAction=ze;var Ge=function(e){function t(t,i,n){return e.call(this,t,i,y.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{},{}],orientation:0})||this}return i(t,e),t.ID="workbench.action.editorLayoutTwoColumns",t.LABEL=n.localize("editorLayoutTwoColumns","Two Columns Editor Layout"),t=r([o(2,g.ICommandService)],t)}(w);t.EditorLayoutTwoColumnsAction=Ge
;var Ke=function(e){function t(t,i,n){return e.call(this,t,i,y.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{},{},{}],orientation:0})||this}return i(t,e),t.ID="workbench.action.editorLayoutThreeColumns",t.LABEL=n.localize("editorLayoutThreeColumns","Three Columns Editor Layout"),t=r([o(2,g.ICommandService)],t)}(w);t.EditorLayoutThreeColumnsAction=Ke;var He=function(e){function t(t,i,n){return e.call(this,t,i,y.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{},{}],orientation:1})||this}return i(t,e),t.ID="workbench.action.editorLayoutTwoRows",t.LABEL=n.localize("editorLayoutTwoRows","Two Rows Editor Layout"),t=r([o(2,g.ICommandService)],t)}(w);t.EditorLayoutTwoRowsAction=He;var Ue=function(e){function t(t,i,n){return e.call(this,t,i,y.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{},{},{}],orientation:1})||this}return i(t,e),t.ID="workbench.action.editorLayoutThreeRows",t.LABEL=n.localize("editorLayoutThreeRows","Three Rows Editor Layout"),t=r([o(2,g.ICommandService)],t)}(w);t.EditorLayoutThreeRowsAction=Ue
;var je=function(e){function t(t,i,n){return e.call(this,t,i,y.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{groups:[{},{}]},{groups:[{},{}]}]})||this}return i(t,e),t.ID="workbench.action.editorLayoutTwoByTwoGrid",t.LABEL=n.localize("editorLayoutTwoByTwoGrid","Grid Editor Layout (2x2)"),t=r([o(2,g.ICommandService)],t)}(w);t.EditorLayoutTwoByTwoGridAction=je;var qe=function(e){function t(t,i,n){return e.call(this,t,i,y.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{},{groups:[{},{}]}],orientation:1})||this}return i(t,e),t.ID="workbench.action.editorLayoutTwoColumnsBottom",t.LABEL=n.localize("editorLayoutTwoColumnsBottom","Two Columns Bottom Editor Layout"),t=r([o(2,g.ICommandService)],t)}(w);t.EditorLayoutTwoColumnsBottomAction=qe;var $e=function(e){function t(t,i,n){return e.call(this,t,i,y.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{},{groups:[{},{}]}],orientation:0})||this}return i(t,e),t.ID="workbench.action.editorLayoutTwoRowsRight",t.LABEL=n.localize("editorLayoutTwoRowsRight","Two Rows Right Editor Layout"),
t=r([o(2,g.ICommandService)],t)}(w);t.EditorLayoutTwoRowsRightAction=$e;var Qe=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.direction=n,o.editorGroupService=r,o}return i(t,e),t.prototype.run=function(){return this.editorGroupService.addGroup(this.editorGroupService.activeGroup,this.direction,{activate:!0}),Promise.resolve(!0)},t}(s.Action);t.BaseCreateEditorGroupAction=Qe;var Ye=function(e){function t(t,i,n){return e.call(this,t,i,2,n)||this}return i(t,e),t.ID="workbench.action.newGroupLeft",t.LABEL=n.localize("newEditorLeft","New Editor Group to the Left"),t=r([o(2,S.IEditorGroupsService)],t)}(Qe);t.NewEditorGroupLeftAction=Ye;var Xe=function(e){function t(t,i,n){return e.call(this,t,i,3,n)||this}return i(t,e),t.ID="workbench.action.newGroupRight",t.LABEL=n.localize("newEditorRight","New Editor Group to the Right"),t=r([o(2,S.IEditorGroupsService)],t)}(Qe);t.NewEditorGroupRightAction=Xe;var Je=function(e){function t(t,i,n){return e.call(this,t,i,0,n)||this}return i(t,e),
t.ID="workbench.action.newGroupAbove",t.LABEL=n.localize("newEditorAbove","New Editor Group Above"),t=r([o(2,S.IEditorGroupsService)],t)}(Qe);t.NewEditorGroupAboveAction=Je;var Ze=function(e){function t(t,i,n){return e.call(this,t,i,1,n)||this}return i(t,e),t.ID="workbench.action.newGroupBelow",t.LABEL=n.localize("newEditorBelow","New Editor Group Below"),t=r([o(2,S.IEditorGroupsService)],t)}(Qe);t.NewEditorGroupBelowAction=Ze}),define(e[252],t([1,0,2,128,22,24,29,14,77,559,111,31,7,36,113,38,17,141,5,49,64,18,9,4,11,145,12,57,50,48,16,157,59,32,25,8,10,41,55,13,61,52,28,311]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W,V,z,G,K,H,U){"use strict";function j(e,t){var i=e?e.getResource():void 0;if(i&&(t.canHandleResource(i)||i.scheme===F.Schemas.untitled))return i}Object.defineProperty(t,"__esModule",{value:!0});var q=function(e){function t(i,n,r,o,s,a,c,l,u){var d=e.call(this,t.ID,l,u)||this;return d.editorGroupService=i,d.notificationService=n,d.contextKeyService=r,
d.configurationService=o,d.instantiationService=s,d.partService=a,d.environmentService=c,d._onShow=d._register(new E.Emitter),d._onHide=d._register(new E.Emitter),d.mapResolvedHandlersToPrefix=Object.create(null),d.mapContextKeyToContext=Object.create(null),d.handlerOnOpenCalled=Object.create(null),d.promisesToCompleteOnHide=[],d.actionProvider=new h.ContributableActionProvider,d.editorHistoryHandler=d.instantiationService.createInstance(Q),d.updateConfiguration(),d.registerListeners(),d}return i(t,e),Object.defineProperty(t.prototype,"onShow",{get:function(){return this._onShow.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onHide",{get:function(){return this._onHide.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(){return e.updateConfiguration()})),this._register(this.partService.onTitleBarVisibilityChange(function(){return e.positionQuickOpenWidget()})),
this._register(s.onDidChangeZoomLevel(function(){return e.positionQuickOpenWidget()}))},t.prototype.updateConfiguration=function(){this.environmentService.args["sticky-quickopen"]?this.closeOnFocusLost=!1:this.closeOnFocusLost=this.configurationService.getValue(C.CLOSE_ON_FOCUS_LOST_CONFIG),this.preserveInput=this.configurationService.getValue(C.PRESERVE_INPUT_CONFIG),this.searchInEditorHistory=this.configurationService.getValue(C.SEARCH_EDITOR_HISTORY)},t.prototype.navigate=function(e,t){this.quickOpenWidget&&this.quickOpenWidget.navigate(e,t)},t.prototype.accept=function(){this.quickOpenWidget&&this.quickOpenWidget.isVisible()&&this.quickOpenWidget.accept()},t.prototype.focus=function(){this.quickOpenWidget&&this.quickOpenWidget.isVisible()&&this.quickOpenWidget.focus()},t.prototype.close=function(){this.quickOpenWidget&&this.quickOpenWidget.isVisible()&&this.quickOpenWidget.hide(2)},t.prototype.emitQuickOpenVisibilityChange=function(e){e?this._onShow.fire():this._onHide.fire()},
t.prototype.show=function(e,t){var i=this,r=t?t.quickNavigateConfiguration:void 0,o=t?t.inputSelection:void 0,s=t?t.autoFocus:void 0,a=new Promise(function(e){i.promisesToCompleteOnHide.push(e)}),c=g.Registry.as(C.Extensions.Quickopen),l=c.getQuickOpenHandler(e)||c.getDefaultQuickOpenHandler();if(this.resolveHandler(l),!this.quickOpenWidget){this.quickOpenWidget=this._register(new p.QuickOpenWidget(this.partService.getWorkbenchElement(),{onOk:function(){return i.onOk()},onCancel:function(){},onType:function(e){return i.onType(e||"")},onShow:function(){return i.handleOnShow()},onHide:function(e){return i.handleOnHide(e)},onFocusLost:function(){return!i.closeOnFocusLost}},{inputPlaceHolder:this.hasHandler("?")?n.localize("quickOpenInput","Type '?' to get help on the actions you can take from here"):"",keyboardSupport:!1,treeCreator:function(e,t,n){return i.instantiationService.createInstance(L.WorkbenchTree,e,t,n)}})),this._register(O.attachQuickOpenStyler(this.quickOpenWidget,this.themeService,{
background:A.SIDE_BAR_BACKGROUND,foreground:A.SIDE_BAR_FOREGROUND}));var u=this.quickOpenWidget.create();B.addClass(u,"show-file-icons"),this.positionQuickOpenWidget()}if(this.dimension&&this.quickOpenWidget.layout(this.dimension),!this.quickOpenWidget.isVisible()||r)if(e)this.quickOpenWidget.show(e,{quickNavigateConfiguration:r,inputSelection:o,autoFocus:s});else{var d=this.getEditorHistoryWithGroupLabel();if(d.getEntries().length<2&&(r=null),!s)if(r){var h=0===this.editorGroupService.activeGroup.count;s={autoFocusFirstEntry:h,autoFocusSecondEntry:!h}}else s={autoFocusFirstEntry:!0};var f=g.Registry.as(C.Extensions.Quickopen);this.setQuickOpenContextKey(f.getDefaultQuickOpenHandler().contextKey),this.preserveInput?this.quickOpenWidget.show(d,{value:this.lastSubmittedInputValue,quickNavigateConfiguration:r,autoFocus:s,inputSelection:o}):this.quickOpenWidget.show(d,{quickNavigateConfiguration:r,autoFocus:s,inputSelection:o})}else this.quickOpenWidget.show(e||"",{inputSelection:o});return a},
t.prototype.positionQuickOpenWidget=function(){var e=this.partService.getTitleBarOffset();this.quickOpenWidget&&(this.quickOpenWidget.getElement().style.top=e+"px")},t.prototype.handleOnShow=function(){this.emitQuickOpenVisibilityChange(!0)},t.prototype.handleOnHide=function(e){var t=this;this.previousActiveHandlerDescriptor=null,this.cancelPendingGetResultsInvocation();var i=function(i){n.mapResolvedHandlersToPrefix[i].then(function(n){t.handlerOnOpenCalled[i]=!1,n.onClose(2===e)})},n=this;for(var r in this.mapResolvedHandlersToPrefix)i(r);for(;this.promisesToCompleteOnHide.length;)this.promisesToCompleteOnHide.pop()(!0);1!==e&&this.editorGroupService.activeGroup.focus(),this.resetQuickOpenContextKeys(),this.emitQuickOpenVisibilityChange(!1)},t.prototype.cancelPendingGetResultsInvocation=function(){this.pendingGetResultsInvocation&&(this.pendingGetResultsInvocation.cancel(),this.pendingGetResultsInvocation.dispose(),this.pendingGetResultsInvocation=null)},t.prototype.resetQuickOpenContextKeys=function(){
var e=this;Object.keys(this.mapContextKeyToContext).forEach(function(t){return e.mapContextKeyToContext[t].reset()})},t.prototype.setQuickOpenContextKey=function(e){var t;e&&((t=this.mapContextKeyToContext[e])||(t=new D.RawContextKey(e,!1).bindTo(this.contextKeyService),this.mapContextKeyToContext[e]=t)),t&&t.get()||(this.resetQuickOpenContextKeys(),t&&t.set(!0))},t.prototype.hasHandler=function(e){return!!g.Registry.as(C.Extensions.Quickopen).getQuickOpenHandler(e)},t.prototype.getEditorHistoryWithGroupLabel=function(){var e=this.editorHistoryHandler.getResults();return e.length>0&&(e[0]=new Z(e[0],n.localize("historyMatches","recently opened"),!1)),new d.QuickOpenModel(e,this.actionProvider)},t.prototype.onOk=function(){this.isQuickOpen&&(this.lastSubmittedInputValue=this.lastInputValue)},t.prototype.onType=function(e){var t=this;this.cancelPendingGetResultsInvocation();var i=new H.CancellationTokenSource,n=i.token;this.pendingGetResultsInvocation=i
;var r=g.Registry.as(C.Extensions.Quickopen),o=r.getQuickOpenHandler(e),s=r.getDefaultQuickOpenHandler(),c=o&&o.instantProgress,u=o?o.contextKey:s.contextKey;c||this.quickOpenWidget.getProgressBar().stop().hide(),this.quickOpenWidget.setExtraClass(null),this.setQuickOpenContextKey(u);var d=a.trim(e);if(!d)return this.resolveHandler(o||s),this.quickOpenWidget.setInput(this.getEditorHistoryWithGroupLabel(),{autoFocusFirstEntry:!0}),this.lastInputValue="",void(this.isQuickOpen=!0);var p,h=!1;o?(this.isQuickOpen=!1,p=this.handleSpecificHandler(o,e,n)):(this.isQuickOpen=!0,this.lastInputValue=d,p=this.handleDefaultHandler(s,e,n)),this.previousActiveHandlerDescriptor=o,setTimeout(function(){h||n.isCancellationRequested||t.quickOpenWidget.getProgressBar().infinite().show()},c?0:800),p.then(function(){h=!0,n.isCancellationRequested||t.quickOpenWidget.getProgressBar().hide(),i.dispose()},function(e){h=!0,i.dispose(),w.onUnexpectedError(e),t.notificationService.error(l.isString(e)?new Error(e):e)})},
t.prototype.handleDefaultHandler=function(e,i,r){var o,s=this;return(o=i&&!this.searchInEditorHistory?[]:this.editorHistoryHandler.getResults(i,r)).length>0&&(o[0]=new Z(o[0],n.localize("historyMatches","recently opened"),!1)),this.resolveHandler(e).then(function(e){var n=new d.QuickOpenModel(o,s.actionProvider),a=!1,c=s.quickOpenWidget.getInput();if(c&&c.entries&&c.entries.some(function(e){return e instanceof ee||e instanceof Z})||o.length>0){(e.hasShortResponseTime()?G.timeout(t.MAX_SHORT_RESPONSE_TIME):Promise.resolve(void 0)).then(function(){r.isCancellationRequested||a||(s.quickOpenWidget.setInput(n,{autoFocusFirstEntry:!0}),a=!0)})}return e.getResults(i,r).then(function(t){if(!r.isCancellationRequested){a||(s.quickOpenWidget.setInput(n,{autoFocusFirstEntry:!0}),a=!0);var i=t&&t.entries||[];s.mergeResults(n,i,e.getGroupLabel())}})})},t.prototype.mergeResults=function(e,t,i){for(var r=this.mapEntriesToResource(e),o=[],s=0;s<t.length;s++){var a=t[s],c=a.getResource()
;a.mergeWithEditorHistory()&&c&&r[c.toString()]||o.push(a)}if(o.length>0){var l=0===e.getEntries().length,u=e.getEntries().length>0;o[0]=new d.QuickOpenEntryGroup(o[0],i,u),e.addEntries(o),this.quickOpenWidget.refresh(e,{autoFocusFirstEntry:l})}else 0===e.getEntries().length&&(e.addEntries([new $(n.localize("noResultsFound1","No results found"))]),this.quickOpenWidget.refresh(e,{autoFocusFirstEntry:!0}))},t.prototype.handleSpecificHandler=function(e,t,i){var r=this;return this.resolveHandler(e).then(function(o){t=t.substr(e.prefix.length);var s=o.canRun();if(l.isUndefinedOrNull(s)||"boolean"==typeof s&&!s||"string"==typeof s){var a="string"==typeof s?s:n.localize("canNotRunPlaceholder","This quick open handler can not be used in the current context"),c=new d.QuickOpenModel([new $(a)],r.actionProvider);return r.showModel(c,o.getAutoFocus(t,{model:c,quickNavigateConfiguration:r.quickOpenWidget.getQuickNavigateConfiguration()}),o.getAriaLabel()),Promise.resolve(null)}var u=o.getClass()
;return u&&r.quickOpenWidget.setExtraClass(u),r.previousActiveHandlerDescriptor!==e&&r.clearModel(),o.getResults(t,i).then(function(e){if(!i.isCancellationRequested)if(e&&e.entries.length)r.showModel(e,o.getAutoFocus(t,{model:e,quickNavigateConfiguration:r.quickOpenWidget.getQuickNavigateConfiguration()}),o.getAriaLabel());else{var n=new d.QuickOpenModel([new $(o.getEmptyLabel(t))]);r.showModel(n,o.getAutoFocus(t,{model:n,quickNavigateConfiguration:r.quickOpenWidget.getQuickNavigateConfiguration()}),o.getAriaLabel())}})})},t.prototype.showModel=function(e,t,i){this.quickOpenWidget.getInput()!==e?this.quickOpenWidget.setInput(e,t,i):this.quickOpenWidget.refresh(e,t)},t.prototype.clearModel=function(){this.showModel(new d.QuickOpenModel,null)},t.prototype.mapEntriesToResource=function(e){var t={};return e.getEntries().forEach(function(e){e.getResource()&&(t[e.getResource().toString()]=e)}),t},t.prototype.resolveHandler=function(e){var t=this,i=this._resolveHandler(e),n=e.getId()
;if(!this.handlerOnOpenCalled[n]){var r=i;this.handlerOnOpenCalled[n]=!0,i=this.mapResolvedHandlersToPrefix[n]=r.then(function(e){return t.mapResolvedHandlersToPrefix[n]=r,e.onOpen(),e})}return i.then(null,function(i){return delete t.mapResolvedHandlersToPrefix[n],Promise.reject(new Error("Unable to instantiate quick open handler "+e.getId()+": "+JSON.stringify(i)))})},t.prototype._resolveHandler=function(e){var t=e.getId();return this.mapResolvedHandlersToPrefix[t]?this.mapResolvedHandlersToPrefix[t]:this.mapResolvedHandlersToPrefix[t]=Promise.resolve(e.instantiate(this.instantiationService))},t.prototype.layout=function(e){this.dimension=e,this.quickOpenWidget&&this.quickOpenWidget.layout(this.dimension)},t.MAX_SHORT_RESPONSE_TIME=500,t.ID="workbench.component.quickopen",t=r([o(0,V.IEditorGroupsService),o(1,N.INotificationService),o(2,D.IContextKeyService),o(3,I.IConfigurationService),o(4,x.IInstantiationService),o(5,_.IPartService),o(6,k.IEnvironmentService),o(7,R.IThemeService),o(8,U.IStorageService)],t)
}(b.Component);t.QuickOpenController=q;var $=function(e){function t(t){var i=e.call(this)||this;return i.placeHolderLabel=t,i}return i(t,e),t.prototype.getLabel=function(){return this.placeHolderLabel},t}(d.QuickOpenEntryGroup),Q=function(){function e(e,t,i){this.historyService=e,this.instantiationService=t,this.fileService=i,this.scorerCache=Object.create(null)}return e.prototype.getResults=function(e,t){var i=this,n=P.prepareQuery(e),r=this.historyService.getHistory();if(!n.value)return r.map(function(e){return i.instantiationService.createInstance(ee,e)});var o=n.containsPathSeparator?X:J;return r.filter(function(e){return!!(e instanceof S.EditorInput?j(e,i.fileService):e.resource)}).map(function(e){return i.instantiationService.createInstance(ee,e)}).filter(function(e){var t=P.scoreItem(e,n,!1,o,i.scorerCache);return!!t.score&&(e.setHighlights(t.labelMatch,t.descriptionMatch),!0)}).sort(function(e,t){return P.compareItemsByScore(e,t,n,!1,o,i.scorerCache,function(){return-1})})},
e=r([o(0,T.IHistoryService),o(1,x.IInstantiationService),o(2,M.IFileService)],e)}(),Y=function(e){function t(t){var i=e.call(this)||this;return i.allowMatchOnDescription=t,i}return i(t,e),t.prototype.getItemDescription=function(e){return this.allowMatchOnDescription?e.getDescription():void 0},t}(d.QuickOpenItemAccessorClass),X=new Y(!0),J=new Y(!1),Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(d.QuickOpenEntryGroup);t.EditorHistoryEntryGroup=Z;var ee=function(e){function t(t,i,n,r,o,s,a,l){var u=e.call(this,i)||this;if(u.modeService=n,u.modelService=r,u.textFileService=o,u.configurationService=s,u.input=t,t instanceof S.EditorInput)u.resource=j(t,l),u.label=t.getName(),u.description=t.getDescription(),u.dirty=t.isDirty();else{var d=t;u.resource=d.resource,u.label=c.basenameOrAuthority(d.resource),u.description=a.getUriLabel(c.dirname(u.resource),{relative:!0}),u.dirty=u.resource&&u.textFileService.isDirty(u.resource),
u.dirty&&1===u.textFileService.getAutoSaveMode()&&(u.dirty=!1)}return u}return i(t,e),t.prototype.getIcon=function(){return this.dirty?"dirty":""},t.prototype.getLabel=function(){return this.label},t.prototype.getLabelOptions=function(){return{extraClasses:m.getIconClasses(this.modelService,this.modeService,this.resource)}},t.prototype.getAriaLabel=function(){return n.localize("entryAriaLabel","{0}, recently opened",this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.getResource=function(){return this.resource},t.prototype.getInput=function(){return this.input},t.prototype.run=function(t,i){if(1===t){var n=!i.quickNavigateConfiguration&&(i.keymods.alt||i.keymods.ctrlCmd),r=!this.configurationService.getValue().workbench.editor.enablePreviewFromQuickOpen||i.keymods.alt;return this.input instanceof S.EditorInput?this.editorService.openEditor(this.input,{pinned:r},n?W.SIDE_GROUP:W.ACTIVE_GROUP):this.editorService.openEditor({resource:this.input.resource,options:{pinned:r}
},n?W.SIDE_GROUP:W.ACTIVE_GROUP),!0}return e.prototype.run.call(this,t,i)},t=r([o(1,W.IEditorService),o(2,v.IModeService),o(3,y.IModelService),o(4,f.ITextFileService),o(5,I.IConfigurationService),o(6,z.ILabelService),o(7,M.IFileService)],t)}(C.EditorQuickOpenEntry);t.EditorHistoryEntry=ee;var te=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this,t,i)||this;return c.quickInputService=n,c.modelService=r,c.modeService=o,c.instantiationService=s,c.historyService=a,c}return i(t,e),t.prototype.run=function(){var e=this,t=this.historyService.getHistory().map(function(t){var i=e.instantiationService.createInstance(ee,t);return{input:t,iconClasses:m.getIconClasses(e.modelService,e.modeService,i.getResource()),label:i.getLabel(),description:i.getDescription()}});return this.quickInputService.pick(t,{placeHolder:n.localize("pickHistory","Select an editor entry to remove from history"),matchOnDescription:!0}).then(function(t){t&&e.historyService.remove(t.input)})},t.ID="workbench.action.removeFromEditorHistory",
t.LABEL=n.localize("removeFromEditorHistory","Remove From History"),t=r([o(2,K.IQuickInputService),o(3,y.IModelService),o(4,v.IModeService),o(5,x.IInstantiationService),o(6,T.IHistoryService)],t)}(u.Action);t.RemoveFromEditorHistoryAction=te}),define(e[462],t([1,0,7,54,26,47,74,252,110,61]),function(e,t,i,n,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.closeQuickOpen",weight:200,when:c.inQuickOpenContext,primary:9,secondary:[1033],handler:function(e){e.get(n.IQuickOpenService).close();return e.get(l.IQuickInputService).cancel()}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.acceptSelectedQuickOpenItem",weight:200,when:c.inQuickOpenContext,primary:0,handler:function(e){e.get(n.IQuickOpenService).accept();return e.get(l.IQuickInputService).accept()}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.focusQuickOpen",weight:200,
when:c.inQuickOpenContext,primary:0,handler:function(e){e.get(n.IQuickOpenService).focus();e.get(l.IQuickInputService).focus()}});var u=i.Registry.as(o.Extensions.WorkbenchActions),d={primary:2094,secondary:[2083],mac:{primary:2094,secondary:null}};s.KeybindingsRegistry.registerKeybindingRule({id:c.QUICKOPEN_ACTION_ID,weight:200,when:void 0,primary:d.primary,secondary:d.secondary,mac:d.mac}),r.MenuRegistry.appendMenuItem(0,{command:{id:c.QUICKOPEN_ACTION_ID,title:{value:c.QUICKOPEN_ACION_LABEL,original:"Go to File..."}}}),u.registerWorkbenchAction(new r.SyncActionDescriptor(c.QuickOpenSelectNextAction,c.QuickOpenSelectNextAction.ID,c.QuickOpenSelectNextAction.LABEL,{primary:0,mac:{primary:300}},c.inQuickOpenContext,250),"Select Next in Quick Open"),u.registerWorkbenchAction(new r.SyncActionDescriptor(c.QuickOpenSelectPreviousAction,c.QuickOpenSelectPreviousAction.ID,c.QuickOpenSelectPreviousAction.LABEL,{primary:0,mac:{primary:302}},c.inQuickOpenContext,250),"Select Previous in Quick Open"),
u.registerWorkbenchAction(new r.SyncActionDescriptor(c.QuickOpenNavigateNextAction,c.QuickOpenNavigateNextAction.ID,c.QuickOpenNavigateNextAction.LABEL),"Navigate Next in Quick Open"),u.registerWorkbenchAction(new r.SyncActionDescriptor(c.QuickOpenNavigatePreviousAction,c.QuickOpenNavigatePreviousAction.ID,c.QuickOpenNavigatePreviousAction.LABEL),"Navigate Previous in Quick Open"),u.registerWorkbenchAction(new r.SyncActionDescriptor(a.RemoveFromEditorHistoryAction,a.RemoveFromEditorHistoryAction.ID,a.RemoveFromEditorHistoryAction.LABEL),"Remove From History");s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigateNextInFilePicker",weight:250,handler:c.getQuickNavigateHandler("workbench.action.quickOpenNavigateNextInFilePicker",!0),when:c.defaultQuickOpenContext,primary:d.primary,secondary:d.secondary,mac:d.mac});s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigatePreviousInFilePicker",weight:250,
handler:c.getQuickNavigateHandler("workbench.action.quickOpenNavigatePreviousInFilePicker",!1),when:c.defaultQuickOpenContext,primary:1024|d.primary,secondary:[1024|d.secondary[0]],mac:{primary:1024|d.mac.primary,secondary:null}})}),define(e[155],t([1,0,15,166,164,171,33,24,17,303,4,5,31,222,114,55]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this)||this;return u.resource=t,u.modeId=n,u.initialValue=r,u.preferredEncoding=o,u.instantiationService=s,u.textFileService=a,u.hashService=c,u.labelService=l,u._onDidModelChangeContent=u._register(new f.Emitter),u._onDidModelChangeEncoding=u._register(new f.Emitter),u._hasAssociatedFilePath=i,u}return i(t,e),Object.defineProperty(t.prototype,"onDidModelChangeContent",{get:function(){return this._onDidModelChangeContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidModelChangeEncoding",{get:function(){
return this._onDidModelChangeEncoding.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAssociatedFilePath",{get:function(){return this._hasAssociatedFilePath},enumerable:!0,configurable:!0}),t.prototype.getTypeId=function(){return t.ID},t.prototype.getResource=function(){return this.resource},t.prototype.getModeId=function(){return this.cachedModel?this.cachedModel.getModeId():this.modeId},t.prototype.getName=function(){return this.hasAssociatedFilePath?u.basenameOrAuthority(this.resource):this.resource.path},Object.defineProperty(t.prototype,"shortDescription",{get:function(){return l.basename(this.labelService.getUriLabel(u.dirname(this.resource)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediumDescription",{get:function(){return this.labelService.getUriLabel(u.dirname(this.resource),{relative:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longDescription",{get:function(){
return this.labelService.getUriLabel(u.dirname(this.resource))},enumerable:!0,configurable:!0}),t.prototype.getDescription=function(e){if(void 0===e&&(e=1),!this.hasAssociatedFilePath)return null;var t;switch(e){case 0:t=this.shortDescription;break;case 2:t=this.longDescription;break;case 1:default:t=this.mediumDescription}return t},Object.defineProperty(t.prototype,"shortTitle",{get:function(){return this.getName()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediumTitle",{get:function(){return this.labelService.getUriLabel(this.resource,{relative:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longTitle",{get:function(){return this.labelService.getUriLabel(this.resource)},enumerable:!0,configurable:!0}),t.prototype.getTitle=function(e){if(!this.hasAssociatedFilePath)return this.getName();var t;switch(e){case 0:t=this.shortTitle;break;case 1:t=this.mediumTitle;break;case 2:t=this.longTitle}return t},t.prototype.isDirty=function(){
return this.cachedModel?this.cachedModel.isDirty():!this.isDisposed()&&this.hasAssociatedFilePath},t.prototype.confirmSave=function(){return this.textFileService.confirmSave([this.resource])},t.prototype.save=function(){return this.textFileService.save(this.resource)},t.prototype.revert=function(){return this.cachedModel&&this.cachedModel.revert(),this.dispose(),n.TPromise.as(!0)},t.prototype.suggestFileName=function(){if(!this.hasAssociatedFilePath&&this.cachedModel){var e=this.cachedModel.getModeId();if(e!==c.PLAINTEXT_MODE_ID)return s.suggestFilename(e,this.getName())}return this.getName()},t.prototype.getEncoding=function(){return this.cachedModel?this.cachedModel.getEncoding():this.preferredEncoding},t.prototype.setEncoding=function(e,t){this.preferredEncoding=e,this.cachedModel&&this.cachedModel.setEncoding(e)},t.prototype.resolve=function(){return this.modelResolve?this.modelResolve:(this.cachedModel=this.createModel(),this.modelResolve=this.cachedModel.load(),this.modelResolve)},
t.prototype.createModel=function(){var e=this,t=this._register(this.instantiationService.createInstance(p.UntitledEditorModel,this.modeId,this.resource,this.hasAssociatedFilePath,this.initialValue,this.preferredEncoding));return this._register(t.onDidChangeContent(function(){return e._onDidModelChangeContent.fire()})),this._register(t.onDidChangeDirty(function(){return e._onDidChangeDirty.fire()})),this._register(t.onDidChangeEncoding(function(){return e._onDidModelChangeEncoding.fire()})),t},t.prototype.getTelemetryDescriptor=function(){var t=this,i=e.prototype.getTelemetryDescriptor.call(this);return i.resource=v.telemetryURIDescriptor(this.getResource(),function(e){return t.hashService.createSHA1(e)}),i},t.prototype.matches=function(i){if(!0===e.prototype.matches.call(this,i))return!0;if(i instanceof t){return i.resource.toString()===this.resource.toString()}return!1},t.prototype.dispose=function(){this.modelResolve=void 0,e.prototype.dispose.call(this)},t.ID="workbench.editors.untitledEditorInput",
r([a.memoize],t.prototype,"shortDescription",null),r([a.memoize],t.prototype,"mediumDescription",null),r([a.memoize],t.prototype,"longDescription",null),r([a.memoize],t.prototype,"shortTitle",null),r([a.memoize],t.prototype,"mediumTitle",null),r([a.memoize],t.prototype,"longTitle",null),t=r([o(5,h.IInstantiationService),o(6,g.ITextFileService),o(7,m.IHashService),o(8,y.ILabelService)],t)}(d.EditorInput);t.UntitledEditorInput=S}),define(e[464],t([1,0,15,2,29,116,137,155,133,30,28,106,4,12,31,5,41,10,42]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){function t(t,i,n,r,o,s,a,c,l,u){return e.call(this,t,i,n,r,o,s,c,l,a,u)||this}return i(t,e),t.prototype.getTitle=function(){return this.input?this.input.getName():s.localize("textEditor","Text Editor")},t.prototype.setInput=function(t,i,r){var o=this;return this.saveTextResourceEditorViewState(this.input),e.prototype.setInput.call(this,t,i,r).then(function(){
return t.resolve().then(function(e){if(!r.isCancellationRequested){if(!(e instanceof l.BaseTextEditorModel))return n.TPromise.wrapError(new Error("Unable to open file as text"));var s=o.getControl(),c=e.textEditorModel;s.setModel(c);var u=!1,d=i;d&&a.isFunction(d.apply)&&(u=d.apply(s,1)),u||o.restoreTextResourceEditorViewState(t)}})})},t.prototype.restoreTextResourceEditorViewState=function(e){if(e instanceof u.UntitledEditorInput||e instanceof c.ResourceEditorInput){var t=this.loadTextEditorViewState(e.getResource());t&&this.getControl().restoreViewState(t)}},t.prototype.setOptions=function(e){var t=e;t&&a.isFunction(t.apply)&&t.apply(this.getControl(),0)},t.prototype.getConfigurationOverrides=function(){var t=e.prototype.getConfigurationOverrides.call(this);return t.readOnly=!(this.input instanceof u.UntitledEditorInput),t},t.prototype.getAriaLabel=function(){var e=this.input,t=!(this.input instanceof u.UntitledEditorInput),i=e&&e.getName()
;return t?i?s.localize("readonlyEditorWithInputAriaLabel","{0}. Readonly text editor.",i):s.localize("readonlyEditorAriaLabel","Readonly text editor."):i?s.localize("untitledFileEditorWithInputAriaLabel","{0}. Untitled file text editor.",i):s.localize("untitledFileEditorAriaLabel","Untitled file text editor.")},t.prototype.revealLastLine=function(e){var t=this.getControl(),i=t.getModel();if(i){var n=i.getLineCount();e&&t.getPosition().lineNumber!==n||t.revealPosition({lineNumber:n,column:i.getLineMaxColumn(n)},0)}},t.prototype.clearInput=function(){this.saveTextResourceEditorViewState(this.input),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.saveState=function(){this.input instanceof u.UntitledEditorInput&&this.saveTextResourceEditorViewState(this.input),e.prototype.saveState.call(this)},t.prototype.saveTextResourceEditorViewState=function(t){var i=this;if(t instanceof u.UntitledEditorInput||t instanceof c.ResourceEditorInput){var n=t.getResource()
;t.isDisposed()?e.prototype.clearTextEditorViewState.call(this,[n]):(e.prototype.saveTextEditorViewState.call(this,n),y.once(t.onDispose)(function(){e.prototype.clearTextEditorViewState.call(i,[n])}))}},t=r([o(1,p.ITelemetryService),o(2,g.IInstantiationService),o(3,h.IStorageService),o(4,f.ITextResourceConfigurationService),o(5,v.IThemeService),o(6,S.IEditorGroupsService),o(7,m.ITextFileService),o(8,b.IEditorService),o(9,E.IWindowService)],t)}(d.BaseTextEditor);t.AbstractTextResourceEditor=_;var C=function(e){function t(i,n,r,o,s,a,c,l,u){return e.call(this,t.ID,i,n,r,o,s,l,a,c,u)||this}return i(t,e),t.ID="workbench.editors.textResourceEditor",t=r([o(0,p.ITelemetryService),o(1,g.IInstantiationService),o(2,h.IStorageService),o(3,f.ITextResourceConfigurationService),o(4,v.IThemeService),o(5,m.ITextFileService),o(6,b.IEditorService),o(7,S.IEditorGroupsService),o(8,E.IWindowService)],t)}(_);t.TextResourceEditor=C}),define(e[66],t([1,0,16,118,11,3,38,36,31,558,7,109,32]),function(e,t,i,n,s,a,c,l,u,d,p,h,f){
"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEWLET_ID="workbench.view.explorer",t.VIEW_CONTAINER=p.Registry.as(h.Extensions.ViewContainersRegistry).registerViewContainer(t.VIEWLET_ID);t.ExplorerViewletVisibleContext=new s.RawContextKey("explorerViewletVisible",!0),t.ExplorerFolderContext=new s.RawContextKey("explorerResourceIsFolder",!1),t.ExplorerResourceReadonlyContext=new s.RawContextKey("explorerResourceReadonly",!1),t.ExplorerResourceNotReadonlyContext=t.ExplorerResourceReadonlyContext.toNegated(),t.ExplorerRootContext=new s.RawContextKey("explorerResourceIsRoot",!1),t.FilesExplorerFocusedContext=new s.RawContextKey("filesExplorerFocus",!0),t.OpenEditorsVisibleContext=new s.RawContextKey("openEditorsVisible",!1),t.OpenEditorsFocusedContext=new s.RawContextKey("openEditorsFocus",!0),t.ExplorerFocusedContext=new s.RawContextKey("explorerViewletFocus",!0),t.OpenEditorsVisibleCondition=s.ContextKeyExpr.has("openEditorsVisible"),
t.FilesExplorerFocusCondition=s.ContextKeyExpr.and(s.ContextKeyExpr.has("explorerViewletVisible"),s.ContextKeyExpr.has("filesExplorerFocus"),s.ContextKeyExpr.not(d.InputFocusedContextKey)),t.ExplorerFocusCondition=s.ContextKeyExpr.and(s.ContextKeyExpr.has("explorerViewletVisible"),s.ContextKeyExpr.has("explorerViewletFocus"),s.ContextKeyExpr.not(d.InputFocusedContextKey)),t.PREFERENCES_EDITOR_ID="workbench.editor.preferencesEditor",t.TEXT_FILE_EDITOR_ID="workbench.editors.files.textFileEditor",t.FILE_EDITOR_INPUT_ID="workbench.editors.files.fileEditorInput",t.BINARY_FILE_EDITOR_ID="workbench.editors.files.binaryFileEditor",t.explorerItemToFileResource=function(e){if(e instanceof n.ExplorerItem){var t=e;return{resource:t.resource,isDirectory:t.isDirectory}}if(e instanceof n.OpenEditor){var i=e.getResource();if(i)return{resource:i}}return null},t.SortOrderConfiguration={DEFAULT:"default",MIXED:"mixed",FILES_FIRST:"filesFirst",TYPE:"type",MODIFIED:"modified"};var g=function(){function e(e,t,i,n){
this.textFileService=e,this.fileService=t,this.modeService=i,this.modelService=n}return e.prototype.provideTextContent=function(e){var t=this,i=e.with({scheme:f.Schemas.file});return this.resolveEditorModel(e).then(function(n){if(!t.fileWatcher){t.fileWatcher=t.fileService.onFileChanges(function(n){n.contains(i,0)&&t.resolveEditorModel(e,!1)});var r=n.onWillDispose(function(){r.dispose(),t.fileWatcher=a.dispose(t.fileWatcher)})}return n})},e.prototype.resolveEditorModel=function(e,t){var i=this;void 0===t&&(t=!0);var n=e.with({scheme:f.Schemas.file});return this.textFileService.resolveTextContent(n).then(function(r){var o=i.modelService.getModel(e);if(o)i.modelService.updateModel(o,r.value);else if(t){var s=i.modelService.getModel(n),a=void 0;a=s?i.modeService.create(s.getModeId()):i.modeService.createByFilepathOrFirstLine(n.fsPath),o=i.modelService.createModel(r.value,a,e)}return o})},e.prototype.dispose=function(){this.fileWatcher=a.dispose(this.fileWatcher)},
e=r([o(0,u.ITextFileService),o(1,i.IFileService),o(2,l.IModeService),o(3,c.IModelService)],e)}();t.FileOnDiskContentProvider=g}),define(e[189],t([1,0,17,31,58,24,66]),function(e,t,n,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.resource=t,o._renderComponent=i,o.textFileService=n,o.textModelResolverService=r,o.forceOpenText=!1,o}return i(t,e),t.prototype.renderComponent=function(e,t){var i=this;this.disposeListener&&(this.disposeListener(),this.disposeListener=null),this._renderComponent(e,{onChangeVSCode:function(e){return i.updateValue(e)},getCode:function(){return i.getValue()},onDidChangeDirty:function(e){return i.onDidChangeDirty(e)},onDispose:function(e){i.disposeListener=e,i.onDispose(e)},openText:function(){t()}})},t.prototype.forceOpenAsText=function(){this.forceOpenText=!0},t.prototype.getValue=function(){var e=this.textFileService.models.get(this.resource);return e?e.textEditorModel.getValue():""},
t.prototype.updateValue=function(e){var t=this.textFileService.models.get(this.resource);t&&(t.textEditorModel.applyEdits([{text:e,range:t.textEditorModel.getFullModelRange()}]),this._onDidChangeDirty.fire())},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return"Configuration ("+c.basename(this.resource)+")"},t.prototype.getResource=function(){return this.resource},t.prototype.isResolved=function(){return!!this.textFileService.models.get(this.resource)},t.prototype.isDirty=function(){var e=this.textFileService.models.get(this.resource);return!!e&&e.isDirty()},t.prototype.confirmSave=function(){return Promise.resolve(0)},t.prototype.save=function(){return Promise.resolve(!0)},t.prototype.getPreferredEditorId=function(e){return this.forceOpenText?l.TEXT_FILE_EDITOR_ID:e[0]},t.prototype.matches=function(e){return e.getResource&&this.getResource().toString()===e.getResource().toString()},t.prototype.resolve=function(){var e=this
;return this.textFileService.models.loadOrCreate(this.resource,{reload:{async:!0},reason:1}).then(function(t){return e._register(t.onDidStateChange(function(){e._onDidChangeDirty.fire()})),e.textModelReference||(e.textModelReference=e.textModelResolverService.createModelReference(e.resource)),e.textModelReference.then(function(e){return e.object})},function(e){return Promise.reject(e)})},t.ID="workbench.input.react",t=r([o(2,s.ITextFileService),o(3,a.ITextModelService)],t)}(n.EditorInput);t.ReactEditorInput=u}),define(e[468],t([1,0,60,10,9,3,189,4]),function(e,t,i,n,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t,i,n){this.customEditorAPI=e,this.editorService=t,this.configurationService=i,this.instantiationService=n,this.handleSettingsEditorOverride()}return e.prototype.handleSettingsEditorOverride=function(){var e=this;this.editorOpeningListener=a.dispose(this.editorOpeningListener),
this.configurationService.getValue(i.DEFAULT_SETTINGS_EDITOR_SETTING)&&(this.editorOpeningListener=this.editorService.overrideOpenEditor(function(t,i,n){return e.onEditorOpening(t,i,n)}))},e.prototype.openReactEditor=function(e,t){return this.editorService.openEditor(this.instantiationService.createInstance(c.ReactEditorInput,e,t))},e.prototype.onEditorOpening=function(e,t,i){var n=e.getResource();if(null!==n&&!(e instanceof c.ReactEditorInput)){var r=n.fsPath.replace(/^\/sandbox/,""),o=this.customEditorAPI.getCustomEditor(r);return o?{override:this.openReactEditor(n,o)}:void 0}},e=r([o(1,n.IEditorService),o(2,s.IConfigurationService),o(3,l.IInstantiationService)],e)}();t.CodeSandboxConfigurationUIService=u}),define(e[469],t([1,0,82,30,12,189,10]),function(e,t,n,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(i,n,r){var o=e.call(this,t.ID,i,n)||this;return o.editorService=r,o}return i(t,e),t.prototype.openAsText=function(){
this.input instanceof c.ReactEditorInput&&(this.input.forceOpenAsText(),this.editorService.openEditor(this.input))},t.prototype.setInput=function(t,i,n){var r=this;return e.prototype.setInput.call(this,t,i,n).then(function(){return new Promise(process.nextTick)}).then(function(){r.render()})},t.prototype.createEditor=function(e){},t.prototype.render=function(){var e=this;this.input.resolve().then(function(t){e.input instanceof c.ReactEditorInput&&e.input.renderComponent(e.getContainer(),function(){return e.openAsText()})})},t.prototype.layout=function(e){this.getContainer().style.width=e.width+"px",this.getContainer().style.height=e.height+"px"},t.ID="workbench.editor.react",t=r([o(0,s.ITelemetryService),o(1,a.IThemeService),o(2,l.IEditorService)],t)}(n.BaseEditor);t.ReactEditor=u}),define(e[470],t([1,0,26,6,7,47,69,517,103,189,469,121]),function(e,t,i,n,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=r.Registry.as(o.Extensions.WorkbenchActions)
;p.registerWorkbenchAction(new i.SyncActionDescriptor(a.CodeSandboxTogglePreviewAction,a.CodeSandboxTogglePreviewAction.ID,a.CodeSandboxTogglePreviewAction.LABEL,{primary:3106}),"CodeSandbox: Toggle Preview","CodeSandbox"),p.registerWorkbenchAction(new i.SyncActionDescriptor(a.CodeSandboxOpenPreviewExternalAction,a.CodeSandboxOpenPreviewExternalAction.ID,a.CodeSandboxOpenPreviewExternalAction.LABEL,{primary:0}),"CodeSandbox: Open Preview In New Window","CodeSandbox"),p.registerWorkbenchAction(new i.SyncActionDescriptor(a.CodeSandboxSetThemeAction,a.CodeSandboxSetThemeAction.ID,a.CodeSandboxSetThemeAction.LABEL,{primary:s.KeyChord(2089,2098)}),"Preferences: Color Theme","Preferences"),p.registerWorkbenchAction(new i.SyncActionDescriptor(a.CodeSandboxAddDependencyAction,a.CodeSandboxAddDependencyAction.ID,a.CodeSandboxAddDependencyAction.LABEL,{primary:0}),"CodeSandbox: Add NPM Dependency","CodeSandbox"),function(t,r){var o={command:{id:t.id,title:t.title,iconLocation:{
dark:n.URI.parse(e.toUrl("vs/codesandbox/services/codesandbox/assets/preview.svg")),light:n.URI.parse(e.toUrl("vs/codesandbox/services/codesandbox/assets/preview-dark.svg"))}},group:"navigation",order:r};i.MenuRegistry.appendMenuItem(7,o)}({id:a.CodeSandboxTogglePreviewAction.ID,title:a.CodeSandboxTogglePreviewAction.LABEL},1e4),r.Registry.as(c.Extensions.Editors).registerEditor(new c.EditorDescriptor(u.ReactEditor,u.ReactEditor.ID,"React Editor"),[new d.SyncDescriptor(l.ReactEditorInput)])}),define(e[142],t([1,0,2,164,33,24,17,153,31,4,222,58,114,66,55]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this)||this;return c.resource=t,c.instantiationService=n,c.textFileService=r,c.textModelResolverService=o,c.hashService=s,c.labelService=a,c.setPreferredEncoding(i),c.registerListeners(),c}return i(t,e),t.prototype.registerListeners=function(){var e=this
;this._register(this.textFileService.models.onModelDirty(function(t){return e.onDirtyStateChange(t)})),this._register(this.textFileService.models.onModelSaveError(function(t){return e.onDirtyStateChange(t)})),this._register(this.textFileService.models.onModelSaved(function(t){return e.onDirtyStateChange(t)})),this._register(this.textFileService.models.onModelReverted(function(t){return e.onDirtyStateChange(t)})),this._register(this.textFileService.models.onModelOrphanedChanged(function(t){return e.onModelOrphanedChanged(t)}))},t.prototype.onDirtyStateChange=function(e){e.resource.toString()===this.resource.toString()&&this._onDidChangeDirty.fire()},t.prototype.onModelOrphanedChanged=function(e){e.resource.toString()===this.resource.toString()&&this._onDidChangeLabel.fire()},t.prototype.getResource=function(){return this.resource},t.prototype.getEncoding=function(){var e=this.textFileService.models.get(this.resource);return e?e.getEncoding():this.preferredEncoding},t.prototype.getPreferredEncoding=function(){
return this.preferredEncoding},t.prototype.setEncoding=function(e,t){this.preferredEncoding=e;var i=this.textFileService.models.get(this.resource);i&&i.setEncoding(e,t)},t.prototype.setPreferredEncoding=function(e){this.preferredEncoding=e,e&&(this.forceOpenAsText=!0)},t.prototype.setForceOpenAsText=function(){this.forceOpenAsText=!0,this.forceOpenAsBinary=!1},t.prototype.setForceOpenAsBinary=function(){this.forceOpenAsBinary=!0,this.forceOpenAsText=!1},t.prototype.getTypeId=function(){return v.FILE_EDITOR_INPUT_ID},t.prototype.getName=function(){return this.name||(this.name=c.basenameOrAuthority(this.resource)),this.decorateLabel(this.name)},Object.defineProperty(t.prototype,"shortDescription",{get:function(){return a.basename(this.labelService.getUriLabel(c.dirname(this.resource)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediumDescription",{get:function(){return this.labelService.getUriLabel(c.dirname(this.resource),{relative:!0})},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"longDescription",{get:function(){return this.labelService.getUriLabel(c.dirname(this.resource),{relative:!0})},enumerable:!0,configurable:!0}),t.prototype.getDescription=function(e){void 0===e&&(e=1);var t;switch(e){case 0:t=this.shortDescription;break;case 2:t=this.longDescription;break;case 1:default:t=this.mediumDescription}return t},Object.defineProperty(t.prototype,"shortTitle",{get:function(){return this.getName()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediumTitle",{get:function(){return this.labelService.getUriLabel(this.resource,{relative:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longTitle",{get:function(){return this.labelService.getUriLabel(this.resource)},enumerable:!0,configurable:!0}),t.prototype.getTitle=function(e){var t;switch(e){case 0:t=this.shortTitle;break;case 1:t=this.mediumTitle;break;case 2:t=this.longTitle}return this.decorateLabel(t)},t.prototype.decorateLabel=function(e){
var t=this.textFileService.models.get(this.resource);return t&&t.hasState(4)?n.localize("orphanedFile","{0} (deleted from disk)",e):t&&t.isReadonly()?n.localize("readonlyFile","{0} (read-only)",e):e},t.prototype.isDirty=function(){var e=this.textFileService.models.get(this.resource);return!!e&&(!(!e.hasState(3)&&!e.hasState(5))||1!==this.textFileService.getAutoSaveMode()&&e.isDirty())},t.prototype.confirmSave=function(){return this.textFileService.confirmSave([this.resource])},t.prototype.save=function(){return this.textFileService.save(this.resource)},t.prototype.revert=function(e){return this.textFileService.revert(this.resource,e)},t.prototype.getPreferredEditorId=function(e){return this.forceOpenAsBinary?v.BINARY_FILE_EDITOR_ID:v.TEXT_FILE_EDITOR_ID},t.prototype.resolve=function(){return this.forceOpenAsBinary?this.doResolveAsBinary():this.doResolveAsText()},t.prototype.doResolveAsText=function(){var e=this;return this.textFileService.models.loadOrCreate(this.resource,{encoding:this.preferredEncoding,
reload:{async:!0},allowBinary:this.forceOpenAsText,reason:1}).then(function(t){return e.textModelReference||(e.textModelReference=e.textModelResolverService.createModelReference(e.resource)),e.textModelReference.then(function(e){return e.object})},function(t){return 0===t.fileOperationResult||8===t.fileOperationResult?e.doResolveAsBinary():Promise.reject(t)})},t.prototype.doResolveAsBinary=function(){return this.instantiationService.createInstance(u.BinaryEditorModel,this.resource,this.getName()).load().then(function(e){return e})},t.prototype.isResolved=function(){return!!this.textFileService.models.get(this.resource)},t.prototype.getTelemetryDescriptor=function(){var t=this,i=e.prototype.getTelemetryDescriptor.call(this);return i.resource=h.telemetryURIDescriptor(this.getResource(),function(e){return t.hashService.createSHA1(e)}),i},t.prototype.dispose=function(){this.textModelReference&&(this.textModelReference.then(function(e){return e.dispose()}),this.textModelReference=null),
e.prototype.dispose.call(this)},t.prototype.matches=function(i){return!0===e.prototype.matches.call(this,i)||!!i&&(i instanceof t&&i.resource.toString()===this.resource.toString())},r([s.memoize],t.prototype,"shortDescription",null),r([s.memoize],t.prototype,"mediumDescription",null),r([s.memoize],t.prototype,"longDescription",null),r([s.memoize],t.prototype,"shortTitle",null),r([s.memoize],t.prototype,"mediumTitle",null),r([s.memoize],t.prototype,"longTitle",null),t=r([o(2,p.IInstantiationService),o(3,d.ITextFileService),o(4,f.ITextModelService),o(5,g.IHashService),o(6,m.ILabelService)],t)}(l.EditorInput);t.FileEditorInput=y}),define(e[472],t([1,0,2,173,30,12,42,142,66,16,10,28]),function(e,t,n,s,a,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(i,n,r,o,s,a){var c=e.call(this,t.ID,{openInternal:function(e,t){return c.openInternal(e,t)},openExternal:function(e){return c.openExternal(e)}},i,n,r,a)||this;return c.windowsService=o,c.editorService=s,c}
return i(t,e),t.prototype.openInternal=function(e,t){return e instanceof u.FileEditorInput?(e.setForceOpenAsText(),this.editorService.openEditor(e,t,this.group).then(function(){})):Promise.resolve()},t.prototype.openExternal=function(e){var t=this;this.windowsService.openExternal(e.toString()).then(function(i){if(!i)return t.windowsService.showItemInFolder(e.fsPath)})},t.prototype.getTitle=function(){return this.input?this.input.getName():n.localize("binaryFileEditor","Binary File Viewer")},t.ID=d.BINARY_FILE_EDITOR_ID,t=r([o(0,a.ITelemetryService),o(1,c.IThemeService),o(2,p.IFileService),o(3,l.IWindowsService),o(4,h.IEditorService),o(5,f.IStorageService)],t)}(s.BaseBinaryResourceEditor);t.BinaryFileEditor=g}),define(e[473],t([1,0,24,17,31,16,142,70,3,19,48,9,20,44,21,63,172,42,66,10,41,13,18]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this)||this;return u.editorService=t,
u.textFileService=i,u.lifecycleService=n,u.editorGroupService=r,u.fileService=o,u.environmentService=s,u.configurationService=a,u.contextService=c,u.windowService=l,u.modelLoadQueue=new w.ResourceQueue,u.activeOutOfWorkspaceWatchers=new v.ResourceMap,u.onConfigurationUpdated(a.getValue()),u.registerListeners(),u}return i(t,e),t.prototype.registerListeners=function(){var e=this;this._register(this.fileService.onAfterOperation(function(t){return e.onFileOperation(t)})),this._register(this.fileService.onFileChanges(function(t){return e.onFileChanges(t)})),this._register(this.editorService.onDidVisibleEditorsChange(function(){return e.handleOutOfWorkspaceWatchers()})),this._register(this.windowService.onDidChangeFocus(function(t){return e.onWindowFocusChange(t)})),this.lifecycleService.onShutdown(this.dispose,this),this._register(this.configurationService.onDidChangeConfiguration(function(t){return e.onConfigurationUpdated(e.configurationService.getValue())}))},t.prototype.onConfigurationUpdated=function(e){
e.workbench&&e.workbench.editor&&"boolean"==typeof e.workbench.editor.closeOnFileDelete?this.closeOnFileDelete=e.workbench.editor.closeOnFileDelete:this.closeOnFileDelete=!1},t.prototype.onWindowFocusChange=function(e){var t=this;e&&p.distinct(this.editorService.visibleEditors.map(function(e){var i=s.toResource(e,{supportSideBySide:!0});return i?t.textFileService.models.get(i):void 0}).filter(function(e){return e&&!e.isDirty()}),function(e){return e.getResource().toString()}).forEach(function(e){return t.queueModelLoad(e)})},t.prototype.onFileOperation=function(e){2===e.operation&&this.handleMovedFileInOpenedEditors(e.resource,e.target.resource),1!==e.operation&&2!==e.operation||this.handleDeletes(e.resource,!1,e.target?e.target.resource:void 0)},t.prototype.onFileChanges=function(e){(e.gotAdded()||e.gotUpdated())&&this.handleUpdates(e),e.gotDeleted()&&this.handleDeletes(e,!0)},t.prototype.handleDeletes=function(e,t,i){var r=this;this.getOpenedFileEditors(!1).forEach(function(o){var s=o.getResource()
;if(r.closeOnFileDelete||!t||!o.isResolved()){if(i&&n.isEqualOrParent(s,i))return;if(!(e instanceof c.FileChangesEvent?e.contains(s,2):n.isEqualOrParent(s,e)))return;(t?w.timeout(100).then(function(){return r.fileService.existsFile(s)}):Promise.resolve(!1)).then(function(e){e||o.isDisposed()?r.environmentService.verbose&&console.warn("File exists even though we received a delete event: "+s.toString()):o.dispose()})}})},t.prototype.getOpenedFileEditors=function(e){var t=[];return this.editorService.editors.forEach(function(i){if(i instanceof l.FileEditorInput)!!i.isDirty()===e&&t.push(i);else if(i instanceof s.SideBySideEditorInput){var n=i.master,r=i.details;n instanceof l.FileEditorInput&&!!n.isDirty()===e&&t.push(n),r instanceof l.FileEditorInput&&!!r.isDirty()===e&&t.push(r)}}),t},t.prototype.handleMovedFileInOpenedEditors=function(e,t){var i=this;this.editorGroupService.groups.forEach(function(r){r.editors.forEach(function(o){if(o instanceof l.FileEditorInput){var s=o.getResource()
;if(n.isEqualOrParent(s,e)){var a=void 0;if(e.toString()===s.toString())a=t;else{var c=i.getIndexOfPath(s.path,e.path);a=n.joinPath(t,s.path.substr(c+e.path.length+1))}i.editorService.replaceEditors([{editor:{resource:s},replacement:{resource:a,options:{preserveFocus:!0,pinned:r.isPinned(o),index:r.getIndexOfEditor(o),inactive:!r.isActive(o),viewState:i.getViewStateFor(e,r)}}}],r)}}})})},t.prototype.getIndexOfPath=function(e,t){return t.length>e.length?-1:e===t?0:(g.isLinux||(e=e.toLowerCase(),t=t.toLowerCase()),e.indexOf(t))},t.prototype.getViewStateFor=function(e,t){for(var i=this.editorService.visibleControls,n=0;n<i.length;n++){var r=i[n];if(r&&r.input&&r.group===t){var o=r.input.getResource();if(o&&e.toString()===o.toString()){var s=r.getControl();if(y.isCodeEditor(s))return s.saveViewState()}}}},t.prototype.handleUpdates=function(e){this.handleUpdatesToTextModels(e),this.handleUpdatesToVisibleBinaryEditors(e)},t.prototype.handleUpdatesToTextModels=function(e){var t=this
;p.distinct(e.getUpdated().concat(e.getAdded()).map(function(e){return t.textFileService.models.get(e.resource)}).filter(function(e){return e&&!e.isDirty()}),function(e){return e.getResource().toString()}).forEach(function(e){return t.queueModelLoad(e)})},t.prototype.queueModelLoad=function(e){var t=this.modelLoadQueue.queueFor(e.getResource());t.size<=1&&t.queue(function(){return e.load().then(null,I.onUnexpectedError)})},t.prototype.handleUpdatesToVisibleBinaryEditors=function(e){var t=this;this.editorService.visibleControls.forEach(function(i){var n=s.toResource(i.input,{supportSideBySide:!0}),r=!1;r=i instanceof S.SideBySideEditor?i.getMasterEditor().getId()===E.BINARY_FILE_EDITOR_ID:i.getId()===E.BINARY_FILE_EDITOR_ID,n&&r&&(e.contains(n,0)||e.contains(n,1))&&t.editorService.openEditor(i.input,{forceReload:!0,preserveFocus:!0},i.group)})},t.prototype.handleOutOfWorkspaceWatchers=function(){var e=this,t=new v.ResourceMap;this.editorService.visibleEditors.map(function(e){return s.toResource(e,{
supportSideBySide:!0})}).filter(function(t){return!!t&&e.fileService.canHandleResource(t)&&!e.contextService.isInsideWorkspace(t)}).forEach(function(e){t.set(e,e)}),this.activeOutOfWorkspaceWatchers.forEach(function(i){t.get(i)||(e.fileService.unwatchFileChanges(i),e.activeOutOfWorkspaceWatchers.delete(i))}),t.forEach(function(t){e.activeOutOfWorkspaceWatchers.get(t)||(e.fileService.watchFileChanges(t),e.activeOutOfWorkspaceWatchers.set(t,t))})},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this),this.activeOutOfWorkspaceWatchers.forEach(function(e){return t.fileService.unwatchFileChanges(e)}),this.activeOutOfWorkspaceWatchers.clear()},t=r([o(0,_.IEditorService),o(1,a.ITextFileService),o(2,u.ILifecycleService),o(3,C.IEditorGroupsService),o(4,c.IFileService),o(5,h.IEnvironmentService),o(6,f.IConfigurationService),o(7,m.IWorkspaceContextService),o(8,b.IWindowService)],t)}(d.Disposable);t.FileEditorTracker=x}),
define(e[474],t([1,0,8,120,98,19,13,52,18,5,557,3,22,6,67,211,106,476,556,555,554,2,11,4,68,76,7,28,30,27,50,12,21,103,82,133,66,444,162,107,10,41,60,187,31,42]),function(e,t,n,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W,V,z,G,K,H,U,j,q,$,Q,Y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var X=function(e){function t(i,n,r,o,s,a,c,l){var u=e.call(this,t.ID,n,a,l)||this;return u.preferencesService=i,u.editorService=r,u.contextKeyService=o,u.instantiationService=s,u.progressService=c,u.lastFocusedWidget=null,u.minimumHeight=260,u._onDidCreateWidget=new f.Emitter,u.onDidSizeConstraintsChange=u._onDidCreateWidget.event,u.defaultSettingsEditorContextKey=H.CONTEXT_SETTINGS_EDITOR.bindTo(u.contextKeyService),u.defaultSettingsJSONEditorContextKey=H.CONTEXT_SETTINGS_JSON_EDITOR.bindTo(u.contextKeyService),u.searchFocusContextKey=H.CONTEXT_SETTINGS_SEARCH_FOCUS.bindTo(u.contextKeyService),u.delayedFilterLogging=new d.Delayer(1e3),u.localSearchDelayer=new d.Delayer(100),
u.remoteSearchThrottle=new d.ThrottledDelayer(200),u}return i(t,e),Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return this.sideBySidePreferencesWidget?this.sideBySidePreferencesWidget.minimumWidth:0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return this.sideBySidePreferencesWidget?this.sideBySidePreferencesWidget.maximumWidth:Number.POSITIVE_INFINITY},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.createEditor=function(e){var t=this;n.addClass(e,"preferences-editor"),this.headerContainer=n.append(e,n.$(".preferences-header")),this.searchWidget=this._register(this.instantiationService.createInstance(K.SearchWidget,this.headerContainer,{ariaLabel:x.localize("SearchSettingsWidget.AriaLabel","Search settings"),placeholder:x.localize("SearchSettingsWidget.Placeholder","Search Settings"),focusKey:this.searchFocusContextKey,showResultCount:!0,ariaLive:"assertive"})),
this._register(this.searchWidget.onDidChange(function(e){return t.onInputChanged()})),this._register(this.searchWidget.onFocus(function(){return t.lastFocusedWidget=t.searchWidget})),this.lastFocusedWidget=this.searchWidget;var i=n.append(e,n.$(".preferences-editors-container"));this.sideBySidePreferencesWidget=this._register(this.instantiationService.createInstance(ee,i)),this._onDidCreateWidget.fire(),this._register(this.sideBySidePreferencesWidget.onFocus(function(){return t.lastFocusedWidget=t.sideBySidePreferencesWidget})),this._register(this.sideBySidePreferencesWidget.onDidSettingsTargetChange(function(e){return t.switchSettings(e)})),this.preferencesRenderers=this._register(this.instantiationService.createInstance(Z)),this._register(this.preferencesRenderers.onDidFilterResultsCountChange(function(e){return t.showSearchResultsMessage(e)}))},t.prototype.clearSearchResults=function(){this.searchWidget&&this.searchWidget.clear()},t.prototype.focusNextResult=function(){
this.preferencesRenderers&&this.preferencesRenderers.focusNextPreference(!0)},t.prototype.focusPreviousResult=function(){this.preferencesRenderers&&this.preferencesRenderers.focusNextPreference(!1)},t.prototype.editFocusedPreference=function(){this.preferencesRenderers.editFocusedPreference()},t.prototype.setInput=function(t,i,n){var r=this;return this.defaultSettingsEditorContextKey.set(!0),this.defaultSettingsJSONEditorContextKey.set(!0),i&&i.query&&this.focusSearch(i.query),e.prototype.setInput.call(this,t,i,n).then(function(){return r.updateInput(t,i,n)})},t.prototype.layout=function(e){this.searchWidget.layout(e);var t=n.getTotalHeight(this.headerContainer);this.sideBySidePreferencesWidget.layout(new n.Dimension(e.width,e.height-t))},t.prototype.getControl=function(){return this.sideBySidePreferencesWidget.getControl()},t.prototype.focus=function(){this.lastFocusedWidget&&this.lastFocusedWidget.focus()},t.prototype.focusSearch=function(e){e&&this.searchWidget.setValue(e),this.searchWidget.focus()},
t.prototype.focusSettingsFileEditor=function(){this.sideBySidePreferencesWidget&&this.sideBySidePreferencesWidget.focus()},t.prototype.clearInput=function(){this.defaultSettingsEditorContextKey.set(!1),this.defaultSettingsJSONEditorContextKey.set(!1),this.sideBySidePreferencesWidget.clearInput(),this.preferencesRenderers.onHidden(),e.prototype.clearInput.call(this)},t.prototype.setEditorVisible=function(t,i){this.sideBySidePreferencesWidget.setEditorVisible(t,i),e.prototype.setEditorVisible.call(this,t,i)},t.prototype.updateInput=function(e,t,i){var n=this;return this.sideBySidePreferencesWidget.setInput(e.details,e.master,t,i).then(function(e){var t=e.defaultPreferencesRenderer,r=e.editablePreferencesRenderer;i.isCancellationRequested||(n.preferencesRenderers.defaultPreferencesRenderer=t,n.preferencesRenderers.editablePreferencesRenderer=r,n.onInputChanged())})},t.prototype.onInputChanged=function(){var e=this,t=this.searchWidget.getValue().trim();this.delayedFilterLogging.cancel(),
this.triggerSearch(t).then(function(){e.preferencesRenderers.lastFilterResult&&e.delayedFilterLogging.trigger(function(){return e.reportFilteringUsed(t,e.preferencesRenderers.lastFilterResult)})})},t.prototype.triggerSearch=function(e){var t=this;return e?Promise.all([this.localSearchDelayer.trigger(function(){return t.preferencesRenderers.localFilterPreferences(e).then(function(){})}),this.remoteSearchThrottle.trigger(function(){return Promise.resolve(t.progressService.showWhile(t.preferencesRenderers.remoteSearchPreferences(e),500))})]).then(function(){}):(this.localSearchDelayer.cancel(),this.preferencesRenderers.localFilterPreferences(e),this.remoteSearchThrottle.cancel(),this.preferencesRenderers.remoteSearchPreferences(e))},t.prototype.switchSettings=function(e){var t=this;this.editorService.activeControl!==this&&this.focus();(this.input&&this.input.isDirty()?this.input.save():Promise.resolve(!0)).then(function(){
1===e?t.preferencesService.switchSettings(1,t.preferencesService.userSettingsResource,!0):2===e?t.preferencesService.switchSettings(2,t.preferencesService.workspaceSettingsResource,!0):e instanceof y.URI&&t.preferencesService.switchSettings(3,e,!0)})},t.prototype.showSearchResultsMessage=function(e){var t=e.count;e.target?this.sideBySidePreferencesWidget.setResultCount(e.target,e.count):this.searchWidget.getValue()?0===t?this.searchWidget.showMessage(x.localize("noSettingsFound","No Settings Found")):1===t?this.searchWidget.showMessage(x.localize("oneSettingFound","1 Setting Found")):this.searchWidget.showMessage(x.localize("settingsFound","{0} Settings Found",t)):this.searchWidget.showMessage(x.localize("totalSettingsMessage","Total {0} Settings",t))},t.prototype._countById=function(e){for(var t={},i=0,n=e;i<n.length;i++){for(var r=n[i],o=0,s=0,a=r.sections;s<a.length;s++){o+=a[s].settings.length}t[r.id]=o}return t},t.prototype.reportFilteringUsed=function(e,t){if(e&&e!==this._lastReportedFilter){
var i,n=t&&t.metadata,r=t&&this._countById(t.filteredGroups);n&&(i=Object.create(null),Object.keys(n).forEach(function(e){return i[e]=n[e].duration}));var o={filter:e,durations:i,counts:r,requestCount:n&&n.nlpResult&&n.nlpResult.requestCount};this.telemetryService.publicLog("defaultSettings.filter",o),this._lastReportedFilter=e}},t.prototype.dispose=function(){this._onDidCreateWidget.dispose(),e.prototype.dispose.call(this)},t.ID=z.PREFERENCES_EDITOR_ID,t=r([o(0,q.IPreferencesService),o(1,M.ITelemetryService),o(2,U.IEditorService),o(3,D.IContextKeyService),o(4,T.IInstantiationService),o(5,F.IThemeService),o(6,A.IProgressService),o(7,k.IStorageService)],t)}(W.BaseEditor);t.PreferencesEditor=X;var J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.next=function(){return e.prototype.next.call(this)||e.prototype.first.call(this)},t.prototype.previous=function(){return e.prototype.previous.call(this)||e.prototype.last.call(this)},t.prototype.reset=function(){
this.index=this.start-1},t}(g.ArrayNavigator),Z=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.preferencesSearchService=t,s.telemetryService=i,s.preferencesService=n,s.workspaceContextService=r,s.logService=o,s._defaultPreferencesRendererDisposables=[],s._editablePreferencesRendererDisposables=[],s._prefsModelsForSearch=new Map,s._onDidFilterResultsCountChange=s._register(new f.Emitter),s.onDidFilterResultsCountChange=s._onDidFilterResultsCountChange.event,s}return i(t,e),Object.defineProperty(t.prototype,"lastFilterResult",{get:function(){return this._lastFilterResult},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultPreferencesRenderer",{get:function(){return this._defaultPreferencesRenderer},set:function(e){var t=this;this._defaultPreferencesRenderer!==e&&(this._defaultPreferencesRenderer=e,this._defaultPreferencesRendererDisposables=v.dispose(this._defaultPreferencesRendererDisposables),
this._defaultPreferencesRenderer&&(this._defaultPreferencesRenderer.onUpdatePreference(function(e){var i=e.key,n=e.value,r=e.source;t._editablePreferencesRenderer.updatePreference(i,n,r),t._updatePreference(i,n,r)},this,this._defaultPreferencesRendererDisposables),this._defaultPreferencesRenderer.onFocusPreference(function(e){return t._focusPreference(e,t._editablePreferencesRenderer)},this,this._defaultPreferencesRendererDisposables),this._defaultPreferencesRenderer.onClearFocusPreference(function(e){return t._clearFocus(e,t._editablePreferencesRenderer)},this,this._defaultPreferencesRendererDisposables)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editablePreferencesRenderer",{get:function(){return this._editablePreferencesRenderer},set:function(e){var t=this;this._editablePreferencesRenderer!==e&&(this._editablePreferencesRenderer=e,this._editablePreferencesRendererDisposables=v.dispose(this._editablePreferencesRendererDisposables),
this._editablePreferencesRenderer&&(this._editablePreferencesRenderer.preferencesModel.onDidChangeGroups(this._onEditableContentDidChange,this,this._editablePreferencesRendererDisposables),this._editablePreferencesRenderer.onUpdatePreference(function(e){var i=e.key,n=e.value,r=e.source;return t._updatePreference(i,n,r,!0)},this,this._defaultPreferencesRendererDisposables)))},enumerable:!0,configurable:!0}),t.prototype._onEditableContentDidChange=function(){return s(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this.localFilterPreferences(this._lastQuery,!0)];case 1:return(e=t.sent())?[3,3]:[4,this.remoteSearchPreferences(this._lastQuery,!0)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.onHidden=function(){this._prefsModelsForSearch.forEach(function(e){return e.dispose()}),this._prefsModelsForSearch=new Map},t.prototype.remoteSearchPreferences=function(e,t){var i=this;return this.lastFilterResult&&this.lastFilterResult.exactMatch&&(e=""),
this._remoteFilterCancelToken&&(this._remoteFilterCancelToken.cancel(),this._remoteFilterCancelToken.dispose(),this._remoteFilterCancelToken=null),this._currentRemoteSearchProvider=t&&this._currentRemoteSearchProvider||this.preferencesSearchService.getRemoteSearchProvider(e),this._remoteFilterCancelToken=new p.CancellationTokenSource,this.filterOrSearchPreferences(e,this._currentRemoteSearchProvider,"nlpResult",x.localize("nlpResult","Natural Language Results"),1,this._remoteFilterCancelToken.token,t).then(function(){i._remoteFilterCancelToken&&(i._remoteFilterCancelToken.dispose(),i._remoteFilterCancelToken=null)},function(e){if(h.isPromiseCanceledError(e))return null;h.onUnexpectedError(e)})},t.prototype.localFilterPreferences=function(e,t){return this._settingsNavigator&&this._settingsNavigator.reset(),this._currentLocalSearchProvider=t&&this._currentLocalSearchProvider||this.preferencesSearchService.getLocalSearchProvider(e),
this.filterOrSearchPreferences(e,this._currentLocalSearchProvider,"filterResult",x.localize("filterResult","Filtered Results"),0,void 0,t)},t.prototype.filterOrSearchPreferences=function(e,t,i,n,r,o,s){var a=this;this._lastQuery=e;var c=[this._filterOrSearchPreferences(e,this.editablePreferencesRenderer,t,i,n,r,o)];return s||(c.push(this._filterOrSearchPreferences(e,this.defaultPreferencesRenderer,t,i,n,r,o)),c.push(this.searchAllSettingsTargets(e,t,i,n,r,o).then(function(){return null}))),Promise.all(c).then(function(e){var t=e[0],i=e[1];return!i&&s&&(i=a.lastFilterResult),a.consolidateAndUpdate(i,t),a._lastFilterResult=i,i&&i.exactMatch})},t.prototype.searchAllSettingsTargets=function(e,t,i,n,r,o){for(var s=[this.searchSettingsTarget(e,t,2,i,n,r,o),this.searchSettingsTarget(e,t,1,i,n,r,o)],a=0,c=this.workspaceContextService.getWorkspace().folders;a<c.length;a++){var l=c[a],u=this.preferencesService.getFolderSettingsResource(l.uri);s.push(this.searchSettingsTarget(e,t,u,i,n,r,o))}
return Promise.all(s).then(function(){})},t.prototype.searchSettingsTarget=function(e,t,i,n,r,o,s){var a=this;return e?this.getPreferencesEditorModel(i).then(function(e){return e&&a._filterOrSearchPreferencesModel("",e,t,n,r,o,s)}).then(function(e){var t=e?a._flatten(e.filteredGroups).length:0;a._onDidFilterResultsCountChange.fire({target:i,count:t})},function(e){return h.isPromiseCanceledError(e)?null:Promise.reject(e)}):(this._onDidFilterResultsCountChange.fire({target:i,count:0}),Promise.resolve(null))},t.prototype.getPreferencesEditorModel=function(e){return s(this,void 0,void 0,function(){var t,i,n,r,o;return a(this,function(s){switch(s.label){case 0:if(!(t=1===e?this.preferencesService.userSettingsResource:2===e?this.preferencesService.workspaceSettingsResource:e))return[2,null];if(i=t.toString(),this._prefsModelsForSearch.has(i))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),r=this._register,[4,this.preferencesService.createPreferencesEditorModel(t)];case 2:return n=r.apply(this,[s.sent()]),
this._prefsModelsForSearch.set(i,n),[3,4];case 3:return o=s.sent(),[2,null];case 4:return[2,this._prefsModelsForSearch.get(i)]}})})},t.prototype.focusNextPreference=function(e){if(void 0===e&&(e=!0),this._settingsNavigator){var t=e?this._settingsNavigator.next():this._settingsNavigator.previous();this._focusPreference(t,this._defaultPreferencesRenderer),this._focusPreference(t,this._editablePreferencesRenderer)}},t.prototype.editFocusedPreference=function(){if(this._settingsNavigator&&this._settingsNavigator.current()){var e=this._settingsNavigator.current();this._editablePreferencesRenderer.editPreference(e)||this.defaultPreferencesRenderer.editPreference(e)}},t.prototype._filterOrSearchPreferences=function(e,t,i,n,r,o,s){if(!t)return Promise.resolve(null);var a=t.preferencesModel;return this._filterOrSearchPreferencesModel(e,a,i,n,r,o,s).then(function(e){return t.filterPreferences(e),e})},t.prototype._filterOrSearchPreferencesModel=function(e,t,i,n,r,o,s){var a=this
;return(i?i.searchModel(t,s):Promise.resolve(null)).then(null,function(t){if(h.isPromiseCanceledError(t))return Promise.reject(t);var i=h.getErrorMessage(t).trim();return i&&"Error"!==i&&(a.telemetryService.publicLog("defaultSettings.searchError",{message:i,filter:e}),a.logService.info("Setting search error: "+i)),null}).then(function(i){s&&s.isCancellationRequested&&(i=null);var a=i?t.updateResultGroup(n,{id:n,label:r,result:i,order:o}):t.updateResultGroup(n,null);return a&&(a.query=e,a.exactMatch=i&&i.exactMatch),a})},t.prototype.consolidateAndUpdate=function(e,t){var i=e?e.filteredGroups:this._getAllPreferences(this._defaultPreferencesRenderer),n=t?t.filteredGroups:this._getAllPreferences(this._editablePreferencesRenderer),r=this._consolidateSettings(n,i),o=this._settingsNavigator&&this._settingsNavigator.current(),s=this._lastQuery?r:[],a=o?u.firstIndex(s,function(e){return e.key===o.key}):-1;if(this._settingsNavigator=new J(s,Math.max(a,0)),a>=0){this._settingsNavigator.next()
;var c=this._settingsNavigator.current();this._focusPreference(c,this._defaultPreferencesRenderer),this._focusPreference(c,this._editablePreferencesRenderer)}var l=r.length;this._onDidFilterResultsCountChange.fire({count:l})},t.prototype._getAllPreferences=function(e){return e?e.preferencesModel.settingsGroups:[]},t.prototype._focusPreference=function(e,t){e&&t&&t.focusPreference(e)},t.prototype._clearFocus=function(e,t){e&&t&&t.clearFocus(e)},t.prototype._updatePreference=function(e,t,i,n){var r={userConfigurationKeys:[e]};if(this.lastFilterResult){r.query=this.lastFilterResult.query,r.editableSide=!!n;var o=this.lastFilterResult.metadata&&this.lastFilterResult.metadata.nlpResult;if(o){var s=Object.keys(o.scoredResults).sort(function(e,t){return o.scoredResults[t].score-o.scoredResults[e].score}),a="##"+e;r.nlpIndex=u.firstIndex(s,function(e){return m.endsWith(e,a)})}var c=this._findSetting(this.lastFilterResult,e);c&&(r.groupId=this.lastFilterResult.filteredGroups[c.groupIdx].id,
r.displayIdx=c.overallSettingIdx)}this.telemetryService.publicLog("defaultSettingsActions.copySetting",r)},t.prototype._findSetting=function(e,t){for(var i=0,n=0;n<e.filteredGroups.length;n++)for(var r=e.filteredGroups[n],o=0;o<r.sections[0].settings.length;o++){if(t===r.sections[0].settings[o].key)return{groupIdx:n,settingIdx:o,overallSettingIdx:i};i++}return null},t.prototype._consolidateSettings=function(e,t){var i=this._flatten(t),n=this._flatten(e).filter(function(e){return i.every(function(t){return t.key!==e.key})});return i.concat(n)},t.prototype._flatten=function(e){for(var t=[],i=0,n=e;i<n.length;i++)for(var r=0,o=n[i].sections;r<o.length;r++){var s=o[r];t.push.apply(t,s.settings)}return t},t.prototype.dispose=function(){v.dispose(this._defaultPreferencesRendererDisposables),v.dispose(this._editablePreferencesRendererDisposables),e.prototype.dispose.call(this)},
t=r([o(0,H.IPreferencesSearchService),o(1,M.ITelemetryService),o(2,q.IPreferencesService),o(3,N.IWorkspaceContextService),o(4,R.ILogService)],t)}(v.Disposable),ee=function(e){function t(t,i,r,o,s){var a=e.call(this)||this;a.instantiationService=i,a.themeService=r,a.workspaceContextService=o,a.preferencesService=s,a.dimension=new n.Dimension(0,0),a._onFocus=new f.Emitter,a.onFocus=a._onFocus.event,a._onDidSettingsTargetChange=new f.Emitter,a.onDidSettingsTargetChange=a._onDidSettingsTargetChange.event,n.addClass(t,"side-by-side-preferences-editor"),a.splitview=new c.SplitView(t,{orientation:1}),a._register(a.splitview),a._register(a.splitview.onDidSashReset(function(){return a.splitview.distributeViewSizes()})),a.defaultPreferencesEditorContainer=n.$(".default-preferences-editor-container");var l=n.append(a.defaultPreferencesEditorContainer,n.$(".preferences-header-container"));a.defaultPreferencesHeader=n.append(l,n.$("div.default-preferences-header")),
a.defaultPreferencesHeader.textContent=x.localize("defaultSettings","Default Settings"),a.defaultPreferencesEditor=a._register(a.instantiationService.createInstance(te)),a.defaultPreferencesEditor.create(a.defaultPreferencesEditorContainer),a.defaultPreferencesEditor.getControl().onDidFocusEditorWidget(function(){return a.lastFocusedEditor=a.defaultPreferencesEditor}),a.splitview.addView({element:a.defaultPreferencesEditorContainer,layout:function(e){return a.defaultPreferencesEditor.layout(new n.Dimension(e,a.dimension.height-34))},minimumSize:220,maximumSize:Number.POSITIVE_INFINITY,onDidChange:f.Event.None},c.Sizing.Distribute),a.editablePreferencesEditorContainer=n.$(".editable-preferences-editor-container");var u=n.append(a.editablePreferencesEditorContainer,n.$(".preferences-header-container"));a.settingsTargetsWidget=a._register(a.instantiationService.createInstance(K.SettingsTargetsWidget,u)),a._register(a.settingsTargetsWidget.onDidTargetChange(function(e){return a._onDidSettingsTargetChange.fire(e)
})),a._register(L.attachStylerCallback(a.themeService,{scrollbarShadow:P.scrollbarShadow},function(e){var t=e.scrollbarShadow?e.scrollbarShadow.toString():null;a.editablePreferencesEditorContainer.style.boxShadow=t?"-6px 0 5px -5px "+t:null})),a.splitview.addView({element:a.editablePreferencesEditorContainer,layout:function(e){return a.editablePreferencesEditor&&a.editablePreferencesEditor.layout(new n.Dimension(e,a.dimension.height-34))},minimumSize:220,maximumSize:Number.POSITIVE_INFINITY,onDidChange:f.Event.None},c.Sizing.Distribute);var d=a._register(n.trackFocus(t));return a._register(d.onDidFocus(function(){return a._onFocus.fire()})),a}return i(t,e),Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return this.splitview.minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return this.splitview.maximumSize},enumerable:!0,configurable:!0}),t.prototype.setInput=function(e,t,i,n){var r=this
;return this.getOrCreateEditablePreferencesEditor(t),this.settingsTargetsWidget.settingsTarget=this.getSettingsTarget(t.getResource()),Promise.all([this.updateInput(this.defaultPreferencesEditor,e,ne.ID,t.getResource(),i,n),this.updateInput(this.editablePreferencesEditor,t,re.ID,e.getResource(),i,n)]).then(function(e){var t=e[0],i=e[1];return n.isCancellationRequested?{}:(r.defaultPreferencesHeader.textContent=t&&r.getDefaultPreferencesHeaderText(t.preferencesModel.target),{defaultPreferencesRenderer:t,editablePreferencesRenderer:i})})},t.prototype.getDefaultPreferencesHeaderText=function(e){switch(e){case 1:return x.localize("defaultUserSettings","Default User Settings");case 2:return x.localize("defaultWorkspaceSettings","Default Workspace Settings");case 3:return x.localize("defaultFolderSettings","Default Folder Settings")}return""},t.prototype.setResultCount=function(e,t){this.settingsTargetsWidget.setResultCount(e,t)},t.prototype.layout=function(e){void 0===e&&(e=this.dimension),this.dimension=e,
this.splitview.layout(e.width)},t.prototype.focus=function(){this.lastFocusedEditor&&this.lastFocusedEditor.focus()},t.prototype.getControl=function(){return this.editablePreferencesEditor?this.editablePreferencesEditor.getControl():null},t.prototype.clearInput=function(){this.defaultPreferencesEditor&&this.defaultPreferencesEditor.clearInput(),this.editablePreferencesEditor&&this.editablePreferencesEditor.clearInput()},t.prototype.setEditorVisible=function(e,t){this.isVisible=e,this.group=t,this.defaultPreferencesEditor&&this.defaultPreferencesEditor.setVisible(this.isVisible,this.group),this.editablePreferencesEditor&&this.editablePreferencesEditor.setVisible(this.isVisible,this.group)},t.prototype.getOrCreateEditablePreferencesEditor=function(e){var t=this;if(this.editablePreferencesEditor)return this.editablePreferencesEditor;var i=O.Registry.as(B.Extensions.Editors).getEditor(e).instantiate(this.instantiationService);return this.editablePreferencesEditor=i,
this.editablePreferencesEditor.create(this.editablePreferencesEditorContainer),this.editablePreferencesEditor.setVisible(this.isVisible,this.group),this.editablePreferencesEditor.getControl().onDidFocusEditorWidget(function(){return t.lastFocusedEditor=t.editablePreferencesEditor}),this.lastFocusedEditor=this.editablePreferencesEditor,this.layout(),i},t.prototype.updateInput=function(e,t,i,n,r,o){return e.setInput(t,r,o).then(function(){if(!o.isCancellationRequested)return e.getControl().getContribution(i).updatePreferencesRenderer(n)})},t.prototype.getSettingsTarget=function(e){if(this.preferencesService.userSettingsResource.toString()===e.toString())return 1;var t=this.preferencesService.workspaceSettingsResource;if(t&&t.toString()===e.toString())return 2;var i=this.workspaceContextService.getWorkspaceFolder(e);return i?i.uri:1},t.prototype.disposeEditors=function(){this.defaultPreferencesEditor&&(this.defaultPreferencesEditor.dispose(),this.defaultPreferencesEditor=null),
this.editablePreferencesEditor&&(this.editablePreferencesEditor.dispose(),this.editablePreferencesEditor=null)},t.prototype.dispose=function(){this.disposeEditors(),e.prototype.dispose.call(this)},t=r([o(1,T.IInstantiationService),o(2,F.IThemeService),o(3,N.IWorkspaceContextService),o(4,q.IPreferencesService)],t)}(l.Widget),te=function(e){function t(i,n,r,o,s,a,c,l,u){return e.call(this,t.ID,i,n,r,o,s,a,l,c,u)||this}return i(t,e),t._getContributions=function(){var e=[C.FoldingController.prototype,I.SelectionHighlighter.prototype,_.FindController.prototype],t=S.EditorExtensionsRegistry.getEditorContributions().filter(function(t){return-1===e.indexOf(t.prototype)});return t.push(ne),t},t.prototype.createEditorControl=function(e,i){var n=this,r=this.instantiationService.createInstance(b.CodeEditorWidget,e,i,{contributions:t._getContributions()});return this._register(r.onDidType(function(){return n.showReadonlyHint(r)})),this._register(r.onDidPaste(function(){return n.showReadonlyHint(r)})),r},
t.prototype.showReadonlyHint=function(e){var t=w.MessageController.get(e);t.isVisible()||t.showMessage(x.localize("defaultEditorReadonly","Edit in the right hand side editor to override defaults."),e.getSelection().getPosition())},t.prototype.getConfigurationOverrides=function(){var t=e.prototype.getConfigurationOverrides.call(this);return t.readOnly=!0,this.input&&(t.lineNumbers="off",t.renderLineHighlight="none",t.scrollBeyondLastLine=!1,t.folding=!1,t.renderWhitespace="none",t.wordWrap="on",t.renderIndentGuides=!1,t.rulers=[],t.glyphMargin=!0,t.minimap={enabled:!1}),t},t.prototype.setInput=function(t,i,n){var r=this;return e.prototype.setInput.call(this,t,i,n).then(function(){return r.input.resolve().then(function(e){if(!n.isCancellationRequested)return e.load()}).then(function(e){n.isCancellationRequested||r.getControl().setModel(e.textEditorModel)})})},t.prototype.clearInput=function(){this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.layout=function(e){
this.getControl().layout(e)},t.prototype.getAriaLabel=function(){return x.localize("preferencesAriaLabel","Default preferences. Readonly text editor.")},t.ID="workbench.editor.defaultPreferences",t=r([o(0,M.ITelemetryService),o(1,T.IInstantiationService),o(2,k.IStorageService),o(3,E.ITextResourceConfigurationService),o(4,F.IThemeService),o(5,Q.ITextFileService),o(6,j.IEditorGroupsService),o(7,U.IEditorService),o(8,Y.IWindowService)],t)}(V.BaseTextEditor);t.DefaultPreferencesEditor=te;var ie=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.editor=t,o.instantiationService=i,o.preferencesService=n,o.workspaceContextService=r,o._register(o.editor.onDidChangeModel(function(){return o._onModelChanged()})),o}return i(t,e),t.prototype.updatePreferencesRenderer=function(e){var t=this;return this.preferencesRendererCreationPromise||(this.preferencesRendererCreationPromise=this._createPreferencesRenderer()),
this.preferencesRendererCreationPromise?this._hasAssociatedPreferencesModelChanged(e).then(function(i){return i?t._updatePreferencesRenderer(e):t.preferencesRendererCreationPromise}):Promise.resolve(null)},t.prototype._onModelChanged=function(){var e=this.editor.getModel();this.disposePreferencesRenderer(),e&&(this.preferencesRendererCreationPromise=this._createPreferencesRenderer())},t.prototype._hasAssociatedPreferencesModelChanged=function(e){return this.preferencesRendererCreationPromise.then(function(t){return!(t&&t.getAssociatedPreferencesModel()&&t.getAssociatedPreferencesModel().uri.toString()===e.toString())})},t.prototype._updatePreferencesRenderer=function(e){var t=this;return this.preferencesService.createPreferencesEditorModel(e).then(function(e){return t.preferencesRendererCreationPromise.then(function(t){if(t){var i=t.getAssociatedPreferencesModel();i&&i.dispose(),t.setAssociatedPreferencesModel(e)}return t})})},t.prototype.disposePreferencesRenderer=function(){
this.preferencesRendererCreationPromise&&(this.preferencesRendererCreationPromise.then(function(e){if(e){var t=e.getAssociatedPreferencesModel();t&&t.dispose(),e.preferencesModel.dispose(),e.dispose()}}),this.preferencesRendererCreationPromise=Promise.resolve(null))},t.prototype.dispose=function(){this.disposePreferencesRenderer(),e.prototype.dispose.call(this)},t=r([o(1,T.IInstantiationService),o(2,q.IPreferencesService),o(3,N.IWorkspaceContextService)],t)}(v.Disposable),ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getId=function(){return t.ID},t.prototype._createPreferencesRenderer=function(){var e=this;return this.preferencesService.createPreferencesEditorModel(this.editor.getModel().uri).then(function(t){if(t instanceof $.DefaultSettingsEditorModel&&e.editor.getModel()){var i=e.instantiationService.createInstance(G.DefaultSettingsRenderer,e.editor,t);return i.render(),i}return null})},t.ID="editor.contrib.defaultsettings",t}(ie),re=function(e){
function t(t,i,n,r){var o=e.call(this,t,i,n,r)||this;return o._register(o.workspaceContextService.onDidChangeWorkbenchState(function(){return o._onModelChanged()})),o}return i(t,e),t.prototype.getId=function(){return t.ID},t.prototype._createPreferencesRenderer=function(){var e=this;return this.isSettingsModel()?this.preferencesService.createPreferencesEditorModel(this.editor.getModel().uri).then(function(t){if(t instanceof $.SettingsEditorModel&&e.editor.getModel())switch(t.configurationTarget){case 1:return e.instantiationService.createInstance(G.UserSettingsRenderer,e.editor,t);case 2:return e.instantiationService.createInstance(G.WorkspaceSettingsRenderer,e.editor,t);case 3:return e.instantiationService.createInstance(G.FolderSettingsRenderer,e.editor,t)}return null}).then(function(e){return e&&e.render(),e}):null},t.prototype.isSettingsModel=function(){var e=this.editor.getModel();if(!e)return!1
;if(this.preferencesService.userSettingsResource&&this.preferencesService.userSettingsResource.toString()===e.uri.toString())return!0;if(this.preferencesService.workspaceSettingsResource&&this.preferencesService.workspaceSettingsResource.toString()===e.uri.toString())return!0;for(var t=0,i=this.workspaceContextService.getWorkspace().folders;t<i.length;t++){var n=i[t],r=this.preferencesService.getFolderSettingsResource(n.uri);if(r&&r.toString()===e.uri.toString())return!0}return!1},t.ID="editor.contrib.settings",t=r([o(1,T.IInstantiationService),o(2,q.IPreferencesService),o(3,N.IWorkspaceContextService)],t)}(ie);S.registerEditorContribution(re)}),define(e[480],t([1,0,2,18,32,3,139,10,38,36,126,58,4,80,31,112,46,88,19]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){return e.with({scheme:a.Schemas.internal,fragment:"replacePreview",query:JSON.stringify({scheme:e.scheme})})},C=function(){function e(e,t){this.instantiationService=e,
this.textModelResolverService=t,this.textModelResolverService.registerTextModelContentProvider(a.Schemas.internal,this)}return e.prototype.provideTextContent=function(e){return"replacePreview"===e.fragment?this.instantiationService.createInstance(w).resolve(e):null},e=r([o(0,g.IInstantiationService),o(1,f.ITextModelService)],e)}();t.ReplacePreviewContentProvider=C;var w=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.modelService=t,s.modeService=i,s.textModelResolverService=n,s.replaceService=r,s.searchWorkbenchService=o,s}return i(t,e),t.prototype.resolve=function(e){var t=this,i=function(e){return e.with({scheme:JSON.parse(e.query).scheme,fragment:"",query:""})}(e),n=this.searchWorkbenchService.searchModel.searchResult.matches().filter(function(e){return e.resource().toString()===i.toString()})[0];return this.textModelResolverService.createModelReference(i).then(function(i){
var r=(i=t._register(i)).object.textEditorModel,o=r.getLanguageIdentifier().language,s=t.modelService.createModel(v.createTextBufferFactoryFromSnapshot(r.createSnapshot()),t.modeService.create(o),e);return t._register(n.onChange(function(e){return t.update(r,s,n,e)})),t._register(t.searchWorkbenchService.searchModel.onReplaceTermChanged(function(){return t.update(r,s,n)})),t._register(n.onDispose(function(){return s.dispose()})),t._register(s.onWillDispose(function(){return t.dispose()})),t._register(r.onWillDispose(function(){return t.dispose()})),s})},t.prototype.update=function(e,t,i,n){void 0===n&&(n=!1),e.isDisposed()||t.isDisposed()||this.replaceService.updateReplacePreview(i,n)},t=r([o(0,d.IModelService),o(1,p.IModeService),o(2,f.ITextModelService),o(3,l.IReplaceService),o(4,h.ISearchWorkbenchService)],t)}(c.Disposable),I=function(){function e(e,t,i,n){this.textFileService=e,this.editorService=t,this.textModelResolverService=i,this.bulkEditorService=n}return e.prototype.replace=function(e,t,i){
var n=this;void 0===t&&(t=null),void 0===i&&(i=null);var r=this.createEdits(e,i);return this.bulkEditorService.apply({edits:r},{progress:t}).then(function(){return n.textFileService.saveAll(r.map(function(e){return e.resource}))})},e.prototype.openReplacePreview=function(e,t,i,r){var o=this,a=e instanceof h.Match?e.parent():e;return this.editorService.openEditor({leftResource:a.resource(),rightResource:_(a.resource()),label:n.localize("fileReplaceChanges","{0}  {1} (Replace Preview)",a.name(),a.name()),options:{preserveFocus:t,pinned:r,revealIfVisible:!0}}).then(function(t){var i=a.onDispose(function(){t&&t.input&&t.input.dispose(),i.dispose()});o.updateReplacePreview(a).then(function(){var i=t.getControl();e instanceof h.Match&&i.revealLineInCenter(e.range().startLineNumber,1)})},s.onUnexpectedError)},e.prototype.updateReplacePreview=function(e,t){var i=this;void 0===t&&(t=!1);var n=_(e.resource())
;return Promise.all([this.textModelResolverService.createModelReference(e.resource()),this.textModelResolverService.createModelReference(n)]).then(function(n){var r=n[0],o=n[1],s=r.object.textEditorModel,a=o.object.textEditorModel,c=Promise.resolve(null);return s&&a&&(t?a.setValue(s.getValue()):a.undo(),i.applyEditsToPreview(e,a)),c.then(function(){r.dispose(),o.dispose()})})},e.prototype.applyEditsToPreview=function(e,t){for(var i=[],n=0,r=this.createEdits(e,t.uri);n<r.length;n++)for(var o=0,s=r[n].edits;o<s.length;o++){var a=s[o],c=S.Range.lift(a.range);i.push(b.EditOperation.replaceMove(c,a.text))}t.pushEditOperations([],E.mergeSort(i,function(e,t){return S.Range.compareRangesUsingStarts(e.range,t.range)}),function(){return[]})},e.prototype.createEdits=function(e,t){var i=this;void 0===t&&(t=null);var n=[];if(e instanceof h.Match){var r=e;n.push(this.createEdit(r,r.replaceString,t))}return e instanceof h.FileMatch&&(e=[e]),e instanceof Array&&e.forEach(function(e){var r=e
;r.count()>0&&n.push.apply(n,r.matches().map(function(e){return i.createEdit(e,e.replaceString,t)}))}),n},e.prototype.createEdit=function(e,t,i){void 0===i&&(i=null);var n=e.parent();return{resource:null!==i?i:n.resource(),edits:[{range:e.range(),text:t}]}},e=r([o(0,m.ITextFileService),o(1,u.IEditorService),o(2,f.ITextModelService),o(3,y.IBulkEditService)],e)}();t.ReplaceService=I}),define(e[481],t([1,0,95,139,480,7,108]),function(e,t,i,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerContributions=function(){i.registerSingleton(n.IReplaceService,r.ReplaceService,!0),o.Registry.as(s.Extensions.Workbench).registerWorkbenchContribution(r.ReplacePreviewContentProvider,1)}}),define(e[482],t([1,0,19,3,6,63,112,88,46,79,38,58,2,16,95,68,76,10,31,55,9]),function(e,t,n,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x=function(){function e(){}return e.start=function(e){var t=new Set,i=e.onAfterOperation(function(e){
t.add(e.resource.toString())});return{stop:function(){return i.dispose()},hasChanged:function(e){return t.has(e.toString())}}},e}(),D=function(){function e(e){this._modelReference=e,this._model=this._modelReference.object.textEditorModel,this._edits=[]}return e.prototype.dispose=function(){c.dispose(this._modelReference)},e.prototype.addEdit=function(e){this._expectedModelVersionId=e.modelVersionId;for(var t=0,i=e.edits;t<i.length;t++){var n=i[t];if("number"==typeof n.eol&&(this._newEol=n.eol),n.range||n.text){var r=void 0;r=n.range?h.Range.lift(n.range):this._model.getFullModelRange(),this._edits.push(p.EditOperation.replaceMove(r,n.text))}}},e.prototype.validate=function(){return void 0===this._expectedModelVersionId||this._model.getVersionId()===this._expectedModelVersionId?{canApply:!0}:{canApply:!1,reason:this._model.uri}},e.prototype.apply=function(){this._edits.length>0&&(this._edits=n.mergeSort(this._edits,function(e,t){return h.Range.compareRangesUsingStarts(e.range,t.range)}),
this._model.pushStackElement(),this._model.pushEditOperations([],this._edits,function(){return[]}),this._model.pushStackElement()),void 0!==this._newEol&&(this._model.pushStackElement(),this._model.pushEOL(this._newEol),this._model.pushStackElement())},e}(),T=function(e){function t(t,i){var n=e.call(this,t)||this;return n._editor=i,n}return i(t,e),t.prototype.apply=function(){this._edits.length>0&&(this._edits=n.mergeSort(this._edits,function(e,t){return h.Range.compareRangesUsingStarts(e.range,t.range)}),this._editor.pushUndoStop(),this._editor.executeEdits("",this._edits),this._editor.pushUndoStop()),void 0!==this._newEol&&(this._editor.pushUndoStop(),this._editor.getModel().pushEOL(this._newEol),this._editor.pushUndoStop())},t}(D),R=function(){function e(e,t,i,n){this._edits=new Map,this._textModelResolverService=e,this._editor=t,this._progress=n,i.forEach(this.addEdit,this)}return e.prototype.dispose=function(){this._tasks=c.dispose(this._tasks)},e.prototype.addEdit=function(e){
var t=this._edits.get(e.resource.toString());t||(t=[],this._edits.set(e.resource.toString(),t)),t.push(e)},e.prototype.prepare=function(){return s(this,void 0,void 0,function(){var e,t=this;return a(this,function(i){switch(i.label){case 0:if(this._tasks)throw new Error("illegal state - already prepared");return this._tasks=[],e=[],this._edits.forEach(function(i,n){var r=t._textModelResolverService.createModelReference(l.URI.parse(n)).then(function(e){var r=e.object;if(!r||!r.textEditorModel)throw new Error("Cannot load file "+n);var o;o=t._editor&&t._editor.getModel().uri.toString()===r.textEditorModel.uri.toString()?new T(e,t._editor):new D(e),i.forEach(function(e){return o.addEdit(e)}),t._tasks.push(o),t._progress.report(void 0)});e.push(r)}),[4,Promise.all(e)];case 1:return i.sent(),[2,this]}})})},e.prototype.validate=function(){for(var e=0,t=this._tasks;e<t.length;e++){var i=t[e].validate();if(!i.canApply)return i}return{canApply:!0}},e.prototype.apply=function(){for(var e=0,t=this._tasks;e<t.length;e++){
t[e].apply(),this._progress.report(void 0)}},e}(),A=function(){function e(e,t,i,n,r,o,s,a){this._logService=i,this._textModelService=n,this._fileService=r,this._textFileService=o,this._uriLabelServie=s,this._configurationService=a,this._edits=[],this._editor=e,this._progress=t||E.emptyProgressRunner}return e.prototype.add=function(e){var t;Array.isArray(e)?(t=this._edits).push.apply(t,e):this._edits.push(e)},e.prototype.ariaMessage=function(){var e=this._edits.reduce(function(e,t){return f.isResourceFileEdit(t)?e:e+t.edits.length},0),t=this._edits.length;return 0===e?m.localize("summary.0","Made no edits"):e>1&&t>1?m.localize("summary.nm","Made {0} text edits in {1} files",e,t):m.localize("summary.n0","Made {0} text edits in one file",e,t)},e.prototype.perform=function(){return s(this,void 0,void 0,function(){var e,t,i,n,r,o,s,c,l,u,d,p=this;return a(this,function(a){switch(a.label){case 0:for(e=new Set,t=0,i=[],r=0,o=this._edits;r<o.length;r++)s=o[r],
(!n||f.isResourceFileEdit(n[0])&&!f.isResourceFileEdit(s)||f.isResourceTextEdit(n[0])&&!f.isResourceTextEdit(s))&&(n=[],i.push(n)),n.push(s),f.isResourceFileEdit(s)?t+=1:e.has(s.resource.toString())||(e.add(s.resource.toString()),t+=2);this._progress.total(t),c={report:function(e){return p._progress.worked(1)}},l=0,u=i,a.label=1;case 1:return l<u.length?(d=u[l],f.isResourceFileEdit(d[0])?[4,this._performFileEdits(d,c)]:[3,3]):[3,6];case 2:return a.sent(),[3,5];case 3:return[4,this._performTextEdits(d,c)];case 4:a.sent(),a.label=5;case 5:return l++,[3,1];case 6:return[2]}})})},e.prototype._performFileEdits=function(e,t){return s(this,void 0,void 0,function(){var i,n,r,o,s,c,l;return a(this,function(a){switch(a.label){case 0:this._logService.debug("_performFileEdits",JSON.stringify(e)),i=0,n=e,a.label=1;case 1:return i<n.length?(r=n[i],t.report(void 0),o=r.options||{},r.newUri&&r.oldUri?(s=void 0===o.overwrite&&o.ignoreIfExists)?[4,this._fileService.existsFile(r.newUri)]:[3,3]:[3,5]):[3,15];case 2:s=a.sent(),
a.label=3;case 3:return s?[3,14]:[4,this._textFileService.move(r.oldUri,r.newUri,o.overwrite)];case 4:return a.sent(),[3,14];case 5:return r.newUri||!r.oldUri?[3,10]:(c=!o.ignoreIfNotExists)?[3,7]:[4,this._fileService.existsFile(r.oldUri)];case 6:c=a.sent(),a.label=7;case 7:return c?[4,this._textFileService.delete(r.oldUri,{useTrash:this._configurationService.getValue("files.enableTrash"),recursive:o.recursive})]:[3,9];case 8:a.sent(),a.label=9;case 9:return[3,14];case 10:return!r.newUri||r.oldUri?[3,14]:(l=void 0===o.overwrite&&o.ignoreIfExists)?[4,this._fileService.existsFile(r.newUri)]:[3,12];case 11:l=a.sent(),a.label=12;case 12:return l?[3,14]:[4,this._textFileService.create(r.newUri,void 0,{overwrite:o.overwrite})];case 13:a.sent(),a.label=14;case 14:return i++,[3,1];case 15:return[2]}})})},e.prototype._performTextEdits=function(e,t){return s(this,void 0,void 0,function(){var i,n,r,o,s=this;return a(this,function(a){switch(a.label){case 0:
return this._logService.debug("_performTextEdits",JSON.stringify(e)),i=x.start(this._fileService),n=new R(this._textModelService,this._editor,e,t),[4,n.prepare()];case 1:if(a.sent(),r=e.filter(function(e){return i.hasChanged(e.resource)}).map(function(e){return s._uriLabelServie.getUriLabel(e.resource,{relative:!0})}),i.stop(),r.length>0)throw n.dispose(),new Error(m.localize("conflict","These files have changed in the meantime: {0}",r.join(", ")));if(!1===(o=n.validate()).canApply)throw new Error(o.reason.toString()+" has changed in the meantime");return[4,n.apply()];case 2:return a.sent(),n.dispose(),[2]}})})},e=r([o(2,b.ILogService),o(3,v.ITextModelService),o(4,y.IFileService),o(5,C.ITextFileService),o(6,w.ILabelService),o(7,I.IConfigurationService)],e)}();t.BulkEdit=A;var O=function(){function e(e,t,i,n,r,o,s,a){this._logService=e,this._modelService=t,this._editorService=i,this._textModelService=n,this._fileService=r,this._textFileService=o,this._labelService=s,this._configurationService=a}
return e.prototype.apply=function(e,t){var i=this;void 0===t&&(t={});for(var n=e.edits,r=t.editor,o=0,s=n.length;o<s;o++){var a=n[o];if(!f.isResourceFileEdit(a)&&"number"==typeof a.modelVersionId){var c=this._modelService.getModel(a.resource);if(c&&c.getVersionId()!==a.modelVersionId)return Promise.reject(new Error(c.uri.toString()+" has changed in the meantime"))}}if(!r){var l=this._editorService.activeTextEditorWidget;u.isCodeEditor(l)&&(r=l)}var d=new A(t.editor,t.progress,this._logService,this._textModelService,this._fileService,this._textFileService,this._labelService,this._configurationService);return d.add(n),d.perform().then(function(){return{ariaSummary:d.ariaMessage()}}).catch(function(e){throw i._logService.error(e),e})},e=r([o(0,b.ILogService),o(1,g.IModelService),o(2,_.IEditorService),o(3,v.ITextModelService),o(4,y.IFileService),o(5,C.ITextFileService),o(6,w.ILabelService),o(7,I.IConfigurationService)],e)}();t.BulkEditService=O,S.registerSingleton(d.IBulkEditService,O,!0)}),
define(e[483],t([1,0,2,73,553,22,277,13,88,46,91,31,16,58,149]),function(e,t,i,n,c,l,u,d,p,h,f,g,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(){function e(e,t,i){this.fileService=e,this.textModelResolverService=t,this.textFileService=i,this.queue=new d.Queue}return e.prototype.write=function(e,t,i){var n=this;return Promise.resolve(this.queue.queue(function(){return n.doWriteConfiguration(e,t,i)}))},e.prototype.doWriteConfiguration=function(e,t,i){var n=this;return this.resolveAndValidate(e,i).then(function(e){return n.writeToBuffer(e.object.textEditorModel,t).then(function(){return e.dispose()})})},e.prototype.writeToBuffer=function(e,t){return s(this,void 0,void 0,function(){var i;return a(this,function(n){return i=this.getEdits(e,t)[0],this.applyEditsToBuffer(i,e)?[2,this.textFileService.save(e.uri)]:[2]})})},e.prototype.applyEditsToBuffer=function(e,t){
var i=t.getPositionAt(e.offset),n=t.getPositionAt(e.offset+e.length),r=new h.Range(i.lineNumber,i.column,n.lineNumber,n.column),o=t.getValueInRange(r);if(e.content!==o){var s=o?p.EditOperation.replace(r,e.content):p.EditOperation.insert(i,e.content);return t.pushEditOperations([new f.Selection(i.lineNumber,i.column,i.lineNumber,i.column)],[s],function(){return[]}),!0}return!1},e.prototype.getEdits=function(e,t){var i=e.getOptions(),n=i.tabSize,r=i.insertSpaces,o=e.getEOL(),s=t.key,a=t.value;if(!s){var c=JSON.stringify(a,null,r?l.repeat(" ",n):"\t");return[{content:c,length:c.length,offset:0}]}return u.setProperty(e.getValue(),[s],a,{tabSize:n,insertSpaces:r,eol:o})},e.prototype.resolveModelReference=function(e){return s(this,void 0,void 0,function(){var t;return a(this,function(i){switch(i.label){case 0:return[4,this.fileService.existsFile(e)];case 1:return(t=i.sent())?[3,3]:[4,this.fileService.updateContent(e,"{}",{encoding:c.UTF8})];case 2:i.sent(),i.label=3;case 3:
return[2,this.textModelResolverService.createModelReference(e)]}})})},e.prototype.hasParseErrors=function(e){var t=[];return n.parse(e.getValue(),t),t.length>0},e.prototype.resolveAndValidate=function(e,t){var i=this;return this.resolveModelReference(e).then(function(n){var r=n.object.textEditorModel;return i.hasParseErrors(r)?i.wrapError(1):t&&i.textFileService.isDirty(e)?i.wrapError(0):n})},e.prototype.wrapError=function(e){var t=this.toErrorMessage(e);return Promise.reject(new y.JSONEditingError(t,e))},e.prototype.toErrorMessage=function(e){switch(e){case 1:return i.localize("errorInvalidFile","Unable to write into the file. Please open the file to correct errors/warnings in the file and try again.");case 0:return i.localize("errorFileDirty","Unable to write into the file because the file is dirty. Please save the file and try again.")}},e=r([o(0,v.IFileService),o(1,m.ITextModelService),o(2,g.ITextFileService)],e)}();t.JSONEditingService=S}),
define(e[259],t([1,0,2,13,73,277,3,29,6,88,46,91,58,9,11,48,16,4,31]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IKeybindingEditingService=b.createDecorator("keybindingEditingService");var _=function(e){function t(t,i,n,r,o){var a=e.call(this)||this;return a.textModelResolverService=t,a.textFileService=i,a.fileService=n,a.configurationService=r,a.environmentService=o,a.resource=d.URI.file(a.environmentService.appKeybindingsPath),a.queue=new s.Queue,a}return i(t,e),t.prototype.editKeybinding=function(e,t){var i=this;return this.queue.queue(function(){return i.doEditKeybinding(e,t)})},t.prototype.resetKeybinding=function(e){var t=this;return this.queue.queue(function(){return t.doResetKeybinding(e)})},t.prototype.removeKeybinding=function(e){var t=this;return this.queue.queue(function(){return t.doRemoveKeybinding(e)})},t.prototype.doEditKeybinding=function(e,t){var i=this;return this.resolveAndValidate().then(function(n){
var r=n.object.textEditorModel,o=a.parse(r.getValue()),s=i.findUserKeybindingEntryIndex(t,o);return i.updateKeybinding(e,t,r,s),t.isDefault&&t.resolvedKeybinding&&i.removeDefaultKeybinding(t,r),i.save().then(function(){return n.dispose()})})},t.prototype.doRemoveKeybinding=function(e){var t=this;return this.resolveAndValidate().then(function(i){var n=i.object.textEditorModel;return e.isDefault?t.removeDefaultKeybinding(e,n):t.removeUserKeybinding(e,n),t.save().then(function(){return i.dispose()})})},t.prototype.doResetKeybinding=function(e){var t=this;return this.resolveAndValidate().then(function(i){var n=i.object.textEditorModel;return e.isDefault||(t.removeUserKeybinding(e,n),t.removeUnassignedDefaultKeybinding(e,n)),t.save().then(function(){return i.dispose()})})},t.prototype.save=function(){return this.textFileService.save(this.resource)},t.prototype.updateKeybinding=function(e,t,i,n){var r=i.getOptions(),o=r.tabSize,s=r.insertSpaces,a=i.getEOL()
;-1!==n?this.applyEditsToBuffer(c.setProperty(i.getValue(),[n,"key"],e,{tabSize:o,insertSpaces:s,eol:a})[0],i):this.applyEditsToBuffer(c.setProperty(i.getValue(),[-1],this.asObject(e,t.command,t.when,!1),{tabSize:o,insertSpaces:s,eol:a})[0],i)},t.prototype.removeUserKeybinding=function(e,t){var i=t.getOptions(),n=i.tabSize,r=i.insertSpaces,o=t.getEOL(),s=a.parse(t.getValue()),l=this.findUserKeybindingEntryIndex(e,s);-1!==l&&this.applyEditsToBuffer(c.setProperty(t.getValue(),[l],void 0,{tabSize:n,insertSpaces:r,eol:o})[0],t)},t.prototype.removeDefaultKeybinding=function(e,t){var i=t.getOptions(),n=i.tabSize,r=i.insertSpaces,o=t.getEOL();this.applyEditsToBuffer(c.setProperty(t.getValue(),[-1],this.asObject(e.resolvedKeybinding.getUserSettingsLabel(),e.command,e.when,!0),{tabSize:n,insertSpaces:r,eol:o})[0],t)},t.prototype.removeUnassignedDefaultKeybinding=function(e,t){
for(var i=t.getOptions(),n=i.tabSize,r=i.insertSpaces,o=t.getEOL(),s=a.parse(t.getValue()),l=0,u=this.findUnassignedDefaultKeybindingEntryIndex(e,s).reverse();l<u.length;l++){var d=u[l];this.applyEditsToBuffer(c.setProperty(t.getValue(),[d],void 0,{tabSize:n,insertSpaces:r,eol:o})[0],t)}},t.prototype.findUserKeybindingEntryIndex=function(e,t){for(var i=0;i<t.length;i++){var n=t[i];if(n.command===e.command){if(!n.when&&!e.when)return i;if(n.when&&e.when&&m.ContextKeyExpr.deserialize(n.when).serialize()===e.when.serialize())return i}}return-1},t.prototype.findUnassignedDefaultKeybindingEntryIndex=function(e,t){for(var i=[],n=0;n<t.length;n++)t[n].command==="-"+e.command&&i.push(n);return i},t.prototype.asObject=function(e,t,i,n){var r={key:e};return r.command=n?"-"+t:t,i&&(r.when=i.serialize()),r},t.prototype.applyEditsToBuffer=function(e,t){
var i=t.getPositionAt(e.offset),n=t.getPositionAt(e.offset+e.length),r=new h.Range(i.lineNumber,i.column,n.lineNumber,n.column),o=t.getValueInRange(r)?p.EditOperation.replace(r,e.content):p.EditOperation.insert(i,e.content);t.pushEditOperations([new f.Selection(i.lineNumber,i.column,i.lineNumber,i.column)],[o],function(){return[]})},t.prototype.resolveModelReference=function(){var e=this;return this.fileService.existsFile(this.resource).then(function(t){var i=e.configurationService.getValue("files",{overrideIdentifier:"json"}).eol;return(t?Promise.resolve(null):e.fileService.updateContent(e.resource,e.getEmptyContent(i),{encoding:"utf8"})).then(function(){return e.textModelResolverService.createModelReference(e.resource)})})},t.prototype.resolveAndValidate=function(){var e=this
;return this.textFileService.isDirty(this.resource)?Promise.reject(new Error(n.localize("errorKeybindingsFileDirty","Unable to write because the keybindings configuration file is dirty. Please save it first and then try again."))):this.resolveModelReference().then(function(t){var i=t.object.textEditorModel,r=i.getEOL();if(i.getValue()){var o=e.parse(i);if(o.parseErrors.length)return Promise.reject(new Error(n.localize("parseErrors","Unable to write to the keybindings configuration file. Please open it to correct errors/warnings in the file and try again.")));if(o.result){if(!u.isArray(o.result))return Promise.reject(new Error(n.localize("errorInvalidConfiguration","Unable to write to the keybindings configuration file. It has an object which is not of type Array. Please open the file to clean up and try again.")))}else{s=r+"[]";e.applyEditsToBuffer({content:s,length:s.length,offset:i.getValue().length},i)}}else{var s=e.getEmptyContent(r);e.applyEditsToBuffer({content:s,length:s.length,offset:0},i)}return t})
},t.prototype.parse=function(e){var t=[];return{result:a.parse(e.getValue(),t),parseErrors:t}},t.prototype.getEmptyContent=function(e){return"// "+n.localize("emptyKeybindingsHeader","Place your key bindings in this file to override the defaults")+e+"[]"},t=r([o(0,g.ITextModelService),o(1,E.ITextFileService),o(2,S.IFileService),o(3,v.IConfigurationService),o(4,y.IEnvironmentService)],t)}(l.Disposable);t.KeybindingsEditingService=_}),define(e[486],t([1,0,2,13,8,20,3,209,220,537,14,53,82,30,99,235,4,43,243,107,37,259,12,11,72,27,10,67,59,25,52,50,28,60,333]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var N=a.$,B=function(e){function t(i,n,r,o,a,c,l,u,d,p,h,f){var g=e.call(this,t.ID,i,n,h)||this;return g.keybindingsService=r,g.contextMenuService=o,g.keybindingEditingService=a,g.contextKeyService=c,g.notificationService=l,g.clipboardService=u,g.instantiationService=d,g.editorService=p,g.preferencesService=f,
g.latestEmptyFilters=[],g.delayedFiltering=new s.Delayer(300),g._register(r.onDidUpdateKeybindings(function(){return g.render(!1,M.CancellationToken.None)})),g.keybindingsEditorContextKey=_.CONTEXT_KEYBINDINGS_EDITOR.bindTo(g.contextKeyService),g.searchFocusContextKey=_.CONTEXT_KEYBINDINGS_SEARCH_FOCUS.bindTo(g.contextKeyService),g.keybindingFocusContextKey=_.CONTEXT_KEYBINDING_FOCUS.bindTo(g.contextKeyService),g.delayedFilterLogging=new s.Delayer(1e3),g}return i(t,e),t.prototype.createEditor=function(e){var t=this,i=a.append(e,N("div",{class:"keybindings-editor"}));this.createAriaLabelElement(i),this.createOverlayContainer(i),this.createHeader(i),this.createBody(i);var n=this._register(a.trackFocus(e));this._register(n.onDidFocus(function(){return t.keybindingsEditorContextKey.set(!0)})),this._register(n.onDidBlur(function(){return t.keybindingsEditorContextKey.reset()}))},t.prototype.setInput=function(t,i,n){var r=this;return e.prototype.setInput.call(this,t,i,n).then(function(){
return r.render(i&&i.preserveFocus,n)})},t.prototype.clearInput=function(){e.prototype.clearInput.call(this),this.keybindingsEditorContextKey.reset(),this.keybindingFocusContextKey.reset()},t.prototype.layout=function(e){this.dimension=e,this.layoutSearchWidget(e),this.overlayContainer.style.width=e.width+"px",this.overlayContainer.style.height=e.height+"px",this.defineKeybindingWidget.layout(this.dimension),this.layoutKebindingsList()},t.prototype.focus=function(){var e=this.activeKeybindingEntry;e?this.selectEntry(e):this.searchWidget.focus()},Object.defineProperty(t.prototype,"activeKeybindingEntry",{get:function(){var e=this.keybindingsList.getFocusedElements()[0];return e&&e.templateId===y.KEYBINDING_ENTRY_TEMPLATE_ID?e:null},enumerable:!0,configurable:!0}),t.prototype.defineKeybinding=function(e){var t=this;return this.selectEntry(e),this.showOverlayContainer(),this.defineKeybindingWidget.define().then(function(i){if(i){
if((e.keybindingItem.keybinding?e.keybindingItem.keybinding.getUserSettingsLabel():"")!==i)return t.reportKeybindingAction(_.KEYBINDINGS_EDITOR_COMMAND_DEFINE,e.keybindingItem.command,i),t.keybindingEditingService.editKeybinding(i,e.keybindingItem.keybindingItem).then(function(){e.keybindingItem.keybinding||(t.unAssignedKeybindingItemToRevealAndFocus=e)})}return null}).then(function(){t.hideOverlayContainer(),t.selectEntry(e)},function(i){return t.hideOverlayContainer(),t.onKeybindingEditingError(i),t.selectEntry(e),i})},t.prototype.removeKeybinding=function(e){var t=this;return this.selectEntry(e),e.keybindingItem.keybinding?(this.reportKeybindingAction(_.KEYBINDINGS_EDITOR_COMMAND_REMOVE,e.keybindingItem.command,e.keybindingItem.keybinding),this.keybindingEditingService.removeKeybinding(e.keybindingItem.keybindingItem).then(function(){return t.focus()},function(i){t.onKeybindingEditingError(i),t.selectEntry(e)})):Promise.resolve(null)},t.prototype.resetKeybinding=function(e){var t=this
;return this.selectEntry(e),this.reportKeybindingAction(_.KEYBINDINGS_EDITOR_COMMAND_RESET,e.keybindingItem.command,e.keybindingItem.keybinding),this.keybindingEditingService.resetKeybinding(e.keybindingItem.keybindingItem).then(function(){e.keybindingItem.keybinding||(t.unAssignedKeybindingItemToRevealAndFocus=e),t.selectEntry(e)},function(i){t.onKeybindingEditingError(i),t.selectEntry(e)})},t.prototype.copyKeybinding=function(e){this.selectEntry(e),this.reportKeybindingAction(_.KEYBINDINGS_EDITOR_COMMAND_COPY,e.keybindingItem.command,e.keybindingItem.keybinding);var t={key:e.keybindingItem.keybinding?e.keybindingItem.keybinding.getUserSettingsLabel():"",command:e.keybindingItem.command};e.keybindingItem.when&&(t.when=e.keybindingItem.when),this.clipboardService.writeText(JSON.stringify(t,null,"  "))},t.prototype.copyKeybindingCommand=function(e){this.selectEntry(e),this.reportKeybindingAction(_.KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND,e.keybindingItem.command,e.keybindingItem.keybinding),
this.clipboardService.writeText(e.keybindingItem.command)},t.prototype.focusSearch=function(){this.searchWidget.focus()},t.prototype.search=function(e){this.focusSearch(),this.searchWidget.setValue(e)},t.prototype.clearSearchResults=function(){this.searchWidget.clear()},t.prototype.showSimilarKeybindings=function(e){var t='"'+e.keybindingItem.keybinding.getAriaLabel()+'"';t!==this.searchWidget.getValue()&&this.searchWidget.setValue(t)},t.prototype.createAriaLabelElement=function(e){this.ariaLabelElement=a.append(e,a.$("")),this.ariaLabelElement.setAttribute("id","keybindings-editor-aria-label-element"),this.ariaLabelElement.setAttribute("aria-live","assertive")},t.prototype.createOverlayContainer=function(e){var t=this;this.overlayContainer=a.append(e,N(".overlay-container")),this.overlayContainer.style.position="absolute",this.overlayContainer.style.zIndex="10",this.defineKeybindingWidget=this._register(this.instantiationService.createInstance(E.DefineKeybindingWidget,this.overlayContainer)),
this._register(this.defineKeybindingWidget.onDidChange(function(e){return t.defineKeybindingWidget.printExisting(t.keybindingsEditorModel.fetch('"'+e+'"').length)})),this._register(this.defineKeybindingWidget.onShowExistingKeybidings(function(e){return t.searchWidget.setValue('"'+e+'"')})),this.hideOverlayContainer()},t.prototype.showOverlayContainer=function(){this.overlayContainer.style.display="block"},t.prototype.hideOverlayContainer=function(){this.overlayContainer.style.display="none"},t.prototype.createHeader=function(e){var t=this;this.headerContainer=a.append(e,N(".keybindings-header"));var i=n.localize("SearchKeybindings.FullTextSearchPlaceholder","Type to search in keybindings"),r=n.localize("SearchKeybindings.KeybindingsSearchPlaceholder","Recording Keys. Press Escape to exit"),o=new h.Action(_.KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS,n.localize("clearInput","Clear Keybindings Search Input"),"clear-input",!1,function(){return t.search(""),Promise.resolve(null)
}),s=a.append(this.headerContainer,N(".search-container"));this.searchWidget=this._register(this.instantiationService.createInstance(E.KeybindingsSearchWidget,s,{ariaLabel:i,placeholder:i,focusKey:this.searchFocusContextKey,ariaLabelledBy:"keybindings-editor-aria-label-element",recordEnter:!0,quoteRecordedKeys:!0})),this._register(this.searchWidget.onDidChange(function(e){o.enabled=!!e,t.delayedFiltering.trigger(function(){return t.filterKeybindings()})})),this._register(this.searchWidget.onEscape(function(){return t.recordKeysAction.checked=!1})),this.actionsContainer=a.append(s,a.$(".keybindings-search-actions-container"));var c=this.createRecordingBadge(this.actionsContainer),l=this.keybindingsService.lookupKeybinding(_.KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE),d=n.localize("sortByPrecedeneLabel","Sort by Precedence");this.sortByPrecedenceAction=new h.Action("keybindings.editor.sortByPrecedence",l?n.localize("sortByPrecedeneLabelWithKeybinding","{0} ({1})",d,l.getLabel()):d,"sort-by-precedence"),
this.sortByPrecedenceAction.checked=!1,this._register(this.sortByPrecedenceAction.onDidChange(function(e){void 0!==e.checked&&t.renderKeybindingsEntries(!1)}));var p=this.keybindingsService.lookupKeybinding(_.KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS),g=n.localize("recordKeysLabel","Record Keys");this.recordKeysAction=new h.Action(_.KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS,p?n.localize("recordKeysLabelWithKeybinding","{0} ({1})",g,p.getLabel()):g,"record-keys"),this.recordKeysAction.checked=!1,this._register(this.recordKeysAction.onDidChange(function(e){void 0!==e.checked&&(a.toggleClass(c,"disabled",!e.checked),e.checked?(t.searchWidget.inputBox.setPlaceHolder(r),t.searchWidget.inputBox.setAriaLabel(r),t.searchWidget.startRecordingKeys(),t.searchWidget.focus()):(t.searchWidget.inputBox.setPlaceHolder(i),t.searchWidget.inputBox.setAriaLabel(i),t.searchWidget.stopRecordingKeys(),t.searchWidget.focus()))})),this.actionBar=this._register(new f.ActionBar(this.actionsContainer,{animated:!1,
actionItemProvider:function(e){return e.id===t.sortByPrecedenceAction.id?new u.CheckboxActionItem(null,e):e.id===t.recordKeysAction.id?new u.CheckboxActionItem(null,e):null}})),this.actionBar.push([this.recordKeysAction,this.sortByPrecedenceAction,o],{label:!1,icon:!0}),this.createOpenKeybindingsElement(this.headerContainer)},t.prototype.createRecordingBadge=function(e){var t=a.append(e,a.$(".recording-badge.disabled"));return t.textContent=n.localize("recording","Recording Keys"),this._register(P.attachStylerCallback(this.themeService,{badgeBackground:T.badgeBackground,contrastBorder:T.contrastBorder,badgeForeground:T.badgeForeground},function(e){var i=e.badgeBackground?e.badgeBackground.toString():null,n=e.contrastBorder?e.contrastBorder.toString():null,r=e.badgeForeground?e.badgeForeground.toString():null;t.style.backgroundColor=i,t.style.borderWidth=n?"1px":null,t.style.borderStyle=n?"solid":null,t.style.borderColor=n,t.style.color=r?r.toString():null})),t},
t.prototype.createOpenKeybindingsElement=function(e){var t=this,i=a.append(e,N(".open-keybindings-container"));a.append(i,N("",null,n.localize("header-message","For advanced customizations open and edit")));var r=a.append(i,N(".file-name",null,n.localize("keybindings-file-name","keybindings.json")));r.tabIndex=0,this._register(a.addDisposableListener(r,a.EventType.CLICK,function(){return t.preferencesService.openGlobalKeybindingSettings(!0)})),this._register(a.addDisposableListener(r,a.EventType.KEY_UP,function(e){var i=new D.StandardKeyboardEvent(e);switch(i.keyCode){case 3:return t.preferencesService.openGlobalKeybindingSettings(!0),i.preventDefault(),void i.stopPropagation()}}))},t.prototype.layoutSearchWidget=function(e){this.searchWidget.layout(e),a.toggleClass(this.headerContainer,"small",e.width<400),this.searchWidget.inputBox.inputElement.style.paddingRight=a.getTotalWidth(this.actionsContainer)+12+"px"},t.prototype.createBody=function(e){var t=a.append(e,N(".keybindings-body"));this.createList(t)},
t.prototype.createList=function(e){var t=this;this.keybindingsListContainer=a.append(e,N(".keybindings-list-container")),this.keybindingsList=this._register(this.instantiationService.createInstance(O.WorkbenchList,this.keybindingsListContainer,new W,[new V,new z(this,this.keybindingsService)],{identityProvider:function(e){return e.id},mouseSupport:!0,ariaLabel:n.localize("keybindingsLabel","Keybindings"),setRowLineHeight:!1})),this._register(this.keybindingsList.onContextMenu(function(e){return t.onContextMenu(e)})),this._register(this.keybindingsList.onFocusChange(function(e){return t.onFocusChange(e)})),this._register(this.keybindingsList.onDidFocus(function(){a.addClass(t.keybindingsList.getHTMLElement(),"focused")})),this._register(this.keybindingsList.onDidBlur(function(){a.removeClass(t.keybindingsList.getHTMLElement(),"focused"),t.keybindingFocusContextKey.reset()})),this._register(this.keybindingsList.onMouseDblClick(function(){return t.defineKeybinding(t.activeKeybindingEntry)})),
this._register(this.keybindingsList.onKeyDown(function(e){if(3===new D.StandardKeyboardEvent(e).keyCode){t.activeKeybindingEntry&&t.defineKeybinding(t.activeKeybindingEntry),e.stopPropagation()}}))},t.prototype.render=function(e,t){var i=this;return this.input?this.input.resolve().then(function(e){if(!t.isCancellationRequested){i.keybindingsEditorModel=e;var n=A.EditorExtensionsRegistry.getEditorActions().reduce(function(e,t){return e[t.id]=t.label,e},{});return i.keybindingsEditorModel.resolve(n)}}).then(function(){t.isCancellationRequested||i.renderKeybindingsEntries(!1,e)}):Promise.resolve()},t.prototype.filterKeybindings=function(){var e=this;this.renderKeybindingsEntries(this.searchWidget.hasFocus()),this.delayedFilterLogging.trigger(function(){return e.reportFilteringUsed(e.searchWidget.getValue())})},t.prototype.renderKeybindingsEntries=function(e,t){if(this.keybindingsEditorModel){var i=this.searchWidget.getValue(),n=this.keybindingsEditorModel.fetch(i,this.sortByPrecedenceAction.checked)
;this.ariaLabelElement.setAttribute("aria-label",this.getAriaLabel(n)),0===n.length&&this.latestEmptyFilters.push(i);var r=this.keybindingsList.getSelection()[0];if(this.listEntries=[{id:"keybinding-header-entry",templateId:y.KEYBINDING_HEADER_TEMPLATE_ID}].concat(n),this.keybindingsList.splice(0,this.keybindingsList.length,this.listEntries),this.layoutKebindingsList(),e)this.keybindingsList.setSelection([]),this.keybindingsList.setFocus([]);else if(this.unAssignedKeybindingItemToRevealAndFocus){var o=this.getNewIndexOfUnassignedKeybinding(this.unAssignedKeybindingItemToRevealAndFocus);-1!==o&&(this.keybindingsList.reveal(o,.2),this.selectEntry(o)),this.unAssignedKeybindingItemToRevealAndFocus=null}else-1!==r&&r<this.listEntries.length?this.selectEntry(r):this.editorService.activeControl!==this||t||this.focus()}},t.prototype.getAriaLabel=function(e){
return this.sortByPrecedenceAction.checked?n.localize("show sorted keybindings","Showing {0} Keybindings in precedence order",e.length):n.localize("show keybindings","Showing {0} Keybindings in alphabetical order",e.length)},t.prototype.layoutKebindingsList=function(){var e=this.dimension.height-(a.getDomNodePagePosition(this.headerContainer).height+12);this.keybindingsListContainer.style.height=e+"px",this.keybindingsList.layout(e)},t.prototype.getIndexOf=function(e){var t=this.listEntries.indexOf(e);if(-1===t)for(var i=0;i<this.listEntries.length;i++)if(this.listEntries[i].id===e.id)return i;return t},t.prototype.getNewIndexOfUnassignedKeybinding=function(e){for(var t=0;t<this.listEntries.length;t++){var i=this.listEntries[t];if(i.templateId===y.KEYBINDING_ENTRY_TEMPLATE_ID){if(i.keybindingItem.command===e.keybindingItem.command)return t}}return-1},t.prototype.selectEntry=function(e){var t="number"==typeof e?e:this.getIndexOf(e);-1!==t&&(this.keybindingsList.getHTMLElement().focus(),
this.keybindingsList.setFocus([t]),this.keybindingsList.setSelection([t]))},t.prototype.focusKeybindings=function(){this.keybindingsList.getHTMLElement().focus();var e=this.keybindingsList.getFocus();this.keybindingsList.setFocus([e.length?e[0]:0])},t.prototype.recordSearchKeys=function(){this.recordKeysAction.checked=!0},t.prototype.toggleSortByPrecedence=function(){this.sortByPrecedenceAction.checked=!this.sortByPrecedenceAction.checked},t.prototype.onContextMenu=function(e){var t=this;e.element.templateId===y.KEYBINDING_ENTRY_TEMPLATE_ID&&(this.selectEntry(e.element),this.contextMenuService.showContextMenu({getAnchor:function(){return e.anchor},getActions:function(){return[t.createCopyAction(e.element),t.createCopyCommandAction(e.element),new f.Separator,t.createDefineAction(e.element),t.createRemoveAction(e.element),t.createResetAction(e.element),new f.Separator,t.createShowConflictsAction(e.element)]}}))},t.prototype.onFocusChange=function(e){this.keybindingFocusContextKey.reset();var t=e.elements[0]
;t&&(t.templateId!==y.KEYBINDING_HEADER_TEMPLATE_ID?t.templateId===y.KEYBINDING_ENTRY_TEMPLATE_ID&&this.keybindingFocusContextKey.set(!0):this.keybindingsList.focusNext())},t.prototype.createDefineAction=function(e){var t=this;return{label:e.keybindingItem.keybinding?n.localize("changeLabel","Change Keybinding"):n.localize("addLabel","Add Keybinding"),enabled:!0,id:_.KEYBINDINGS_EDITOR_COMMAND_DEFINE,run:function(){return t.defineKeybinding(e)}}},t.prototype.createRemoveAction=function(e){var t=this;return{label:n.localize("removeLabel","Remove Keybinding"),enabled:!!e.keybindingItem.keybinding,id:_.KEYBINDINGS_EDITOR_COMMAND_REMOVE,run:function(){return t.removeKeybinding(e)}}},t.prototype.createResetAction=function(e){var t=this;return{label:n.localize("resetLabel","Reset Keybinding"),enabled:!e.keybindingItem.keybindingItem.isDefault,id:_.KEYBINDINGS_EDITOR_COMMAND_RESET,run:function(){return t.resetKeybinding(e)}}},t.prototype.createShowConflictsAction=function(e){var t=this;return{
label:n.localize("showSameKeybindings","Show Same Keybindings"),enabled:!!e.keybindingItem.keybinding,id:_.KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR,run:function(){return t.showSimilarKeybindings(e)}}},t.prototype.createCopyAction=function(e){var t=this;return{label:n.localize("copyLabel","Copy"),enabled:!0,id:_.KEYBINDINGS_EDITOR_COMMAND_COPY,run:function(){return t.copyKeybinding(e)}}},t.prototype.createCopyCommandAction=function(e){var t=this;return{label:n.localize("copyCommandLabel","Copy Command"),enabled:!0,id:_.KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND,run:function(){return t.copyKeybindingCommand(e)}}},t.prototype.reportFilteringUsed=function(e){if(e){var t={filter:e,emptyFilters:this.getLatestEmptyFiltersForTelemetry()};this.latestEmptyFilters=[],this.telemetryService.publicLog("keybindings.filter",t)}},t.prototype.getLatestEmptyFiltersForTelemetry=function(){var e=0;return this.latestEmptyFilters.filter(function(t){return(e+=t.length)<=8192})},t.prototype.reportKeybindingAction=function(e,t,i){
this.telemetryService.publicLog(e,{command:t,keybinding:i?"string"==typeof i?i:i.getUserSettingsLabel():""})},t.prototype.onKeybindingEditingError=function(e){this.notificationService.error("string"==typeof e?e:n.localize("error","Error '{0}' while editing the keybinding. Please open 'keybindings.json' file and check for errors.",""+e))},t.ID="workbench.editor.keybindings",t=r([o(0,v.ITelemetryService),o(1,I.IThemeService),o(2,b.IKeybindingService),o(3,C.IContextMenuService),o(4,w.IKeybindingEditingService),o(5,x.IContextKeyService),o(6,k.INotificationService),o(7,m.IClipboardService),o(8,S.IInstantiationService),o(9,R.IEditorService),o(10,L.IStorageService),o(11,F.IPreferencesService)],t)}(g.BaseEditor);t.KeybindingsEditor=B;var W=function(){function e(){}return e.prototype.getHeight=function(e){if(e.templateId===y.KEYBINDING_ENTRY_TEMPLATE_ID){var t=e.keybindingItem.commandLabel&&e.commandIdMatches,i=!!e.commandDefaultLabelMatches;if(t&&i)return 60;if(t||i)return 40}
return e.templateId===y.KEYBINDING_HEADER_TEMPLATE_ID?30:24},e.prototype.getTemplateId=function(e){return e.templateId},e}(),V=function(){function e(){}return Object.defineProperty(e.prototype,"templateId",{get:function(){return y.KEYBINDING_HEADER_TEMPLATE_ID},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){return a.addClass(e,"keybindings-list-header"),a.append(e,N(".header.actions"),N(".header.command",null,n.localize("command","Command")),N(".header.keybinding",null,n.localize("keybinding","Keybinding")),N(".header.source",null,n.localize("source","Source")),N(".header.when",null,n.localize("when","When"))),{}},e.prototype.renderElement=function(e,t,i){},e.prototype.disposeElement=function(){},e.prototype.disposeTemplate=function(e){},e}(),z=function(){function e(e,t){this.keybindingsEditor=e,this.keybindingsService=t}return Object.defineProperty(e.prototype,"templateId",{get:function(){return y.KEYBINDING_ENTRY_TEMPLATE_ID},enumerable:!0,configurable:!0}),
e.prototype.renderTemplate=function(e){a.addClass(e,"keybinding-item");var t=new K(e,this.keybindingsEditor,this.keybindingsService),i=new H(e,this.keybindingsEditor),n=new U(e,this.keybindingsEditor),r=new j(e,this.keybindingsEditor),o=new q(e,this.keybindingsEditor);return e.setAttribute("aria-labelledby",[i.id,n.id,r.id,o.id].join(" ")),{parent:e,actions:t,command:i,keybinding:n,source:r,when:o}},e.prototype.renderElement=function(e,t,i){a.toggleClass(i.parent,"odd",t%2==1),i.actions.render(e),i.command.render(e),i.keybinding.render(e),i.source.render(e),i.when.render(e)},e.prototype.disposeElement=function(){},e.prototype.disposeTemplate=function(e){e.actions.dispose()},e}(),G=function(){function e(e,t){this.parent=e,this.keybindingsEditor=t,this.element=this.create(e),this.id=this.element.getAttribute("id")}return e.COUNTER=0,e}(),K=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.keybindingsService=n,r}return i(t,e),t.prototype.create=function(e){var t=a.append(e,N(".column.actions",{
id:"actions_"+ ++G.COUNTER}));return this.actionBar=new f.ActionBar(t,{animated:!1}),t},t.prototype.render=function(e){this.actionBar.clear();var t=[];e.keybindingItem.keybinding?t.push(this.createEditAction(e)):t.push(this.createAddAction(e)),this.actionBar.push(t,{icon:!0})},t.prototype.createEditAction=function(e){var t=this,i=this.keybindingsService.lookupKeybinding(_.KEYBINDINGS_EDITOR_COMMAND_DEFINE);return{class:"edit",enabled:!0,id:"editKeybinding",tooltip:i?n.localize("editKeybindingLabelWithKey","Change Keybinding {0}","("+i.getLabel()+")"):n.localize("editKeybindingLabel","Change Keybinding"),run:function(){return t.keybindingsEditor.defineKeybinding(e)}}},t.prototype.createAddAction=function(e){var t=this,i=this.keybindingsService.lookupKeybinding(_.KEYBINDINGS_EDITOR_COMMAND_DEFINE);return{class:"add",enabled:!0,id:"addKeybinding",tooltip:i?n.localize("addKeybindingLabelWithKey","Add Keybinding {0}","("+i.getLabel()+")"):n.localize("addKeybindingLabel","Add Keybinding"),run:function(){
return t.keybindingsEditor.defineKeybinding(e)}}},t.prototype.dispose=function(){this.actionBar=l.dispose(this.actionBar)},t}(G),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.create=function(e){return this.commandColumn=a.append(e,N(".column.command",{id:"command_"+ ++G.COUNTER})),this.commandColumn},t.prototype.render=function(e){a.clearNode(this.commandColumn);var t=e.keybindingItem,i=!(!t.commandLabel||!e.commandIdMatches),r=!!e.commandDefaultLabelMatches;a.toggleClass(this.commandColumn,"vertical-align-column",i||r),this.commandColumn.setAttribute("aria-label",this.getAriaLabel(e));var o;t.commandLabel&&(o=new d.HighlightedLabel(this.commandColumn,!1)).set(t.commandLabel,e.commandLabelMatches),e.commandDefaultLabelMatches&&(o=new d.HighlightedLabel(a.append(this.commandColumn,N(".command-default-label")),!1)).set(t.commandDefaultLabel,e.commandDefaultLabelMatches),
!e.commandIdMatches&&t.commandLabel||(o=new d.HighlightedLabel(a.append(this.commandColumn,N(".code")),!1)).set(t.command,e.commandIdMatches),o&&(o.element.title=t.commandLabel?n.localize("title","{0} ({1})",t.commandLabel,t.command):t.command)},t.prototype.getAriaLabel=function(e){return n.localize("commandAriaLabel","Command is {0}.",e.keybindingItem.commandLabel?e.keybindingItem.commandLabel:e.keybindingItem.command)},t}(G),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.create=function(e){return this.keybindingColumn=a.append(e,N(".column.keybinding",{id:"keybinding_"+ ++G.COUNTER})),this.keybindingColumn},t.prototype.render=function(e){a.clearNode(this.keybindingColumn),this.keybindingColumn.setAttribute("aria-label",this.getAriaLabel(e)),e.keybindingItem.keybinding&&new p.KeybindingLabel(this.keybindingColumn,c.OS).set(e.keybindingItem.keybinding,e.keybindingMatches)},t.prototype.getAriaLabel=function(e){
return e.keybindingItem.keybinding?n.localize("keybindingAriaLabel","Keybinding is {0}.",e.keybindingItem.keybinding.getAriaLabel()):n.localize("noKeybinding","No Keybinding assigned.")},t}(G),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.create=function(e){return this.sourceColumn=a.append(e,N(".column.source",{id:"source_"+ ++G.COUNTER})),this.sourceColumn},t.prototype.render=function(e){a.clearNode(this.sourceColumn),this.sourceColumn.setAttribute("aria-label",this.getAriaLabel(e)),new d.HighlightedLabel(this.sourceColumn,!1).set(e.keybindingItem.source,e.sourceMatches)},t.prototype.getAriaLabel=function(e){return n.localize("sourceAriaLabel","Source is {0}.",e.keybindingItem.source)},t}(G),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.create=function(e){var t=a.append(e,N(".column.when"));return this.whenColumn=a.append(t,N("div",{id:"when_"+ ++G.COUNTER})),this.whenColumn},
t.prototype.render=function(e){if(a.clearNode(this.whenColumn),this.whenColumn.setAttribute("aria-label",this.getAriaLabel(e)),a.toggleClass(this.whenColumn,"code",!!e.keybindingItem.when),a.toggleClass(this.whenColumn,"empty",!e.keybindingItem.when),e.keybindingItem.when){var t=new d.HighlightedLabel(this.whenColumn,!1);t.set(e.keybindingItem.when,e.whenMatches),this.whenColumn.title=e.keybindingItem.when,t.element.title=e.keybindingItem.when}else this.whenColumn.textContent=""},t.prototype.getAriaLabel=function(e){return e.keybindingItem.when?n.localize("whenAriaLabel","When is {0}.",e.keybindingItem.when):n.localize("noWhen","No when context.")},t}(G);I.registerThemingParticipant(function(e,t){var i=e.getColor(T.listHighlightForeground);i&&t.addRule(".keybindings-editor > .keybindings-body > .keybindings-list-container .monaco-list-row > .column .highlight { color: "+i+"; }")})}),
define(e[140],t([1,0,33,2,5,15,166,84,6,29,21,48,31,137,101,16,4,36,38,30,13,114,80,25,20,3,68,24,18]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var k=function(e){function t(i,n,r,o,s,c,l,u,d,p,h,f,g,v){var m=e.call(this,s,o)||this;return m.notificationService=r,m.fileService=c,m.instantiationService=l,m.telemetryService=u,m.textFileService=d,m.backupFileService=p,m.environmentService=h,m.contextService=f,m.hashService=g,m.logService=v,m._onDidContentChange=m._register(new a.Emitter),m._onDidStateChange=m._register(new a.Emitter),m.resource=i,m.preferredEncoding=n,m.inOrphanMode=!1,m.dirty=!1,m.versionId=0,m.lastSaveAttemptTime=0,m.saveSequentializer=new M,m.contentChangeEventScheduler=m._register(new C.RunOnceScheduler(function(){return m._onDidContentChange.fire(6)},t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY)),m.orphanedChangeEventScheduler=m._register(new C.RunOnceScheduler(function(){return m._onDidStateChange.fire(7)
},t.DEFAULT_ORPHANED_CHANGE_BUFFER_DELAY)),m.updateAutoSaveConfiguration(d.getAutoSaveConfiguration()),m.registerListeners(),m}return i(t,e),t.setSaveErrorHandler=function(e){t.saveErrorHandler=e},t.setSaveParticipant=function(e){t.saveParticipant=e},Object.defineProperty(t.prototype,"onDidContentChange",{get:function(){return this._onDidContentChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidStateChange",{get:function(){return this._onDidStateChange.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this._register(this.fileService.onFileChanges(function(t){return e.onFileChanges(t)})),this._register(this.textFileService.onAutoSaveConfigurationChange(function(t){return e.updateAutoSaveConfiguration(t)})),this._register(this.textFileService.onFilesAssociationChange(function(t){return e.onFilesAssociationChange()})),this._register(this.onDidStateChange(function(t){return e.onStateChange(t)}))},t.prototype.onStateChange=function(e){
4===e&&(this.contentChangeEventScheduler.cancel(),this._onDidContentChange.fire(4))},t.prototype.onFileChanges=function(e){var t,i=this,n=!1;if(this.inOrphanMode){e.contains(this.resource,1)&&(t=!1,n=!0)}else{e.contains(this.resource,2)&&(t=!0,n=!0)}if(n&&this.inOrphanMode!==t){(t?C.timeout(100).then(function(){return!!i.disposed||i.fileService.existsFile(i.resource).then(function(e){return!e})}):Promise.resolve(!1)).then(function(e){i.inOrphanMode===e||i.disposed||i.setOrphaned(e)})}},t.prototype.setOrphaned=function(e){this.inOrphanMode!==e&&(this.inOrphanMode=e,this.orphanedChangeEventScheduler.schedule())},t.prototype.updateAutoSaveConfiguration=function(e){var t="number"==typeof e.autoSaveDelay&&e.autoSaveDelay>0;this.autoSaveAfterMilliesEnabled=t,this.autoSaveAfterMillies=t?e.autoSaveDelay:void 0},t.prototype.onFilesAssociationChange=function(){if(this.textEditorModel){var e=this.getFirstLineText(this.textEditorModel),t=this.getOrCreateMode(this.modeService,void 0,e)
;this.modelService.setMode(this.textEditorModel,t)}},t.prototype.getVersionId=function(){return this.versionId},t.prototype.revert=function(e){var t=this;if(!this.isResolved())return c.TPromise.wrap(null);this.cancelPendingAutoSave();var i=this.setDirty(!1);return(e?c.TPromise.as(this):this.load({forceReadFromDisk:!0})).then(function(){t._onDidStateChange.fire(4)},function(e){return i(),c.TPromise.wrapError(e)})},t.prototype.load=function(e){return this.logService.trace("load() - enter",this.resource),this.dirty||this.saveSequentializer.hasPendingSave()?(this.logService.trace("load() - exit - without loading because model is dirty or being saved",this.resource),c.TPromise.as(this)):this.textEditorModel||this.createTextEditorModelPromise?this.loadFromFile(e):this.loadFromBackup(e)},t.prototype.loadFromBackup=function(e){var t=this;return this.backupFileService.loadBackupResource(this.resource).then(function(i){
if(t.createTextEditorModelPromise||t.textEditorModel)return t.createTextEditorModelPromise||c.TPromise.as(t);if(i){var r={resource:t.resource,name:n.basename(t.resource.fsPath),mtime:Date.now(),etag:void 0,value:I.createTextBufferFactory(""),encoding:t.fileService.encoding.getWriteEncoding(t.resource,t.preferredEncoding),isReadonly:!1};return t.loadWithContent(r,e,i)}return t.loadFromFile(e)})},t.prototype.loadFromFile=function(e){var t,i=this,n=e&&e.forceReadFromDisk,r=this.isResolved()||e&&e.allowBinary;n?t=void 0:this.lastResolvedDiskStat&&(t=this.lastResolvedDiskStat.etag);var o=this.versionId;return this.textFileService.resolveTextContent(this.resource,{acceptTextOnly:!r,etag:t,encoding:this.preferredEncoding}).then(function(t){return i.setOrphaned(!1),o===i.versionId?i.loadWithContent(t,e):i},function(e){var t=e.fileOperationResult;return i.setOrphaned(2===t),3===t?(o===i.versionId&&i.setDirty(!1),c.TPromise.as(i)):i.isResolved()&&2===t?c.TPromise.as(i):c.TPromise.wrapError(e)})},
t.prototype.loadWithContent=function(e,t,i){var n=this;return this.doLoadWithContent(e,i).then(function(e){var i=n.getTypeIfSettings();return i?n.telemetryService.publicLog("settingsRead",{settingsType:i}):n.telemetryService.publicLog("fileGet",n.getTelemetryData(t&&t.reason?t.reason:3)),e})},t.prototype.doLoadWithContent=function(e,t){this.logService.trace("load() - resolved content",this.resource),this.updateLastResolvedDiskStat({resource:this.resource,name:e.name,mtime:e.mtime,etag:e.etag,isDirectory:!1,isSymbolicLink:!1,children:void 0,isReadonly:e.isReadonly});var i=this.contentEncoding;return this.contentEncoding=e.encoding,this.preferredEncoding?this.updatePreferredEncoding(this.contentEncoding):i!==this.contentEncoding&&this._onDidStateChange.fire(5),this.textEditorModel?this.doUpdateTextModel(e.value):this.createTextEditorModelPromise?(this.logService.trace("load() - join existing text editor model promise",this.resource),this.createTextEditorModelPromise):this.doCreateTextModel(e.resource,e.value,t)
},t.prototype.doUpdateTextModel=function(e){this.logService.trace("load() - updated text editor model",this.resource),this.setDirty(!1),this.blockModelContentChange=!0;try{this.updateTextEditorModel(e)}finally{this.blockModelContentChange=!1}return this.updateSavedVersionId(),c.TPromise.as(this)},t.prototype.doCreateTextModel=function(e,t,i){var n=this;return this.logService.trace("load() - created text editor model",this.resource),this.createTextEditorModelPromise=this.doLoadBackup(i).then(function(i){var r=!!i;return n.createTextEditorModel(r?i:t,e).then(function(){return n.createTextEditorModelPromise=null,r?(n.makeDirty(),n.autoSaveAfterMilliesEnabled&&n.doAutoSave(n.versionId)):n.setDirty(!1),n.installModelListeners(),n},function(e){return n.createTextEditorModelPromise=null,c.TPromise.wrapError(e)})}),this.createTextEditorModelPromise},t.prototype.installModelListeners=function(){var e=this;this._register(this.textEditorModel.onDidChangeContent(function(){return e.onModelContentChanged()}))},
t.prototype.doLoadBackup=function(e){return e?this.backupFileService.resolveBackupContent(e).then(function(e){return e},function(e){return null}):c.TPromise.as(null)},t.prototype.getOrCreateMode=function(e,t,i){return e.createByFilepathOrFirstLine(this.resource.fsPath,i)},t.prototype.onModelContentChanged=function(){if(this.logService.trace("onModelContentChanged() - enter",this.resource),this.versionId++,this.logService.trace("onModelContentChanged() - new versionId "+this.versionId,this.resource),!this.blockModelContentChange){if(!this.autoSaveAfterMilliesEnabled&&this.textEditorModel.getAlternativeVersionId()===this.bufferSavedVersionId){this.logService.trace("onModelContentChanged() - model content changed back to last saved version",this.resource);var e=this.dirty;return this.setDirty(!1),void(e&&this._onDidStateChange.fire(4))}this.logService.trace("onModelContentChanged() - model content changed and marked as dirty",this.resource),this.makeDirty(),
this.autoSaveAfterMilliesEnabled&&(this.inConflictMode?this.logService.trace("makeDirty() - prevented save because we are in conflict resolution mode",this.resource):this.doAutoSave(this.versionId)),this.contentChangeEventScheduler.schedule()}},t.prototype.makeDirty=function(){var e=this.dirty;this.setDirty(!0),e||this._onDidStateChange.fire(0)},t.prototype.doAutoSave=function(e){var t=this;this.logService.trace("doAutoSave() - enter for versionId "+e,this.resource),this.cancelPendingAutoSave();var i=setTimeout(function(){e===t.versionId&&t.doSave(e,{reason:2})},this.autoSaveAfterMillies);this.autoSaveDisposable=T.toDisposable(function(){return clearTimeout(i)})},t.prototype.cancelPendingAutoSave=function(){this.autoSaveDisposable&&(this.autoSaveDisposable.dispose(),this.autoSaveDisposable=void 0)},t.prototype.save=function(e){return void 0===e&&(e=Object.create(null)),this.isResolved()?(this.logService.trace("save() - enter",this.resource),this.cancelPendingAutoSave(),
this.doSave(this.versionId,e)):c.TPromise.wrap(null)},t.prototype.doSave=function(e,i){var n=this;if(p.isUndefinedOrNull(i.reason)&&(i.reason=1),this.logService.trace("doSave("+e+") - enter with versionId ' + versionId",this.resource),this.saveSequentializer.hasPendingSave(e))return this.logService.trace("doSave("+e+") - exit - found a pending save for versionId "+e,this.resource),this.saveSequentializer.pendingSave;if(!i.force&&!this.dirty||e!==this.versionId)return this.logService.trace("doSave("+e+") - exit - because not dirty and/or versionId is different (this.isDirty: "+this.dirty+", this.versionId: "+this.versionId+")",this.resource),c.TPromise.wrap(null);if(this.saveSequentializer.hasPendingSave())return this.logService.trace("doSave("+e+") - exit - because busy saving",this.resource),this.saveSequentializer.setNext(function(){return n.doSave(n.versionId,i)});this.autoSaveAfterMilliesEnabled||this.textEditorModel.pushStackElement();var r=c.TPromise.as(e);if(t.saveParticipant&&!i.skipSaveParticipants){
var o=function(){return n.blockModelContentChange=!1,n.versionId};r=c.TPromise.as(void 0).then(function(){return n.blockModelContentChange=!0,t.saveParticipant.participate(n,{reason:i.reason})}).then(o,o)}return this.saveSequentializer.setPending(e,r.then(function(t){if(!n.disposed)return!i.force||n.dirty||n.inOrphanMode||1!==i.reason||e!==t?(e=t,n.inErrorMode=!1,n.lastSaveAttemptTime=Date.now(),n.logService.trace("doSave("+e+") - before updateContent()",n.resource),n.saveSequentializer.setPending(t,n.fileService.updateContent(n.lastResolvedDiskStat.resource,n.createSnapshot(),{overwriteReadonly:i.overwriteReadonly,overwriteEncoding:i.overwriteEncoding,mtime:n.lastResolvedDiskStat.mtime,encoding:n.getEncoding(),etag:n.lastResolvedDiskStat.etag,writeElevated:i.writeElevated}).then(function(t){n.logService.trace("doSave("+e+") - after updateContent()",n.resource);var r=n.getTypeIfSettings();r?n.telemetryService.publicLog("settingsWritten",{settingsType:r
}):n.telemetryService.publicLog("filePUT",n.getTelemetryData(i.reason)),e===n.versionId?(n.logService.trace("doSave("+e+") - setting dirty to false because versionId did not change",n.resource),n.setDirty(!1)):n.logService.trace("doSave("+e+") - not setting dirty to false because versionId did change meanwhile",n.resource),n.updateLastResolvedDiskStat(t),n.contentChangeEventScheduler.cancel(),n._onDidStateChange.fire(3)},function(t){t||(t=new Error("Unknown Save Error")),n.logService.error("doSave("+e+") - exit - resulted in a save error: "+t.toString(),n.resource),n.inErrorMode=!0,4===t.fileOperationResult&&(n.inConflictMode=!0),n.onSaveError(t),n._onDidStateChange.fire(2)}))):n.doTouch(t)}))},t.prototype.getTypeIfSettings=function(){if(".json"!==n.extname(this.resource.fsPath))return"";if(A.isEqual(this.resource,d.URI.file(this.environmentService.appSettingsPath),!D.isLinux))return"global-settings"
;if(A.isEqual(this.resource,d.URI.file(this.environmentService.appKeybindingsPath),!D.isLinux))return"keybindings";if(A.isEqual(this.resource,d.URI.file(n.join(this.environmentService.appSettingsHome,"locale.json")),!D.isLinux))return"locale";if(A.isEqualOrParent(this.resource,d.URI.file(n.join(this.environmentService.appSettingsHome,"snippets"))))return"snippets";for(var e=this.contextService.getWorkspace().folders,i=0;i<e.length;i++)if(A.isEqualOrParent(this.resource,e[i].toResource(".vscode"))){var r=n.basename(this.resource.fsPath);if(t.WHITELIST_WORKSPACE_JSON.indexOf(r)>-1)return".vscode/"+r}return""},t.prototype.getTelemetryData=function(e){var i=n.extname(this.resource.fsPath),r=n.basename(this.resource.fsPath),o={mimeType:l.guessMimeTypes(this.resource.fsPath).join(", "),ext:i,path:this.hashService.createSHA1(this.resource.fsPath),reason:e};return".json"===i&&t.WHITELIST_JSON.indexOf(r)>-1&&(o.whitelistedjson=r),o},t.prototype.doTouch=function(e){var t=this
;return this.saveSequentializer.setPending(e,this.fileService.updateContent(this.lastResolvedDiskStat.resource,this.createSnapshot(),{mtime:this.lastResolvedDiskStat.mtime,encoding:this.getEncoding(),etag:this.lastResolvedDiskStat.etag}).then(function(e){t.updateLastResolvedDiskStat(e)},function(e){return O.onUnexpectedError(e)}))},t.prototype.setDirty=function(e){var t=this,i=this.dirty,n=this.inConflictMode,r=this.inErrorMode,o=this.bufferSavedVersionId;return e?this.dirty=!0:(this.dirty=!1,this.inConflictMode=!1,this.inErrorMode=!1,this.updateSavedVersionId()),function(){t.dirty=i,t.inConflictMode=n,t.inErrorMode=r,t.bufferSavedVersionId=o}},t.prototype.updateSavedVersionId=function(){this.textEditorModel&&(this.bufferSavedVersionId=this.textEditorModel.getAlternativeVersionId())},t.prototype.updateLastResolvedDiskStat=function(e){this.lastResolvedDiskStat?this.lastResolvedDiskStat.mtime<=e.mtime&&(this.lastResolvedDiskStat=e):this.lastResolvedDiskStat=e},t.prototype.onSaveError=function(e){
t.saveErrorHandler||t.setSaveErrorHandler(this.instantiationService.createInstance(P)),t.saveErrorHandler.onSaveError(e,this)},t.prototype.isDirty=function(){return this.dirty},t.prototype.getLastSaveAttemptTime=function(){return this.lastSaveAttemptTime},t.prototype.getETag=function(){return this.lastResolvedDiskStat?this.lastResolvedDiskStat.etag:null},t.prototype.hasState=function(e){switch(e){case 3:return this.inConflictMode;case 1:return this.dirty;case 5:return this.inErrorMode;case 4:return this.inOrphanMode;case 2:return this.saveSequentializer.hasPendingSave();case 0:return!this.dirty}},t.prototype.getEncoding=function(){return this.preferredEncoding||this.contentEncoding},t.prototype.setEncoding=function(e,t){if(this.isNewEncoding(e))if(0===t)this.updatePreferredEncoding(e),this.isDirty()||(this.versionId++,this.makeDirty()),this.inConflictMode||this.save({overwriteEncoding:!0});else{
if(this.isDirty())return void this.notificationService.info(s.localize("saveFileFirst","The file is dirty. Please save it first before reopening it with another encoding."));this.updatePreferredEncoding(e),this.load({forceReadFromDisk:!0})}},t.prototype.updatePreferredEncoding=function(e){this.isNewEncoding(e)&&(this.preferredEncoding=e,this._onDidStateChange.fire(5))},t.prototype.isNewEncoding=function(e){return this.preferredEncoding!==e&&!(!this.preferredEncoding&&this.contentEncoding===e)},t.prototype.isResolved=function(){return!p.isUndefinedOrNull(this.lastResolvedDiskStat)},t.prototype.isReadonly=function(){return this.lastResolvedDiskStat&&this.lastResolvedDiskStat.isReadonly},t.prototype.isDisposed=function(){return this.disposed},t.prototype.getResource=function(){return this.resource},t.prototype.getStat=function(){return this.lastResolvedDiskStat},t.prototype.dispose=function(){this.disposed=!0,this.inConflictMode=!1,this.inOrphanMode=!1,this.inErrorMode=!1,this.createTextEditorModelPromise=null,
this.cancelPendingAutoSave(),e.prototype.dispose.call(this)},t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY=y.CONTENT_CHANGE_EVENT_BUFFER_DELAY,t.DEFAULT_ORPHANED_CHANGE_BUFFER_DELAY=100,t.WHITELIST_JSON=["package.json","package-lock.json","tsconfig.json","jsconfig.json","bower.json",".eslintrc.json","tslint.json","composer.json"],t.WHITELIST_WORKSPACE_JSON=["settings.json","extensions.json","tasks.json","launch.json"],t=r([o(2,x.INotificationService),o(3,b.IModeService),o(4,E.IModelService),o(5,y.IFileService),o(6,S.IInstantiationService),o(7,_.ITelemetryService),o(8,g.ITextFileService),o(9,m.IBackupFileService),o(10,f.IEnvironmentService),o(11,h.IWorkspaceContextService),o(12,w.IHashService),o(13,R.ILogService)],t)}(v.BaseTextEditorModel);t.TextFileEditorModel=k;var M=function(){function e(){}return e.prototype.hasPendingSave=function(e){return!!this._pendingSave&&("number"==typeof e?this._pendingSave.versionId===e:!!this._pendingSave)},Object.defineProperty(e.prototype,"pendingSave",{get:function(){
return this._pendingSave?this._pendingSave.promise:void 0},enumerable:!0,configurable:!0}),e.prototype.setPending=function(e,t){var i=this;return this._pendingSave={versionId:e,promise:t},t.then(function(){return i.donePending(e)},function(){return i.donePending(e)}),t},e.prototype.donePending=function(e){this._pendingSave&&e===this._pendingSave.versionId&&(this._pendingSave=void 0,this.triggerNextSave())},e.prototype.triggerNextSave=function(){if(this._nextSave){var e=this._nextSave;this._nextSave=void 0,e.run().then(e.promiseValue,e.promiseError)}},e.prototype.setNext=function(e){if(this._nextSave)this._nextSave.run=e;else{var t,i,n=new c.TPromise(function(e,n){t=e,i=n});this._nextSave={run:e,promise:n,promiseValue:t,promiseError:i}}return this._nextSave.promise},e}();t.SaveSequentializer=M;var P=function(){function e(e){this.notificationService=e}return e.prototype.onSaveError=function(e,t){
this.notificationService.error(s.localize("genericSaveError","Failed to save '{0}': {1}",n.basename(t.getResource().fsPath),u.toErrorMessage(e,!1)))},e=r([o(0,x.INotificationService)],e)}()}),define(e[488],t([1,0,13,22,83,4,46,91,129,489,490,491,9,140,88,177,76,2,19,68,119,34,492,493,494,112,52]),function(e,t,i,n,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A){"use strict";function O(e,t){var i=null;if(e.isAttachedToEditor())for(var n=0,r=t.listCodeEditors();n<r.length;n++){var o=r[n];if(o.getModel()===e){if(o.hasTextFocus())return o;i=o}}return i}Object.defineProperty(t,"__esModule",{value:!0});var k=function(){function e(e,t){this.configurationService=e,this.codeEditorService=t}return e.prototype.participate=function(e,t){this.configurationService.getValue("files.trimTrailingWhitespace",{overrideIdentifier:e.textEditorModel.getLanguageIdentifier().language,resource:e.getResource()})&&this.doTrimTrailingWhitespace(e.textEditorModel,2===t.reason)},e.prototype.doTrimTrailingWhitespace=function(e,t){
var i=[],n=[],r=O(e,this.codeEditorService);if(r&&(i=r.getSelections(),t)){n=i.map(function(e){return e.getPosition()});var o=w.SnippetController2.get(r).getSessionEnclosingRange();if(o)for(var s=o.startLineNumber;s<=o.endLineNumber;s++)n.push(new p.Position(s,e.getLineMaxColumn(s)))}var a=h.trimTrailingWhitespace(e,n);a.length&&e.pushEditOperations(i,a,function(e){return i})},e=r([o(0,v.IConfigurationService),o(1,c.ICodeEditorService)],e)}(),M=function(){function e(e,t){this.configurationService=e,this.codeEditorService=t}return e.prototype.participate=function(e,t){this.configurationService.getValue("files.insertFinalNewline",{overrideIdentifier:e.textEditorModel.getLanguageIdentifier().language,resource:e.getResource()})&&this.doInsertFinalNewLine(e.textEditorModel)},e.prototype.doInsertFinalNewLine=function(e){var t=e.getLineCount(),i=e.getLineContent(t),r=-1===n.lastNonWhitespaceIndex(i);if(t&&!r){var o=[],s=O(e,this.codeEditorService);s&&(o=s.getSelections()),
e.pushEditOperations(o,[y.EditOperation.insert(new p.Position(t,e.getLineMaxColumn(t)),e.getEOL())],function(e){return o}),s&&s.setSelections(o)}},e=r([o(0,v.IConfigurationService),o(1,c.ICodeEditorService)],e)}();t.FinalNewLineParticipant=M;var P=function(){function e(e,t){this.configurationService=e,this.codeEditorService=t}return e.prototype.participate=function(e,t){this.configurationService.getValue("files.trimFinalNewlines",{overrideIdentifier:e.textEditorModel.getLanguageIdentifier().language,resource:e.getResource()})&&this.doTrimFinalNewLines(e.textEditorModel,2===t.reason)},e.prototype.findLastLineWithContent=function(e){for(var t=e.getLineCount();t>=1;t--){var i=e.getLineContent(t);if(-1!==n.lastNonWhitespaceIndex(i))return t}return 0},e.prototype.doTrimFinalNewLines=function(e,t){var i=e.getLineCount();if(1!==i){var n=[],r=0,o=O(e,this.codeEditorService);if(o&&(n=o.getSelections(),t))for(var s=0,a=n.length;s<a;s++){var c=n[s].positionLineNumber;c>r&&(r=c)}
var l=this.findLastLineWithContent(e),d=Math.max(l+1,r+1),p=e.validateRange(new u.Range(d,1,i,e.getLineMaxColumn(i)));p.isEmpty()||(e.pushEditOperations(n,[y.EditOperation.delete(p)],function(e){return n}),o&&o.setSelections(n))}},e=r([o(0,v.IConfigurationService),o(1,c.ICodeEditorService)],e)}();t.TrimFinalNewLinesParticipant=P;var L=function(){function e(e,t,i){this._editorService=e,this._editorWorkerService=t,this._configurationService=i}return e.prototype.participate=function(e,t){var i=this,n=e.textEditorModel;if(2!==t.reason&&this._configurationService.getValue("editor.formatOnSave",{overrideIdentifier:n.getLanguageIdentifier().language,resource:e.getResource()})){var r=n.getVersionId(),o=n.getOptions(),s=o.tabSize,a=o.insertSpaces,c=this._configurationService.getValue("editor.formatOnSaveTimeout",{overrideIdentifier:n.getLanguageIdentifier().language,resource:e.getResource()});return new Promise(function(e,t){var r=new A.CancellationTokenSource,o=f.getDocumentFormattingEdits(n,{tabSize:s,insertSpaces:a
},r.token);setTimeout(function(){t(E.localize("timeout.formatOnSave","Aborted format on save after {0}ms",c)),r.cancel()},c),o.then(function(e){return i._editorWorkerService.computeMoreMinimalEdits(n.uri,e)}).then(e,function(i){i instanceof Error&&i.name===f.NoProviderError.Name?e():t(i)})}).then(function(e){if(!_.isFalsyOrEmpty(e)&&r===n.getVersionId()){var t=O(n,i._editorService);t?i._editsWithEditor(t,e):i._editWithModel(n,e)}})}},e.prototype._editsWithEditor=function(e,t){g.FormattingEdit.execute(e,t)},e.prototype._editWithModel=function(t,i){var n=i[0].range,r=new d.Selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn);t.pushEditOperations([r],i.map(e._asIdentEdit),function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t].range;if(u.Range.areIntersectingOrTouching(n,r))return[new d.Selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn)]}})},e._asIdentEdit=function(e){var t=e.text,i=e.range;return{text:t,range:u.Range.lift(i),forceMoveMarkers:!0}},
e=r([o(0,c.ICodeEditorService),o(1,S.IEditorWorkerService),o(2,v.IConfigurationService)],e)}(),F=function(){function e(e,t,i){this._bulkEditService=e,this._commandService=t,this._configurationService=i}return e.prototype.participate=function(e,t){return s(this,void 0,void 0,function(){var i,n,r,o,s,c=this;return a(this,function(a){return 2===t.reason?[2,void 0]:(i=e.textEditorModel,n={overrideIdentifier:i.getLanguageIdentifier().language,resource:e.getResource()},(r=this._configurationService.getValue("editor.codeActionsOnSave",n))&&(o=Object.keys(r).filter(function(e){return r[e]}).map(function(e){return new x.CodeActionKind(e)})).length?(s=this._configurationService.getValue("editor.codeActionsOnSaveTimeout",n),[2,new Promise(function(e,t){setTimeout(function(){return t(E.localize("codeActionsOnSave.didTimeout","Aborted codeActionsOnSave after {0}ms",s))},s),c.getActionsToRun(i,o).then(e)}).then(function(e){return c.applyCodeActions(e)})]):[2,void 0])})})},e.prototype.applyCodeActions=function(e){
return s(this,void 0,void 0,function(){var t,i,n;return a(this,function(r){switch(r.label){case 0:t=0,i=e,r.label=1;case 1:return t<i.length?(n=i[t],[4,D.applyCodeAction(n,this._bulkEditService,this._commandService)]):[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.getActionsToRun=function(e,t){return s(this,void 0,void 0,function(){var i,n;return a(this,function(r){switch(r.label){case 0:return[4,T.getCodeActions(e,e.getFullModelRange(),{type:"auto",filter:{kind:x.CodeActionKind.Source,includeSourceActions:!0}})];case 1:return i=r.sent(),n=i.filter(function(e){return e.kind&&t.some(function(t){return t.contains(e.kind)})}),[2,n]}})})},e=r([o(0,R.IBulkEditService),o(1,I.ICommandService),o(2,v.IConfigurationService)],e)}(),N=function(){function e(e,t,n){this._progressService=t,this._logService=n,this._saveParticipants=new i.IdleValue(function(){return[e.createInstance(k),e.createInstance(F),e.createInstance(L),e.createInstance(M),e.createInstance(P)]}),
m.TextFileEditorModel.setSaveParticipant(this)}return e.prototype.dispose=function(){m.TextFileEditorModel.setSaveParticipant(void 0),this._saveParticipants.dispose()},e.prototype.participate=function(e,t){var n=this;return this._progressService.withProgress({location:10},function(r){r.report({message:E.localize("saveParticipants","Running Save Participants...")});var o=n._saveParticipants.getValue().map(function(i){return function(){return Promise.resolve(i.participate(e,t))}});return i.sequence(o).then(function(){},function(e){return n._logService.warn(e)})})},e=r([o(0,l.IInstantiationService),o(1,b.IProgressService2),o(2,C.ILogService)],e)}();t.SaveParticipant=N}),define(e[495],t([1,0,13,22,83,4,46,91,129,489,490,491,9,140,35,88,40,177,76,2,19,68,38,119,34,492,493,494,112,52]),function(e,t,i,n,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M){"use strict";function P(e,t){var i=null;if(e.isAttachedToEditor())for(var n=0,r=t.listCodeEditors();n<r.length;n++){var o=r[n];if(o.getModel()===e){
if(o.hasTextFocus())return o;i=o}}return i}Object.defineProperty(t,"__esModule",{value:!0});var L=function(){function e(e,t){this.configurationService=e,this.codeEditorService=t}return e.prototype.participate=function(e,t){this.configurationService.getValue("files.trimTrailingWhitespace",{overrideIdentifier:e.textEditorModel.getLanguageIdentifier().language,resource:e.getResource()})&&this.doTrimTrailingWhitespace(e.textEditorModel,2===t.reason)},e.prototype.doTrimTrailingWhitespace=function(e,t){var i=[],n=[],r=P(e,this.codeEditorService);if(r&&(i=r.getSelections(),t)){n=i.map(function(e){return e.getPosition()});var o=D.SnippetController2.get(r).getSessionEnclosingRange();if(o)for(var s=o.startLineNumber;s<=o.endLineNumber;s++)n.push(new p.Position(s,e.getLineMaxColumn(s)))}var a=h.trimTrailingWhitespace(e,n);a.length&&e.pushEditOperations(i,a,function(e){return i})},e=r([o(0,v.IConfigurationService),o(1,c.ICodeEditorService)],e)}(),F=function(){function e(e,t){this.configurationService=e,
this.codeEditorService=t}return e.prototype.participate=function(e,t){this.configurationService.getValue("files.insertFinalNewline",{overrideIdentifier:e.textEditorModel.getLanguageIdentifier().language,resource:e.getResource()})&&this.doInsertFinalNewLine(e.textEditorModel)},e.prototype.doInsertFinalNewLine=function(e){var t=e.getLineCount(),i=e.getLineContent(t),r=-1===n.lastNonWhitespaceIndex(i);if(t&&!r){var o=[],s=P(e,this.codeEditorService);s&&(o=s.getSelections()),e.pushEditOperations(o,[S.EditOperation.insert(new p.Position(t,e.getLineMaxColumn(t)),e.getEOL())],function(e){return o}),s&&s.setSelections(o)}},e=r([o(0,v.IConfigurationService),o(1,c.ICodeEditorService)],e)}();t.FinalNewLineParticipant=F;var N=function(){function e(e,t){this.configurationService=e,this.codeEditorService=t}return e.prototype.participate=function(e,t){this.configurationService.getValue("files.trimFinalNewlines",{overrideIdentifier:e.textEditorModel.getLanguageIdentifier().language,resource:e.getResource()
})&&this.doTrimFinalNewLines(e.textEditorModel,2===t.reason)},e.prototype.findLastLineWithContent=function(e){for(var t=e.getLineCount();t>=1;t--){var i=e.getLineContent(t);if(-1!==n.lastNonWhitespaceIndex(i))return t}return 0},e.prototype.doTrimFinalNewLines=function(e,t){var i=e.getLineCount();if(1!==i){var n=[],r=0,o=P(e,this.codeEditorService);if(o&&(n=o.getSelections(),t))for(var s=0,a=n.length;s<a;s++){var c=n[s].positionLineNumber;c>r&&(r=c)}var l=this.findLastLineWithContent(e),d=Math.max(l+1,r+1),p=e.validateRange(new u.Range(d,1,i,e.getLineMaxColumn(i)));p.isEmpty()||(e.pushEditOperations(n,[S.EditOperation.delete(p)],function(e){return n}),o&&o.setSelections(n))}},e=r([o(0,v.IConfigurationService),o(1,c.ICodeEditorService)],e)}();t.TrimFinalNewLinesParticipant=N;var B=function(){function e(e,t,i){this._editorService=e,this._editorWorkerService=t,this._configurationService=i}return e.prototype.participate=function(e,t){var i=this,n=e.textEditorModel
;if(2!==t.reason&&this._configurationService.getValue("editor.formatOnSave",{overrideIdentifier:n.getLanguageIdentifier().language,resource:e.getResource()})){var r=n.getVersionId(),o=n.getOptions(),s=o.tabSize,a=o.insertSpaces,c=this._configurationService.getValue("editor.formatOnSaveTimeout",{overrideIdentifier:n.getLanguageIdentifier().language,resource:e.getResource()});return new Promise(function(e,t){var r=new M.CancellationTokenSource,o=f.getDocumentFormattingEdits(n,{tabSize:s,insertSpaces:a},r.token);setTimeout(function(){t(C.localize("timeout.formatOnSave","Aborted format on save after {0}ms",c)),r.cancel()},c),o.then(function(e){return i._editorWorkerService.computeMoreMinimalEdits(n.uri,e)}).then(e,function(i){i instanceof Error&&i.name===f.NoProviderError.Name?e():t(i)})}).then(function(e){if(!w.isFalsyOrEmpty(e)&&r===n.getVersionId()){var t=P(n,i._editorService);t?i._editsWithEditor(t,e):i._editWithModel(n,e)}})}},e.prototype._editsWithEditor=function(e,t){g.FormattingEdit.execute(e,t)},
e.prototype._editWithModel=function(t,i){var n=i[0].range,r=new d.Selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn);t.pushEditOperations([r],i.map(e._asIdentEdit),function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t].range;if(u.Range.areIntersectingOrTouching(n,r))return[new d.Selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn)]}})},e._asIdentEdit=function(e){var t=e.text,i=e.range;return{text:t,range:u.Range.lift(i),forceMoveMarkers:!0}},e=r([o(0,c.ICodeEditorService),o(1,E.IEditorWorkerService),o(2,v.IConfigurationService)],e)}(),W=function(){function e(e,t,i){this._bulkEditService=e,this._commandService=t,this._configurationService=i}return e.prototype.participate=function(e,t){return s(this,void 0,void 0,function(){var i,n,r,o,s,c=this;return a(this,function(a){return 2===t.reason?[2,void 0]:(i=e.textEditorModel,n={overrideIdentifier:i.getLanguageIdentifier().language,resource:e.getResource()},
(r=this._configurationService.getValue("editor.codeActionsOnSave",n))&&(o=Object.keys(r).filter(function(e){return r[e]}).map(function(e){return new R.CodeActionKind(e)})).length?(s=this._configurationService.getValue("editor.codeActionsOnSaveTimeout",n),[2,new Promise(function(e,t){setTimeout(function(){return t(C.localize("codeActionsOnSave.didTimeout","Aborted codeActionsOnSave after {0}ms",s))},s),c.getActionsToRun(i,o).then(e)}).then(function(e){return c.applyCodeActions(e)})]):[2,void 0])})})},e.prototype.applyCodeActions=function(e){return s(this,void 0,void 0,function(){var t,i,n;return a(this,function(r){switch(r.label){case 0:t=0,i=e,r.label=1;case 1:return t<i.length?(n=i[t],[4,A.applyCodeAction(n,this._bulkEditService,this._commandService)]):[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.getActionsToRun=function(e,t){return s(this,void 0,void 0,function(){var i,n;return a(this,function(r){switch(r.label){case 0:
return[4,O.getCodeActions(e,e.getFullModelRange(),{type:"auto",filter:{kind:R.CodeActionKind.Source,includeSourceActions:!0}})];case 1:return i=r.sent(),n=i.filter(function(e){return e.kind&&t.some(function(t){return t.contains(e.kind)})}),[2,n]}})})},e=r([o(0,k.IBulkEditService),o(1,T.ICommandService),o(2,v.IConfigurationService)],e)}(),V=function(){function e(e){this._proxy=e.getProxy(y.ExtHostContext.ExtHostDocumentSaveParticipant)}return e.prototype.participate=function(e,t){var i=this;if(x.shouldSynchronizeModel(e.textEditorModel))return new Promise(function(n,r){setTimeout(function(){return r(C.localize("timeout.onWillSave","Aborted onWillSaveTextDocument-event after 1750ms"))},1750),i._proxy.$participateInSave(e.getResource(),t.reason).then(function(e){for(var t=0,i=e;t<i.length;t++){if(!i[t])return Promise.reject(new Error("listener failed"))}}).then(n,r)})},e}(),z=function(){function e(e,t,n,r){this._progressService=n,this._logService=r,this._saveParticipants=new i.IdleValue(function(){
return[t.createInstance(L),t.createInstance(W),t.createInstance(B),t.createInstance(F),t.createInstance(N),t.createInstance(V,e)]}),m.TextFileEditorModel.setSaveParticipant(this)}return e.prototype.dispose=function(){m.TextFileEditorModel.setSaveParticipant(void 0),this._saveParticipants.dispose()},e.prototype.participate=function(e,t){var n=this;return this._progressService.withProgress({location:10},function(r){r.report({message:C.localize("saveParticipants","Running Save Participants...")});var o=n._saveParticipants.getValue().map(function(i){return function(){return Promise.resolve(i.participate(e,t))}});return i.sequence(o).then(function(){},function(e){return n._logService.warn(e)})})},e=r([b.extHostCustomer,o(1,l.IInstantiationService),o(2,_.IProgressService2),o(3,I.ILogService)],e)}();t.SaveParticipant=z}),define(e[496],t([1,0,5,15,140,3,31,70,4,44,18]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(t,i){
var r=e.call(this)||this;return r.lifecycleService=t,r.instantiationService=i,r._onModelDisposed=r._register(new n.Emitter),r._onModelContentChanged=r._register(new n.Emitter),r._onModelDirty=r._register(new n.Emitter),r._onModelSaveError=r._register(new n.Emitter),r._onModelSaved=r._register(new n.Emitter),r._onModelReverted=r._register(new n.Emitter),r._onModelEncodingChanged=r._register(new n.Emitter),r._onModelOrphanedChanged=r._register(new n.Emitter),r.mapResourceToModel=new p.ResourceMap,r.mapResourceToDisposeListener=new p.ResourceMap,r.mapResourceToStateChangeListener=new p.ResourceMap,r.mapResourceToModelContentChangeListener=new p.ResourceMap,r.mapResourceToPendingModelLoaders=new p.ResourceMap,r.registerListeners(),r}return i(t,e),Object.defineProperty(t.prototype,"onModelDisposed",{get:function(){return this._onModelDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelContentChanged",{get:function(){return this._onModelContentChanged.event},enumerable:!0,
configurable:!0}),Object.defineProperty(t.prototype,"onModelDirty",{get:function(){return this._onModelDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelSaveError",{get:function(){return this._onModelSaveError.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelSaved",{get:function(){return this._onModelSaved.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelReverted",{get:function(){return this._onModelReverted.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelEncodingChanged",{get:function(){return this._onModelEncodingChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelOrphanedChanged",{get:function(){return this._onModelOrphanedChanged.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){this.lifecycleService.onShutdown(this.dispose,this)},Object.defineProperty(t.prototype,"onModelsDirty",{get:function(){
return this._onModelsDirtyEvent||(this._onModelsDirtyEvent=this.debounce(this.onModelDirty)),this._onModelsDirtyEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelsSaveError",{get:function(){return this._onModelsSaveError||(this._onModelsSaveError=this.debounce(this.onModelSaveError)),this._onModelsSaveError},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelsSaved",{get:function(){return this._onModelsSaved||(this._onModelsSaved=this.debounce(this.onModelSaved)),this._onModelsSaved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelsReverted",{get:function(){return this._onModelsReverted||(this._onModelsReverted=this.debounce(this.onModelReverted)),this._onModelsReverted},enumerable:!0,configurable:!0}),t.prototype.debounce=function(e){return n.debounceEvent(e,function(e,t){return e?e.push(t):e=[t],e},this.debounceDelay())},t.prototype.debounceDelay=function(){return 250},t.prototype.get=function(e){
return this.mapResourceToModel.get(e)},t.prototype.loadOrCreate=function(e,t){var i=this,n=this.mapResourceToPendingModelLoaders.get(e);if(n)return n;var r,o=this.get(e);return o?t&&t.reload?t.reload.async?(r=s.TPromise.as(o),o.load(t).then(null,h.onUnexpectedError)):r=o.load(t):r=s.TPromise.as(o):(r=(o=this.instantiationService.createInstance(a.TextFileEditorModel,e,t?t.encoding:void 0)).load(t),this.mapResourceToStateChangeListener.set(e,o.onDidStateChange(function(e){var t=new l.TextFileModelChangeEvent(o,e);switch(e){case 0:i._onModelDirty.fire(t);break;case 2:i._onModelSaveError.fire(t);break;case 3:i._onModelSaved.fire(t);break;case 4:i._onModelReverted.fire(t);break;case 5:i._onModelEncodingChanged.fire(t);break;case 7:i._onModelOrphanedChanged.fire(t)}})),this.mapResourceToModelContentChangeListener.set(e,o.onDidContentChange(function(e){i._onModelContentChanged.fire(new l.TextFileModelChangeEvent(o,e))}))),this.mapResourceToPendingModelLoaders.set(e,r),r.then(function(t){return i.add(e,t),
t.isDirty()&&i._onModelDirty.fire(new l.TextFileModelChangeEvent(t,0)),i.mapResourceToPendingModelLoaders.delete(e),t},function(t){return o.dispose(),i.mapResourceToPendingModelLoaders.delete(e),s.TPromise.wrapError(t)})},t.prototype.getAll=function(e,t){if(e){var i=this.mapResourceToModel.get(e);return i?[i]:[]}var n=[];return this.mapResourceToModel.forEach(function(e){t&&!t(e)||n.push(e)}),n},t.prototype.add=function(e,t){var i=this;if(this.mapResourceToModel.get(e)!==t){var n=this.mapResourceToDisposeListener.get(e);n&&n.dispose(),this.mapResourceToModel.set(e,t),this.mapResourceToDisposeListener.set(e,t.onDispose(function(){i.remove(e),i._onModelDisposed.fire(e)}))}},t.prototype.remove=function(e){this.mapResourceToModel.delete(e);var t=this.mapResourceToDisposeListener.get(e);t&&(c.dispose(t),this.mapResourceToDisposeListener.delete(e));var i=this.mapResourceToStateChangeListener.get(e);i&&(c.dispose(i),this.mapResourceToStateChangeListener.delete(e))
;var n=this.mapResourceToModelContentChangeListener.get(e);n&&(c.dispose(n),this.mapResourceToModelContentChangeListener.delete(e))},t.prototype.clear=function(){this.mapResourceToModel.clear(),this.mapResourceToPendingModelLoaders.clear(),this.mapResourceToDisposeListener.forEach(function(e){return e.dispose()}),this.mapResourceToDisposeListener.clear(),this.mapResourceToStateChangeListener.forEach(function(e){return e.dispose()}),this.mapResourceToStateChangeListener.clear(),this.mapResourceToModelContentChangeListener.forEach(function(e){return e.dispose()}),this.mapResourceToModelContentChangeListener.clear()},t.prototype.disposeModel=function(e){e&&(e.isDisposed()||this.mapResourceToPendingModelLoaders.has(e.getResource())||e.isDirty()||e.dispose())},t=r([o(0,u.ILifecycleService),o(1,d.IInstantiationService)],t)}(c.Disposable);t.TextFileEditorModelManager=f}),define(e[497],t([1,0,2,15,6,33,18,39,5,20,31,16,3,496,44,32,80,24]),function(e,t,n,r,o,c,l,u,d,p,h,f,g,v,m,y,S,b){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});var E=function(e){function t(t,i,n,r,o,s,a,c,l,u,p,f,g,m){var y=e.call(this)||this;y.lifecycleService=t,y.contextService=i,y.configurationService=n,y.fileService=r,y.untitledEditorService=o,y.instantiationService=s,y.notificationService=a,y.environmentService=c,y.backupFileService=l,y.windowsService=u,y.windowService=p,y.historyService=f,y.modelService=m,y._onAutoSaveConfigurationChange=y._register(new d.Emitter),y._onFilesAssociationChange=y._register(new d.Emitter),y._onWillMove=y._register(new d.Emitter),y._models=y.instantiationService.createInstance(v.TextFileEditorModelManager),y.autoSaveContext=h.AutoSaveContext.bindTo(g);var S=y.configurationService.getValue();return y.currentFilesAssociationConfig=S&&S.files&&S.files.associations,y.onFilesConfigurationChange(S),y.registerListeners(),y}return i(t,e),Object.defineProperty(t.prototype,"onAutoSaveConfigurationChange",{get:function(){return this._onAutoSaveConfigurationChange.event},enumerable:!0,
configurable:!0}),Object.defineProperty(t.prototype,"onFilesAssociationChange",{get:function(){return this._onFilesAssociationChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onWillMove",{get:function(){return this._onWillMove.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"models",{get:function(){return this._models},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this.lifecycleService.onWillShutdown(function(t){return t.veto(e.beforeShutdown(t.reason))}),this.lifecycleService.onShutdown(this.dispose,this),this._register(this.configurationService.onDidChangeConfiguration(function(t){t.affectsConfiguration("files")&&e.onFilesConfigurationChange(e.configurationService.getValue())}))},t.prototype.beforeShutdown=function(e){var t=this,i=this.getDirty();if(i.length){return(0!==this.getAutoSaveMode()?this.saveAll(!1,{skipSaveParticipants:!0}).then(function(){return t.getDirty()}):r.TPromise.as(i)).then(function(i){
if(i.length)return t.isHotExitEnabled?t.backupBeforeShutdown(i,t.models,e).then(function(e){return e.didBackup?t.noVeto({cleanUpBackups:!1}):t.confirmBeforeShutdown()},function(e){var i=e[0];return t.notificationService.error(n.localize("files.backup.failSave","Files that are dirty could not be written to the backup location (Error: {0}). Try saving your files first and then exit.",i.message)),!0}):t.confirmBeforeShutdown()})}return this.noVeto({cleanUpBackups:!0})},t.prototype.backupBeforeShutdown=function(e,t,i){var n=this;return this.windowsService.getWindowCount().then(function(o){var s;switch(i){case 1:s=1!==n.contextService.getWorkbenchState()&&n.configuredHotExit===f.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE||!(o>1||p.isMacintosh);break;case 2:case 3:s=!0;break;case 4:s=1!==n.contextService.getWorkbenchState()&&n.configuredHotExit===f.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE}return s?n.backupAll(e,t).then(function(){return{didBackup:!0}}):r.TPromise.as({didBackup:!1})})},
t.prototype.backupAll=function(e,t){var i=this,n=[],r=[];return e.forEach(function(e){i.fileService.canHandleResource(e)?n.push(t.get(e)):e.scheme===y.Schemas.untitled&&r.push(e)}),this.doBackupAll(n,r)},t.prototype.doBackupAll=function(e,t){var i=this;return r.TPromise.join(e.map(function(e){return i.backupFileService.backupResource(e.getResource(),e.createSnapshot(),e.getVersionId())})).then(function(e){var n=t.filter(function(e){return i.untitledEditorService.exists(e)}).map(function(e){return i.untitledEditorService.loadOrCreate({resource:e})});return r.TPromise.join(n).then(function(e){var t=e.map(function(e){return i.backupFileService.backupResource(e.getResource(),e.createSnapshot(),e.getVersionId())});return r.TPromise.join(t).then(function(){})})})},t.prototype.confirmBeforeShutdown=function(){var e=this;return this.confirmSave().then(function(t){return 0===t?e.saveAll(!0,{skipSaveParticipants:!0}).then(function(t){return!!t.results.some(function(e){return!e.success})||e.noVeto({cleanUpBackups:!0})
}):1===t?(e.untitledEditorService.revertAll(),e.noVeto({cleanUpBackups:!0})):2===t||void 0})},t.prototype.noVeto=function(e){return!!e.cleanUpBackups&&this.cleanupBackupsBeforeShutdown().then(function(){return!1},function(){return!1})},t.prototype.cleanupBackupsBeforeShutdown=function(){return this.environmentService.isExtensionDevelopment?r.TPromise.as(void 0):this.backupFileService.discardAllWorkspaceBackups()},t.prototype.onFilesConfigurationChange=function(e){var t=0!==this.getAutoSaveMode(),i=e&&e.files&&e.files.autoSave||f.AutoSaveConfiguration.OFF;switch(this.autoSaveContext.set(i),i){case f.AutoSaveConfiguration.AFTER_DELAY:this.configuredAutoSaveDelay=e&&e.files&&e.files.autoSaveDelay,this.configuredAutoSaveOnFocusChange=!1,this.configuredAutoSaveOnWindowChange=!1;break;case f.AutoSaveConfiguration.ON_FOCUS_CHANGE:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!0,this.configuredAutoSaveOnWindowChange=!1;break;case f.AutoSaveConfiguration.ON_WINDOW_CHANGE:
this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!1,this.configuredAutoSaveOnWindowChange=!0;break;default:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!1,this.configuredAutoSaveOnWindowChange=!1}this._onAutoSaveConfigurationChange.fire(this.getAutoSaveConfiguration()),t||0===this.getAutoSaveMode()||this.saveAll();var n=e&&e.files&&e.files.associations;u.equals(this.currentFilesAssociationConfig,n)||(this.currentFilesAssociationConfig=n,this._onFilesAssociationChange.fire());var r=e&&e.files&&e.files.hotExit;r===f.HotExitConfiguration.OFF||r===f.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE?this.configuredHotExit=r:this.configuredHotExit=f.HotExitConfiguration.ON_EXIT},t.prototype.getDirty=function(e){var t=this.getDirtyFileModels(e).map(function(e){return e.getResource()});return t.push.apply(t,this.untitledEditorService.getDirty(e)),t},t.prototype.isDirty=function(e){return!!this._models.getAll(e).some(function(e){return e.isDirty()
})||this.untitledEditorService.getDirty().some(function(t){return!e||t.toString()===e.toString()})},t.prototype.save=function(e,t){if(t&&t.force&&this.fileService.canHandleResource(e)&&!this.isDirty(e)){var i=this._models.get(e);if(i)return t||(t=Object.create(null)),t.reason=1,i.save(t).then(function(){return!i.isDirty()})}return this.saveAll([e],t).then(function(e){return 1===e.results.length&&e.results[0].success})},t.prototype.saveAll=function(e,t){var i=[],n=[];return(Array.isArray(e)?this.getDirty(e):this.getDirty()).forEach(function(t){!Array.isArray(e)&&!0!==e||t.scheme!==y.Schemas.untitled?i.push(t):n.push(t)}),this.doSaveAll(i,n,t)},t.prototype.doSaveAll=function(e,t,i){var n=this;return this.doSaveAllFiles(e,i).then(function(i){return s(n,void 0,void 0,function(){var n,o,s,c,l,u,d=this;return a(this,function(a){switch(a.label){case 0:n=[],o=0,a.label=1;case 1:return o<t.length?(s=t[o],this.untitledEditorService.exists(s)?(c=void 0,this.untitledEditorService.hasAssociatedFilePath(s)?(c=s.with({
scheme:y.Schemas.file}),[3,4]):[3,2]):[3,5]):[3,6];case 2:return[4,this.promptForPath(s,this.suggestFileName(s))];case 3:if(!(l=a.sent()))return[2,r.TPromise.as({results:e.concat(t).map(function(e){return{source:e}})})];c=l,a.label=4;case 4:n.push(c),a.label=5;case 5:return o++,[3,1];case 6:return u=[],n.forEach(function(e,n){var r=d.saveAs(t[n],e).then(function(e){i.results.push({source:t[n],target:e,success:!!e})});u.push(r)}),[2,r.TPromise.join(u).then(function(){return i})]}})})})},t.prototype.doSaveAllFiles=function(e,t){void 0===t&&(t=Object.create(null));var i=this.getDirtyFileModels(Array.isArray(e)?e:void 0).filter(function(e){return!e.hasState(3)&&!e.hasState(5)||2!==t.reason&&3!==t.reason&&4!==t.reason}),n=new m.ResourceMap;return i.forEach(function(e){n.set(e.getResource(),{source:e.getResource()})}),r.TPromise.join(i.map(function(e){return e.save(t).then(function(){e.isDirty()||(n.get(e.getResource()).success=!0)})})).then(function(e){return{results:n.values()}})},
t.prototype.getFileModels=function(e){var t=this;if(Array.isArray(e)){var i=[];return e.forEach(function(e){i.push.apply(i,t.getFileModels(e))}),i}return this._models.getAll(e)},t.prototype.getDirtyFileModels=function(e){return this.getFileModels(e).filter(function(e){return e.isDirty()})},t.prototype.saveAs=function(e,t,i){var n,o=this;if(t)n=r.TPromise.wrap(t);else{var s=e;e.scheme===y.Schemas.untitled&&(s=this.suggestFileName(e)),n=this.promptForPath(e,s)}return n.then(function(t){return t?e.toString()===t.toString()?o.save(e,i).then(function(){return e}):o.doSaveAs(e,t,i):r.TPromise.as(null)})},t.prototype.doSaveAs=function(e,t,i){var n=this,o=r.TPromise.as(null);return this.fileService.canHandleResource(e)?o=r.TPromise.as(this._models.get(e)):e.scheme===y.Schemas.untitled&&this.untitledEditorService.exists(e)&&(o=this.untitledEditorService.loadOrCreate({resource:e})),o.then(function(r){return r?n.doSaveTextFileAs(r,e,t,i):n.fileService.copyFile(e,t)}).then(function(){return n.revert(e).then(function(){
return t})})},t.prototype.doSaveTextFileAs=function(e,t,i,n){var o=this,s=this.models.get(i);return(s&&s.isResolved()?r.TPromise.as(s):this.fileService.resolveFile(i).then(function(e){return e},function(){return null}).then(function(e){return e||o.fileService.updateContent(i,"")}).then(function(e){return o.models.loadOrCreate(i)})).then(function(t){return t.updatePreferredEncoding(e.getEncoding()),o.modelService.updateModel(t.textEditorModel,S.createTextBufferFactoryFromSnapshot(e.createSnapshot())),t.save(n)},function(s){return 0===s.fileOperationResult||8===s.fileOperationResult?o.fileService.del(i).then(function(){return o.doSaveTextFileAs(e,t,i,n)}):r.TPromise.wrapError(s)})},t.prototype.suggestFileName=function(e){var t=this.untitledEditorService.suggestFileName(e),i=y.Schemas.file,n=this.historyService.getLastActiveFile(i);if(n){var r=b.dirname(n);return b.joinPath(r,t)}var s=this.historyService.getLastActiveWorkspaceRoot(i);return s?b.joinPath(s,t):o.URI.file(t)},t.prototype.revert=function(e,t){
return this.revertAll([e],t).then(function(e){return 1===e.results.length&&e.results[0].success})},t.prototype.revertAll=function(e,t){var i=this;return this.doRevertAllFiles(e,t).then(function(t){return i.untitledEditorService.revertAll(e).forEach(function(e){return t.results.push({source:e,success:!0})}),t})},t.prototype.doRevertAllFiles=function(e,t){var i=t&&t.force?this.getFileModels(e):this.getDirtyFileModels(e),n=new m.ResourceMap;return i.forEach(function(e){n.set(e.getResource(),{source:e.getResource()})}),r.TPromise.join(i.map(function(e){return e.revert(t&&t.soft).then(function(){e.isDirty()||(n.get(e.getResource()).success=!0)},function(t){if(2!==t.fileOperationResult)return r.TPromise.wrapError(t);n.get(e.getResource()).success=!0})})).then(function(e){return{results:n.values()}})},t.prototype.create=function(e,t,i){var n=this.models.get(e);return this.fileService.createFile(e,t,i).then(function(){if(n&&!n.isDisposed())return n.revert()})},t.prototype.delete=function(e,t){
var i=this,n=this.getDirty().filter(function(t){return b.isEqualOrParent(t,e,!p.isLinux)});return this.revertAll(n,{soft:!0}).then(function(){return i.fileService.del(e,t)})},t.prototype.move=function(e,t,i){var n=this,o=[];return this._onWillMove.fire({oldResource:e,newResource:t,waitUntil:function(e){o.push(r.TPromise.wrap(e).then(void 0,l.onUnexpectedError))}}),Object.freeze(o),r.TPromise.join(o).then(function(){var o=r.TPromise.as(void 0),s=n.getDirtyFileModels().filter(function(e){return b.isEqualOrParent(e.getResource(),t,!1)});return s.length&&(o=n.revertAll(s.map(function(e){return e.getResource()}),{soft:!0})),o.then(function(){var o=n.getDirtyFileModels().filter(function(t){return b.isEqualOrParent(t.getResource(),e,!p.isLinux)}),s=[];return(o.length?r.TPromise.join(o.map(function(i){var r,o=i.getResource();return r=b.isEqual(o,e,!p.isLinux)?t:o.with({path:c.join(t.path,o.path.substr(e.path.length+1))}),s.push(r),n.backupFileService.backupResource(r,i.createSnapshot(),i.getVersionId())
})):r.TPromise.as(void 0)).then(function(){return n.revertAll(o.map(function(e){return e.getResource()}),{soft:!0}).then(function(){return n.fileService.moveFile(e,t,i).then(function(){return r.TPromise.join(s.map(function(e){return n.models.loadOrCreate(e)})).then(function(){})},function(e){return r.TPromise.join(s.map(function(e){return n.backupFileService.discardResourceBackup(e)})).then(function(){return r.TPromise.wrapError(e)})})})})})})},t.prototype.getAutoSaveMode=function(){return this.configuredAutoSaveOnFocusChange?3:this.configuredAutoSaveOnWindowChange?4:this.configuredAutoSaveDelay&&this.configuredAutoSaveDelay>0?this.configuredAutoSaveDelay<=1e3?1:2:0},t.prototype.getAutoSaveConfiguration=function(){return{autoSaveDelay:this.configuredAutoSaveDelay&&this.configuredAutoSaveDelay>0?this.configuredAutoSaveDelay:void 0,autoSaveFocusChange:this.configuredAutoSaveOnFocusChange,autoSaveApplicationChange:this.configuredAutoSaveOnWindowChange}},Object.defineProperty(t.prototype,"isHotExitEnabled",{
get:function(){return!this.environmentService.isExtensionDevelopment&&this.configuredHotExit!==f.HotExitConfiguration.OFF},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._models.clear(),e.prototype.dispose.call(this)},t}(g.Disposable);t.TextFileService=E}),define(e[498],t([1,0,2,78,27,62]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r.getColorRegistry().getColorReferenceSchema(),a="^\\w+[.\\w+]*$",c=n.ExtensionsRegistry.registerExtensionPoint("colors",[],{description:i.localize("contributes.color","Contributes extension defined themable colors"),type:"array",items:{type:"object",properties:{id:{type:"string",description:i.localize("contributes.color.id","The identifier of the themable color"),pattern:a,patternErrorMessage:i.localize("contributes.color.id.format","Identifiers should be in the form aa[.bb]*")},description:{type:"string",description:i.localize("contributes.color.description","The description of the themable color")},defaults:{
type:"object",properties:{light:{description:i.localize("contributes.defaults.light","The default color for light themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default."),type:"string",anyOf:[s,{type:"string",format:"color-hex"}]},dark:{description:i.localize("contributes.defaults.dark","The default color for dark themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default."),type:"string",anyOf:[s,{type:"string",format:"color-hex"}]},highContrast:{description:i.localize("contributes.defaults.highContrast","The default color for high contrast themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default."),type:"string",anyOf:[s,{type:"string",format:"color-hex"}]}}}}}}),l=function(){return function(){c.setHandler(function(e){for(var t=function(t){var n=e[t].value,s=e[t].collector
;if(!n||!Array.isArray(n))return s.error(i.localize("invalid.colorConfiguration","'configuration.colors' must be a array")),{value:void 0};var c=function(e,t){return e.length>0?"#"===e[0]?o.Color.Format.CSS.parseHex(e):e:(s.error(i.localize("invalid.default.colorType","{0} must be either a color value in hex (#RRGGBB[AA] or #RGB[A]) or the identifier of a themable color which provides the default.",t)),o.Color.red)};n.forEach(function(e){if("string"==typeof e.id&&0!==e.id.length)if(e.id.match(a))if("string"==typeof e.description&&0!==e.id.length){var t=e.defaults;t&&"object"==typeof t&&"string"==typeof t.light&&"string"==typeof t.dark&&"string"==typeof t.highContrast?r.registerColor(e.id,{light:c(t.light,"configuration.colors.defaults.light"),dark:c(t.dark,"configuration.colors.defaults.dark"),hc:c(t.highContrast,"configuration.colors.defaults.highContrast")
},e.description):s.error(i.localize("invalid.defaults","'configuration.colors.defaults' must be defined and must contain 'light', 'dark' and 'highContrast'"))}else s.error(i.localize("invalid.description","'configuration.colors.description' must be defined and can not be empty"));else s.error(i.localize("invalid.id.format","'configuration.colors.id' must follow the word[.word]*"));else s.error(i.localize("invalid.id","'configuration.colors.id' must be defined and can not be empty"))})},n=0;n<e.length;n++){var s=t(n);if("object"==typeof s)return s.value}})}}();t.ColorExtensionPoint=l}),define(e[261],t([1,0,2,7,117,27]),function(e,t,i,n,r,o){"use strict";function s(e){return{type:"array",description:e,items:{type:"object",defaultSnippets:[{body:{scope:"${1:keyword.operator}",settings:{foreground:"${2:#FF0000}"}}}],properties:{name:{type:"string",description:i.localize("schema.properties.name","Description of the rule.")},scope:{
description:i.localize("schema.properties.scope","Scope selector against which this rule matches."),anyOf:[{enum:c},{type:"string"},{type:"array",items:{enum:c}},{type:"array",items:{type:"string"}}]},settings:t.tokenColorizationSettingSchema},required:["settings","scope"],additionalProperties:!1}}}Object.defineProperty(t,"__esModule",{value:!0})
;var a=n.Registry.as(o.Extensions.ColorContribution),c=["comment","comment.block","comment.block.documentation","comment.line","constant","constant.character","constant.character.escape","constant.numeric","constant.numeric.integer","constant.numeric.float","constant.numeric.hex","constant.numeric.octal","constant.other","constant.regexp","constant.rgb-value","emphasis","entity","entity.name","entity.name.class","entity.name.function","entity.name.method","entity.name.section","entity.name.selector","entity.name.tag","entity.name.type","entity.other","entity.other.attribute-name","entity.other.inherited-class","invalid","invalid.deprecated","invalid.illegal","keyword","keyword.control","keyword.operator","keyword.operator.new","keyword.operator.assignment","keyword.operator.arithmetic","keyword.operator.logical","keyword.other","markup","markup.bold","markup.changed","markup.deleted","markup.heading","markup.inline.raw","markup.inserted","markup.italic","markup.list","markup.list.numbered","markup.list.unnumbered","markup.other","markup.quote","markup.raw","markup.underline","markup.underline.link","meta","meta.block","meta.cast","meta.class","meta.function","meta.function-call","meta.preprocessor","meta.return-type","meta.selector","meta.tag","meta.type.annotation","meta.type","punctuation.definition.string.begin","punctuation.definition.string.end","punctuation.separator","punctuation.separator.continuation","punctuation.terminator","storage","storage.modifier","storage.type","string","string.interpolated","string.other","string.quoted","string.quoted.double","string.quoted.other","string.quoted.single","string.quoted.triple","string.regexp","string.unquoted","strong","support","support.class","support.constant","support.function","support.other","support.type","support.type.property-name","support.variable","variable","variable.language","variable.name","variable.other","variable.other.readwrite","variable.parameter"]
;t.tokenColorizationSettingSchema={type:"object",description:i.localize("schema.token.settings","Colors and styles for the token."),properties:{foreground:{type:"string",description:i.localize("schema.token.foreground","Foreground color for the token."),format:"color-hex",default:"#ff0000"},background:{type:"string",deprecationMessage:i.localize("schema.token.background.warning","Token background colors are currently not supported.")},fontStyle:{type:"string",description:i.localize("schema.token.fontStyle","Font style of the rule: 'italic', 'bold' or 'underline' or a combination. The empty string unsets inherited settings."),pattern:"^(\\s*\\b(italic|bold|underline))*\\s*$",patternErrorMessage:i.localize("schema.fontStyle.error","Font style must be 'italic', 'bold' or 'underline' or a combination or the empty string."),defaultSnippets:[{label:i.localize("schema.token.fontStyle.none","None (clear inherited style)"),bodyText:'""'},{body:"italic"},{body:"bold"},{body:"underline"},{body:"italic bold"},{
body:"italic underline"},{body:"bold underline"},{body:"italic bold underline"}]}},additionalProperties:!1,defaultSnippets:[{body:{foreground:"${1:#FF0000}",fontStyle:"${2:bold}"}}]},t.colorsSchema=a.getColorSchema(),t.tokenColorsSchema=s,t.schemaId="vscode://schemas/color-theme";var l={type:"object",allowComments:!0,properties:{colors:t.colorsSchema,tokenColors:{anyOf:[{type:"string",description:i.localize("schema.tokenColors.path","Path to a tmTheme file (relative to the current file).")},s(i.localize("schema.colors","Colors for syntax highlighting"))]}}};t.register=function(){n.Registry.as(r.Extensions.JSONContribution).registerSchema(t.schemaId,l)}}),define(e[500],t([1,0,2,7,117]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="vscode://schemas/icon-theme",s={type:"object",allowComments:!0,definitions:{folderExpanded:{type:"string",
description:i.localize("schema.folderExpanded","The folder icon for expanded folders. The expanded folder icon is optional. If not set, the icon defined for folder will be shown.")},folder:{type:"string",description:i.localize("schema.folder","The folder icon for collapsed folders, and if folderExpanded is not set, also for expanded folders.")},file:{type:"string",description:i.localize("schema.file","The default file icon, shown for all files that don't match any extension, filename or language id.")},folderNames:{type:"object",description:i.localize("schema.folderNames","Associates folder names to icons. The object key is the folder name, not including any path segments. No patterns or wildcards are allowed. Folder name matching is case insensitive."),additionalProperties:{type:"string",description:i.localize("schema.folderName","The ID of the icon definition for the association.")}},folderNamesExpanded:{type:"object",
description:i.localize("schema.folderNamesExpanded","Associates folder names to icons for expanded folders. The object key is the folder name, not including any path segments. No patterns or wildcards are allowed. Folder name matching is case insensitive."),additionalProperties:{type:"string",description:i.localize("schema.folderNameExpanded","The ID of the icon definition for the association.")}},fileExtensions:{type:"object",description:i.localize("schema.fileExtensions","Associates file extensions to icons. The object key is the file extension name. The extension name is the last segment of a file name after the last dot (not including the dot). Extensions are compared case insensitive."),additionalProperties:{type:"string",description:i.localize("schema.fileExtension","The ID of the icon definition for the association.")}},fileNames:{type:"object",
description:i.localize("schema.fileNames","Associates file names to icons. The object key is the full file name, but not including any path segments. File name can include dots and a possible file extension. No patterns or wildcards are allowed. File name matching is case insensitive."),additionalProperties:{type:"string",description:i.localize("schema.fileName","The ID of the icon definition for the association.")}},languageIds:{type:"object",description:i.localize("schema.languageIds","Associates languages to icons. The object key is the language id as defined in the language contribution point."),additionalProperties:{type:"string",description:i.localize("schema.languageId","The ID of the icon definition for the association.")}},associations:{type:"object",properties:{folderExpanded:{$ref:"#/definitions/folderExpanded"},folder:{$ref:"#/definitions/folder"},file:{$ref:"#/definitions/file"},folderNames:{$ref:"#/definitions/folderNames"},folderNamesExpanded:{$ref:"#/definitions/folderNamesExpanded"},
fileExtensions:{$ref:"#/definitions/fileExtensions"},fileNames:{$ref:"#/definitions/fileNames"},languageIds:{$ref:"#/definitions/languageIds"}}}},properties:{fonts:{type:"array",description:i.localize("schema.fonts","Fonts that are used in the icon definitions."),items:{type:"object",properties:{id:{type:"string",description:i.localize("schema.id","The ID of the font.")},src:{type:"array",description:i.localize("schema.src","The location of the font."),items:{type:"object",properties:{path:{type:"string",description:i.localize("schema.font-path","The font path, relative to the current icon theme file.")},format:{type:"string",description:i.localize("schema.font-format","The format of the font.")}},required:["path","format"]}},weight:{type:"string",description:i.localize("schema.font-weight","The weight of the font.")},style:{type:"string",description:i.localize("schema.font-sstyle","The style of the font.")},size:{type:"string",description:i.localize("schema.font-size","The default size of the font.")}},
required:["id","src"]}},iconDefinitions:{type:"object",description:i.localize("schema.iconDefinitions","Description of all icons that can be used when associating files to icons."),additionalProperties:{type:"object",description:i.localize("schema.iconDefinition","An icon definition. The object key is the ID of the definition."),properties:{iconPath:{type:"string",description:i.localize("schema.iconPath","When using a SVG or PNG: The path to the image. The path is relative to the icon set file.")},fontCharacter:{type:"string",description:i.localize("schema.fontCharacter","When using a glyph font: The character in the font to use.")},fontColor:{type:"string",format:"color-hex",description:i.localize("schema.fontColor","When using a glyph font: The color to use.")},fontSize:{type:"string",description:i.localize("schema.fontSize","When using a font: The font size in percentage to the text font. If not set, defaults to the size in the font definition.")},fontId:{type:"string",
description:i.localize("schema.fontId","When using a font: The id of the font. If not set, defaults to the first font definition.")}}}},folderExpanded:{$ref:"#/definitions/folderExpanded"},folder:{$ref:"#/definitions/folder"},file:{$ref:"#/definitions/file"},folderNames:{$ref:"#/definitions/folderNames"},fileExtensions:{$ref:"#/definitions/fileExtensions"},fileNames:{$ref:"#/definitions/fileNames"},languageIds:{$ref:"#/definitions/languageIds"},light:{$ref:"#/definitions/associations",description:i.localize("schema.light","Optional associations for file icons in light color themes.")},highContrast:{$ref:"#/definitions/associations",description:i.localize("schema.highContrast","Optional associations for file icons in high contrast color themes.")},hidesExplorerArrows:{type:"boolean",description:i.localize("schema.hidesExplorerArrows","Configures whether the file explorer's arrows should be hidden when this theme is active.")}}};t.register=function(){
n.Registry.as(r.Extensions.JSONContribution).registerSchema(o,s)}}),define(e[89],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWorkbenchThemeService=i.createDecorator("themeService"),t.VS_LIGHT_THEME="vs",t.VS_DARK_THEME="vs-dark",t.VS_HC_THEME="hc-black",t.HC_THEME_ID="Default High Contrast",t.COLOR_THEME_SETTING="workbench.colorTheme",t.DETECT_HC_SETTING="window.autoDetectHighContrast",t.ICON_THEME_SETTING="workbench.iconTheme",t.CUSTOM_WORKBENCH_COLORS_SETTING="workbench.colorCustomizations",t.CUSTOM_EDITOR_COLORS_SETTING="editor.tokenColorCustomizations",t.CUSTOM_EDITOR_SCOPE_COLORS_SETTING="textMateRules"}),define(e[502],t([1,0,15,18,2,33,39,158,6,24,36,113,38,89,77,64,182,9,4,71,21,48,138,10,157,16,55,97]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var O=function(e){function t(t,i){return e.call(this,t)||this}return i(t,e),t}(m.QuickOpenModel);t.FileQuickOpenModel=O
;var k=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this,o)||this;return u.resource=t,u.name=i,u.description=n,u.icon=r,u.modeService=s,u.modelService=a,u.configurationService=c,u}return i(t,e),t.prototype.getLabel=function(){return this.name},t.prototype.getLabelOptions=function(){return{extraClasses:f.getIconClasses(this.modelService,this.modeService,this.resource)}},t.prototype.getAriaLabel=function(){return a.localize("entryAriaLabel","{0}, file picker",this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.getIcon=function(){return this.icon},t.prototype.getResource=function(){return this.resource},t.prototype.setRange=function(e){this.range=e},t.prototype.mergeWithEditorHistory=function(){return!0},t.prototype.getInput=function(){var e={resource:this.resource,options:{pinned:!this.configurationService.getValue().workbench.editor.enablePreviewFromQuickOpen}};return this.range&&(e.options.selection=this.range),e},
t=r([o(4,x.IEditorService),o(5,h.IModeService),o(6,g.IModelService),o(7,b.IConfigurationService),o(8,C.IWorkspaceContextService)],t)}(y.EditorQuickOpenEntry);t.FileEntry=k;var M=function(e){function t(t,i,n,r,o,s,a,c){var l=e.call(this)||this;return l.editorService=t,l.instantiationService=i,l.themeService=n,l.contextService=r,l.searchService=o,l.environmentService=s,l.fileService=a,l.labelService=c,l.queryBuilder=l.instantiationService.createInstance(S.QueryBuilder),l}return i(t,e),t.prototype.setOptions=function(e){this.options=e},t.prototype.getResults=function(e,t,i){var r=D.prepareQuery(e);return r.value?(r.value=A.untildify(r.value,this.environmentService.userHome),this.doFindResults(r,t,this.cacheState.cacheKey,i)):n.TPromise.as(new O([]))},t.prototype.doFindResults=function(e,t,i,r){var o,s=this,a=this.doResolveQueryOptions(e,i,r);return this.options&&this.options.forceUseIcons&&!this.themeService.getFileIconTheme()&&(o="file"),this.getAbsolutePathResult(e).then(function(e){
return t.isCancellationRequested?n.TPromise.wrap({results:[]}):e?n.TPromise.wrap({results:[{resource:e}]}):s.searchService.fileSearch(s.queryBuilder.file(s.contextService.getWorkspace().folders.map(function(e){return e.uri}),a),t)}).then(function(e){var i=[];if(!t.isCancellationRequested)for(var n=0;n<e.results.length;n++){var r=e.results[n],a=c.basename(r.resource.fsPath),l=s.labelService.getUriLabel(p.dirname(r.resource),{relative:!0});i.push(s.instantiationService.createInstance(k,r.resource,a,l,o))}return new O(i,e.stats)})},t.prototype.getAbsolutePathResult=function(e){if(c.isAbsolute(e.original)){var t=d.URI.file(e.original);return this.fileService.resolveFile(t).then(function(e){return e.isDirectory?void 0:t},function(e){})}return n.TPromise.as(null)},t.prototype.doResolveQueryOptions=function(e,t,i){var n={_reason:"openFileHandler",extraFileResources:I.getOutOfWorkspaceEditorResources(this.editorService,this.contextService),filePattern:e.value,cacheKey:t};return"number"==typeof i&&(n.maxResults=i,
n.sortByScore=!0),n},t.prototype.hasShortResponseTime=function(){return this.isCacheLoaded},t.prototype.onOpen=function(){var e=this;this.cacheState=new L(function(t){return e.cacheQuery(t)},function(t){return e.searchService.fileSearch(t)},function(t){return e.searchService.clearCache(t)},this.cacheState),this.cacheState.load()},t.prototype.cacheQuery=function(e){var t={_reason:"openFileHandler",extraFileResources:I.getOutOfWorkspaceEditorResources(this.editorService,this.contextService),filePattern:"",cacheKey:e,maxResults:0,sortByScore:!0},i=this.contextService.getWorkspace().folders.map(function(e){return e.uri});return this.queryBuilder.file(i,t)},Object.defineProperty(t.prototype,"isCacheLoaded",{get:function(){return this.cacheState&&this.cacheState.isLoaded},enumerable:!0,configurable:!0}),t.prototype.getGroupLabel=function(){return a.localize("searchResults","search results")},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},
t=r([o(0,x.IEditorService),o(1,E.IInstantiationService),o(2,v.IWorkbenchThemeService),o(3,C.IWorkspaceContextService),o(4,_.ISearchService),o(5,w.IEnvironmentService),o(6,T.IFileService),o(7,R.ILabelService)],t)}(y.QuickOpenHandler);t.OpenFileHandler=M;var P;!function(e){e[e.Created=1]="Created",e[e.Loading=2]="Loading",e[e.Loaded=3]="Loaded",e[e.Errored=4]="Errored",e[e.Disposed=5]="Disposed"}(P||(P={}));var L=function(){function e(e,t,i,n){if(this.doLoad=t,this.doDispose=i,this.previous=n,this._cacheKey=u.defaultGenerator.nextId(),this.loadingPhase=P.Created,this.query=e(this._cacheKey),this.previous){var r=l.assign({},this.query,{cacheKey:null}),o=l.assign({},this.previous.query,{cacheKey:null});l.equals(r,o)||(this.previous.dispose(),this.previous=null)}}return Object.defineProperty(e.prototype,"cacheKey",{get:function(){return this.loadingPhase!==P.Loaded&&this.previous?this.previous.cacheKey:this._cacheKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){
var e=this.loadingPhase===P.Loaded;return e||!this.previous?e:this.previous.isLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUpdating",{get:function(){var e=this.loadingPhase===P.Loading;return e||!this.previous?e:this.previous.isUpdating},enumerable:!0,configurable:!0}),e.prototype.load=function(){var e=this;this.isUpdating||(this.loadingPhase=P.Loading,this.promise=this.doLoad(this.query).then(function(){e.loadingPhase=P.Loaded,e.previous&&(e.previous.dispose(),e.previous=null)},function(t){e.loadingPhase=P.Errored,s.onUnexpectedError(t)}))},e.prototype.dispose=function(){var e=this;this.promise?this.promise.then(null,function(){}).then(function(){return e.loadingPhase=P.Disposed,e.doDispose(e._cacheKey)}).then(null,function(e){s.onUnexpectedError(e)}):this.loadingPhase=P.Disposed,this.previous&&(this.previous.dispose(),this.previous=null)},e}();t.CacheState=L}),define(e[503],t([1,0,19,15,2,13,29,77,64,502,199,4,9,157,25,18]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y){
"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenSymbolHandler=h.OpenSymbolHandler;var S=function(e){function d(i,n,r){var o=e.call(this)||this;return o.notificationService=i,o.configurationService=r,o.scorerCache=Object.create(null),o.searchDelayer=new c.ThrottledDelayer(d.TYPING_SEARCH_DELAY),o.openSymbolHandler=n.createInstance(t.OpenSymbolHandler),o.openFileHandler=n.createInstance(p.OpenFileHandler),o.updateHandlers(o.configurationService.getValue()),o.registerListeners(),o}return i(d,e),d.prototype.registerListeners=function(){var e=this;this.configurationService.onDidChangeConfiguration(function(t){return e.updateHandlers(e.configurationService.getValue())})},d.prototype.updateHandlers=function(e){this.includeSymbols=e&&e.search&&e.search.quickOpen&&e.search.quickOpen.includeSymbols,this.openFileHandler.setOptions({forceUseIcons:this.includeSymbols}),this.openSymbolHandler.setOptions({skipDelay:!0,skipLocalSymbols:!0,skipSorting:!0})},d.prototype.getResults=function(e,t){var i=this
;this.isClosed=!1;var r=this.extractRange(e);r&&(e=r.search);var o=v.prepareQuery(e);if(!o.value)return s.TPromise.as(new u.QuickOpenModel);var a=function(){var e=[],a=i.openFileHandler.getResults(o.original,t,d.MAX_DISPLAYED_RESULTS);return e.push(a),i.includeSymbols&&!r&&e.push(i.openSymbolHandler.getResults(o.original,t)),s.TPromise.join(e).then(function(e){if(i.isClosed||t.isCancellationRequested)return s.TPromise.as(new u.QuickOpenModel);var a=[].concat.apply([],e.map(function(e){return e.entries})),c=n.top(a,function(e,t){return v.compareItemsByScore(e,t,o,!0,u.QuickOpenItemAccessor,i.scorerCache)},d.MAX_DISPLAYED_RESULTS);return c.forEach(function(e){if(e instanceof p.FileEntry){e.setRange(r?r.range:null);var t=v.scoreItem(e,o,!0,u.QuickOpenItemAccessor,i.scorerCache);e.setHighlights(t.labelMatch,t.descriptionMatch)}}),s.TPromise.as(new u.QuickOpenModel(c))},function(e){
return y.isPromiseCanceledError(e)||(e&&e[0]&&e[0].message?i.notificationService.error(e[0].message.replace(/[\*_\[\]]/g,"\\$&")):i.notificationService.error(e)),null})};return this.hasShortResponseTime()?a():this.searchDelayer.trigger(a,d.TYPING_SEARCH_DELAY)},d.prototype.hasShortResponseTime=function(){return this.includeSymbols?this.openFileHandler.hasShortResponseTime()&&this.openSymbolHandler.hasShortResponseTime():this.openFileHandler.hasShortResponseTime()},d.prototype.extractRange=function(e){if(!e)return null;var t=null,i=d.LINE_COLON_PATTERN.exec(e);if(i&&i.length>1){var n=parseInt(i[1],10);if(l.isNumber(n)){if(t={startLineNumber:n,startColumn:1,endLineNumber:n,endColumn:1},i.length>3){var r=parseInt(i[3],10);l.isNumber(r)&&(t={startLineNumber:t.startLineNumber,startColumn:r,endLineNumber:t.endLineNumber,endColumn:r})}}else""===i[1]&&(t={startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1})}return t?{search:e.substr(0,i.index),range:t}:null},d.prototype.getGroupLabel=function(){
return this.includeSymbols?a.localize("fileAndTypeResults","file and symbol results"):a.localize("fileResults","file results")},d.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},d.prototype.onOpen=function(){this.openSymbolHandler.onOpen(),this.openFileHandler.onOpen()},d.prototype.onClose=function(e){this.isClosed=!0,this.scorerCache=Object.create(null),this.openSymbolHandler.onClose(e),this.openFileHandler.onClose(e)},d.ID="workbench.picker.anything",d.LINE_COLON_PATTERN=/[#|:|\(](\d*)([#|:|,](\d*))?\)?$/,d.TYPING_SEARCH_DELAY=200,d.MAX_DISPLAYED_RESULTS=512,d=r([o(0,m.INotificationService),o(1,f.IInstantiationService),o(2,g.IConfigurationService)],d)}(d.QuickOpenHandler);t.OpenAnythingHandler=S}),define(e[263],t([1,0,6,2,65,24,73,186]),function(e,t,i,n,r,o,s,a){"use strict";function c(e){return window.CSS.escape(e)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(){}return e.prototype.ensureLoaded=function(e){var t=this
;return!this.isLoaded&&this.location?function(e,t){return e.resolveContent(t,{encoding:"utf8"}).then(function(e){var t=[],i=s.parse(e.value.toString(),t);return t.length>0||!i?Promise.reject(new Error(n.localize("error.cannotparseicontheme","Problems parsing file icons file: {0}",t.map(function(e){return a.getParseErrorMessage(e.error)}).join(", ")))):Promise.resolve(i)})}(e,this.location).then(function(e){var i=function(e,t,i){function n(e){return o.joinPath(l,e)}function r(e,t){function i(e,t){if(t){var i=a[t];i||(i=a[t]=[]),i.push(e)}}if(e){var n=".show-file-icons";t&&(n=t+" "+n);var r=".monaco-tree-row.expanded";e.folder&&(i(n+" .folder-icon::before",e.folder),s.hasFolderIcons=!0),e.folderExpanded&&(i(n+" "+r+" .folder-icon::before",e.folderExpanded),s.hasFolderIcons=!0);var o=e.rootFolder||e.folder,l=e.rootFolderExpanded||e.folderExpanded;o&&(i(n+" .rootfolder-icon::before",o),s.hasFolderIcons=!0),l&&(i(n+" "+r+" .rootfolder-icon::before",l),s.hasFolderIcons=!0),
e.file&&(i(n+" .file-icon::before",e.file),s.hasFileIcons=!0);var u=e.folderNames;if(u)for(var d in u)i(n+" ."+c(d.toLowerCase())+"-name-folder-icon.folder-icon::before",u[d]),s.hasFolderIcons=!0;var p=e.folderNamesExpanded;if(p)for(var d in p)i(n+" "+r+" ."+c(d.toLowerCase())+"-name-folder-icon.folder-icon::before",p[d]),s.hasFolderIcons=!0;var h=e.languageIds;if(h){!h.jsonc&&h.json&&(h.jsonc=h.json);for(var f in h)i(n+" ."+c(f)+"-lang-file-icon.file-icon::before",h[f]),s.hasFileIcons=!0}var g=e.fileExtensions;if(g)for(var v in g){if(S=[],(b=v.toLowerCase().split(".")).length){for(E=0;E<b.length;E++)S.push("."+c(b.slice(E).join("."))+"-ext-file-icon");S.push(".ext-file-icon")}i(n+" "+S.join("")+".file-icon::before",g[v]),s.hasFileIcons=!0}var m=e.fileNames;if(m)for(var y in m){var S=[];y=y.toLowerCase(),S.push("."+c(y)+"-name-file-icon");var b=y.split(".");if(b.length){for(var E=1;E<b.length;E++)S.push("."+c(b.slice(E).join("."))+"-ext-file-icon");S.push(".ext-file-icon")}
i(n+" "+S.join("")+".file-icon::before",m[y]),s.hasFileIcons=!0}}}var s={content:"",hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:i.hidesExplorerArrows};if(!i.iconDefinitions)return s;var a={},l=o.dirname(t);if(r(i),r(i.light,".vs"),r(i.highContrast,".hc-black"),!s.hasFileIcons&&!s.hasFolderIcons)return s;var u=[],d=i.fonts;Array.isArray(d)&&(d.forEach(function(e){var t=e.src.map(function(e){return"url('"+n(e.path)+"') format('"+e.format+"')"}).join(", ");u.push("@font-face { src: "+t+"; font-family: '"+e.id+"'; font-weight: "+e.weight+"; font-style: "+e.style+"; }")}),u.push(".show-file-icons .file-icon::before, .show-file-icons .folder-icon::before, .show-file-icons .rootfolder-icon::before { font-family: '"+d[0].id+"'; font-size: "+(d[0].size||"150%")+"}"));for(var p in a){var h=a[p],f=i.iconDefinitions[p];if(f&&(f.iconPath&&u.push(h.join(", ")+" { content: ' '; background-image: url(\""+n(f.iconPath)+'"); }'),f.fontCharacter||f.fontColor)){var g="";f.fontColor&&(g+=" color: "+f.fontColor+";"),
f.fontCharacter&&(g+=" content: '"+f.fontCharacter+"';"),f.fontSize&&(g+=" font-size: "+f.fontSize+";"),f.fontId&&(g+=" font-family: "+f.fontId+";"),u.push(h.join(", ")+" { "+g+" }")}}return s.content=u.join("\n"),s}(t.id,t.location,e);return t.styleSheetContent=i.content,t.hasFileIcons=i.hasFileIcons,t.hasFolderIcons=i.hasFolderIcons,t.hidesExplorerArrows=i.hidesExplorerArrows,t.isLoaded=!0,t.styleSheetContent}):Promise.resolve(this.styleSheetContent)},e.fromExtensionTheme=function(t,i,n){var o=new e;return o.id=n.extensionId+"-"+t.id,o.label=t.label||r.basename(t.path),o.settingsId=t.id,o.description=t.description,o.location=i,o.extensionData=n,o.isLoaded=!1,o},e.noIconTheme=function(){var t=e._noIconTheme;return t||((t=e._noIconTheme=new e).id="",t.label="",t.settingsId=null,t.hasFileIcons=!1,t.hasFolderIcons=!1,t.hidesExplorerArrows=!1,t.isLoaded=!0,t.extensionData=null),t},e.fromStorageData=function(t){try{var n=JSON.parse(t),r=new e;for(var o in n)switch(o){case"id":case"label":case"description":
case"settingsId":case"extensionData":case"styleSheetContent":case"hasFileIcons":case"hidesExplorerArrows":case"hasFolderIcons":r[o]=n[o];break;case"location":r.location=i.URI.revive(n.location)}return r}catch(e){return null}},e.prototype.toStorageData=function(){return JSON.stringify({id:this.id,label:this.label,description:this.description,settingsId:this.settingsId,location:this.location,styleSheetContent:this.styleSheetContent,hasFileIcons:this.hasFileIcons,hasFolderIcons:this.hasFolderIcons,hidesExplorerArrows:this.hidesExplorerArrows})},e._noIconTheme=null,e}();t.FileIconThemeData=l}),define(e[505],t([1,0,2,29,24,78,45,5,263]),function(e,t,i,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=a.ExtensionsRegistry.registerExtensionPoint("iconThemes",[],{description:i.localize("vscode.extension.contributes.iconThemes","Contributes file icon themes."),type:"array",items:{type:"object",defaultSnippets:[{body:{id:"${1:id}",label:"${2:label}",
path:"./fileicons/${3:id}-icon-theme.json"}}],properties:{id:{description:i.localize("vscode.extension.contributes.iconThemes.id","Id of the icon theme as used in the user settings."),type:"string"},label:{description:i.localize("vscode.extension.contributes.iconThemes.label","Label of the icon theme as shown in the UI."),type:"string"},path:{description:i.localize("vscode.extension.contributes.iconThemes.path","Path of the icon theme definition file. The path is relative to the extension folder and is typically './icons/awesome-icon-theme.json'."),type:"string"}},required:["path","id"]}}),p=function(){function e(e){this.extensionService=e,this.knownIconThemes=[],this.onDidChangeEmitter=new l.Emitter,this.initialize()}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this.onDidChangeEmitter.event},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var e=this;d.setHandler(function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i],o={extensionId:r.description.id,
extensionPublisher:r.description.publisher,extensionName:r.description.name,extensionIsBuiltin:r.description.isBuiltin};e.onIconThemes(r.description.extensionLocation,o,r.value,r.collector)}e.onDidChangeEmitter.fire(e.knownIconThemes)})},e.prototype.onIconThemes=function(e,t,r,o){var a=this;Array.isArray(r)?r.forEach(function(r){if(r.path&&n.isString(r.path))if(r.id&&n.isString(r.id)){var c=s.joinPath(e,r.path);s.isEqualOrParent(c,e)||o.warn(i.localize("invalid.path.1","Expected `contributes.{0}.path` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.",d.name,c.path,e.path));var l=u.FileIconThemeData.fromExtensionTheme(r,c,t);a.knownIconThemes.push(l)}else o.error(i.localize("reqid","Expected string in `contributes.{0}.id`. Provided value: {1}",d.name,String(r.path)));else o.error(i.localize("reqpath","Expected string in `contributes.{0}.path`. Provided value: {1}",d.name,String(r.path)))
}):o.error(i.localize("reqarray","Extension point `{0}` must be an array.",d.name))},e.prototype.findThemeData=function(e){return this.getFileIconThemes().then(function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i];if(r.id===e)return r}return null})},e.prototype.findThemeBySettingsId=function(e){return this.getFileIconThemes().then(function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i];if(r.settingsId===e)return r}return null})},e.prototype.getFileIconThemes=function(){var e=this;return this.extensionService.whenInstalledExtensionsRegistered().then(function(t){return e.knownIconThemes})},e=r([o(0,c.IExtensionService)],e)}();t.FileIconThemeStore=p}),define(e[506],t([1,0,62,27,174,552,551]),function(e,t,i,n,r,o,s){"use strict";function a(e,t){var i=c[e];i||(c[e]=i=[]),i.push(t)}Object.defineProperty(t,"__esModule",{value:!0});var c={};t.convertSettings=function(e,t,n){for(var r=0,o=e;r<o.length;r++){var s=o[r];if(t.push(s),!s.scope){var a=s.settings;if(a)for(var l in a){var u=c[l];if(u){var d=a[l]
;if("string"==typeof d)for(var p=i.Color.fromHex(d),h=0,f=u;h<f.length;h++)n[f[h]]=p}"foreground"!==l&&"background"!==l&&"fontStyle"!==l&&delete a[l]}else s.settings={}}}},a("background",n.editorBackground),a("foreground",n.editorForeground),a("selection",n.editorSelectionBackground),a("inactiveSelection",n.editorInactiveSelection),a("selectionHighlightColor",n.editorSelectionHighlight),a("findMatchHighlight",n.editorFindMatchHighlight),a("currentFindMatchHighlight",n.editorFindMatch),a("hoverHighlight",n.editorHoverHighlight),a("wordHighlight",o.editorWordHighlight),a("wordHighlightStrong",o.editorWordHighlightStrong),a("findRangeHighlight",n.editorFindRangeHighlight),a("findMatchHighlight",s.peekViewResultsMatchHighlight),a("referenceHighlight",s.peekViewEditorMatchHighlight),a("lineHighlight",r.editorLineHighlight),a("rangeHighlight",r.editorRangeHighlight),a("caret",r.editorCursorForeground),a("invisibles",r.editorWhitespaces),a("guide",r.editorIndentGuides),a("activeGuide",r.editorActiveIndentGuides)
;for(var l=["ansiBlack","ansiRed","ansiGreen","ansiYellow","ansiBlue","ansiMagenta","ansiCyan","ansiWhite","ansiBrightBlack","ansiBrightRed","ansiBrightGreen","ansiBrightYellow","ansiBrightBlue","ansiBrightMagenta","ansiBrightCyan","ansiBrightWhite"],u=0;u<l.length;u++)a(l[u],"terminal."+l[u])}),define(e[264],t([1,0,33,73,62,89,506,2,29,39,24,27,7,186]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h){"use strict";function f(e,t,o,c){return".json"===i.extname(t.path)?e.resolveContent(t,{encoding:"utf8"}).then(function(i){var l=[],d=n.parse(i.value.toString(),l);if(l.length>0)return Promise.reject(new Error(a.localize("error.cannotparsejson","Problems parsing JSON theme file: {0}",l.map(function(e){return h.getParseErrorMessage(e.error)}).join(", "))));var p=Promise.resolve(null);return d.include&&(p=f(e,u.joinPath(u.dirname(t),d.include),o,c)),p.then(function(i){if(Array.isArray(d.settings))return s.convertSettings(d.settings,o,c),null;var n=d.colors;if(n){
if("object"!=typeof n)return Promise.reject(new Error(a.localize({key:"error.invalidformat.colors",comment:["{0} will be replaced by a path. Values in quotes should not be translated."]},"Problem parsing color theme file: {0}. Property 'colors' is not of type 'object'.",t.toString())));for(var l in n){"string"==typeof n[l]&&(c[l]=r.Color.fromHex(n[l]))}}var p=d.tokenColors;return p?Array.isArray(p)?(o.push.apply(o,p),null):"string"==typeof p?g(e,u.joinPath(u.dirname(t),p),o,{}):Promise.reject(new Error(a.localize({key:"error.invalidformat.tokenColors",comment:["{0} will be replaced by a path. Values in quotes should not be translated."]},"Problem parsing color theme file: {0}. Property 'tokenColors' should be either an array specifying colors or a path to a TextMate theme file",t.toString()))):null})}):g(e,t,o,c)}function g(t,i,n,r){return t.resolveContent(i,{encoding:"utf8"}).then(function(t){return(b||new Promise(function(t,i){e(["fast-plist"],t,i)})).then(function(e){try{
var i=e.parse(t.value.toString()).settings;return Array.isArray(i)?(s.convertSettings(i,n,r),Promise.resolve(null)):Promise.reject(new Error(a.localize("error.plist.invalidformat","Problem parsing tmTheme file: {0}. 'settings' is not array.")))}catch(e){return Promise.reject(new Error(a.localize("error.cannotparse","Problems parsing tmTheme file: {0}",e.message)))}})},function(e){return Promise.reject(new Error(a.localize("error.cannotload","Problems loading tmTheme file {0}: {1}",i.toString(),e.message)))})}function v(e,t){var i=t.getColor(d.editorForeground)||t.getDefault(d.editorForeground),n=t.getColor(d.editorBackground)||t.getDefault(d.editorBackground);return e.settings.foreground=r.Color.Format.CSS.formatHexA(i),e.settings.background=r.Color.Format.CSS.formatHexA(n),e}Object.defineProperty(t,"__esModule",{value:!0});var m=p.Registry.as(d.Extensions.ColorContribution),y={comments:["comment"],strings:["string"],keywords:["keyword - keyword.operator","keyword.control","storage","storage.type"],
numbers:["constant.numeric"],types:["entity.name.type","entity.name.class","support.type","support.class"],functions:["entity.name.function","support.function"],variables:["variable","entity.name.variable"]},S=function(){function e(){this.themeTokenColors=[],this.customTokenColors=[],this.colorMap={},this.customColorMap={}}return Object.defineProperty(e.prototype,"tokenColors",{get:function(){return this.themeTokenColors.concat(this.customTokenColors)},enumerable:!0,configurable:!0}),e.prototype.getColor=function(e,t){var i=this.customColorMap[e];return i||(i=this.colorMap[e],!1!==t&&c.isUndefined(i)&&(i=this.getDefault(e)),i)},e.prototype.getDefault=function(e){return m.resolveDefaultColor(e,this)},e.prototype.defines=function(e){return this.customColorMap.hasOwnProperty(e)||this.colorMap.hasOwnProperty(e)},e.prototype.setCustomColors=function(e){this.customColorMap={},this.overwriteCustomColors(e);var t=e["["+this.settingsId+"]"];c.isObject(t)&&this.overwriteCustomColors(t),
this.themeTokenColors&&this.themeTokenColors.length&&v(this.themeTokenColors[0],this)},e.prototype.overwriteCustomColors=function(e){for(var t in e){var i=e[t];"string"==typeof i&&(this.customColorMap[t]=r.Color.fromHex(i))}},e.prototype.setCustomTokenColors=function(e){this.customTokenColors=[],this.addCustomTokenColors(e);var t=e["["+this.settingsId+"]"];c.isObject(t)&&this.addCustomTokenColors(t)},e.prototype.addCustomTokenColors=function(e){for(var t in y){var i=e[t];if(i)for(var n="string"==typeof i?{foreground:i}:i,r=0,o=y[t];r<o.length;r++){var s=o[r];this.customTokenColors.push({scope:s,settings:n})}}if(Array.isArray(e.textMateRules))for(var a=0,c=e.textMateRules;a<c.length;a++){var l=c[a];l.scope&&l.settings&&this.customTokenColors.push(l)}},e.prototype.ensureLoaded=function(e){var t=this;return!this.isLoaded&&this.location?f(e,this.location,this.themeTokenColors,this.colorMap).then(function(e){t.isLoaded=!0,t.sanitizeTokenColors()}):Promise.resolve(null)},e.prototype.sanitizeTokenColors=function(){
var e=!1,t=[v({settings:{}},this)];this.themeTokenColors.forEach(function(i){i.scope&&i.settings&&("token.info-token"===i.scope&&(e=!0),t.push(i))}),e||t.push.apply(t,E[this.type]),this.themeTokenColors=t},e.prototype.toStorageData=function(){var e={};for(var t in this.colorMap)e[t]=r.Color.Format.CSS.formatHexA(this.colorMap[t],!0);return JSON.stringify({id:this.id,label:this.label,settingsId:this.settingsId,selector:this.id.split(" ").join("."),themeTokenColors:this.themeTokenColors,extensionData:this.extensionData,colorMap:e})},e.prototype.hasEqualData=function(e){return l.equals(this.colorMap,e.colorMap)&&l.equals(this.tokenColors,e.tokenColors)},Object.defineProperty(e.prototype,"baseTheme",{get:function(){return this.id.split(" ")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){switch(this.baseTheme){case o.VS_LIGHT_THEME:return"light";case o.VS_HC_THEME:return"hc";default:return"dark"}},enumerable:!0,configurable:!0}),e.createUnloadedTheme=function(t){
var i=new e;return i.id=t,i.label="",i.settingsId=null,i.isLoaded=!1,i.themeTokenColors=[{settings:{}}],i},e.createLoadedEmptyTheme=function(t,i){var n=new e;return n.id=t,n.label="",n.settingsId=i,n.isLoaded=!0,n.themeTokenColors=[{settings:{}}],n},e.fromStorageData=function(t){try{var i=JSON.parse(t),n=new e;for(var o in i)switch(o){case"colorMap":var s=i[o];for(var a in s)n.colorMap[a]=r.Color.fromHex(s[a]);break;case"themeTokenColors":case"id":case"label":case"settingsId":case"extensionData":n[o]=i[o]}return n}catch(e){return null}},e.fromExtensionTheme=function(t,n,r){var o=t.uiTheme||"vs-dark",s=function(e){return(e=e.replace(/[^_\-a-zA-Z0-9]/g,"-")).charAt(0).match(/[0-9\-]/)&&(e="_"+e),e}(r.extensionId+"-"+i.normalize(t.path)),a=new e;return a.id=o+" "+s,a.label=t.label||i.basename(t.path),a.settingsId=t.id||a.label,a.description=t.description,a.location=n,a.extensionData=r,a.isLoaded=!1,a},e}();t.ColorThemeData=S;var b,E={light:[{scope:"token.info-token",settings:{foreground:"#316bcd"}},{
scope:"token.warn-token",settings:{foreground:"#cd9731"}},{scope:"token.error-token",settings:{foreground:"#cd3131"}},{scope:"token.debug-token",settings:{foreground:"#800080"}}],dark:[{scope:"token.info-token",settings:{foreground:"#6796e6"}},{scope:"token.warn-token",settings:{foreground:"#cd9731"}},{scope:"token.error-token",settings:{foreground:"#f44747"}},{scope:"token.debug-token",settings:{foreground:"#b267e6"}}],hc:[{scope:"token.info-token",settings:{foreground:"#6796e6"}},{scope:"token.warn-token",settings:{foreground:"#008000"}},{scope:"token.error-token",settings:{foreground:"#FF0000"}},{scope:"token.debug-token",settings:{foreground:"#b267e6"}}]}}),define(e[510],t([1,0,2,29,24,78,89,264,45,5]),function(e,t,i,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=a.ExtensionsRegistry.registerExtensionPoint("themes",[],{description:i.localize("vscode.extension.contributes.themes","Contributes textmate color themes."),type:"array",items:{type:"object",defaultSnippets:[{
body:{label:"${1:label}",id:"${2:id}",uiTheme:c.VS_DARK_THEME,path:"./themes/${3:id}.tmTheme."}}],properties:{id:{description:i.localize("vscode.extension.contributes.themes.id","Id of the icon theme as used in the user settings."),type:"string"},label:{description:i.localize("vscode.extension.contributes.themes.label","Label of the color theme as shown in the UI."),type:"string"},uiTheme:{description:i.localize("vscode.extension.contributes.themes.uiTheme","Base theme defining the colors around the editor: 'vs' is the light color theme, 'vs-dark' is the dark color theme. 'hc-black' is the dark high contrast theme."),enum:[c.VS_LIGHT_THEME,c.VS_DARK_THEME,c.VS_HC_THEME]},path:{description:i.localize("vscode.extension.contributes.themes.path","Path of the tmTheme file. The path is relative to the extension folder and is typically './themes/themeFile.tmTheme'."),type:"string"}},required:["path","uiTheme"]}}),h=function(){function e(e,t){this.extensionService=e,this.extensionsColorThemes=[t],
this.onDidChangeEmitter=new d.Emitter,this.initialize()}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this.onDidChangeEmitter.event},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var e=this;p.setHandler(function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i],o={extensionId:r.description.id,extensionPublisher:r.description.publisher,extensionName:r.description.name,extensionIsBuiltin:r.description.isBuiltin};e.onThemes(r.description.extensionLocation,o,r.value,r.collector)}e.onDidChangeEmitter.fire(e.extensionsColorThemes)})},e.prototype.onThemes=function(e,t,r,o){var a=this;Array.isArray(r)?r.forEach(function(r){if(r.path&&n.isString(r.path)){var c=s.joinPath(e,r.path);s.isEqualOrParent(c,e)||o.warn(i.localize("invalid.path.1","Expected `contributes.{0}.path` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.",p.name,c.path,e.path));var u=l.ColorThemeData.fromExtensionTheme(r,c,t)
;u.id===a.extensionsColorThemes[0].id?a.extensionsColorThemes[0]=u:a.extensionsColorThemes.push(u)}else o.error(i.localize("reqpath","Expected string in `contributes.{0}.path`. Provided value: {1}",p.name,String(r.path)))}):o.error(i.localize("reqarray","Extension point `{0}` must be an array.",p.name))},e.prototype.findThemeData=function(e,t){return this.getColorThemes().then(function(i){for(var n=void 0,r=0,o=i;r<o.length;r++){var s=o[r];if(s.id===e)return s;s.id===t&&(n=s)}return n})},e.prototype.findThemeDataBySettingsId=function(e,t){return this.getColorThemes().then(function(i){for(var n=void 0,r=0,o=i;r<o.length;r++){var s=o[r];if(s.settingsId===e)return s;s.id===t&&(n=s)}return n})},e.prototype.getColorThemes=function(){var e=this;return this.extensionService.whenInstalledExtensionsRegistered().then(function(t){return e.extensionsColorThemes})},e=r([o(0,u.IExtensionService)],e)}();t.ColorThemeStore=h}),
define(e[511],t([1,0,2,29,45,89,28,30,7,18,9,75,4,264,12,5,261,500,510,505,263,42,8,48]),function(e,t,i,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x){"use strict";function D(e,t){return T(e.styleSheetContent,W),t(e)}function T(e,t){var i=document.head.getElementsByClassName(t);if(0===i.length){var n=document.createElement("style");n.type="text/css",n.className=t,n.innerHTML=e,document.head.appendChild(n)}else i[0].innerHTML=e}function R(e){return{description:e,default:"#FF0000",anyOf:[{type:"string",format:"color-hex"},S.tokenColorizationSettingSchema]}}Object.defineProperty(t,"__esModule",{value:!0});var A,O,k,M="vs-dark vscode-theme-defaults-themes-dark_plus-json",P="Default Dark+",L="colorThemeData",F="iconThemeData",N="vscode-theme-defaults",B="vscode-theme-colorful-defaults",W="contributedIconTheme",V=d.Registry.as(m.Extensions.ThemingContribution),z=function(){function e(e,t,i,r,o,s,a,c){var l=this;this.storageService=i,this.configurationService=r,this.telemetryService=o,this.windowService=s,
this.instantiationService=a,this.environmentService=c,this.themeExtensionsActivated=new Map,this.container=e,this.colorThemeStore=new E.ColorThemeStore(t,v.ColorThemeData.createLoadedEmptyTheme(M,P)),this.onFileIconThemeChange=new y.Emitter,this.iconThemeStore=new _.FileIconThemeStore(t),this.onColorThemeChange=new y.Emitter,this.currentIconTheme={id:"",label:"",settingsId:null,isLoaded:!1,hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1,extensionData:null};var u=null,d=this.storageService.get(L,0);d&&(u=v.ColorThemeData.fromStorageData(d));var h=this.getBaseThemeFromContainer();(!u||u&&u.baseTheme!==h)&&(u=v.ColorThemeData.createUnloadedTheme(h)),u.setCustomColors(this.colorCustomizations),u.setCustomTokenColors(this.tokenColorCustomizations),this.updateDynamicCSSRules(u),this.applyTheme(u,null,!0);var f=null,g=this.storageService.get(F,0);g&&(f=C.FileIconThemeData.fromStorageData(g))&&D(f,function(){return l.doSetFileIconTheme(f),Promise.resolve(f)}),
this.initialize().then(null,p.onUnexpectedError).then(function(e){l.installConfigurationListener()}),this.colorThemeStore.onDidChange(function(e){var t=u.description||"";j.properties=S.colorsSchema.properties;var i=n({},j);i.properties=n({},S.colorsSchema.properties),Q.properties=$;var r=n({},Q);r.properties=n({},$),e.forEach(function(e){H.enum.push(e.settingsId),H.enumDescriptions.push(t);var n="["+e.settingsId+"]";j.properties[n]=i,Q.properties[n]=r}),K.notifyConfigurationSchemaUpdated(q),K.notifyConfigurationSchemaUpdated(Y)}),this.iconThemeStore.onDidChange(function(e){U.enum=[null].concat(e.map(function(e){return e.settingsId})),U.enumDescriptions=[U.enumDescriptions[0]].concat(e.map(function(e){return u.description||""})),K.notifyConfigurationSchemaUpdated(q)})}return Object.defineProperty(e.prototype,"colorCustomizations",{get:function(){return this.configurationService.getValue(c.CUSTOM_WORKBENCH_COLORS_SETTING)||{}},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"tokenColorCustomizations",{get:function(){return this.configurationService.getValue(c.CUSTOM_EDITOR_COLORS_SETTING)||{}},enumerable:!0,configurable:!0}),e.prototype.acquireFileService=function(e){this.fileService=e},Object.defineProperty(e.prototype,"onDidColorThemeChange",{get:function(){return this.onColorThemeChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidFileIconThemeChange",{get:function(){return this.onFileIconThemeChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onIconThemeChange",{get:function(){return this.onFileIconThemeChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onThemeChange",{get:function(){return this.onColorThemeChange.event},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var e,t=this,i=this.configurationService.getValue(c.DETECT_HC_SETTING)
;e=this.windowService.getConfiguration().highContrast&&i?c.HC_THEME_ID:this.configurationService.getValue(c.COLOR_THEME_SETTING);var n=this.configurationService.getValue(c.ICON_THEME_SETTING)||"";return Promise.all([this.colorThemeStore.findThemeDataBySettingsId(e,M).then(function(e){return t.setColorTheme(e&&e.id,null)}),this.iconThemeStore.findThemeBySettingsId(n).then(function(e){return t.setFileIconTheme(e&&e.id,null)})])},e.prototype.installConfigurationListener=function(){var e=this;this.configurationService.onDidChangeConfiguration(function(t){if(t.affectsConfiguration(c.COLOR_THEME_SETTING)){var i=e.configurationService.getValue(c.COLOR_THEME_SETTING);i!==e.currentColorTheme.settingsId&&e.colorThemeStore.findThemeDataBySettingsId(i,null).then(function(t){t&&e.setColorTheme(t.id,null)})}if(t.affectsConfiguration(c.ICON_THEME_SETTING)){var n=e.configurationService.getValue(c.ICON_THEME_SETTING)||"";n!==e.currentIconTheme.settingsId&&e.iconThemeStore.findThemeBySettingsId(n).then(function(t){
e.setFileIconTheme(t&&t.id,null)})}if(e.currentColorTheme){var r=!1;t.affectsConfiguration(c.CUSTOM_WORKBENCH_COLORS_SETTING)&&(e.currentColorTheme.setCustomColors(e.colorCustomizations),r=!0),t.affectsConfiguration(c.CUSTOM_EDITOR_COLORS_SETTING)&&(e.currentColorTheme.setCustomTokenColors(e.tokenColorCustomizations),r=!0),r&&(e.updateDynamicCSSRules(e.currentColorTheme),e.onColorThemeChange.fire(e.currentColorTheme))}})},e.prototype.getColorTheme=function(){return this.currentColorTheme},e.prototype.getColorThemes=function(){return this.colorThemeStore.getColorThemes()},e.prototype.getTheme=function(){return this.getColorTheme()},e.prototype.setColorTheme=function(e,t){var n=this;return e?e===this.currentColorTheme.id&&this.currentColorTheme.isLoaded?this.writeColorThemeConfiguration(t):(e=function(e){switch(e){case c.VS_LIGHT_THEME:return"vs "+N+"-themes-light_vs-json";case c.VS_DARK_THEME:return"vs-dark "+N+"-themes-dark_vs-json";case c.VS_HC_THEME:return"hc-black "+N+"-themes-hc_black-json"
;case"vs "+B+"-themes-light_plus-tmTheme":return"vs "+N+"-themes-light_plus-json";case"vs-dark "+B+"-themes-dark_plus-tmTheme":return"vs-dark "+N+"-themes-dark_plus-json"}return e}(e),this.colorThemeStore.findThemeData(e,M).then(function(r){return r?r.ensureLoaded(n.fileService).then(function(i){return e===n.currentColorTheme.id&&!n.currentColorTheme.isLoaded&&n.currentColorTheme.hasEqualData(r)?(n.currentColorTheme=r,r.setCustomColors(n.colorCustomizations),r.setCustomTokenColors(n.tokenColorCustomizations),Promise.resolve(r)):(r.setCustomColors(n.colorCustomizations),r.setCustomTokenColors(n.tokenColorCustomizations),n.updateDynamicCSSRules(r),n.applyTheme(r,t))},function(e){return Promise.reject(new Error(i.localize("error.cannotloadtheme","Unable to load {0}: {1}",r.location.toString(),e.message)))}):null})):Promise.resolve(null)},e.prototype.restoreColorTheme=function(){var e=this,t=this.configurationService.getValue(c.COLOR_THEME_SETTING)
;t!==this.currentColorTheme.settingsId&&this.colorThemeStore.findThemeDataBySettingsId(t,null).then(function(t){t&&e.setColorTheme(t.id,null)})},e.prototype.updateDynamicCSSRules=function(e){var t=this,i=[],n={},r={addRule:function(e){n[e]||(i.push(e),n[e]=!0)}};V.getThemingParticipants().forEach(function(i){return i(e,r,t.environmentService)}),T(i.join("\n"),"contributedColorTheme")},e.prototype.applyTheme=function(e,t,i){var n=this;return void 0===i&&(i=!1),this.container&&(this.currentColorTheme?I.removeClasses(this.container,this.currentColorTheme.id):I.removeClasses(this.container,c.VS_DARK_THEME,c.VS_LIGHT_THEME,c.VS_HC_THEME),I.addClasses(this.container,e.id)),this.currentColorTheme=e,this.themingParticipantChangeListener||(this.themingParticipantChangeListener=V.onThemingParticipantAdded(function(e){return n.updateDynamicCSSRules(n.currentColorTheme)})),this.sendTelemetry(e.id,e.extensionData,"color"),i?Promise.resolve(null):(this.onColorThemeChange.fire(this.currentColorTheme),
this.storageService.store(L,e.toStorageData(),0),this.writeColorThemeConfiguration(t))},e.prototype.writeColorThemeConfiguration=function(e){var t=this;return s.isUndefinedOrNull(e)?Promise.resolve(this.currentColorTheme):this.configurationWriter.writeConfiguration(c.COLOR_THEME_SETTING,this.currentColorTheme.settingsId,e).then(function(e){return t.currentColorTheme})},e.prototype.sendTelemetry=function(e,t,i){if(t){var n=i+t.extensionId;this.themeExtensionsActivated.get(n)||(this.telemetryService.publicLog("activatePlugin",{id:t.extensionId,name:t.extensionName,isBuiltin:t.extensionIsBuiltin,publisherDisplayName:t.extensionPublisher,themeId:e}),this.themeExtensionsActivated.set(n,!0))}},e.prototype.getFileIconThemes=function(){return this.iconThemeStore.getFileIconThemes()},e.prototype.getFileIconTheme=function(){return this.currentIconTheme},e.prototype.getIconTheme=function(){return this.currentIconTheme},e.prototype.setFileIconTheme=function(e,t){var i=this
;if((e=e||"")===this.currentIconTheme.id&&this.currentIconTheme.isLoaded)return this.writeFileIconConfiguration(t);var n=function(e){return i.doSetFileIconTheme(e),i.storageService.store(F,e.toStorageData(),0),i.writeFileIconConfiguration(t)};return this.iconThemeStore.findThemeData(e).then(function(e){return e||(e=C.FileIconThemeData.noIconTheme()),e.ensureLoaded(i.fileService).then(function(t){return D(e,n)})})},e.prototype.doSetFileIconTheme=function(e){this.currentIconTheme=e,this.container&&(e.id?I.addClasses(this.container,"file-icons-enabled"):I.removeClasses(this.container,"file-icons-enabled")),e.id&&this.sendTelemetry(e.id,e.extensionData,"fileIcon"),this.onFileIconThemeChange.fire(this.currentIconTheme)},e.prototype.writeFileIconConfiguration=function(e){var t=this;return s.isUndefinedOrNull(e)?Promise.resolve(this.currentIconTheme):this.configurationWriter.writeConfiguration(c.ICON_THEME_SETTING,this.currentIconTheme.settingsId,e).then(function(e){return t.currentIconTheme})},
Object.defineProperty(e.prototype,"configurationWriter",{get:function(){return this._configurationWriter||(this._configurationWriter=this.instantiationService.createInstance(G)),this._configurationWriter},enumerable:!0,configurable:!0}),e.prototype.getBaseThemeFromContainer=function(){if(this.container)for(var e=this.container.classList.length-1;e>=0;e--){var t=document.body.classList.item(e);if(t===c.VS_LIGHT_THEME||t===c.VS_DARK_THEME||t===c.VS_HC_THEME)return t}return c.VS_DARK_THEME},e=r([o(1,a.IExtensionService),o(2,l.IStorageService),o(3,h.IConfigurationService),o(4,u.ITelemetryService),o(5,w.IWindowService),o(6,g.IInstantiationService),o(7,x.IEnvironmentService)],e)}();t.WorkbenchThemeService=z,S.register(),b.register();var G=function(){function e(e){this.configurationService=e}return e.prototype.writeConfiguration=function(e,t,i){var n=this.configurationService.inspect(e);if(1===i){if(t===n.user)return Promise.resolve(null);if(t===n.default){if(s.isUndefined(n.user))return Promise.resolve(null)
;t=void 0}}else if(2===i&&t===n.value)return Promise.resolve(null);return this.configurationService.updateValue(e,t,i)},e=r([o(0,h.IConfigurationService)],e)}(),K=d.Registry.as(f.Extensions.Configuration),H={type:"string",description:i.localize("colorTheme","Specifies the color theme used in the workbench."),default:P,enum:[],enumDescriptions:[],errorMessage:i.localize("colorThemeError","Theme is unknown or not installed.")},U={type:["string","null"],default:"vs-seti",description:i.localize("iconTheme","Specifies the icon theme used in the workbench or 'null' to not show any file icons."),enum:[null],enumDescriptions:[i.localize("noIconThemeDesc","No file icons")],errorMessage:i.localize("iconThemeError","File icon theme is unknown or not installed.")},j={type:"object",description:i.localize("workbenchColors","Overrides colors from the currently selected color theme."),properties:{},additionalProperties:!1,default:{},defaultSnippets:[{body:{"statusBar.background":"#666666","panel.background":"#555555",
"sideBar.background":"#444444"}}]},q={id:"workbench",order:7.1,type:"object",properties:(A={},A[c.COLOR_THEME_SETTING]=H,A[c.ICON_THEME_SETTING]=U,A[c.CUSTOM_WORKBENCH_COLORS_SETTING]=j,A)};K.registerConfiguration(q);var $=(O={comments:R(i.localize("editorColors.comments","Sets the colors and styles for comments")),strings:R(i.localize("editorColors.strings","Sets the colors and styles for strings literals.")),keywords:R(i.localize("editorColors.keywords","Sets the colors and styles for keywords.")),numbers:R(i.localize("editorColors.numbers","Sets the colors and styles for number literals.")),types:R(i.localize("editorColors.types","Sets the colors and styles for type declarations and references.")),functions:R(i.localize("editorColors.functions","Sets the colors and styles for functions declarations and references.")),variables:R(i.localize("editorColors.variables","Sets the colors and styles for variables declarations and references."))},
O[c.CUSTOM_EDITOR_SCOPE_COLORS_SETTING]=S.tokenColorsSchema(i.localize("editorColors.textMateRules","Sets colors and styles using textmate theming rules (advanced).")),O),Q={description:i.localize("editorColors","Overrides editor colors and font style from the currently selected color theme."),default:{},additionalProperties:!1,properties:{}},Y={id:"editor",order:7.2,type:"object",properties:(k={},k[c.CUSTOM_EDITOR_COLORS_SETTING]=Q,k)};K.registerConfiguration(Y)}),define(e[56],t([1,0,6,4,19,155,9,5,44,32,3]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IUntitledEditorService=s.createDecorator("untitledEditorService");var f=function(e){function t(t,i){var n=e.call(this)||this;return n.instantiationService=t,n.configurationService=i,n.mapResourceToInput=new d.ResourceMap,n.mapResourceToAssociatedFilePath=new d.ResourceMap,n._onDidChangeContent=n._register(new u.Emitter),n._onDidChangeDirty=n._register(new u.Emitter),
n._onDidChangeEncoding=n._register(new u.Emitter),n._onDidDisposeModel=n._register(new u.Emitter),n}return i(t,e),Object.defineProperty(t.prototype,"onDidChangeContent",{get:function(){return this._onDidChangeContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeEncoding",{get:function(){return this._onDidChangeEncoding.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidDisposeModel",{get:function(){return this._onDidDisposeModel.event},enumerable:!0,configurable:!0}),t.prototype.get=function(e){return this.mapResourceToInput.get(e)},t.prototype.getAll=function(e){var t=this;return e?a.coalesce(e.map(function(e){return t.get(e)})):this.mapResourceToInput.values()},t.prototype.exists=function(e){return this.mapResourceToInput.has(e)},t.prototype.revertAll=function(e,t){var i=[]
;return this.getAll(e).forEach(function(e){e&&(e.revert(),e.dispose(),i.push(e.getResource()))}),i},t.prototype.isDirty=function(e){var t=this.get(e);return t&&t.isDirty()},t.prototype.getDirty=function(e){var t=this;return(e?e.map(function(e){return t.get(e)}).filter(function(e){return!!e}):this.mapResourceToInput.values()).filter(function(e){return e.isDirty()}).map(function(e){return e.getResource()})},t.prototype.loadOrCreate=function(e){return void 0===e&&(e=Object.create(null)),this.createOrGet(e.resource,e.modeId,e.initialValue,e.encoding,e.useResourcePath).resolve()},t.prototype.createOrGet=function(e,t,i,n,r){return void 0===r&&(r=!1),e&&(e.scheme===p.Schemas.file&&(r=!0,e=e.with({scheme:p.Schemas.untitled})),r&&this.mapResourceToAssociatedFilePath.set(e,!0)),e&&this.mapResourceToInput.has(e)?this.mapResourceToInput.get(e):this.doCreate(e,r,t,i,n)},t.prototype.doCreate=function(e,t,i,r,o){var s=this;if(!e){var a=this.mapResourceToInput.size+1;do{e=n.URI.from({scheme:p.Schemas.untitled,
path:"Untitled-"+a}),a++}while(this.mapResourceToInput.has(e))}if(!i&&!t){var l=this.configurationService.getValue();l.files&&l.files.defaultLanguage&&(i=l.files.defaultLanguage)}var d=this.instantiationService.createInstance(c.UntitledEditorInput,e,t,i,r,o),h=d.onDidModelChangeContent(function(){s._onDidChangeContent.fire(e)}),f=d.onDidChangeDirty(function(){s._onDidChangeDirty.fire(e)}),g=d.onDidModelChangeEncoding(function(){s._onDidChangeEncoding.fire(e)}),v=d.onDispose(function(){s._onDidDisposeModel.fire(e)});return u.once(d.onDispose)(function(){s.mapResourceToInput.delete(d.getResource()),s.mapResourceToAssociatedFilePath.delete(d.getResource()),h.dispose(),f.dispose(),g.dispose(),v.dispose()}),this.mapResourceToInput.set(e,d),d},t.prototype.hasAssociatedFilePath=function(e){return this.mapResourceToAssociatedFilePath.has(e)},t.prototype.suggestFileName=function(e){var t=this.get(e);return t?t.suggestFileName():void 0},t.prototype.getEncoding=function(e){var t=this.get(e)
;return t?t.getEncoding():void 0},t=r([o(0,s.IInstantiationService),o(1,l.IConfigurationService)],t)}(h.Disposable);t.UntitledEditorService=f}),define(e[513],t([1,0,19,18,3,44,32,39,550,6,15,38,9,48,68,71,30,10,45,244,56,100]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this)||this;return u.modelService=t,u.untitledEditorService=i,u.editorService=n,u.telemetryService=o,u.configurationService=s,u.logService=a,u.extensionService=c,u.fileSearchProviders=new Map,u.textSearchProviders=new Map,u.fileIndexProviders=new Map,u.diskSearch=new D(l),u}return i(t,e),t.prototype.registerSearchResultProvider=function(e,t,i){var n;return 0===t?n=this.fileSearchProviders:2===t?n=this.textSearchProviders:1===t&&(n=this.fileIndexProviders),n.set(e,i),c.toDisposable(function(){n.delete(e)})},t.prototype.extendQuery=function(e){var t=this.configurationService.getValue()
;if(!e.disregardExcludeSettings){var i=d.deepClone(t&&t.files&&t.files.exclude);i&&(e.excludePattern?d.mixin(e.excludePattern,i,!1):e.excludePattern=i)}},t.prototype.textSearch=function(e,t,i){var n=this,r=this.getLocalResults(e);i&&r.values().filter(function(e){return!!e}).forEach(i),this.logService.trace("SearchService#search",JSON.stringify(e));return this.doSearch(e,t,function(e){e.resource?!r.has(e.resource)&&i&&i(e):i&&i(e),e.message&&n.logService.debug("SearchService#search",e.message)})},t.prototype.fileSearch=function(e,t){return this.doSearch(e,t)},t.prototype.doSearch=function(e,t,i){var n=this,r=this.getSchemesInQuery(e),o=[f.TPromise.wrap(null)];r.forEach(function(e){return o.push(n.extensionService.activateByEvent("onSearch:"+e))}),o.push(this.extensionService.activateByEvent("onSearch:file"));var c=f.TPromise.join(o).then(function(){return n.extensionService.whenInstalledExtensionsRegistered()}).then(function(){if(t&&t.isCancellationRequested)return f.TPromise.wrapError(a.canceled())
;return n.searchWithProviders(e,function(e){t&&t.isCancellationRequested||i&&i(e)},t)}).then(function(e){return(e=e.filter(function(e){return!!e})).length?{limitHit:e[0]&&e[0].limitHit,stats:e[0].stats,results:s.flatten(e.map(function(e){return e.results}))}:null},function(e){return Array.isArray(e)||(e=[e]),e=e.filter(function(e){return!!e}),f.TPromise.wrapError(e[0])});return new f.TPromise(function(e,i){t&&t.onCancellationRequested(function(){i(a.canceled())}),c.then(e,i)})},t.prototype.getSchemesInQuery=function(e){var t=new Set;return e.folderQueries&&e.folderQueries.forEach(function(e){return t.add(e.folder.scheme)}),e.extraFileResources&&e.extraFileResources.forEach(function(e){return t.add(e.scheme)}),t},t.prototype.searchWithProviders=function(e,t,i){var r=this,o=p.StopWatch.create(!1),s=[],a=[],c=this.groupFolderQueriesByScheme(e);l.keys(c).forEach(function(o){var l=c.get(o),u=1===e.type?r.fileSearchProviders.get(o)||r.fileIndexProviders.get(o):r.textSearchProviders.get(o);if(u||"file"!==o){
if(!u)throw new Error("No search provider registered for scheme: "+o);var d=n({},e,{folderQueries:l});a.push(1===e.type?u.fileSearch(d,i):u.textSearch(d,t,i))}else s.push.apply(s,l)});var d=e.extraFileResources&&e.extraFileResources.filter(function(e){return e.scheme===u.Schemas.file});if(s.length||d){var h=n({},e,{folderQueries:s},{extraFileResources:d});a.push(1===h.type?this.diskSearch.fileSearch(h,i):this.diskSearch.textSearch(h,t,i))}return f.TPromise.join(a).then(function(t){var i=o.elapsed();return r.logService.trace("SearchService#search: "+i+"ms"),t.forEach(function(t){r.sendTelemetry(e,i,t)}),t},function(t){var i=o.elapsed();r.logService.trace("SearchService#search: "+i+"ms"),t=t.filter(function(e){return!!e});var n=S.deserializeSearchError(t[0]&&t[0].message);throw r.sendTelemetry(e,i,null,n),n})},t.prototype.groupFolderQueriesByScheme=function(e){var t=new Map;return e.folderQueries.forEach(function(e){var i=t.get(e.folder.scheme)||[];i.push(e),t.set(e.folder.scheme,i)}),t},
t.prototype.sendTelemetry=function(e,t,i,n){var r=e.folderQueries.every(function(e){return"file"===e.folder.scheme}),o=e.folderQueries.every(function(e){return"file"!==e.folder.scheme}),s=r?"file":o?"other":"mixed";if(1===e.type&&i&&i.stats){var a=i.stats;if(a.fromCache){var c=a.detailStats;this.telemetryService.publicLog("cachedSearchComplete",{reason:e._reason,resultCount:a.resultCount,workspaceFolderCount:e.folderQueries.length,type:a.type,endToEndTime:t,sortingTime:a.sortingTime,cacheWasResolved:c.cacheWasResolved,cacheLookupTime:c.cacheLookupTime,cacheFilterTime:c.cacheFilterTime,cacheEntryCount:c.cacheEntryCount,scheme:s})}else{var l=a.detailStats;this.telemetryService.publicLog("searchComplete",{reason:e._reason,resultCount:a.resultCount,workspaceFolderCount:e.folderQueries.length,type:a.type,endToEndTime:t,sortingTime:a.sortingTime,traversal:l.traversal,fileWalkTime:l.fileWalkTime,directoriesWalked:l.directoriesWalked,filesWalked:l.filesWalked,cmdTime:l.cmdTime,cmdResultCount:l.cmdResultCount,
scheme:s,useRipgrep:e.useRipgrep})}}else if(2===e.type){var u=void 0;n&&(u=n.code===S.SearchErrorCode.regexParseError?"regex":n.code===S.SearchErrorCode.unknownEncoding?"encoding":n.code===S.SearchErrorCode.globParseError?"glob":n.code===S.SearchErrorCode.invalidLiteral?"literal":n.code===S.SearchErrorCode.other?"other":"unknown"),this.telemetryService.publicLog("textSearchComplete",{reason:e._reason,workspaceFolderCount:e.folderQueries.length,endToEndTime:t,scheme:s,error:u,useRipgrep:e.useRipgrep,usePCRE2:!!e.usePCRE2})}},t.prototype.getLocalResults=function(e){var t=this,i=new l.ResourceMap;if(2===e.type){this.modelService.getModels().forEach(function(n){var r=n.uri;if(r&&t.editorService.isOpen({resource:r})){if(r.scheme===u.Schemas.untitled){if(!t.untitledEditorService.exists(r))return}else if(r.scheme!==u.Schemas.file)return;if(t.matches(r,e)){
var o=n.findMatches(e.contentPattern.pattern,!1,e.contentPattern.isRegExp,e.contentPattern.isCaseSensitive,e.contentPattern.isWordMatch?e.contentPattern.wordSeparators:null,!1,e.maxResults);if(o.length){var s=new S.FileMatch(r);i.set(r,s);var a=C.editorMatchesToTextSearchResults(o,n,e.previewOptions);s.results=C.addContextToEditorMatches(a,n,e)}else i.set(r,null)}}})}return i},t.prototype.matches=function(e,t){return(!t.includePattern||e.scheme===u.Schemas.file)&&S.pathIncludedInQuery(t,e.fsPath)},t.prototype.clearCache=function(e){var t=[this.diskSearch].concat(l.values(this.fileIndexProviders)).map(function(t){return t&&t.clearCache(e)});return f.TPromise.join(t).then(function(){})},t=r([o(0,g.IModelService),o(1,w.IUntitledEditorService),o(2,E.IEditorService),o(3,m.IEnvironmentService),o(4,b.ITelemetryService),o(5,v.IConfigurationService),o(6,y.ILogService),o(7,_.IExtensionService),o(8,I.ICodeSandboxService)],t)}(c.Disposable);t.CodeSandboxSearchService=x;var D=function(){function e(e){
this.codesandboxService=e}return e.prototype.fileSearch=function(e,t){var i=this;e.folderQueries;return new f.TPromise(function(e){var t=i.codesandboxService.getFilesByPath();e({results:Object.keys(t).map(function(e){return{resource:h.URI.file(e),results:[]}}),limitHit:!1})})},e.prototype.textSearch=function(e,t,i){e.folderQueries;return new f.TPromise(function(e){e({results:[],limitHit:!1})})},e.prototype.clearCache=function(e){return new f.TPromise(function(e){return e(void 0)})},e}();t.DiskSearch=D}),define(e[267],t([1,0,84,3,32,6,36,38,58,16,35,31,56]),function(e,t,i,n,s,a,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(e,t){void 0===e&&(e=18e4),void 0===t&&(t=83886080),this._maxAge=e,this._maxLength=t,this._data=new Array,this._length=0}return e.prototype.dispose=function(){this._data=n.dispose(this._data)},e.prototype.add=function(e){var t,i,n=this,r=e.object.textEditorModel.getValueLength(),o=function(){var o=n._data.indexOf(i)
;o>=0&&(n._length-=r,e.dispose(),clearTimeout(t),n._data.splice(o,1))};t=setTimeout(o,this._maxAge),i={length:r,dispose:o},this._data.push(i),this._length+=r,this._cleanup()},e.prototype._cleanup=function(){for(;this._length>this._maxLength;)this._data[0].dispose()},e}();t.BoundModelReferenceCollection=g;var v=function(){function e(e,t,i,n,r,o,s,a){var c=this;this._modelReferenceCollection=new g,this._modelService=i,this._textModelResolverService=s,this._textFileService=r,this._fileService=o,this._untitledEditorService=a,this._proxy=t.getProxy(p.ExtHostContext.ExtHostDocuments),this._modelIsSynced={},this._toDispose=[],this._toDispose.push(e.onDocumentAdd(function(e){return e.forEach(c._onModelAdded,c)})),this._toDispose.push(e.onDocumentRemove(function(e){return e.forEach(c._onModelRemoved,c)})),this._toDispose.push(this._modelReferenceCollection),this._toDispose.push(i.onModelModeChanged(this._onModelModeChanged,this)),this._toDispose.push(r.models.onModelSaved(function(e){
c._shouldHandleFileEvent(e)&&c._proxy.$acceptModelSaved(e.resource)})),this._toDispose.push(r.models.onModelReverted(function(e){c._shouldHandleFileEvent(e)&&c._proxy.$acceptDirtyStateChanged(e.resource,!1)})),this._toDispose.push(r.models.onModelDirty(function(e){c._shouldHandleFileEvent(e)&&c._proxy.$acceptDirtyStateChanged(e.resource,!0)})),this._modelToDisposeMap=Object.create(null)}return e.prototype.dispose=function(){var e=this;Object.keys(this._modelToDisposeMap).forEach(function(t){e._modelToDisposeMap[t].dispose()}),this._modelToDisposeMap=Object.create(null),this._toDispose=n.dispose(this._toDispose)},e.prototype._shouldHandleFileEvent=function(e){var t=this._modelService.getModel(e.resource);return t&&l.shouldSynchronizeModel(t)},e.prototype._onModelAdded=function(e){var t=this;if(!l.shouldSynchronizeModel(e))return null;var i=e.uri;this._modelIsSynced[i.toString()]=!0,this._modelToDisposeMap[i.toString()]=e.onDidChangeContent(function(e){
t._proxy.$acceptModelChanged(i,e,t._textFileService.isDirty(i))})},e.prototype._onModelModeChanged=function(e){var t=e.model,i=e.oldModeId,n=t.uri;this._modelIsSynced[n.toString()]&&this._proxy.$acceptModelModeChanged(t.uri,i,t.getLanguageIdentifier().language)},e.prototype._onModelRemoved=function(e){var t=e.toString();this._modelIsSynced[t]&&(delete this._modelIsSynced[t],this._modelToDisposeMap[t].dispose(),delete this._modelToDisposeMap[t])},e.prototype.$trySaveDocument=function(e){return this._textFileService.save(a.URI.revive(e))},e.prototype.$tryOpenDocument=function(e){var t=this,n=a.URI.revive(e);if(!n.scheme||!n.fsPath&&!n.authority)return Promise.reject(new Error("Invalid uri. Scheme and authority or path must be set."));var r;switch(n.scheme){case s.Schemas.untitled:r=this._handleUnititledScheme(n);break;case s.Schemas.file:default:r=this._handleAsResourceInput(n)}return r.then(function(e){
return e?t._modelIsSynced[n.toString()]?void 0:Promise.reject(new Error("cannot open "+n.toString()+". Detail: Files above 50MB cannot be synchronized with extensions.")):Promise.reject(new Error("cannot open "+n.toString()))},function(e){return Promise.reject(new Error("cannot open "+n.toString()+". Detail: "+i.toErrorMessage(e)))})},e.prototype.$tryCreateDocument=function(e){return this._doCreateUntitled(void 0,e?e.language:void 0,e?e.content:void 0)},e.prototype._handleAsResourceInput=function(e){var t=this;return this._textModelResolverService.createModelReference(e).then(function(e){t._modelReferenceCollection.add(e);return!!e.object})},e.prototype._handleUnititledScheme=function(e){var t=this,i=e.with({scheme:s.Schemas.file});return this._fileService.resolveFile(i).then(function(e){return Promise.reject(new Error("file already exists on disk"))},function(i){return t._doCreateUntitled(e).then(function(e){return!!e})})},e.prototype._doCreateUntitled=function(e,t,i){var n=this
;return this._untitledEditorService.loadOrCreate({resource:e,modeId:t,initialValue:i,useResourcePath:Boolean(e&&e.path)}).then(function(e){var t=e.getResource();if(!n._modelIsSynced[t.toString()])throw new Error("expected URI "+t.toString()+" to have come to LIFE");return n._proxy.$acceptDirtyStateChanged(t,!0),t})},e=r([o(2,l.IModelService),o(3,c.IModeService),o(4,h.ITextFileService),o(5,d.IFileService),o(6,u.ITextModelService),o(7,f.IUntitledEditorService)],e)}();t.MainThreadDocuments=v}),define(e[516],t([1,0,5,3,44,63,112,83,36,38,58,16,40,267,210,216,35,260,133,10,41,93,31,56]),function(e,t,i,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x;!function(e){e.ofSets=function(e,t){var i=[],n=[];return e.forEach(function(e){t.has(e)||i.push(e)}),t.forEach(function(t){e.has(t)||n.push(t)}),{removed:i,added:n}},e.ofMaps=function(e,t){var i=[],n=[];return e.forEach(function(e,n){t.has(n)||i.push(e)}),t.forEach(function(t,i){e.has(i)||n.push(t)}),{
removed:i,added:n}}}(x||(x={}));var D=function(){return function(e){this.editor=e,this.id=e.getId()+","+e.getModel().id}}(),T=function(){function e(e,t,i,n,r,o){this.removedDocuments=e,this.addedDocuments=t,this.removedEditors=i,this.addedEditors=n,this.oldActiveEditor=r,this.newActiveEditor=o,this.isEmpty=0===this.removedDocuments.length&&0===this.addedDocuments.length&&0===this.removedEditors.length&&0===this.addedEditors.length&&r===o}return e.prototype.toString=function(){var e="DocumentAndEditorStateDelta\n";return e+="\tRemoved Documents: ["+this.removedDocuments.map(function(e){return e.uri.toString(!0)}).join(", ")+"]\n",e+="\tAdded Documents: ["+this.addedDocuments.map(function(e){return e.uri.toString(!0)}).join(", ")+"]\n",e+="\tRemoved Editors: ["+this.removedEditors.map(function(e){return e.id}).join(", ")+"]\n",e+="\tAdded Editors: ["+this.addedEditors.map(function(e){return e.id}).join(", ")+"]\n",e+="\tNew Active Editor: "+this.newActiveEditor+"\n"},e}(),R=function(){function e(e,t,i){
this.documents=e,this.textEditors=t,this.activeEditor=i}return e.compute=function(e,t){if(!e)return new T([],s.values(t.documents),[],s.values(t.textEditors),void 0,t.activeEditor);var i=x.ofSets(e.documents,t.documents),n=x.ofMaps(e.textEditors,t.textEditors),r=e.activeEditor!==t.activeEditor?e.activeEditor:void 0,o=e.activeEditor!==t.activeEditor?t.activeEditor:void 0;return new T(i.removed,i.added,n.removed,n.added,r,o)},e}(),A=function(){function e(e,t,i,n,r){var o=this;this._onDidChangeState=e,this._modelService=t,this._codeEditorService=i,this._editorService=n,this._panelService=r,this._toDispose=[],this._toDisposeOnEditorRemove=new Map,this._activeEditorOrder=0,this._modelService.onModelAdded(this._updateStateOnModelAdd,this,this._toDispose),this._modelService.onModelRemoved(function(e){return o._updateState()},this,this._toDispose),this._editorService.onDidActiveEditorChange(function(e){return o._updateState()},this,this._toDispose),
this._codeEditorService.onCodeEditorAdd(this._onDidAddEditor,this,this._toDispose),this._codeEditorService.onCodeEditorRemove(this._onDidRemoveEditor,this,this._toDispose),this._codeEditorService.listCodeEditors().forEach(this._onDidAddEditor,this),this._panelService.onDidPanelOpen(function(e){return o._activeEditorOrder=1},void 0,this._toDispose),this._panelService.onDidPanelClose(function(e){return o._activeEditorOrder=0},void 0,this._toDispose),this._editorService.onDidVisibleEditorsChange(function(e){return o._activeEditorOrder=0},void 0,this._toDispose),this._updateState()}return e.prototype.dispose=function(){this._toDispose=n.dispose(this._toDispose)},e.prototype._onDidAddEditor=function(e){var t=this;this._toDisposeOnEditorRemove.set(e.getId(),n.combinedDisposable([e.onDidChangeModel(function(){return t._updateState()}),e.onDidFocusEditorText(function(){return t._updateState()}),e.onDidFocusEditorWidget(function(){return t._updateState(e)})])),this._updateState()},
e.prototype._onDidRemoveEditor=function(e){var t=this._toDisposeOnEditorRemove.get(e.getId());t&&(this._toDisposeOnEditorRemove.delete(e.getId()),t.dispose(),this._updateState())},e.prototype._updateStateOnModelAdd=function(e){d.shouldSynchronizeModel(e)&&(this._currentState?(this._currentState=new R(this._currentState.documents.add(e),this._currentState.textEditors,this._currentState.activeEditor),this._onDidChangeState(new T([],[e],[],[],void 0,void 0))):this._updateState())},e.prototype._updateState=function(e){for(var t=new Set,i=0,n=this._modelService.getModels();i<n.length;i++){l=n[i];d.shouldSynchronizeModel(l)&&t.add(l)}for(var r=new Map,o=null,s=0,a=this._codeEditorService.listCodeEditors();s<a.length;s++){var c=a[s];if(!c.isSimpleWidget){var l;if((l=c.getModel())&&d.shouldSynchronizeModel(l)&&!l.isDisposed()&&Boolean(this._modelService.getModel(l.uri))){var u=new D(c);r.set(u.id,u),(c.hasTextFocus()||e===c&&c.hasWidgetFocus())&&(o=u.id)}}}if(!o){var p
;(p=0===this._activeEditorOrder?this._getActiveEditorFromEditorPart()||this._getActiveEditorFromPanel():this._getActiveEditorFromPanel()||this._getActiveEditorFromEditorPart())&&r.forEach(function(e){p===e.editor&&(o=e.id)})}var h=new R(t,r,o),f=R.compute(this._currentState,h);f.isEmpty||(this._currentState=h,this._onDidChangeState(f))},e.prototype._getActiveEditorFromPanel=function(){var e=this._panelService.getActivePanel();return e instanceof b.BaseTextEditor&&a.isCodeEditor(e.getControl())?e.getControl():void 0},e.prototype._getActiveEditorFromEditorPart=function(){var e=this._editorService.activeTextEditorWidget;return a.isDiffEditor(e)&&(e=e.getModifiedEditor()),e},e=r([o(1,d.IModelService),o(2,l.ICodeEditorService),o(3,E.IEditorService),o(4,C.IPanelService)],e)}(),O=function(){function e(e,t,n,r,o,s,a,c,l,u,d,p){var h=this;this._modelService=t,this._textFileService=n,this._editorService=r,this._editorGroupService=u,this._textEditors=Object.create(null),this._onTextEditorAdd=new i.Emitter,
this._onTextEditorRemove=new i.Emitter,this._onDocumentAdd=new i.Emitter,this._onDocumentRemove=new i.Emitter,this.onTextEditorAdd=this._onTextEditorAdd.event,this.onTextEditorRemove=this._onTextEditorRemove.event,this.onDocumentAdd=this._onDocumentAdd.event,this.onDocumentRemove=this._onDocumentRemove.event,this._proxy=e.getProxy(y.ExtHostContext.ExtHostDocumentsAndEditors);var f=new g.MainThreadDocuments(this,e,this._modelService,s,this._textFileService,a,c,l);e.set(y.MainContext.MainThreadDocuments,f);var v=new m.MainThreadTextEditors(this,e,o,d,this._editorService,this._editorGroupService);e.set(y.MainContext.MainThreadTextEditors,v),this._stateComputer=new A(function(e){return h._onDelta(e)},t,o,this._editorService,p),this._toDispose=[f,v,this._stateComputer,this._onTextEditorAdd,this._onTextEditorRemove,this._onDocumentAdd,this._onDocumentRemove]}return e.prototype.dispose=function(){this._toDispose=n.dispose(this._toDispose)},e.prototype._onDelta=function(e){var t,i=this,n=[],r=[]
;t=e.removedDocuments.map(function(e){return e.uri});for(var o=0,s=e.addedEditors;o<s.length;o++){var a=s[o],c=new v.MainThreadTextEditor(a.id,a.editor.getModel(),a.editor,{onGainedFocus:function(){},onLostFocus:function(){}},this._modelService);this._textEditors[a.id]=c,r.push(c)}for(var l=0,u=e.removedEditors;l<u.length;l++){var d=u[l].id;(c=this._textEditors[d])&&(c.dispose(),delete this._textEditors[d],n.push(d))}var p=Object.create(null),h=!0;void 0!==e.newActiveEditor&&(h=!1,p.newActiveEditor=e.newActiveEditor),t.length>0&&(h=!1,p.removedDocuments=t),n.length>0&&(h=!1,p.removedEditors=n),e.addedDocuments.length>0&&(h=!1,p.addedDocuments=e.addedDocuments.map(function(e){return i._toModelAddData(e)})),e.addedEditors.length>0&&(h=!1,p.addedEditors=r.map(function(e){return i._toTextEditorAddData(e)})),h||(this._proxy.$acceptDocumentsAndEditorsDelta(p),this._onDocumentRemove.fire(t),this._onDocumentAdd.fire(e.addedDocuments),this._onTextEditorRemove.fire(n),this._onTextEditorAdd.fire(r))},
e.prototype._toModelAddData=function(e){return{uri:e.uri,versionId:e.getVersionId(),lines:e.getLinesContent(),EOL:e.getEOL(),modeId:e.getLanguageIdentifier().language,isDirty:this._textFileService.isDirty(e.uri)}},e.prototype._toTextEditorAddData=function(e){var t=e.getProperties();return{id:e.getId(),documentUri:e.getModel().uri,options:t.options,selections:t.selections,visibleRanges:t.visibleRanges,editorPosition:this._findEditorPosition(e)}},e.prototype._findEditorPosition=function(e){for(var t=0,i=this._editorService.visibleControls;t<i.length;t++){var n=i[t];if(e.matches(n))return S.editorGroupToViewColumn(this._editorGroupService,n.group)}},e.prototype.findTextEditorIdFor=function(e){for(var t in this._textEditors)if(this._textEditors[t].matches(e))return t},e.prototype.getEditor=function(e){return this._textEditors[e]},
e=r([f.extHostCustomer,o(1,d.IModelService),o(2,w.ITextFileService),o(3,E.IEditorService),o(4,l.ICodeEditorService),o(5,u.IModeService),o(6,h.IFileService),o(7,p.ITextModelService),o(8,I.IUntitledEditorService),o(9,_.IEditorGroupsService),o(10,c.IBulkEditService),o(11,C.IPanelService)],e)}();t.MainThreadDocumentsAndEditors=O}),define(e[86],t([1,0,178,33,16,42,6,31,101,32,56,9,150,240,97,166,20,19,4,63,24,10,3,8]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x){"use strict";function D(e,i){var n=[];if(e.dataTransfer.types.length>0){if(!i){var r=e.dataTransfer.getData(t.CodeDataTransfers.EDITORS);if(r)try{JSON.parse(r).forEach(function(e){n.push({resource:l.URI.parse(e.resource),backupResource:e.backupResource?l.URI.parse(e.backupResource):void 0,viewState:e.viewState,isExternal:!1})})}catch(e){}else try{var o=e.dataTransfer.getData(g.DataTransfers.RESOURCES);if(o){var s=JSON.parse(o);n.push.apply(n,s.map(function(e){return{resource:l.URI.parse(e),isExternal:!1}}))}}catch(e){}}
if(e.dataTransfer&&e.dataTransfer.files)for(var a=function(t){var i=e.dataTransfer.files[t];if(i&&i.path&&!n.some(function(e){return e.resource.fsPath===i.path}))try{n.push({resource:l.URI.file(i.path),isExternal:!0})}catch(e){}},c=0;c<e.dataTransfer.files.length;c++)a(c);var u=e.dataTransfer.getData(t.CodeDataTransfers.FILES);if(u)try{JSON.parse(u).forEach(function(e){n.some(function(t){return t.resource.fsPath===e})||n.push({resource:l.URI.file(e),isExternal:!0})})}catch(e){}}return n}function T(e,i,n){if(0!==i.length){var r=i.map(function(e){return l.URI.isUri(e)?{resource:e,isDirectory:!1}:e}),o=r[0],a=S.isWindows?"\r\n":"\n";n.dataTransfer.setData(g.DataTransfers.TEXT,r.map(function(e){return e.resource.scheme===p.Schemas.file?s.normalize(m.normalizeDriveLetter(e.resource.fsPath),!0):e.resource.toString()}).join(a)),o.resource.scheme===p.Schemas.file&&n.dataTransfer.setData(g.DataTransfers.DOWNLOAD_URL,[y.MIME_BINARY,s.basename(o.resource.fsPath),o.resource.toString()].join(":"))
;var c=r.filter(function(e){return!e.isDirectory});c.length&&n.dataTransfer.setData(g.DataTransfers.RESOURCES,JSON.stringify(c.map(function(e){return e.resource.toString()})));var h=e.get(u.ITextFileService),f=e.get(d.IBackupFileService),v=e.get(w.IEditorService),b=[];c.forEach(function(e){for(var t,i=v.visibleTextEditorWidgets,n=0;n<i.length;n++){var r=i[n];if(_.isCodeEditor(r)){var o=r.getModel();if(o&&o.uri&&o.uri.toString()===e.resource.toString()){t=r.saveViewState();break}}}b.push({resource:e.resource.toString(),backupResource:h.isDirty(e.resource)?f.toBackupResource(e.resource).toString():void 0,viewState:t})}),b.length&&n.dataTransfer.setData(t.CodeDataTransfers.EDITORS,JSON.stringify(b))}}Object.defineProperty(t,"__esModule",{value:!0});var R=function(){function e(e){this._identifier=e}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this._identifier},enumerable:!0,configurable:!0}),e}();t.DraggedEditorIdentifier=R;var A=function(){function e(e){this._identifier=e}
return Object.defineProperty(e.prototype,"identifier",{get:function(){return this._identifier},enumerable:!0,configurable:!0}),e}();t.DraggedEditorGroupIdentifier=A,t.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"},t.extractResources=D;var O=function(){function e(e,t,i,n,r,o,s,a,c,l){this.options=e,this.fileService=t,this.windowsService=i,this.windowService=n,this.workspacesService=r,this.textFileService=o,this.backupFileService=s,this.untitledEditorService=a,this.editorService=c,this.configurationService=l}return e.prototype.handleDrop=function(e,t,i,n){var r=this,o=D(e).filter(function(e){return r.fileService.canHandleResource(e.resource)||e.resource.scheme===p.Schemas.untitled});o.length&&this.windowService.focusWindow().then(function(){return r.doHandleDrop(o).then(function(e){if(!e){var s=o.filter(function(e){return e.isExternal&&e.resource.scheme===p.Schemas.file}).map(function(e){return e.resource});s.length&&r.windowsService.addRecentlyOpened(s);var a=o.map(function(e){return{
resource:e.resource,options:{pinned:!0,index:n,viewState:e.viewState}}}),c=t();return r.editorService.openEditors(a,c).then(function(){i(c)})}})})},e.prototype.doHandleDrop=function(e){var t=this,i=e.filter(function(e){return!e.isExternal&&!!e.backupResource});if(i.length>0)return Promise.all(i.map(function(e){return t.handleDirtyEditorDrop(e)})).then(function(){return!1});if(this.options.allowWorkspaceOpen){var n=e.filter(function(e){return e.isExternal&&e.resource.scheme===p.Schemas.file}).map(function(e){return e.resource});if(n.length>0)return this.handleWorkspaceFileDrop(n)}return Promise.resolve(!1)},e.prototype.handleDirtyEditorDrop=function(e){var t=this;return e.resource.scheme===p.Schemas.untitled&&(e.resource=this.untitledEditorService.createOrGet().getResource()),this.textFileService.isDirty(e.resource)||this.editorService.isOpen({resource:e.resource})?Promise.resolve(!1):this.backupFileService.resolveBackupContent(e.backupResource).then(function(i){
return t.backupFileService.backupResource(e.resource,i.create(t.getDefaultEOL()).createSnapshot(!0))}).then(function(){return!1},function(){return!1})},e.prototype.getDefaultEOL=function(){return"\r\n"===this.configurationService.getValue("files.eol")?2:1},e.prototype.handleWorkspaceFileDrop=function(e){var t=this,i={workspaces:[],folders:[]};return Promise.all(e.map(function(e){if(s.extname(e.fsPath)!=="."+n.WORKSPACE_EXTENSION)return t.fileService.resolveFile(e).then(function(e){e.isDirectory&&i.folders.push(e.resource)},function(e){});i.workspaces.push(e)})).then(function(e){var n=i.workspaces,r=i.folders;if(0===n.length&&0===r.length)return!1;t.windowService.focusWindow();var o;return n.length>0||1===r.length?o=Promise.resolve(n.concat(r).map(function(e){return e})):r.length>1&&(o=t.workspacesService.createWorkspace(r.map(function(e){return{uri:e}})).then(function(e){return[l.URI.file(e.configPath)]})),o.then(function(e){t.windowService.openWindow(e,{forceReuseWindow:!0})}),!0})},
e=r([o(1,a.IFileService),o(2,c.IWindowsService),o(3,c.IWindowService),o(4,n.IWorkspacesService),o(5,u.ITextFileService),o(6,d.IBackupFileService),o(7,h.IUntitledEditorService),o(8,w.IEditorService),o(9,f.IConfigurationService)],e)}();t.ResourcesDropHandler=O;var k=function(e){function t(t,i){var n=e.call(this)||this;return n.toResource=t,n.instantiationService=i,n}return i(t,e),t.prototype.getDragURI=function(e,t){var i=this.toResource(t);if(i)return i.toString()},t.prototype.getDragLabel=function(e,t){if(t.length>1)return String(t.length);var i=this.toResource(t[0]);return i?C.basenameOrAuthority(i):void 0},t.prototype.onDragStart=function(e,t,i){var n=this,r=t.getData().map(function(e){return n.toResource(e)});r&&this.instantiationService.invokeFunction(T,b.coalesce(r),i)},t=r([o(1,E.IInstantiationService)],t)}(v.DefaultDragAndDrop);t.SimpleFileResourceDragAndDrop=k,t.fillResourceDataTransfers=T;var M=function(){function e(){}return e.getInstance=function(){return e.INSTANCE},
e.prototype.hasData=function(e){return e&&e===this.proto},e.prototype.clearData=function(e){this.hasData(e)&&(this.proto=void 0,this.data=void 0)},e.prototype.getData=function(e){if(this.hasData(e))return this.data},e.prototype.setData=function(e,t){t&&(this.data=e,this.proto=t)},e.INSTANCE=new e,e}();t.LocalSelectionTransfer=M;var P=function(e){function t(t,i){var n=e.call(this)||this;return n.element=t,n.callbacks=i,n.counter=0,n.registerListeners(),n}return i(t,e),t.prototype.registerListeners=function(){var e=this;this._register(x.addDisposableListener(this.element,x.EventType.DRAG_ENTER,function(t){e.counter++,e.callbacks.onDragEnter(t)})),this._register(x.addDisposableListener(this.element,x.EventType.DRAG_OVER,function(t){t.preventDefault(),t.stopPropagation(),e.callbacks.onDragOver&&e.callbacks.onDragOver(t)})),this._register(x.addDisposableListener(this.element,x.EventType.DRAG_LEAVE,function(t){e.counter--,0===e.counter&&e.callbacks.onDragLeave(t)})),
this._register(x.addDisposableListener(this.element,x.EventType.DRAG_END,function(t){e.counter=0,e.callbacks.onDragEnd(t)})),this._register(x.addDisposableListener(this.element,x.EventType.DROP,function(t){e.counter=0,e.callbacks.onDrop(t)}))},t}(I.Disposable);t.DragAndDropObserver=P}),define(e[102],t([1,0,24,204,45,36,17,171,21,9,38,56,146,32,16,12,5,55,113]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this,t,i)||this;return u.extensionService=n,u.configurationService=r,u.modeService=o,u.modelService=s,u.decorationsService=a,u.themeService=c,u.labelService=l,u._onDidRender=u._register(new S.Emitter),u.registerListeners(),u}return i(t,e),Object.defineProperty(t.prototype,"onDidRender",{get:function(){return this._onDidRender.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this
;this._register(this.extensionService.onDidRegisterExtensions(function(){return e.render(!0)})),this._register(this.modelService.onModelModeChanged(function(t){return e.onModelModeChanged(t)})),this._register(this.decorationsService.onDidChangeDecorations(this.onFileDecorationsChanges,this)),this._register(this.themeService.onThemeChange(function(){return e.render(!1)})),this._register(this.configurationService.onDidChangeConfiguration(function(t){t.affectsConfiguration(m.FILES_ASSOCIATIONS_CONFIG)&&e.render(!0)}))},t.prototype.onModelModeChanged=function(e){this.label&&this.label.resource&&e.model.uri&&(e.model.uri.scheme===v.Schemas.file&&e.oldModeId===u.PLAINTEXT_MODE_ID||e.model.uri.toString()===this.label.resource.toString()&&this.lastKnownConfiguredLangId!==e.model.getLanguageIdentifier().language&&this.render(!0))},t.prototype.onFileDecorationsChanges=function(e){this.options&&this.label&&this.label.resource&&this.options.fileDecorations&&e.affectsResource(this.label.resource)&&this.render(!1)},
t.prototype.setLabel=function(e,t){var i=this.hasResourceChanged(e,t);this.label=e,this.options=t,i&&(this.computedPathLabel=void 0),this.render(i)},t.prototype.hasResourceChanged=function(e,t){var i=e?e.resource:void 0,n=this.label?this.label.resource:void 0;return(t?t.fileKind:void 0)!==(this.options?this.options.fileKind:void 0)||(!(!i||this.computedPathLabel===this.labelService.getUriLabel(i))||(i&&n?i.toString()!==n.toString():!(!i&&!n)))},t.prototype.clear=function(){this.label=void 0,this.options=void 0,this.lastKnownConfiguredLangId=void 0,this.computedIconClasses=void 0,this.computedPathLabel=void 0,this.setValue()},t.prototype.render=function(e){var t;if(this.label){var i=E.getConfiguredLangId(this.modelService,this.label.resource);this.lastKnownConfiguredLangId!==i&&(e=!0,this.lastKnownConfiguredLangId=i)}if(e&&(this.computedIconClasses=void 0),this.label){var n={title:"",italic:this.options&&this.options.italic,matches:this.options&&this.options.matches,extraClasses:[]
},r=this.label.resource,o=this.label.name;if(this.options&&"string"==typeof this.options.title?n.title=this.options.title:r&&r.scheme!==v.Schemas.data&&(this.computedPathLabel||(this.computedPathLabel=this.labelService.getUriLabel(r)),n.title=this.computedPathLabel),this.options&&!this.options.hideIcon&&(this.computedIconClasses||(this.computedIconClasses=E.getIconClasses(this.modelService,this.modeService,r,this.options&&this.options.fileKind)),n.extraClasses=this.computedIconClasses.slice(0)),this.options&&this.options.extraClasses&&(t=n.extraClasses).push.apply(t,this.options.extraClasses),this.options&&this.options.fileDecorations&&r){var s=this.decorationsService.getDecoration(r,this.options.fileKind!==m.FileKind.FILE,this.options.fileDecorations.data);s&&(s.tooltip&&(n.title=n.title+"  "+s.tooltip),this.options.fileDecorations.colors&&n.extraClasses.push(s.labelClassName),this.options.fileDecorations.badges&&n.extraClasses.push(s.badgeClassName))}this.setValue(o,this.label.description,n),
this._onDidRender.fire()}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.label=void 0,this.options=void 0,this.lastKnownConfiguredLangId=void 0,this.computedIconClasses=void 0,this.computedPathLabel=void 0},t=r([o(2,a.IExtensionService),o(3,p.IConfigurationService),o(4,c.IModeService),o(5,h.IModelService),o(6,g.IDecorationsService),o(7,y.IThemeService),o(8,b.ILabelService)],t)}(s.IconLabel);t.ResourceLabel=_;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.setEditor=function(e,t){this.setLabel({resource:l.toResource(e,{supportSideBySide:!0}),name:e.getName(),description:e.getDescription()},t)},t}(_);t.EditorLabel=C;var w=function(e){function t(t,i,n,r,o,s,a,c,l,u,d){var p=e.call(this,t,i,n,o,s,a,c,l,d)||this;return p.contextService=r,p.untitledEditorService=u,p}return i(t,e),t.prototype.setFile=function(e,t){var i;if(!(t&&t.hideLabel)){if(t&&t.fileKind===m.FileKind.ROOT_FOLDER){var r=this.contextService.getWorkspaceFolder(e)
;r&&(i=r.name)}i||(i=n.basenameOrAuthority(e))}var o;t&&t.hidePath||e.scheme===v.Schemas.untitled&&!this.untitledEditorService.hasAssociatedFilePath(e)||(o=this.labelService.getUriLabel(n.dirname(e),{relative:!0})),this.setLabel({resource:e,name:i,description:o},t)},t=r([o(2,a.IExtensionService),o(3,d.IWorkspaceContextService),o(4,p.IConfigurationService),o(5,c.IModeService),o(6,h.IModelService),o(7,g.IDecorationsService),o(8,y.IThemeService),o(9,f.IUntitledEditorService),o(10,b.ILabelService)],t)}(_);t.FileLabel=w}),define(e[192],t([1,0,2,14,8,53,34,3,37,12,132,4,27,150,43,5,86]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=function(e){function t(t){var i=e.call(this,t.id,t.name,t.cssClass)||this;return i._activity=t,i._onDidChangeActivity=new y.Emitter,i._onDidChangeBadge=new y.Emitter,i.badge=null,i}return i(t,e),Object.defineProperty(t.prototype,"onDidChangeActivity",{get:function(){return this._onDidChangeActivity.event},enumerable:!0,
configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeBadge",{get:function(){return this._onDidChangeBadge.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activity",{get:function(){return this._activity},set:function(e){this._activity=e,this._onDidChangeActivity.fire(this)},enumerable:!0,configurable:!0}),t.prototype.activate=function(){this.checked||this._setChecked(!0)},t.prototype.deactivate=function(){this.checked&&this._setChecked(!1)},t.prototype.getBadge=function(){return this.badge},t.prototype.getClass=function(){return this.clazz},t.prototype.setBadge=function(e,t){this.badge=e,this.clazz=t,this._onDidChangeBadge.fire(this)},t.prototype.dispose=function(){this._onDidChangeActivity.dispose(),this._onDidChangeBadge.dispose(),e.prototype.dispose.call(this)},t}(s.Action);t.ActivityAction=b;var E=function(e){function t(t,i,n){var r=e.call(this,null,t,i)||this;return r.themeService=n,r.badgeDisposable=u.Disposable.None,
r._register(r.themeService.onThemeChange(r.onThemeChange,r)),r._register(t.onDidChangeActivity(r.updateActivity,r)),r._register(t.onDidChangeBadge(r.updateBadge,r)),r}return i(t,e),Object.defineProperty(t.prototype,"activity",{get:function(){return this._action.activity},enumerable:!0,configurable:!0}),t.prototype.updateStyles=function(){var e=this.themeService.getTheme(),t=this.options.colors(e);if(this.label)if(this.options.icon){i=this._action.checked?t.activeBackgroundColor||t.activeForegroundColor:t.inactiveBackgroundColor||t.inactiveForegroundColor;this.label.style.backgroundColor=i?i.toString():null}else{var i=this._action.checked?t.activeForegroundColor:t.inactiveForegroundColor,n=this._action.checked?t.activeBorderBottomColor:null;this.label.style.color=i?i.toString():null,this.label.style.borderBottomColor=n?n.toString():null}if(this.badgeContent){var r=t.badgeForeground,o=t.badgeBackground,s=e.getColor(g.contrastBorder);this.badgeContent.style.color=r?r.toString():null,
this.badgeContent.style.backgroundColor=o?o.toString():null,this.badgeContent.style.borderStyle=s?"solid":null,this.badgeContent.style.borderWidth=s?"1px":null,this.badgeContent.style.borderColor=s?s.toString():null}},t.prototype.render=function(t){var i=this;e.prototype.render.call(this,t),this.container=t,this.container.tabIndex=0,this.container.setAttribute("role",this.options.icon?"button":"tab"),this._register(a.addDisposableListener(this.container,a.EventType.MOUSE_DOWN,function(){a.addClass(i.container,"clicked")})),this._register(a.addDisposableListener(this.container,a.EventType.MOUSE_UP,function(){i.mouseUpTimeout&&clearTimeout(i.mouseUpTimeout),i.mouseUpTimeout=setTimeout(function(){a.removeClass(i.container,"clicked")},800)})),this.label=a.append(this.element,a.$("a.action-label")),this.badge=a.append(this.element,a.$(".badge")),this.badgeContent=a.append(this.badge,a.$(".badge-content")),a.hide(this.badge),this.updateActivity(),this.updateStyles()},t.prototype.onThemeChange=function(e){
this.updateStyles()},t.prototype.updateActivity=function(){this.updateLabel(),this.updateTitle(this.activity.name),this.updateBadge()},t.prototype.updateBadge=function(){var e=this,t=this.getAction();if(this.badge&&this.badgeContent&&t instanceof b){var i=t.getBadge(),r=t.getClass();if(this.badgeDisposable.dispose(),this.badgeDisposable=u.Disposable.None,a.clearNode(this.badgeContent),a.hide(this.badge),i){if(i instanceof h.NumberBadge){if(i.number){var o=i.number.toString();if(i.number>999){var s=i.number/1e3,c=Math.floor(s);o=s>c?n.localize("largeNumberBadge1","{0}k+",c):n.localize("largeNumberBadge2","{0}k",s)}this.badgeContent.textContent=o,a.show(this.badge)}}else i instanceof h.TextBadge?(this.badgeContent.textContent=i.text,a.show(this.badge)):i instanceof h.IconBadge?a.show(this.badge):i instanceof h.ProgressBadge&&a.show(this.badge);r&&(a.addClasses(this.badge,r),this.badgeDisposable=u.toDisposable(function(){return a.removeClasses(e.badge,r)}))}var l
;l=i&&i.getDescription()?this.activity.name?n.localize("badgeTitle","{0} - {1}",this.activity.name,i.getDescription()):i.getDescription():this.activity.name,this.updateTitle(l)}},t.prototype.updateLabel=function(){this.activity.cssClass&&a.addClasses(this.label,this.activity.cssClass),this.options.icon||(this.label.textContent=this.getAction().label)},t.prototype.updateTitle=function(e){[this.label,this.badge,this.container].forEach(function(t){t&&(t.setAttribute("aria-label",e),t.title=e)})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.badge.remove()},t=r([o(2,p.IThemeService)],t)}(c.BaseActionItem);t.ActivityActionItem=E;var _=function(e){function t(t){var i=e.call(this,{id:"additionalComposites.action",name:n.localize("additionalViews","Additional Views"),cssClass:"toggle-more"})||this;return i.showMenu=t,i}return i(t,e),t.prototype.run=function(e){return this.showMenu(),Promise.resolve(!0)},t}(b)
;t.CompositeOverflowActivityAction=_;var C=function(e){function t(t,i,n,r,o,s,a,c){var l=e.call(this,t,{icon:!0,colors:s},c)||this;return l.getOverflowingComposites=i,l.getActiveCompositeId=n,l.getBadge=r,l.getCompositeOpenAction=o,l.contextMenuService=a,l}return i(t,e),t.prototype.showMenu=function(){var e=this;this.actions&&u.dispose(this.actions),this.actions=this.getActions(),this.contextMenuService.showContextMenu({getAnchor:function(){return e.element},getActions:function(){return e.actions},onHide:function(){return u.dispose(e.actions)}})},t.prototype.getActions=function(){var e=this;return this.getOverflowingComposites().map(function(t){var i=e.getCompositeOpenAction(t.id);i.radio=e.getActiveCompositeId()===i.id;var r,o=e.getBadge(t.id);return o instanceof h.NumberBadge?r=o.number:o instanceof h.TextBadge&&(r=o.text),i.label=r?n.localize("numberBadge","{0} ({1})",t.name,r):t.name,i})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.actions=u.dispose(this.actions)},
t=r([o(6,d.IContextMenuService),o(7,p.IThemeService)],t)}(E);t.CompositeOverflowActivityActionItem=C;var w=function(e){function t(t){var i=e.call(this,"activitybar.manage.extension",n.localize("manageExtension","Manage Extension"))||this;return i.commandService=t,i}return i(t,e),t.prototype.run=function(e){return this.commandService.executeCommand("_extensions.manage",e)},t=r([o(0,l.ICommandService)],t)}(s.Action),I=function(){function e(e){this._compositeId=e}return Object.defineProperty(e.prototype,"id",{get:function(){return this._compositeId},enumerable:!0,configurable:!0}),e}();t.DraggedCompositeIdentifier=I;var x=function(e){function t(i,n,r,o,s,a,c,l,u,d){var p=e.call(this,i,{draggable:!0,colors:o,icon:s},d)||this;return p.compositeActivityAction=i,p.toggleCompositePinnedAction=n,p.contextMenuActionsProvider=r,p.compositeBar=a,p.contextMenuService=c,p.keybindingService=l,p.cssClass=i.class,p.compositeTransfer=S.LocalSelectionTransfer.getInstance(),
t.manageExtensionAction||(t.manageExtensionAction=u.createInstance(w)),p._register(i.onDidChangeActivity(function(){p.compositeActivity=null,p.updateActivity()},p)),p}return i(t,e),Object.defineProperty(t.prototype,"activity",{get:function(){if(!this.compositeActivity){var e=void 0,t=this.getKeybindingLabel(this.compositeActivityAction.activity.keybindingId);e=t?n.localize("titleKeybinding","{0} ({1})",this.compositeActivityAction.activity.name,t):this.compositeActivityAction.activity.name,this.compositeActivity={id:this.compositeActivityAction.activity.id,cssClass:this.cssClass,name:e}}return this.compositeActivity},enumerable:!0,configurable:!0}),t.prototype.getKeybindingLabel=function(e){var t=this.keybindingService.lookupKeybinding(e);return t?t.getLabel():null},t.prototype.render=function(t){var i=this;e.prototype.render.call(this,t),this.updateChecked(),this.updateEnabled(),this._register(a.addDisposableListener(this.container,a.EventType.CONTEXT_MENU,function(e){a.EventHelper.stop(e,!0),
i.showContextMenu(t)})),this._register(a.addDisposableListener(this.container,a.EventType.DRAG_START,function(e){e.dataTransfer.effectAllowed="move",i.compositeTransfer.setData([new I(i.activity.id)],I.prototype),i.getAction().checked||i.getAction().run()})),this._register(new S.DragAndDropObserver(this.container,{onDragEnter:function(e){i.compositeTransfer.hasData(I.prototype)&&i.compositeTransfer.getData(I.prototype)[0].id!==i.activity.id&&i.updateFromDragging(t,!0)},onDragLeave:function(e){i.compositeTransfer.hasData(I.prototype)&&i.updateFromDragging(t,!1)},onDragEnd:function(e){i.compositeTransfer.hasData(I.prototype)&&(i.updateFromDragging(t,!1),i.compositeTransfer.clearData(I.prototype))},onDrop:function(e){if(a.EventHelper.stop(e,!0),i.compositeTransfer.hasData(I.prototype)){var n=i.compositeTransfer.getData(I.prototype)[0].id;n!==i.activity.id&&(i.updateFromDragging(t,!1),i.compositeTransfer.clearData(I.prototype),i.compositeBar.move(n,i.activity.id))}}})),[this.badge,this.label].forEach(function(e){
return new v.DelayedDragHandler(e,function(){i.compositeTransfer.hasData(I.prototype)||i.getAction().checked||i.getAction().run()})}),this.updateStyles()},t.prototype.updateFromDragging=function(e,t){var i=this.themeService.getTheme(),n=this.options.colors(i).dragAndDropBackground;e.style.backgroundColor=t&&n?n.toString():null},t.prototype.showContextMenu=function(e){var i=this,r=[this.toggleCompositePinnedAction];this.compositeActivityAction.activity.extensionId&&(r.push(new c.Separator),r.push(t.manageExtensionAction));this.compositeBar.isPinned(this.activity.id)?(this.toggleCompositePinnedAction.label=n.localize("hide","Hide"),this.toggleCompositePinnedAction.checked=!1):this.toggleCompositePinnedAction.label=n.localize("keep","Keep");var o=this.contextMenuActionsProvider();o.length&&(r.push(new c.Separator),r.push.apply(r,o));var s=a.getDomNodePagePosition(e),l={x:Math.floor(s.left+s.width/2),y:s.top+s.height};this.contextMenuService.showContextMenu({getAnchor:function(){return l},
getActionsContext:function(){return i.activity.id},getActions:function(){return r}})},t.prototype.focus=function(){this.container.focus()},t.prototype.updateClass=function(){this.cssClass&&a.removeClasses(this.label,this.cssClass),this.cssClass=this.getAction().class,this.cssClass&&a.addClasses(this.label,this.cssClass)},t.prototype.updateChecked=function(){this.getAction().checked?(a.addClass(this.container,"checked"),this.container.setAttribute("aria-label",n.localize("compositeActive","{0} active",this.container.title))):(a.removeClass(this.container,"checked"),this.container.setAttribute("aria-label",this.container.title)),this.updateStyles()},t.prototype.updateEnabled=function(){this.getAction().enabled?a.removeClass(this.element,"disabled"):a.addClass(this.element,"disabled")},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.compositeTransfer.clearData(I.prototype),this.label.remove()},
t=r([o(6,d.IContextMenuService),o(7,m.IKeybindingService),o(8,f.IInstantiationService),o(9,p.IThemeService)],t)}(E);t.CompositeActionItem=x;var D=function(e){function t(t,i){var r=e.call(this,"show.toggleCompositePinned",t?t.name:n.localize("toggle","Toggle View Pinned"))||this;return r.activity=t,r.compositeBar=i,r.checked=r.activity&&r.compositeBar.isPinned(r.activity.id),r}return i(t,e),t.prototype.run=function(e){var t=this.activity?this.activity.id:e;return this.compositeBar.isPinned(t)?this.compositeBar.unpin(t):this.compositeBar.pin(t),Promise.resolve(!0)},t}(s.Action);t.ToggleCompositePinnedAction=D}),define(e[521],t([1,0,2,18,19,3,28,4,53,192,8,105,37,98,29,86]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.options=t,o.instantiationService=i,o.contextMenuService=r,o.model=new b(t,n),o.visibleComposites=[],o.compositeSizeInBar=new Map,
o.compositeTransfer=y.LocalSelectionTransfer.getInstance(),o}return i(t,e),t.prototype.getComposites=function(){return this.model.items.slice()},t.prototype.getPinnedComposites=function(){return this.model.pinnedItems},t.prototype.create=function(e){var t=this,i=e.appendChild(h.$(".composite-bar"));return this.compositeSwitcherBar=this._register(new d.ActionBar(i,{actionItemProvider:function(e){if(e instanceof p.CompositeOverflowActivityAction)return t.compositeOverflowActionItem;var i=t.model.findItem(e.id);return i&&t.instantiationService.createInstance(p.CompositeActionItem,e,i.pinnedAction,function(){return t.getContextMenuActions()},t.options.colors,t.options.icon,t)},orientation:this.options.orientation,ariaLabel:n.localize("activityBarAriaLabel","Active View Switcher"),animated:!1})),this._register(h.addDisposableListener(e,h.EventType.CONTEXT_MENU,function(e){return t.showContextMenu(e)})),this._register(h.addDisposableListener(e,h.EventType.DROP,function(e){
if(t.compositeTransfer.hasData(p.DraggedCompositeIdentifier.prototype)){h.EventHelper.stop(e,!0);var i=t.compositeTransfer.getData(p.DraggedCompositeIdentifier.prototype)[0].id;t.compositeTransfer.clearData(p.DraggedCompositeIdentifier.prototype);var n=t.model.visibleItems[t.model.visibleItems.length-1];n&&n.id!==i&&t.move(i,n.id)}})),i},t.prototype.layout=function(e){this.dimension=e,0!==e.height&&0!==e.width&&(0===this.compositeSizeInBar.size&&this.computeSizes(this.model.visibleItems),this.updateCompositeSwitcher())},t.prototype.addComposite=function(e){var t=e.id,i=e.name,n=e.order;this.model.add(t,i,n)&&(this.computeSizes([this.model.findItem(t)]),this.updateCompositeSwitcher())},t.prototype.removeComposite=function(e){this.isPinned(e)&&this.unpin(e),this.model.remove(e)&&this.updateCompositeSwitcher()},t.prototype.hideComposite=function(e){this.model.hide(e)&&(this.resetActiveComposite(e),this.updateCompositeSwitcher())},t.prototype.activateComposite=function(e){var t=this.model.activeItem
;this.model.activate(e)&&(-1===this.visibleComposites.indexOf(e)||!this.model.activeItem.pinned||t&&!t.pinned)&&this.updateCompositeSwitcher()},t.prototype.deactivateComposite=function(e){var t=this.model.activeItem;this.model.deactivate()&&t&&!t.pinned&&this.updateCompositeSwitcher()},t.prototype.showActivity=function(e,t,i,n){var r=this;if(!t)throw s.illegalArgument("badge");"number"!=typeof n&&(n=0);var o={badge:t,clazz:i,priority:n};return this.model.addActivity(e,o),c.toDisposable(function(){return r.model.removeActivity(e,o)})},t.prototype.pin=function(e,t){var i=this;this.model.setPinned(e,!0)&&(this.updateCompositeSwitcher(),t&&this.options.openComposite(e).then(function(){return i.activateComposite(e)}))},t.prototype.unpin=function(e){this.model.setPinned(e,!1)&&(this.updateCompositeSwitcher(),this.resetActiveComposite(e))},t.prototype.resetActiveComposite=function(e){var t=this.options.getDefaultCompositeId();this.model.activeItem&&this.model.activeItem.id===e&&(this.deactivateComposite(e),
t!==e&&this.isPinned(t)?this.options.openComposite(t):1===this.visibleComposites.length?this.options.hidePart():this.options.openComposite(this.visibleComposites.filter(function(t){return t!==e})[0]))},t.prototype.isPinned=function(e){var t=this.model.findItem(e);return t&&t.pinned},t.prototype.move=function(e,t){var i=this;this.model.move(e,t)&&setTimeout(function(){return i.updateCompositeSwitcher()},0)},t.prototype.getAction=function(e){var t=this.model.findItem(e);return t&&t.activityAction},t.prototype.computeSizes=function(e){var t=this,i=this.options.compositeSize;if(i)e.forEach(function(e){return t.compositeSizeInBar.set(e.id,i)});else if(this.dimension&&0!==this.dimension.height&&0!==this.dimension.width){var n=this.compositeSwitcherBar.items.length;this.compositeSwitcherBar.push(e.map(function(e){return e.activityAction})),e.map(function(e,i){return t.compositeSizeInBar.set(e.id,2===t.options.orientation?t.compositeSwitcherBar.getHeight(n+i):t.compositeSwitcherBar.getWidth(n+i))}),
e.forEach(function(){return t.compositeSwitcherBar.pull(t.compositeSwitcherBar.items.length-1)})}},t.prototype.updateCompositeSwitcher=function(){var e=this;if(this.compositeSwitcherBar&&this.dimension){for(var t=this.model.visibleItems.filter(function(t){return t.pinned||e.model.activeItem&&e.model.activeItem.id===t.id}).map(function(e){return e.id}),i=!1,n=t.length,r=0,o=2===this.options.orientation?this.dimension.height:this.dimension.width,s=0;s<t.length&&r<=o;s++)(r+=this.compositeSizeInBar.get(t[s]))>o&&(n=s);if((i=t.length>n)&&(r-=this.compositeSizeInBar.get(t[n]),t=t.slice(0,n),r+=this.options.overflowActionSize),r>o&&(r-=this.compositeSizeInBar.get(t.pop())),this.model.activeItem&&t.every(function(t){return t!==e.model.activeItem.id})){var c=t.pop();r=r-this.compositeSizeInBar.get(c)+this.compositeSizeInBar.get(this.model.activeItem.id),t.push(this.model.activeItem.id)}r>o&&(t.length?t.splice(t.length-2,1):t.pop());var l=!a.equals(t,this.visibleComposites)
;this.compositeOverflowAction&&l&&(this.compositeSwitcherBar.pull(this.compositeSwitcherBar.length()-1),this.compositeOverflowAction.dispose(),this.compositeOverflowAction=null,this.compositeOverflowActionItem.dispose(),this.compositeOverflowActionItem=null);var u=[];this.visibleComposites.forEach(function(e,i){-1===t.indexOf(e)&&u.push(i)}),u.reverse().forEach(function(t){var i=e.compositeSwitcherBar.items[t];e.compositeSwitcherBar.pull(t),i.dispose(),e.visibleComposites.splice(t,1)}),t.forEach(function(t,i){var n=e.visibleComposites.indexOf(t);if(i!==n){if(-1!==n){var r=e.compositeSwitcherBar.items[n];e.compositeSwitcherBar.pull(n),r.dispose(),e.visibleComposites.splice(n,1)}e.compositeSwitcherBar.push(e.model.findItem(t).activityAction,{label:!0,icon:e.options.icon,index:i}),e.visibleComposites.splice(i,0,t)}}),(l&&i||0===this.compositeSwitcherBar.length())&&(this.compositeOverflowAction=this.instantiationService.createInstance(p.CompositeOverflowActivityAction,function(){
return e.compositeOverflowActionItem.showMenu()}),this.compositeOverflowActionItem=this.instantiationService.createInstance(p.CompositeOverflowActivityActionItem,this.compositeOverflowAction,function(){return e.getOverflowingComposites()},function(){return e.model.activeItem?e.model.activeItem.id:void 0},function(t){var i=e.model.findItem(t);return i&&i.activity[0]&&i.activity[0].badge},this.options.getOnCompositeClickAction,this.options.colors),this.compositeSwitcherBar.push(this.compositeOverflowAction,{label:!1,icon:!0})),this.model.saveState()}},t.prototype.getOverflowingComposites=function(){var e=this,t=this.model.visibleItems.filter(function(e){return e.pinned}).map(function(e){return e.id});return this.model.activeItem&&!this.model.activeItem.pinned&&t.push(this.model.activeItem.id),t=t.filter(function(t){return-1===e.visibleComposites.indexOf(t)}),this.model.visibleItems.filter(function(e){return-1!==t.indexOf(e.id)})},t.prototype.showContextMenu=function(e){var t=this;h.EventHelper.stop(e,!0)
;var i=new f.StandardMouseEvent(e);this.contextMenuService.showContextMenu({getAnchor:function(){return{x:i.posx,y:i.posy}},getActions:function(){return t.getContextMenuActions()}})},t.prototype.getContextMenuActions=function(){var e=this,t=this.model.visibleItems.map(function(t){var i=t.id,n=t.name,r=t.activityAction;return{id:i,label:n||i,checked:e.isPinned(i),enabled:r.enabled,run:function(){e.isPinned(i)?e.unpin(i):e.pin(i,!0)}}}),i=this.options.getContextMenuActions();return i.length&&(t.push(new d.Separator),t.push.apply(t,i)),t},t=r([o(1,u.IInstantiationService),o(2,l.IStorageService),o(3,g.IContextMenuService)],t)}(v.Widget);t.CompositeBar=S;var b=function(){function e(e,t){this.storageService=t,this.options=e,this.items=this.loadItemStates()}return Object.defineProperty(e.prototype,"visibleItems",{get:function(){return this.items.filter(function(e){return e.visible})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pinnedItems",{get:function(){return this.items.filter(function(e){
return e.visible&&e.pinned})},enumerable:!0,configurable:!0}),e.prototype.createCompositeBarItem=function(e,t,i,n,r){var o=this.options;return{id:e,name:t,pinned:n,order:i,visible:r,activity:[],get activityAction(){return o.getActivityAction(e)},get pinnedAction(){return o.getCompositePinnedAction(e)}}},e.prototype.add=function(e,t,i){var n=this.findItem(e);if(n){var r=!1;return n.name=t,m.isUndefinedOrNull(i)||(r=n.order!==i,n.order=i),n.visible||(n.visible=!0,r=!0),r}var o=this.createCompositeBarItem(e,t,i,!0,!0);if(m.isUndefinedOrNull(i))this.items.push(o);else{for(var s=0;s<this.items.length&&this.items[s].order<i;)s++;this.items.splice(s,0,o)}return!0},e.prototype.remove=function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].id===e)return this.items.splice(t,1),!0;return!1},e.prototype.hide=function(e){for(var t=0,i=this.items;t<i.length;t++){var n=i[t];if(n.id===e)return!!n.visible&&(n.visible=!1,!0)}return!1},e.prototype.move=function(e,t){var i=this.findIndex(e),n=this.findIndex(t)
;if(-1===i||-1===n)return!1;var r=this.items.splice(i,1)[0];return this.items.splice(n,0,r),r.pinned=!0,!0},e.prototype.setPinned=function(e,t){for(var i=0;i<this.items.length;i++){var n=this.items[i];if(n.id===e)return n.pinned!==t&&(n.pinned=t,!0)}return!1},e.prototype.addActivity=function(e,t){var i=this.findItem(e);if(i){for(var n=i.activity,r=0;r<=n.length;r++){if(r===n.length){n.push(t);break}if(n[r].priority<=t.priority){n.splice(r,0,t);break}}return this.updateActivity(e),!0}return!1},e.prototype.removeActivity=function(e,t){var i=this.findItem(e);if(i){var n=i.activity.indexOf(t);if(-1!==n)return i.activity.splice(n,1),this.updateActivity(e),!0}return!1},e.prototype.updateActivity=function(e){var t=this.findItem(e);if(t)if(t.activity.length){var i=t.activity[0],n=i.badge,r=i.clazz;t.activityAction.setBadge(n,r)}else t.activityAction.setBadge(void 0)},e.prototype.activate=function(e){if(!this.activeItem||this.activeItem.id!==e){this.activeItem&&this.deactivate();for(var t=0;t<this.items.length;t++){
var i=this.items[t];if(i.id===e)return this.activeItem=i,this.activeItem.activityAction.activate(),!0}}return!1},e.prototype.deactivate=function(){return!!this.activeItem&&(this.activeItem.activityAction.deactivate(),this.activeItem=void 0,!0)},e.prototype.findItem=function(e){return this.items.filter(function(t){return t.id===e})[0]},e.prototype.findIndex=function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].id===e)return t;return-1},e.prototype.loadItemStates=function(){var e=this;return JSON.parse(this.storageService.get(this.options.storageId,0,"[]")).map(function(t){var i="string"==typeof t?{id:t,pinned:!0,order:void 0,visible:!0}:t;return e.createCompositeBarItem(i.id,void 0,i.order,i.pinned,!!m.isUndefinedOrNull(i.visible)||i.visible)})},e.prototype.saveState=function(){var e=this.items.map(function(e){return{id:e.id,pinned:e.pinned,order:e.order,visible:e.visible}});this.storageService.store(this.options.storageId,JSON.stringify(e),0)},e}()}),
define(e[523],t([1,0,128,8,190,18,5,81,152,3,33,24,6,148,307,2,9,16,4,59,27,21,102,124,215,89,241]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBreadcrumbsPicker=function(e,t,i){var n=i instanceof D.FileElement?L:N;return e.createInstance(n,t)};var R=function(){function e(e,t,i,r){var o=this;this._instantiationService=t,this._themeService=i,this._configurationService=r,this._disposables=new Array,this._onDidPickElement=new l.Emitter,this.onDidPickElement=this._onDidPickElement.event,this._onDidFocusElement=new l.Emitter,this.onDidFocusElement=this._onDidFocusElement.event,this._domNode=document.createElement("div"),this._domNode.className="monaco-breadcrumbs-picker show-file-icons",e.appendChild(this._domNode),this._focus=s.trackFocus(this._domNode),this._focus.onDidBlur(function(e){return o._onDidPickElement.fire({target:void 0,payload:void 0})},void 0,this._disposables),
this._disposables.push(n.onDidChangeZoomLevel(function(e){return o._onDidPickElement.fire({target:void 0,payload:void 0})}));var a=this._themeService.getTheme().getColor(C.breadcrumbsPickerBackground);this._arrow=document.createElement("div"),this._arrow.className="arrow",this._arrow.style.borderColor="transparent transparent "+a.toString(),this._domNode.appendChild(this._arrow),this._treeContainer=document.createElement("div"),this._treeContainer.style.background=a.toString(),this._treeContainer.style.paddingTop="2px",this._treeContainer.style.boxShadow="0px 5px 8px "+this._themeService.getTheme().getColor(C.widgetShadow),this._domNode.appendChild(this._treeContainer),this._symbolSortOrder=x.BreadcrumbsConfig.SymbolSortOrder.bindTo(this._configurationService);var c=x.BreadcrumbsConfig.FilterOnType.bindTo(this._configurationService);this._disposables.push(c);var u=this._completeTreeConfiguration({dataSource:void 0,renderer:void 0,highlighter:void 0})
;this._tree=this._instantiationService.createInstance(_.HighlightingWorkbenchTree,this._treeContainer,u,{useShadows:!1,filterOnType:c.getValue(),showTwistie:!1,twistiePixels:12},{placeholder:y.localize("placeholder","Find")}),this._disposables.push(this._tree.onDidChangeSelection(function(e){if(e.payload!==o._tree){var t=o._getTargetFromEvent(e.selection[0],e.payload);t&&setTimeout(function(i){o._onDidPickElement.fire({target:t,payload:e.payload})},0)}})),this._disposables.push(this._tree.onDidChangeFocus(function(e){var t=o._getTargetFromEvent(e.focus,e.payload);t&&o._onDidFocusElement.fire({target:t,payload:e.payload})})),this._disposables.push(this._tree.onDidStartFiltering(function(){o._layoutInfo.inputHeight=36,o._layout()})),this._disposables.push(this._tree.onDidExpandItem(function(){o._layout()})),this._disposables.push(this._tree.onDidCollapseItem(function(){o._layout()})),s.addClass(this._treeContainer,"file-icon-themable-tree"),s.addClass(this._treeContainer,"show-file-icons");var d=function(e){
s.toggleClass(o._treeContainer,"align-icons-and-twisties",e.hasFileIcons&&!e.hasFolderIcons),s.toggleClass(o._treeContainer,"hide-arrows",!0===e.hidesExplorerArrows)};this._disposables.push(i.onDidFileIconThemeChange(d)),d(i.getFileIconTheme()),this._domNode.focus()}return e.prototype.dispose=function(){p.dispose(this._disposables),this._onDidPickElement.dispose(),this._tree.dispose(),this._focus.dispose(),this._symbolSortOrder.dispose()},e.prototype.setInput=function(e,t,i,n,r){var o=this,s=this._getInput(e);this._tree.setInput(s).then(function(){o._layoutInfo={maxHeight:t,width:i,arrowSize:n,arrowOffset:r,inputHeight:0},o._layout();var s=o._getInitialSelection(o._tree,e);return s?o._tree.reveal(s,.5).then(function(){o._tree.setSelection([s],o._tree),o._tree.setFocus(s),o._tree.domFocus()}):(o._tree.focusFirst(),o._tree.setSelection([o._tree.getFocus()],o._tree),o._tree.domFocus(),Promise.resolve(null))},c.onUnexpectedError)},e.prototype._layout=function(e){void 0===e&&(e=this._layoutInfo)
;for(var t=0,i=this._tree.getNavigator(void 0,!1);i.next()&&t<13;)t+=1;var n=2*e.arrowSize,r=Math.min(e.maxHeight-n,22*t),o=r+n;this._domNode.style.height=o+"px",this._domNode.style.width=e.width+"px",this._arrow.style.top="-"+2*e.arrowSize+"px",this._arrow.style.borderWidth=e.arrowSize+"px",this._arrow.style.marginLeft=e.arrowOffset+"px",this._treeContainer.style.height=r+"px",this._treeContainer.style.width=e.width+"px",this._tree.layout(),this._layoutInfo=e},e=r([o(1,E.IInstantiationService),o(2,T.IWorkbenchThemeService),o(3,S.IConfigurationService)],e)}();t.BreadcrumbsPicker=R;var A=function(){function e(e){this._fileService=e,this._parents=new WeakMap}return e.prototype.getId=function(e,t){return g.URI.isUri(t)?t.toString():w.IWorkspace.isIWorkspace(t)?t.id:w.IWorkspaceFolder.isIWorkspaceFolder(t)?t.uri.toString():t.resource.toString()},e.prototype.hasChildren=function(e,t){return g.URI.isUri(t)||w.IWorkspace.isIWorkspace(t)||w.IWorkspaceFolder.isIWorkspaceFolder(t)||t.isDirectory},
e.prototype.getChildren=function(e,t){var i=this;if(w.IWorkspace.isIWorkspace(t))return Promise.resolve(t.folders).then(function(e){for(var n=0,r=e;n<r.length;n++){var o=r[n];i._parents.set(t,o)}return e});var n;return n=w.IWorkspaceFolder.isIWorkspaceFolder(t)?t.uri:g.URI.isUri(t)?t:t.resource,this._fileService.resolveFile(n).then(function(e){for(var t=0,n=e.children;t<n.length;t++){var r=n[t];i._parents.set(e,r)}return e.children})},e.prototype.getParent=function(e,t){return Promise.resolve(this._parents.get(t))},e=r([o(0,b.IFileService)],e)}();t.FileDataSource=A;var O=function(){function e(e,t){var i=this;this._workspaceService=e,this._cachedExpressions=new Map,this._disposables=[];var n=x.BreadcrumbsConfig.FileExcludes.bindTo(t),r=function(){e.getWorkspace().folders.forEach(function(e){var t=n.getValue({resource:e.uri});if(t){var r={};for(var o in t)if("boolean"==typeof t[o]){r[0!==o.indexOf("**/")?h.join(e.uri.path,o):o]=t[o]}i._cachedExpressions.set(e.uri.toString(),d.parse(r))}})};r(),
this._disposables.push(n,n.onDidChange(r),e.onDidChangeWorkspaceFolders(r))}return e.prototype.dispose=function(){p.dispose(this._disposables)},e.prototype.isVisible=function(e,t){if(w.IWorkspaceFolder.isIWorkspaceFolder(t))return!0;var i=this._workspaceService.getWorkspaceFolder(t.resource);if(!i||!this._cachedExpressions.has(i.uri.toString()))return!0;return!this._cachedExpressions.get(i.uri.toString())(t.resource.path,f.basename(t.resource))},e=r([o(0,w.IWorkspaceContextService),o(1,S.IConfigurationService)],e)}();t.FileFilter=O;var k=function(){function e(){}return e.prototype.getHighlightsStorageKey=function(e){return w.IWorkspaceFolder.isIWorkspaceFolder(e)?e.uri.toString():e.resource.toString()},e.prototype.getHighlights=function(e,t,i){return u.fuzzyScore(i,i.toLowerCase(),0,t.name,t.name.toLowerCase(),0,!0)},e}();t.FileHighlighter=k;var M=function(){function e(e,t){this._instantiationService=e,this._configService=t}return e.prototype.getHeight=function(e,t){return 22},
e.prototype.getTemplateId=function(e,t){return"FileStat"},e.prototype.renderTemplate=function(e,t,i){return this._instantiationService.createInstance(I.FileLabel,i,{supportHighlights:!0})},e.prototype.renderElement=function(e,t,i,n){var r,o,s=this._configService.getValue("explorer.decorations");w.IWorkspaceFolder.isIWorkspaceFolder(t)?(r=t.uri,o=b.FileKind.ROOT_FOLDER):(r=t.resource,o=t.isDirectory?b.FileKind.FOLDER:b.FileKind.FILE),n.setFile(r,{fileKind:o,hidePath:!0,fileDecorations:s,matches:u.createMatches(e.getHighlighterScore(t)),extraClasses:["picker-item"]})},e.prototype.disposeTemplate=function(e,t,i){i.dispose()},e=r([o(0,E.IInstantiationService),o(1,S.IConfigurationService)],e)}();t.FileRenderer=M;var P=function(){function e(){}return e.prototype.compare=function(e,t,i){return w.IWorkspaceFolder.isIWorkspaceFolder(t)&&w.IWorkspaceFolder.isIWorkspaceFolder(i)?t.index-i.index:t.isDirectory===i.isDirectory?a.compareFileNames(t.name,i.name):t.isDirectory?-1:1},e}();t.FileSorter=P;var L=function(e){
function t(t,i,n,r,o){var s=e.call(this,t,i,n,r)||this;return s._workspaceService=o,s}return i(t,e),t.prototype._getInput=function(e){var t=e,i=t.uri;return t.kind===b.FileKind.ROOT_FOLDER?this._workspaceService.getWorkspace():f.dirname(i)},t.prototype._getInitialSelection=function(e,t){for(var i=t.uri,n=e.getNavigator();n.next();){var r=n.current(),o=w.IWorkspaceFolder.isIWorkspaceFolder(r)?r.uri:r.resource;if(f.isEqual(i,o))return r}},t.prototype._completeTreeConfiguration=function(e){var t=this._instantiationService.createInstance(O);return this._disposables.push(t),e.dataSource=this._instantiationService.createInstance(A),e.renderer=this._instantiationService.createInstance(M),e.sorter=new P,e.highlighter=new k,e.filter=t,e},t.prototype._getTargetFromEvent=function(e,t){if(e&&!w.IWorkspaceFolder.isIWorkspaceFolder(e)&&!e.isDirectory)return new D.FileElement(e.resource,b.FileKind.FILE)},
t=r([o(1,E.IInstantiationService),o(2,T.IWorkbenchThemeService),o(3,S.IConfigurationService),o(4,w.IWorkspaceContextService)],t)}(R);t.BreadcrumbsFilePicker=L;var F=function(){function e(){}return e.prototype.getHighlights=function(e,t,i){return v.OutlineModel.get(t).updateMatches(i),t.score},e}(),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._getInput=function(e){var t=e,i=v.OutlineModel.get(t);return i.updateMatches(""),i},t.prototype._getInitialSelection=function(e,t){return t instanceof v.OutlineModel?void 0:t},t.prototype._completeTreeConfiguration=function(e){return e.dataSource=this._instantiationService.createInstance(m.OutlineDataSource),e.renderer=this._instantiationService.createInstance(m.OutlineRenderer),e.sorter=new m.OutlineItemComparator(this._getOutlineItemComparator()),e.highlighter=new F,e},t.prototype._getTargetFromEvent=function(e,t){if(!t||!t.didClickOnTwistie)return e instanceof v.OutlineElement?e:void 0},
t.prototype._getOutlineItemComparator=function(){switch(this._symbolSortOrder.getValue()){case"name":return 1;case"type":return 2;case"position":default:return 0}},t}(R);t.BreadcrumbsOutlinePicker=N}),define(e[273],t([1,0,8,105,433,204,19,13,3,32,24,6,63,46,79,148,2,26,34,9,11,37,16,4,74,59,54,50,12,21,102,124,215,523,17,10,41,30,83,241]),function(e,t,n,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W,V,z,G,K){"use strict";function H(e,t){var i=e.get(z.IEditorGroupsService),n=e.get(F.IBreadcrumbsService).getWidget(i.activeGroup.id);if(n){var r=d.tail(n.getItems());n.setFocused(r),t&&n.setSelection(r,q.Payload_Pick)}}var U=this;Object.defineProperty(t,"__esModule",{value:!0});var j=function(e){function t(t,i,n){var r=e.call(this)||this;return r.element=t,r.options=i,r._instantiationService=n,r._disposables=[],r}return i(t,e),t.prototype.dispose=function(){h.dispose(this._disposables)},t.prototype.equals=function(e){
return e instanceof t&&(this.element instanceof N.FileElement&&e.element instanceof N.FileElement?g.isEqual(this.element.uri,e.element.uri):this.element instanceof b.TreeElement&&e.element instanceof b.TreeElement&&this.element.id===e.element.id)},t.prototype.render=function(e){if(this.element instanceof N.FileElement){(i=this._instantiationService.createInstance(L.FileLabel,e,{})).setFile(this.element.uri,{hidePath:!0,hideIcon:this.element.kind===D.FileKind.FOLDER||!this.options.showFileIcons,fileKind:this.element.kind,fileDecorations:{colors:this.options.showDecorationColors,badges:!1}}),n.addClass(e,D.FileKind[this.element.kind].toLowerCase()),this._disposables.push(i)}else if(this.element instanceof b.OutlineModel){(i=document.createElement("div")).innerHTML="&hellip;",i.className="hint-more",e.appendChild(i)}else if(this.element instanceof b.OutlineGroup){(i=new u.IconLabel(e)).setValue(this.element.provider.displayName),this._disposables.push(i)}else if(this.element instanceof b.OutlineElement){
if(this.options.showSymbolIcons){var t=document.createElement("div");t.className=S.symbolKindToCssClass(this.element.symbol.kind),e.appendChild(t),n.addClass(e,"shows-symbol-icon")}var i=new u.IconLabel(e),r=this.element.symbol.name.replace(/\r|\n|\r\n/g,"");i.setValue(r),this._disposables.push(i)}},t=r([o(2,T.IInstantiationService)],t)}(l.BreadcrumbsItem),q=function(){function e(t,i,r,o,s,a,c,u,d,p,h,f,g,v,m){this._options=i,this._editorGroup=r,this._contextKeyService=o,this._contextViewService=s,this._editorService=a,this._codeEditorService=c,this._workspaceService=u,this._instantiationService=d,this._themeService=p,this._quickOpenService=h,this._configurationService=f,this._fileService=g,this._telemetryService=v,this._disposables=new Array,this._breadcrumbsDisposables=new Array,this._breadcrumbsPickerShowing=!1,this.domNode=document.createElement("div"),n.addClass(this.domNode,"breadcrumbs-control"),n.append(t,this.domNode),this._widget=new l.BreadcrumbsWidget(this.domNode),
this._widget.onDidSelectItem(this._onSelectEvent,this,this._disposables),this._widget.onDidFocusItem(this._onFocusEvent,this,this._disposables),this._widget.onDidChangeFocus(this._updateCkBreadcrumbsActive,this,this._disposables),this._disposables.push(k.attachBreadcrumbsStyler(this._widget,this._themeService,{breadcrumbsBackground:i.breadcrumbsBackground})),this._ckBreadcrumbsPossible=e.CK_BreadcrumbsPossible.bindTo(this._contextKeyService),this._ckBreadcrumbsVisible=e.CK_BreadcrumbsVisible.bindTo(this._contextKeyService),this._ckBreadcrumbsActive=e.CK_BreadcrumbsActive.bindTo(this._contextKeyService),this._cfUseQuickPick=F.BreadcrumbsConfig.UseQuickPick.bindTo(f),this._disposables.push(m.register(this._editorGroup.id,this._widget))}return e.prototype.dispose=function(){this._disposables=h.dispose(this._disposables),this._breadcrumbsDisposables=h.dispose(this._breadcrumbsDisposables),this._ckBreadcrumbsPossible.reset(),this._ckBreadcrumbsVisible.reset(),this._ckBreadcrumbsActive.reset(),
this._cfUseQuickPick.dispose(),this._widget.dispose(),this.domNode.remove()},e.prototype.layout=function(e){this._widget.layout(e)},e.prototype.isHidden=function(){return n.hasClass(this.domNode,"hidden")},e.prototype.hide=function(){this._breadcrumbsDisposables=h.dispose(this._breadcrumbsDisposables),this._ckBreadcrumbsVisible.set(!1),n.toggleClass(this.domNode,"hidden",!0)},e.prototype.update=function(){var e=this;this._breadcrumbsDisposables=h.dispose(this._breadcrumbsDisposables);var t=this._editorGroup.activeEditor;if(t instanceof W.SideBySideEditorInput&&(t=t.master),!t||!t.getResource()||t.getResource().scheme!==f.Schemas.untitled&&!this._fileService.canHandleResource(t.getResource()))return this._ckBreadcrumbsPossible.set(!1),!this.isHidden()&&(this.hide(),!0);n.toggleClass(this.domNode,"hidden",!1),this._ckBreadcrumbsVisible.set(!0),this._ckBreadcrumbsPossible.set(!0);var i=this._getActiveCodeEditor(),r=new N.EditorBreadcrumbsModel(t.getResource(),i,this._workspaceService,this._configurationService)
;n.toggleClass(this.domNode,"relative-path",r.isRelative());var o=function(){var t=r.getElements().map(function(t){return new j(t,e._options,e._instantiationService)});e._widget.setItems(t),e._widget.reveal(t[t.length-1])},s=r.onDidUpdate(o);return o(),this._breadcrumbsDisposables=[r,s],this._breadcrumbsDisposables.push({dispose:function(){e._breadcrumbsPickerShowing&&e._contextViewService.hideContextView(e)}}),!0},e.prototype._getActiveCodeEditor=function(){var e,t=this._editorGroup.activeControl.getControl();return m.isCodeEditor(t)?e=t:m.isDiffEditor(t)&&(e=t.getModifiedEditor()),e},e.prototype._onFocusEvent=function(e){if(e.item&&this._breadcrumbsPickerShowing)return this._widget.setSelection(e.item)},e.prototype._onSelectEvent=function(e){var t=this;if(e.item){var i=e.item.element;this._editorGroup.focus(),this._telemetryService.publicLog("breadcrumbs/select",{type:i instanceof b.TreeElement?"symbol":"file"});var r=this._getEditorGroup(e.payload);if(void 0!==r)return this._widget.setFocused(void 0),
this._widget.setSelection(void 0),void this._revealInEditor(e,i,r);if(this._cfUseQuickPick.getValue())return this._widget.setFocused(void 0),this._widget.setSelection(void 0),void this._quickOpenService.show(i instanceof b.TreeElement?"@":"");var o,s,a=this._getActiveCodeEditor(),l=[];this._contextViewService.showContextView({render:function(n){var r=(o=B.createBreadcrumbsPicker(t._instantiationService,n,i)).onDidPickElement(function(i){i.target&&(s=void 0),t._contextViewService.hideContextView(t),t._revealInEditor(e,i.target,t._getEditorGroup(i.payload&&i.payload.originalEvent),i.payload&&i.payload.originalEvent&&i.payload.originalEvent.middleButton),t._telemetryService.publicLog("breadcrumbs/open",{type:i?i.target instanceof b.TreeElement?"symbol":"file":"nothing"})}),c=o.onDidFocusElement(function(e){if(a&&e.target instanceof b.OutlineElement){s||(s=a.saveViewState());var t=e.target.symbol;a.revealRangeInCenter(t.range,0),l=a.deltaDecorations(l,[{range:t.range,options:{className:"rangeHighlight",
isWholeLine:!0}}])}});return t._breadcrumbsPickerShowing=!0,t._updateCkBreadcrumbsActive(),h.combinedDisposable([r,c,o])},getAnchor:function(){var t,r=window.innerWidth-8,s=Math.min(.7*window.innerHeight,300),a=Math.min(r,Math.max(240,r/4.17)),l=n.getDomNodePagePosition(e.node.firstChild),u=l.top+l.height+8;u+s>=window.innerHeight&&(s=window.innerHeight-u-30);var d=l.left;if(d+a>=r&&(d=r-a),e.payload instanceof c.StandardMouseEvent){var p=a-16;(t=e.payload.posx-d)>p&&(d=Math.min(r-a,d+t-p),t=p)}else t=l.left+.3*l.width-d;return o.setInput(i,s,a,8,Math.max(0,t)),{x:d,y:u}},onHide:function(e){a&&(a.deltaDecorations(l,[]),s&&a.restoreViewState(s)),t._breadcrumbsPickerShowing=!1,t._updateCkBreadcrumbsActive(),e===t&&(t._widget.setFocused(void 0),t._widget.setSelection(void 0))}})}},e.prototype._updateCkBreadcrumbsActive=function(){var e=this._widget.isDOMFocused()||this._breadcrumbsPickerShowing;this._ckBreadcrumbsActive.set(e)},e.prototype._revealInEditor=function(t,i,n,r){if(void 0===r&&(r=!1),
i instanceof N.FileElement)if(i.kind===D.FileKind.FILE)this._editorService.openEditor({resource:i.uri,options:{pinned:r}},n);else{var o=this._widget.getItems(),s=o.indexOf(t.item);this._widget.setFocused(o[s+1]),this._widget.setSelection(o[s+1],e.Payload_Pick)}else if(i instanceof b.OutlineElement){var a=b.OutlineModel.get(i);this._codeEditorService.openCodeEditor({resource:a.textModel.uri,options:{selection:y.Range.collapseToStart(i.symbol.selectionRange),revealInCenterIfOutsideViewport:!0}},this._getActiveCodeEditor(),n===V.SIDE_GROUP)}},e.prototype._getEditorGroup=function(t){return t===e.Payload_RevealAside||t instanceof c.StandardMouseEvent&&t.altKey?V.SIDE_GROUP:t===e.Payload_Reveal||t instanceof c.StandardMouseEvent&&t.metaKey?V.ACTIVE_GROUP:void 0},e.HEIGHT=22,e.Payload_Reveal={},e.Payload_RevealAside={},e.Payload_Pick={},e.CK_BreadcrumbsPossible=new I.RawContextKey("breadcrumbsPossible",!1),e.CK_BreadcrumbsVisible=new I.RawContextKey("breadcrumbsVisible",!1),
e.CK_BreadcrumbsActive=new I.RawContextKey("breadcrumbsActive",!1),e=r([o(3,I.IContextKeyService),o(4,x.IContextViewService),o(5,V.IEditorService),o(6,K.ICodeEditorService),o(7,P.IWorkspaceContextService),o(8,T.IInstantiationService),o(9,M.IThemeService),o(10,O.IQuickOpenService),o(11,w.IConfigurationService),o(12,D.IFileService),o(13,G.ITelemetryService),o(14,F.IBreadcrumbsService)],e)}();t.BreadcrumbsControl=q,_.MenuRegistry.appendMenuItem(0,{command:{id:"breadcrumbs.toggle",title:{value:E.localize("cmd.toggle","Toggle Breadcrumbs"),original:"Toggle Breadcrumbs"},category:E.localize("cmd.category","View")}}),_.MenuRegistry.appendMenuItem(25,{group:"5_editor",order:99,command:{id:"breadcrumbs.toggle",title:E.localize("miToggleBreadcrumbs","Toggle &&Breadcrumbs"),toggled:I.ContextKeyExpr.equals("config.breadcrumbs.enabled",!0)}}),C.CommandsRegistry.registerCommand("breadcrumbs.toggle",function(e){var t=e.get(w.IConfigurationService),i=F.BreadcrumbsConfig.IsEnabled.bindTo(t).getValue()
;F.BreadcrumbsConfig.IsEnabled.bindTo(t).updateValue(!i)}),_.MenuRegistry.appendMenuItem(0,{command:{id:"breadcrumbs.focusAndSelect",title:{value:E.localize("cmd.focus","Focus Breadcrumbs"),original:"Focus Breadcrumbs"},precondition:q.CK_BreadcrumbsVisible}}),R.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.focusAndSelect",weight:200,primary:3156,when:q.CK_BreadcrumbsPossible,handler:function(e){return H(e,!0)}}),R.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.focus",weight:200,primary:3152,when:q.CK_BreadcrumbsPossible,handler:function(e){return H(e,!1)}}),R.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.toggleToOn",weight:200,primary:3156,when:I.ContextKeyExpr.not("config.breadcrumbs.enabled"),handler:function(e){return s(U,void 0,void 0,function(){var t,i,n;return a(this,function(r){switch(r.label){case 0:return t=e.get(T.IInstantiationService),i=e.get(w.IConfigurationService),
(n=F.BreadcrumbsConfig.IsEnabled.bindTo(i)).getValue()?[3,3]:[4,n.updateValue(!0)];case 1:return r.sent(),[4,p.timeout(50)];case 2:r.sent(),r.label=3;case 3:return[2,t.invokeFunction(H,!0)]}})})}}),R.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.focusNext",weight:200,primary:17,secondary:[2065],mac:{primary:17,secondary:[529]},when:I.ContextKeyExpr.and(q.CK_BreadcrumbsVisible,q.CK_BreadcrumbsActive),handler:function(e){var t=e.get(z.IEditorGroupsService);e.get(F.IBreadcrumbsService).getWidget(t.activeGroup.id).focusNext()}}),R.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.focusPrevious",weight:200,primary:15,secondary:[2063],mac:{primary:15,secondary:[527]},when:I.ContextKeyExpr.and(q.CK_BreadcrumbsVisible,q.CK_BreadcrumbsActive),handler:function(e){var t=e.get(z.IEditorGroupsService);e.get(F.IBreadcrumbsService).getWidget(t.activeGroup.id).focusPrev()}}),R.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.selectFocused",weight:200,primary:3,
secondary:[18],when:I.ContextKeyExpr.and(q.CK_BreadcrumbsVisible,q.CK_BreadcrumbsActive),handler:function(e){var t=e.get(z.IEditorGroupsService),i=e.get(F.IBreadcrumbsService).getWidget(t.activeGroup.id);i.setSelection(i.getFocused(),q.Payload_Pick)}}),R.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.revealFocused",weight:200,primary:10,secondary:[2051],when:I.ContextKeyExpr.and(q.CK_BreadcrumbsVisible,q.CK_BreadcrumbsActive),handler:function(e){var t=e.get(z.IEditorGroupsService),i=e.get(F.IBreadcrumbsService).getWidget(t.activeGroup.id);i.setSelection(i.getFocused(),q.Payload_Reveal)}}),R.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.selectEditor",weight:201,primary:9,when:I.ContextKeyExpr.and(q.CK_BreadcrumbsVisible,q.CK_BreadcrumbsActive),handler:function(e){var t=e.get(z.IEditorGroupsService),i=e.get(F.IBreadcrumbsService);i.getWidget(t.activeGroup.id).setFocused(void 0),i.getWidget(t.activeGroup.id).setSelection(void 0),t.activeGroup.activeControl.focus()}
}),R.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.revealFocusedFromTreeAside",weight:200,primary:2051,when:I.ContextKeyExpr.and(q.CK_BreadcrumbsVisible,q.CK_BreadcrumbsActive,A.WorkbenchListFocusContextKey),handler:function(e){var t=e.get(V.IEditorService),i=e.get(A.IListService).lastFocusedList.getFocus();return i instanceof b.OutlineElement?t.openEditor({resource:b.OutlineModel.get(i).textModel.uri,options:{selection:y.Range.collapseToStart(i.symbol.selectionRange)}},V.SIDE_GROUP):v.URI.isUri(i.resource)?t.openEditor({resource:i.resource},V.SIDE_GROUP):void 0}})}),define(e[525],t([1,0,86,8,104,57,12,27,17,20,3,4,13,290]),function(e,t,n,s,a,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(e){function t(t,i,r,o){var s=e.call(this,r)||this;return s.accessor=t,s.groupView=i,s.instantiationService=o,s.editorTransfer=n.LocalSelectionTransfer.getInstance(),s.groupTransfer=n.LocalSelectionTransfer.getInstance(),
s.cleanupOverlayScheduler=s._register(new g.RunOnceScheduler(function(){return s.dispose()},300)),s.create(),s}return i(t,e),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.create=function(){var e=this,i=this.getOverlayOffsetHeight();this.container=document.createElement("div"),this.container.id=t.OVERLAY_ID,this.container.style.top=i+"px",this.groupView.element.appendChild(this.container),s.addClass(this.groupView.element,"dragged-over"),this._register(h.toDisposable(function(){e.groupView.element.removeChild(e.container),s.removeClass(e.groupView.element,"dragged-over")})),this.overlay=document.createElement("div"),s.addClass(this.overlay,"editor-group-overlay-indicator"),this.container.appendChild(this.overlay),this.registerListeners(),this.updateStyles()},t.prototype.updateStyles=function(){this.overlay.style.backgroundColor=this.getColor(c.EDITOR_DRAG_AND_DROP_BACKGROUND);var e=this.getColor(u.activeContrastBorder)
;this.overlay.style.outlineColor=e,this.overlay.style.outlineOffset=e?"-2px":null,this.overlay.style.outlineStyle=e?"dashed":null,this.overlay.style.outlineWidth=e?"2px":null},t.prototype.registerListeners=function(){var e=this;this._register(new n.DragAndDropObserver(this.container,{onDragEnter:function(e){},onDragOver:function(t){var i=e.groupTransfer.hasData(n.DraggedEditorGroupIdentifier.prototype),r=e.editorTransfer.hasData(n.DraggedEditorIdentifier.prototype);r||i||(t.dataTransfer.dropEffect="copy");if(!(i?e.isCopyOperation(t):!r||e.isCopyOperation(t,e.editorTransfer.getData(n.DraggedEditorIdentifier.prototype)[0].identifier))){var o=e.findSourceGroupView();if(o===e.groupView&&(i||r&&o.count<2))return void e.hideOverlay()}e.positionOverlay(t.offsetX,t.offsetY,i),e.cleanupOverlayScheduler.isScheduled()&&e.cleanupOverlayScheduler.cancel()},onDragLeave:function(t){return e.dispose()},onDragEnd:function(t){return e.dispose()},onDrop:function(t){s.EventHelper.stop(t,!0),e.dispose(),
e.currentDropOperation&&e.handleDrop(t,e.currentDropOperation.splitDirection)}})),this._register(s.addDisposableListener(this.container,s.EventType.MOUSE_OVER,function(){e.cleanupOverlayScheduler.isScheduled()||e.cleanupOverlayScheduler.schedule()}))},t.prototype.findSourceGroupView=function(){return this.groupTransfer.hasData(n.DraggedEditorGroupIdentifier.prototype)?this.accessor.getGroup(this.groupTransfer.getData(n.DraggedEditorGroupIdentifier.prototype)[0].identifier):this.editorTransfer.hasData(n.DraggedEditorIdentifier.prototype)?this.accessor.getGroup(this.editorTransfer.getData(n.DraggedEditorIdentifier.prototype)[0].identifier.groupId):void 0},t.prototype.handleDrop=function(e,t){var i=this,r=function(){return"number"==typeof t?i.accessor.addGroup(i.groupView,t):i.groupView};if(this.groupTransfer.hasData(n.DraggedEditorGroupIdentifier.prototype)){var o=this.groupTransfer.getData(n.DraggedEditorGroupIdentifier.prototype)[0].identifier,s=this.accessor.getGroup(o)
;if("number"!=typeof t&&s===this.groupView)return;l=void 0;l="number"==typeof t?this.isCopyOperation(e)?this.accessor.copyGroup(s,this.groupView,t):this.accessor.moveGroup(s,this.groupView,t):this.isCopyOperation(e)?this.accessor.mergeGroup(s,this.groupView,{mode:0}):this.accessor.mergeGroup(s,this.groupView),this.accessor.activateGroup(l),this.groupTransfer.clearData(n.DraggedEditorGroupIdentifier.prototype)}else if(this.editorTransfer.hasData(n.DraggedEditorIdentifier.prototype)){var c=this.editorTransfer.getData(n.DraggedEditorIdentifier.prototype)[0].identifier,l=r();if((s=this.accessor.getGroup(c.groupId))===l)return;var u=a.getActiveTextEditorOptions(s,c.editor,d.EditorOptions.create({pinned:!0}));l.openEditor(c.editor,u),l.focus();this.isCopyOperation(e,c)||s.closeEditor(c.editor),this.editorTransfer.clearData(n.DraggedEditorIdentifier.prototype)}else{this.instantiationService.createInstance(n.ResourcesDropHandler,{allowWorkspaceOpen:!0}).handleDrop(e,function(){return r()},function(e){return e.focus()
})}},t.prototype.isCopyOperation=function(e,t){return!(t&&!t.editor.supportsSplitEditor())&&(e.ctrlKey&&!p.isMacintosh||e.altKey&&p.isMacintosh)},t.prototype.positionOverlay=function(e,t,i){var n,r,o,a=this,c="right"===this.accessor.partOptions.openSideBySideDirection,l=this.groupView.element.clientWidth,u=this.groupView.element.clientHeight-this.getOverlayOffsetHeight(),d=l*(n=i&&c?.3:.1),p=u*(r=i?c?.1:.3:.1),h=l/3,f=u/3;switch(o=e>d&&e<l-d&&t>p&&t<u-p?void 0:c?e<h?2:e>2*h?3:t<u/2?0:1:t<f?0:t>2*f?1:e<l/2?2:3){case 0:this.doPositionOverlay({top:"0",left:"0",width:"100%",height:"50%"});break;case 1:this.doPositionOverlay({top:"50%",left:"0",width:"100%",height:"50%"});break;case 2:this.doPositionOverlay({top:"0",left:"0",width:"50%",height:"100%"});break;case 3:this.doPositionOverlay({top:"0",left:"50%",width:"50%",height:"100%"});break;default:this.doPositionOverlay({top:"0",left:"0",width:"100%",height:"100%"})}this.overlay.style.opacity="1",setTimeout(function(){
return s.addClass(a.overlay,"overlay-move-transition")},0),this.currentDropOperation={splitDirection:o}},t.prototype.doPositionOverlay=function(e){var t=this.getOverlayOffsetHeight();this.container.style.height=t?"calc(100% - "+t+"px)":"100%",this.overlay.style.top=e.top,this.overlay.style.left=e.left,this.overlay.style.width=e.width,this.overlay.style.height=e.height},t.prototype.getOverlayOffsetHeight=function(){return!this.groupView.isEmpty()&&this.accessor.partOptions.showTabs?a.EDITOR_TITLE_HEIGHT:0},t.prototype.hideOverlay=function(){this.doPositionOverlay({top:"0",left:"0",width:"100%",height:"100%"}),this.overlay.style.opacity="0",s.removeClass(this.overlay,"overlay-move-transition"),this.currentDropOperation=void 0},t.prototype.contains=function(e){return e===this.container||e===this.overlay},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._disposed=!0},t.OVERLAY_ID="monaco-workbench-editor-drop-overlay",t}(c.Themable),m=function(e){function t(t,i,r,o){var s=e.call(this,r)||this
;return s.accessor=t,s.container=i,s.instantiationService=o,s.counter=0,s.editorTransfer=n.LocalSelectionTransfer.getInstance(),s.groupTransfer=n.LocalSelectionTransfer.getInstance(),s.registerListeners(),s}return i(t,e),Object.defineProperty(t.prototype,"overlay",{get:function(){if(this._overlay&&!this._overlay.disposed)return this._overlay},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this._register(s.addDisposableListener(this.container,s.EventType.DRAG_ENTER,function(t){return e.onDragEnter(t)})),this._register(s.addDisposableListener(this.container,s.EventType.DRAG_LEAVE,function(){return e.onDragLeave()})),[this.container,window].forEach(function(t){return e._register(s.addDisposableListener(t,s.EventType.DRAG_END,function(){return e.onDragEnd()}))})},t.prototype.onDragEnter=function(e){if(this.counter++,
this.editorTransfer.hasData(n.DraggedEditorIdentifier.prototype)||this.groupTransfer.hasData(n.DraggedEditorGroupIdentifier.prototype)||e.dataTransfer.types.length){this.updateContainer(!0);var t=e.target;if(t&&(this.overlay&&!this.overlay.contains(t)&&this.disposeOverlay(),!this.overlay)){var i=this.findTargetGroupView(t);i&&(this._overlay=new v(this.accessor,i,this.themeService,this.instantiationService))}}else e.dataTransfer.dropEffect="none"},t.prototype.onDragLeave=function(){this.counter--,0===this.counter&&this.updateContainer(!1)},t.prototype.onDragEnd=function(){this.counter=0,this.updateContainer(!1),this.disposeOverlay()},t.prototype.findTargetGroupView=function(e){for(var t=this.accessor.groups,i=0;i<t.length;i++){var n=t[i];if(s.isAncestor(e,n.element))return n}},t.prototype.updateContainer=function(e){s.toggleClass(this.container,"dragged-over",e)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposeOverlay()},t.prototype.disposeOverlay=function(){
this.overlay&&(this.overlay.dispose(),this._overlay=void 0)},t=r([o(2,l.IThemeService),o(3,f.IInstantiationService)],t)}(c.Themable);t.EditorDropTarget=m}),define(e[526],t([1,0,2,15,8,22,33,29,6,14,20,128,155,17,3,56,579,286,173,276,10,54,94,16,4,36,38,46,91,549,34,92,31,106,39,63,32,60,61,113,13,25,5,294]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W,V,z,G,K,H,U){"use strict";function j(e){if(e instanceof g.UntitledEditorInput)return e;if(e instanceof v.SideBySideEditorInput){var t=j(e.master),i=j(e.details);return t&&i?new X(t,i):t}var n=e;return u.areFunctions(n.setEncoding,n.getEncoding)?n:null}function q(e,t){e.style.display!==t&&(e.style.display=t)}function $(e){q(e,"")}function Q(e){q(e,"none")}function Y(e){if(!e)return!1;return!e.getConfiguration().readOnly}Object.defineProperty(t,"__esModule",{value:!0});var X=function(){function e(e,t){this.master=e,this.details=t}return e.prototype.getEncoding=function(){return this.master.getEncoding()},
e.prototype.setEncoding=function(e,t){[this.master,this.details].forEach(function(i){return i.setEncoding(e,t)})},e}(),J=function(){function e(){this.indentation=!1,this.selectionStatus=!1,this.mode=!1,this.encoding=!1,this.EOL=!1,this.tabFocusMode=!1,this.screenReaderMode=!1,this.metadata=!1}return e.prototype.combine=function(e){this.indentation=this.indentation||e.indentation,this.selectionStatus=this.selectionStatus||e.selectionStatus,this.mode=this.mode||e.mode,this.encoding=this.encoding||e.encoding,this.EOL=this.EOL||e.EOL,this.tabFocusMode=this.tabFocusMode||e.tabFocusMode,this.screenReaderMode=this.screenReaderMode||e.screenReaderMode,this.metadata=this.metadata||e.metadata},e}(),Z=function(){function e(){this._selectionStatus=null,this._mode=null,this._encoding=null,this._EOL=null,this._tabFocusMode=!1,this._screenReaderMode=!1,this._metadata=null}return Object.defineProperty(e.prototype,"selectionStatus",{get:function(){return this._selectionStatus},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encoding",{get:function(){return this._encoding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EOL",{get:function(){return this._EOL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indentation",{get:function(){return this._indentation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabFocusMode",{get:function(){return this._tabFocusMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenReaderMode",{get:function(){return this._screenReaderMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._metadata},enumerable:!0,configurable:!0}),e.prototype.update=function(e){var t=new J,i=!1;return void 0!==e.selectionStatus&&this._selectionStatus!==e.selectionStatus&&(this._selectionStatus=e.selectionStatus,i=!0,t.selectionStatus=!0),
void 0!==e.indentation&&this._indentation!==e.indentation&&(this._indentation=e.indentation,i=!0,t.indentation=!0),void 0!==e.mode&&this._mode!==e.mode&&(this._mode=e.mode,i=!0,t.mode=!0),void 0!==e.encoding&&this._encoding!==e.encoding&&(this._encoding=e.encoding,i=!0,t.encoding=!0),void 0!==e.EOL&&this._EOL!==e.EOL&&(this._EOL=e.EOL,i=!0,t.EOL=!0),void 0!==e.tabFocusMode&&this._tabFocusMode!==e.tabFocusMode&&(this._tabFocusMode=e.tabFocusMode,i=!0,t.tabFocusMode=!0),void 0!==e.screenReaderMode&&this._screenReaderMode!==e.screenReaderMode&&(this._screenReaderMode=e.screenReaderMode,i=!0,t.screenReaderMode=!0),void 0!==e.metadata&&this._metadata!==e.metadata&&(this._metadata=e.metadata,i=!0,t.metadata=!0),i?t:null},e
}(),ee=n.localize("singleSelectionRange","Ln {0}, Col {1} ({2} selected)"),te=n.localize("singleSelection","Ln {0}, Col {1}"),ie=n.localize("multiSelectionRange","{0} selections ({1} characters selected)"),ne=n.localize("multiSelection","{0} selections"),re=n.localize("endOfLineLineFeed","LF"),oe=n.localize("endOfLineCarriageReturnLineFeed","CRLF"),se=n.localize("tabFocusModeEnabled","Tab Moves Focus"),ae=n.localize("screenReaderDetected","Screen Reader Optimized"),ce=n.localize("screenReaderDetectedExtra",'If you are not using a Screen Reader, please change the setting `editor.accessibilitySupport` to "off".'),le=function(){function e(e,t,i,n,r,o,s,a){this.editorService=e,this.quickOpenService=t,this.instantiationService=i,this.untitledEditorService=n,this.modeService=r,this.textFileService=o,this.configurationService=s,this.notificationService=a,this._promptedScreenReader=!1,this.toDispose=[],this.activeEditorListeners=[],this.state=new Z}return e.prototype.render=function(e){var t=this
;return this.element=a.append(e,a.$(".editor-statusbar-item")),this.tabFocusModeElement=a.append(this.element,a.$("a.editor-status-tabfocusmode.status-bar-info")),this.tabFocusModeElement.title=n.localize("disableTabMode","Disable Accessibility Mode"),this.tabFocusModeElement.onclick=function(){return t.onTabFocusModeClick()},this.tabFocusModeElement.textContent=se,Q(this.tabFocusModeElement),this.screenRedearModeElement=a.append(this.element,a.$("a.editor-status-screenreadermode.status-bar-info")),this.screenRedearModeElement.textContent=ae,this.screenRedearModeElement.title=ce,this.screenRedearModeElement.onclick=function(){return t.onScreenReaderModeClick()},Q(this.screenRedearModeElement),this.selectionElement=a.append(this.element,a.$("a.editor-status-selection")),this.selectionElement.title=n.localize("gotoLine","Go to Line"),this.selectionElement.onclick=function(){return t.onSelectionClick()},Q(this.selectionElement),this.indentationElement=a.append(this.element,a.$("a.editor-status-indentation")),
this.indentationElement.title=n.localize("selectIndentation","Select Indentation"),this.indentationElement.onclick=function(){return t.onIndentationClick()},Q(this.indentationElement),this.encodingElement=a.append(this.element,a.$("a.editor-status-encoding")),this.encodingElement.title=n.localize("selectEncoding","Select Encoding"),this.encodingElement.onclick=function(){return t.onEncodingClick()},Q(this.encodingElement),this.eolElement=a.append(this.element,a.$("a.editor-status-eol")),this.eolElement.title=n.localize("selectEOL","Select End of Line Sequence"),this.eolElement.onclick=function(){return t.onEOLClick()},Q(this.eolElement),this.modeElement=a.append(this.element,a.$("a.editor-status-mode")),this.modeElement.title=n.localize("selectLanguageMode","Select Language Mode"),this.modeElement.onclick=function(){return t.onModeClick()},Q(this.modeElement),this.metadataElement=a.append(this.element,a.$("span.editor-status-metadata")),this.metadataElement.title=n.localize("fileInfo","File Information"),
Q(this.metadataElement),this.delayedRender=null,this.toRender=null,this.toDispose.push({dispose:function(){t.delayedRender&&(t.delayedRender.dispose(),t.delayedRender=null)}},this.editorService.onDidActiveEditorChange(function(){return t.updateStatusBar()}),this.untitledEditorService.onDidChangeEncoding(function(e){return t.onResourceEncodingChange(e)}),this.textFileService.models.onModelEncodingChanged(function(e){return t.onResourceEncodingChange(e.resource)}),k.TabFocus.onDidChangeTabFocus(function(e){return t.onTabFocusModeChange()})),m.combinedDisposable(this.toDispose)},e.prototype.updateState=function(e){var t=this,i=this.state.update(e);i&&(this.toRender?this.toRender.combine(i):(this.toRender=i,this.delayedRender=a.runAtThisOrScheduleAtNextAnimationFrame(function(){t.delayedRender=null;var e=t.toRender;t.toRender=null,t._renderNow(e)})))},e.prototype._renderNow=function(e){e.tabFocusMode&&(this.state.tabFocusMode&&!0===this.state.tabFocusMode?$(this.tabFocusModeElement):Q(this.tabFocusModeElement)),
e.screenReaderMode&&(this.state.screenReaderMode&&!0===this.state.screenReaderMode?$(this.screenRedearModeElement):Q(this.screenRedearModeElement)),e.indentation&&(this.state.indentation?(this.indentationElement.textContent=this.state.indentation,$(this.indentationElement)):Q(this.indentationElement)),e.selectionStatus&&(this.state.selectionStatus&&!this.state.screenReaderMode?(this.selectionElement.textContent=this.state.selectionStatus,$(this.selectionElement)):Q(this.selectionElement)),e.encoding&&(this.state.encoding?(this.encodingElement.textContent=this.state.encoding,$(this.encodingElement)):Q(this.encodingElement)),e.EOL&&(this.state.EOL?(this.eolElement.textContent="\r\n"===this.state.EOL?oe:re,$(this.eolElement)):Q(this.eolElement)),e.mode&&(this.state.mode?(this.modeElement.textContent=this.state.mode,$(this.modeElement)):Q(this.modeElement)),e.metadata&&(this.state.metadata?(this.metadataElement.textContent=this.state.metadata,$(this.metadataElement)):Q(this.metadataElement))},
e.prototype.getSelectionLabel=function(e){return e&&e.selections?1===e.selections.length?e.charactersSelected?c.format(ee,e.selections[0].positionLineNumber,e.selections[0].positionColumn,e.charactersSelected):c.format(te,e.selections[0].positionLineNumber,e.selections[0].positionColumn):e.charactersSelected?c.format(ie,e.selections.length,e.charactersSelected):e.selections.length>0?c.format(ne,e.selections.length):null:null},e.prototype.onModeClick=function(){var e=this.instantiationService.createInstance(de,de.ID,de.LABEL);e.run(),e.dispose()},e.prototype.onIndentationClick=function(){var e=this.instantiationService.createInstance(pe,pe.ID,pe.LABEL);e.run(),e.dispose()},e.prototype.onScreenReaderModeClick=function(){var e=this;this.screenReaderNotification||(this.screenReaderNotification=this.notificationService.prompt(H.Severity.Info,n.localize("screenReaderDetectedExplanation.question","Are you using a screen reader to operate VS Code?"),[{
label:n.localize("screenReaderDetectedExplanation.answerYes","Yes"),run:function(){e.configurationService.updateValue("editor.accessibilitySupport","on",1)}},{label:n.localize("screenReaderDetectedExplanation.answerNo","No"),run:function(){e.configurationService.updateValue("editor.accessibilitySupport","off",1)}}],{sticky:!0}),U.once(this.screenReaderNotification.onDidClose)(function(){e.screenReaderNotification=null}))},e.prototype.onSelectionClick=function(){this.quickOpenService.show(":")},e.prototype.onEOLClick=function(){var e=this.instantiationService.createInstance(he,he.ID,he.LABEL);e.run(),e.dispose()},e.prototype.onEncodingClick=function(){var e=this.instantiationService.createInstance(fe,fe.ID,fe.LABEL);e.run(),e.dispose()},e.prototype.onTabFocusModeClick=function(){k.TabFocus.setTabFocusMode(!1)},e.prototype.updateStatusBar=function(){var e=this,t=this.editorService.activeControl,i=t?B.getCodeEditor(t.getControl()):void 0;if(this.onScreenReaderModeChange(i),this.onSelectionChange(i),
this.onModeChange(i),this.onEOLChange(i),this.onEncodingChange(t),this.onIndentationChange(i),this.onMetadataChange(t),m.dispose(this.activeEditorListeners),i)this.activeEditorListeners.push(i.onDidChangeConfiguration(function(t){t.accessibilitySupport&&e.onScreenReaderModeChange(i)})),this.activeEditorListeners.push(i.onDidChangeCursorPosition(function(t){e.onSelectionChange(i)})),this.activeEditorListeners.push(i.onDidChangeModelLanguage(function(t){e.onModeChange(i)})),this.activeEditorListeners.push(i.onDidChangeModelContent(function(t){e.onEOLChange(i);for(var n=i.getSelections(),r=function(r){if(n.some(function(e){return A.Range.areIntersecting(e,t.changes[r].range)}))return e.onSelectionChange(i),"break"},o=0;o<t.changes.length;o++){if("break"===r(o))break}})),this.activeEditorListeners.push(i.onDidChangeModelOptions(function(t){e.onIndentationChange(i)}));else if(t instanceof E.BaseBinaryResourceEditor||t instanceof _.BinaryResourceDiffEditor){var n=[];if(t instanceof _.BinaryResourceDiffEditor){
var r=t.getDetailsEditor();r instanceof E.BaseBinaryResourceEditor&&n.push(r);var o=t.getMasterEditor();o instanceof E.BaseBinaryResourceEditor&&n.push(o)}else n.push(t);n.forEach(function(i){e.activeEditorListeners.push(i.onMetadataChanged(function(i){e.onMetadataChange(t)})),e.activeEditorListeners.push(i.onDidOpenInPlace(function(){e.updateStatusBar()}))})}},e.prototype.onModeChange=function(e){var t={mode:null};if(e){var i=e.getModel();if(i){var n=i.getLanguageIdentifier().language;t={mode:this.modeService.getLanguageName(n)}}}this.updateState(t)},e.prototype.onIndentationChange=function(e){var t={indentation:null};if(e){var i=e.getModel();if(i){var r=i.getOptions();t.indentation=r.insertSpaces?n.localize("spacesSize","Spaces: {0}",r.tabSize):n.localize({key:"tabSize",comment:["Tab corresponds to the tab key"]},"Tab Size: {0}",r.tabSize)}}this.updateState(t)},e.prototype.onMetadataChange=function(e){var t={metadata:null}
;(e instanceof E.BaseBinaryResourceEditor||e instanceof _.BinaryResourceDiffEditor)&&(t.metadata=e.getMetadata()),this.updateState(t)},e.prototype.onScreenReaderModeChange=function(e){var t=this,i=!1;if(e){if(2===f.getAccessibilitySupport()){"auto"===this.configurationService.getValue("editor").accessibilitySupport&&(this._promptedScreenReader||(this._promptedScreenReader=!0,setTimeout(function(){t.onScreenReaderModeClick()},100)))}i=2===e.getConfiguration().accessibilitySupport}!1===i&&this.screenReaderNotification&&this.screenReaderNotification.close(),this.updateState({screenReaderMode:i})},e.prototype.onSelectionChange=function(e){var t={};if(e){t.selections=e.getSelections()||[],t.charactersSelected=0;var i=e.getModel();if(i&&t.selections.forEach(function(e){t.charactersSelected+=i.getValueLengthInRange(e)}),1===t.selections.length){var n=e.getVisibleColumnFromPosition(e.getPosition()),r=t.selections[0].clone();r=new O.Selection(r.selectionStartLineNumber,r.selectionStartColumn,r.positionLineNumber,n),
t.selections[0]=r}}this.updateState({selectionStatus:this.getSelectionLabel(t)})},e.prototype.onEOLChange=function(e){var t={EOL:null};if(e&&!e.getConfiguration().readOnly){var i=e.getModel();i&&(t.EOL=i.getEOL())}this.updateState(t)},e.prototype.onEncodingChange=function(e){if(!e||this.isActiveEditor(e)){var t={encoding:null};if(e&&(B.isCodeEditor(e.getControl())||B.isDiffEditor(e.getControl()))){var i=j(e.input);if(i){var n=i.getEncoding(),r=x.SUPPORTED_ENCODINGS[n];t.encoding=r?r.labelShort:n}}this.updateState(t)}},e.prototype.onResourceEncodingChange=function(e){var t=this.editorService.activeControl;if(t){var i=v.toResource(t.input,{supportSideBySide:!0});if(i&&i.toString()===e.toString())return this.onEncodingChange(t)}},e.prototype.onTabFocusModeChange=function(){var e={tabFocusMode:k.TabFocus.getTabFocusMode()};this.updateState(e)},e.prototype.isActiveEditor=function(e){var t=this.editorService.activeControl;return t&&t===e},
e=r([o(0,C.IEditorService),o(1,w.IQuickOpenService),o(2,D.IInstantiationService),o(3,y.IUntitledEditorService),o(4,T.IModeService),o(5,L.ITextFileService),o(6,I.IWorkspaceConfigurationService),o(7,H.INotificationService)],e)}();t.EditorStatus=le;var ue=function(e){function t(i,r,o){var s=e.call(this,t.ID,n.localize("showLanguageExtensions","Search Marketplace Extensions for '{0}'...",i))||this;return s.fileExtension=i,s.commandService=r,s.enabled=o.isEnabled(),s}return i(t,e),t.prototype.run=function(){return this.commandService.executeCommand("workbench.extensions.action.showExtensionsForLanguage",this.fileExtension).then(function(){})},t.ID="workbench.action.showLanguageExtensions",t=r([o(1,M.ICommandService),o(2,P.IExtensionGalleryService)],t)}(p.Action);t.ShowLanguageExtensionsAction=ue;var de=function(e){function t(t,i,n,r,o,s,a,c,l,u){var d=e.call(this,t,i)||this;return d.modeService=n,d.modelService=r,d.editorService=o,d.configurationService=s,d.quickInputService=a,d.preferencesService=c,
d.instantiationService=l,d.untitledEditorService=u,d}return i(t,e),t.prototype.run=function(){var e=this,t=B.getCodeEditor(this.editorService.activeTextEditorWidget);if(!t)return this.quickInputService.pick([{label:n.localize("noEditor","No text editor active at this time")}]);var i=t.getModel(),r=v.toResource(this.editorService.activeEditor,{supportSideBySide:!0}),o=!!r;r.scheme!==W.Schemas.untitled||this.untitledEditorService.hasAssociatedFilePath(r)||(o=!1);var s,a;i&&(a=i.getLanguageIdentifier().language,s=this.modeService.getLanguageName(a));var c=this.modeService.getRegisteredLanguageNames().sort().map(function(t,i){var r;r=s===t?n.localize("languageDescription","({0}) - Configured Language",e.modeService.getModeIdForLanguageName(t.toLowerCase())):n.localize("languageDescriptionConfigured","({0})",e.modeService.getModeIdForLanguageName(t.toLowerCase()));var o,a=e.modeService.getExtensions(t);if(a&&a.length)o=d.URI.file(a[0]);else{var c=e.modeService.getFilenames(t);c&&c.length&&(o=d.URI.file(c[0]))}
return{label:t,iconClasses:G.getIconClasses(e.modelService,e.modeService,o),description:r}});o&&c.unshift({type:"separator",label:n.localize("languagesPicks","languages (identifier)")});var u,p,h;if(o){var f=l.extname(r.fsPath)||l.basename(r.fsPath);(h=this.instantiationService.createInstance(ue,f)).enabled&&c.unshift(h),p={label:n.localize("configureModeSettings","Configure '{0}' language based settings...",s)},c.unshift(p),u={label:n.localize("configureAssociationsExt","Configure File Association for '{0}'...",f)},c.unshift(u)}var g={label:n.localize("autoDetect","Auto Detect")};return o&&c.unshift(g),this.quickInputService.pick(c,{placeHolder:n.localize("pickLanguage","Select Language Mode"),matchOnDescription:!0}).then(function(t){if(t)if(t!==h)if(t!==u)if(t!==p){var n=e.editorService.activeEditor,o=e.editorService.activeTextEditorWidget,s=[];if(B.isCodeEditor(o)){var c=o.getModel();c&&s.push(c)}else if(B.isDiffEditor(o)){var l=o.getModel();l&&(l.original&&s.push(l.original),
l.modified&&s.push(l.modified))}var d;d=t===g?e.modeService.createByFilepathOrFirstLine(v.toResource(n,{supportSideBySide:!0}).fsPath,i.getLineContent(1)):e.modeService.createByLanguageName(t.label),s.forEach(function(t){e.modelService.setMode(t,d)})}else e.preferencesService.configureSettingsForLanguage(a);else e.configureFileAssociation(r);else h.run()})},t.prototype.configureFileAssociation=function(e){var t=this,i=l.extname(e.fsPath),r=l.basename(e.fsPath),o=this.modeService.getModeIdByFilepathOrFirstLine(r),s=this.modeService.getRegisteredLanguageNames().sort().map(function(e,i){var r=t.modeService.getModeIdForLanguageName(e.toLowerCase());return{id:r,label:e,description:r===o?n.localize("currentAssociation","Current Association"):void 0}});setTimeout(function(){t.quickInputService.pick(s,{placeHolder:n.localize("pickLanguageToConfigure","Select Language Mode to Associate with '{0}'",i||r)}).then(function(e){if(e){var n=t.configurationService.inspect(x.FILES_ASSOCIATIONS_CONFIG),o=void 0
;o=i&&"."!==r[0]?"*"+i:r;var s=1;n.workspace&&n.workspace[o]&&(s=2);var a=N.deepClone(2===s?n.workspace:n.user);a||(a=Object.create(null)),a[o]=e.id,t.configurationService.updateValue(x.FILES_ASSOCIATIONS_CONFIG,a,s)}})},50)},t.ID="workbench.action.editor.changeLanguageMode",t.LABEL=n.localize("changeMode","Change Language Mode"),t=r([o(2,T.IModeService),o(3,R.IModelService),o(4,C.IEditorService),o(5,I.IWorkspaceConfigurationService),o(6,z.IQuickInputService),o(7,V.IPreferencesService),o(8,D.IInstantiationService),o(9,y.IUntitledEditorService)],t)}(p.Action);t.ChangeModeAction=de;var pe=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.editorService=n,o.quickInputService=r,o}return i(t,e),t.prototype.run=function(){var e=B.getCodeEditor(this.editorService.activeTextEditorWidget);if(!e)return this.quickInputService.pick([{label:n.localize("noEditor","No text editor active at this time")}]);if(!Y(e))return this.quickInputService.pick([{
label:n.localize("noWritableCodeEditor","The active code editor is read-only.")}]);var t=[e.getAction(b.IndentUsingSpaces.ID),e.getAction(b.IndentUsingTabs.ID),e.getAction(b.DetectIndentation.ID),e.getAction(b.IndentationToSpacesAction.ID),e.getAction(b.IndentationToTabsAction.ID),e.getAction(S.TrimTrailingWhitespaceAction.ID)].map(function(t){return{id:t.id,label:t.label,detail:h.language===h.LANGUAGE_DEFAULT?null:t.alias,run:function(){e.focus(),t.run()}}});return t.splice(3,0,{type:"separator",label:n.localize("indentConvert","convert file")}),t.unshift({type:"separator",label:n.localize("indentView","change view")}),this.quickInputService.pick(t,{placeHolder:n.localize("pickAction","Select Action"),matchOnDetail:!0}).then(function(e){return e&&e.run()})},t.ID="workbench.action.editor.changeIndentation",t.LABEL=n.localize("changeIndentation","Change Indentation"),t=r([o(2,C.IEditorService),o(3,z.IQuickInputService)],t)}(p.Action),he=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this
;return o.editorService=n,o.quickInputService=r,o}return i(t,e),t.prototype.run=function(){var e=this,t=B.getCodeEditor(this.editorService.activeTextEditorWidget);if(!t)return this.quickInputService.pick([{label:n.localize("noEditor","No text editor active at this time")}]);if(!Y(t))return this.quickInputService.pick([{label:n.localize("noWritableCodeEditor","The active code editor is read-only.")}]);var i=t.getModel(),r=[{label:re,eol:0},{label:oe,eol:1}],o=i&&"\n"===i.getEOL()?0:1;return this.quickInputService.pick(r,{placeHolder:n.localize("pickEndOfLine","Select End of Line Sequence"),activeItem:r[o]}).then(function(t){if(t){var i=B.getCodeEditor(e.editorService.activeTextEditorWidget);if(i&&Y(i)){i.getModel().pushEOL(t.eol)}}})},t.ID="workbench.action.editor.changeEOL",t.LABEL=n.localize("changeEndOfLine","Change End of Line Sequence"),t=r([o(2,C.IEditorService),o(3,z.IQuickInputService)],t)}(p.Action);t.ChangeEOLAction=he;var fe=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i)||this
;return a.editorService=n,a.quickInputService=r,a.textResourceConfigurationService=o,a.fileService=s,a}return i(t,e),t.prototype.run=function(){var e=this;if(!B.getCodeEditor(this.editorService.activeTextEditorWidget))return this.quickInputService.pick([{label:n.localize("noEditor","No text editor active at this time")}]);var t=this.editorService.activeControl,i=j(t.input);if(!i)return this.quickInputService.pick([{label:n.localize("noFileEditor","No file active at this time")}]);var r,o;return h.language===h.LANGUAGE_DEFAULT?(r={label:n.localize("saveWithEncoding","Save with Encoding")},o={label:n.localize("reopenWithEncoding","Reopen with Encoding")}):(r={label:n.localize("saveWithEncoding","Save with Encoding"),detail:"Save with Encoding"},o={label:n.localize("reopenWithEncoding","Reopen with Encoding"),detail:"Reopen with Encoding"}),(i instanceof g.UntitledEditorInput?s.TPromise.as(r):function(e){return e&&Y(B.getCodeEditor(e.getControl()))}(t)?this.quickInputService.pick([o,r],{
placeHolder:n.localize("pickAction","Select Action"),matchOnDetail:!0}):s.TPromise.as(o)).then(function(r){if(r){var a=v.toResource(t.input,{supportSideBySide:!0});return K.timeout(50).then(function(){return a&&e.fileService.canHandleResource(a)?e.fileService.resolveContent(a,{autoGuessEncoding:!0,acceptTextOnly:!0}).then(function(e){return e.encoding},function(e){return null}):s.TPromise.as(null)}).then(function(s){var c,l,u=r===o,d=e.textResourceConfigurationService.getValue(a,"files.encoding"),p=Object.keys(x.SUPPORTED_ENCODINGS).sort(function(e,t){return e===d?-1:t===d?1:x.SUPPORTED_ENCODINGS[e].order-x.SUPPORTED_ENCODINGS[t].order}).filter(function(e){return(e!==s||s===d)&&(!u||!x.SUPPORTED_ENCODINGS[e].encodeOnly)}).map(function(e,t){return e===i.getEncoding()?c=t:x.SUPPORTED_ENCODINGS[e].alias===i.getEncoding()&&(l=t),{id:e,label:x.SUPPORTED_ENCODINGS[e].labelLong,description:e}}),h=p.slice();return s&&d!==s&&x.SUPPORTED_ENCODINGS[s]&&(p.unshift({type:"separator"}),p.unshift({id:s,
label:x.SUPPORTED_ENCODINGS[s].labelLong,description:n.localize("guessedEncoding","Guessed from content")})),e.quickInputService.pick(p,{placeHolder:u?n.localize("pickEncodingForReopen","Select File Encoding to Reopen File"):n.localize("pickEncodingForSave","Select File Encoding to Save with"),activeItem:h["number"==typeof c?c:"number"==typeof l?l:-1]}).then(function(n){n&&(t=e.editorService.activeControl,(i=j(t.input))&&i.getEncoding()!==n.id&&i.setEncoding(n.id,u?1:0))})})}})},t.ID="workbench.action.editor.changeEncoding",t.LABEL=n.localize("changeEncoding","Change File Encoding"),t=r([o(2,C.IEditorService),o(3,z.IQuickInputService),o(4,F.ITextResourceConfigurationService),o(5,x.IFileService)],t)}(p.Action);t.ChangeEncodingAction=fe}),define(e[529],t([1,0,7,2,6,64,175,103,17,464,172,136,155,116,4,249,31,276,526,47,111,26,121,69,188,123,10,110,74,11,20,218,32,67,213]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N){"use strict";function B(t,i,n,r){var o={command:{id:t.id,
title:t.title,iconLocation:{dark:a.URI.parse(e.toUrl("vs/workbench/browser/parts/editor/media/"+t.iconDark)),light:a.URI.parse(e.toUrl("vs/workbench/browser/parts/editor/media/"+t.iconLight))}},group:"navigation",when:i,order:n};r&&(o.alt={id:r.id,title:r.title,iconLocation:{dark:a.URI.parse(e.toUrl("vs/workbench/browser/parts/editor/media/"+r.iconDark)),light:a.URI.parse(e.toUrl("vs/workbench/browser/parts/editor/media/"+r.iconLight))}}),w.MenuRegistry.appendMenuItem(7,o)}Object.defineProperty(t,"__esModule",{value:!0}),n.Registry.as(u.Extensions.Editors).registerEditor(new u.EditorDescriptor(p.TextResourceEditor,p.TextResourceEditor.ID,s.localize("textEditor","Text Editor")),[new I.SyncDescriptor(g.UntitledEditorInput),new I.SyncDescriptor(v.ResourceEditorInput)]),n.Registry.as(u.Extensions.Editors).registerEditor(new u.EditorDescriptor(y.TextDiffEditor,y.TextDiffEditor.ID,s.localize("textDiffEditor","Text Diff Editor")),[new I.SyncDescriptor(f.DiffEditorInput)]),
n.Registry.as(u.Extensions.Editors).registerEditor(new u.EditorDescriptor(b.BinaryResourceDiffEditor,b.BinaryResourceDiffEditor.ID,s.localize("binaryDiffEditor","Binary Diff Editor")),[new I.SyncDescriptor(f.DiffEditorInput)]),n.Registry.as(u.Extensions.Editors).registerEditor(new u.EditorDescriptor(h.SideBySideEditor,h.SideBySideEditor.ID,s.localize("sideBySideEditor","Side by Side Editor")),[new I.SyncDescriptor(d.SideBySideEditorInput)]);var W=function(){function e(e){this.textFileService=e}return e.prototype.serialize=function(e){if(!this.textFileService.isHotExitEnabled)return null;var t=e,i=t.getResource();t.hasAssociatedFilePath&&(i=i.with({scheme:L.Schemas.file}));var n={resource:i.toString(),resourceJSON:i.toJSON(),modeId:t.getModeId(),encoding:t.getEncoding()};return JSON.stringify(n)},e.prototype.deserialize=function(e,t){return e.invokeFunction(function(e){
var i=JSON.parse(t),n=i.resourceJSON?a.URI.revive(i.resourceJSON):a.URI.parse(i.resource),r=n.scheme===L.Schemas.file?n.fsPath:void 0,o=i.modeId,s=i.encoding;return e.get(R.IEditorService).createInput({resource:n,filePath:r,language:o,encoding:s})})},e=r([o(0,S.ITextFileService)],e)}();n.Registry.as(d.Extensions.EditorInputFactories).registerEditorInputFactory(g.UntitledEditorInput.ID,W);var V=function(){function e(){}return e.prototype.serialize=function(e){var t=e;if(t.details&&t.master){var i=n.Registry.as(d.Extensions.EditorInputFactories),r=i.getEditorInputFactory(t.details.getTypeId()),o=i.getEditorInputFactory(t.master.getTypeId());if(r&&o){var s=r.serialize(t.details),a=o.serialize(t.master);if(s&&a)return JSON.stringify({name:t.getName(),description:t.getDescription(),detailsSerialized:s,masterSerialized:a,detailsTypeId:t.details.getTypeId(),masterTypeId:t.master.getTypeId()})}}return null},e.prototype.deserialize=function(e,t){
var i=JSON.parse(t),r=n.Registry.as(d.Extensions.EditorInputFactories),o=r.getEditorInputFactory(i.detailsTypeId),s=r.getEditorInputFactory(i.masterTypeId);if(o&&s){var a=o.deserialize(e,i.detailsSerialized),c=s.deserialize(e,i.masterSerialized);if(a&&c)return new d.SideBySideEditorInput(i.name,i.description,a,c)}return null},e}();n.Registry.as(d.Extensions.EditorInputFactories).registerEditorInputFactory(d.SideBySideEditorInput.ID,V),F.registerEditorContribution(N.OpenWorkspaceButtonContribution);n.Registry.as(l.Extensions.Statusbar).registerStatusbarItem(new l.StatusbarItemDescriptor(E.EditorStatus,1,100));var z=n.Registry.as(_.Extensions.WorkbenchActions);z.registerWorkbenchAction(new w.SyncActionDescriptor(E.ChangeModeAction,E.ChangeModeAction.ID,E.ChangeModeAction.LABEL,{primary:x.KeyChord(2089,43)}),"Change Language Mode"),z.registerWorkbenchAction(new w.SyncActionDescriptor(E.ChangeEOLAction,E.ChangeEOLAction.ID,E.ChangeEOLAction.LABEL),"Change End of Line Sequence"),
z.registerWorkbenchAction(new w.SyncActionDescriptor(E.ChangeEncodingAction,E.ChangeEncodingAction.ID,E.ChangeEncodingAction.LABEL),"Change File Encoding");var G=function(e){function t(t){var i=e.call(this)||this;return i.instantiationService=t,i}return i(t,e),t.prototype.hasActions=function(e){return!!this.getEntry(e)},t.prototype.getActions=function(e){var t=[];return this.getEntry(e)&&(this.openToSideActionInstance?this.openToSideActionInstance.updateClass():this.openToSideActionInstance=this.instantiationService.createInstance(D.OpenToSideFromQuickOpenAction),t.push(this.openToSideActionInstance)),t},t.prototype.getEntry=function(e){return e&&e.element?D.toEditorQuickOpenEntry(e.element):null},t=r([o(0,m.IInstantiationService)],t)}(C.ActionBarContributor);t.QuickOpenActionContributor=G;n.Registry.as(C.Extensions.Actionbar).registerActionBarContributor(C.Scope.VIEWER,G);var K=k.ContextKeyExpr.and(A.inQuickOpenContext,k.ContextKeyExpr.has("inEditorsPicker"))
;n.Registry.as(c.Extensions.Quickopen).registerQuickOpenHandler(new c.QuickOpenHandlerDescriptor(P.ActiveEditorGroupPicker,P.ActiveEditorGroupPicker.ID,T.NAVIGATE_IN_ACTIVE_GROUP_PREFIX,"inEditorsPicker",[{prefix:T.NAVIGATE_IN_ACTIVE_GROUP_PREFIX,needsEditor:!1,description:s.localize("groupOnePicker","Show Editors in Active Group")}])),n.Registry.as(c.Extensions.Quickopen).registerQuickOpenHandler(new c.QuickOpenHandlerDescriptor(P.AllEditorsPicker,P.AllEditorsPicker.ID,T.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,"inEditorsPicker",[{prefix:T.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,needsEditor:!1,description:s.localize("allEditorsPicker","Show All Opened Editors")}]));var H=s.localize("view","View");z.registerWorkbenchAction(new w.SyncActionDescriptor(D.OpenNextEditorInGroup,D.OpenNextEditorInGroup.ID,D.OpenNextEditorInGroup.LABEL),"View: Open Next Editor in Group",H),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.OpenPreviousEditorInGroup,D.OpenPreviousEditorInGroup.ID,D.OpenPreviousEditorInGroup.LABEL),"View: Open Previous Editor in Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.OpenLastEditorInGroup,D.OpenLastEditorInGroup.ID,D.OpenLastEditorInGroup.LABEL,{primary:533,secondary:[2078],mac:{primary:277,secondary:[2078]}}),"View: Open Last Editor in Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.OpenFirstEditorInGroup,D.OpenFirstEditorInGroup.ID,D.OpenFirstEditorInGroup.LABEL),"View: Open First Editor in Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.OpenNextRecentlyUsedEditorAction,D.OpenNextRecentlyUsedEditorAction.ID,D.OpenNextRecentlyUsedEditorAction.LABEL),"View: Open Next Recently Used Editor",H),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.OpenPreviousRecentlyUsedEditorAction,D.OpenPreviousRecentlyUsedEditorAction.ID,D.OpenPreviousRecentlyUsedEditorAction.LABEL),"View: Open Previous Recently Used Editor",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.ShowAllEditorsAction,D.ShowAllEditorsAction.ID,D.ShowAllEditorsAction.LABEL,{primary:x.KeyChord(2089,2094),mac:{primary:2562}}),"View: Show All Editors",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.ShowEditorsInActiveGroupAction,D.ShowEditorsInActiveGroupAction.ID,D.ShowEditorsInActiveGroupAction.LABEL),"View: Show Editors in Active Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.OpenNextEditor,D.OpenNextEditor.ID,D.OpenNextEditor.LABEL,{primary:2060,mac:{primary:2577,secondary:[3161]}}),"View: Open Next Editor",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.OpenPreviousEditor,D.OpenPreviousEditor.ID,D.OpenPreviousEditor.LABEL,{primary:2059,mac:{primary:2575,secondary:[3159]}
}),"View: Open Previous Editor",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.ReopenClosedEditorAction,D.ReopenClosedEditorAction.ID,D.ReopenClosedEditorAction.LABEL,{primary:3122}),"View: Reopen Closed Editor",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.ClearRecentFilesAction,D.ClearRecentFilesAction.ID,D.ClearRecentFilesAction.LABEL),"File: Clear Recently Opened",s.localize("file","File")),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.CloseAllEditorsAction,D.CloseAllEditorsAction.ID,D.CloseAllEditorsAction.LABEL,{primary:x.KeyChord(2089,2101)}),"View: Close All Editors",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.CloseAllEditorGroupsAction,D.CloseAllEditorGroupsAction.ID,D.CloseAllEditorGroupsAction.LABEL,{primary:x.KeyChord(2089,3125)}),"View: Close All Editor Groups",H),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.CloseLeftEditorsInGroupAction,D.CloseLeftEditorsInGroupAction.ID,D.CloseLeftEditorsInGroupAction.LABEL),"View: Close Editors in Group to the Left",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.CloseEditorsInOtherGroupsAction,D.CloseEditorsInOtherGroupsAction.ID,D.CloseEditorsInOtherGroupsAction.LABEL),"View: Close Editors in Other Groups",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.CloseEditorInAllGroupsAction,D.CloseEditorInAllGroupsAction.ID,D.CloseEditorInAllGroupsAction.LABEL),"View: Close Editor in All Groups",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.SplitEditorAction,D.SplitEditorAction.ID,D.SplitEditorAction.LABEL,{primary:2136}),"View: Split Editor",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.SplitEditorOrthogonalAction,D.SplitEditorOrthogonalAction.ID,D.SplitEditorOrthogonalAction.LABEL,{primary:x.KeyChord(2089,2136)}),"View: Split Editor Orthogonal",H),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.SplitEditorLeftAction,D.SplitEditorLeftAction.ID,D.SplitEditorLeftAction.LABEL),"View: Split Editor Left",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.SplitEditorRightAction,D.SplitEditorRightAction.ID,D.SplitEditorRightAction.LABEL),"View: Split Editor Right",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.SplitEditorUpAction,D.SplitEditorUpAction.ID,D.SplitEditorUpAction.LABEL),"Split Editor Up",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.SplitEditorDownAction,D.SplitEditorDownAction.ID,D.SplitEditorDownAction.LABEL),"View: Split Editor Down",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.JoinTwoGroupsAction,D.JoinTwoGroupsAction.ID,D.JoinTwoGroupsAction.LABEL),"View: Join Editors of Two Groups",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.JoinAllGroupsAction,D.JoinAllGroupsAction.ID,D.JoinAllGroupsAction.LABEL),"View: Join Editors of All Groups",H),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.NavigateBetweenGroupsAction,D.NavigateBetweenGroupsAction.ID,D.NavigateBetweenGroupsAction.LABEL),"View: Navigate Between Editor Groups",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.ResetGroupSizesAction,D.ResetGroupSizesAction.ID,D.ResetGroupSizesAction.LABEL),"View: Reset Editor Group Sizes",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MaximizeGroupAction,D.MaximizeGroupAction.ID,D.MaximizeGroupAction.LABEL),"View: Maximize Editor Group and Hide Side Bar",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MinimizeOtherGroupsAction,D.MinimizeOtherGroupsAction.ID,D.MinimizeOtherGroupsAction.LABEL),"View: Maximize Editor Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveEditorLeftInGroupAction,D.MoveEditorLeftInGroupAction.ID,D.MoveEditorLeftInGroupAction.LABEL,{primary:3083,mac:{primary:x.KeyChord(2089,3087)}}),"View: Move Editor Left",H),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveEditorRightInGroupAction,D.MoveEditorRightInGroupAction.ID,D.MoveEditorRightInGroupAction.LABEL,{primary:3084,mac:{primary:x.KeyChord(2089,3089)}}),"View: Move Editor Right",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveGroupLeftAction,D.MoveGroupLeftAction.ID,D.MoveGroupLeftAction.LABEL,{primary:x.KeyChord(2089,15)}),"View: Move Editor Group Left",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveGroupRightAction,D.MoveGroupRightAction.ID,D.MoveGroupRightAction.LABEL,{primary:x.KeyChord(2089,17)}),"View: Move Editor Group Right",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveGroupUpAction,D.MoveGroupUpAction.ID,D.MoveGroupUpAction.LABEL,{primary:x.KeyChord(2089,16)}),"View: Move Editor Group Up",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveGroupDownAction,D.MoveGroupDownAction.ID,D.MoveGroupDownAction.LABEL,{primary:x.KeyChord(2089,18)}),"View: Move Editor Group Down",H),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveEditorToPreviousGroupAction,D.MoveEditorToPreviousGroupAction.ID,D.MoveEditorToPreviousGroupAction.LABEL,{primary:2575,mac:{primary:2319}}),"View: Move Editor into Previous Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveEditorToNextGroupAction,D.MoveEditorToNextGroupAction.ID,D.MoveEditorToNextGroupAction.LABEL,{primary:2577,mac:{primary:2321}}),"View: Move Editor into Next Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveEditorToFirstGroupAction,D.MoveEditorToFirstGroupAction.ID,D.MoveEditorToFirstGroupAction.LABEL,{primary:1558,mac:{primary:2326}}),"View: Move Editor into First Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveEditorToLastGroupAction,D.MoveEditorToLastGroupAction.ID,D.MoveEditorToLastGroupAction.LABEL,{primary:1566,mac:{primary:2334}}),"View: Move Editor into Last Group",H),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveEditorToLeftGroupAction,D.MoveEditorToLeftGroupAction.ID,D.MoveEditorToLeftGroupAction.LABEL),"View: Move Editor into Left Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveEditorToRightGroupAction,D.MoveEditorToRightGroupAction.ID,D.MoveEditorToRightGroupAction.LABEL),"View: Move Editor into Right Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveEditorToAboveGroupAction,D.MoveEditorToAboveGroupAction.ID,D.MoveEditorToAboveGroupAction.LABEL),"View: Move Editor into Above Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.MoveEditorToBelowGroupAction,D.MoveEditorToBelowGroupAction.ID,D.MoveEditorToBelowGroupAction.LABEL),"View: Move Editor into Below Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.FocusActiveGroupAction,D.FocusActiveGroupAction.ID,D.FocusActiveGroupAction.LABEL),"View: Focus Active Editor Group",H),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.FocusFirstGroupAction,D.FocusFirstGroupAction.ID,D.FocusFirstGroupAction.LABEL,{primary:2070}),"View: Focus First Editor Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.FocusLastGroupAction,D.FocusLastGroupAction.ID,D.FocusLastGroupAction.LABEL),"View: Focus Last Editor Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.FocusPreviousGroup,D.FocusPreviousGroup.ID,D.FocusPreviousGroup.LABEL),"View: Focus Previous Editor Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.FocusNextGroup,D.FocusNextGroup.ID,D.FocusNextGroup.LABEL),"View: Focus Next Editor Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.FocusLeftGroup,D.FocusLeftGroup.ID,D.FocusLeftGroup.LABEL,{primary:x.KeyChord(2089,2063)}),"View: Focus Left Editor Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.FocusRightGroup,D.FocusRightGroup.ID,D.FocusRightGroup.LABEL,{primary:x.KeyChord(2089,2065)
}),"View: Focus Right Editor Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.FocusAboveGroup,D.FocusAboveGroup.ID,D.FocusAboveGroup.LABEL,{primary:x.KeyChord(2089,2064)}),"View: Focus Above Editor Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.FocusBelowGroup,D.FocusBelowGroup.ID,D.FocusBelowGroup.LABEL,{primary:x.KeyChord(2089,2066)}),"View: Focus Below Editor Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.NewEditorGroupLeftAction,D.NewEditorGroupLeftAction.ID,D.NewEditorGroupLeftAction.LABEL),"View: New Editor Group to the Left",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.NewEditorGroupRightAction,D.NewEditorGroupRightAction.ID,D.NewEditorGroupRightAction.LABEL),"View: New Editor Group to the Right",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.NewEditorGroupAboveAction,D.NewEditorGroupAboveAction.ID,D.NewEditorGroupAboveAction.LABEL),"View: New Editor Group Above",H),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.NewEditorGroupBelowAction,D.NewEditorGroupBelowAction.ID,D.NewEditorGroupBelowAction.LABEL),"View: New Editor Group Below",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.NavigateForwardAction,D.NavigateForwardAction.ID,D.NavigateForwardAction.LABEL,{primary:0,win:{primary:529},mac:{primary:1363},linux:{primary:3155}}),"Go Forward"),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.NavigateBackwardsAction,D.NavigateBackwardsAction.ID,D.NavigateBackwardsAction.LABEL,{primary:0,win:{primary:527},mac:{primary:339},linux:{primary:2643}}),"Go Back"),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.NavigateToLastEditLocationAction,D.NavigateToLastEditLocationAction.ID,D.NavigateToLastEditLocationAction.LABEL,{primary:x.KeyChord(2089,2095)}),"Go to Last Edit Location"),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.NavigateLastAction,D.NavigateLastAction.ID,D.NavigateLastAction.LABEL),"Go Last"),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.OpenPreviousEditorFromHistoryAction,D.OpenPreviousEditorFromHistoryAction.ID,D.OpenPreviousEditorFromHistoryAction.LABEL),"Open Previous Editor from History"),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.ClearEditorHistoryAction,D.ClearEditorHistoryAction.ID,D.ClearEditorHistoryAction.LABEL),"Clear Editor History"),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.RevertAndCloseEditorAction,D.RevertAndCloseEditorAction.ID,D.RevertAndCloseEditorAction.LABEL),"View: Revert and Close Editor",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.EditorLayoutSingleAction,D.EditorLayoutSingleAction.ID,D.EditorLayoutSingleAction.LABEL),"View: Single Column Editor Layout",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.EditorLayoutTwoColumnsAction,D.EditorLayoutTwoColumnsAction.ID,D.EditorLayoutTwoColumnsAction.LABEL),"View: Two Columns Editor Layout",H),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.EditorLayoutThreeColumnsAction,D.EditorLayoutThreeColumnsAction.ID,D.EditorLayoutThreeColumnsAction.LABEL),"View: Three Columns Editor Layout",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.EditorLayoutTwoRowsAction,D.EditorLayoutTwoRowsAction.ID,D.EditorLayoutTwoRowsAction.LABEL),"View: Two Rows Editor Layout",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.EditorLayoutThreeRowsAction,D.EditorLayoutThreeRowsAction.ID,D.EditorLayoutThreeRowsAction.LABEL),"View: Three Rows Editor Layout",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.EditorLayoutTwoByTwoGridAction,D.EditorLayoutTwoByTwoGridAction.ID,D.EditorLayoutTwoByTwoGridAction.LABEL),"View: Grid Editor Layout (2x2)",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.EditorLayoutTwoRowsRightAction,D.EditorLayoutTwoRowsRightAction.ID,D.EditorLayoutTwoRowsRightAction.LABEL),"View: Two Rows Right Editor Layout",H),
z.registerWorkbenchAction(new w.SyncActionDescriptor(D.EditorLayoutTwoColumnsBottomAction,D.EditorLayoutTwoColumnsBottomAction.ID,D.EditorLayoutTwoColumnsBottomAction.LABEL),"View: Two Columns Bottom Editor Layout",H);var U={primary:2050,mac:{primary:258}},j={primary:3074,mac:{primary:1282}};z.registerWorkbenchAction(new w.SyncActionDescriptor(D.OpenNextRecentlyUsedEditorInGroupAction,D.OpenNextRecentlyUsedEditorInGroupAction.ID,D.OpenNextRecentlyUsedEditorInGroupAction.LABEL,U),"View: Open Next Recently Used Editor in Group",H),z.registerWorkbenchAction(new w.SyncActionDescriptor(D.OpenPreviousRecentlyUsedEditorInGroupAction,D.OpenPreviousRecentlyUsedEditorInGroupAction.ID,D.OpenPreviousRecentlyUsedEditorInGroupAction.LABEL,j),"View: Open Previous Recently Used Editor in Group",H);O.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigateNextInEditorPicker",weight:250,handler:A.getQuickNavigateHandler("workbench.action.quickOpenNavigateNextInEditorPicker",!0),when:K,
primary:U.primary,mac:U.mac});O.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigatePreviousInEditorPicker",weight:250,handler:A.getQuickNavigateHandler("workbench.action.quickOpenNavigatePreviousInEditorPicker",!1),when:K,primary:j.primary,mac:j.mac}),T.setup(),M.isMacintosh&&(w.MenuRegistry.appendMenuItem(34,{command:{id:D.NavigateBackwardsAction.ID,title:D.NavigateBackwardsAction.LABEL,iconLocation:{dark:a.URI.parse(e.toUrl("vs/workbench/browser/parts/editor/media/back-tb.png"))}},group:"navigation"}),w.MenuRegistry.appendMenuItem(34,{command:{id:D.NavigateForwardAction.ID,title:D.NavigateForwardAction.LABEL,iconLocation:{dark:a.URI.parse(e.toUrl("vs/workbench/browser/parts/editor/media/forward-tb.png"))}},group:"navigation"})),w.MenuRegistry.appendMenuItem(9,{command:{id:T.SPLIT_EDITOR_UP,title:s.localize("splitUp","Split Up")},group:"2_split",order:10}),w.MenuRegistry.appendMenuItem(9,{command:{id:T.SPLIT_EDITOR_DOWN,title:s.localize("splitDown","Split Down")},
group:"2_split",order:20}),w.MenuRegistry.appendMenuItem(9,{command:{id:T.SPLIT_EDITOR_LEFT,title:s.localize("splitLeft","Split Left")},group:"2_split",order:30}),w.MenuRegistry.appendMenuItem(9,{command:{id:T.SPLIT_EDITOR_RIGHT,title:s.localize("splitRight","Split Right")},group:"2_split",order:40}),w.MenuRegistry.appendMenuItem(9,{command:{id:T.CLOSE_EDITOR_GROUP_COMMAND_ID,title:s.localize("close","Close")},group:"3_close",order:10,when:k.ContextKeyExpr.has("multipleEditorGroups")}),w.MenuRegistry.appendMenuItem(8,{command:{id:T.CLOSE_EDITOR_COMMAND_ID,title:s.localize("close","Close")},group:"1_close",order:10}),w.MenuRegistry.appendMenuItem(8,{command:{id:T.CLOSE_OTHER_EDITORS_IN_GROUP_COMMAND_ID,title:s.localize("closeOthers","Close Others")},group:"1_close",order:20}),w.MenuRegistry.appendMenuItem(8,{command:{id:T.CLOSE_EDITORS_TO_THE_RIGHT_COMMAND_ID,title:s.localize("closeRight","Close to the Right")},group:"1_close",order:30,when:k.ContextKeyExpr.has("config.workbench.editor.showTabs")}),
w.MenuRegistry.appendMenuItem(8,{command:{id:T.CLOSE_SAVED_EDITORS_COMMAND_ID,title:s.localize("closeAllSaved","Close Saved")},group:"1_close",order:40}),w.MenuRegistry.appendMenuItem(8,{command:{id:T.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,title:s.localize("closeAll","Close All")},group:"1_close",order:50}),w.MenuRegistry.appendMenuItem(8,{command:{id:T.KEEP_EDITOR_COMMAND_ID,title:s.localize("keepOpen","Keep Open")},group:"3_preview",order:10,when:k.ContextKeyExpr.has("config.workbench.editor.enablePreview")}),w.MenuRegistry.appendMenuItem(8,{command:{id:T.SPLIT_EDITOR_UP,title:s.localize("splitUp","Split Up")},group:"5_split",order:10}),w.MenuRegistry.appendMenuItem(8,{command:{id:T.SPLIT_EDITOR_DOWN,title:s.localize("splitDown","Split Down")},group:"5_split",order:20}),w.MenuRegistry.appendMenuItem(8,{command:{id:T.SPLIT_EDITOR_LEFT,title:s.localize("splitLeft","Split Left")},group:"5_split",order:30}),w.MenuRegistry.appendMenuItem(8,{command:{id:T.SPLIT_EDITOR_RIGHT,title:s.localize("splitRight","Split Right")
},group:"5_split",order:40}),w.MenuRegistry.appendMenuItem(7,{command:{id:T.TOGGLE_DIFF_SIDE_BY_SIDE,title:s.localize("toggleSideBySideView","Toggle Side By Side View")},group:"1_diff",order:10,when:k.ContextKeyExpr.has("isInDiffEditor")}),w.MenuRegistry.appendMenuItem(7,{command:{id:T.SHOW_EDITORS_IN_GROUP,title:s.localize("showOpenedEditors","Show Opened Editors")},group:"3_open",order:10,when:k.ContextKeyExpr.has("config.workbench.editor.showTabs")}),w.MenuRegistry.appendMenuItem(7,{command:{id:T.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,title:s.localize("closeAll","Close All")},group:"5_close",order:10,when:k.ContextKeyExpr.has("config.workbench.editor.showTabs")}),w.MenuRegistry.appendMenuItem(7,{command:{id:T.CLOSE_SAVED_EDITORS_COMMAND_ID,title:s.localize("closeAllSaved","Close Saved")},group:"5_close",order:20,when:k.ContextKeyExpr.has("config.workbench.editor.showTabs")}),B({id:D.SplitEditorAction.ID,title:s.localize("splitEditorRight","Split Editor Right"),iconDark:"split-editor-horizontal-inverse.svg",
iconLight:"split-editor-horizontal.svg"},k.ContextKeyExpr.not("splitEditorsVertically"),1e5,{id:T.SPLIT_EDITOR_DOWN,title:s.localize("splitEditorDown","Split Editor Down"),iconDark:"split-editor-vertical-inverse.svg",iconLight:"split-editor-vertical.svg"}),B({id:D.SplitEditorAction.ID,title:s.localize("splitEditorDown","Split Editor Down"),iconDark:"split-editor-vertical-inverse.svg",iconLight:"split-editor-vertical.svg"},k.ContextKeyExpr.has("splitEditorsVertically"),1e5,{id:T.SPLIT_EDITOR_RIGHT,title:s.localize("splitEditorRight","Split Editor Right"),iconDark:"split-editor-horizontal-inverse.svg",iconLight:"split-editor-horizontal.svg"}),B({id:T.CLOSE_EDITOR_COMMAND_ID,title:s.localize("close","Close"),iconDark:"close-big-inverse-alt.svg",iconLight:"close-big-alt.svg"},k.ContextKeyExpr.and(k.ContextKeyExpr.not("config.workbench.editor.showTabs"),k.ContextKeyExpr.not("groupActiveEditorDirty")),1e6,{id:T.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,title:s.localize("closeAll","Close All"),
iconDark:"closeall-editors-inverse.svg",iconLight:"closeall-editors.svg"}),B({id:T.CLOSE_EDITOR_COMMAND_ID,title:s.localize("close","Close"),iconDark:"close-dirty-inverse-alt.svg",iconLight:"close-dirty-alt.svg"},k.ContextKeyExpr.and(k.ContextKeyExpr.not("config.workbench.editor.showTabs"),k.ContextKeyExpr.has("groupActiveEditorDirty")),1e6,{id:T.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,title:s.localize("closeAll","Close All"),iconDark:"closeall-editors-inverse.svg",iconLight:"closeall-editors.svg"}),B({id:T.GOTO_PREVIOUS_CHANGE,title:s.localize("navigate.prev.label","Previous Change"),iconDark:"previous-diff-inverse.svg",iconLight:"previous-diff.svg"},d.TextCompareEditorActiveContext,10),B({id:T.GOTO_NEXT_CHANGE,title:s.localize("navigate.next.label","Next Change"),iconDark:"next-diff-inverse.svg",iconLight:"next-diff.svg"},d.TextCompareEditorActiveContext,11),B({id:T.TOGGLE_DIFF_IGNORE_TRIM_WHITESPACE,title:s.localize("ignoreTrimWhitespace.label","Ignore Trim Whitespace"),iconDark:"paragraph-inverse.svg",
iconLight:"paragraph.svg"},k.ContextKeyExpr.and(d.TextCompareEditorActiveContext,k.ContextKeyExpr.notEquals("config.diffEditor.ignoreTrimWhitespace",!0)),20),B({id:T.TOGGLE_DIFF_IGNORE_TRIM_WHITESPACE,title:s.localize("showTrimWhitespace.label","Show Trim Whitespace"),iconDark:"paragraph-disabled-inverse.svg",iconLight:"paragraph-disabled.svg"},k.ContextKeyExpr.and(d.TextCompareEditorActiveContext,k.ContextKeyExpr.notEquals("config.diffEditor.ignoreTrimWhitespace",!1)),20),w.MenuRegistry.appendMenuItem(0,{command:{id:T.KEEP_EDITOR_COMMAND_ID,title:{value:s.localize("keepEditor","Keep Editor"),original:"View: Keep Editor"},category:H},when:k.ContextKeyExpr.has("config.workbench.editor.enablePreview")}),w.MenuRegistry.appendMenuItem(0,{command:{id:T.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,title:{value:s.localize("closeEditorsInGroup","Close All Editors in Group"),original:"View: Close All Editors in Group"},category:H}}),w.MenuRegistry.appendMenuItem(0,{command:{id:T.CLOSE_SAVED_EDITORS_COMMAND_ID,title:{
value:s.localize("closeSavedEditors","Close Saved Editors in Group"),original:"View: Close Saved Editors in Group"},category:H}}),w.MenuRegistry.appendMenuItem(0,{command:{id:T.CLOSE_OTHER_EDITORS_IN_GROUP_COMMAND_ID,title:{value:s.localize("closeOtherEditors","Close Other Editors in Group"),original:"View: Close Other Editors in Group"},category:H}}),w.MenuRegistry.appendMenuItem(0,{command:{id:T.CLOSE_EDITORS_TO_THE_RIGHT_COMMAND_ID,title:{value:s.localize("closeRightEditors","Close Editors to the Right in Group"),original:"View: Close Editors to the Right in Group"},category:H}}),w.MenuRegistry.appendMenuItem(20,{group:"1_editor",command:{id:D.ReopenClosedEditorAction.ID,title:s.localize({key:"miReopenClosedEditor",comment:["&& denotes a mnemonic"]},"&&Reopen Closed Editor")},order:1}),w.MenuRegistry.appendMenuItem(20,{group:"z_clear",command:{id:D.ClearRecentFilesAction.ID,title:s.localize({key:"miClearRecentOpen",comment:["&& denotes a mnemonic"]},"&&Clear Recently Opened")},order:1}),
w.MenuRegistry.appendMenuItem(25,{group:"2_appearance",title:s.localize({key:"miEditorLayout",comment:["&& denotes a mnemonic"]},"Editor &&Layout"),submenu:17,order:2}),w.MenuRegistry.appendMenuItem(17,{group:"1_split",command:{id:T.SPLIT_EDITOR_UP,title:s.localize({key:"miSplitEditorUp",comment:["&& denotes a mnemonic"]},"Split &&Up")},order:1}),w.MenuRegistry.appendMenuItem(17,{group:"1_split",command:{id:T.SPLIT_EDITOR_DOWN,title:s.localize({key:"miSplitEditorDown",comment:["&& denotes a mnemonic"]},"Split &&Down")},order:2}),w.MenuRegistry.appendMenuItem(17,{group:"1_split",command:{id:T.SPLIT_EDITOR_LEFT,title:s.localize({key:"miSplitEditorLeft",comment:["&& denotes a mnemonic"]},"Split &&Left")},order:3}),w.MenuRegistry.appendMenuItem(17,{group:"1_split",command:{id:T.SPLIT_EDITOR_RIGHT,title:s.localize({key:"miSplitEditorRight",comment:["&& denotes a mnemonic"]},"Split &&Right")},order:4}),w.MenuRegistry.appendMenuItem(17,{group:"2_layouts",command:{id:D.EditorLayoutSingleAction.ID,title:s.localize({
key:"miSingleColumnEditorLayout",comment:["&& denotes a mnemonic"]},"&&Single")},order:1}),w.MenuRegistry.appendMenuItem(17,{group:"2_layouts",command:{id:D.EditorLayoutTwoColumnsAction.ID,title:s.localize({key:"miTwoColumnsEditorLayout",comment:["&& denotes a mnemonic"]},"&&Two Columns")},order:3}),w.MenuRegistry.appendMenuItem(17,{group:"2_layouts",command:{id:D.EditorLayoutThreeColumnsAction.ID,title:s.localize({key:"miThreeColumnsEditorLayout",comment:["&& denotes a mnemonic"]},"T&&hree Columns")},order:4}),w.MenuRegistry.appendMenuItem(17,{group:"2_layouts",command:{id:D.EditorLayoutTwoRowsAction.ID,title:s.localize({key:"miTwoRowsEditorLayout",comment:["&& denotes a mnemonic"]},"T&&wo Rows")},order:5}),w.MenuRegistry.appendMenuItem(17,{group:"2_layouts",command:{id:D.EditorLayoutThreeRowsAction.ID,title:s.localize({key:"miThreeRowsEditorLayout",comment:["&& denotes a mnemonic"]},"Three &&Rows")},order:6}),w.MenuRegistry.appendMenuItem(17,{group:"2_layouts",command:{
id:D.EditorLayoutTwoByTwoGridAction.ID,title:s.localize({key:"miTwoByTwoGridEditorLayout",comment:["&& denotes a mnemonic"]},"&&Grid (2x2)")},order:7}),w.MenuRegistry.appendMenuItem(17,{group:"2_layouts",command:{id:D.EditorLayoutTwoRowsRightAction.ID,title:s.localize({key:"miTwoRowsRightEditorLayout",comment:["&& denotes a mnemonic"]},"Two R&&ows Right")},order:8}),w.MenuRegistry.appendMenuItem(17,{group:"2_layouts",command:{id:D.EditorLayoutTwoColumnsBottomAction.ID,title:s.localize({key:"miTwoColumnsBottomEditorLayout",comment:["&& denotes a mnemonic"]},"Two &&Columns Bottom")},order:9}),w.MenuRegistry.appendMenuItem(15,{group:"1_fwd_back",command:{id:"workbench.action.navigateBack",title:s.localize({key:"miBack",comment:["&& denotes a mnemonic"]},"&&Back"),precondition:k.ContextKeyExpr.has("canNavigateBack")},order:1}),w.MenuRegistry.appendMenuItem(15,{group:"1_fwd_back",command:{id:"workbench.action.navigateForward",title:s.localize({key:"miForward",comment:["&& denotes a mnemonic"]},"&&Forward"),
precondition:k.ContextKeyExpr.has("canNavigateForward")},order:2}),w.MenuRegistry.appendMenuItem(22,{group:"1_any",command:{id:"workbench.action.nextEditor",title:s.localize({key:"miNextEditor",comment:["&& denotes a mnemonic"]},"&&Next Editor")},order:1}),w.MenuRegistry.appendMenuItem(22,{group:"1_any",command:{id:"workbench.action.previousEditor",title:s.localize({key:"miPreviousEditor",comment:["&& denotes a mnemonic"]},"&&Previous Editor")},order:2}),w.MenuRegistry.appendMenuItem(22,{group:"2_used",command:{id:"workbench.action.openNextRecentlyUsedEditorInGroup",title:s.localize({key:"miNextEditorInGroup",comment:["&& denotes a mnemonic"]},"&&Next Used Editor in Group")},order:1}),w.MenuRegistry.appendMenuItem(22,{group:"2_used",command:{id:"workbench.action.openPreviousRecentlyUsedEditorInGroup",title:s.localize({key:"miPreviousEditorInGroup",comment:["&& denotes a mnemonic"]},"&&Previous Used Editor in Group")},order:2}),w.MenuRegistry.appendMenuItem(15,{group:"2_switch",title:s.localize({
key:"miSwitchEditor",comment:["&& denotes a mnemonic"]},"Switch &&Editor"),submenu:22,order:1}),w.MenuRegistry.appendMenuItem(23,{group:"1_focus_index",command:{id:"workbench.action.focusFirstEditorGroup",title:s.localize({key:"miFocusFirstGroup",comment:["&& denotes a mnemonic"]},"Group &&1")},order:1}),w.MenuRegistry.appendMenuItem(23,{group:"1_focus_index",command:{id:"workbench.action.focusSecondEditorGroup",title:s.localize({key:"miFocusSecondGroup",comment:["&& denotes a mnemonic"]},"Group &&2")},order:2}),w.MenuRegistry.appendMenuItem(23,{group:"1_focus_index",command:{id:"workbench.action.focusThirdEditorGroup",title:s.localize({key:"miFocusThirdGroup",comment:["&& denotes a mnemonic"]},"Group &&3")},order:3}),w.MenuRegistry.appendMenuItem(23,{group:"1_focus_index",command:{id:"workbench.action.focusFourthEditorGroup",title:s.localize({key:"miFocusFourthGroup",comment:["&& denotes a mnemonic"]},"Group &&4")},order:4}),w.MenuRegistry.appendMenuItem(23,{group:"1_focus_index",command:{
id:"workbench.action.focusFifthEditorGroup",title:s.localize({key:"miFocusFifthGroup",comment:["&& denotes a mnemonic"]},"Group &&5")},order:5}),w.MenuRegistry.appendMenuItem(23,{group:"2_next_prev",command:{id:"workbench.action.focusNextGroup",title:s.localize({key:"miNextGroup",comment:["&& denotes a mnemonic"]},"&&Next Group")},order:1}),w.MenuRegistry.appendMenuItem(23,{group:"2_next_prev",command:{id:"workbench.action.focusPreviousGroup",title:s.localize({key:"miPreviousGroup",comment:["&& denotes a mnemonic"]},"&&Previous Group")},order:2}),w.MenuRegistry.appendMenuItem(23,{group:"3_directional",command:{id:"workbench.action.focusLeftGroup",title:s.localize({key:"miFocusLeftGroup",comment:["&& denotes a mnemonic"]},"Group &&Left")},order:1}),w.MenuRegistry.appendMenuItem(23,{group:"3_directional",command:{id:"workbench.action.focusRightGroup",title:s.localize({key:"miFocusRightGroup",comment:["&& denotes a mnemonic"]},"Group &&Right")},order:2}),w.MenuRegistry.appendMenuItem(23,{group:"3_directional",
command:{id:"workbench.action.focusAboveGroup",title:s.localize({key:"miFocusAboveGroup",comment:["&& denotes a mnemonic"]},"Group &&Above")},order:3}),w.MenuRegistry.appendMenuItem(23,{group:"3_directional",command:{id:"workbench.action.focusBelowGroup",title:s.localize({key:"miFocusBelowGroup",comment:["&& denotes a mnemonic"]},"Group &&Below")},order:4}),w.MenuRegistry.appendMenuItem(15,{group:"2_switch",title:s.localize({key:"miSwitchGroup",comment:["&& denotes a mnemonic"]},"Switch &&Group"),submenu:23,order:2})}),define(e[274],t([1,0,150,8,105,127,19,3,63,2,130,26,9,11,37,4,43,25,54,30,27,12,111,86,82,124,273,104,17,163,57,45,306]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var L=function(e){function t(t,i,n,r,o,s,a,c,l,u,d,p,h,f){var g=e.call(this,p)||this;return g.accessor=i,g.group=n,g.contextMenuService=r,g.instantiationService=o,g.contextKeyService=s,g.keybindingService=a,g.telemetryService=c,
g.notificationService=l,g.menuService=u,g.quickOpenService=d,g.extensionService=h,g.configurationService=f,g.groupTransfer=x.LocalSelectionTransfer.getInstance(),g.editorTransfer=x.LocalSelectionTransfer.getInstance(),g.currentPrimaryEditorActionIds=[],g.currentSecondaryEditorActionIds=[],g.editorToolBarMenuDisposables=[],g.resourceContext=o.createInstance(k.ResourceContextKey),g.contextMenu=g._register(g.menuService.createMenu(8,g.contextKeyService)),g.create(t),g.registerListeners(),g}return i(t,e),t.prototype.registerListeners=function(){var e=this;this._register(this.extensionService.onDidRegisterExtensions(function(){return e.updateEditorActionsToolbar()}))},t.prototype.createBreadcrumbsControl=function(e,t){var i=this,n=this._register(T.BreadcrumbsConfig.IsEnabled.bindTo(this.configurationService));this._register(n.onDidChange(function(){var r=n.getValue();!r&&i.breadcrumbsControl?(i.breadcrumbsControl.dispose(),i.breadcrumbsControl=void 0,
i.handleBreadcrumbsEnablementChange()):r&&!i.breadcrumbsControl&&(i.breadcrumbsControl=i.instantiationService.createInstance(R.BreadcrumbsControl,e,t,i.group),i.breadcrumbsControl.update(),i.handleBreadcrumbsEnablementChange())})),n.getValue()&&(this.breadcrumbsControl=this.instantiationService.createInstance(R.BreadcrumbsControl,e,t,this.group))},t.prototype.createEditorActionsToolBar=function(e){var t=this,i={groupId:this.group.id};this.editorActionsToolbar=this._register(new c.ToolBar(e,this.contextMenuService,{actionItemProvider:function(e){return t.actionItemProvider(e)},orientation:0,ariaLabel:p.localize("araLabelEditorActions","Editor actions"),getKeyBinding:function(e){return t.getKeybinding(e)},actionRunner:this._register(new O.EditorCommandsContextActionRunner(i))})),this.editorActionsToolbar.context=i,this._register(this.editorActionsToolbar.actionRunner.onDidRun(function(e){t.notificationService.error(e.error),t.telemetryService&&t.telemetryService.publicLog("workbenchActionExecuted",{
id:e.action.id,from:"editorPart"})}))},t.prototype.actionItemProvider=function(e){var t,i=this.group.activeControl;return i instanceof D.BaseEditor&&(t=i.getActionItem(e)),t||(t=h.createActionItem(e,this.keybindingService,this.notificationService,this.contextMenuService)),t},t.prototype.updateEditorActionsToolbar=function(){var e=this.prepareEditorActions(this.getEditorActions()),t=e.primaryEditorActions,i=e.secondaryEditorActions,n=t.map(function(e){return e.id}),r=i.map(function(e){return e.id});l.equals(n,this.currentPrimaryEditorActionIds)&&l.equals(r,this.currentSecondaryEditorActionIds)&&!t.some(function(e){return e instanceof f.ExecuteCommandAction})&&!i.some(function(e){return e instanceof f.ExecuteCommandAction})||(this.editorActionsToolbar.setActions(t,i)(),this.currentPrimaryEditorActionIds=n,this.currentSecondaryEditorActionIds=r)},t.prototype.prepareEditorActions=function(e){var t,i;return t=this.accessor.activeGroup===this.group?I.prepareActions(e.primary):[],i=I.prepareActions(e.secondary),{
primaryEditorActions:t,secondaryEditorActions:i}},t.prototype.getEditorActions=function(){var e=this,t=[],i=[];this.editorToolBarMenuDisposables=u.dispose(this.editorToolBarMenuDisposables),this.resourceContext.set(O.toResource(this.group.activeEditor,{supportSideBySide:!0}));var n=this.group.activeControl;if(n instanceof D.BaseEditor){var r=d.getCodeEditor(n.getControl()),o=r&&r.invokeWithinContext(function(e){return e.get(v.IContextKeyService)})||this.contextKeyService,s=this.menuService.createMenu(7,o);this.editorToolBarMenuDisposables.push(s),this.editorToolBarMenuDisposables.push(s.onDidChange(function(){e.updateEditorActionsToolbar()})),h.fillInActionBarActions(s,{arg:this.resourceContext.get(),shouldForwardArgs:!0},{primary:t,secondary:i})}return{primary:t,secondary:i}},t.prototype.clearEditorActionsToolbar=function(){this.editorActionsToolbar.setActions([],[])(),this.currentPrimaryEditorActionIds=[],this.currentSecondaryEditorActionIds=[]},t.prototype.enableGroupDragging=function(e){var t=this
;this._register(s.addDisposableListener(e,s.EventType.DRAG_START,function(i){if(i.target===e){if(t.groupTransfer.setData([new x.DraggedEditorGroupIdentifier(t.group.id)],x.DraggedEditorGroupIdentifier.prototype),i.dataTransfer.effectAllowed="copyMove",!t.accessor.partOptions.showTabs){var r=O.toResource(t.group.activeEditor,{supportSideBySide:!0});r&&t.instantiationService.invokeFunction(x.fillResourceDataTransfers,[r],i)}var o=t.group.activeEditor.getName();t.accessor.partOptions.showTabs&&t.group.count>1&&(o=p.localize("draggedEditorGroup","{0} (+{1})",o,t.group.count-1)),n.applyDragImage(i,o,"monaco-editor-group-drag-image")}})),this._register(s.addDisposableListener(e,s.EventType.DRAG_END,function(){t.groupTransfer.clearData(x.DraggedEditorGroupIdentifier.prototype)}))},t.prototype.onContextMenu=function(e,t,i){var n=this,r=this.resourceContext.get();this.resourceContext.set(O.toResource(e,{supportSideBySide:!0}));var o=i;if(t instanceof MouseEvent){var s=new a.StandardMouseEvent(t);o={x:s.posx,y:s.posy}}
var c=[];h.fillInContextMenuActions(this.contextMenu,{shouldForwardArgs:!0,arg:this.resourceContext.get()},c,this.contextMenuService),this.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return c},getActionsContext:function(){return{groupId:n.group.id,editorIndex:n.group.getIndexOfEditor(e)}},getKeyBinding:function(e){return n.getKeybinding(e)},onHide:function(){n.resourceContext.set(r),n.accessor.activeGroup.focus()}})},t.prototype.getKeybinding=function(e){return this.keybindingService.lookupKeybinding(e.id)},t.prototype.getKeybindingLabel=function(e){var t=this.getKeybinding(e);return t?t.getLabel():void 0},t.prototype.layout=function(e){this.breadcrumbsControl&&this.breadcrumbsControl.layout(void 0)},t.prototype.getPreferredHeight=function(){return A.EDITOR_TITLE_HEIGHT+(this.breadcrumbsControl&&!this.breadcrumbsControl.isHidden()?R.BreadcrumbsControl.HEIGHT:0)},t.prototype.dispose=function(){this.breadcrumbsControl=u.dispose(this.breadcrumbsControl),
this.editorToolBarMenuDisposables=u.dispose(this.editorToolBarMenuDisposables),e.prototype.dispose.call(this)},t=r([o(3,m.IContextMenuService),o(4,y.IInstantiationService),o(5,v.IContextKeyService),o(6,S.IKeybindingService),o(7,_.ITelemetryService),o(8,b.INotificationService),o(9,f.IMenuService),o(10,E.IQuickOpenService),o(11,w.IThemeService),o(12,P.IExtensionService),o(13,g.IConfigurationService)],t)}(M.Themable);t.TitleControl=L,w.registerThemingParticipant(function(e,t){var i=e.getColor(C.listActiveSelectionBackground),n=e.getColor(C.listActiveSelectionForeground);t.addRule("\n\t\t.monaco-editor-group-drag-image {\n\t\t\tbackground: "+i+";\n\t\t\tcolor: "+n+";\n\t\t}\n\t")})}),define(e[531],t([1,0,17,274,102,57,131,8,104,123,62,295]),function(e,t,n,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeLabel=Object.create(null),t}return i(t,e),t.prototype.create=function(e){var t=this
;this.titleContainer=e,this.titleContainer.draggable=!0,this.registerContainerListeners(),a.Gesture.addTarget(this.titleContainer);var i=document.createElement("div");c.addClass(i,"label-container"),this.titleContainer.appendChild(i),this.editorLabel=this._register(this.instantiationService.createInstance(o.ResourceLabel,i,void 0)),this._register(this.editorLabel.onClick(function(e){return t.onTitleLabelClick(e)})),this.createBreadcrumbsControl(i,{showFileIcons:!1,showSymbolIcons:!0,showDecorationColors:!1,breadcrumbsBackground:function(){return d.Color.transparent}}),c.toggleClass(this.titleContainer,"breadcrumbs",Boolean(this.breadcrumbsControl)),this.toDispose.push({dispose:function(){return c.removeClass(t.titleContainer,"breadcrumbs")}});var n=document.createElement("div");c.addClass(n,"title-actions"),this.titleContainer.appendChild(n),this.createEditorActionsToolBar(n)},t.prototype.registerContainerListeners=function(){var e=this;this.enableGroupDragging(this.titleContainer),
this._register(c.addDisposableListener(this.titleContainer,c.EventType.DBLCLICK,function(t){return e.onTitleDoubleClick(t)})),this._register(c.addDisposableListener(this.titleContainer,c.EventType.CLICK,function(t){return e.onTitleClick(t)})),this._register(c.addDisposableListener(this.titleContainer,a.EventType.Tap,function(t){return e.onTitleClick(t)})),this._register(c.addDisposableListener(this.titleContainer,c.EventType.CONTEXT_MENU,function(t){return e.onContextMenu(e.group.activeEditor,t,e.titleContainer)})),this._register(c.addDisposableListener(this.titleContainer,a.EventType.Contextmenu,function(t){return e.onContextMenu(e.group.activeEditor,t,e.titleContainer)}))},t.prototype.onTitleLabelClick=function(e){var t=this;c.EventHelper.stop(e,!1),setTimeout(function(){return t.quickOpenService.show()})},t.prototype.onTitleDoubleClick=function(e){c.EventHelper.stop(e),this.group.pinEditor()},t.prototype.onTitleClick=function(e){e instanceof MouseEvent&&1===e.button&&(c.EventHelper.stop(e,!0),
this.group.closeEditor(this.group.activeEditor))},t.prototype.getPreferredHeight=function(){return l.EDITOR_TITLE_HEIGHT},t.prototype.openEditor=function(e){var t=this;this.ifActiveEditorChanged(function(){return t.redraw()})||this.ifActiveEditorPropertiesChanged(function(){return t.redraw()})},t.prototype.closeEditor=function(e){var t=this;this.ifActiveEditorChanged(function(){return t.redraw()})},t.prototype.closeEditors=function(e){var t=this;this.ifActiveEditorChanged(function(){return t.redraw()})},t.prototype.closeAllEditors=function(){this.redraw()},t.prototype.moveEditor=function(e,t,i){var n=this;this.ifActiveEditorChanged(function(){return n.redraw()})},t.prototype.pinEditor=function(e){var t=this;this.ifEditorIsActive(e,function(){return t.redraw()})},t.prototype.setActive=function(e){this.redraw()},t.prototype.updateEditorLabel=function(e){var t=this;this.ifEditorIsActive(e,function(){return t.redraw()})},t.prototype.updateEditorDirty=function(e){var t=this;this.ifEditorIsActive(e,function(){
e.isDirty()?c.addClass(t.titleContainer,"dirty"):c.removeClass(t.titleContainer,"dirty")})},t.prototype.updateOptions=function(e,t){e.labelFormat!==t.labelFormat&&this.redraw()},t.prototype.updateStyles=function(){this.redraw()},t.prototype.handleBreadcrumbsEnablementChange=function(){c.toggleClass(this.titleContainer,"breadcrumbs",Boolean(this.breadcrumbsControl)),this.redraw()},t.prototype.ifActiveEditorChanged=function(e){return!(!(!this.activeLabel.editor&&this.group.activeEditor||this.activeLabel.editor&&!this.group.activeEditor)&&this.group.isActive(this.activeLabel.editor))&&(e(),!0)},t.prototype.ifActiveEditorPropertiesChanged=function(e){this.activeLabel.editor&&this.group.activeEditor&&this.activeLabel.pinned!==this.group.isPinned(this.group.activeEditor)&&e()},t.prototype.ifEditorIsActive=function(e,t){this.group.isActive(e)&&t()},t.prototype.redraw=function(){var e=this.group.activeEditor,t=this.group.isPinned(this.group.activeEditor),i=this.accessor.activeGroup===this.group;if(this.activeLabel={
editor:e,pinned:t},this.breadcrumbsControl&&(i?(this.breadcrumbsControl.update(),c.toggleClass(this.breadcrumbsControl.domNode,"preview",!t)):this.breadcrumbsControl.hide()),e){this.updateEditorDirty(e);var r=n.toResource(e,{supportSideBySide:!0}),o=e.getName()||"",a=this.accessor.partOptions.labelFormat,l=void 0;l=this.breadcrumbsControl&&!this.breadcrumbsControl.isHidden()?"":"default"!==a||i?e.getDescription(this.getVerbosity(a))||"":"";var u=e.getTitle(2);l===u&&(u=""),this.editorLabel.setLabel({name:o,description:l,resource:r},{title:u,italic:!t,extraClasses:["no-tabs","title-label"]}),this.editorLabel.element.style.color=i?this.getColor(s.TAB_ACTIVE_FOREGROUND):this.getColor(s.TAB_UNFOCUSED_ACTIVE_FOREGROUND),this.updateEditorActionsToolbar()}else c.removeClass(this.titleContainer,"dirty"),this.editorLabel.clear(),this.clearEditorActionsToolbar()},t.prototype.getVerbosity=function(e){switch(e){case"short":return 0;case"long":return 2;default:return 1}},t.prototype.prepareEditorActions=function(t){
return this.accessor.activeGroup===this.group?e.prototype.prepareEditorActions.call(this,t):{primaryEditorActions:t.primary.filter(function(e){return e.id===u.CLOSE_EDITOR_COMMAND_ID}),secondaryEditorActions:[]}},t}(r.TitleControl);t.NoTabsTitleControl=p}),define(e[532],t([1,0,20,97,17,72,131,102,53,37,30,4,43,11,26,274,54,3,253,44,12,57,27,86,25,45,56,8,2,188,9,273,302]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var L=function(e){function t(t,i,n,r,o,s,a,c,l,u,d,p,h,f,g){var v=e.call(this,t,i,n,r,o,a,c,l,u,d,p,h,f,g)||this;return v.untitledEditorService=s,v.tabLabelWidgets=[],v.tabLabels=[],v.tabDisposeables=[],v}return i(t,e),t.prototype.create=function(e){this.titleContainer=e,this.tabsContainer=document.createElement("div"),this.tabsContainer.setAttribute("role","tablist"),this.tabsContainer.draggable=!0,A.addClass(this.tabsContainer,"tabs-container"),this.registerContainerListeners(),this.createScrollbar(),
this.editorToolbarContainer=document.createElement("div"),A.addClass(this.editorToolbarContainer,"editor-actions"),this.titleContainer.appendChild(this.editorToolbarContainer),this.createEditorActionsToolBar(this.editorToolbarContainer),this.closeOneEditorAction=this._register(this.instantiationService.createInstance(k.CloseOneEditorAction,k.CloseOneEditorAction.ID,k.CloseOneEditorAction.LABEL));var t=document.createElement("div");A.addClass(t,"tabs-breadcrumbs"),this.titleContainer.appendChild(t),this.createBreadcrumbsControl(t,{showFileIcons:!0,showSymbolIcons:!0,showDecorationColors:!1,breadcrumbsBackground:I.breadcrumbsBackground})},t.prototype.createScrollbar=function(){var e=this;this.scrollbar=new E.ScrollableElement(this.tabsContainer,{horizontal:1,vertical:2,scrollYToX:!0,useShadows:!1,horizontalScrollbarSize:3}),this.scrollbar.onScroll(function(t){e.tabsContainer.scrollLeft=t.scrollLeft}),this.titleContainer.appendChild(this.scrollbar.getDomNode())},t.prototype.updateBreadcrumbsControl=function(){
this.breadcrumbsControl&&this.breadcrumbsControl.update()&&this.group.relayout()},t.prototype.handleBreadcrumbsEnablementChange=function(){this.group.relayout()},t.prototype.registerContainerListeners=function(){var e=this;this.enableGroupDragging(this.tabsContainer),this._register(A.addDisposableListener(this.tabsContainer,A.EventType.SCROLL,function(){A.hasClass(e.tabsContainer,"scroll")&&e.scrollbar.setScrollPosition({scrollLeft:e.tabsContainer.scrollLeft})})),this._register(A.addDisposableListener(this.tabsContainer,A.EventType.DBLCLICK,function(t){t.target===e.tabsContainer&&(A.EventHelper.stop(t),e.group.openEditor(e.untitledEditorService.createOrGet(),{pinned:!0,index:e.group.count}))})),this._register(A.addDisposableListener(this.tabsContainer,A.EventType.MOUSE_DOWN,function(e){1===e.button&&e.preventDefault()})),this._register(new x.DragAndDropObserver(this.tabsContainer,{onDragEnter:function(t){if(A.addClass(e.tabsContainer,"scroll"),t.target===e.tabsContainer)if(e.isSupportedDropTransfer(t)){
var i=!1;if(e.editorTransfer.hasData(x.DraggedEditorIdentifier.prototype)){i=!0;var n=e.editorTransfer.getData(x.DraggedEditorIdentifier.prototype)[0].identifier;if(e.group.id===n.groupId&&e.group.getIndexOfEditor(n.editor)===e.group.count-1)return void(t.dataTransfer.dropEffect="none")}i||(t.dataTransfer.dropEffect="copy"),e.updateDropFeedback(e.tabsContainer,!0)}else t.dataTransfer.dropEffect="none";else e.updateDropFeedback(e.tabsContainer,!1)},onDragLeave:function(t){e.updateDropFeedback(e.tabsContainer,!1),A.removeClass(e.tabsContainer,"scroll")},onDragEnd:function(t){e.updateDropFeedback(e.tabsContainer,!1),A.removeClass(e.tabsContainer,"scroll")},onDrop:function(t){e.updateDropFeedback(e.tabsContainer,!1),A.removeClass(e.tabsContainer,"scroll"),t.target===e.tabsContainer&&e.onDrop(t,e.group.count)}}))},t.prototype.updateEditorActionsToolbar=function(){e.prototype.updateEditorActionsToolbar.call(this),this.layout(this.dimension)},t.prototype.openEditor=function(e){
for(var t=this.tabsContainer.children.length;t<this.group.count;t++)this.tabsContainer.appendChild(this.createTab(t));this.computeTabLabels(),this.redraw(),this.updateBreadcrumbsControl()},t.prototype.closeEditor=function(e){this.handleClosedEditors()},t.prototype.closeEditors=function(e){this.handleClosedEditors()},t.prototype.closeAllEditors=function(){this.handleClosedEditors()},t.prototype.handleClosedEditors=function(){if(this.group.activeEditor){for(;this.tabsContainer.children.length>this.group.count;)this.tabsContainer.lastChild.remove(),this.tabLabelWidgets.pop(),this.tabDisposeables.pop().dispose();this.computeTabLabels(),this.redraw()}else A.clearNode(this.tabsContainer),this.tabDisposeables=b.dispose(this.tabDisposeables),this.tabLabelWidgets=[],this.tabLabels=[],this.clearEditorActionsToolbar();this.updateBreadcrumbsControl()},t.prototype.moveEditor=function(e,t,i){var n=this,r=this.tabLabels[t];this.tabLabels.splice(t,1),this.tabLabels.splice(i,0,r),this.forEachTab(function(e,t,i,r,o){
n.redrawTab(e,t,i,r,o)}),this.layout(this.dimension)},t.prototype.pinEditor=function(e){var t=this;this.withTab(e,function(i,n,r){return t.redrawLabel(e,i,n,r)})},t.prototype.setActive=function(e){var t=this;this.forEachTab(function(i,n,r,o,s){t.redrawEditorActiveAndDirty(e,i,r,o)}),this.updateEditorActionsToolbar(),this.layout(this.dimension)},t.prototype.updateEditorLabel=function(e){var t=this;this.computeTabLabels(),this.forEachTab(function(e,i,n,r,o){t.redrawLabel(e,n,r,o)}),this.layout(this.dimension)},t.prototype.updateEditorDirty=function(e){var t=this;this.withTab(e,function(i,n){return t.redrawEditorActiveAndDirty(t.accessor.activeGroup===t.group,e,i,n)})},t.prototype.updateOptions=function(e,t){e.labelFormat!==t.labelFormat&&this.computeTabLabels(),e.labelFormat===t.labelFormat&&e.tabCloseButton===t.tabCloseButton&&e.tabSizing===t.tabSizing&&e.showIcons===t.showIcons&&e.iconTheme===t.iconTheme&&e.highlightModifiedTabs===t.highlightModifiedTabs||this.redraw()},t.prototype.updateStyles=function(){
this.redraw()},t.prototype.withTab=function(e,t){var i=this.group.getIndexOfEditor(e),n=this.tabsContainer.children[i];n&&t(n,this.tabLabelWidgets[i],this.tabLabels[i])},t.prototype.createTab=function(e){var t=this,i=document.createElement("div");i.draggable=!0,i.tabIndex=0,i.setAttribute("role","presentation"),A.addClass(i,"tab"),l.Gesture.addTarget(i);var n=document.createElement("div");A.addClass(n,"tab-border-top-container"),i.appendChild(n);var r=this.instantiationService.createInstance(u.ResourceLabel,i,void 0);this.tabLabelWidgets.push(r);var o=document.createElement("div");A.addClass(o,"tab-close"),i.appendChild(o);var s=document.createElement("div");A.addClass(s,"tab-border-bottom-container"),i.appendChild(s);var c=new a.EditorCommandsContextActionRunner({groupId:this.group.id,editorIndex:e}),p=new d.ActionBar(o,{ariaLabel:O.localize("araLabelTabActions","Tab actions"),actionRunner:c});p.push(this.closeOneEditorAction,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(this.closeOneEditorAction)}),
p.onDidBeforeRun(function(){return t.blockRevealActiveTabOnce()});var h=this.registerTabListeners(i,e);return this.tabDisposeables.push(b.combinedDisposable([h,p,c,r])),i},t.prototype.registerTabListeners=function(e,t){var i=this,n=[],r=function(n){e.blur(),n instanceof MouseEvent&&0!==n.button?1===n.button&&n.preventDefault():i.originatesFromTabActionBar(n)||i.group.openEditor(i.group.getEditor(t))},o=function(n){A.EventHelper.stop(n),i.onContextMenu(i.group.getEditor(t),n,e)};return n.push(A.addDisposableListener(e,A.EventType.MOUSE_DOWN,function(e){return r(e)})),n.push(A.addDisposableListener(e,l.EventType.Tap,function(e){return r(e)})),n.push(A.addDisposableListener(e,l.EventType.Change,function(e){i.scrollbar.setScrollPosition({scrollLeft:i.scrollbar.getScrollPosition().scrollLeft-e.translationX})})),n.push(A.addDisposableListener(e,A.EventType.MOUSE_UP,function(n){A.EventHelper.stop(n),e.blur(),1!==n.button||i.originatesFromTabActionBar(n)||(n.stopPropagation(),i.blockRevealActiveTabOnce(),
i.closeOneEditorAction.run({groupId:i.group.id,editorIndex:t}))})),n.push(A.addDisposableListener(e,A.EventType.KEY_DOWN,function(e){var t=new c.StandardKeyboardEvent(e);t.shiftKey&&68===t.keyCode&&o(e)})),n.push(A.addDisposableListener(e,l.EventType.Contextmenu,function(e){o(e)})),n.push(A.addDisposableListener(e,A.EventType.KEY_UP,function(e){var n=new c.StandardKeyboardEvent(e),r=!1;if(n.equals(3)||n.equals(10))r=!0,i.group.openEditor(i.group.getEditor(t));else if([15,17,16,18,14,13].some(function(e){return n.equals(e)})){var o=void 0;o=n.equals(15)||n.equals(16)?t-1:n.equals(17)||n.equals(18)?t+1:n.equals(14)?0:i.group.count-1;var s=i.group.getEditor(o);s&&(r=!0,i.group.openEditor(s,{preserveFocus:!0}),i.tabsContainer.childNodes[o].focus())}r&&A.EventHelper.stop(e,!0),i.scrollbar.setScrollPosition({scrollLeft:i.tabsContainer.scrollLeft})})),n.push(A.addDisposableListener(e,A.EventType.DBLCLICK,function(e){A.EventHelper.stop(e),i.group.pinEditor(i.group.getEditor(t))})),
n.push(A.addDisposableListener(e,A.EventType.CONTEXT_MENU,function(n){A.EventHelper.stop(n,!0),i.onContextMenu(i.group.getEditor(t),n,e)},!0)),n.push(A.addDisposableListener(e,A.EventType.DRAG_START,function(n){var r=i.group.getEditor(t);i.editorTransfer.setData([new x.DraggedEditorIdentifier({editor:r,groupId:i.group.id})],x.DraggedEditorIdentifier.prototype),n.dataTransfer.effectAllowed="copyMove";var o=a.toResource(r,{supportSideBySide:!0});o&&i.instantiationService.invokeFunction(x.fillResourceDataTransfers,[o],n),A.addClass(e,"dragged"),A.scheduleAtNextAnimationFrame(function(){return A.removeClass(e,"dragged")})})),n.push(new x.DragAndDropObserver(e,{onDragEnter:function(n){if(A.addClass(e,"dragged-over"),i.isSupportedDropTransfer(n)){var r=!1;if(i.editorTransfer.hasData(x.DraggedEditorIdentifier.prototype)){r=!0;var o=i.editorTransfer.getData(x.DraggedEditorIdentifier.prototype)[0].identifier;if(o.editor===i.group.getEditor(t)&&o.groupId===i.group.id)return void(n.dataTransfer.dropEffect="none")}
r||(n.dataTransfer.dropEffect="copy"),i.updateDropFeedback(e,!0,t)}else n.dataTransfer.dropEffect="none"},onDragLeave:function(n){A.removeClass(e,"dragged-over"),i.updateDropFeedback(e,!1,t)},onDragEnd:function(n){A.removeClass(e,"dragged-over"),i.updateDropFeedback(e,!1,t),i.editorTransfer.clearData(x.DraggedEditorIdentifier.prototype)},onDrop:function(n){A.removeClass(e,"dragged-over"),i.updateDropFeedback(e,!1,t),i.onDrop(n,t)}})),b.combinedDisposable(n)},t.prototype.isSupportedDropTransfer=function(e){if(this.groupTransfer.hasData(x.DraggedEditorGroupIdentifier.prototype)){return this.groupTransfer.getData(x.DraggedEditorGroupIdentifier.prototype)[0].identifier!==this.group.id}return!!this.editorTransfer.hasData(x.DraggedEditorIdentifier.prototype)||e.dataTransfer.types.length>0},t.prototype.updateDropFeedback=function(e,t,i){var n="number"==typeof i,r=n&&this.group.isActive(this.group.getEditor(i)),o=n?this.getColor(r?w.TAB_ACTIVE_BACKGROUND:w.TAB_INACTIVE_BACKGROUND):null
;e.style.backgroundColor=t?this.getColor(w.EDITOR_DRAG_AND_DROP_BACKGROUND):o;var s=this.getColor(I.activeContrastBorder);s&&t?(e.style.outlineWidth="2px",e.style.outlineStyle="dashed",e.style.outlineColor=s,e.style.outlineOffset=n?"-5px":"-3px"):(e.style.outlineWidth=null,e.style.outlineStyle=null,e.style.outlineColor=s,e.style.outlineOffset=null)},t.prototype.computeTabLabels=function(){var e=this.accessor.partOptions.labelFormat,t=this.getLabelConfigFlags(e),i=t.verbosity,n=t.shortenDuplicates,r=this.group.editors.map(function(e){return{editor:e,name:e.getName(),description:e.getDescription(i),title:e.getTitle(2)}});n&&this.shortenTabLabels(r),this.tabLabels=r},t.prototype.shortenTabLabels=function(e){for(var t=new Map,i=0,n=e;i<n.length;i++){var r=n[i];"string"==typeof r.description?_.getOrSet(t,r.name,[]).push(r):r.description=""}t.forEach(function(e){if(1!==e.length){for(var t=new Map,i=0,n=e;i<n.length;i++){u=n[i];_.getOrSet(t,u.description,[]).push(u)}var r=!1;t.forEach(function(e,t){
if(!r&&e.length>1){var i=e.map(function(e){return e.editor.getDescription(2)}),n=i[0],o=i.slice(1);r=o.some(function(e){return e!==n})}}),r&&(t.clear(),e.forEach(function(e){e.description=e.editor.getDescription(2),_.getOrSet(t,e.description,[]).push(e)}));var o=[];if(t.forEach(function(e,t){return o.push(t)}),1!==o.length){var a=s.shorten(o);o.forEach(function(e,i){for(var n=0,r=t.get(e);n<r.length;n++){r[n].description=a[i]}})}else for(var c=0,l=t.get(o[0]);c<l.length;c++){var u;(u=l[c]).description=""}}else e[0].description=""})},t.prototype.getLabelConfigFlags=function(e){switch(e){case"short":return{verbosity:0,shortenDuplicates:!1};case"medium":return{verbosity:1,shortenDuplicates:!1};case"long":return{verbosity:2,shortenDuplicates:!1};default:return{verbosity:1,shortenDuplicates:!0}}},t.prototype.redraw=function(){var e=this;this.forEachTab(function(t,i,n,r,o){e.redrawTab(t,i,n,r,o)}),this.updateEditorActionsToolbar(),this.layout(this.dimension)},t.prototype.forEachTab=function(e){var t=this
;this.group.editors.forEach(function(i,n){var r=t.tabsContainer.children[n];r&&e(i,n,r,t.tabLabelWidgets[n],t.tabLabels[n])})},t.prototype.redrawTab=function(e,t,i,n,r){this.redrawLabel(e,i,n,r);var o=this.getColor(w.TAB_BORDER)||this.getColor(I.contrastBorder);i.style.borderRight=o?"1px solid "+o:null,i.style.outlineColor=this.getColor(I.activeContrastBorder);var s=this.accessor.partOptions;["off","left","right"].forEach(function(e){(s.tabCloseButton===e?A.addClass:A.removeClass)(i,"close-button-"+e)}),["fit","shrink"].forEach(function(e){(s.tabSizing===e?A.addClass:A.removeClass)(i,"sizing-"+e)}),s.showIcons&&s.iconTheme?A.addClass(i,"has-icon-theme"):A.removeClass(i,"has-icon-theme"),this.redrawEditorActiveAndDirty(this.accessor.activeGroup===this.group,e,i,n)},t.prototype.redrawLabel=function(e,t,i,n){var r=n.name,o=n.description||"",s=n.title||"";t.setAttribute("aria-label",r+", tab"),t.title=s,i.setLabel({name:r,description:o,resource:a.toResource(e,{supportSideBySide:!0})},{title:s,
extraClasses:["tab-label"],italic:!this.group.isPinned(e)})},t.prototype.redrawEditorActiveAndDirty=function(e,t,i,n){var r=this.group.isActive(t),o=this.doRedrawEditorDirty(e,r,t,i);this.doRedrawEditorActive(e,!o,t,i,n)},t.prototype.doRedrawEditorActive=function(e,t,i,n,r){if(this.group.isActive(i)){A.addClass(n,"active"),n.setAttribute("aria-selected","true"),n.style.backgroundColor=this.getColor(w.TAB_ACTIVE_BACKGROUND);var o=this.getColor(e?w.TAB_ACTIVE_BORDER:w.TAB_UNFOCUSED_ACTIVE_BORDER);o?(A.addClass(n,"tab-border-bottom"),n.style.setProperty("--tab-border-bottom-color",o.toString())):(A.removeClass(n,"tab-border-bottom"),n.style.removeProperty("--tab-border-bottom-color"));var s=t?this.getColor(e?w.TAB_ACTIVE_BORDER_TOP:w.TAB_UNFOCUSED_ACTIVE_BORDER_TOP):void 0;s?(A.addClass(n,"tab-border-top"),n.style.setProperty("--tab-border-top-color",s.toString())):(A.removeClass(n,"tab-border-top"),n.style.removeProperty("--tab-border-top-color")),
r.element.style.color=this.getColor(e?w.TAB_ACTIVE_FOREGROUND:w.TAB_UNFOCUSED_ACTIVE_FOREGROUND)}else A.removeClass(n,"active"),n.setAttribute("aria-selected","false"),n.style.backgroundColor=this.getColor(w.TAB_INACTIVE_BACKGROUND),n.style.boxShadow=null,r.element.style.color=this.getColor(e?w.TAB_INACTIVE_FOREGROUND:w.TAB_UNFOCUSED_INACTIVE_FOREGROUND)},t.prototype.doRedrawEditorDirty=function(e,t,i,n){var r=!1;if(i.isDirty())if(A.addClass(n,"dirty"),this.accessor.partOptions.highlightModifiedTabs){var o=void 0;(o=e&&t?this.getColor(w.TAB_ACTIVE_MODIFIED_BORDER):e&&!t?this.getColor(w.TAB_INACTIVE_MODIFIED_BORDER):!e&&t?this.getColor(w.TAB_UNFOCUSED_ACTIVE_MODIFIED_BORDER):this.getColor(w.TAB_UNFOCUSED_INACTIVE_MODIFIED_BORDER))&&(r=!0,A.addClass(n,"dirty-border-top"),n.style.setProperty("--tab-dirty-border-top-color",o))}else A.removeClass(n,"dirty-border-top"),n.style.removeProperty("--tab-dirty-border-top-color");else A.removeClass(n,"dirty"),A.removeClass(n,"dirty-border-top"),
n.style.removeProperty("--tab-dirty-border-top-color");return r},t.prototype.layout=function(e){var t=this;this.dimension=e;this.getTab(this.group.activeEditor)&&this.dimension&&(this.layoutScheduled||(this.layoutScheduled=A.scheduleAtNextAnimationFrame(function(){t.doLayout(t.dimension),t.layoutScheduled=void 0})))},t.prototype.doLayout=function(e){var t=this.getTab(this.group.activeEditor);if(t){this.breadcrumbsControl&&!this.breadcrumbsControl.isHidden()&&(this.breadcrumbsControl.layout({width:e.width,height:P.BreadcrumbsControl.HEIGHT}),this.scrollbar.getDomNode().style.height=e.height-P.BreadcrumbsControl.HEIGHT+"px");var i,n,r=this.tabsContainer.offsetWidth,o=this.tabsContainer.scrollWidth;if(this.blockRevealActiveTab||(i=t.offsetLeft,n=t.offsetWidth),this.scrollbar.setScrollDimensions({width:r,scrollWidth:o}),this.blockRevealActiveTab)this.blockRevealActiveTab=!1;else{var s=this.scrollbar.getScrollPosition().scrollLeft,a=n<=r;a&&s+r<i+n?this.scrollbar.setScrollPosition({scrollLeft:s+(i+n-(s+r))
}):(s>i||!a)&&this.scrollbar.setScrollPosition({scrollLeft:i})}}},t.prototype.getTab=function(e){var t=this.group.getIndexOfEditor(e);if(t>=0)return this.tabsContainer.children[t]},t.prototype.blockRevealActiveTabOnce=function(){this.blockRevealActiveTab=!0},t.prototype.originatesFromTabActionBar=function(e){var t;return t=e instanceof MouseEvent?e.target||e.srcElement:e.initialTarget,!!A.findParentWithClass(t,"monaco-action-bar","tab")},t.prototype.onDrop=function(e,t){var i=this;if(A.EventHelper.stop(e,!0),this.updateDropFeedback(this.tabsContainer,!1),A.removeClass(this.tabsContainer,"scroll"),this.editorTransfer.hasData(x.DraggedEditorIdentifier.prototype)){var n=this.editorTransfer.getData(x.DraggedEditorIdentifier.prototype)[0].identifier,r=this.accessor.getGroup(n.groupId);this.isMoveOperation(e,n.groupId)?r.moveEditor(n.editor,this.group,{index:t}):r.copyEditor(n.editor,this.group,{index:t}),this.group.focus(),this.editorTransfer.clearData(x.DraggedEditorIdentifier.prototype)
}else if(this.groupTransfer.hasData(x.DraggedEditorGroupIdentifier.prototype)){var r=this.accessor.getGroup(this.groupTransfer.getData(x.DraggedEditorGroupIdentifier.prototype)[0].identifier),o={index:t};this.isMoveOperation(e,r.id)||(o.mode=0),this.accessor.mergeGroup(r,this.group,o),this.group.focus(),this.groupTransfer.clearData(x.DraggedEditorGroupIdentifier.prototype)}else{this.instantiationService.createInstance(x.ResourcesDropHandler,{allowWorkspaceOpen:!1}).handleDrop(e,function(){return i.group},function(){return i.group.focus()},t)}},t.prototype.isMoveOperation=function(e,t){return!(e.ctrlKey&&!n.isMacintosh||e.altKey&&n.isMacintosh)||t===this.group.id},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.layoutScheduled=b.dispose(this.layoutScheduled)},
t=r([o(3,p.IContextMenuService),o(4,f.IInstantiationService),o(5,R.IUntitledEditorService),o(6,v.IContextKeyService),o(7,g.IKeybindingService),o(8,h.ITelemetryService),o(9,D.INotificationService),o(10,m.IMenuService),o(11,S.IQuickOpenService),o(12,C.IThemeService),o(13,T.IExtensionService),o(14,M.IConfigurationService)],t)}(y.TitleControl);t.TabsTitleControl=L,C.registerThemingParticipant(function(e,t){
e.getColor(I.activeContrastBorder)&&t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active,\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active:hover  {\n\t\t\t\toutline: 1px solid;\n\t\t\t\toutline-offset: -5px;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover  {\n\t\t\t\toutline: 1px dashed;\n\t\t\t\toutline-offset: -5px;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active > .tab-close .action-label,\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active:hover > .tab-close .action-label,\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab.dirty > .tab-close .action-label,\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover > .tab-close .action-label {\n\t\t\t\topacity: 1 !important;\n\t\t\t}\n\t\t")
;var i=e.getColor(w.TAB_HOVER_BACKGROUND);i&&t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab:hover  {\n\t\t\t\tbackground-color: "+i+" !important;\n\t\t\t}\n\t\t");var n=e.getColor(w.TAB_UNFOCUSED_HOVER_BACKGROUND);n&&t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover  {\n\t\t\t\tbackground-color: "+n+" !important;\n\t\t\t}\n\t\t");var r=e.getColor(w.TAB_HOVER_BORDER);r&&t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab:hover  {\n\t\t\t\tbox-shadow: "+r+" 0 -1px inset !important;\n\t\t\t}\n\t\t");var o=e.getColor(w.TAB_UNFOCUSED_HOVER_BORDER);if(o&&t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover  {\n\t\t\t\tbox-shadow: "+o+" 0 -1px inset !important;\n\t\t\t}\n\t\t"),"hc"!==e.type){
var s=w.WORKBENCH_BACKGROUND(e),a=e.getColor(I.editorBackground),c=e.getColor(w.EDITOR_GROUP_HEADER_TABS_BACKGROUND),l=e.getColor(w.EDITOR_DRAG_AND_DROP_BACKGROUND),u=void 0;c&&a&&(u=c.flatten(a,a,s));var d=void 0;if(c&&a&&l&&a&&(d=c.flatten(a,l,a,s)),i&&u&&d){var p=i.flatten(u),h=i.flatten(d);t.addRule("\n\t\t\t\t.monaco-workbench > .part.editor > .content:not(.dragged-over) .editor-group-container.active > .title .tabs-container > .tab.sizing-shrink:not(.dragged):hover > .tab-label::after {\n\t\t\t\t\tbackground: linear-gradient(to left, "+p+", transparent) !important;\n\t\t\t\t}\n\n\n\t\t\t\t.monaco-workbench > .part.editor > .content.dragged-over .editor-group-container.active > .title .tabs-container > .tab.sizing-shrink:not(.dragged):hover > .tab-label::after {\n\t\t\t\t\tbackground: linear-gradient(to left, "+h+", transparent) !important;\n\t\t\t\t}\n\t\t\t")}if(n&&u&&d){var p=n.flatten(u),h=n.flatten(d)
;t.addRule("\n\t\t\t\t.monaco-workbench > .part.editor > .content:not(.dragged-over) .editor-group-container > .title .tabs-container > .tab.sizing-shrink:not(.dragged):hover > .tab-label::after {\n\t\t\t\t\tbackground: linear-gradient(to left, "+p+", transparent) !important;\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench > .part.editor > .content.dragged-over .editor-group-container > .title .tabs-container > .tab.sizing-shrink:not(.dragged):hover > .tab-label::after {\n\t\t\t\t\tbackground: linear-gradient(to left, "+h+", transparent) !important;\n\t\t\t\t}\n\t\t\t")}if(l&&d){h=l.flatten(d)
;t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content.dragged-over .editor-group-container.active > .title .tabs-container > .tab.sizing-shrink.dragged-over:not(.active):not(.dragged) > .tab-label::after,\n\t\t\t.monaco-workbench > .part.editor > .content.dragged-over .editor-group-container:not(.active) > .title .tabs-container > .tab.sizing-shrink.dragged-over:not(.dragged) > .tab-label::after {\n\t\t\t\tbackground: linear-gradient(to left, "+h+", transparent) !important;\n\t\t\t}\n\t\t")}var f=e.getColor(w.TAB_ACTIVE_BACKGROUND);if(f&&u&&d){var p=f.flatten(u),h=f.flatten(d)
;t.addRule("\n\t\t\t\t.monaco-workbench > .part.editor > .content:not(.dragged-over) .editor-group-container > .title .tabs-container > .tab.sizing-shrink.active:not(.dragged) > .tab-label::after {\n\t\t\t\t\tbackground: linear-gradient(to left, "+p+", transparent);\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench > .part.editor > .content.dragged-over .editor-group-container > .title .tabs-container > .tab.sizing-shrink.active:not(.dragged) > .tab-label::after {\n\t\t\t\t\tbackground: linear-gradient(to left, "+h+", transparent);\n\t\t\t\t}\n\t\t\t")}var g=e.getColor(w.TAB_INACTIVE_BACKGROUND);if(g&&u&&d){var p=g.flatten(u),h=g.flatten(d)
;t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content:not(.dragged-over) .editor-group-container > .title .tabs-container > .tab.sizing-shrink:not(.dragged) > .tab-label::after {\n\t\t\t\tbackground: linear-gradient(to left, "+p+", transparent);\n\t\t\t}\n\n\t\t\t.monaco-workbench > .part.editor > .content.dragged-over .editor-group-container > .title .tabs-container > .tab.sizing-shrink:not(.dragged) > .tab-label::after {\n\t\t\t\tbackground: linear-gradient(to left, "+h+", transparent);\n\t\t\t}\n\t\t")}}})}),define(e[533],t([1,0,2,66,31,20,42,70,3,132,56,19,10]),function(e,t,n,s,a,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(e){function t(t,i,n,r,o,s){var a=e.call(this)||this;return a.textFileService=t,a.lifecycleService=i,a.editorService=n,a.activityService=r,a.windowService=o,a.untitledEditorService=s,a.isDocumentedEdited=!1,a.registerListeners(),a}return i(t,e),t.prototype.registerListeners=function(){var e=this
;this._register(this.untitledEditorService.onDidChangeDirty(function(t){return e.onUntitledDidChangeDirty(t)})),this._register(this.textFileService.models.onModelsDirty(function(t){return e.onTextFilesDirty(t)})),this._register(this.textFileService.models.onModelsSaved(function(t){return e.onTextFilesSaved(t)})),this._register(this.textFileService.models.onModelsSaveError(function(t){return e.onTextFilesSaveError(t)})),this._register(this.textFileService.models.onModelsReverted(function(t){return e.onTextFilesReverted(t)})),this.lifecycleService.onShutdown(this.dispose,this)},t.prototype.onUntitledDidChangeDirty=function(e){var t=this.untitledEditorService.isDirty(e);(!this.isDocumentedEdited&&t||this.isDocumentedEdited&&!t)&&this.updateDocumentEdited(),(t||this.lastDirtyCount>0)&&this.updateActivityBadge()},t.prototype.onTextFilesDirty=function(e){var t=this;1===this.textFileService.getAutoSaveMode()||this.isDocumentedEdited||this.updateDocumentEdited(),
1!==this.textFileService.getAutoSaveMode()&&this.updateActivityBadge(),this.doOpenDirtyResources(f.distinct(e.filter(function(e){var i=t.textFileService.models.get(e.resource);return i&&i.isDirty()&&!i.hasState(2)&&!t.editorService.isOpen({resource:e.resource})}).map(function(e){return e.resource}),function(e){return e.toString()}))},t.prototype.doOpenDirtyResources=function(e){var t=this.editorService.activeControl;this.editorService.openEditors(e.map(function(e){return{resource:e,options:{inactive:!0,pinned:!0,preserveFocus:!0}}}),t?t.group:g.ACTIVE_GROUP)},t.prototype.onTextFilesSaved=function(e){this.isDocumentedEdited&&this.updateDocumentEdited(),this.lastDirtyCount>0&&this.updateActivityBadge()},t.prototype.onTextFilesSaveError=function(e){this.isDocumentedEdited||this.updateDocumentEdited(),this.updateActivityBadge()},t.prototype.onTextFilesReverted=function(e){this.isDocumentedEdited&&this.updateDocumentEdited(),this.lastDirtyCount>0&&this.updateActivityBadge()},
t.prototype.updateActivityBadge=function(){var e=this.textFileService.getDirty().length;this.lastDirtyCount=e,d.dispose(this.badgeHandle),e>0&&(this.badgeHandle=this.activityService.showActivity(s.VIEWLET_ID,new p.NumberBadge(e,function(t){return 1===t?n.localize("dirtyFile","1 unsaved file"):n.localize("dirtyFiles","{0} unsaved files",e)}),"explorer-viewlet-label"))},t.prototype.updateDocumentEdited=function(){if(1===c.platform){var e=this.textFileService.isDirty();this.isDocumentedEdited=e,this.windowService.setDocumentEdited(e)}},t=r([o(0,a.ITextFileService),o(1,u.ILifecycleService),o(2,g.IEditorService),o(3,p.IActivityService),o(4,l.IWindowService),o(5,h.IUntitledEditorService)],t)}(d.Disposable);t.DirtyFilesTracker=v}),define(e[275],t([1,0,4,17,116,201,7,44,56,16,32,5,6,33,136,2,15,41,10,9,3,19,63,55]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var D=function(e){function t(t,i,n,r,o,a){var c=e.call(this)||this
;return c.editorGroupService=t,c.untitledEditorService=i,c.instantiationService=n,c.labelService=r,c.fileService=o,c.configurationService=a,c._onDidActiveEditorChange=c._register(new f.Emitter),c._onDidVisibleEditorsChange=c._register(new f.Emitter),c._onDidCloseEditor=c._register(new f.Emitter),c._onDidOpenEditorFail=c._register(new f.Emitter),c.openEditorHandlers=[],c.fileInputFactory=l.Registry.as(s.Extensions.EditorInputFactories).getFileInputFactory(),c.registerListeners(),c}return i(t,e),Object.defineProperty(t.prototype,"onDidActiveEditorChange",{get:function(){return this._onDidActiveEditorChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidVisibleEditorsChange",{get:function(){return this._onDidVisibleEditorsChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidCloseEditor",{get:function(){return this._onDidCloseEditor.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidOpenEditorFail",{get:function(){
return this._onDidOpenEditorFail.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this.editorGroupService.whenRestored.then(function(){return e.onEditorsRestored()}),this.editorGroupService.onDidActiveGroupChange(function(t){return e.handleActiveEditorChange(t)}),this.editorGroupService.onDidAddGroup(function(t){return e.registerGroupListeners(t)})},t.prototype.onEditorsRestored=function(){var e=this;this.editorGroupService.groups.forEach(function(t){return e.registerGroupListeners(t)}),this.activeEditor&&(this.doEmitActiveEditorChangeEvent(),this._onDidVisibleEditorsChange.fire())},t.prototype.handleActiveEditorChange=function(e){e===this.editorGroupService.activeGroup&&(this.lastActiveEditor||e.activeEditor)&&(this.lastActiveGroupId===e.id&&this.lastActiveEditor===e.activeEditor||this.doEmitActiveEditorChangeEvent())},t.prototype.doEmitActiveEditorChangeEvent=function(){var e=this.editorGroupService.activeGroup;this.lastActiveGroupId=e.id,
this.lastActiveEditor=e.activeEditor,this._onDidActiveEditorChange.fire()},t.prototype.registerGroupListeners=function(e){var t=this,i=[];i.push(e.onDidGroupChange(function(i){5===i.kind&&(t.handleActiveEditorChange(e),t._onDidVisibleEditorsChange.fire())})),i.push(e.onDidCloseEditor(function(e){t._onDidCloseEditor.fire(e)})),i.push(e.onWillOpenEditor(function(i){t.onGroupWillOpenEditor(e,i)})),i.push(e.onDidOpenEditorFail(function(i){t._onDidOpenEditorFail.fire({editor:i,groupId:e.id})})),f.once(e.onWillDispose)(function(){C.dispose(i)})},t.prototype.onGroupWillOpenEditor=function(e,t){for(var i=function(i){var r=(0,n.openEditorHandlers[i])(t.editor,t.options,e);if(r&&r.override)return t.prevent(function(){return r.override}),"break"},n=this,r=0;r<this.openEditorHandlers.length;r++){if("break"===i(r))break}},Object.defineProperty(t.prototype,"activeControl",{get:function(){var e=this.editorGroupService.activeGroup;return e?e.activeControl:void 0},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"activeTextEditorWidget",{get:function(){var e=this.activeControl;if(e){var t=e.getControl();if(I.isCodeEditor(t)||I.isDiffEditor(t))return t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editors",{get:function(){var e=[];return this.editorGroupService.groups.forEach(function(t){e.push.apply(e,t.editors)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){var e=this.editorGroupService.activeGroup;return e?e.activeEditor:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleControls",{get:function(){return w.coalesce(this.editorGroupService.groups.map(function(e){return e.activeControl}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleTextEditorWidgets",{get:function(){return this.visibleControls.map(function(e){return e.getControl()}).filter(function(e){return I.isCodeEditor(e)||I.isDiffEditor(e)})},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"visibleEditors",{get:function(){return w.coalesce(this.editorGroupService.groups.map(function(e){return e.activeEditor}))},enumerable:!0,configurable:!0}),t.prototype.overrideOpenEditor=function(e){var t=this;return this.openEditorHandlers.push(e),C.toDisposable(function(){var i=t.openEditorHandlers.indexOf(e);i>=0&&t.openEditorHandlers.splice(i,1)})},t.prototype.openEditor=function(e,t,i){if(e instanceof s.EditorInput){var n=this.toOptions(t),r=this.findTargetGroup(e,n,i);return this.doOpenEditor(r,e,n)}var o=e,a=this.createInput(o);if(a){var n=s.TextEditorOptions.from(o),r=this.findTargetGroup(a,n,t);return this.doOpenEditor(r,a,n)}return S.TPromise.wrap(null)},t.prototype.doOpenEditor=function(e,t,i){return e.openEditor(t,i).then(function(){return e.activeControl})},t.prototype.findTargetGroup=function(e,t,i){var n;if(i&&"number"!=typeof i)return i
;if(i===E.SIDE_GROUP)n=this.findSideBySideGroup();else if("number"==typeof i&&i>=0)n=this.editorGroupService.getGroup(i);else if(!t||"number"!=typeof t.index){var r=this.editorGroupService.getGroups(1);if(t&&t.revealIfVisible)for(s=0;s<r.length;s++){var o=r[s];if(e.matches(o.activeEditor)){n=o;break}}if(t&&t.revealIfOpened||this.configurationService.getValue("workbench.editor.revealIfOpen"))for(var s=0;s<r.length;s++){var a=r[s];if(a.isOpened(e)){n=a;break}}}return n||(n=this.editorGroupService.activeGroup),n},t.prototype.findSideBySideGroup=function(){var e=b.preferredSideBySideGroupDirection(this.configurationService),t=this.editorGroupService.findGroup({direction:e});return t||(t=this.editorGroupService.addGroup(this.editorGroupService.activeGroup,e)),t},t.prototype.toOptions=function(e){if(!e||e instanceof s.EditorOptions)return e;return e.selection?s.TextEditorOptions.create(e):s.EditorOptions.create(e)},t.prototype.openEditors=function(e,t){var i=this,n=[];e.forEach(function(e){
s.isEditorInputWithOptions(e)?n.push(e):n.push({editor:i.createInput(e),options:s.TextEditorOptions.from(e)})});var r=new Map;t===E.SIDE_GROUP?r.set(this.findSideBySideGroup(),n):n.forEach(function(e){var n=i.findTargetGroup(e.editor,e.options,t),o=r.get(n);o||(o=[],r.set(n,o)),o.push(e)});var o=[];return r.forEach(function(e,t){o.push(t.openEditors(e).then(function(){return t.activeControl}))}),S.TPromise.join(o)},t.prototype.isOpen=function(e,t){return!!this.doGetOpened(e)},t.prototype.getOpened=function(e,t){return this.doGetOpened(e)},t.prototype.doGetOpened=function(e,t){if(!(e instanceof s.EditorInput)){if(!(l=e).resource)return}var i=[];"number"==typeof t?i.push(this.editorGroupService.getGroup(t)):t?i.push(t):i=this.editorGroupService.groups.slice();for(var n=0;n<i.length;n++){var r=i[n];if(e instanceof s.EditorInput){if(r.isOpened(e))return e}else for(var o=0;o<r.editors.length;o++){var a=r.editors[o],c=s.toResource(a,{supportSideBySide:!0});if(c){var l=e
;if(c.toString()===l.resource.toString())return a}}}},t.prototype.replaceEditors=function(e,t){var i=this,n=[];e.forEach(function(e){if(e.editor instanceof s.EditorInput)n.push(e);else{var t=e.editor,r=i.createInput(t),o=i.createInput(e.replacement);n.push({editor:r,replacement:o,options:i.toOptions(t.options)})}});return("number"==typeof t?this.editorGroupService.getGroup(t):t).replaceEditors(n)},t.prototype.invokeWithinEditorContext=function(e){var t=this.activeTextEditorWidget;if(I.isCodeEditor(t))return t.invokeWithinContext(e);var i=this.editorGroupService.activeGroup;return i?i.invokeWithinContext(e):this.instantiationService.invokeFunction(e)},t.prototype.createInput=function(e){if(e instanceof s.EditorInput)return e;var t=e;if(t.editor instanceof s.EditorInput)return t.editor;var i=e;if(i.masterResource&&i.detailResource){var n=this.createInput({resource:i.masterResource,forceFile:i.forceFile}),r=this.createInput({resource:i.detailResource,forceFile:i.forceFile})
;return new s.SideBySideEditorInput(i.label||n.getName(),"string"==typeof i.description?i.description:n.getDescription(),r,n)}var o=e;if(o.leftResource&&o.rightResource){var a=this.createInput({resource:o.leftResource,forceFile:o.forceFile}),c=this.createInput({resource:o.rightResource,forceFile:o.forceFile}),l=o.label||y.localize("compareLabels","{0}  {1}",this.toDiffLabel(a),this.toDiffLabel(c));return new m.DiffEditorInput(l,o.description,a,c)}var u=e;if(!u.resource||"string"==typeof u.filePath||u.resource instanceof g.URI&&u.resource.scheme===h.Schemas.untitled)return this.untitledEditorService.createOrGet(u.filePath?g.URI.file(u.filePath):u.resource,u.language,u.contents,u.encoding);var d=e;if(d.resource instanceof g.URI){return(l=d.label)||d.resource.scheme===h.Schemas.data||(l=v.basename(d.resource.fsPath)),this.createOrGet(d.resource,this.instantiationService,l,d.description,d.encoding,d.forceFile)}return null},t.prototype.createOrGet=function(e,i,n,r,o,s){if(t.CACHE.has(e)){var l=t.CACHE.get(e)
;return l instanceof a.ResourceEditorInput?(l.setName(n),l.setDescription(r)):l instanceof c.DataUriEditorInput||l.setPreferredEncoding(o),l}var u;return u=s||this.fileService.canHandleResource(e)?this.fileInputFactory.createFileInput(e,o,i):e.scheme===h.Schemas.data?i.createInstance(c.DataUriEditorInput,n,r,e):i.createInstance(a.ResourceEditorInput,n,r,e),t.CACHE.set(e,u),f.once(u.onDispose)(function(){t.CACHE.delete(e)}),u},t.prototype.toDiffLabel=function(e){var t=e.getResource();return t.scheme!==h.Schemas.untitled||this.untitledEditorService.hasAssociatedFilePath(t)?this.labelService.getUriLabel(t,{relative:!0}):e.getName()},t.CACHE=new u.ResourceMap,t=r([o(0,b.IEditorGroupsService),o(1,d.IUntitledEditorService),o(2,n.IInstantiationService),o(3,x.ILabelService),o(4,p.IFileService),o(5,_.IConfigurationService)],t)}(C.Disposable);t.EditorService=D;var T=function(e){function t(t,i,n,r,o,s){return e.call(this,t,i,n,r,o,s)||this}return i(t,e),t.prototype.setEditorOpenHandler=function(e){
this.editorOpenHandler=e},t.prototype.doOpenEditor=function(t,i,n){var r=this;return(this.editorOpenHandler?this.editorOpenHandler(t,i,n):S.TPromise.as(void 0)).then(function(o){return o?S.TPromise.as(o):e.prototype.doOpenEditor.call(r,t,i,n)})},t=r([o(0,b.IEditorGroupsService),o(1,d.IUntitledEditorService),o(2,n.IInstantiationService),o(3,x.ILabelService),o(4,p.IFileService),o(5,_.IConfigurationService)],t)}(D);t.DelegatingEditorService=T}),define(e[535],t([1,0,2,15,33,22,20,497,56,16,21,70,9,36,80,48,4,101,42,145,11,38,25,85,10]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var T=function(e){function t(t,i,n,r,o,s,a,c,l,u,d,p,h,f,g,v,m,y){var S=e.call(this,r,t,s,i,n,o,d,u,p,h,l,f,g,c)||this;return S.modeService=a,S.dialogService=v,S.fileDialogService=m,S.editorService=y,S}return i(t,e),t.prototype.resolveTextContent=function(e,t){return this.fileService.resolveStreamContent(e,t).then(function(e){
return m.createTextBufferFactoryFromStream(e.value).then(function(t){return{resource:e.resource,name:e.name,mtime:e.mtime,etag:e.etag,encoding:e.encoding,isReadonly:e.isReadonly,value:t}})})},t.prototype.confirmSave=function(e){if(this.environmentService.isExtensionDevelopment)return s.TPromise.wrap(1);var t=this.getDirty(e);if(0===t.length)return s.TPromise.wrap(1);var i=1===t.length?n.localize("saveChangesMessage","Do you want to save the changes you made to {0}?",a.basename(t[0].fsPath)):x.getConfirmMessage(n.localize("saveChangesMessages","Do you want to save the changes to the following {0} files?",t.length),t),r=[t.length>1?n.localize({key:"saveAll",comment:["&& denotes a mnemonic"]},"&&Save All"):n.localize({key:"save",comment:["&& denotes a mnemonic"]},"&&Save"),n.localize({key:"dontSave",comment:["&& denotes a mnemonic"]},"Do&&n't Save"),n.localize("cancel","Cancel")];return this.dialogService.show(I.Severity.Warning,i,r,{cancelId:2,
detail:n.localize("saveChangesDetail","Your changes will be lost if you don't save them.")}).then(function(e){switch(e){case 0:return 0;case 1:return 1;default:return 2}})},t.prototype.promptForPath=function(e,t){var i=this;return this.editorService.openEditor({resource:e,options:{revealIfOpened:!0,preserveFocus:!0}}).then(function(){return i.fileDialogService.showSaveDialog(i.getSaveDialogOptions(t))})},t.prototype.getSaveDialogOptions=function(e){var t=this,i={defaultUri:e,title:n.localize("saveAsTitle","Save As")};if(!l.isWindows)return i;var r,o=e?a.extname(e.path):void 0,s=this.modeService.getRegisteredLanguageNames().map(function(e){var i=t.modeService.getExtensions(e);if(!i||!i.length)return null;var n={name:e,extensions:i.slice(0,10).map(function(e){return c.trim(e,".")})};return o&&i.indexOf(o)>=0?(r=n,null):n}).filter(function(e){return!!e}),u={name:n.localize("allFiles","All Files"),extensions:["*"]};return r?(s.unshift(r),s.unshift(u)):s.unshift(u),s.push({name:n.localize("noExt","No Extension"),
extensions:[""]}),i.filters=s,i},t=r([o(0,h.IWorkspaceContextService),o(1,p.IFileService),o(2,d.IUntitledEditorService),o(3,f.ILifecycleService),o(4,S.IInstantiationService),o(5,g.IConfigurationService),o(6,v.IModeService),o(7,w.IModelService),o(8,E.IWindowService),o(9,y.IEnvironmentService),o(10,I.INotificationService),o(11,b.IBackupFileService),o(12,E.IWindowsService),o(13,_.IHistoryService),o(14,C.IContextKeyService),o(15,x.IDialogService),o(16,x.IFileDialogService),o(17,D.IEditorService)],t)}(u.TextFileService);t.TextFileService=T}),define(e[536],t([1,0,15,6,13,4,3,38,278,31,32,56,140,16]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){function t(t,i,n){var r=e.call(this)||this;return r.instantiationService=t,r.textFileService=i,r.fileService=n,r.providers=Object.create(null),r.modelsToDispose=new Set,r}return i(t,e),t.prototype.createReferencedObject=function(e,t){var i=this;this.modelsToDispose.delete(e);var r=s.URI.parse(e)
;return this.fileService.canHandleResource(r)?this.textFileService.models.loadOrCreate(r,{reason:2}):this.providers[r.scheme]?this.resolveTextModelContent(e).then(function(){return i.instantiationService.createInstance(d.ResourceEditorModel,r)}):t?n.TPromise.wrapError(new Error("resource is not available")):this.fileService.activateProvider(r.scheme).then(function(){return i.createReferencedObject(e,!0)})},t.prototype.destroyReferencedObject=function(e,t){var i=this;this.modelsToDispose.add(e),t.then(function(t){i.modelsToDispose.has(e)&&(t instanceof g.TextFileEditorModel?i.textFileService.models.disposeModel(t):t.dispose())},function(e){})},t.prototype.registerTextModelContentProvider=function(e,t){var i=this.providers;return(i[e]||(i[e]=[])).unshift(t),l.toDisposable(function(){var n=i[e];if(n){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete i[e])}})},t.prototype.resolveTextModelContent=function(e){var t=s.URI.parse(e),i=(this.providers[t.scheme]||[]).map(function(e){return function(){
return n.TPromise.wrap(e.provideTextContent(t))}});return a.first(i).then(function(e){return e||n.TPromise.wrapError(new Error("resource is not available"))})},t=r([o(0,c.IInstantiationService),o(1,p.ITextFileService),o(2,v.IFileService)],t)}(l.ReferenceCollection),y=function(){function e(e,t,i){this.untitledEditorService=e,this.instantiationService=t,this.modelService=i,this.resourceModelCollection=t.createInstance(m)}return e.prototype.createModelReference=function(e){return this._createModelReference(e)},e.prototype._createModelReference=function(e){if(e.scheme===h.Schemas.untitled)return this.untitledEditorService.loadOrCreate({resource:e}).then(function(e){return new l.ImmortalReference(e)});if(e.scheme===h.Schemas.inMemory){return this.modelService.getModel(e)?n.TPromise.as(new l.ImmortalReference(this.instantiationService.createInstance(d.ResourceEditorModel,e))):n.TPromise.wrapError(new Error("Cant resolve inmemory resource"))}var t=this.resourceModelCollection.acquire(e.toString())
;return t.object.then(function(e){return{object:e,dispose:function(){return t.dispose()}}},function(e){return t.dispose(),n.TPromise.wrapError(e)})},e.prototype.registerTextModelContentProvider=function(e,t){return this.resourceModelCollection.registerTextModelContentProvider(e,t)},e=r([o(0,f.IUntitledEditorService),o(1,c.IInstantiationService),o(2,u.IModelService)],e)}();t.TextModelResolverService=y}),define(e[51],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IViewletService=i.createDecorator("viewletService")}),define(e[538],t([1,0,2,8,72,105,131,14,3,15,26,37,7,30,27,12,192,47,57,132,49,51,283]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var I=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o.viewletService=i,o.partService=n,o.telemetryService=r,o.lastRun=0,o}return i(t,e),t.prototype.run=function(e){var i=this
;if(e instanceof MouseEvent&&2===e.button)return Promise.resolve(!1);var n=Date.now();if(n>this.lastRun&&n-this.lastRun<t.preventDoubleClickDelay)return Promise.resolve(!0);this.lastRun=n;var r=this.partService.isVisible(1),o=this.viewletService.getActiveViewlet();return r&&o&&o.getId()===this.activity.id?(this.logAction("hide"),this.partService.setSideBarHidden(!0),Promise.resolve(null)):(this.logAction("show"),this.viewletService.openViewlet(this.activity.id,!0).then(function(){return i.activate()}))},t.prototype.logAction=function(e){this.telemetryService.publicLog("activityBarAction",{viewletId:this.activity.id,action:e})},t.preventDoubleClickDelay=300,t=r([o(1,w.IViewletService),o(2,C.IPartService),o(3,v.ITelemetryService)],t)}(S.ActivityAction);t.ViewletActivityAction=I;var x=function(e){function t(t,i,n){var r=e.call(this,t.id,t.name)||this;return r._viewlet=t,r.partService=i,r.viewletService=n,r}return i(t,e),t.prototype.run=function(){
var e=this.partService.isVisible(1),t=this.viewletService.getActiveViewlet();return e&&t&&t.getId()===this._viewlet.id?(this.partService.setSideBarHidden(!0),Promise.resolve(null)):this.viewletService.openViewlet(this._viewlet.id,!0)},t=r([o(1,C.IPartService),o(2,w.IViewletService)],t)}(u.Action);t.ToggleViewletAction=x;var D=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(S.ActivityAction);t.GlobalActivityAction=D;var T=function(e){function t(t,i,n,r){var o=e.call(this,t,{draggable:!1,colors:i,icon:!0},n)||this;return o.contextMenuService=r,o}return i(t,e),t.prototype.render=function(t){var i=this;e.prototype.render.call(this,t),this._register(s.addDisposableListener(this.container,s.EventType.MOUSE_DOWN,function(e){s.EventHelper.stop(e,!0);var t=new c.StandardMouseEvent(e);i.showContextMenu({x:t.posx,y:t.posy})})),this._register(s.addDisposableListener(this.container,s.EventType.KEY_UP,function(e){var t=new a.StandardKeyboardEvent(e)
;(t.equals(3)||t.equals(10))&&(s.EventHelper.stop(e,!0),i.showContextMenu(i.container))})),this._register(s.addDisposableListener(this.container,l.EventType.Tap,function(e){s.EventHelper.stop(e,!0);var t=new c.StandardMouseEvent(e);i.showContextMenu({x:t.posx,y:t.posy})}))},t.prototype.showContextMenu=function(e){var t=this._action.activity.getActions();this.contextMenuService.showContextMenu({getAnchor:function(){return e},getActions:function(){return t},onHide:function(){return d.dispose(t)}})},t=r([o(2,y.IThemeService),o(3,f.IContextMenuService)],t)}(S.ActivityActionItem);t.GlobalActivityActionItem=T;var R=function(e){function t(t,i,n,r,o){var a=e.call(this,{id:t,name:t,cssClass:"extensionViewlet-placeholder-"+t.replace(/\./g,"-")},n,r,o)||this,c=".monaco-workbench > .activitybar .monaco-action-bar .action-label."+a.class;return s.createCSSRule(c,"-webkit-mask: url('"+(i||"")+"') no-repeat 50% 50%"),a}return i(t,e),t.prototype.setActivity=function(e){this.activity=e},
t=r([o(2,w.IViewletService),o(3,C.IPartService),o(4,v.ITelemetryService)],t)}(I);t.PlaceHolderViewletActivityAction=R;var A=function(e){function t(t,i){return e.call(this,{id:t,name:t,cssClass:void 0},i)||this}return i(t,e),t.prototype.setActivity=function(e){this.label=e.name},t}(S.ToggleCompositePinnedAction);t.PlaceHolderToggleCompositePinnedAction=A;var O=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.activityService=r,o}return i(t,e),t.prototype.run=function(e){var t=this.activityService.getPinnedViewletIds(),i=this.viewletService.getActiveViewlet();if(!i)return p.TPromise.as(null);for(var n,r=0;r<t.length;r++)if(t[r]===i.getId()){n=t[(r+t.length+e)%t.length];break}return this.viewletService.openViewlet(n,!0)},t=r([o(2,w.IViewletService),o(3,_.IActivityService)],t)}(u.Action),k=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.run=function(){return e.prototype.run.call(this,-1)},
t.ID="workbench.action.previousSideBarView",t.LABEL=n.localize("previousSideBarView","Previous Side Bar View"),t=r([o(2,w.IViewletService),o(3,_.IActivityService)],t)}(O);t.PreviousSideBarViewAction=k;var M=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.run=function(){return e.prototype.run.call(this,1)},t.ID="workbench.action.nextSideBarView",t.LABEL=n.localize("nextSideBarView","Next Side Bar View"),t=r([o(2,w.IViewletService),o(3,_.IActivityService)],t)}(O);t.NextSideBarViewAction=M;var P=g.Registry.as(b.Extensions.WorkbenchActions);P.registerWorkbenchAction(new h.SyncActionDescriptor(k,k.ID,k.LABEL),"View: Open Previous Side Bar View",n.localize("view","View")),P.registerWorkbenchAction(new h.SyncActionDescriptor(M,M.ID,M.LABEL),"View: Open Next Side Bar View",n.localize("view","View")),y.registerThemingParticipant(function(e,t){var i=e.getColor(E.ACTIVITY_BAR_FOREGROUND)
;i&&t.addRule("\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active .action-label,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:focus .action-label,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:hover .action-label {\n\t\t\t\tbackground-color: "+i+" !important;\n\t\t\t}\n\t\t");var n=e.getColor(m.activeContrastBorder)
;if(n)t.addRule('\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:before {\n\t\t\t\tcontent: "";\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 9px;\n\t\t\t\tleft: 9px;\n\t\t\t\theight: 32px;\n\t\t\t\twidth: 32px;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:hover:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:hover:before {\n\t\t\t\toutline: 1px solid;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:hover:before {\n\t\t\t\toutline: 1px dashed;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:focus:before {\n\t\t\t\tborder-left-color: '+n+";\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:hover:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:hover:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:hover:before {\n\t\t\t\toutline-color: "+n+";\n\t\t\t}\n\t\t");else{
var r=e.getColor(m.focusBorder);r&&t.addRule("\n\t\t\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:focus:before {\n\t\t\t\t\t\tborder-left-color: "+r+";\n\t\t\t\t\t}\n\t\t\t\t")}})}),define(e[539],t([1,0,2,18,53,395,7,143,538,51,49,4,3,419,12,57,27,521,20,70,8,62,28,45,6,192,285]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var R=function(e){function t(i,r,o,s,a,c,l,u){var p=e.call(this,i,{hasTitle:!1},a,l)||this;p.viewletService=r,p.instantiationService=o,p.partService=s,p.lifecycleService=c,p.storageService=l,p.extensionService=u,p.globalActivityIdToActions=Object.create(null),p.placeholderComposites=[],p.compositeActions=Object.create(null),p.compositeBar=p._register(p.instantiationService.createInstance(b.CompositeBar,{icon:!0,storageId:t.PINNED_VIEWLETS,orientation:2,openComposite:function(e){return p.viewletService.openViewlet(e,!0)},getActivityAction:function(e){
return p.getCompositeActions(e).activityAction},getCompositePinnedAction:function(e){return p.getCompositeActions(e).pinnedAction},getOnCompositeClickAction:function(e){return p.instantiationService.createInstance(d.ToggleViewletAction,p.viewletService.getViewlet(e))},getContextMenuActions:function(){return[p.instantiationService.createInstance(v.ToggleActivityBarVisibilityAction,v.ToggleActivityBarVisibilityAction.ID,n.localize("hideActivitBar","Hide Activity Bar"))]},getDefaultCompositeId:function(){return p.viewletService.getDefaultViewletId()},hidePart:function(){return p.partService.setSideBarHidden(!0)},compositeSize:50,colors:function(e){return p.getActivitybarItemColors(e)},overflowActionSize:t.ACTION_HEIGHT}));var h=p.storageService.get(t.PLACEHOLDER_VIEWLETS,0,"[]");return p.placeholderComposites=JSON.parse(h),p.placeholderComposites.forEach(function(e){"object"==typeof e.iconUrl?e.iconUrl=D.URI.revive(e.iconUrl):e.iconUrl=void 0}),p.registerListeners(),p.updateCompositebar(),p}return i(t,e),
t.prototype.registerListeners=function(){var e=this;this._register(this.viewletService.onDidViewletRegister(function(){return e.updateCompositebar()})),this._register(this.viewletService.onDidViewletOpen(function(t){return e.compositeBar.activateComposite(t.getId())})),this._register(this.viewletService.onDidViewletClose(function(t){return e.compositeBar.deactivateComposite(t.getId())})),this._register(this.viewletService.onDidViewletEnablementChange(function(t){var i=t.id;t.enabled?e.compositeBar.addComposite(e.viewletService.getViewlet(i)):e.removeComposite(i,!0)})),this._register(this.extensionService.onDidRegisterExtensions(function(){return e.onDidRegisterExtensions()}))},t.prototype.onDidRegisterExtensions=function(){this.removeNotExistingComposites(),this.updateCompositebar()},t.prototype.showActivity=function(e,t,i,n){return this.viewletService.getViewlet(e)?this.compositeBar.showActivity(e,t,i,n):this.showGlobalActivity(e,t,i)},t.prototype.showGlobalActivity=function(e,t,i){
if(!t)throw s.illegalArgument("badge");var n=this.globalActivityIdToActions[e];if(!n)throw s.illegalArgument("globalActivityId");return n.setBadge(t,i),g.toDisposable(function(){return n.setBadge(void 0)})},t.prototype.createContentArea=function(e){var t=document.createElement("div");C.addClass(t,"content"),e.appendChild(t),this.compositeBar.create(t);var i=document.createElement("div");return C.addClass(i,"global-activity"),t.appendChild(i),this.createGlobalActivityActionBar(i),E.isMacintosh&&this.lifecycleService.when(3).then(function(){C.scheduleAtNextAnimationFrame(function(){C.scheduleAtNextAnimationFrame(function(){m.registerThemingParticipant(function(e,t){var i=e.getColor(y.ACTIVITY_BAR_FOREGROUND);i&&!i.equals(w.Color.white)&&t.addRule(".monaco-workbench .activitybar > .content .monaco-action-bar .action-label { will-change: transform; }")})})})}),t},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this);var t=this.getContainer(),i=this.getColor(y.ACTIVITY_BAR_BACKGROUND)
;t.style.backgroundColor=i;var n=this.getColor(y.ACTIVITY_BAR_BORDER)||this.getColor(S.contrastBorder),r=0===this.partService.getSideBarPosition();t.style.boxSizing=n&&r?"border-box":null,t.style.borderRightWidth=n&&r?"1px":null,t.style.borderRightStyle=n&&r?"solid":null,t.style.borderRightColor=r?n:null,t.style.borderLeftWidth=n&&!r?"1px":null,t.style.borderLeftStyle=n&&!r?"solid":null,t.style.borderLeftColor=r?null:n},t.prototype.getActivitybarItemColors=function(e){return{activeForegroundColor:e.getColor(y.ACTIVITY_BAR_FOREGROUND),inactiveForegroundColor:e.getColor(y.ACTIVITY_BAR_INACTIVE_FOREGROUND),badgeBackground:e.getColor(y.ACTIVITY_BAR_BADGE_BACKGROUND),badgeForeground:e.getColor(y.ACTIVITY_BAR_BADGE_FOREGROUND),dragAndDropBackground:e.getColor(y.ACTIVITY_BAR_DRAG_AND_DROP_BACKGROUND),activeBackgroundColor:null,inactiveBackgroundColor:null,activeBorderBottomColor:null}},t.prototype.createGlobalActivityActionBar=function(e){
var t=this,i=l.Registry.as(c.GlobalActivityExtensions).getActivities().map(function(e){return t.instantiationService.createInstance(e)}).map(function(e){return new d.GlobalActivityAction(e)});this.globalActionBar=this._register(new a.ActionBar(e,{actionItemProvider:function(e){return t.instantiationService.createInstance(d.GlobalActivityActionItem,e,function(e){return t.getActivitybarItemColors(e)})},orientation:2,ariaLabel:n.localize("globalActions","Global Actions"),animated:!1})),i.forEach(function(e){t.globalActivityIdToActions[e.id]=e,t.globalActionBar.push(e)})},t.prototype.getCompositeActions=function(e){var t=this.compositeActions[e];if(!t){var i=this.viewletService.getViewlet(e);if(i)t={activityAction:this.instantiationService.createInstance(d.ViewletActivityAction,i),pinnedAction:new T.ToggleCompositePinnedAction(i,this.compositeBar)};else{var n=this.placeholderComposites.filter(function(t){return t.id===e})[0];t={
activityAction:this.instantiationService.createInstance(d.PlaceHolderViewletActivityAction,e,n&&n.iconUrl),pinnedAction:new d.PlaceHolderToggleCompositePinnedAction(e,this.compositeBar)}}this.compositeActions[e]=t}return t},t.prototype.updateCompositebar=function(){for(var e=function(e){t.compositeBar.addComposite(e),t.placeholderComposites.every(function(t){return t.id!==e.id})&&t.compositeBar.pin(e.id),t.enableCompositeActions(e);var i=t.viewletService.getActiveViewlet();i&&i.getId()===e.id&&t.compositeBar.activateComposite(e.id)},t=this,i=0,n=this.viewletService.getViewlets();i<n.length;i++){e(n[i])}},t.prototype.removeNotExistingComposites=function(){for(var e=this.viewletService.getAllViewlets(),t=function(t){e.every(function(e){return e.id!==t})&&i.removeComposite(t,!1)},i=this,n=0,r=this.compositeBar.getComposites();n<r.length;n++){t(r[n].id)}},t.prototype.removeComposite=function(e,t){t?this.compositeBar.hideComposite(e):this.compositeBar.removeComposite(e);var i=this.compositeActions[e]
;i&&(i.activityAction.dispose(),i.pinnedAction.dispose(),delete this.compositeActions[e])},t.prototype.enableCompositeActions=function(e){var t=this.getCompositeActions(e.id),i=t.activityAction,n=t.pinnedAction;i instanceof d.PlaceHolderViewletActivityAction&&i.setActivity(e),n instanceof d.PlaceHolderToggleCompositePinnedAction&&n.setActivity(e)},t.prototype.getPinnedViewletIds=function(){var e=this,t=this.compositeBar.getPinnedComposites().map(function(e){return e.id});return this.viewletService.getViewlets().filter(function(t){return e.compositeBar.isPinned(t.id)}).sort(function(e,i){return t.indexOf(e.id)-t.indexOf(i.id)}).map(function(e){return e.id})},t.prototype.layout=function(i){if(!this.partService.isVisible(0))return[i];var n=e.prototype.layout.call(this,i);this.dimension=n[1];var r=this.dimension.height;return this.globalActionBar&&(r-=this.globalActionBar.items.length*t.ACTION_HEIGHT),this.compositeBar.layout(new C.Dimension(i.width,r)),n},t.prototype.saveState=function(){
var i=this.viewletService.getAllViewlets().map(function(e){return{id:e.id,iconUrl:e.iconUrl}});this.storageService.store(t.PLACEHOLDER_VIEWLETS,JSON.stringify(i),0),e.prototype.saveState.call(this)},t.ACTION_HEIGHT=50,t.PINNED_VIEWLETS="workbench.activity.pinnedViewlets",t.PLACEHOLDER_VIEWLETS="workbench.activity.placeholderViewlets",t=r([o(1,p.IViewletService),o(2,f.IInstantiationService),o(3,h.IPartService),o(4,m.IThemeService),o(5,_.ILifecycleService),o(6,I.IStorageService),o(7,x.IExtensionService)],t)}(u.Part);t.ActivitybarPart=R}),define(e[87],t([1,0,2,8,7,14,51,268,421,49,41,420]),function(e,t,n,s,a,c,l,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,r,o,s)||this;return a.configurationService=i,a.partService=n,a}return i(t,e),t.prototype.getOptimalWidth=function(){return null},t.prototype.getContextMenuActions=function(){var e=this
;return[new f.ToggleSidebarPositionAction(f.ToggleSidebarPositionAction.ID,f.ToggleSidebarPositionAction.getLabel(this.partService),this.partService,this.configurationService),{id:d.ToggleSidebarVisibilityAction.ID,label:n.localize("compositePart.hideSideBarLabel","Hide Side Bar"),enabled:!0,run:function(){return e.partService.setSideBarHidden(!0)}}]},t}(u.Composite);t.Viewlet=g;var v=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,n,r,o,i)||this;return a._iconUrl=s,a}return i(t,e),Object.defineProperty(t.prototype,"iconUrl",{get:function(){return this._iconUrl},enumerable:!0,configurable:!0}),t}(u.CompositeDescriptor);t.ViewletDescriptor=v,t.Extensions={Viewlets:"workbench.contributions.viewlets"};var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.registerViewlet=function(t){e.prototype.registerComposite.call(this,t)},t.prototype.getViewlet=function(e){return this.getComposite(e)},t.prototype.getViewlets=function(){return this.getComposites()},
t.prototype.setDefaultViewletId=function(e){this.defaultViewletId=e},t.prototype.getDefaultViewletId=function(){return this.defaultViewletId},t}(u.CompositeRegistry);t.ViewletRegistry=m,a.Registry.add(t.Extensions.Viewlets,new m);var y=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i)||this;return a.viewletService=r,a.editorGroupService=o,a.partService=s,a.viewletId=n,a.enabled=!!a.viewletService&&!!a.editorGroupService,a}return i(t,e),t.prototype.run=function(){return this.otherViewletShowing()||!this.sidebarHasFocus()?this.viewletService.openViewlet(this.viewletId,!0):(this.editorGroupService.activeGroup.focus(),Promise.resolve(!0))},t.prototype.otherViewletShowing=function(){var e=this.viewletService.getActiveViewlet();return!e||e.getId()!==this.viewletId},t.prototype.sidebarHasFocus=function(){var e=this.viewletService.getActiveViewlet(),t=document.activeElement;return e&&t&&s.isAncestor(t,this.partService.getContainer(1))},
t=r([o(3,l.IViewletService),o(4,h.IEditorGroupsService),o(5,p.IPartService)],t)}(c.Action);t.ShowViewletAction=y;var S=function(e){function t(t,i,r){return e.call(this,"workbench.action.collapse",n.localize("collapse","Collapse All"),r,i,function(e){return t.getHighlight()?Promise.resolve(null):(t.collapseAll(),t.clearSelection(),t.clearFocus(),t.domFocus(),t.focusFirst(),Promise.resolve(null))})||this}return i(t,e),t}(c.Action);t.CollapseAction=S}),define(e[169],t([1,0,2,5,50,57,8,3,19,7,111,87,127,43,37,30,12,247,9,49,105,28,317]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var I=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o.keybindingService=i,o.contextMenuService=n,o.configurationService=r,o._onDidFocus=new s.Emitter,o.onDidFocus=o._onDidFocus.event,o._onDidBlur=new s.Emitter,o.onDidBlur=o._onDidBlur.event,o._onDidChangeTitleArea=new s.Emitter,o.onDidChangeTitleArea=o._onDidChangeTitleArea.event,o.id=t.id,
o.title=t.title,o.actionRunner=t.actionRunner,o}return i(t,e),t.prototype.setVisible=function(e){this._isVisible!==e&&(this._isVisible=e)},t.prototype.isVisible=function(){return this._isVisible},t.prototype.render=function(){var t=this;e.prototype.render.call(this);var i=l.trackFocus(this.element);this.disposables.push(i),this.disposables.push(i.onDidFocus(function(){return t._onDidFocus.fire()})),this.disposables.push(i.onDidBlur(function(){return t._onDidBlur.fire()}))},t.prototype.renderHeader=function(e){var i=this;this.headerContainer=e,this.renderHeaderTitle(e,this.title);var r=l.append(e,l.$(".actions"));this.toolbar=new g.ToolBar(r,this.contextMenuService,{orientation:0,actionItemProvider:function(e){return i.getActionItem(e)},ariaLabel:n.localize("viewToolbarAriaLabel","{0} actions",this.title),getKeyBinding:function(e){return i.keybindingService.lookupKeybinding(e.id)},actionRunner:this.actionRunner}),this.disposables.push(this.toolbar),this.setActions()
;s.filterEvent(this.configurationService.onDidChangeConfiguration,function(e){return e.affectsConfiguration(t.AlwaysShowActionsConfig)})(this.updateActionsVisibility,this,this.disposables),this.updateActionsVisibility()},t.prototype.renderHeaderTitle=function(e,t){l.append(e,l.$("h3.title",null,t))},t.prototype.focus=function(){this.element&&(this.element.focus(),this._onDidFocus.fire())},t.prototype.setActions=function(){this.toolbar.setActions(h.prepareActions(this.getActions()),h.prepareActions(this.getSecondaryActions()))(),this.toolbar.context=this.getActionsContext()},t.prototype.updateActionsVisibility=function(){var e=this.configurationService.getValue("workbench.view.alwaysShowHeaderActions");l.toggleClass(this.headerContainer,"actions-always-visible",e)},t.prototype.updateActions=function(){this.setActions(),this._onDidChangeTitleArea.fire()},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},
t.prototype.getActionsContext=function(){},t.prototype.getOptimalWidth=function(){return 0},t.prototype.saveState=function(){},t.AlwaysShowActionsConfig="workbench.view.alwaysShowHeaderActions",t=r([o(1,v.IKeybindingService),o(2,m.IContextMenuService),o(3,E.IConfigurationService)],t)}(b.Panel);t.ViewletPanel=I;var x=function(e){function t(t,i,n,r,o,s,a,c){var l=e.call(this,t,n,r,s,a,c)||this;return l.options=i,l.contextMenuService=o,l.panelItems=[],l}return i(t,e),Object.defineProperty(t.prototype,"onDidSashChange",{get:function(){return this.panelview.onDidSashChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panels",{get:function(){return this.panelItems.map(function(e){return e.panel})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.panelItems.length},enumerable:!0,configurable:!0}),t.prototype.create=function(t){var i=this;e.prototype.create.call(this,t),this.panelview=this._register(new b.PanelView(t,this.options)),
this._register(this.panelview.onDidDrop(function(e){var t=e.from,n=e.to;return i.movePanel(t,n)})),this._register(l.addDisposableListener(t,l.EventType.CONTEXT_MENU,function(e){return i.showContextMenu(new C.StandardMouseEvent(e))}))},t.prototype.showContextMenu=function(e){for(var t=this,i=0,n=this.panelItems;i<n.length;i++){var r=n[i];if(l.isAncestor(e.target,r.panel.element))return}e.stopPropagation(),e.preventDefault();var o={x:e.posx,y:e.posy};this.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return t.getContextMenuActions()}})},t.prototype.getTitle=function(){var e=p.Registry.as(f.Extensions.Viewlets).getViewlet(this.getId()).name;return this.isSingleView()&&(e+=": "+this.panelItems[0].panel.title),e},t.prototype.getActions=function(){return this.isSingleView()?this.panelItems[0].panel.getActions():[]},t.prototype.getSecondaryActions=function(){return this.isSingleView()?this.panelItems[0].panel.getSecondaryActions():[]},t.prototype.getActionItem=function(t){
return this.isSingleView()?this.panelItems[0].panel.getActionItem(t):e.prototype.getActionItem.call(this,t)},t.prototype.focus=function(){if(e.prototype.focus.call(this),this.lastFocusedPanel)this.lastFocusedPanel.focus();else if(this.panelItems.length>0)for(var t=0,i=this.panelItems;t<i.length;t++){var n=i[t].panel;if(n.isExpanded())return void n.focus()}},t.prototype.layout=function(e){this.panelview.layout(e.height)},t.prototype.getOptimalWidth=function(){var e=this.panelItems.map(function(e){return e.panel.getOptimalWidth()||0});return Math.max.apply(Math,e)},t.prototype.addPanels=function(e){for(var t=this.isSingleView(),i=0,n=e;i<n.length;i++){var r=n[i],o=r.panel,s=r.size,a=r.index;this.addPanel(o,s,a)}this.updateViewHeaders(),this.isSingleView()!==t&&this.updateTitleArea()},t.prototype.addPanel=function(e,t,i){var n=this;void 0===i&&(i=this.panelItems.length-1);var r=[],o=e.onDidFocus(function(){return n.lastFocusedPanel=e},null,r),s=e.onDidChangeTitleArea(function(){
n.isSingleView()&&n.updateTitleArea()},null,r),l=e.onDidChange(function(){e!==n.lastFocusedPanel||e.isExpanded()||(n.lastFocusedPanel=void 0)},null,r),d=a.attachStyler(this.themeService,{headerForeground:c.SIDE_BAR_SECTION_HEADER_FOREGROUND,headerBackground:c.SIDE_BAR_SECTION_HEADER_BACKGROUND,headerBorder:0===i?null:c.SIDE_BAR_SECTION_HEADER_BORDER,dropBackground:c.SIDE_BAR_DRAG_AND_DROP_BACKGROUND},e),p=u.combinedDisposable([o,s,d,l]),h={panel:e,disposable:p};this.panelItems.splice(i,0,h),this.panelview.addPanel(e,t,i)},t.prototype.removePanels=function(e){var t=this,i=this.isSingleView();e.forEach(function(e){return t.removePanel(e)}),this.updateViewHeaders(),i!==this.isSingleView()&&this.updateTitleArea()},t.prototype.removePanel=function(e){var t=d.firstIndex(this.panelItems,function(t){return t.panel===e});if(-1!==t){this.lastFocusedPanel===e&&(this.lastFocusedPanel=void 0),this.panelview.removePanel(e);this.panelItems.splice(t,1)[0].disposable.dispose()}},t.prototype.movePanel=function(e,t){
var i=d.firstIndex(this.panelItems,function(t){return t.panel===e}),n=d.firstIndex(this.panelItems,function(e){return e.panel===t});if(!(i<0||i>=this.panelItems.length||n<0||n>=this.panelItems.length)){var r=this.panelItems.splice(i,1)[0];this.panelItems.splice(n,0,r),this.panelview.movePanel(e,t)}},t.prototype.resizePanel=function(e,t){this.panelview.resizePanel(e,t)},t.prototype.getPanelSize=function(e){return this.panelview.getPanelSize(e)},t.prototype.updateViewHeaders=function(){this.isSingleView()?(this.panelItems[0].panel.setExpanded(!0),this.panelItems[0].panel.headerVisible=!1):this.panelItems.forEach(function(e){return e.panel.headerVisible=!0})},t.prototype.isSingleView=function(){return this.options.showHeaderInTitleWhenSingleView&&1===this.panelItems.length},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.panelItems.forEach(function(e){return e.disposable.dispose()}),this.panelview.dispose()},
t=r([o(2,E.IConfigurationService),o(3,_.IPartService),o(4,m.IContextMenuService),o(5,y.ITelemetryService),o(6,S.IThemeService),o(7,w.IStorageService)],t)}(f.Viewlet);t.PanelViewlet=x}),define(e[542],t([1,0,3,109,7,87,28,70,51,11,5,19,21,29,26,34,2,74,44,323]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_){"use strict";function C(e,t){return f.chain(t).map(function(t){return t.filter(function(t){return t.container===e})}).filter(function(e){return e.length>0}).event}Object.defineProperty(t,"__esModule",{value:!0});var w=function(){function e(){this.map=new Map}return e.prototype.add=function(e){return this.map.set(e,(this.map.get(e)||0)+1),this},e.prototype.delete=function(e){var t=this.map.get(e)||0;return 0!==t&&(0===--t?this.map.delete(e):this.map.set(e,t),!0)},e.prototype.has=function(e){return this.map.has(e)},e}(),I=function(e){function t(t,i){var n=e.call(this)||this;n.contextKeyService=i,n.contextKeys=new w,n.items=[],n._onDidChange=n._register(new f.Emitter),
n.onDidChangeActiveViews=n._onDidChange.event;var r=C(t,a.ViewsRegistry.onViewsRegistered);n._register(r(n.onViewsRegistered,n));var o=C(t,a.ViewsRegistry.onViewsDeregistered);n._register(o(n.onViewsDeregistered,n));var s=f.filterEvent(i.onDidChangeContext,function(e){return e.affectsSome(n.contextKeys)});return n._register(s(n.onContextChanged,n)),n.onViewsRegistered(a.ViewsRegistry.getViews(t)),n}return i(t,e),Object.defineProperty(t.prototype,"activeViewDescriptors",{get:function(){return this.items.filter(function(e){return e.active}).map(function(e){return e.viewDescriptor})},enumerable:!0,configurable:!0}),t.prototype.onViewsRegistered=function(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i],o={viewDescriptor:r,active:this.isViewDescriptorActive(r)};if(this.items.push(o),r.when)for(var s=0,a=r.when.keys();s<a.length;s++){var c=a[s];this.contextKeys.add(c)}o.active&&t.push(r)}t.length&&this._onDidChange.fire({added:t,removed:[]})},t.prototype.onViewsDeregistered=function(e){for(var t=[],i=function(e){
var i=g.firstIndex(n.items,function(t){return t.viewDescriptor.id===e.id});if(-1===i)return"continue";var r=n.items[i];if(n.items.splice(i,1),e.when)for(var o=0,s=e.when.keys();o<s.length;o++){var a=s[o];n.contextKeys.delete(a)}r.active&&t.push(e)},n=this,r=0,o=e;r<o.length;r++){i(o[r])}t.length&&this._onDidChange.fire({added:[],removed:t})},t.prototype.onContextChanged=function(e){for(var t=[],i=[],n=0,r=this.items;n<r.length;n++){var o=r[n],s=this.isViewDescriptorActive(o.viewDescriptor);o.active!==s&&(s?i.push(o.viewDescriptor):t.push(o.viewDescriptor)),o.active=s}(i.length||t.length)&&this._onDidChange.fire({added:i,removed:t})},t.prototype.isViewDescriptorActive=function(e){return!e.when||this.contextKeyService.contextMatchesRules(e.when)},t=r([o(1,h.IContextKeyService)],t)}(s.Disposable),x=function(e){function t(t,i,n){void 0===n&&(n=new Map);var r=e.call(this)||this;r.viewStates=n,r.viewDescriptors=[],r._onDidAdd=r._register(new f.Emitter),r.onDidAdd=r._onDidAdd.event,
r._onDidRemove=r._register(new f.Emitter),r.onDidRemove=r._onDidRemove.event,r._onDidMove=r._register(new f.Emitter),r.onDidMove=r._onDidMove.event;var o=i.getViewDescriptors(t);return r._register(o.onDidChangeActiveViews(function(){return r.onDidChangeViewDescriptors(o.activeViewDescriptors)})),r.onDidChangeViewDescriptors(o.activeViewDescriptors),r}return i(t,e),Object.defineProperty(t.prototype,"visibleViewDescriptors",{get:function(){var e=this;return this.viewDescriptors.filter(function(t){return e.viewStates.get(t.id).visible})},enumerable:!0,configurable:!0}),t.prototype.isVisible=function(e){var t=this.viewStates.get(e);if(!t)throw new Error("Unknown view "+e);return t.visible},t.prototype.setVisible=function(e,t){var i=this.find(e),n=i.visibleIndex,r=i.viewDescriptor,o=i.state;if(!r.canToggleVisibility)throw new Error("Can't toggle this view's visibility");o.visible!==t&&(o.visible=t,t?this._onDidAdd.fire([{index:n,viewDescriptor:r,size:o.size,collapsed:o.collapsed}]):this._onDidRemove.fire([{
index:n,viewDescriptor:r}]))},t.prototype.isCollapsed=function(e){var t=this.viewStates.get(e);if(!t)throw new Error("Unknown view "+e);return t.collapsed},t.prototype.setCollapsed=function(e,t){this.find(e).state.collapsed=t},t.prototype.getSize=function(e){var t=this.viewStates.get(e);if(!t)throw new Error("Unknown view "+e);return t.size},t.prototype.setSize=function(e,t){this.find(e).state.size=t},t.prototype.move=function(e,t){var i=g.firstIndex(this.viewDescriptors,function(t){return t.id===e}),n=g.firstIndex(this.viewDescriptors,function(e){return e.id===t}),r=this.viewDescriptors[i],o=this.viewDescriptors[n];g.move(this.viewDescriptors,i,n);for(var s=0;s<this.viewDescriptors.length;s++){this.viewStates.get(this.viewDescriptors[s].id).order=s}this._onDidMove.fire({from:{index:i,viewDescriptor:r},to:{index:n,viewDescriptor:o}})},t.prototype.find=function(e){for(var t=0,i=0;t<this.viewDescriptors.length;t++){var n=this.viewDescriptors[t],r=this.viewStates.get(n.id);if(n.id===e)return{index:t,
visibleIndex:i,viewDescriptor:n,state:r};r.visible&&i++}throw new Error("view descriptor "+e+" not found")},t.prototype.compareViewDescriptors=function(e,t){return e.id===t.id?0:this.getViewOrder(e)-this.getViewOrder(t)||(e.id<t.id?-1:1)},t.prototype.getViewOrder=function(e){var t=this.viewStates.get(e.id),i=t&&"number"==typeof t.order?t.order:e.order;return"number"==typeof i?i:Number.MAX_VALUE},t.prototype.onDidChangeViewDescriptors=function(e){for(var t,i=new Set,n=0,r=this.viewDescriptors;n<r.length;n++){a=r[n];i.add(a.id)}for(var o=0,s=e=e.sort(this.compareViewDescriptors.bind(this));o<s.length;o++){var a=s[o],c=this.viewStates.get(a.id);c?(c.visible=m.isUndefinedOrNull(c.visible)?!a.hideByDefault:c.visible,c.collapsed=m.isUndefinedOrNull(c.collapsed)?!!a.collapsed:c.collapsed):this.viewStates.set(a.id,{visible:!a.hideByDefault,collapsed:a.collapsed})}for(var l=[],u=[],d=0,p=g.sortedDiff(this.viewDescriptors,e,this.compareViewDescriptors.bind(this)).reverse();d<p.length;d++){
for(var h=p[d],f=this.viewDescriptors[h.start],v=f?this.find(f.id).visibleIndex:this.viewDescriptors.length,y=0;y<h.deleteCount;y++){a=this.viewDescriptors[h.start+y];(S=this.find(a.id).state).visible&&l.push({index:v++,viewDescriptor:a})}for(y=0;y<h.toInsert.length;y++){var a=h.toInsert[y],S=this.viewStates.get(a.id);S.visible&&u.push({index:v++,viewDescriptor:a,size:S.size,collapsed:S.collapsed})}}(t=this.viewDescriptors).splice.apply(t,[0,this.viewDescriptors.length].concat(e)),l.length&&this._onDidRemove.fire(l),u.length&&this._onDidAdd.fire(u)},t}(s.Disposable);t.ContributableViewsModel=x;var D=function(e){function t(i,n,r,o,s){var a=this,c=n+".hidden",l=t.loadViewsStates(n,c,o,s);return a=e.call(this,i,r,l)||this,a.viewletStateStorageId=n,a.hiddenViewsStorageId=c,a.storageService=o,a.contextService=s,a._register(a.onDidAdd(function(e){return a.saveVisibilityStates(e.map(function(e){return e.viewDescriptor}))})),a._register(a.onDidRemove(function(e){return a.saveVisibilityStates(e.map(function(e){
return e.viewDescriptor}))})),a._register(a.storageService.onWillSaveState(function(){return a.saveViewsStates()})),a}return i(t,e),t.prototype.saveViewsStates=function(){for(var e={},t=!1,i=0,n=this.viewDescriptors;i<n.length;i++){var r=n[i],o=this.viewStates.get(r.id);o&&(e[r.id]={collapsed:o.collapsed,size:o.size,order:o.order},t=!0)}t?this.storageService.store(this.viewletStateStorageId,JSON.stringify(e),1):this.storageService.remove(this.viewletStateStorageId,1)},t.prototype.saveVisibilityStates=function(e){for(var i=t.loadViewsVisibilityState(this.hiddenViewsStorageId,this.storageService,this.contextService),n=0,r=e;n<r.length;n++){var o=r[n];if(o.canToggleVisibility){var s=this.viewStates.get(o.id);i.set(o.id,{id:o.id,isHidden:s?!s.visible:void 0})}}this.storageService.store(this.hiddenViewsStorageId,JSON.stringify(_.values(i)),0)},t.loadViewsStates=function(e,i,r,o){for(var s=new Map,a=JSON.parse(r.get(e,1,"{}")),c=t.loadViewsVisibilityState(i,r,o),l=0,u=_.values(c);l<u.length;l++){
var d=u[l],p=d.id,h=d.isHidden,f=a[p];f?s.set(p,n({},f,{visible:!h})):s.set(p,n({visible:!h}))}for(var g=0,v=Object.keys(a);g<v.length;g++){p=v[g];s.has(p)||s.set(p,n({},a[p]))}return s},t.loadViewsVisibilityState=function(e,t,i){var n=!1,r=JSON.parse(t.get(e,0,"[]")).reduce(function(e,t){return"string"==typeof t?(n=n||e.has(t),e.set(t,{id:t,isHidden:!0})):(n=n||e.has(t.id),e.set(t.id,t)),e},new Map);return n&&t.store(e,JSON.stringify(_.values(r)),0),r},t=r([o(2,a.IViewsService),o(3,u.IStorageService),o(4,v.IWorkspaceContextService)],t)}(x);t.PersistentContributableViewsModel=D;var T=function(e){function t(t,i,n,r){var o=e.call(this)||this;o.lifecycleService=t,o.viewletService=i,o.storageService=n,o.contextKeyService=r,o.viewDescriptorCollections=new Map,o.activeViewContextKeys=new Map,o.onDidRegisterViews(a.ViewsRegistry.getAllViews()),o._register(a.ViewsRegistry.onViewsRegistered(function(e){return o.onDidRegisterViews(e)}));var s=c.Registry.as(a.Extensions.ViewContainersRegistry)
;return s.all.forEach(function(e){return o.onDidRegisterViewContainer(e)}),o._register(s.onDidRegister(function(e){return o.onDidRegisterViewContainer(e)})),o._register(c.Registry.as(l.Extensions.Viewlets).onDidRegister(function(e){return o.viewletService.setViewletEnablement(e.id,o.storageService.getBoolean("viewservice."+e.id+".enablement",1,e.id!==a.TEST_VIEW_CONTAINER_ID))})),o}return i(t,e),t.prototype.getViewDescriptors=function(e){return this.viewDescriptorCollections.get(e)},t.prototype.openView=function(e,t){var i=a.ViewsRegistry.getView(e);if(i){var n=this.viewletService.getViewlet(i.container.id);if(n)return this.viewletService.openViewlet(n.id,t).then(function(i){return i&&i.openView?i.openView(e,t):null})}return Promise.resolve(null)},t.prototype.onDidRegisterViewContainer=function(e){var t=this,i=this.registerViewDescriptorCollection(e);"workbench.view.scm"!==e.id&&(this._register(i.onDidChangeActiveViews(function(){return t.updateViewletEnablement(e,i)})),
this.lifecycleService.when(4).then(function(){return t.updateViewletEnablement(e,i)}))},t.prototype.registerViewDescriptorCollection=function(e){var t=this,i=this._register(new I(e,this.contextKeyService));return this.onDidChangeActiveViews({added:i.activeViewDescriptors,removed:[]}),this._register(i.onDidChangeActiveViews(function(e){return t.onDidChangeActiveViews(e)})),this.viewDescriptorCollections.set(e,i),i},t.prototype.onDidChangeActiveViews=function(e){var t=this,i=e.added,n=e.removed;i.forEach(function(e){return t.getOrCreateActiveViewContextKey(e).set(!0)}),n.forEach(function(e){return t.getOrCreateActiveViewContextKey(e).set(!1)})},t.prototype.onDidRegisterViews=function(e){for(var t=this,i=function(e){var i=n.viewletService.getViewlet(e.container.id),r={id:e.focusCommand?e.focusCommand.id:e.id+".focus",title:{original:"Focus on "+e.name+" View",value:b.localize("focus view","Focus on {0} View",e.name)},category:i?i.name:b.localize("view category","View")},o=h.ContextKeyExpr.has(e.id+".active")
;S.CommandsRegistry.registerCommand(r.id,function(){return t.openView(e.id,!0)}),y.MenuRegistry.appendMenuItem(0,{command:r,when:o}),e.focusCommand&&e.focusCommand.keybindings&&E.KeybindingsRegistry.registerKeybindingRule({id:r.id,when:o,weight:200,primary:e.focusCommand.keybindings.primary,secondary:e.focusCommand.keybindings.secondary,linux:e.focusCommand.keybindings.linux,mac:e.focusCommand.keybindings.mac,win:e.focusCommand.keybindings.win})},n=this,r=0,o=e;r<o.length;r++){i(o[r])}},t.prototype.getOrCreateActiveViewContextKey=function(e){var t=e.id+".active",i=this.activeViewContextKeys.get(t);return i||(i=new h.RawContextKey(t,!1).bindTo(this.contextKeyService),this.activeViewContextKeys.set(t,i)),i},t.prototype.updateViewletEnablement=function(e,t){var i=t.activeViewDescriptors.length>0;this.viewletService.setViewletEnablement(e.id,i),this.storageService.store("viewservice."+e.id+".enablement",i,1)},t=r([o(0,d.ILifecycleService),o(1,p.IViewletService),o(2,u.IStorageService),o(3,h.IContextKeyService)],t)
}(s.Disposable);t.ViewsService=T}),define(e[279],t([1,0,8,3,53,19,45,37,109,30,12,4,28,21,11,105,169,247,59,5,9,49,2,542,7]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.setExpanded=function(t){this.isExpanded()!==t&&(this.updateTreeVisibility(this.tree,t),e.prototype.setExpanded.call(this,t))},t.prototype.setVisible=function(t){this.isVisible()!==t&&(e.prototype.setVisible.call(this,t),this.updateTreeVisibility(this.tree,t&&this.isExpanded()))},t.prototype.focus=function(){e.prototype.focus.call(this),this.focusTree()},t.prototype.layoutBody=function(e){this.tree&&this.tree.layout(e)},t.prototype.updateTreeVisibility=function(e,t){e&&(t?s.show(e.getHTMLElement()):s.hide(e.getHTMLElement()),t?e.onVisible():e.onHidden())},t.prototype.focusTree=function(){if(this.tree){var e=this.tree.getSelection()[0];e&&this.tree.reveal(e),
this.tree.domFocus()}},t.prototype.dispose=function(){this.tree&&this.tree.dispose(),e.prototype.dispose.call(this)},t}(b.ViewletPanel);t.TreeViewsViewletPanel=R;var A=function(e){function t(t,i,n,r,o,s,c,l,u,d,h,f){var g=e.call(this,t,{showHeaderInTitleWhenSingleView:n,dnd:new E.DefaultPanelDndController},r,o,d,s,u,c)||this;g.storageService=c,g.instantiationService=l,g.contextMenuService=d,g.extensionService=h,g.contextService=f,g.didLayout=!1,g.areExtensionsReady=!1,g.viewDisposables=[];var v=T.Registry.as(p.Extensions.ViewContainersRegistry).get(t);return g.viewsModel=g._register(g.instantiationService.createInstance(D.PersistentContributableViewsModel,v,i)),g.viewletState=g.getMemento(1),g.visibleViewsStorageId=t+".numberOfVisibleViews",g.visibleViewsCountFromCache=g.storageService.getInteger(g.visibleViewsStorageId,1,1),g._register(a.toDisposable(function(){return g.viewDisposables=a.dispose(g.viewDisposables)})),g}return i(t,e),t.prototype.create=function(t){var i=this;e.prototype.create.call(this,t),
this._register(this.onDidSashChange(function(){return i.saveViewSizes()})),this.viewsModel.onDidAdd(function(e){return i.onDidAddViews(e)}),this.viewsModel.onDidRemove(function(e){return i.onDidRemoveViews(e)});var n=this.viewsModel.visibleViewDescriptors.map(function(e,t){return{viewDescriptor:e,index:t,size:i.viewsModel.getSize(e.id),collapsed:i.viewsModel.isCollapsed(e.id)}});n.length&&this.onDidAddViews(n),this.extensionService.whenInstalledExtensionsRegistered().then(function(){i.areExtensionsReady=!0,i.panels.length&&(i.updateTitleArea(),i.updateViewHeaders())}),this.focus()},t.prototype.getContextMenuActions=function(){var t=this,i=[],n=this.viewsModel.viewDescriptors.map(function(e){return{id:e.id+".toggleVisibility",label:e.name,checked:t.viewsModel.isVisible(e.id),enabled:e.canToggleVisibility,run:function(){return t.toggleViewVisibility(e.id)}}});i.push.apply(i,n);var r=e.prototype.getContextMenuActions.call(this);return n.length&&r.length&&i.push(new c.Separator),i.push.apply(i,r),i},
t.prototype.setVisible=function(t){e.prototype.setVisible.call(this,t),this.panels.filter(function(e){return e.isVisible()!==t}).map(function(e){return e.setVisible(t)})},t.prototype.openView=function(e,t){t&&this.focus();var i=this.getView(e);return i||this.toggleViewVisibility(e),(i=this.getView(e)).setExpanded(!0),t&&i.focus(),i},t.prototype.movePanel=function(t,i){var n=l.firstIndex(this.panels,function(e){return e===t}),r=l.firstIndex(this.panels,function(e){return e===i}),o=this.viewsModel.visibleViewDescriptors[n],s=this.viewsModel.visibleViewDescriptors[r];e.prototype.movePanel.call(this,t,i),this.viewsModel.move(o.id,s.id)},t.prototype.layout=function(t){e.prototype.layout.call(this,t),this.dimension=t,this.didLayout?this.saveViewSizes():(this.didLayout=!0,this.restoreViewSizes())},t.prototype.getOptimalWidth=function(){return Math.max.apply(Math,this.panels.map(function(e){return e.getOptimalWidth()||0}))+16},t.prototype.isSingleView=function(){
return!!e.prototype.isSingleView.call(this)&&(!!this.areExtensionsReady||1===this.visibleViewsCountFromCache)},t.prototype.createView=function(e,t){return this.instantiationService.createInstance(e.ctor,t)},t.prototype.getView=function(e){return this.panels.filter(function(t){return t.id===e})[0]},t.prototype.onDidAddViews=function(e){for(var t=this,i=[],n=function(e,n,o,c){var l=r.createView(e,{id:e.id,title:e.name,actionRunner:r.getActionRunner(),expanded:!n,viewletState:r.viewletState});l.render(),l.setVisible(!0);var u=s.addDisposableListener(l.draggableElement,"contextmenu",function(i){i.stopPropagation(),i.preventDefault(),t.onContextMenu(new S.StandardMouseEvent(i),e)}),d=C.latch(C.mapEvent(l.onDidChange,function(){return!l.isExpanded()}))(function(i){t.viewsModel.setCollapsed(e.id,i)});r.viewDisposables.splice(o,0,a.combinedDisposable([u,d])),i.push({panel:l,size:c||l.minimumSize,index:o})},r=this,o=0,c=e;o<c.length;o++){var l=c[o];n(l.viewDescriptor,l.collapsed,l.index,l.size)}
return this.addPanels(i),this.restoreViewSizes(),i.map(function(e){return e.panel})},t.prototype.onDidRemoveViews=function(e){for(var t=[],i=0,n=e=e.sort(function(e,t){return t.index-e.index});i<n.length;i++){var r=n[i].index;this.viewDisposables.splice(r,1)[0].dispose(),t.push(this.panels[r])}this.removePanels(t),a.dispose(t)},t.prototype.onContextMenu=function(e,t){var i=this;e.stopPropagation(),e.preventDefault();var n=[];n.push({id:t.id+".removeView",label:x.localize("hideView","Hide"),enabled:t.canToggleVisibility,run:function(){return i.toggleViewVisibility(t.id)}});var r=this.getContextMenuActions();r.length&&n.push.apply(n,[new c.Separator].concat(r));var o={x:e.posx,y:e.posy};this.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return n}})},t.prototype.toggleViewVisibility=function(e){var t=!this.viewsModel.isVisible(e);this.telemetryService.publicLog("views.toggledVisibility",{viewId:e,visible:t}),this.viewsModel.setVisible(e,t)},
t.prototype.saveViewSizes=function(){if(this.didLayout)for(var e=0,t=this.panels;e<t.length;e++){var i=t[e];this.viewsModel.setSize(i.id,this.getPanelSize(i))}},t.prototype.restoreViewSizes=function(){if(this.didLayout)for(var e=void 0,t=0;t<this.viewsModel.visibleViewDescriptors.length;t++){var i=this.panels[t],n=this.viewsModel.visibleViewDescriptors[t],r=this.viewsModel.getSize(n.id);"number"==typeof r?this.resizePanel(i,r):(e=e||this.computeInitialSizes(),this.resizePanel(i,e[i.id]||200))}},t.prototype.computeInitialSizes=function(){var e={};if(this.dimension)for(var t=this.viewsModel.visibleViewDescriptors.reduce(function(e,t){return e+(t.weight||20)},0),i=0,n=this.viewsModel.visibleViewDescriptors;i<n.length;i++){var r=n[i];e[r.id]=this.dimension.height*(r.weight||20)/t}return e},t.prototype.saveState=function(){this.panels.forEach(function(e){return e.saveState()}),this.storageService.store(this.visibleViewsStorageId,this.length,1!==this.contextService.getWorkbenchState()?1:0),
e.prototype.saveState.call(this)},t=r([o(3,w.IConfigurationService),o(4,I.IPartService),o(5,h.ITelemetryService),o(6,v.IStorageService),o(7,g.IInstantiationService),o(8,f.IThemeService),o(9,d.IContextMenuService),o(10,u.IExtensionService),o(11,m.IWorkspaceContextService)],t)}(b.PanelViewlet);t.ViewContainerViewlet=A;var O=function(e){function t(t,i,r,o,a,c,l,u){var d=e.call(this,t,i,n({},r,{showTwistie:!1,twistiePixels:12}),o,a,c,u,l)||this;s.addClass(t,"file-icon-themable-tree"),s.addClass(t,"show-file-icons");var p=function(e){s.toggleClass(t,"align-icons-and-twisties",e.hasFileIcons&&!e.hasFolderIcons),s.toggleClass(t,"hide-arrows",!0===e.hidesExplorerArrows)};return d.disposables.push(c.onDidFileIconThemeChange(p)),p(c.getFileIconTheme()),d}return i(t,e),t=r([o(3,y.IContextKeyService),o(4,_.IListService),o(5,f.IThemeService),o(6,w.IConfigurationService),o(7,g.IInstantiationService)],t)}(_.WorkbenchTree);t.FileIconThemableWorkbenchTree=O}),
define(e[544],t([1,0,2,84,29,33,14,66,31,133,153,51,16,30,21,28,106,4,60,12,42,10,41,280]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var D=function(e){function t(i,n,r,o,s,a,c,l,u,d,p,h,f,g){var v=e.call(this,t.ID,i,o,a,c,u,p,l,d,g)||this;return v.fileService=n,v.viewletService=r,v.contextService=s,v.windowsService=h,v.preferencesService=f,v.updateRestoreViewStateConfiguration(),v._register(v.fileService.onFileChanges(function(e){return v.onFilesChanged(e)})),v}return i(t,e),t.prototype.onFilesChanged=function(e){var t=e.getDeleted();t&&t.length&&this.clearTextEditorViewState(t.map(function(e){return e.resource}))},t.prototype.handleConfigurationChangeEvent=function(t){e.prototype.handleConfigurationChangeEvent.call(this,t),this.updateRestoreViewStateConfiguration()},t.prototype.updateRestoreViewStateConfiguration=function(){this.restoreViewState=this.configurationService.getValue(null,"workbench.editor.restoreViewState")},
t.prototype.getTitle=function(){return this.input?this.input.getName():n.localize("textFileEditor","Text File Editor")},Object.defineProperty(t.prototype,"input",{get:function(){return this._input},enumerable:!0,configurable:!0}),t.prototype.setEditorVisible=function(t,i){var n=this;e.prototype.setEditorVisible.call(this,t,i),this._register(i.onWillCloseEditor(function(e){e.editor===n.input&&n.doSaveOrClearTextEditorViewState(n.input)}))},t.prototype.setOptions=function(e){var t=e;t&&a.isFunction(t.apply)&&t.apply(this.getControl(),0)},t.prototype.setInput=function(t,i,r){var o=this;return this.doSaveOrClearTextEditorViewState(this.input),e.prototype.setInput.call(this,t,i,r).then(function(){return t.resolve().then(function(e){if(!r.isCancellationRequested){if(e instanceof h.BinaryEditorModel)return o.openAsBinary(t,i);var n=e,s=o.getControl();s.setModel(n.textEditorModel);var c=o.loadTextEditorViewState(o.input.getResource());c&&s.restoreViewState(c),i&&a.isFunction(i.apply)&&i.apply(s,1),s.updateOptions({
readOnly:n.isReadonly()})}},function(e){if(0===e.fileOperationResult)return o.openAsBinary(t,i);if(1===e.fileOperationResult)return o.openAsFolder(t),Promise.reject(new Error(n.localize("openFolderError","File is a directory")));if(2===e.fileOperationResult&&c.isValidBasename(c.basename(t.getResource().fsPath)))return Promise.reject(x.createErrorWithActions(s.toErrorMessage(e),{actions:[new l.Action("workbench.files.action.createMissingFile",n.localize("createFile","Create File"),null,!0,function(){return o.fileService.updateContent(t.getResource(),"").then(function(){return o.editorService.openEditor({resource:t.getResource(),options:{pinned:!0}})})})]}));if(10===e.fileOperationResult){var r=Math.max(g.MIN_MAX_MEMORY_SIZE_MB,+o.configurationService.getValue(null,"files.maxMemoryForLargeFilesMB")||g.FALLBACK_MAX_MEMORY_SIZE_MB);return Promise.reject(x.createErrorWithActions(s.toErrorMessage(e),{
actions:[new l.Action("workbench.window.action.relaunchWithIncreasedMemoryLimit",n.localize("relaunchWithIncreasedMemoryLimit","Restart with {0} MB",r),null,!0,function(){return o.windowsService.relaunch({addArgs:["--max-memory="+r]})}),new l.Action("workbench.window.action.configureMemoryLimit",n.localize("configureMemoryLimit","Configure Memory Limit"),null,!0,function(){return o.preferencesService.openGlobalSettings(void 0,{query:"files.maxMemoryForLargeFilesMB"})})]}))}return Promise.reject(e)})})},t.prototype.openAsBinary=function(e,t){e.setForceOpenAsBinary(),this.editorService.openEditor(e,t,this.group)},t.prototype.openAsFolder=function(e){var t=this;this.group.closeEditor(this.input).then(function(){t.contextService.isInsideWorkspace(e.getResource())&&t.viewletService.openViewlet(u.VIEWLET_ID,!0).then(function(t){return t.getExplorerView().select(e.getResource(),!0)})})},t.prototype.getAriaLabel=function(){var e=this.input,t=e&&e.getName()
;return t?n.localize("fileEditorWithInputAriaLabel","{0}. Text file editor.",t):n.localize("fileEditorAriaLabel","Text file editor.")},t.prototype.clearInput=function(){this.doSaveOrClearTextEditorViewState(this.input),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.saveState=function(){this.doSaveOrClearTextEditorViewState(this.input),e.prototype.saveState.call(this)},t.prototype.doSaveOrClearTextEditorViewState=function(e){e&&(this.restoreViewState||this.group&&this.group.isOpened(e)?e.isDisposed()||this.saveTextEditorViewState(e.getResource()):this.clearTextEditorViewState([e.getResource()],this.group))},t.ID=u.TEXT_FILE_EDITOR_ID,
t=r([o(0,v.ITelemetryService),o(1,g.IFileService),o(2,f.IViewletService),o(3,b.IInstantiationService),o(4,m.IWorkspaceContextService),o(5,y.IStorageService),o(6,S.ITextResourceConfigurationService),o(7,w.IEditorService),o(8,_.IThemeService),o(9,I.IEditorGroupsService),o(10,d.ITextFileService),o(11,C.IWindowsService),o(12,E.IPreferencesService),o(13,C.IWindowService)],t)}(p.BaseTextEditor);t.TextFileEditor=D}),define(e[545],t([1,0,15,2,77,64,51,271,300,93,54,14,43,22,81,109,11,7]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_PICKER_PREFIX="view ";var E=function(e){function t(t,i,n){var r=e.call(this)||this;return r.label=t,r.category=i,r.open=n,r}return i(t,e),t.prototype.getLabel=function(){return this.label},t.prototype.getCategory=function(){return this.category},t.prototype.getAriaLabel=function(){return s.localize("entryAriaLabel","{0}, view picker",this.getLabel())},t.prototype.run=function(t,i){
return 1===t?this.runOpen(i):e.prototype.run.call(this,t,i)},t.prototype.runOpen=function(e){var t=this;return setTimeout(function(){t.open()},0),!0},t}(a.QuickOpenEntryGroup);t.ViewEntry=E;var _=function(e){function t(t,i,n,r,o,s){var a=e.call(this)||this;return a.viewletService=t,a.viewsService=i,a.outputService=n,a.terminalService=r,a.panelService=o,a.contextKeyService=s,a}return i(t,e),t.prototype.getResults=function(e,t){e=e.trim();var i=v.stripWildcards(e).toLowerCase(),r=this.getViewEntries().filter(function(t){if(!e)return!0;var n=m.matchesFuzzy(i,t.getLabel(),!0);return n&&t.setHighlights(n),!(!n&&!v.fuzzyContains(t.getCategory(),i))}),o={};r.forEach(function(e){o[e.getLabel()]||(o[e.getLabel()]=e.getCategory())});var s;return r.forEach(function(e,t){s!==e.getCategory()?(s=e.getCategory(),e.setShowBorder(t>0),e.setGroupLabel(s),o[s]&&e.setGroupLabel(o[s]+" / "+s)):(e.setShowBorder(!1),e.setGroupLabel(void 0))}),n.TPromise.as(new a.QuickOpenModel(r))},t.prototype.getViewEntries=function(){
var e=this,t=[],i=this.viewletService.getViewlets();i.forEach(function(i,n){return t.push(new E(i.name,s.localize("views","Side Bar"),function(){return e.viewletService.openViewlet(i.id,!0)}))});this.panelService.getPanels().forEach(function(i,n){return t.push(new E(i.name,s.localize("panels","Panel"),function(){return e.panelService.openPanel(i.id,!0)}))}),i.forEach(function(i,n){var r=b.Registry.as(y.Extensions.ViewContainersRegistry).get(i.id);if(r){var o=function(t,i){var n=y.ViewsRegistry.getViews(i),r=[];if(n.length)for(var o=function(i){e.contextKeyService.contextMatchesRules(i.when)&&r.push(new E(i.name,t.name,function(){return e.viewsService.openView(i.id,!0)}))},s=0,a=n;s<a.length;s++)o(a[s]);return r}(i,r);t.push.apply(t,o)}});var n=s.localize("terminals","Terminal");this.terminalService.terminalTabs.forEach(function(i,r){i.terminalInstances.forEach(function(i,o){var a=r+1+"."+(o+1),c=new E(s.localize("terminalTitle","{0}: {1}",a,i.title),n,function(){
e.terminalService.showPanel(!0).then(function(){e.terminalService.setActiveInstance(i)})});t.push(c)})});return this.outputService.getChannelDescriptors().forEach(function(i,n){var r=s.localize("channels","Output"),o=new E(i.log?s.localize("logChannel","Log ({0})",i.label):i.label,r,function(){return e.outputService.showChannel(i.id)});t.push(o)}),t},t.prototype.getAutoFocus=function(e,t){return{autoFocusFirstEntry:!!e||!!t.quickNavigateConfiguration}},t.ID="workbench.picker.views",t=r([o(0,l.IViewletService),o(1,y.IViewsService),o(2,u.IOutputService),o(3,d.ITerminalService),o(4,p.IPanelService),o(5,S.IContextKeyService)],t)}(c.QuickOpenHandler);t.ViewPickerHandler=_;var C=function(e){function n(i,n,r){return e.call(this,i,n,t.VIEW_PICKER_PREFIX,r)||this}return i(n,e),n.ID="workbench.action.openView",n.LABEL=s.localize("openView","Open View"),n=r([o(2,h.IQuickOpenService)],n)}(c.QuickOpenAction);t.OpenViewPickerAction=C;var w=function(e){function a(t,i,n,r){var o=e.call(this,t,i)||this
;return o.quickOpenService=n,o.keybindingService=r,o}return i(a,e),a.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id);return this.quickOpenService.show(t.VIEW_PICKER_PREFIX,{quickNavigateConfiguration:{keybindings:e}}),n.TPromise.as(!0)},a.ID="workbench.action.quickOpenView",a.LABEL=s.localize("quickOpenView","Quick Open View"),a=r([o(2,h.IQuickOpenService),o(3,g.IKeybindingService)],a)}(f.Action);t.QuickOpenViewPickerAction=w}),define(e[546],t([1,0,20,2,64,7,26,47,334,342,331,336,545,110,11,74]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=o.Registry.as(a.Extensions.WorkbenchActions);v.registerWorkbenchAction(new s.SyncActionDescriptor(l.ClearCommandHistoryAction,l.ClearCommandHistoryAction.ID,l.ClearCommandHistoryAction.LABEL),"Clear Command History"),v.registerWorkbenchAction(new s.SyncActionDescriptor(l.ShowAllCommandsAction,l.ShowAllCommandsAction.ID,l.ShowAllCommandsAction.LABEL,{primary:3118,secondary:[59]
}),"Show All Commands"),v.registerWorkbenchAction(new s.SyncActionDescriptor(u.GotoLineAction,u.GotoLineAction.ID,u.GotoLineAction.LABEL,{primary:2085,mac:{primary:293}}),"Go to Line..."),v.registerWorkbenchAction(new s.SyncActionDescriptor(c.GotoSymbolAction,c.GotoSymbolAction.ID,c.GotoSymbolAction.LABEL,{primary:3117}),"Go to Symbol in File...");var m=f.ContextKeyExpr.and(h.inQuickOpenContext,f.ContextKeyExpr.has("inViewsPicker")),y={primary:2095,mac:{primary:303},linux:{primary:0}},S=n.localize("view","View");v.registerWorkbenchAction(new s.SyncActionDescriptor(p.OpenViewPickerAction,p.OpenViewPickerAction.ID,p.OpenViewPickerAction.LABEL),"View: Open View",S),v.registerWorkbenchAction(new s.SyncActionDescriptor(p.QuickOpenViewPickerAction,p.QuickOpenViewPickerAction.ID,p.QuickOpenViewPickerAction.LABEL,y),"View: Quick Open View",S);g.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigateNextInViewPicker",weight:250,
handler:h.getQuickNavigateHandler("workbench.action.quickOpenNavigateNextInViewPicker",!0),when:m,primary:y.primary,linux:y.linux,mac:y.mac});g.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigatePreviousInViewPicker",weight:250,handler:h.getQuickNavigateHandler("workbench.action.quickOpenNavigatePreviousInViewPicker",!1),when:m,primary:1024|y.primary,linux:y.linux,mac:{primary:1024|y.mac.primary}}),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor(l.CommandsHandler,l.CommandsHandler.ID,l.ALL_COMMANDS_PREFIX,"inCommandsPicker",n.localize("commandsHandlerDescriptionDefault","Show and Run Commands"))),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor(u.GotoLineHandler,u.GotoLineHandler.ID,u.GOTO_LINE_PREFIX,null,[{prefix:u.GOTO_LINE_PREFIX,needsEditor:!0,description:i.isMacintosh?n.localize("gotoLineDescriptionMac","Go to Line"):n.localize("gotoLineDescriptionWin","Go to Line")
}])),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor(c.GotoSymbolHandler,c.GotoSymbolHandler.ID,c.GOTO_SYMBOL_PREFIX,"inFileSymbolsPicker",[{prefix:c.GOTO_SYMBOL_PREFIX,needsEditor:!0,description:n.localize("gotoSymbolDescription","Go to Symbol in File")},{prefix:c.GOTO_SYMBOL_PREFIX+c.SCOPE_PREFIX,needsEditor:!0,description:n.localize("gotoSymbolDescriptionScoped","Go to Symbol in File by Category")}])),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor(d.HelpHandler,d.HelpHandler.ID,d.HELP_PREFIX,null,n.localize("helpDescription","Show Help"))),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor(p.ViewPickerHandler,p.ViewPickerHandler.ID,p.VIEW_PICKER_PREFIX,"inViewsPicker",[{prefix:p.VIEW_PICKER_PREFIX,needsEditor:!1,description:n.localize("viewPickerDescription","Open View")}])),s.MenuRegistry.appendMenuItem(25,{group:"1_open",command:{id:l.ShowAllCommandsAction.ID,
title:n.localize({key:"miCommandPalette",comment:["&& denotes a mnemonic"]},"&&Command Palette...")},order:1}),s.MenuRegistry.appendMenuItem(25,{group:"1_open",command:{id:p.OpenViewPickerAction.ID,title:n.localize({key:"miOpenView",comment:["&& denotes a mnemonic"]},"&&Open View...")},order:2}),s.MenuRegistry.appendMenuItem(15,{group:"z_go_to",command:{id:"workbench.action.gotoSymbol",title:n.localize({key:"miGotoSymbolInFile",comment:["&& denotes a mnemonic"]},"Go to &&Symbol in File...")},order:2}),s.MenuRegistry.appendMenuItem(15,{group:"z_go_to",command:{id:"workbench.action.gotoLine",title:n.localize({key:"miGotoLine",comment:["&& denotes a mnemonic"]},"Go to &&Line...")},order:7})}),define(e[151],t([1,0,8,14,69,97,32,20,2,99,43,71,167,139,126,10,93,51,33,41,9]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C){"use strict";function w(e,t){var i=D(e,t),r=document.activeElement;return i&&r&&n.isAncestor(r,i.getContainer())}function I(e,t,i){if("number"==typeof t){
var n=i.resolveKeybinding(a.createKeybinding(t,u.OS));return T(e,n.length>0?n[0]:null)}return T(e,t)}function x(e,t,i){return e.getViewlets().filter(function(e){return e.id===f.VIEW_ID}).length?e.openViewlet(f.VIEW_ID,i).then(function(e){return e}):Promise.resolve(t.openPanel(f.VIEW_ID,i))}function D(e,t){var i=e.getActiveViewlet();if(i&&i.getId()===f.VIEW_ID)return i;var n=t.getActivePanel();return n&&n.getId()===f.VIEW_ID?n:void 0}function T(e,t){return t?e+" ("+t.getLabel()+")":e}function R(e){return e.scheme===l.Schemas.file?E.normalize(c.normalizeDriveLetter(e.fsPath),!0):e.toString()}function A(e){return e.range().startLineNumber+","+e.range().startColumn+": "+e.text()}function O(e,t){var i=e.matches().sort(m.searchMatchComparer).slice(0,t).map(A).map(function(e){return"  "+e});return{text:""+R(e.resource())+X+i.join(X),count:i.length}}function k(e,t){for(var i=[],n=0,r=e.matches().sort(m.searchMatchComparer),o=0;o<e.fileCount()&&n<t;o++){var s=O(r[o],t-n);n+=s.count,i.push(s.text)}return{
text:i.join(X+X),count:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.isSearchViewFocused=w,t.appendKeyBindingLabel=I,t.openSearchView=x,t.getSearchView=D,t.toggleCaseSensitiveCommand=function(e){D(e.get(b.IViewletService),e.get(S.IPanelService)).toggleCaseSensitive()},t.toggleWholeWordCommand=function(e){D(e.get(b.IViewletService),e.get(S.IPanelService)).toggleWholeWords()},t.toggleRegexCommand=function(e){D(e.get(b.IViewletService),e.get(S.IPanelService)).toggleRegex()};var M=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.panelService=r,o}return i(t,e),t.prototype.run=function(){return D(this.viewletService,this.panelService).focusNextInputBox(),Promise.resolve(null)},t.ID="search.focus.nextInputBox",t=r([o(2,b.IViewletService),o(3,S.IPanelService)],t)}(s.Action);t.FocusNextInputAction=M;var P=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.panelService=r,o}return i(t,e),t.prototype.run=function(){
return D(this.viewletService,this.panelService).focusPreviousInputBox(),Promise.resolve(null)},t.ID="search.focus.previousInputBox",t=r([o(2,b.IViewletService),o(3,S.IPanelService)],t)}(s.Action);t.FocusPreviousInputAction=P;var L=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.viewletService=n,s.panelService=r,s.expandSearchReplaceWidget=o,s}return i(t,e),t.prototype.run=function(){var e=this;return x(this.viewletService,this.panelService,!1).then(function(t){t.searchAndReplaceWidget.toggleReplace(e.expandSearchReplaceWidget);var i=t.updateTextFromSelection(!e.expandSearchReplaceWidget);t.searchAndReplaceWidget.focus(void 0,i,i)})},t}(s.Action);t.FindOrReplaceInFilesAction=L;var F=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r,!1)||this}return i(t,e),t.LABEL=d.localize("findInFiles","Find in Files"),t=r([o(2,b.IViewletService),o(3,S.IPanelService)],t)}(L);t.FindInFilesAction=F;var N=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i,n,r,!1)||this
;return s.editorGroupService=o,s}return i(t,e),t.prototype.run=function(){return this.otherViewletShowing()||!w(this.viewletService,this.panelService)?e.prototype.run.call(this):(this.editorGroupService.activeGroup.focus(),Promise.resolve(!0))},t.prototype.otherViewletShowing=function(){return!D(this.viewletService,this.panelService)},t.LABEL=d.localize("showSearch","Show Search"),t=r([o(2,b.IViewletService),o(3,S.IPanelService),o(4,_.IEditorGroupsService)],t)}(L);t.OpenSearchViewletAction=N;var B=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r,!0)||this}return i(t,e),t.ID="workbench.action.replaceInFiles",t.LABEL=d.localize("replaceInFiles","Replace in Files"),t=r([o(2,b.IViewletService),o(3,S.IPanelService)],t)}(L);t.ReplaceInFilesAction=B;var W=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.panelService=r,o}return i(t,e),t.prototype.run=function(){var e=D(this.viewletService,this.panelService);return e.searchAndReplaceWidget.toggleReplace(!1),
e.searchAndReplaceWidget.focus(),Promise.resolve(null)},t=r([o(2,b.IViewletService),o(3,S.IPanelService)],t)}(s.Action);t.CloseReplaceAction=W;var V=function(e){function t(t,i,n,r){var o=e.call(this,t,i,"search-action refresh")||this;return o.viewletService=n,o.panelService=r,o.update(),o}return i(t,e),t.prototype.update=function(){var e=D(this.viewletService,this.panelService);this.enabled=e&&e.isSearchSubmitted()},t.prototype.run=function(){var e=D(this.viewletService,this.panelService);return e&&e.onQueryChanged(),Promise.resolve(null)},t.ID="search.action.refreshSearchResults",t.LABEL=d.localize("RefreshAction.label","Refresh"),t=r([o(2,b.IViewletService),o(3,S.IPanelService)],t)}(s.Action);t.RefreshAction=V;var z=function(e){function t(t,i,n,r){var o=e.call(this,t,i,"search-action collapse")||this;return o.viewletService=n,o.panelService=r,o.update(),o}return i(t,e),t.prototype.update=function(){var e=D(this.viewletService,this.panelService);this.enabled=e&&e.hasSearchResults()},
t.prototype.run=function(){var e=D(this.viewletService,this.panelService);if(e){var t=e.getControl();if(t.getHighlight())return Promise.resolve(null);var i=t.getNavigator(),n=i.first(),r=!1;if(n instanceof m.FolderMatch)for(;n=i.next();)if(n instanceof m.Match){r=!0;break}if(r){n=i.first();do{n instanceof m.FileMatch&&t.collapse(n)}while(n=i.next())}else t.collapseAll();t.clearSelection(),t.clearFocus(),t.domFocus(),t.focusFirst()}return Promise.resolve(null)},t.ID="search.action.collapseSearchResults",t.LABEL=d.localize("CollapseDeepestExpandedLevelAction.label","Collapse All"),t=r([o(2,b.IViewletService),o(3,S.IPanelService)],t)}(s.Action);t.CollapseDeepestExpandedLevelAction=z;var G=function(e){function t(t,i,n,r){var o=e.call(this,t,i,"search-action clear-search-results")||this;return o.viewletService=n,o.panelService=r,o.update(),o}return i(t,e),t.prototype.update=function(){var e=D(this.viewletService,this.panelService);this.enabled=e&&e.isSearchSubmitted()},t.prototype.run=function(){
var e=D(this.viewletService,this.panelService);return e&&e.clearSearchResults(),Promise.resolve(null)},t.ID="search.action.clearSearchResults",t.LABEL=d.localize("ClearSearchResultsAction.label","Clear Search Results"),t=r([o(2,b.IViewletService),o(3,S.IPanelService)],t)}(s.Action);t.ClearSearchResultsAction=G;var K=function(e){function t(t,i,n,r){var o=e.call(this,t,i,"search-action cancel-search")||this;return o.viewletService=n,o.panelService=r,o.update(),o}return i(t,e),t.prototype.update=function(){var e=D(this.viewletService,this.panelService);this.enabled=e&&e.isSearching()},t.prototype.run=function(){var e=D(this.viewletService,this.panelService);return e&&e.cancelSearch(),Promise.resolve(null)},t.ID="search.action.cancelSearch",t.LABEL=d.localize("CancelSearchAction.label","Cancel Search"),t=r([o(2,b.IViewletService),o(3,S.IPanelService)],t)}(s.Action);t.CancelSearchAction=K;var H=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.panelService=r,o}return i(t,e),
t.prototype.run=function(){return x(this.viewletService,this.panelService).then(function(e){e.selectNextMatch()})},t.ID="search.action.focusNextSearchResult",t.LABEL=d.localize("FocusNextSearchResult.label","Focus Next Search Result"),t=r([o(2,b.IViewletService),o(3,S.IPanelService)],t)}(s.Action);t.FocusNextSearchResultAction=H;var U=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.panelService=r,o}return i(t,e),t.prototype.run=function(){return x(this.viewletService,this.panelService).then(function(e){e.selectPreviousMatch()})},t.ID="search.action.focusPreviousSearchResult",t.LABEL=d.localize("FocusPreviousSearchResult.label","Focus Previous Search Result"),t=r([o(2,b.IViewletService),o(3,S.IPanelService)],t)}(s.Action);t.FocusPreviousSearchResultAction=U;var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getElementToFocusAfterRemoved=function(e,t){var i=this.getNextElementAfterRemoved(e,t)
;return i||(i=this.getPreviousElementAfterRemoved(e,t)),i},t.prototype.getNextElementAfterRemoved=function(e,t){var i=this.getNavigatorAt(t,e);if(t instanceof m.FolderMatch)for(;i.next()&&!(i.current()instanceof m.FolderMatch););else if(t instanceof m.FileMatch)for(;i.next()&&!(i.current()instanceof m.FileMatch););else for(;i.next()&&!(i.current()instanceof m.Match);)e.expand(i.current());return i.current()},t.prototype.getPreviousElementAfterRemoved=function(e,t){var i=this.getNavigatorAt(t,e),n=i.previous(),r=t.parent();return r===n&&(n=i.previous()),r instanceof m.FileMatch&&r.parent()===n&&(n=i.previous()),t instanceof m.Match&&n&&n instanceof m.FolderMatch&&(i.next(),e.expand(n),n=i.previous()),t instanceof m.Match&&n&&n instanceof m.FileMatch&&(i.next(),e.expand(n),n=i.previous()),n},t.prototype.getNavigatorAt=function(e,t){for(var i=t.getNavigator();i.current()!==e&&i.next(););return i},t}(s.Action);t.AbstractSearchAndReplaceAction=j;var q=function(e){function t(i,n){
var r=e.call(this,"remove",t.LABEL,"action-remove")||this;return r.viewer=i,r.element=n,r}return i(t,e),t.prototype.run=function(){var e=this.viewer.getFocus(),t=!e||e instanceof m.SearchResult||function(e,t){do{if(e===t)return!0}while(!(e.parent()instanceof m.SearchResult)&&(e=e.parent()));return!1}(e,this.element)?this.getElementToFocusAfterRemoved(this.viewer,this.element):null;t&&(this.viewer.reveal(t),this.viewer.setFocus(t));var i,n=this.element;if(n instanceof m.FolderMatch){var r=n.parent();r.remove(n),i=r}else if(n instanceof m.FileMatch){var o=n.parent();o.remove(n),i=o}else if(n instanceof m.Match){var s=n.parent();s.remove(n),i=0===s.count()?s.parent():s}return this.viewer.domFocus(),this.viewer.refresh(i)},t.LABEL=d.localize("RemoveAction.label","Dismiss"),t}(j);t.RemoveAction=q;var $=function(e){function t(i,n,r,o){var s=e.call(this,g.ReplaceAllInFileActionId,I(t.LABEL,o.lookupKeybinding(g.ReplaceAllInFileActionId),o),"action-replace-all")||this;return s.viewer=i,s.fileMatch=n,s.viewlet=r,s}
return i(t,e),t.prototype.run=function(){var e=this,t=this.getElementToFocusAfterRemoved(this.viewer,this.fileMatch);return this.fileMatch.parent().replace(this.fileMatch).then(function(){t&&e.viewer.setFocus(t),e.viewer.domFocus(),e.viewlet.open(e.fileMatch,!0)})},t.LABEL=d.localize("file.replaceAll.label","Replace All"),t=r([o(3,h.IKeybindingService)],t)}(j);t.ReplaceAllAction=$;var Q=function(e){function t(i,n,r){var o=e.call(this,g.ReplaceAllInFolderActionId,I(t.LABEL,r.lookupKeybinding(g.ReplaceAllInFolderActionId),r),"action-replace-all")||this;return o.viewer=i,o.folderMatch=n,o}return i(t,e),t.prototype.run=function(){var e=this,t=this.getElementToFocusAfterRemoved(this.viewer,this.folderMatch);return this.folderMatch.replaceAll().then(function(){t&&e.viewer.setFocus(t),e.viewer.domFocus()})},t.LABEL=d.localize("file.replaceAll.label","Replace All"),t=r([o(2,h.IKeybindingService)],t)}(j);t.ReplaceAllInFolderAction=Q;var Y=function(e){function t(i,n,r,o,s,a,c){
var l=e.call(this,g.ReplaceActionId,I(t.LABEL,s.lookupKeybinding(g.ReplaceActionId),s),"action-replace")||this;return l.viewer=i,l.element=n,l.viewlet=r,l.replaceService=o,l.editorService=a,l.configurationService=c,l}return i(t,e),t.prototype.run=function(){var e=this;return this.enabled=!1,this.element.parent().replace(this.element).then(function(){var t=e.getElementToFocusAfterReplace();t&&e.viewer.setFocus(t);var i=e.getElementToShowReplacePreview(t);e.viewer.domFocus();e.configurationService.getValue().search.useReplacePreview&&i&&!e.hasToOpenFile()?e.replaceService.openReplacePreview(i,!0):e.viewlet.open(e.element,!0)})},t.prototype.getElementToFocusAfterReplace=function(){var e=this.viewer.getNavigator(),t=!1,i=null;do{if((i=e.current())instanceof m.Match){if(i.parent().id()===this.element.parent().id()){if(t=!0,this.element.range().getStartPosition().isBeforeOrEqual(i.range().getStartPosition()))break}else if(t)break}else if(t&&!this.viewer.isExpanded(i))break}while(e.next());return i},
t.prototype.getElementToShowReplacePreview=function(e){if(this.hasSameParent(e))return e;var t=this.getPreviousElementAfterRemoved(this.viewer,this.element);return this.hasSameParent(t)?t:null},t.prototype.hasSameParent=function(e){return e&&e instanceof m.Match&&e.parent().resource()===this.element.parent().resource()},t.prototype.hasToOpenFile=function(){var e=this.editorService.activeEditor,t=e?e.getResource():void 0;return!!t&&t.toString()===this.element.parent().resource().toString()},t.LABEL=d.localize("match.replace.label","Replace"),t=r([o(3,v.IReplaceService),o(4,h.IKeybindingService),o(5,y.IEditorService),o(6,C.IConfigurationService)],t)}(j);t.ReplaceAction=Y,t.copyPathCommand=function(e,t){var i=e.get(p.IClipboardService),n=R(t.resource());i.writeText(n)};var X=u.isWindows?"\r\n":"\n";t.copyMatchCommand=function(e,t){var i,n=e.get(p.IClipboardService);t instanceof m.Match?i=A(t):t instanceof m.FileMatch?i=O(t,1e4).text:t instanceof m.FolderMatch&&(i=k(t,1e4).text),i&&n.writeText(i)},
t.copyAllCommand=function(e){var t=e.get(b.IViewletService),i=e.get(S.IPanelService),n=e.get(p.IClipboardService),r=function(e,t){var i=[],n=0;e=e.sort(m.searchMatchComparer);for(var r=0;r<e.length&&n<t;r++){var o=k(e[r],t-n);o.count&&(n+=o.count,i.push(o.text))}return i.join(X+X)}(D(t,i).getControl().getInput().folderMatches(),1e4);n.writeText(r)},t.clearHistoryCommand=function(e){e.get(f.ISearchHistoryService).clearHistory()},t.focusSearchListCommand=function(e){x(e.get(b.IViewletService),e.get(S.IPanelService)).then(function(e){e.moveFocusToResults()})}}),define(e[528],t([1,0,8,53,425,3,33,24,2,130,26,9,37,16,4,55,59,50,12,21,102,151,126]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x=function(){function e(e,t){var i=this;this.contextService=e,this.configurationService=t,this.updateIncludeFolderMatch(),this.listener=this.contextService.onDidChangeWorkbenchState(function(){return i.updateIncludeFolderMatch()})}
return e.prototype.updateIncludeFolderMatch=function(){this.includeFolderMatch=3===this.contextService.getWorkbenchState()},e.prototype.getId=function(e,t){return t instanceof I.FolderMatch?t.id():t instanceof I.FileMatch?t.id():t instanceof I.Match?t.id():"root"},e.prototype._getChildren=function(e){if(e instanceof I.FileMatch)return e.matches();if(e instanceof I.FolderMatch)return e.matches();if(e instanceof I.SearchResult){var t=e.folderMatches();return t.length>2?t.filter(function(e){return!e.isEmpty()}):e.matches()}return[]},e.prototype.getChildren=function(e,t){return Promise.resolve(this._getChildren(t))},e.prototype.hasChildren=function(e,t){return t instanceof I.FileMatch||t instanceof I.FolderMatch||t instanceof I.SearchResult},e.prototype.getParent=function(e,t){var i=null;return t instanceof I.Match?i=t.parent():t instanceof I.FileMatch?i=this.includeFolderMatch?t.parent():t.parent().parent():t instanceof I.FolderMatch&&(i=t.parent()),Promise.resolve(i)},e.prototype.shouldAutoexpand=function(t,i){
var n=this._getChildren(i).length;if(n<=0)return!1;var r=this.configurationService.getValue("search.collapseResults");return"alwaysCollapse"!==r&&("alwaysExpand"===r||(n<e.AUTOEXPAND_CHILD_LIMIT||i instanceof I.FolderMatch))},e.prototype.dispose=function(){this.listener=c.dispose(this.listener)},e.AUTOEXPAND_CHILD_LIMIT=10,e=r([o(0,_.IWorkspaceContextService),o(1,f.IConfigurationService)],e)}();t.SearchDataSource=x;var D=function(){function e(){}return e.prototype.compare=function(e,t,i){return I.searchMatchComparer(t,i)},e}();t.SearchSorter=D;var T=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.searchView=t,s.instantiationService=i,s.themeService=n,s.configurationService=r,s.contextService=o,s}return i(t,e),t.prototype.getHeight=function(e,t){return 22},t.prototype.getTemplateId=function(e,i){return i instanceof I.FolderMatch?t.FOLDER_MATCH_TEMPLATE_ID:i instanceof I.FileMatch?t.FILE_MATCH_TEMPLATE_ID:i instanceof I.Match?t.MATCH_TEMPLATE_ID:null},
t.prototype.renderTemplate=function(e,i,n){return i===t.FOLDER_MATCH_TEMPLATE_ID?this.renderFolderMatchTemplate(e,i,n):i===t.FILE_MATCH_TEMPLATE_ID?this.renderFileMatchTemplate(e,i,n):i===t.MATCH_TEMPLATE_ID?this.renderMatchTemplate(e,i,n):null},t.prototype.renderElement=function(e,i,n,r){t.FOLDER_MATCH_TEMPLATE_ID===n?this.renderFolderMatch(e,i,r):t.FILE_MATCH_TEMPLATE_ID===n?this.renderFileMatch(e,i,r):t.MATCH_TEMPLATE_ID===n&&this.renderMatch(e,i,r)},t.prototype.renderFolderMatchTemplate=function(e,t,i){var r=n.append(i,n.$(".foldermatch")),o=this.instantiationService.createInstance(C.FileLabel,r,void 0),c=new a.CountBadge(n.append(r,n.$(".badge")));this._register(b.attachBadgeStyler(c,this.themeService));return{label:o,badge:c,actions:new s.ActionBar(r,{animated:!1})}},t.prototype.renderFileMatchTemplate=function(e,t,i){var r=n.append(i,n.$(".filematch")),o=this.instantiationService.createInstance(C.FileLabel,r,void 0),c=new a.CountBadge(n.append(r,n.$(".badge")))
;this._register(b.attachBadgeStyler(c,this.themeService));return{el:r,label:o,badge:c,actions:new s.ActionBar(r,{animated:!1})}},t.prototype.renderMatchTemplate=function(e,t,i){n.addClass(i,"linematch");var r=n.append(i,n.$("a.plain.match")),o=n.append(r,n.$("span")),a=n.append(r,n.$("span.findInFileMatch")),c=n.append(r,n.$("span.replaceMatch")),l=n.append(r,n.$("span")),u=n.append(i,n.$("span.matchLineNum")),d=n.append(i,n.$("span.actionBarContainer"));return{parent:r,before:o,match:a,replace:c,after:l,lineNumber:u,actions:new s.ActionBar(d,{animated:!1})}},t.prototype.renderFolderMatch=function(e,t,i){if(t.hasResource()){var n=this.contextService.getWorkspaceFolder(t.resource());n&&u.isEqual(n.uri,t.resource())?i.label.setFile(t.resource(),{fileKind:v.FileKind.ROOT_FOLDER,hidePath:!0}):i.label.setFile(t.resource(),{fileKind:v.FileKind.FOLDER})}else i.label.setValue(d.localize("searchFolderMatch.other.label","Other files"));var r=t.fileCount();i.badge.setCount(r),
i.badge.setTitleFormat(r>1?d.localize("searchFileMatches","{0} files found",r):d.localize("searchFileMatch","{0} file found",r)),i.actions.clear();var o=[];e.getInput().searchModel.isReplaceActive()&&r>0&&o.push(this.instantiationService.createInstance(w.ReplaceAllInFolderAction,e,t)),o.push(new w.RemoveAction(e,t)),i.actions.push(o,{icon:!0,label:!1})},t.prototype.renderFileMatch=function(e,t,i){i.el.setAttribute("data-resource",t.resource().toString()),i.label.setFile(t.resource(),{hideIcon:!1});var n=t.count();i.badge.setCount(n),i.badge.setTitleFormat(n>1?d.localize("searchMatches","{0} matches found",n):d.localize("searchMatch","{0} match found",n));var r=e.getInput();i.actions.clear();var o=[];r.searchModel.isReplaceActive()&&n>0&&o.push(this.instantiationService.createInstance(w.ReplaceAllAction,e,t,this.searchView)),o.push(new w.RemoveAction(e,t)),i.actions.push(o,{icon:!0,label:!1})},t.prototype.renderMatch=function(e,t,i){
var r=t.preview(),o=e.getInput().searchModel,s=o.isReplaceActive()&&!!o.replaceString;i.before.textContent=r.before,i.match.textContent=r.inside,n.toggleClass(i.match,"replace",s),i.replace.textContent=s?t.replaceString:"",i.after.textContent=r.after,i.parent.title=(r.before+(s?t.replaceString:r.inside)+r.after).trim().substr(0,999);var a=t.range().endLineNumber-t.range().startLineNumber,c=a>0?"+"+a:"",l=this.configurationService.getValue("search").showLineNumbers,u=l?":"+t.range().startLineNumber:"";n.toggleClass(i.lineNumber,"show",a>0||l),i.lineNumber.textContent=u+c,i.lineNumber.setAttribute("title",this.getMatchTitle(t,l)),i.actions.clear(),o.isReplaceActive()?i.actions.push([this.instantiationService.createInstance(w.ReplaceAction,e,t,this.searchView),new w.RemoveAction(e,t)],{icon:!0,label:!1}):i.actions.push([new w.RemoveAction(e,t)],{icon:!0,label:!1})},t.prototype.getMatchTitle=function(e,t){var i=e.range().startLineNumber,n=e.range().endLineNumber-e.range().startLineNumber
;return(t?d.localize("lineNumStr","From line {0}",i,n)+" ":"")+(n>0?"+ "+d.localize("numLinesStr","{0} more lines",n):"")},t.prototype.disposeTemplate=function(e,i,n){if(t.FOLDER_MATCH_TEMPLATE_ID===i){(r=n).label.dispose(),r.actions.dispose()}else if(t.FILE_MATCH_TEMPLATE_ID===i){(r=n).label.dispose(),r.actions.dispose()}else if(t.MATCH_TEMPLATE_ID===i){var r=n;r.actions.dispose()}},t.FOLDER_MATCH_TEMPLATE_ID="folderMatch",t.FILE_MATCH_TEMPLATE_ID="fileMatch",t.MATCH_TEMPLATE_ID="match",t=r([o(1,m.IInstantiationService),o(2,E.IThemeService),o(3,f.IConfigurationService),o(4,_.IWorkspaceContextService)],t)}(c.Disposable);t.SearchRenderer=T;var R=function(){function e(e){this.labelService=e}return e.prototype.getAriaLabel=function(e,t){if(t instanceof I.FolderMatch)return t.hasResource()?d.localize("folderMatchAriaLabel","{0} matches in folder root {1}, Search result",t.count(),t.name()):d.localize("otherFilesAriaLabel","{0} matches outside of the workspace, Search result",t.count())
;if(t instanceof I.FileMatch){var i=this.labelService.getUriLabel(t.resource(),{relative:!0})||t.resource().fsPath;return d.localize("fileMatchAriaLabel","{0} matches in file {1} of folder {2}, Search result",t.count(),t.name(),l.dirname(i))}if(t instanceof I.Match){var n=t,r=e.getInput().searchModel,o=r.isReplaceActive()&&!!r.replaceString,s=n.getMatchString(),a=n.range(),c=n.text().substr(0,a.endColumn+150);return o?d.localize("replacePreviewResultAria","Replace term {0} with {1} at column position {2} in line with text {3}",s,n.replaceString,a.startColumn+1,c):d.localize("searchResultAria","Found term {0} at column position {1} in line with text {2}",s,a.startColumn+1,c)}},e=r([o(0,y.ILabelService)],e)}();t.SearchAccessibilityProvider=R;var A=function(){function e(){}return e.prototype.isVisible=function(e,t){return!(t instanceof I.FileMatch||t instanceof I.FolderMatch)||t.matches().length>0},e}();t.SearchFilter=A;var O=function(e){function t(t,i,n){var r=e.call(this,{},n)||this
;return r.contextMenuService=t,r.menuService=i,r}return i(t,e),t.prototype.onContextMenu=function(e,t,i){var n=this;this.contextMenu||(this.contextMenu=this.menuService.createMenu(33,e.contextKeyService),this.disposables.push(this.contextMenu)),e.setFocus(t,{preventOpenOnFocus:!0});var r={x:i.posx,y:i.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){var e=[];return p.fillInContextMenuActions(n.contextMenu,{shouldForwardArgs:!0},e,n.contextMenuService),e},getActionsContext:function(){return t}}),!0},t=r([o(0,g.IContextMenuService),o(1,h.IMenuService),o(2,f.IConfigurationService)],t)}(S.WorkbenchTreeController);t.SearchTreeController=O}),define(e[527],t([1,0,51,93,9,71]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,i){var n=function(n){"panel"===i.getValue().search.location?(e.setViewletEnablement(a.VIEW_ID,!1),t.setPanelEnablement(a.VIEW_ID,!0),
n&&t.openPanel(a.VIEW_ID)):(t.setPanelEnablement(a.VIEW_ID,!1),e.setViewletEnablement(a.VIEW_ID,!0),n&&e.openViewlet(a.VIEW_ID))};i.onDidChangeConfiguration(function(e){e.affectsConfiguration("search.location")&&n(!0)}),n(!1)}return e=r([o(0,i.IViewletService),o(1,n.IPanelService),o(2,s.IConfigurationService)],e)}();t.SearchViewLocationUpdater=c}),define(e[266],t([1,0,128,8,53,125,98,14,13,5,22,508,2,99,9,11,37,43,74,50,12,284,151,167,93,51]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var R=function(e){function t(){var i=e.call(this,t.ID,"","action-replace-all",!1)||this;return i._searchWidget=null,i}return i(t,e),Object.defineProperty(t,"INSTANCE",{get:function(){return null===t.fgInstance&&(t.fgInstance=new t),t.fgInstance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchWidget",{set:function(e){this._searchWidget=e},enumerable:!0,configurable:!0}),t.prototype.run=function(){
return this._searchWidget?this._searchWidget.triggerReplaceAll():Promise.resolve(null)},t.fgInstance=null,t.ID="search.action.replaceAll",t}(u.Action),A=function(e){function t(t,i,r,o,s,a,c,l){var u=e.call(this)||this;return u.contextViewService=r,u.themeService=o,u.contextKeyService=s,u.keyBindingService=a,u.clipboardServce=c,u.configurationService=l,u.ignoreGlobalFindBufferOnNextFocus=!1,u._onSearchSubmit=u._register(new p.Emitter),u.onSearchSubmit=u._onSearchSubmit.event,u._onSearchCancel=u._register(new p.Emitter),u.onSearchCancel=u._onSearchCancel.event,u._onReplaceToggled=u._register(new p.Emitter),u.onReplaceToggled=u._onReplaceToggled.event,u._onReplaceStateChange=u._register(new p.Emitter),u.onReplaceStateChange=u._onReplaceStateChange.event,u._onReplaceValueChanged=u._register(new p.Emitter),u.onReplaceValueChanged=u._onReplaceValueChanged.event,u._onReplaceAll=u._register(new p.Emitter),u.onReplaceAll=u._onReplaceAll.event,u._onBlur=u._register(new p.Emitter),u.onBlur=u._onBlur.event,
u.replaceActive=x.ReplaceActiveKey.bindTo(u.contextKeyService),u.searchInputBoxFocused=x.SearchInputBoxFocusedKey.bindTo(u.contextKeyService),u.replaceInputBoxFocused=x.ReplaceInputBoxFocusedKey.bindTo(u.contextKeyService),u._replaceHistoryDelayer=new d.Delayer(500),u.render(t,i),u.configurationService.onDidChangeConfiguration(function(e){e.affectsConfiguration("editor.accessibilitySupport")&&u.updateAccessibilitySupport()}),n.onDidChangeAccessibilitySupport(function(){return u.updateAccessibilitySupport()}),u.updateAccessibilitySupport(),u}return i(t,e),t.prototype.focus=function(e,t,i){void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===i&&(i=!1),this.ignoreGlobalFindBufferOnNextFocus=i,t&&this.isReplaceShown()?(this.replaceInput.focus(),e&&this.replaceInput.select()):(this.searchInput.focus(),e&&this.searchInput.select())},t.prototype.setWidth=function(e){this.searchInput.setWidth(e),this.replaceInput.width=e-28},t.prototype.clear=function(){this.searchInput.clear(),this.replaceInput.value="",
this.setReplaceAllActionState(!1)},t.prototype.isReplaceShown=function(){return!s.hasClass(this.replaceContainer,"disabled")},t.prototype.isReplaceActive=function(){return this.replaceActive.get()},t.prototype.getReplaceValue=function(){return this.replaceInput.value},t.prototype.toggleReplace=function(e){void 0!==e&&e===this.isReplaceShown()||this.onToggleReplaceButton()},t.prototype.getSearchHistory=function(){return this.searchInput.inputBox.getHistory()},t.prototype.getReplaceHistory=function(){return this.replaceInput.getHistory()},t.prototype.clearHistory=function(){this.searchInput.inputBox.clearHistory()},t.prototype.showNextSearchTerm=function(){this.searchInput.inputBox.showNextValue()},t.prototype.showPreviousSearchTerm=function(){this.searchInput.inputBox.showPreviousValue()},t.prototype.showNextReplaceTerm=function(){this.replaceInput.showNextValue()},t.prototype.showPreviousReplaceTerm=function(){this.replaceInput.showPreviousValue()},t.prototype.searchInputHasFocus=function(){
return this.searchInputBoxFocused.get()},t.prototype.replaceInputHasFocus=function(){return this.replaceInput.hasFocus()},t.prototype.focusReplaceAllAction=function(){this.replaceActionBar.focus(!0)},t.prototype.focusRegexAction=function(){this.searchInput.focusOnRegex()},t.prototype.render=function(e,t){this.domNode=s.append(e,s.$(".search-widget")),this.domNode.style.position="relative",this.renderToggleReplaceButton(this.domNode),this.renderSearchInput(this.domNode,t),this.renderReplaceInput(this.domNode,t)},t.prototype.isScreenReaderOptimized=function(){var e=2===n.getAccessibilitySupport(),t=this.configurationService.getValue("editor").accessibilitySupport;return"on"===t||"auto"===t&&e},t.prototype.updateAccessibilitySupport=function(){this.searchInput.setFocusInputOnOptionClick(!this.isScreenReaderOptimized())},t.prototype.renderToggleReplaceButton=function(e){var t=this;this.toggleReplaceButton=this._register(new c.Button(e,{buttonBackground:null,buttonBorder:null,buttonForeground:null,
buttonHoverBackground:null})),this.toggleReplaceButton.element.setAttribute("aria-expanded","false"),this.toggleReplaceButton.element.classList.add("collapse"),this.toggleReplaceButton.icon="toggle-replace-button",this.toggleReplaceButton.onDidClick(function(){return t.onToggleReplaceButton()}),this.toggleReplaceButton.element.title=g.localize("search.replace.toggle.button.title","Toggle Replace")},t.prototype.renderSearchInput=function(e,t){var i=this,n={label:g.localize("label.Search","Search: Type Search Term and press Enter to search or Escape to cancel"),validation:function(e){return i.validateSearchInput(e)},placeholder:g.localize("search.placeHolder","Search"),appendCaseSensitiveLabel:I.appendKeyBindingLabel("",this.keyBindingService.lookupKeybinding(x.ToggleCaseSensitiveCommandId),this.keyBindingService),appendWholeWordsLabel:I.appendKeyBindingLabel("",this.keyBindingService.lookupKeybinding(x.ToggleWholeWordCommandId),this.keyBindingService),
appendRegexLabel:I.appendKeyBindingLabel("",this.keyBindingService.lookupKeybinding(x.ToggleRegexCommandId),this.keyBindingService),history:t.searchHistory},r=s.append(e,s.$(".search-container.input-box"));this.searchInput=this._register(new w.ContextScopedFindInput(r,this.contextViewService,n,this.contextKeyService,!0)),this._register(_.attachFindInputBoxStyler(this.searchInput,this.themeService)),this.searchInput.onKeyDown(function(e){return i.onSearchInputKeyDown(e)}),this.searchInput.setValue(t.value||""),this.searchInput.setRegex(!!t.isRegex),this.searchInput.setCaseSensitive(!!t.isCaseSensitive),this.searchInput.setWholeWords(!!t.isWholeWords),this._register(this.onSearchSubmit(function(){i.searchInput.inputBox.addToHistory()})),this.searchInput.onCaseSensitiveKeyDown(function(e){return i.onCaseSensitiveKeyDown(e)}),this.searchInput.onRegexKeyDown(function(e){return i.onRegexKeyDown(e)}),this._register(this.onReplaceValueChanged(function(){i._replaceHistoryDelayer.trigger(function(){
return i.replaceInput.addToHistory()})})),this.searchInputFocusTracker=this._register(s.trackFocus(this.searchInput.inputBox.inputElement)),this._register(this.searchInputFocusTracker.onDidFocus(function(){i.searchInputBoxFocused.set(!0);var e=i.searchConfiguration.globalFindClipboard;if(!i.ignoreGlobalFindBufferOnNextFocus&&e){var t=i.clipboardServce.readFindText();i.previousGlobalFindBufferValue!==t&&(i.searchInput.inputBox.addToHistory(),i.searchInput.setValue(t),i.searchInput.select()),i.previousGlobalFindBufferValue=t}i.ignoreGlobalFindBufferOnNextFocus=!1})),this._register(this.searchInputFocusTracker.onDidBlur(function(){return i.searchInputBoxFocused.set(!1)}))},t.prototype.renderReplaceInput=function(e,i){var n=this;this.replaceContainer=s.append(e,s.$(".replace-container.disabled"));var r=s.append(this.replaceContainer,s.$(".input-box"));this.replaceInput=this._register(new w.ContextScopedHistoryInputBox(r,this.contextViewService,{
ariaLabel:g.localize("label.Replace","Replace: Type replace term and press Enter to preview or Escape to cancel"),placeholder:g.localize("search.replace.placeHolder","Replace"),history:i.replaceHistory||[]},this.contextKeyService)),this._register(_.attachInputBoxStyler(this.replaceInput,this.themeService)),this.onkeydown(this.replaceInput.inputElement,function(e){return n.onReplaceInputKeyDown(e)}),this.replaceInput.onDidChange(function(){return n._onReplaceValueChanged.fire()}),this.searchInput.inputBox.onDidChange(function(){return n.onSearchInputChanged()}),this.replaceAllAction=R.INSTANCE,this.replaceAllAction.searchWidget=this,this.replaceAllAction.label=t.REPLACE_ALL_DISABLED_LABEL,this.replaceActionBar=this._register(new a.ActionBar(this.replaceContainer)),this.replaceActionBar.push([this.replaceAllAction],{icon:!0,label:!1}),this.onkeydown(this.replaceActionBar.domNode,function(e){return n.onReplaceActionbarKeyDown(e)}),
this.replaceInputFocusTracker=this._register(s.trackFocus(this.replaceInput.inputElement)),this._register(this.replaceInputFocusTracker.onDidFocus(function(){return n.replaceInputBoxFocused.set(!0)})),this._register(this.replaceInputFocusTracker.onDidBlur(function(){return n.replaceInputBoxFocused.set(!1)}))},t.prototype.triggerReplaceAll=function(){return this._onReplaceAll.fire(),Promise.resolve(null)},t.prototype.onToggleReplaceButton=function(){s.toggleClass(this.replaceContainer,"disabled"),s.toggleClass(this.toggleReplaceButton.element,"collapse"),s.toggleClass(this.toggleReplaceButton.element,"expand"),this.toggleReplaceButton.element.setAttribute("aria-expanded",this.isReplaceShown()?"true":"false"),this.updateReplaceActiveState(),this._onReplaceToggled.fire()},t.prototype.setReplaceAllActionState=function(e){this.replaceAllAction.enabled!==e&&(this.replaceAllAction.enabled=e,this.replaceAllAction.label=e?t.REPLACE_ALL_ENABLED_LABEL(this.keyBindingService):t.REPLACE_ALL_DISABLED_LABEL,
this.updateReplaceActiveState())},t.prototype.updateReplaceActiveState=function(){var e=this.isReplaceActive(),t=this.isReplaceShown()&&this.replaceAllAction.enabled;e!==t&&(this.replaceActive.set(t),this._onReplaceStateChange.fire(t))},t.prototype.validateSearchInput=function(e){if(0===e.length)return null;if(!this.searchInput.getRegex())return null;var t;try{t=new RegExp(e)}catch(e){return{content:e.message}}return h.regExpLeadsToEndlessLoop(t)?{content:g.localize("regexp.validationFailure","Expression matches everything")}:h.regExpContainsBackreference(e)&&!this.searchConfiguration.usePCRE2?{content:g.localize("regexp.backreferenceValidationFailure","Backreferences are not supported")}:null},t.prototype.onSearchInputChanged=function(){this.searchInput.clearMessage(),this.setReplaceAllActionState(!1)},t.prototype.onSearchInputKeyDown=function(e){e.equals(3)?(this.submitSearch(),e.preventDefault()):e.equals(9)?(this._onSearchCancel.fire(),
e.preventDefault()):e.equals(2)&&(this.isReplaceShown()?this.replaceInput.focus():this.searchInput.focusOnCaseSensitive(),e.preventDefault())},t.prototype.onCaseSensitiveKeyDown=function(e){e.equals(1026)&&this.isReplaceShown()&&(this.replaceInput.focus(),e.preventDefault())},t.prototype.onRegexKeyDown=function(e){e.equals(2)&&(this.isReplaceActive()?this.focusReplaceAllAction():this._onBlur.fire(),e.preventDefault())},t.prototype.onReplaceInputKeyDown=function(e){e.equals(3)?(this.submitSearch(),e.preventDefault()):e.equals(2)?(this.searchInput.focusOnCaseSensitive(),e.preventDefault()):e.equals(1026)&&(this.searchInput.focus(),e.preventDefault())},t.prototype.onReplaceActionbarKeyDown=function(e){e.equals(1026)&&(this.focusRegexAction(),e.preventDefault())},t.prototype.submitSearch=function(){if(this.searchInput.validate(),this.searchInput.inputBox.isInputValid()){var e=this.searchInput.getValue(),t=this.searchConfiguration.globalFindClipboard;e&&(t&&this.clipboardServce.writeFindText(e),
this._onSearchSubmit.fire())}},t.prototype.dispose=function(){this.setReplaceAllActionState(!1),this.replaceAllAction.searchWidget=null,this.replaceActionBar=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"searchConfiguration",{get:function(){return this.configurationService.getValue("search")},enumerable:!0,configurable:!0}),t.REPLACE_ALL_DISABLED_LABEL=g.localize("search.action.replaceAll.disabled.label","Replace All (Submit Search to Enable)"),t.REPLACE_ALL_ENABLED_LABEL=function(e){var t=e.lookupKeybinding(R.ID);return I.appendKeyBindingLabel(g.localize("search.action.replaceAll.enabled.label","Replace All"),t,e)},t=r([o(2,S.IContextViewService),o(3,C.IThemeService),o(4,y.IContextKeyService),o(5,b.IKeybindingService),o(6,v.IClipboardService),o(7,m.IConfigurationService)],t)}(l.Widget);t.SearchWidget=A,t.registerContributions=function(){E.KeybindingsRegistry.registerCommandAndKeybindingRule({id:R.ID,weight:200,
when:y.ContextKeyExpr.and(x.SearchViewVisibleKey,x.ReplaceActiveKey,f.CONTEXT_FIND_WIDGET_NOT_VISIBLE),primary:2563,handler:function(e){I.isSearchViewFocused(e.get(T.IViewletService),e.get(D.IPanelService))&&R.INSTANCE.run()}})}}),define(e[507],t([1,0,2,14,19,69,26,7,47,89,515,92,51,13,94,27,10,62,12,261,18,61]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w){"use strict";function I(e,t){return e.isEnabled()?[{type:"separator"},{id:void 0,label:t,alwaysShow:!0}]:[]}function x(e,t){return e.openViewlet(h.VIEWLET_ID,!0).then(function(e){e.search(t),e.focus()})}function D(e,t){var i=e.map(function(e){return{id:e.id,label:e.label,description:e.description}}).sort(function(e,t){return e.label.localeCompare(t.label)});return i.length>0&&t&&i.unshift({type:"separator",label:t}),i}Object.defineProperty(t,"__esModule",{value:!0});var T=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this,t,i)||this;return c.quickInputService=n,c.themeService=r,c.extensionGalleryService=o,c.viewletService=s,
c.configurationService=a,c}return i(t,e),t.prototype.run=function(){var e=this;return this.themeService.getColorThemes().then(function(t){var i=e.themeService.getColorTheme(),r=[].concat(D(t.filter(function(e){return e.type===E.LIGHT}),n.localize("themes.category.light","light themes")),D(t.filter(function(e){return e.type===E.DARK}),n.localize("themes.category.dark","dark themes")),D(t.filter(function(e){return e.type===E.HIGH_CONTRAST}),n.localize("themes.category.hc","high contrast themes")),I(e.extensionGalleryService,n.localize("installColorThemes","Install Additional Color Themes..."))),o=function(t,n){void 0===t.id&&(n&&x(e.viewletService,"category:themes"),t=i);var r=null;if(n){r=void 0!==e.configurationService.inspect(p.COLOR_THEME_SETTING).workspace?2:1}e.themeService.setColorTheme(t.id,r).then(null,function(t){C.onUnexpectedError(t),e.themeService.setColorTheme(i.id,null)})},s=n.localize("themes.selectTheme","Select Color Theme (Up/Down Keys to Preview)"),c=a.firstIndex(r,function(e){
return"separator"!==e.type&&e.id===i.id}),l=new v.Delayer(100);return e.quickInputService.pick(r,{placeHolder:s,activeItem:r[c],onDidFocus:function(e){return l.trigger(function(){return o(e,!1)})}}).then(function(e){return l.trigger(function(){return o(e||i,!0)},0)})})},t.ID="workbench.action.selectTheme",t.LABEL=n.localize("selectTheme.label","Color Theme"),t=r([o(2,w.IQuickInputService),o(3,p.IWorkbenchThemeService),o(4,f.IExtensionGalleryService),o(5,g.IViewletService),o(6,m.IWorkspaceConfigurationService)],t)}(s.Action);t.SelectColorThemeAction=T;var R=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this,t,i)||this;return c.quickInputService=n,c.themeService=r,c.extensionGalleryService=o,c.viewletService=s,c.configurationService=a,c}return i(t,e),t.prototype.run=function(){var e=this;return this.themeService.getFileIconThemes().then(function(t){var i=e.themeService.getFileIconTheme(),r=[{id:"",label:n.localize("noIconThemeLabel","None"),description:n.localize("noIconThemeDesc","Disable file icons")}]
;r=r.concat(D(t),I(e.extensionGalleryService,n.localize("installIconThemes","Install Additional File Icon Themes...")));var o=function(t,n){void 0===t.id&&(n&&x(e.viewletService,"tag:icon-theme"),t=i);var r=null;if(n){r=void 0!==e.configurationService.inspect(p.ICON_THEME_SETTING).workspace?2:1}e.themeService.setFileIconTheme(t&&t.id,r).then(null,function(t){C.onUnexpectedError(t),e.themeService.setFileIconTheme(i.id,null)})},s=n.localize("themes.selectIconTheme","Select File Icon Theme"),c=a.firstIndex(r,function(e){return"separator"!==e.type&&e.id===i.id}),l=new v.Delayer(100);return e.quickInputService.pick(r,{placeHolder:s,activeItem:r[c],onDidFocus:function(e){return l.trigger(function(){return o(e,!1)})}}).then(function(e){return l.trigger(function(){return o(e||i,!0)},0)})})},t.ID="workbench.action.selectIconTheme",t.LABEL=n.localize("selectIconTheme.label","File Icon Theme"),
t=r([o(2,w.IQuickInputService),o(3,p.IWorkbenchThemeService),o(4,f.IExtensionGalleryService),o(5,g.IViewletService),o(6,m.IWorkspaceConfigurationService)],t)}(s.Action),A=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.themeService=n,o.editorService=r,o}return i(t,e),t.prototype.run=function(){for(var e=this.themeService.getColorTheme(),t={},i=[],n=0,r=u.Registry.as(y.Extensions.ColorContribution).getColors().map(function(e){return e.id}).sort();n<r.length;n++){var o=r[n];(l=e.getColor(o,!1))?t[o]=b.Color.Format.CSS.formatHexA(l,!0):i.push(o)}for(var s=0,a=i;s<a.length;s++){var c=a[s],l=e.getColor(c);l&&(t["__"+c]=b.Color.Format.CSS.formatHexA(l,!0))}var d=JSON.stringify({$schema:_.schemaId,type:e.type,colors:t,tokenColors:e.tokenColors.filter(function(e){return!!e.scope})},null,"\t");return d=d.replace(/\"__/g,'//"'),this.editorService.openEditor({contents:d,language:"jsonc"})},t.ID="workbench.action.generateColorTheme",
t.LABEL=n.localize("generateColorTheme.label","Generate Color Theme From Current Settings"),t=r([o(2,p.IWorkbenchThemeService),o(3,S.IEditorService)],t)}(s.Action),O=n.localize("preferences","Preferences"),k=new l.SyncActionDescriptor(T,T.ID,T.LABEL,{primary:c.KeyChord(2089,2098)});u.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(k,"Preferences: Color Theme",O);var M=new l.SyncActionDescriptor(R,R.ID,R.LABEL);u.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(M,"Preferences: File Icon Theme",O);var P=n.localize("developer","Developer"),L=new l.SyncActionDescriptor(A,A.ID,A.LABEL);u.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(L,"Developer: Generate Color Theme From Current Settings",P),l.MenuRegistry.appendMenuItem(19,{group:"4_themes",command:{id:T.ID,title:n.localize({key:"miSelectColorTheme",comment:["&& denotes a mnemonic"]},"&&Color Theme")},order:1}),l.MenuRegistry.appendMenuItem(19,{group:"4_themes",command:{id:R.ID,title:n.localize({
key:"miSelectIconTheme",comment:["&& denotes a mnemonic"]},"File &&Icon Theme")},order:2})}),define(e[258],t([1,0,3,29,51,93]),function(e,t,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,i,n){var r=e.call(this)||this;return r.viewletService=t,r.panelService=i,r.scopeId=n,r.registerListeners(),r}return i(t,e),t.prototype.registerListeners=function(){var e=this;this._register(this.viewletService.onDidViewletOpen(function(t){return e.onScopeOpened(t.getId())})),this._register(this.panelService.onDidPanelOpen(function(t){var i=t.panel;return e.onScopeOpened(i.getId())})),this._register(this.viewletService.onDidViewletClose(function(t){return e.onScopeClosed(t.getId())})),this._register(this.panelService.onDidPanelClose(function(t){return e.onScopeClosed(t.getId())}))},t.prototype.onScopeClosed=function(e){e===this.scopeId&&this.onScopeDeactivated()},t.prototype.onScopeOpened=function(e){e===this.scopeId&&this.onScopeActivated()},t}(n.Disposable)
;t.ScopedService=l;var u=function(e){function t(t,i,n,r,o){var a=e.call(this,r,o,i)||this;return a.progressbar=t,a.isActive=n||s.isUndefinedOrNull(i),a.progressState=Object.create(null),a}return i(t,e),t.prototype.onScopeDeactivated=function(){this.isActive=!1},t.prototype.onScopeActivated=function(){if(this.isActive=!0,!this.progressState.done)if(this.progressState.whilePromise){var e=void 0;if(this.progressState.whileDelay>0){var t=this.progressState.whileDelay-(Date.now()-this.progressState.whileStart);t>0&&(e=t)}this.doShowWhile(e)}else this.progressState.infinite?this.progressbar.infinite().show():(this.progressState.total&&this.progressbar.total(this.progressState.total).show(),this.progressState.worked&&this.progressbar.worked(this.progressState.worked).show())},t.prototype.clearProgressState=function(){this.progressState.infinite=void 0,this.progressState.done=void 0,this.progressState.worked=void 0,this.progressState.total=void 0,this.progressState.whilePromise=void 0,
this.progressState.whileStart=void 0,this.progressState.whileDelay=void 0},t.prototype.show=function(e,t){var i,n,r=this;return"boolean"==typeof e?i=e:n=e,this.clearProgressState(),this.progressState.infinite=i,this.progressState.total=n,this.isActive&&(s.isUndefinedOrNull(i)?s.isUndefinedOrNull(n)||this.progressbar.total(n).show(t):this.progressbar.infinite().show(t)),{total:function(e){r.progressState.infinite=!1,r.progressState.total=e,r.isActive&&r.progressbar.total(e)},worked:function(e){!r.isActive||r.progressbar.hasTotal()?(r.progressState.infinite=!1,r.progressState.worked?r.progressState.worked+=e:r.progressState.worked=e,r.isActive&&r.progressbar.worked(e)):(r.progressState.infinite=!0,r.progressState.worked=void 0,r.progressState.total=void 0,r.progressbar.infinite().show())},done:function(){r.progressState.infinite=!1,r.progressState.done=!0,r.isActive&&r.progressbar.stop().hide()}}},t.prototype.showWhile=function(e,t){var i=this
;!!this.progressState.whilePromise?e=Promise.all([e,this.progressState.whilePromise]):this.clearProgressState(),this.progressState.whilePromise=e,this.progressState.whileDelay=t||0,this.progressState.whileStart=Date.now();var n=function(){i.progressState.whilePromise&&i.progressState.whilePromise!==e||(i.clearProgressState(),i.isActive&&i.progressbar.stop().hide())};return this.doShowWhile(t),e.then(n,n)},t.prototype.doShowWhile=function(e){this.isActive&&this.progressbar.infinite().show(e)},t=r([o(3,a.IViewletService),o(4,c.IPanelService)],t)}(l);t.ScopedProgressService=u;var d=function(){function e(e){this.progressbar=e}return e.prototype.show=function(e,t){var i=this;return"boolean"==typeof e?this.progressbar.infinite().show(t):this.progressbar.total(e).show(t),{total:function(e){i.progressbar.total(e)},worked:function(e){i.progressbar.hasTotal()?i.progressbar.worked(e):i.progressbar.infinite().show()},done:function(){i.progressbar.stop().hide()}}},e.prototype.showWhile=function(e,t){
var i=this,n=function(){i.progressbar.stop().hide()};return this.progressbar.infinite().show(t),e.then(n,n)},e}();t.ProgressService=d}),define(e[479],t([1,0,2,158,3,22,5,18,127,233,111,143,258,257,76,50,8,309]),function(e,t,n,r,o,s,a,c,l,u,d,p,h,f,g,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=function(e){function t(t,i,n,r,o,s,c,l,u,d,p,h,f,g,v,m){var y=e.call(this,v,m,l,i)||this;return y.notificationService=t,y.storageService=i,y.telemetryService=n,y.contextMenuService=r,y.partService=o,y.keybindingService=s,y.instantiationService=c,y.registry=u,y.activeCompositeSettingsKey=d,y.defaultCompositeId=p,y.nameForTelemetry=h,y.compositeCSSClass=f,y.titleForegroundColor=g,y._onDidCompositeOpen=y._register(new a.Emitter),y._onDidCompositeClose=y._register(new a.Emitter),y.instantiatedCompositeListeners=[],y.mapCompositeToCompositeContainer={},y.mapActionsBindingToComposite={},y.mapProgressServiceToComposite={},y.activeComposite=null,y.instantiatedComposites=[],
y.lastActiveCompositeId=i.get(d,1,y.defaultCompositeId),y}return i(t,e),t.prototype.openComposite=function(e,t){return this.activeComposite&&this.activeComposite.getId()===e?(t&&this.activeComposite.focus(),this.activeComposite):this.doOpenComposite(e,t)},t.prototype.doOpenComposite=function(e,t){var i=r.defaultGenerator.nextId();this.currentCompositeOpenToken=i,this.activeComposite&&this.hideActiveComposite(),this.updateTitle(e);var n=this.createComposite(e,!0);if(!(this.currentCompositeOpenToken!==i||this.activeComposite&&this.activeComposite.getId()!==n.getId()))return this.activeComposite&&this.activeComposite.getId()===n.getId()?(t&&n.focus(),this._onDidCompositeOpen.fire({composite:n,focus:t}),n):(this.showComposite(n),t&&n.focus(),n&&this._onDidCompositeOpen.fire({composite:n,focus:t}),n)},t.prototype.createComposite=function(e,t){for(var i=this,n=0;n<this.instantiatedComposites.length;n++)if(this.instantiatedComposites[n].getId()===e)return this.instantiatedComposites[n]
;var r=this.registry.getComposite(e);if(r){var o=this.instantiationService.createInstance(h.ScopedProgressService,this.progressBar,r.id,t),a=this.instantiationService.createChild(new f.ServiceCollection([g.IProgressService,o])),c=r.instantiate(a);return this.mapProgressServiceToComposite[c.getId()]=o,this.instantiatedComposites.push(c),this.instantiatedCompositeListeners.push(c.onTitleAreaUpdate(function(){return i.onTitleAreaUpdate(c.getId())})),c}throw new Error(s.format("Unable to find composite with id {0}",e))},t.prototype.showComposite=function(e){var t=this;this.activeComposite=e;var i=this.activeComposite.getId();i!==this.defaultCompositeId?this.storageService.store(this.activeCompositeSettingsKey,i,1):this.storageService.remove(this.activeCompositeSettingsKey,1),this.lastActiveCompositeId=this.activeComposite.getId();var n=this.mapCompositeToCompositeContainer[e.getId()];n||(n=m.$(".composite"),m.addClasses(n,this.compositeCSSClass),n.id=e.getId(),e.create(n),e.updateStyles(),
this.mapCompositeToCompositeContainer[e.getId()]=n);if(this.mapProgressServiceToComposite[e.getId()]&&!n&&this.mapProgressServiceToComposite[e.getId()].showWhile(Promise.resolve(),this.partService.isCreated()?800:3200),this.activeComposite&&e.getId()===this.activeComposite.getId()){this.getContentArea().appendChild(n),m.show(n),this.toolBar.actionRunner=e.getActionRunner();var r=this.registry.getComposite(e.getId());r&&r.name!==e.getTitle()&&this.updateTitle(e.getId(),e.getTitle());var o=this.mapActionsBindingToComposite[e.getId()];o||(o=this.collectCompositeActions(e),this.mapActionsBindingToComposite[e.getId()]=o),o(),this.telemetryActionsListener&&(this.telemetryActionsListener.dispose(),this.telemetryActionsListener=null),this.telemetryActionsListener=this.toolBar.actionRunner.onDidRun(function(e){e.error&&!c.isPromiseCanceledError(e.error)&&t.notificationService.error(e.error),t.telemetryService&&t.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:t.nameForTelemetry})}),
e.setVisible(!0),this.activeComposite&&e.getId()===this.activeComposite.getId()&&this.contentAreaSize&&e.layout(this.contentAreaSize)}},t.prototype.onTitleAreaUpdate=function(e){if(this.activeComposite&&this.activeComposite.getId()===e){this.updateTitle(this.activeComposite.getId(),this.activeComposite.getTitle());var t=this.collectCompositeActions(this.activeComposite);this.mapActionsBindingToComposite[this.activeComposite.getId()]=t,t()}else delete this.mapActionsBindingToComposite[e]},t.prototype.updateTitle=function(e,t){var i=this.registry.getComposite(e);if(i&&this.titleLabel){t||(t=i.name);var r=this.keybindingService.lookupKeybinding(e);this.titleLabel.updateTitle(e,t,r?r.getLabel():void 0),this.toolBar.setAriaLabel(n.localize("ariaCompositeToolbarLabel","{0} actions",t))}},t.prototype.collectCompositeActions=function(e){var t=e.getActions().slice(0),i=e.getSecondaryActions().slice(0);return t.push.apply(t,this.getActions()),i.push.apply(i,this.getSecondaryActions()),
this.toolBar.setActions(d.prepareActions(t),d.prepareActions(i))},t.prototype.getActiveComposite=function(){return this.activeComposite},t.prototype.getLastActiveCompositetId=function(){return this.lastActiveCompositeId},t.prototype.hideActiveComposite=function(){if(this.activeComposite){var e=this.activeComposite;this.activeComposite=null;var t=this.mapCompositeToCompositeContainer[e.getId()];return e.setVisible(!1),t.remove(),m.hide(t),this.progressBar.stop().hide(),this.toolBar.setActions([])(),this._onDidCompositeClose.fire(e),e}},t.prototype.createTitleArea=function(e){var t=this,i=m.append(e,m.$(".composite"));m.addClass(i,"title"),this.titleLabel=this.createTitleLabel(i);var n=m.append(i,m.$(".title-actions"));return this.toolBar=this._register(new l.ToolBar(n,this.contextMenuService,{actionItemProvider:function(e){return t.actionItemProvider(e)},orientation:0,getKeyBinding:function(e){return t.keybindingService.lookupKeybinding(e.id)}})),i},t.prototype.createTitleLabel=function(e){
var t=m.append(e,m.$(".title-label")),i=m.append(t,m.$("h2")),r=this;return{updateTitle:function(e,t,r){i.innerHTML=s.escape(t),i.title=r?n.localize("titleTooltip","{0} ({1})",t,r):t},updateStyles:function(){i.style.color=r.getColor(r.titleForegroundColor)}}},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this),this.titleLabel.updateStyles()},t.prototype.actionItemProvider=function(e){if(this.activeComposite)return this.activeComposite.getActionItem(e)},t.prototype.createContentArea=function(e){var t=m.append(e,m.$(".content"));return this.progressBar=this._register(new u.ProgressBar(t)),this._register(v.attachProgressBarStyler(this.progressBar,this.themeService)),this.progressBar.hide(),t},t.prototype.getProgressIndicator=function(e){return this.mapProgressServiceToComposite[e]},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.layout=function(t){var i=e.prototype.layout.call(this,t);return this.contentAreaSize=i[1],
this.activeComposite&&this.activeComposite.layout(this.contentAreaSize),i},t.prototype.dispose=function(){this.mapCompositeToCompositeContainer=null,this.mapProgressServiceToComposite=null,this.mapActionsBindingToComposite=null;for(var t=0;t<this.instantiatedComposites.length;t++)this.instantiatedComposites[t].dispose();this.instantiatedComposites=[],this.instantiatedCompositeListeners=o.dispose(this.instantiatedCompositeListeners),e.prototype.dispose.call(this)},t}(p.Part);t.CompositePart=y}),define(e[477],t([1,0,15,196,17,5,4,8,257,11,233,50,12,27,57,532,423,76,258,2,18,3,25,84,30,13,131,104,56,33,53,43,14,123,531,26,105,130,37,280,6,291]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W,V,z,G,K){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var H=function(e){function t(i,n,r,o,a,l,u,d,p,h,f,g){var v=e.call(this,l)||this;return v.accessor=i,v._label=r,v.instantiationService=o,v.contextKeyService=a,v.notificationService=u,v.telemetryService=d,
v.untitledEditorService=p,v.keybindingService=h,v.menuService=f,v.contextMenuService=g,v._onDidFocus=v._register(new c.Emitter),v._onWillDispose=v._register(new c.Emitter),v._onDidGroupChange=v._register(new c.Emitter),v._onWillOpenEditor=v._register(new c.Emitter),v._onDidOpenEditorFail=v._register(new c.Emitter),v._onWillCloseEditor=v._register(new c.Emitter),v._onDidCloseEditor=v._register(new c.Emitter),v.mapEditorToPendingConfirmation=new Map,v.element=document.createElement("div"),v._onDidChange=v._register(new c.Relay),v.onDidChange=v._onDidChange.event,n instanceof t?v._group=v._register(n.group.clone()):s.isSerializedEditorGroup(n)?v._group=v._register(o.createInstance(s.EditorGroup,n)):v._group=v._register(o.createInstance(s.EditorGroup,void 0)),v.disposedEditorsWorker=v._register(new T.RunOnceWorker(function(e){return v.handleDisposedEditors(e)},0)),v.create(),v._whenRestored=v.restoreEditors(n),v._whenRestored.then(function(){return v.isRestored=!0}),v.registerListeners(),v}return i(t,e),
t.createNew=function(e,i,n){return n.createInstance(t,e,null,i)},t.createFromSerialized=function(e,i,n,r){return r.createInstance(t,i,e,n)},t.createCopy=function(e,i,n,r){return r.createInstance(t,i,e,n)},Object.defineProperty(t.prototype,"onDidFocus",{get:function(){return this._onDidFocus.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onWillDispose",{get:function(){return this._onWillDispose.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidGroupChange",{get:function(){return this._onDidGroupChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onWillOpenEditor",{get:function(){return this._onWillOpenEditor.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidOpenEditorFail",{get:function(){return this._onDidOpenEditorFail.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onWillCloseEditor",{get:function(){return this._onWillCloseEditor.event},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"onDidCloseEditor",{get:function(){return this._onDidCloseEditor.event},enumerable:!0,configurable:!0}),t.prototype.create=function(){u.addClasses(this.element,"editor-group-container"),this.registerContainerListeners(),this.createContainerToolbar(),this.createContainerContextMenu();var e=document.createElement("div");u.addClass(e,"editor-group-letterpress"),this.element.appendChild(e),this.progressBar=this._register(new h.ProgressBar(this.element)),this._register(f.attachProgressBarStyler(this.progressBar,this.themeService)),this.progressBar.hide();var t=this._register(this.contextKeyService.createScoped(this.element));this.scopedInstantiationService=this.instantiationService.createChild(new d.ServiceCollection([p.IContextKeyService,t],[b.IProgressService,new E.ProgressService(this.progressBar)])),this.handleGroupContextKeys(t),this.titleContainer=document.createElement("div"),u.addClass(this.titleContainer,"title"),this.element.appendChild(this.titleContainer),
this.createTitleAreaControl(),this.editorContainer=document.createElement("div"),u.addClass(this.editorContainer,"editor-container"),this.element.appendChild(this.editorContainer),this.editorControl=this._register(this.scopedInstantiationService.createInstance(S.EditorControl,this.editorContainer,this)),this._onDidChange.input=this.editorControl.onDidSizeConstraintsChange,this.doTrackFocus(),this.updateTitleContainer(),this.updateContainer(),this.updateStyles()},t.prototype.handleGroupContextKeys=function(e){var t,i=this,n=a.EditorGroupActiveEditorDirtyContext.bindTo(e),r=function(){t=w.dispose(t);var e=i._group.activeEditor;e?(n.set(e.isDirty()),t=e.onDidChangeDirty(function(){return n.set(e.isDirty())})):n.set(!1)};this._register(this.onDidGroupChange(function(e){5===e.kind&&r()})),r()},t.prototype.registerContainerListeners=function(){var e=this;this._register(u.addDisposableListener(this.element,u.EventType.DBLCLICK,function(t){e.isEmpty()&&(u.EventHelper.stop(t),
e.openEditor(e.untitledEditorService.createOrGet(),a.EditorOptions.create({pinned:!0})))})),this._register(u.addDisposableListener(this.element,u.EventType.MOUSE_UP,function(t){e.isEmpty()&&1===t.button&&(u.EventHelper.stop(t),e.accessor.removeGroup(e))}))},t.prototype.createContainerToolbar=function(){var e=this,t=document.createElement("div");u.addClass(t,"editor-group-container-toolbar"),this.element.appendChild(t);var r=this._group.id,o=new M.ActionBar(t,{ariaLabel:_.localize("araLabelGroupActions","Editor group actions"),actionRunner:this._register(new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.run=function(e){return e.run(r)},t}(L.ActionRunner)))}),s=this._register(new L.Action(F.CLOSE_EDITOR_GROUP_COMMAND_ID,_.localize("closeGroupAction","Close"),"close-editor-group",!0,function(){return e.accessor.removeGroup(e),n.TPromise.as(!0)})),a=this.keybindingService.lookupKeybinding(s.id);o.push(s,{icon:!0,label:!1,keybinding:a?a.getLabel():void 0})},
t.prototype.createContainerContextMenu=function(){var e=this,t=this._register(this.menuService.createMenu(9,this.contextKeyService));this._register(u.addDisposableListener(this.element,u.EventType.CONTEXT_MENU,function(i){return e.onShowContainerContextMenu(t,i)})),this._register(u.addDisposableListener(this.element,R.EventType.Contextmenu,function(i){return e.onShowContainerContextMenu(t)}))},t.prototype.onShowContainerContextMenu=function(e,t){var i=this;if(this.isEmpty()){var n=this.element;if(t instanceof MouseEvent){var r=new W.StandardMouseEvent(t);n={x:r.posx,y:r.posy}}var o=[];V.fillInContextMenuActions(e,void 0,o,this.contextMenuService),this.contextMenuService.showContextMenu({getAnchor:function(){return n},getActions:function(){return o},onHide:function(){return i.focus()}})}},t.prototype.doTrackFocus=function(){var e=this,t=this._register(u.trackFocus(this.element));this._register(t.onDidFocus(function(){e.isEmpty()&&e._onDidFocus.fire()}));var i=function(t){var i;if(t instanceof MouseEvent){
if(0!==t.button)return;i=t.target}else i=t.initialTarget;u.findParentWithClass(i,"monaco-action-bar",e.titleContainer)||u.findParentWithClass(i,"monaco-breadcrumb-item",e.titleContainer)||setTimeout(function(){e.focus()})};this._register(u.addDisposableListener(this.titleContainer,u.EventType.MOUSE_DOWN,function(e){return i(e)})),this._register(u.addDisposableListener(this.titleContainer,R.EventType.Tap,function(e){return i(e)})),this._register(this.editorControl.onDidFocus(function(){e._onDidFocus.fire()}))},t.prototype.updateContainer=function(){this.isEmpty()?(u.addClass(this.element,"empty"),this.element.tabIndex=0,this.element.setAttribute("aria-label",_.localize("emptyEditorGroup","{0} (empty)",this.label))):(u.removeClass(this.element,"empty"),this.element.removeAttribute("tabIndex"),this.element.removeAttribute("aria-label")),this.updateStyles()},t.prototype.updateTitleContainer=function(){u.toggleClass(this.titleContainer,"tabs",this.accessor.partOptions.showTabs),
u.toggleClass(this.titleContainer,"show-file-icons",this.accessor.partOptions.showIcons)},t.prototype.createTitleAreaControl=function(){this.titleAreaControl&&(this.titleAreaControl.dispose(),u.clearNode(this.titleContainer)),this.accessor.partOptions.showTabs?this.titleAreaControl=this.scopedInstantiationService.createInstance(y.TabsTitleControl,this.titleContainer,this.accessor,this):this.titleAreaControl=this.scopedInstantiationService.createInstance(N.NoTabsTitleControl,this.titleContainer,this.accessor,this)},t.prototype.restoreEditors=function(e){var i=this;if(0===this._group.count)return n.TPromise.as(void 0);var r;r=e instanceof t?A.getActiveTextEditorOptions(e):new a.EditorOptions;var o=this._group.activeEditor;return r.pinned=this._group.isPinned(o),r.preserveFocus=!0,this.doShowEditor(o,!0,r).then(function(){i.accessor.activeGroup===i&&i.focus()})},t.prototype.registerListeners=function(){var e=this;this._register(this._group.onDidEditorPin(function(t){return e.onDidEditorPin(t)})),
this._register(this._group.onDidEditorOpen(function(t){return e.onDidEditorOpen(t)})),this._register(this._group.onDidEditorClose(function(t){return e.onDidEditorClose(t)})),this._register(this._group.onDidEditorDispose(function(t){return e.onDidEditorDispose(t)})),this._register(this._group.onDidEditorBecomeDirty(function(t){return e.onDidEditorBecomeDirty(t)})),this._register(this._group.onDidEditorLabelChange(function(t){return e.onDidEditorLabelChange(t)})),this._register(this.accessor.onDidEditorPartOptionsChange(function(t){return e.onDidEditorPartOptionsChange(t)}))},t.prototype.onDidEditorPin=function(e){this._onDidGroupChange.fire({kind:7,editor:e})},t.prototype.onDidEditorOpen=function(e){this.telemetryService.publicLog("editorOpened",e.getTelemetryDescriptor()),this.updateContainer(),this._onDidGroupChange.fire({kind:2,editor:e})},t.prototype.onDidEditorClose=function(e){var t=this;this._onWillCloseEditor.fire(e);var i=e.editor,n=[i]
;i instanceof a.SideBySideEditorInput&&!this.accessor.groups.some(function(e){return e.group.contains(i)})&&n.push(i.master,i.details),n.forEach(function(e){var i=e?e.getResource():void 0;t.accessor.groups.some(function(t){return t.group.contains(i||e)})||e.close()}),this.telemetryService.publicLog("editorClosed",e.editor.getTelemetryDescriptor()),this.updateContainer(),this._onDidCloseEditor.fire(e),this._onDidGroupChange.fire({kind:3,editor:i,editorIndex:e.index})},t.prototype.onDidEditorDispose=function(e){this.disposedEditorsWorker.work(e)},t.prototype.handleDisposedEditors=function(e){var t,i=this,n=[];e.forEach(function(e){i._group.isActive(e)?t=e:i._group.contains(e)&&n.push(e)}),n.forEach(function(e){return i.doCloseEditor(e,!1)}),t&&this.doCloseEditor(t,!1)},t.prototype.onDidEditorPartOptionsChange=function(e){this.updateTitleContainer(),e.oldPartOptions.showTabs!==e.newPartOptions.showTabs?(this.createTitleAreaControl(),
this._group.activeEditor&&this.titleAreaControl.openEditor(this._group.activeEditor)):this.titleAreaControl.updateOptions(e.oldPartOptions,e.newPartOptions),this.updateStyles(),e.oldPartOptions.enablePreview&&!e.newPartOptions.enablePreview&&this.pinEditor(this._group.previewEditor)},t.prototype.onDidEditorBecomeDirty=function(e){this.pinEditor(e),this.titleAreaControl.updateEditorDirty(e),this._onDidGroupChange.fire({kind:8,editor:e})},t.prototype.onDidEditorLabelChange=function(e){this.titleAreaControl.updateEditorLabel(e),this._onDidGroupChange.fire({kind:6,editor:e})},Object.defineProperty(t.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"whenRestored",{get:function(){return this._whenRestored},enumerable:!0,
configurable:!0}),t.prototype.setLabel=function(e){this._label!==e&&(this._label=e,this._onDidGroupChange.fire({kind:1}))},t.prototype.setActive=function(e){this.active=e,u.toggleClass(this.element,"active",e),u.toggleClass(this.element,"inactive",!e),this.titleAreaControl.setActive(e),this.updateStyles(),this._onDidGroupChange.fire({kind:0})},t.prototype.isEmpty=function(){return 0===this._group.count},Object.defineProperty(t.prototype,"id",{get:function(){return this._group.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editors",{get:function(){return this._group.getEditors()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._group.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeControl",{get:function(){return this.editorControl?this.editorControl.activeControl:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){return this._group.activeEditor},
enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previewEditor",{get:function(){return this._group.previewEditor},enumerable:!0,configurable:!0}),t.prototype.isPinned=function(e){return this._group.isPinned(e)},t.prototype.isActive=function(e){return this._group.isActive(e)},t.prototype.getEditors=function(e){return 0===e?this._group.getEditors(!0):this.editors},t.prototype.getEditor=function(e){return this._group.getEditor(e)},t.prototype.getIndexOfEditor=function(e){return this._group.indexOf(e)},t.prototype.isOpened=function(e){return this._group.contains(e)},t.prototype.focus=function(){this.activeControl?this.activeControl.focus():this.element.focus(),this._onDidFocus.fire()},t.prototype.pinEditor=function(e){void 0===e&&(e=this.activeEditor),e&&!this._group.isPinned(e)&&(this._group.pin(e),this.titleAreaControl.pinEditor(e))},t.prototype.invokeWithinContext=function(e){return this.scopedInstantiationService.invokeFunction(e)},t.prototype.openEditor=function(e,t){
if(!e)return n.TPromise.as(void 0);var i=new U(this._group.id,e,t);this._onWillOpenEditor.fire(i);var r=i.isPrevented();return r?r():this.doOpenEditor(e,t)},t.prototype.doOpenEditor=function(e,t){var i={index:t?t.index:void 0,pinned:!this.accessor.partOptions.enablePreview||e.isDirty()||t&&t.pinned||t&&"number"==typeof t.index,active:0===this._group.count||!t||!t.inactive};i.active||i.pinned||!this._group.isPreview(this._group.activeEditor)||(i.active=!0),!i.active||t&&t.preserveFocus||this.accessor.activateGroup(this),this._group.openEditor(e,i);return this.doShowEditor(e,i.active,t)},t.prototype.doShowEditor=function(e,t,i){var r,o=this;return r=t?this.editorControl.openEditor(e,i).then(function(t){t.editorChanged&&o._onDidGroupChange.fire({kind:5,editor:e})},function(t){o.doHandleOpenEditorError(t,e,i)}):n.TPromise.as(void 0),this.titleAreaControl.openEditor(e),r},t.prototype.doHandleOpenEditorError=function(e,t,i){if(this.isRestored&&!C.isPromiseCanceledError(e)&&!this.ignoreOpenEditorErrors){var n={
primary:[]};G.isErrorWithActions(e)&&(n.primary=e.actions);var r=this.notificationService.notify({severity:I.Severity.Error,message:_.localize("editorOpenError","Unable to open '{0}': {1}.",t.getName(),x.toErrorMessage(e)),actions:n});c.once(r.onDidClose)(function(){return w.dispose(n.primary)})}if(this._onDidOpenEditorFail.fire(t),this.activeEditor===t){var o=!i||!i.preserveFocus;this.doCloseEditor(t,o,!0)}},t.prototype.openEditors=function(e){var t=this;if(!e.length)return n.TPromise.as(void 0);var i=(e=e.slice(0)).shift(),r=i.editor,o=i.options;return this.openEditor(r,o).then(function(){var i=t.getIndexOfEditor(r)+1;return Promise.all(e.map(function(e,n){var r=e.editor,o=e.options||new a.EditorOptions;return o.inactive=!0,o.pinned=!0,o.index=i+n,t.openEditor(r,o)})).then(function(){})})},t.prototype.moveEditor=function(e,t,i){this===t?this.doMoveEditorInsideGroup(e,i):this.doMoveOrCopyEditorAcrossGroups(e,t,i)},t.prototype.doMoveEditorInsideGroup=function(e,t){var i=t?t.index:void 0
;if("number"==typeof i){var n=this._group.indexOf(e);n!==i&&(this._group.moveEditor(e,i),this._group.pin(e),this.titleAreaControl.moveEditor(e,n,i),this.titleAreaControl.pinEditor(e),this._onDidGroupChange.fire({kind:4,editor:e}))}},t.prototype.doMoveOrCopyEditorAcrossGroups=function(e,t,i,n){void 0===i&&(i=Object.create(null));var r=A.getActiveTextEditorOptions(this,e,a.EditorOptions.create(i));r.pinned=!0,t.openEditor(e,r),n||this.doCloseEditor(e,!1)},t.prototype.copyEditor=function(e,t,i){this===t?this.doMoveEditorInsideGroup(e,i):this.doMoveOrCopyEditorAcrossGroups(e,t,i,!0)},t.prototype.closeEditor=function(e){var t=this;return void 0===e&&(e=this.activeEditor),e?this.handleDirty([e]).then(function(i){i||t.doCloseEditor(e)}):n.TPromise.as(void 0)},t.prototype.doCloseEditor=function(e,t,i){void 0===t&&(t=this.accessor.activeGroup===this),this._group.isActive(e)?this.doCloseActiveEditor(t,i):this.doCloseInactiveEditor(e),this.titleAreaControl.closeEditor(e)},t.prototype.doCloseActiveEditor=function(e,t){
var i=this;void 0===e&&(e=this.accessor.activeGroup===this);var n=this.activeEditor,r=this.shouldRestoreFocus(this.element),o=this.accessor.partOptions.closeEmptyGroups;if(o&&this.active&&1===this._group.count){var s=this.accessor.getGroups(1)[1];s&&(r?s.focus():this.accessor.activateGroup(s))}this._group.closeEditor(n);var c=this._group.activeEditor;if(c){t&&(this.ignoreOpenEditorErrors=!0);var l=e?void 0:a.EditorOptions.create({preserveFocus:!0});this.openEditor(c,l).then(function(){i.ignoreOpenEditorErrors=!1})}else this.editorControl.closeEditor(n),r&&!o&&this.focus(),this._onDidGroupChange.fire({kind:5}),o&&this.accessor.removeGroup(this)},t.prototype.shouldRestoreFocus=function(e){var t=document.activeElement;return t===document.body||u.isAncestor(t,e)},t.prototype.doCloseInactiveEditor=function(e){this._group.closeEditor(e)},t.prototype.handleDirty=function(e){var t=this;if(!e.length)return n.TPromise.as(!1);var i=e.shift(),r=this.mapEditorToPendingConfirmation.get(i)
;return r||(r=this.doHandleDirty(i),this.mapEditorToPendingConfirmation.set(i,r)),r.then(function(n){return t.mapEditorToPendingConfirmation.delete(i),n||t.handleDirty(e)})},t.prototype.doHandleDirty=function(e){var t=this;return!e.isDirty()||this.accessor.groups.some(function(i){return i!==t&&i.group.contains(e,!0)})||e instanceof a.SideBySideEditorInput&&this.isOpened(e.master)?n.TPromise.as(!1):this.openEditor(e).then(function(){return e.confirmSave().then(function(t){if(!e.isDirty())return 2===t;switch(t){case 0:return e.save().then(function(e){return!e});case 1:return e.revert().then(function(e){return!e},function(t){return e.revert({soft:!0}).then(function(e){return!e})});case 2:return!0}})})},t.prototype.closeEditors=function(e){var t=this;if(this.isEmpty())return n.TPromise.as(void 0);var i=this.getEditorsToClose(e);return this.handleDirty(i.slice(0)).then(function(e){e||t.doCloseEditors(i)})},t.prototype.getEditorsToClose=function(e){if(Array.isArray(e))return e
;var t=e,i="number"==typeof t.direction,n=this._group.getEditors(!i);return t.savedOnly?n=n.filter(function(e){return!e.isDirty()}):i?n=0===t.direction?n.slice(0,this._group.indexOf(t.except)):n.slice(this._group.indexOf(t.except)+1):t.except&&(n=n.filter(function(e){return!e.matches(t.except)})),n},t.prototype.doCloseEditors=function(e){var t=this,i=!1;e.forEach(function(e){t.isActive(e)?i=!0:t.doCloseInactiveEditor(e)}),i&&this.doCloseActiveEditor(),this.titleAreaControl.closeEditors(e)},t.prototype.closeAllEditors=function(){var e=this;if(this.isEmpty())return this.accessor.partOptions.closeEmptyGroups&&this.accessor.removeGroup(this),n.TPromise.as(void 0);var t=this._group.getEditors(!0);return this.handleDirty(t.slice(0)).then(function(t){t||e.doCloseAllEditors()})},t.prototype.doCloseAllEditors=function(){var e=this;this.editors.forEach(function(t){e.isActive(t)||e.doCloseInactiveEditor(t)}),this.doCloseActiveEditor(),this.titleAreaControl.closeAllEditors()},t.prototype.replaceEditors=function(e){
var t,i=this,r=[];if(e.forEach(function(e){var n=e.editor,o=e.replacement,s=e.options;if(!n.isDirty()){var c=i.getIndexOfEditor(n);if(c>=0){var l=i.isActive(n);s?s.index=c:s=a.EditorOptions.create({index:c}),s.inactive=!l,s.pinned=!0;var u={editor:n,replacement:o,options:s};l?t=u:r.push(u)}}}),r.forEach(function(e){var t=e.editor,n=e.replacement,r=e.options;i.doOpenEditor(n,r),i.doCloseInactiveEditor(t),i.titleAreaControl.closeEditor(t)}),t){var o=this.doOpenEditor(t.replacement,t.options);return this.doCloseInactiveEditor(t.editor),this.titleAreaControl.closeEditor(t.editor),o}return n.TPromise.as(void 0)},t.prototype.updateStyles=function(){var e=this.isEmpty();this.element.style.backgroundColor=e?this.getColor(m.EDITOR_GROUP_EMPTY_BACKGROUND):null;var t=this.accessor.partOptions.showTabs,i=this.getColor(m.EDITOR_GROUP_HEADER_TABS_BORDER)||this.getColor(v.contrastBorder);!e&&t&&i?(u.addClass(this.titleContainer,"title-border-bottom"),
this.titleContainer.style.setProperty("--title-border-bottom-color",i.toString())):(u.removeClass(this.titleContainer,"title-border-bottom"),this.titleContainer.style.removeProperty("--title-border-bottom-color")),this.titleContainer.style.backgroundColor=this.getColor(t?m.EDITOR_GROUP_HEADER_TABS_BACKGROUND:m.EDITOR_GROUP_HEADER_NO_TABS_BACKGROUND),this.editorContainer.style.backgroundColor=this.getColor(v.editorBackground)},Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return this.editorControl.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumHeight",{get:function(){return this.editorControl.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return this.editorControl.maximumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumHeight",{get:function(){return this.editorControl.maximumHeight},enumerable:!0,configurable:!0}),t.prototype.layout=function(e,t){
this.dimension=new u.Dimension(e,t),this.titleAreaControl.layout(new u.Dimension(this.dimension.width,this.titleAreaControl.getPreferredHeight())),this.editorControl.layout(new u.Dimension(this.dimension.width,this.dimension.height-this.titleAreaControl.getPreferredHeight()))},t.prototype.relayout=function(){if(this.dimension){var e=this.dimension,t=e.width,i=e.height;this.layout(t,i)}},t.prototype.toJSON=function(){return this._group.serialize()},t.prototype.dispose=function(){this._disposed=!0,this._onWillDispose.fire(),this.titleAreaControl.dispose(),e.prototype.dispose.call(this)},t=r([o(3,l.IInstantiationService),o(4,p.IContextKeyService),o(5,g.IThemeService),o(6,I.INotificationService),o(7,D.ITelemetryService),o(8,O.IUntitledEditorService),o(9,P.IKeybindingService),o(10,B.IMenuService),o(11,z.IContextMenuService)],t)}(m.Themable);t.EditorGroupView=H;var U=function(){function e(e,t,i){this._group=e,this._editor=t,this._options=i}return Object.defineProperty(e.prototype,"groupId",{get:function(){
return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editor",{get:function(){return this._editor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.prevent=function(e){this.override=e},e.prototype.isPrevented=function(){return this.override},e}();g.registerThemingParticipant(function(e,t,i){var n="resources/letterpress"+("dark"===e.type?"-dark":"hc"===e.type?"-hc":"")+".svg";t.addRule("\n\t\t.monaco-workbench > .part.editor > .content .editor-group-container.empty .editor-group-letterpress {\n\t\t\tbackground-image: url('"+K.URI.file(k.join(i.appRoot,n)).toString()+"')\n\t\t}\n\t");var r=e.getColor(m.EDITOR_GROUP_FOCUSED_EMPTY_BORDER)
;r?t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content:not(.empty) .editor-group-container.empty.active:focus {\n\t\t\t\toutline-width: 1px;\n\t\t\t\toutline-color: "+r+";\n\t\t\t\toutline-offset: -2px;\n\t\t\t\toutline-style: solid;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .part.editor > .content.empty .editor-group-container.empty.active:focus {\n\t\t\t\toutline: none; /* never show outline for empty group if it is the last */\n\t\t\t}\n\t\t"):t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container.empty.active:focus {\n\t\t\t\toutline: none; /* disable focus outline unless active empty group border is defined */\n\t\t\t}\n\t\t")})}),define(e[475],t([1,0,12,143,8,5,27,4,501,44,57,19,104,477,9,3,39,28,196,15,13,525,2,62,463,248,18,529]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=function(){function e(){this.element=a.$(".grid-view-container"),this._onDidChange=new c.Relay,
this.onDidChange=this._onDidChange.event}return Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return this.gridWidget?this.gridWidget.minimumWidth:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{get:function(){return this.gridWidget?this.gridWidget.maximumWidth:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{get:function(){return this.gridWidget?this.gridWidget.minimumHeight:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return this.gridWidget?this.gridWidget.maximumHeight:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridWidget",{get:function(){return this._gridWidget},set:function(e){this.element.innerHTML="",e?(this.element.appendChild(e.element),this._onDidChange.input=e.onDidChange):this._onDidChange.input=c.Event.None,this._gridWidget=e},enumerable:!0,configurable:!0}),
e.prototype.layout=function(e,t){this.gridWidget&&this.gridWidget.layout(e,t)},e.prototype.dispose=function(){this._onDidChange.dispose()},e}(),O=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,{hasTitle:!1},r,s)||this;return a.restorePreviousState=i,a.instantiationService=n,a.configurationService=o,a._onDidLayout=a._register(new c.Emitter),a._onDidActiveGroupChange=a._register(new c.Emitter),a._onDidAddGroup=a._register(new c.Emitter),a._onDidRemoveGroup=a._register(new c.Emitter),a._onDidMoveGroup=a._register(new c.Emitter),a.onDidSetGridWidget=a._register(new c.Emitter),a._onDidSizeConstraintsChange=a._register(new c.Relay),a._onDidPreferredSizeChange=a._register(new c.Emitter),a.groupViews=new Map,a.mostRecentActiveGroups=[],a.enforcedPartOptions=[],a._onDidEditorPartOptionsChange=a._register(new c.Emitter),a.gridWidgetView=new A,a._partOptions=g.getEditorPartOptions(a.configurationService.getValue()),a.workspaceMemento=a.getMemento(1),a.globalMemento=a.getMemento(0),
a._whenRestored=new _.TPromise(function(e){a.whenRestoredComplete=e}),a.registerListeners(),a}return i(t,e),Object.defineProperty(t.prototype,"onDidLayout",{get:function(){return this._onDidLayout.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidActiveGroupChange",{get:function(){return this._onDidActiveGroupChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidAddGroup",{get:function(){return this._onDidAddGroup.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidRemoveGroup",{get:function(){return this._onDidRemoveGroup.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidMoveGroup",{get:function(){return this._onDidMoveGroup.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidSizeConstraintsChange",{get:function(){return c.anyEvent(this.onDidSetGridWidget.event,this._onDidSizeConstraintsChange.event)},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"onDidPreferredSizeChange",{get:function(){return this._onDidPreferredSizeChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorPartOptionsChange",{get:function(){return this._onDidEditorPartOptionsChange.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(t){return e.onConfigurationUpdated(t)}))},t.prototype.onConfigurationUpdated=function(e){g.impactsEditorPartOptions(e)&&this.handleChangedPartOptions()},t.prototype.handleChangedPartOptions=function(){var e=this._partOptions,t=g.getEditorPartOptions(this.configurationService.getValue());this.enforcedPartOptions.forEach(function(e){S.assign(t,e)}),this._partOptions=t,this._onDidEditorPartOptionsChange.fire({oldPartOptions:e,newPartOptions:t})},Object.defineProperty(t.prototype,"partOptions",{get:function(){return this._partOptions},enumerable:!0,configurable:!0}),
t.prototype.enforcePartOptions=function(e){var t=this;return this.enforcedPartOptions.push(e),this.handleChangedPartOptions(),y.toDisposable(function(){t.enforcedPartOptions.splice(t.enforcedPartOptions.indexOf(e),1),t.handleChangedPartOptions()})},Object.defineProperty(t.prototype,"activeGroup",{get:function(){return this._activeGroup},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return p.values(this.groupViews)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.groupViews.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){if(this.gridWidget)return 0===this.gridWidget.orientation?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"whenRestored",{get:function(){return this._whenRestored},enumerable:!0,configurable:!0}),t.prototype.getGroups=function(e){var t=this;switch(void 0===e&&(e=0),e){case 0:return this.groups;case 1:
var i=this.mostRecentActiveGroups.map(function(e){return t.getGroup(e)});return f.distinct(i.concat(this.groups));case 2:var n=[];return this.gridWidget&&this.fillGridNodes(n,this.gridWidget.getViews()),n}},t.prototype.fillGridNodes=function(e,t){var i=this;d.isGridBranchNode(t)?t.children.forEach(function(t){return i.fillGridNodes(e,t)}):e.push(t.view)},t.prototype.getGroup=function(e){return this.groupViews.get(e)},t.prototype.findGroup=function(e,t,i){return void 0===t&&(t=this.activeGroup),"number"==typeof e.direction?this.doFindGroupByDirection(e.direction,t,i):this.doFindGroupByLocation(e.location,t,i)},t.prototype.doFindGroupByDirection=function(e,t,i){var n=this,r=this.assertGroupView(t),o=this.gridWidget.getNeighborViews(r,this.toGridViewDirection(e),i);return o.sort(function(e,t){return n.mostRecentActiveGroups.indexOf(e.id)-n.mostRecentActiveGroups.indexOf(t.id)}),o[0]},t.prototype.doFindGroupByLocation=function(e,t,i){var n=this.assertGroupView(t),r=this.getGroups(2),o=r.indexOf(n);switch(e){
case 0:return r[0];case 1:return r[r.length-1];case 2:var s=r[o+1];return!s&&i&&(s=this.doFindGroupByLocation(0,t)),s;case 3:var a=r[o-1];return!a&&i&&(a=this.doFindGroupByLocation(1,t)),a}},t.prototype.activateGroup=function(e){var t=this.assertGroupView(e);return this.doSetGroupActive(t),t},t.prototype.getSize=function(e){var t=this.assertGroupView(e);return this.gridWidget.getViewSize(t)},t.prototype.setSize=function(e,t){var i=this.assertGroupView(e);this.gridWidget.resizeView(i,t)},t.prototype.arrangeGroups=function(e){this.count<2||this.gridWidget&&(1===e?this.gridWidget.distributeViewSizes():this.gridWidget.maximizeViewSize(this.activeGroup))},t.prototype.setGroupOrientation=function(e){if(this.gridWidget){var t=0===e?1:0;this.gridWidget.orientation!==t&&(this.gridWidget.orientation=t,this.resetPreferredSize())}},t.prototype.applyLayout=function(e){function t(e){e.forEach(function(e){Array.isArray(e.groups)?t(e.groups):r++})}var i=this,n=this.shouldRestoreFocus(this.container),r=0;t(e.groups)
;var o=this.getGroups(2);if(r<o.length){var s=o[r-1];o.forEach(function(e,t){t>=r&&i.mergeGroup(e,s)}),o=this.getGroups(2)}var a=this.activeGroup,c=d.createSerializedGrid({orientation:this.toGridViewOrientation(e.orientation,this.isTwoDimensionalGrid()?this.gridWidget.orientation:T.orthogonal(this.gridWidget.orientation)),groups:e.groups});this.doCreateGridControlWithState(c,a.id,o),this.doLayout(this.dimension),this.updateContainer(),this.resetPreferredSize(),this.getGroups(2).forEach(function(e){-1===o.indexOf(e)&&i._onDidAddGroup.fire(e)}),this.updateGroupLabels(),n&&this._activeGroup.focus()},t.prototype.shouldRestoreFocus=function(e){var t=document.activeElement;return t===document.body||a.isAncestor(t,e)},t.prototype.isTwoDimensionalGrid=function(){var e=this.gridWidget.getViews();return!!d.isGridBranchNode(e)&&e.children.some(function(e){return d.isGridBranchNode(e)})},t.prototype.addGroup=function(e,t,i){var n=this.assertGroupView(e),r=this.doAddGroup(n,t)
;return i&&i.activate&&this.doSetGroupActive(r),r},t.prototype.doAddGroup=function(e,t,i){var n=this.doCreateGroupView(i);return this.gridWidget.addView(n,"distribute",e,this.toGridViewDirection(t)),this.updateContainer(),this.resetPreferredSize(),this._onDidAddGroup.fire(n),this.updateGroupLabels(),n},t.prototype.doCreateGroupView=function(e){var t,i=this,n=this.getGroupLabel(this.count+1);t=e instanceof v.EditorGroupView?v.EditorGroupView.createCopy(e,this,n,this.instantiationService):E.isSerializedEditorGroup(e)?v.EditorGroupView.createFromSerialized(e,this,n,this.instantiationService):v.EditorGroupView.createNew(this,n,this.instantiationService),this.groupViews.set(t.id,t);var r=[];return r.push(t.onDidFocus(function(){i.doSetGroupActive(t)})),r.push(t.onDidGroupChange(function(e){5===e.kind&&i.updateContainer()})),c.once(t.onWillDispose)(function(){r=y.dispose(r),i.groupViews.delete(t.id),i.doUpdateMostRecentActive(t)}),t},t.prototype.doSetGroupActive=function(e){if(this._activeGroup!==e){
var t=this._activeGroup;if(this._activeGroup=e,this.doUpdateMostRecentActive(e,!0),t&&t.setActive(!1),e.setActive(!0),this.gridWidget){var i=this.gridWidget.getViewSize2(e);i.width!==e.minimumWidth&&i.height!==e.minimumHeight||this.arrangeGroups(0)}this._onDidActiveGroupChange.fire(e)}},t.prototype.doUpdateMostRecentActive=function(e,t){var i=this.mostRecentActiveGroups.indexOf(e.id);-1!==i&&this.mostRecentActiveGroups.splice(i,1),t&&this.mostRecentActiveGroups.unshift(e.id)},t.prototype.toGridViewDirection=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3}},t.prototype.toGridViewOrientation=function(e,t){return"number"==typeof e?0===e?1:0:t},t.prototype.removeGroup=function(e){var t=this.assertGroupView(e);if(1!==this.groupViews.size)return t.isEmpty()?this.doRemoveEmptyGroup(t):void this.doRemoveGroupWithEditors(t)},t.prototype.doRemoveGroupWithEditors=function(e){var t,i=this.getGroups(1);t=this._activeGroup===e?i[1]:i[0],this.mergeGroup(e,t)},
t.prototype.doRemoveEmptyGroup=function(e){var t=this.shouldRestoreFocus(this.container);if(this._activeGroup===e){var i=this.getGroups(1)[1];this.activateGroup(i)}this.gridWidget.removeView(e,"distribute"),e.dispose(),t&&this._activeGroup.focus(),this.updateGroupLabels(),this.updateContainer(),this.resetPreferredSize(),this._onDidRemoveGroup.fire(e)},t.prototype.moveGroup=function(e,t,i){var n=this.assertGroupView(e),r=this.assertGroupView(t);if(n.id===r.id)throw new Error("Cannot move group into its own");var o=this.shouldRestoreFocus(n.element);return this.gridWidget.moveView(n,"distribute",r,this.toGridViewDirection(i)),o&&n.focus(),this._onDidMoveGroup.fire(n),n},t.prototype.copyGroup=function(e,t,i){var n=this.assertGroupView(e),r=this.assertGroupView(t),o=this.shouldRestoreFocus(n.element),s=this.doAddGroup(r,i,n);return o&&s.focus(),s},t.prototype.mergeGroup=function(e,t,i){var n=this,r=this.assertGroupView(e),o=this.assertGroupView(t),s=i&&"number"==typeof i.index?i.index:o.count
;return r.editors.forEach(function(e){var t=!r.isActive(e)||n._activeGroup!==r,a={index:s,inactive:t,preserveFocus:t};i&&0===i.mode?r.copyEditor(e,o,a):r.moveEditor(e,o,a),s++}),r.isEmpty()&&!r.disposed&&this.removeGroup(r),o},t.prototype.assertGroupView=function(e){if("number"==typeof e&&(e=this.getGroup(e)),!e)throw new Error("Invalid editor group provided!");return e},Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return this.centeredLayoutWidget.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return this.centeredLayoutWidget.maximumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumHeight",{get:function(){return this.centeredLayoutWidget.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumHeight",{get:function(){return this.centeredLayoutWidget.maximumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preferredSize",{get:function(){
return this._preferredSize||(this._preferredSize=new a.Dimension(this.gridWidget.minimumWidth,this.gridWidget.minimumHeight)),this._preferredSize},enumerable:!0,configurable:!0}),t.prototype.resetPreferredSize=function(){this._preferredSize=void 0,this._onDidPreferredSizeChange.fire()},Object.defineProperty(t.prototype,"gridSeparatorBorder",{get:function(){return this.theme.getColor(h.EDITOR_GROUP_BORDER)||this.theme.getColor(l.contrastBorder)||x.Color.transparent},enumerable:!0,configurable:!0}),t.prototype.updateStyles=function(){this.container.style.backgroundColor=this.getColor(l.editorBackground);var e={separatorBorder:this.gridSeparatorBorder,background:this.theme.getColor(h.EDITOR_PANE_BACKGROUND)||x.Color.transparent};this.gridWidget.style(e),this.centeredLayoutWidget.styles(e)},t.prototype.createContentArea=function(e){return this.container=document.createElement("div"),a.addClass(this.container,"content"),e.appendChild(this.container),this.doCreateGridControl(),
this.centeredLayoutWidget=this._register(new D.CenteredViewLayout(this.container,this.gridWidgetView,this.globalMemento[t.EDITOR_PART_CENTERED_VIEW_STORAGE_KEY])),this._register(this.instantiationService.createInstance(w.EditorDropTarget,this,this.container)),this.container},t.prototype.centerLayout=function(e){this.centeredLayoutWidget.activate(e),this._activeGroup.focus()},t.prototype.isLayoutCentered=function(){return this.centeredLayoutWidget.isActive()},t.prototype.doCreateGridControl=function(){var e=this;if(this.restorePreviousState&&this.doCreateGridControlWithPreviousState(),!this.gridWidget){var t=this.doCreateGroupView();this.doSetGridWidget(new d.SerializableGrid(t)),this.doSetGroupActive(t)}C.always(_.TPromise.join(this.groups.map(function(e){return e.whenRestored})),function(){return e.whenRestoredComplete(void 0)}),this.updateContainer()},t.prototype.doCreateGridControlWithPreviousState=function(){var e=this.workspaceMemento[t.EDITOR_PART_UI_STATE_STORAGE_KEY];if(e&&e.serializedGrid)try{
this.mostRecentActiveGroups=e.mostRecentActiveGroups,this.doCreateGridControlWithState(e.serializedGrid,e.activeGroup),this._activeGroup.focus()}catch(t){this.handleGridRestoreError(t,e)}},t.prototype.handleGridRestoreError=function(e,t){R.onUnexpectedError(new Error("Error restoring editor grid widget: "+e+" (with state: "+JSON.stringify(t)+")")),this.gridWidget&&this.doSetGridWidget(),this.groupViews.forEach(function(e){return e.dispose()}),this.groupViews.clear(),this._activeGroup=void 0,this.mostRecentActiveGroups=[]},t.prototype.doCreateGridControlWithState=function(e,t,i){var n,r=this;n=i?i.slice(0):[];var o=[],s=d.SerializableGrid.deserialize(e,{fromJSON:function(e){var i;return i=n.length>0?n.shift():r.doCreateGroupView(e),o.push(i),i.id===t&&r.doSetGroupActive(i),i}},{styles:{separatorBorder:this.gridSeparatorBorder}});this._activeGroup||this.doSetGroupActive(o[0]),this.mostRecentActiveGroups.some(function(e){return!r.getGroup(e)})&&(this.mostRecentActiveGroups=o.map(function(e){return e.id})),
this.doSetGridWidget(s)},t.prototype.doSetGridWidget=function(e){this.gridWidget&&this.gridWidget.dispose(),this.gridWidget=e,this.gridWidgetView.gridWidget=e,e&&(this._onDidSizeConstraintsChange.input=e.onDidChange),this.onDidSetGridWidget.fire()},t.prototype.updateContainer=function(){a.toggleClass(this.container,"empty",this.isEmpty())},t.prototype.updateGroupLabels=function(){var e=this;this.getGroups(2).forEach(function(t,i){t.setLabel(e.getGroupLabel(i+1))})},t.prototype.getGroupLabel=function(e){return I.localize("groupLabel","Group {0}",e)},t.prototype.isEmpty=function(){return 1===this.groupViews.size&&this._activeGroup.isEmpty()},t.prototype.layout=function(t){var i=e.prototype.layout.call(this,t);return this.doLayout(i[1]),i},t.prototype.doLayout=function(e){this.dimension=e,this.centeredLayoutWidget.layout(this.dimension.width,this.dimension.height),this._onDidLayout.fire(e)},t.prototype.saveState=function(){if(this.gridWidget){var i={serializedGrid:this.gridWidget.serialize(),
activeGroup:this._activeGroup.id,mostRecentActiveGroups:this.mostRecentActiveGroups};this.isEmpty()?delete this.workspaceMemento[t.EDITOR_PART_UI_STATE_STORAGE_KEY]:this.workspaceMemento[t.EDITOR_PART_UI_STATE_STORAGE_KEY]=i}var n=this.centeredLayoutWidget.state;this.centeredLayoutWidget.isDefault(n)?delete this.globalMemento[t.EDITOR_PART_CENTERED_VIEW_STORAGE_KEY]:this.globalMemento[t.EDITOR_PART_CENTERED_VIEW_STORAGE_KEY]=n,e.prototype.saveState.call(this)},t.prototype.dispose=function(){this.groupViews.forEach(function(e){return e.dispose()}),this.groupViews.clear(),this.gridWidget&&this.gridWidget.dispose(),e.prototype.dispose.call(this)},t.EDITOR_PART_UI_STATE_STORAGE_KEY="editorpart.state",t.EDITOR_PART_CENTERED_VIEW_STORAGE_KEY="editorpart.centeredview",t=r([o(2,u.IInstantiationService),o(3,n.IThemeService),o(4,m.IConfigurationService),o(5,b.IStorageService)],t)}(s.Part);t.EditorPart=O}),
define(e[466],t([1,0,2,7,14,479,87,47,26,51,49,28,37,30,43,4,5,12,27,57,25,8,105,11,312]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SidebarFocusContext=new x.RawContextKey("sideBarFocus",!1);var D=function(e){function n(i,r,o,a,c,u,d,p,h,f){var g=e.call(this,r,o,a,c,u,d,p,h,s.Registry.as(l.Extensions.Viewlets),n.activeViewletSettingsKey,s.Registry.as(l.Extensions.Viewlets).getDefaultViewletId(),"sideBar","viewlet",_.SIDE_BAR_TITLE_FOREGROUND,i,{hasTitle:!0,borderWidth:function(){return g.getColor(_.SIDE_BAR_BORDER)||g.getColor(E.contrastBorder)?1:0}})||this;return g.sideBarFocusContextKey=t.SidebarFocusContext.bindTo(f),g}return i(n,e),Object.defineProperty(n.prototype,"onDidViewletOpen",{get:function(){return S.mapEvent(this._onDidCompositeOpen.event,function(e){return e.composite})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onDidViewletClose",{get:function(){return this._onDidCompositeClose.event},
enumerable:!0,configurable:!0}),n.prototype.create=function(t){var i=this;e.prototype.create.call(this,t);var n=w.trackFocus(t);n.onDidFocus(function(){i.sideBarFocusContextKey.set(!0)}),n.onDidBlur(function(){i.sideBarFocusContextKey.set(!1)})},n.prototype.createTitleArea=function(t){var i=this,n=e.prototype.createTitleArea.call(this,t);return this._register(w.addDisposableListener(n,w.EventType.CONTEXT_MENU,function(e){i.onTitleAreaContextMenu(new I.StandardMouseEvent(e))})),n},n.prototype.updateStyles=function(){e.prototype.updateStyles.call(this);var t=this.getContainer();t.style.backgroundColor=this.getColor(_.SIDE_BAR_BACKGROUND),t.style.color=this.getColor(_.SIDE_BAR_FOREGROUND);var i=this.getColor(_.SIDE_BAR_BORDER)||this.getColor(E.contrastBorder),n=0===this.partService.getSideBarPosition();t.style.borderRightWidth=i&&n?"1px":null,t.style.borderRightStyle=i&&n?"solid":null,t.style.borderRightColor=n?i:null,t.style.borderLeftWidth=i&&!n?"1px":null,t.style.borderLeftStyle=i&&!n?"solid":null,
t.style.borderLeftColor=n?null:i},n.prototype.openViewlet=function(e,t){if(this.blockOpeningViewlet)return null;if(!this.partService.isVisible(1))try{this.blockOpeningViewlet=!0,this.partService.setSideBarHidden(!1)}finally{this.blockOpeningViewlet=!1}return this.openComposite(e,t)},n.prototype.getActiveViewlet=function(){return this.getActiveComposite()},n.prototype.getLastActiveViewletId=function(){return this.getLastActiveCompositetId()},n.prototype.hideActiveViewlet=function(){this.hideActiveComposite()},n.prototype.layout=function(t){return this.partService.isVisible(1)?e.prototype.layout.call(this,t):[t]},n.prototype.onTitleAreaContextMenu=function(e){var t=this,i=this.getActiveViewlet();if(i){var n=i?i.getContextMenuActions():[];if(n.length){var r={x:e.posx,y:e.posy};this.contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){return n},getActionItem:function(e){return t.actionItemProvider(e)},actionRunner:i.getActionRunner()})}}},
n.activeViewletSettingsKey="workbench.sidebar.activeviewletid",n=r([o(1,C.INotificationService),o(2,f.IStorageService),o(3,v.ITelemetryService),o(4,g.IContextMenuService),o(5,h.IPartService),o(6,m.IKeybindingService),o(7,y.IInstantiationService),o(8,b.IThemeService),o(9,x.IContextKeyService)],n)}(c.CompositePart);t.SidebarPart=D;var T=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.partService=r,o}return i(t,e),t.prototype.run=function(){if(!this.partService.isVisible(1))return Promise.resolve(this.partService.setSideBarHidden(!1));var e=this.viewletService.getActiveViewlet();return e&&e.focus(),Promise.resolve(!0)},t.ID="workbench.action.focusSideBar",t.LABEL=n.localize("focusSideBar","Focus into Side Bar"),t=r([o(2,p.IViewletService),o(3,h.IPartService)],t)}(a.Action);s.Registry.as(u.Extensions.WorkbenchActions).registerWorkbenchAction(new d.SyncActionDescriptor(T,T.ID,T.LABEL,{primary:2069}),"View: Focus into Side Bar",n.localize("viewCategory","View"))}),
define(e[461],t([1,0,2,3,76,51,154,15,13,132,25,14,5,350]),function(e,t,n,s,a,c,l,u,d,p,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(e,t,i,n){this._activityBar=e,this._viewletService=t,this._notificationService=i,this._statusbarService=n,this._stack=[]}return e.prototype.withProgress=function(e,t,i){var n=e.location;if("string"==typeof n){return this._viewletService.getViewlet(n)?this._withViewletProgress(n,t):void console.warn("Bad progress location: "+n)}switch(n){case 15:return this._withNotificationProgress(e,t,i);case 10:return this._withWindowProgress(e,t);case 1:return this._withViewletProgress("workbench.view.explorer",t);case 3:return this._withViewletProgress("workbench.view.scm",t);case 5:return this._withViewletProgress("workbench.view.extensions",t);default:return void console.warn("Bad progress location: "+n)}},e.prototype._withWindowProgress=function(e,t){var i=this,n=[e,new a.Progress(function(){return i._updateWindowProgress()
})],r=t(n[1]),o=setTimeout(function(){o=void 0,i._stack.unshift(n),i._updateWindowProgress(),d.always(Promise.all([d.timeout(150),r]),function(){var e=i._stack.indexOf(n);i._stack.splice(e,1),i._updateWindowProgress()})},150);return d.always(r,function(){return clearTimeout(o)}),r},e.prototype._updateWindowProgress=function(e){if(void 0===e&&(e=0),s.dispose(this._globalStatusEntry),e<this._stack.length){var t=this._stack[e],i=t[0],r=t[1],o=i.title,a=r.value&&r.value.message,c=void 0,l=void 0;if(o&&a)c=n.localize("progress.text2","{0}: {1}",o,a),l=i.source?n.localize("progress.title3","[{0}] {1}: {2}",i.source,o,a):c;else if(o)c=o,l=i.source?n.localize("progress.title2","[{0}]: {1}",i.source,o):c;else{if(!a)return void this._updateWindowProgress(e+1);c=a,l=i.source?n.localize("progress.title2","[{0}]: {1}",i.source,a):c}this._globalStatusEntry=this._statusbarService.addEntry({text:"$(sync~spin) "+c,tooltip:l},0)}},e.prototype._withNotificationProgress=function(e,t,r){var o,a=this,c=[],l=function(e,t){
"number"==typeof t&&t>=0?(e.progress.total(100),e.progress.worked(t)):e.progress.infinite()},p=function(t,d){if(o){if("string"==typeof t){var p=void 0;p="string"==typeof e.title?e.title+": "+t:t,o.updateMessage(p)}"number"==typeof d&&l(o,d)}else o=function(t,o){if(t){var d={primary:[]};if(e.cancellable){var p=new(function(e){function t(){return e.call(this,"progress.cancel",n.localize("cancel","Cancel"),null,!0)||this}return i(t,e),t.prototype.run=function(){return"function"==typeof r&&r(),u.TPromise.as(void 0)},t}(f.Action));c.push(p),d.primary.push(p)}var v=a._notificationService.notify({severity:h.Severity.Info,message:t,source:e.source,actions:d});return l(v,o),g.once(v.onDidClose)(function(){s.dispose(c)}),v}}(t,d)};p(e.title);var v=t({report:function(e){p(e.message,e.increment)}});return d.always(Promise.all([d.timeout(800),v]),function(){o&&o.close()}),v},e.prototype._withViewletProgress=function(e,t){var i=this,n=t(a.emptyProgress),r=this._viewletService.getProgressIndicator(e)
;r&&r.showWhile(u.TPromise.wrap(n));var o,c=setTimeout(function(){c=void 0;var t=i._activityBar.showActivity(e,new p.ProgressBadge(function(){return""}),"progress-badge",100),n=Date.now();o={dispose:function(){var e=Date.now()-n;e<300?setTimeout(function(){return t.dispose()},300-e):t.dispose()}}},300),l=function(){clearTimeout(c),s.dispose(o)};return n.then(l,l),n},e=r([o(0,p.IActivityService),o(1,c.IViewletService),o(2,h.INotificationService),o(3,l.IStatusbarService)],e)}();t.ProgressService2=v}),define(e[457],t([1,0,5,7,87,11,45,3]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ActiveViewletContext=new c.RawContextKey("activeViewlet","");var d=function(e){function u(i,r,o){var c=e.call(this)||this;return c.extensionService=o,c._onDidViewletEnable=new n.Emitter,c.sidebarPart=i,c.viewletRegistry=s.Registry.as(a.Extensions.Viewlets),c.activeViewletContextKey=t.ActiveViewletContext.bindTo(r),c._register(c.onDidViewletOpen(c._onDidViewletOpen,c)),
c._register(c.onDidViewletClose(c._onDidViewletClose,c)),c}return i(u,e),Object.defineProperty(u.prototype,"onDidViewletRegister",{get:function(){return this.viewletRegistry.onDidRegister},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"onDidViewletOpen",{get:function(){return this.sidebarPart.onDidViewletOpen},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"onDidViewletClose",{get:function(){return this.sidebarPart.onDidViewletClose},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"onDidViewletEnablementChange",{get:function(){return this._onDidViewletEnable.event},enumerable:!0,configurable:!0}),u.prototype._onDidViewletOpen=function(e){this.activeViewletContextKey.set(e.getId())},u.prototype._onDidViewletClose=function(e){var t=e.getId();this.activeViewletContextKey.get()===t&&this.activeViewletContextKey.reset()},u.prototype.setViewletEnablement=function(e,t){var i=this.getAllViewlets().filter(function(t){return t.id===e}).pop()
;i&&i.enabled!==t&&(i.enabled=t,this._onDidViewletEnable.fire({id:e,enabled:t}))},u.prototype.openViewlet=function(e,t){var i=this;return this.getViewlet(e)?Promise.resolve(this.sidebarPart.openViewlet(e,t)):this.extensionService.whenInstalledExtensionsRegistered().then(function(){return i.getViewlet(e)?i.sidebarPart.openViewlet(e,t):null})},u.prototype.getActiveViewlet=function(){return this.sidebarPart.getActiveViewlet()},u.prototype.getViewlets=function(){return this.getAllViewlets().filter(function(e){return e.enabled})},u.prototype.getAllViewlets=function(){return this.viewletRegistry.getViewlets().sort(function(e,t){return e.order-t.order})},u.prototype.getDefaultViewletId=function(){return this.viewletRegistry.getDefaultViewletId()},u.prototype.getViewlet=function(e){return this.getViewlets().filter(function(t){return t.id===e})[0]},u.prototype.getProgressIndicator=function(e){return this.sidebarPart.getProgressIndicator(e)},u=r([o(1,c.IContextKeyService),o(2,l.IExtensionService)],u)}(u.Disposable)
;t.ViewletService=d}),define(e[122],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWorkspaceEditingService=i.createDecorator("workspaceEditingService"),t.IWorkspaceMigrationService=i.createDecorator("workspaceMigrationService")}),define(e[434],t([1,0,18,3,6,2,34,9,96,4,55,71,154,42,21,40,182,45,31,122,35]),function(e,t,i,n,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var I=function(){function e(e,t,i,n,r,o,s,a,c,l){this._searchService=t,this._contextService=i,this._textFileService=n,this._configurationService=r,this._workspaceEditingService=o,this._statusbarService=s,this._windowService=a,this._instantiationService=c,this._labelService=l,this._toDispose=[],this._activeCancelTokens=Object.create(null),this._proxy=e.getProxy(w.ExtHostContext.ExtHostWorkspace),this._contextService.onDidChangeWorkspaceFolders(this._onDidChangeWorkspace,this,this._toDispose),
this._contextService.onDidChangeWorkbenchState(this._onDidChangeWorkspace,this,this._toDispose)}return e.prototype.dispose=function(){n.dispose(this._toDispose);for(var e in this._activeCancelTokens){this._activeCancelTokens[e].cancel()}},e.prototype.$updateWorkspaceFolders=function(e,t,i,n){var r=n.map(function(e){return{uri:c.URI.revive(e.uri),name:e.name}});return this._statusbarService.setStatusMessage(this.getStatusMessage(e,r.length,i),1e4),this._workspaceEditingService.updateFolders(t,i,r,!0)},e.prototype.getStatusMessage=function(e,t,i){var n=t>0,r=i>0
;return n&&!r?1===t?l.localize("folderStatusMessageAddSingleFolder","Extension '{0}' added 1 folder to the workspace",e):l.localize("folderStatusMessageAddMultipleFolders","Extension '{0}' added {1} folders to the workspace",e,t):r&&!n?1===i?l.localize("folderStatusMessageRemoveSingleFolder","Extension '{0}' removed 1 folder from the workspace",e):l.localize("folderStatusMessageRemoveMultipleFolders","Extension '{0}' removed {1} folders from the workspace",e,i):l.localize("folderStatusChangeFolder","Extension '{0}' changed folders of the workspace",e)},e.prototype._onDidChangeWorkspace=function(){var e=1===this._contextService.getWorkbenchState()?null:this._contextService.getWorkspace();this._proxy.$acceptWorkspaceData(e?{configuration:e.configuration,folders:e.folders,id:e.id,name:this._labelService.getWorkspaceLabel(e)}:null)},e.prototype.$startFileSearch=function(e,t,n,r,o){var s,a,l=this,u=c.URI.revive(t),d=this._contextService.getWorkspace();if(d.folders.length){var p;if(p=u?[{folder:u
}]:d.folders.map(function(e){return{folder:e.uri}})){var h=p.every(function(e){return l._configurationService.getValue({resource:e.folder}).search.useRipgrep}),f=p.every(function(e){return!l._configurationService.getValue({resource:e.folder}).search.followSymlinks});p.forEach(function(e){e.ignoreSymlinks=f});var g={folderQueries:p,type:1,maxResults:r,disregardExcludeSettings:!1===n,useRipgrep:h,_reason:"startFileSearch"};return"string"==typeof e&&(g.includePattern=(s={},s[e]=!0,s)),"string"==typeof n&&(g.excludePattern=(a={},a[n]=!0,a)),this._searchService.extendQuery(g),this._searchService.fileSearch(g,o).then(function(e){return e.results.map(function(e){return e.resource})},function(e){if(!i.isPromiseCanceledError(e))return Promise.reject(e)})}}},e.prototype.$startTextSearch=function(e,t,n,r){var o=this,s=this._contextService.getWorkspace().folders.map(function(e){return e.uri}),a=this._instantiationService.createInstance(b.QueryBuilder).text(e,s,t);a._reason="startTextSearch"
;return this._searchService.textSearch(a,r,function(e){e.results&&o._proxy.$handleTextSearchResult(e,n)}).then(function(e){return{limitHit:e.limitHit}},function(e){if(!i.isPromiseCanceledError(e))return Promise.reject(e)})},e.prototype.$checkExists=function(e,t){var n=this._instantiationService.createInstance(b.QueryBuilder),r=this._contextService.getWorkspace().folders.map(function(e){return e.uri}),o=n.file(r,{_reason:"checkExists",includePattern:e.join(", "),exists:!0});return this._searchService.fileSearch(o,t).then(function(e){return e.limitHit},function(e){if(!i.isPromiseCanceledError(e))return Promise.reject(e)})},e.prototype.$saveAll=function(e){return this._textFileService.saveAll(e).then(function(e){return e.results.every(function(e){return!0===e.success})})},e.prototype.$resolveProxy=function(e){return this._windowService.resolveProxy(e)},
e=r([S.extHostNamedCustomer(w.MainContext.MainThreadWorkspace),o(1,g.ISearchService),o(2,y.IWorkspaceContextService),o(3,_.ITextFileService),o(4,d.IConfigurationService),o(5,C.IWorkspaceEditingService),o(6,v.IStatusbarService),o(7,m.IWindowService),o(8,h.IInstantiationService),o(9,f.ILabelService)],e)}();t.MainThreadWorkspace=I,u.CommandsRegistry.registerCommand("_workbench.enterWorkspace",function(e,t,i){return s(this,void 0,void 0,function(){var n,r,o,s;return a(this,function(a){switch(a.label){case 0:return n=e.get(C.IWorkspaceEditingService),r=e.get(E.IExtensionService),o=e.get(m.IWindowService),i&&i.length?[4,r.getExtensions()]:[3,2];case 1:if(s=a.sent(),i&&s.some(function(e){return i.some(function(t){return p.areSameExtensions({id:t},{id:e.id})})}))return[2,o.openWindow([c.URI.file(t.fsPath)],{args:{_:[],"disable-extension":i}})];a.label=2;case 2:return[2,n.enterWorkspace(t.fsPath)]}})})})}),
define(e[413],t([1,0,108,7,4,194,498,451,319,358,359,361,362,363,364,365,267,516,210,216,369,387,370,453,179,373,374,376,377,379,495,380,381,382,375,383,384,434]),function(e,t,i,n,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e){this.instantiationService=e,this.instantiationService.createInstance(a.JSONValidationExtensionPoint),this.instantiationService.createInstance(c.ColorExtensionPoint),this.instantiationService.createInstance(l.LanguageConfigurationFileHandler)}return e=r([o(0,s.IInstantiationService)],e)}();t.ExtensionPoints=u,n.Registry.as(i.Extensions.Workbench).registerWorkbenchContribution(u,1)}),define(e[226],t([1,0,2,21,122,24,51,52,97,34,16,55,61,113,38,36,32,85]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h,f,g,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_ROOT_FOLDER_COMMAND_ID="addRootFolder",t.ADD_ROOT_FOLDER_LABEL=i.localize("addFolderToWorkspace","Add Folder to Workspace..."),
t.PICK_WORKSPACE_FOLDER_COMMAND_ID="_workbench.pickWorkspaceFolder",l.CommandsRegistry.registerCommand({id:"workbench.action.files.openFileFolderInNewWindow",handler:function(e){return e.get(m.IFileDialogService).pickFileFolderAndOpen({forceNewWindow:!0})}}),l.CommandsRegistry.registerCommand({id:"_files.pickFolderAndOpen",handler:function(e,t){return e.get(m.IFileDialogService).pickFolderAndOpen({forceNewWindow:t})}}),l.CommandsRegistry.registerCommand({id:"workbench.action.files.openFolderInNewWindow",handler:function(e){return e.get(m.IFileDialogService).pickFolderAndOpen({forceNewWindow:!0})}}),l.CommandsRegistry.registerCommand({id:"workbench.action.files.openFileInNewWindow",handler:function(e){return e.get(m.IFileDialogService).pickFileAndOpen({forceNewWindow:!0})}}),l.CommandsRegistry.registerCommand({id:"workbench.action.openWorkspaceInNewWindow",handler:function(e){return e.get(m.IFileDialogService).pickWorkspaceAndOpen({forceNewWindow:!0})}}),l.CommandsRegistry.registerCommand({
id:t.ADD_ROOT_FOLDER_COMMAND_ID,handler:function(e){var t=e.get(s.IViewletService),n=e.get(r.IWorkspaceEditingService),o=e.get(m.IFileDialogService);return o.showOpenDialog({openLabel:c.mnemonicButtonLabel(i.localize({key:"add",comment:["&& denotes a mnemonic"]},"&&Add")),title:i.localize("addFolderToWorkspaceTitle","Add Folder to Workspace"),canSelectFolders:!0,canSelectMany:!0,defaultUri:o.defaultFolderPath(v.Schemas.file)}).then(function(e){return e&&e.length?n.addFolders(e.map(function(e){return{uri:e}})).then(function(){return t.openViewlet(t.getDefaultViewletId(),!0)}).then(function(){}):null})}}),l.CommandsRegistry.registerCommand(t.PICK_WORKSPACE_FOLDER_COMMAND_ID,function(e,t){var r=e.get(p.IQuickInputService),s=e.get(d.ILabelService),c=e.get(n.IWorkspaceContextService),l=e.get(f.IModelService),v=e.get(g.IModeService),m=c.getWorkspace().folders;if(m.length){var y,S=m.map(function(e){return{label:e.name,description:s.getUriLabel(o.dirname(e.uri),{relative:!0}),folder:e,
iconClasses:h.getIconClasses(l,v,e.uri,u.FileKind.ROOT_FOLDER)}});t&&(y=t[0]),y||(y=Object.create(null)),y.activeItem||(y.activeItem=S[0]),y.placeHolder||(y.placeHolder=i.localize("workspaceFolderPickerPlaceholder","Select workspace folder")),"boolean"!=typeof y.matchOnDescription&&(y.matchOnDescription=!0);var b;return t&&(b=t[1]),b||(b=a.CancellationToken.None),r.pick(S,y,b).then(function(e){if(e)return m[S.indexOf(e)]})}})}),define(e[225],t([1,0,14,2,42,21,122,178,97,10,34,226,6,32,85]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.dialogService=n,r}return i(t,e),t.prototype.run=function(e,t){return this.dialogService.pickFileAndOpen({forceNewWindow:!1,telemetryExtraData:t})},t.ID="workbench.action.files.openFile",t.LABEL=s.localize("openFile","Open File..."),t=r([o(2,m.IFileDialogService)],t)}(n.Action);t.OpenFileAction=y;var S=function(e){function t(t,i,n){
var r=e.call(this,t,i)||this;return r.dialogService=n,r}return i(t,e),t.prototype.run=function(e,t){return this.dialogService.pickFolderAndOpen({forceNewWindow:!1,telemetryExtraData:t})},t.ID="workbench.action.files.openFolder",t.LABEL=s.localize("openFolder","Open Folder..."),t=r([o(2,m.IFileDialogService)],t)}(n.Action);t.OpenFolderAction=S;var b=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.dialogService=n,r}return i(t,e),t.prototype.run=function(e,t){return this.dialogService.pickFileFolderAndOpen({forceNewWindow:!1,telemetryExtraData:t})},t.ID="workbench.action.files.openFileFolder",t.LABEL=s.localize("openFileFolder","Open..."),t=r([o(2,m.IFileDialogService)],t)}(n.Action);t.OpenFileFolderAction=b;var E=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.commandService=n,r}return i(t,e),t.prototype.run=function(){return this.commandService.executeCommand(f.ADD_ROOT_FOLDER_COMMAND_ID)},t.ID="workbench.action.addRootFolder",t.LABEL=f.ADD_ROOT_FOLDER_LABEL,
t=r([o(2,h.ICommandService)],t)}(n.Action);t.AddRootFolderAction=E;var _=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.workspaceEditingService=n,s.contextService=r,s.commandService=o,s}return i(t,e),t.prototype.run=function(){var e=this,t=this.contextService.getWorkbenchState();return 3===t||2===t?this.commandService.executeCommand(f.PICK_WORKSPACE_FOLDER_COMMAND_ID).then(function(t){return!t||e.workspaceEditingService.removeFolders([t.uri]).then(function(){return!0})}):Promise.resolve(!0)},t.ID="workbench.action.removeRootFolder",t.LABEL=s.localize("globalRemoveFolderFromWorkspace","Remove Folder from Workspace..."),t=r([o(2,l.IWorkspaceEditingService),o(3,c.IWorkspaceContextService),o(4,h.ICommandService)],t)}(n.Action);t.GlobalRemoveRootFolderAction=_;var C=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.contextService=n,s.workspaceEditingService=r,s.dialogService=o,s}return i(t,e),t.prototype.run=function(){var e=this
;return this.getNewWorkspaceConfigPath().then(function(t){if(t){var i=t.fsPath;switch(e.contextService.getWorkbenchState()){case 1:case 2:var n=e.contextService.getWorkspace().folders.map(function(e){return{uri:e.uri}});return e.workspaceEditingService.createAndEnterWorkspace(n,i);case 3:return e.workspaceEditingService.saveAndEnterWorkspace(i)}}return null})},t.prototype.getNewWorkspaceConfigPath=function(){return this.dialogService.showSaveDialog({saveLabel:d.mnemonicButtonLabel(s.localize({key:"save",comment:["&& denotes a mnemonic"]},"&&Save")),title:s.localize("saveWorkspace","Save Workspace"),filters:u.WORKSPACE_FILTER,defaultUri:this.dialogService.defaultWorkspacePath(v.Schemas.file)})},t.ID="workbench.action.saveWorkspaceAs",t.LABEL=s.localize("saveWorkspaceAsAction","Save Workspace As..."),t=r([o(2,c.IWorkspaceContextService),o(3,l.IWorkspaceEditingService),o(4,m.IFileDialogService)],t)}(n.Action);t.SaveWorkspaceAsAction=C;var w=function(e){function t(t,i,n){var r=e.call(this,t,i)||this
;return r.dialogService=n,r}return i(t,e),t.prototype.run=function(e,t){return this.dialogService.pickWorkspaceAndOpen({telemetryExtraData:t})},t.ID="workbench.action.openWorkspace",t.LABEL=s.localize("openWorkspaceAction","Open Workspace..."),t=r([o(2,m.IFileDialogService)],t)}(n.Action);t.OpenWorkspaceAction=w;var I=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.workspaceContextService=n,o.editorService=r,o.enabled=!!o.workspaceContextService.getWorkspace().configuration,o}return i(t,e),t.prototype.run=function(){return this.editorService.openEditor({resource:this.workspaceContextService.getWorkspace().configuration})},t.ID="workbench.action.openWorkspaceConfigFile",t.LABEL=s.localize("openWorkspaceConfigFile","Open Workspace Configuration File"),t=r([o(2,c.IWorkspaceContextService),o(3,p.IEditorService)],t)}(n.Action);t.OpenWorkspaceConfigFileAction=I;var x=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i)||this;return a.workspaceContextService=n,a.workspaceEditingService=r,
a.windowService=o,a.workspacesService=s,a}return i(t,e),t.prototype.run=function(){var e=this,t=this.workspaceContextService.getWorkspace().folders;return this.workspacesService.createWorkspace(t).then(function(t){return e.workspaceEditingService.copyWorkspaceSettings(t).then(function(){return e.windowService.openWindow([g.URI.file(t.configPath)],{forceNewWindow:!0})})})},t.ID="workbench.action.duplicateWorkspaceInNewWindow",t.LABEL=s.localize("duplicateWorkspaceInNewWindow","Duplicate Workspace in New Window"),t=r([o(2,c.IWorkspaceContextService),o(3,l.IWorkspaceEditingService),o(4,a.IWindowService),o(5,u.IWorkspacesService)],t)}(n.Action);t.DuplicateWorkspaceInNewWindowAction=x}),define(e[180],t([1,0,2,33,6,17,42,4,51,21,66,99,31,84,59,197,34,11,16,56,63,74,69,20,58,13,202,122,123,32,25,134,10,41,55]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P){"use strict";function L(e,t,i,n,r,s,a,c){function l(e){return e?e.force=!0:e={force:!0},e}
if(e&&(r.canHandleResource(e)||e.scheme===R.Schemas.untitled)){if(t||e.scheme===R.Schemas.untitled){var u;if(e.scheme===R.Schemas.untitled)u=s.getEncoding(e);else if(r.canHandleResource(e)){var d=a.models.get(e);u=d&&d.getEncoding()}var p,h=b.getCodeEditor(n.activeTextEditorWidget);if(h){var f=o.toResource(n.activeEditor,{supportSideBySide:!0});f&&(r.canHandleResource(f)||e.scheme===R.Schemas.untitled)&&f.toString()===e.toString()&&(p=h.saveViewState())}var g=void 0;return!t&&e.scheme===R.Schemas.untitled&&s.hasAssociatedFilePath(e)?g=a.save(e,i).then(function(t){return t?e.with({scheme:R.Schemas.file}):null}):(i=l(i),g=a.saveAs(e,void 0,i)),g.then(function(t){if(t&&t.toString()!==e.toString()){var i={resource:t,encoding:u,options:{pinned:!0,viewState:p}};return Promise.all(c.groups.map(function(t){return n.replaceEditors([{editor:{resource:e},replacement:i}],t)})).then(function(){return!0})}})}var v=n.activeControl,m=v&&v.input&&v.input.getResource()
;return m&&m.toString()===e.toString()&&v.group.pinEditor(v.input),i=l(i),a.save(e,i)}return Promise.resolve(!1)}function F(e,t,i,n,r){var o=new Map;return r.groups.forEach(function(e){var t=e.activeEditor&&e.activeEditor.getResource();e.editors.forEach(function(n){var r=n.getResource();r&&i.isDirty(r)&&(o.has(e.id)||o.set(e.id,[]),o.get(e.id).push({encoding:i.getEncoding(r),resource:r,options:{inactive:!t||t.toString()!==r.toString(),pinned:!0,preserveFocus:!0,index:e.getIndexOfEditor(n)}}))})}),n.saveAll(e).then(function(e){o.forEach(function(i,n){i.forEach(function(t){var i=e.results.filter(function(e){return e.success&&e.source.toString()===t.resource.toString()}).pop();i&&(t.resource=i.target)}),t.openEditors(i,n)})})}function N(e,t,r,o){e.length?I.sequence(e.map(function(e){return function(){return t.showItemInFolder(n.normalize(e.fsPath,!0))}
})):o.getWorkspace().folders.length?t.showItemInFolder(n.normalize(o.getWorkspace().folders[0].uri.fsPath,!0)):r.info(i.localize("openFileToReveal","Open a file first to reveal"))}function B(e,t,n,r,o){if(e.length){var s=C.isWindows?"\r\n":"\n",a=e.map(function(e){return o.getUriLabel(e,{relative:t,noPrefix:!0})}).join(s);n.writeText(a)}else r.info(i.localize("openFileToCopy","Open a file first to copy its path"))}Object.defineProperty(t,"__esModule",{value:!0}),t.REVEAL_IN_OS_COMMAND_ID="revealFileInOS",t.REVEAL_IN_OS_LABEL=C.isWindows?i.localize("revealInWindows","Reveal in Explorer"):C.isMacintosh?i.localize("revealInMac","Reveal in Finder"):i.localize("openContainer","Open Containing Folder"),t.REVEAL_IN_EXPLORER_COMMAND_ID="revealInExplorer",t.REVERT_FILE_COMMAND_ID="workbench.action.files.revert",t.OPEN_TO_SIDE_COMMAND_ID="explorer.openToSide",t.SELECT_FOR_COMPARE_COMMAND_ID="selectForCompare",t.COMPARE_SELECTED_COMMAND_ID="compareSelected",t.COMPARE_RESOURCE_COMMAND_ID="compareFiles",
t.COMPARE_WITH_SAVED_COMMAND_ID="workbench.files.action.compareWithSaved",t.COPY_PATH_COMMAND_ID="copyFilePath",t.COPY_RELATIVE_PATH_COMMAND_ID="copyRelativeFilePath",t.SAVE_FILE_AS_COMMAND_ID="workbench.action.files.saveAs",t.SAVE_FILE_AS_LABEL=i.localize("saveAs","Save As..."),t.SAVE_FILE_COMMAND_ID="workbench.action.files.save",t.SAVE_FILE_LABEL=i.localize("save","Save"),t.SAVE_FILE_WITHOUT_FORMATTING_COMMAND_ID="workbench.action.files.saveWithoutFormatting",t.SAVE_FILE_WITHOUT_FORMATTING_LABEL=i.localize("saveWithoutFormatting","Save without Formatting"),t.SAVE_ALL_COMMAND_ID="saveAll",t.SAVE_ALL_LABEL=i.localize("saveAll","Save All"),t.SAVE_ALL_IN_GROUP_COMMAND_ID="workbench.files.action.saveAllInGroup",t.SAVE_FILES_COMMAND_ID="workbench.action.files.saveFiles",t.OpenEditorsGroupContext=new m.RawContextKey("groupFocusedInOpenEditors",!1),t.DirtyEditorContext=new m.RawContextKey("dirtyEditor",!1),t.ResourceSelectedForCompareContext=new m.RawContextKey("resourceSelectedForCompare",!1),
t.REMOVE_ROOT_FOLDER_COMMAND_ID="removeRootFolder",t.REMOVE_ROOT_FOLDER_LABEL=i.localize("removeFolderFromWorkspace","Remove Folder from Workspace"),t.openWindowCommand=function(e,t,i){e.get(s.IWindowService).openWindow(t.map(function(e){return"string"==typeof e?r.URI.file(e):e}),{forceNewWindow:i})},v.CommandsRegistry.registerCommand({id:t.REVERT_FILE_COMMAND_ID,handler:function(e,t){var r=e.get(k.IEditorService),o=e.get(p.ITextFileService),s=e.get(A.INotificationService),a=x.getMultiSelectedResources(t,e.get(f.IListService),r).filter(function(e){return e.scheme!==R.Schemas.untitled});return a.length?o.revertAll(a,{force:!0}).then(null,function(e){s.error(i.localize("genericRevertError","Failed to revert '{0}': {1}",a.map(function(e){return n.basename(e.fsPath)}).join(", "),h.toErrorMessage(e,!1)))}):Promise.resolve(!0)}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({weight:200,when:u.ExplorerFocusCondition,primary:2051,mac:{primary:259},id:t.OPEN_TO_SIDE_COMMAND_ID,handler:function(e,t){
var i=e.get(k.IEditorService),n=e.get(f.IListService),r=e.get(y.IFileService),o=n.lastFocusedList,s=x.getMultiSelectedResources(t,n,i);return o instanceof g.Tree&&o.clearHighlight(),s.length?r.resolveFiles(s.map(function(e){return{resource:e}})).then(function(e){var t=e.filter(function(e){return e.success&&!e.stat.isDirectory}).map(function(e){return{resource:e.stat.resource}});return i.openEditors(t,k.SIDE_GROUP)}):Promise.resolve(!0)}});var W;E.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.COMPARE_WITH_SAVED_COMMAND_ID,when:void 0,weight:200,primary:_.KeyChord(2089,34),handler:function(e,t){if(!W){var r=e.get(a.IInstantiationService),o=e.get(w.ITextModelService);W=r.createInstance(u.FileOnDiskContentProvider),o.registerTextModelContentProvider("showModifications",W)}var s=e.get(k.IEditorService),c=x.getResourceForCommand(t,e.get(f.IListService),s);if(c&&c.scheme===R.Schemas.file){var l=n.basename(c.fsPath),d=i.localize("modifiedLabel","{0} (on disk)  {1}",l,l);return s.openEditor({
leftResource:c.with({scheme:"showModifications"}),rightResource:c,label:d}).then(function(){})}return Promise.resolve(!0)}});var V,z;v.CommandsRegistry.registerCommand({id:t.SELECT_FOR_COMPARE_COMMAND_ID,handler:function(e,i){var n=e.get(f.IListService),r=n.lastFocusedList;r instanceof g.Tree&&(r.clearHighlight(),r.domFocus()),V=x.getResourceForCommand(i,n,e.get(k.IEditorService)),z||(z=t.ResourceSelectedForCompareContext.bindTo(e.get(m.IContextKeyService))),z.set(!0)}}),v.CommandsRegistry.registerCommand({id:t.COMPARE_SELECTED_COMMAND_ID,handler:function(e,t){var i=e.get(k.IEditorService),n=x.getMultiSelectedResources(t,e.get(f.IListService),i);return 2===n.length?i.openEditor({leftResource:n[0],rightResource:n[1]}):Promise.resolve(!0)}}),v.CommandsRegistry.registerCommand({id:t.COMPARE_RESOURCE_COMMAND_ID,handler:function(e,t){var i=e.get(k.IEditorService),n=e.get(f.IListService),r=n.lastFocusedList;return r instanceof g.Tree&&r.clearHighlight(),i.openEditor({leftResource:V,
rightResource:x.getResourceForCommand(t,n,i)}).then(function(){})}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.REVEAL_IN_OS_COMMAND_ID,weight:200,when:O.EditorContextKeys.focus.toNegated(),primary:2608,win:{primary:1584},handler:function(e,t){N(x.getMultiSelectedResources(t,e.get(f.IListService),e.get(k.IEditorService)),e.get(s.IWindowsService),e.get(A.INotificationService),e.get(l.IWorkspaceContextService))}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({weight:200,when:void 0,primary:_.KeyChord(2089,48),id:"workbench.action.files.revealActiveFileInWindows",handler:function(e){var t=e.get(k.IEditorService).activeEditor;N(t&&t.getResource()?[t.getResource()]:[],e.get(s.IWindowsService),e.get(A.INotificationService),e.get(l.IWorkspaceContextService))}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({weight:200,when:O.EditorContextKeys.focus.toNegated(),primary:2593,win:{primary:1569},id:t.COPY_PATH_COMMAND_ID,handler:function(e,t){
B(x.getMultiSelectedResources(t,e.get(f.IListService),e.get(k.IEditorService)),!1,e.get(d.IClipboardService),e.get(A.INotificationService),e.get(P.ILabelService))}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({weight:200,when:O.EditorContextKeys.focus.toNegated(),primary:3617,win:{primary:_.KeyChord(2089,3105)},id:t.COPY_RELATIVE_PATH_COMMAND_ID,handler:function(e,t){B(x.getMultiSelectedResources(t,e.get(f.IListService),e.get(k.IEditorService)),!0,e.get(d.IClipboardService),e.get(A.INotificationService),e.get(P.ILabelService))}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({weight:200,when:void 0,primary:_.KeyChord(2089,46),id:"workbench.action.files.copyPathOfActiveFile",handler:function(e){var t=e.get(k.IEditorService).activeEditor;B(t&&t.getResource()?[t.getResource()]:[],!1,e.get(d.IClipboardService),e.get(A.INotificationService),e.get(P.ILabelService))}}),v.CommandsRegistry.registerCommand({id:t.REVEAL_IN_EXPLORER_COMMAND_ID,handler:function(e,t){
var i=e.get(c.IViewletService),n=e.get(l.IWorkspaceContextService),r=x.getResourceForCommand(t,e.get(f.IListService),e.get(k.IEditorService));i.openViewlet(u.VIEWLET_ID,!1).then(function(e){if(n.isInsideWorkspace(r)){var t=e.getExplorerView();t&&(t.setExpanded(!0),t.select(r,!0))}else{var i=e.getOpenEditorsView();i&&i.setExpanded(!0)}})}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.SAVE_FILE_AS_COMMAND_ID,weight:200,when:void 0,primary:3121,handler:function(e,t){var i=e.get(k.IEditorService),n=void 0;return n=t&&"from"in t&&"menu"===t.from?o.toResource(i.activeEditor):x.getResourceForCommand(t,e.get(f.IListService),i),L(n,!0,void 0,i,e.get(y.IFileService),e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(M.IEditorGroupsService))}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({when:void 0,weight:200,primary:2097,id:t.SAVE_FILE_COMMAND_ID,handler:function(e,t){var i=e.get(k.IEditorService),n=x.getMultiSelectedResources(t,e.get(f.IListService),i)
;return 1===n.length?L(n[0],!1,void 0,i,e.get(y.IFileService),e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(M.IEditorGroupsService)):F(n,i,e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(M.IEditorGroupsService))}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({when:void 0,weight:200,primary:_.KeyChord(2089,49),win:{primary:_.KeyChord(2089,3121)},id:t.SAVE_FILE_WITHOUT_FORMATTING_COMMAND_ID,handler:function(e){var t=e.get(k.IEditorService),i=o.toResource(t.activeEditor,{supportSideBySide:!0});if(i)return L(i,!1,{skipSaveParticipants:!0},t,e.get(y.IFileService),e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(M.IEditorGroupsService))}}),v.CommandsRegistry.registerCommand({id:t.SAVE_ALL_COMMAND_ID,handler:function(e){return F(!0,e.get(k.IEditorService),e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(M.IEditorGroupsService))}}),v.CommandsRegistry.registerCommand({id:t.SAVE_ALL_IN_GROUP_COMMAND_ID,handler:function(e,t,i){
var n,r=T.getMultiSelectedEditorContexts(i,e.get(f.IListService),e.get(M.IEditorGroupsService)),s=e.get(M.IEditorGroupsService);if(r.length){var a=e.get(y.IFileService);n=[],r.forEach(function(e){s.getGroup(e.groupId).editors.forEach(function(e){var t=o.toResource(e,{supportSideBySide:!0});t&&(t.scheme===R.Schemas.untitled||a.canHandleResource(t))&&n.push(t)})})}else n=!0;return F(n,e.get(k.IEditorService),e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(M.IEditorGroupsService))}}),v.CommandsRegistry.registerCommand({id:t.SAVE_FILES_COMMAND_ID,handler:function(e){return F(!1,e.get(k.IEditorService),e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(M.IEditorGroupsService))}}),v.CommandsRegistry.registerCommand({id:t.REMOVE_ROOT_FOLDER_COMMAND_ID,handler:function(e,t){var i=e.get(D.IWorkspaceEditingService),n=e.get(l.IWorkspaceContextService).getWorkspace(),r=x.getMultiSelectedResources(t,e.get(f.IListService),e.get(k.IEditorService)).filter(function(e){
return n.folders.some(function(t){return t.uri.toString()===e.toString()})});return i.removeFolders(r)}})}),define(e[176],t([1,0,2,29,20,13,33,24,84,22,14,3,66,31,16,17,118,56,87,54,51,4,42,180,58,9,99,36,38,34,59,11,32,85,25,10,123,329]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W){"use strict";function V(e,t){for(var i=u.basenameOrAuthority(t.resource),n=u.joinPath(e.resource,i);;){if(!e.root.find(n))break;i=z(i,t.isDirectory),n=u.joinPath(e.resource,i)}return n}function z(e,t){var i=RegExp("(.*[\\.\\-_])(\\d+)(\\..*)$");if(!t&&e.match(i))return e.replace(i,function(e,t,i,n){var r=parseInt(i);return r<1073741824?t+p.pad(r+1,i.length)+n:p.format("{0}{1}.1{2}",t,i,n)});var n=RegExp("(\\d+)([\\.\\-_].*)(\\..*)$");if(!t&&e.match(n))return e.replace(n,function(e,t,i,n){var r=parseInt(t);return r<1073741824?p.pad(r+1,t.length)+i+n:p.format("{0}{1}.1{2}",t,i,n)});var r=RegExp("(\\d+)(\\..*)$");if(!t&&e.match(r))return e.replace(r,function(e,t,i){var n=parseInt(t)
;return n<1073741824?p.pad(n+1,t.length)+i:p.format("{0}.1{1}",t,i)});var o=e.lastIndexOf(".");return!t&&o>=0?p.format("{0}.1{1}",e.substr(0,o),e.substr(o)):t&&e.match(/(\d+)$/)?e.replace(/(\d+)$/,function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=parseInt(t[0]);return n<1073741824?p.pad(n+1,t[0].length):p.format("{0}.1",t[0])}):t&&e.match(/^(\d+)/)?e.replace(/^(\d+)(.*)$/,function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=parseInt(t[0]);return n<1073741824?p.pad(n+1,t[0].length)+t[1]:p.format("{0}{1}.1",t[0],t[1])}):p.format("{0}.1",e)}function G(e,t){if(!(t=H(t))||0===t.length||/^\s+$/.test(t))return n.localize("emptyFileNameError","A file or folder name must be provided.");if("/"===t[0]||"\\"===t[0])return n.localize("fileNameStartsWithSlashError","A file or folder name cannot start with a slash.");var i=t.split(/[\\/]/).filter(function(e){return!!e})
;if(!!e.getChild(t))return n.localize("fileNameExistsError","A file or folder **{0}** already exists at this location. Please choose a different name.",t);if(i.some(function(e){return!l.isValidBasename(e)}))return n.localize("invalidFileNameError","The name **{0}** is not valid as a file or folder name. Please choose a different name.",K(t));if(a.isWindows){if(t.length+e.resource.fsPath.length+1>255)return n.localize("filePathTooLongError","The name **{0}** results in a path that is too long. Please choose a shorter name.",K(t))}return null}function K(e){return e&&e.length>255?e.substr(0,255)+"...":e}function H(e){return e?(e=p.trim(e,"\t"),e=p.rtrim(e,"."),e=p.rtrim(e,"/"),e=p.rtrim(e,"\\")):e}function U(e,t){var i=e,n=i.getFocus(),r=i.getSelection();return{stat:n,selection:r&&r.indexOf(n)>=0?r:[],viewletState:t.getActiveViewlet().getViewletState()}}function j(e,t){var i=e.get(w.IInstantiationService),n=e.get(M.IListService),r=e.get(C.IViewletService),o=r.getActiveViewlet(),s=Promise.resolve(o)
;return o&&o.getId()===g.VIEWLET_ID||(s=r.openViewlet(g.VIEWLET_ID,!0)),s.then(function(e){var o=e.getExplorerView();if(o&&o.isVisible()&&o.isExpanded()){o.focus();var s=U(n.lastFocusedList,r);return i.createInstance(t,n.lastFocusedList,s.stat).run(s)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.NEW_FILE_COMMAND_ID="explorer.newFile",t.NEW_FILE_LABEL=n.localize("newFile","New File"),t.NEW_FOLDER_COMMAND_ID="explorer.newFolder",t.NEW_FOLDER_LABEL=n.localize("newFolder","New Folder"),t.TRIGGER_RENAME_LABEL=n.localize("rename","Rename"),t.MOVE_FILE_TO_TRASH_LABEL=n.localize("delete","Delete"),t.COPY_FILE_LABEL=n.localize("copyFile","Copy"),t.PASTE_FILE_LABEL=n.localize("pasteFile","Paste"),t.FileCopiedContext=new P.RawContextKey("fileCopied",!1);var q=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r._notificationService=n,r}return i(t,e),Object.defineProperty(t.prototype,"notificationService",{get:function(){return this._notificationService},enumerable:!0,configurable:!0}),
t.prototype.onError=function(e){"string"===e.message&&(e=e.message),this._notificationService.error(d.toErrorMessage(e,!1))},t.prototype.onErrorWithRetry=function(e,t){this._notificationService.prompt(N.Severity.Error,d.toErrorMessage(e,!1),[{label:n.localize("retry","Retry"),run:function(){return t()}}])},t}(h.Action);t.BaseErrorReportingAction=q;var $=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i,r)||this;return s.fileService=n,s.textFileService=o,s.enabled=!1,s}return i(t,e),t.prototype._isEnabled=function(){return!0},t.prototype._updateEnablement=function(){this.enabled=!(!this.fileService||!this._isEnabled())},t=r([o(2,m.IFileService),o(3,N.INotificationService),o(4,v.ITextFileService)],t)}(q);t.BaseFileAction=$;var Q=function(e){function s(i,n,r,o,a,c){var l=e.call(this,s.ID,t.TRIGGER_RENAME_LABEL,r,o,a)||this;return l.tree=i,l.element=n,l.renameAction=c.createInstance(X,n),l._updateEnablement(),l}return i(s,e),s.prototype.validateFileName=function(e){var t=e.split(/[\\/]/).filter(function(e){
return!!e});if(t.length>1){if(0===(a.isLinux?p.compare:p.compareIgnoreCase)(t[0],this.element.name))return n.localize("renameWhenSourcePathIsParentOfTargetError","Please use the 'New Folder' or 'New File' command to add children to an existing folder")}return this.renameAction.validateFileName(this.element.parent,e)},s.prototype.run=function(e){var t=this;if(!e)return Promise.reject(new Error("No context provided to BaseEnableFileRenameAction."));var i=e.viewletState;if(!i)return Promise.reject(new Error("Invalid viewlet state provided to BaseEnableFileRenameAction."));var n=e.stat;if(!n)return Promise.reject(new Error("Invalid stat provided to BaseEnableFileRenameAction."));i.setEditable(n,{action:this.renameAction,validator:function(e){var i=t.validateFileName(e);return i?{content:i,formatContent:!0,type:3}:null}}),this.tree.refresh(n,!1).then(function(){t.tree.setHighlight(n);var e=t.tree.onDidChangeHighlight(function(r){r.highlight||(i.clearEditable(n),t.tree.refresh(n),e.dispose())})})},
s.ID="renameFile",s=r([o(2,m.IFileService),o(3,N.INotificationService),o(4,v.ITextFileService),o(5,w.IInstantiationService)],s)}($),Y=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,r,o,s)||this;return a.element=n,a}return i(t,e),t.prototype._isEnabled=function(){return e.prototype._isEnabled.call(this)&&this.element&&!this.element.isReadonly},t.prototype.run=function(e){var t=this;if(!e)return Promise.reject(new Error("No context provided to BaseRenameFileAction."));var i=e.value;if(!i)return Promise.reject(new Error("No new name provided to BaseRenameFileAction."));if((i=H(i))===H(this.element.name)||this.validateFileName(this.element.parent,i))return Promise.resolve(null);return this.runAction(i).then(null,function(e){t.onError(e)})},t.prototype.validateFileName=function(e,t){var i=this.element.name,n=t;return a.isLinux||(i=i.toLowerCase(),n=n.toLowerCase()),H(i)===H(n)?null:G(e,t)},t=r([o(3,m.IFileService),o(4,N.INotificationService),o(5,v.ITextFileService)],t)}($);t.BaseRenameAction=Y
;var X=function(e){function t(i,r,o,s){var a=e.call(this,t.ID,n.localize("rename","Rename"),i,r,o,s)||this;return a._updateEnablement(),a}return i(t,e),t.prototype.runAction=function(e){var t=this.element.parent.resource,i=u.joinPath(t,e);return this.textFileService.move(this.element.resource,i)},t.ID="workbench.files.action.renameFile",t=r([o(1,m.IFileService),o(2,N.INotificationService),o(3,v.ITextFileService)],t)}(Y),J=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this,t,i,a,c,l)||this;return s&&(u.presetFolder=s.isDirectory?s:s.parent),u.tree=n,u.isFile=r,u.renameAction=o,u}return i(t,e),t.prototype.run=function(e){var t=this;if(!e)return Promise.reject(new Error("No context provided to BaseNewAction."));var i=e.viewletState;if(!i)return Promise.reject(new Error("Invalid viewlet state provided to BaseNewAction."));var n=this.presetFolder;if(!n){var r=this.tree.getFocus();if(r)n=r.isDirectory?r:r.parent;else{var o=this.tree.getInput();n=o instanceof S.Model?o.roots[0]:o}}
return n?n.isReadonly?Promise.reject(new Error("Parent folder is readonly.")):n.getChild(S.NewStatPlaceholder.NAME)?Promise.resolve(new Error("Parent folder is already in the process of creating a file")):this.tree.reveal(n,.5).then(function(){return t.tree.expand(n).then(function(){var e=S.NewStatPlaceholder.addNewStatPlaceholder(n,!t.isFile);return t.renameAction.element=e,i.setEditable(e,{action:t.renameAction,validator:function(e){var i=t.renameAction.validateFileName(n,e);return i?{content:i,formatContent:!0,type:3}:null}}),t.tree.refresh(n).then(function(){return t.tree.expand(n).then(function(){return t.tree.reveal(e,.5).then(function(){t.tree.setHighlight(e);var i=t.tree.onDidChangeHighlight(function(r){r.highlight||(e.destroy(),t.tree.refresh(n),i.dispose())})})})})})}):Promise.reject(new Error("Invalid parent folder to create."))},t=r([o(6,m.IFileService),o(7,N.INotificationService),o(8,v.ITextFileService)],t)}($);t.BaseNewAction=J;var Z=function(e){function n(i,n,r,o,s,a){
var c=e.call(this,"explorer.newFile",t.NEW_FILE_LABEL,i,!0,a.createInstance(ne,n),null,r,o,s)||this;return c.class="explorer-action new-file",c._updateEnablement(),c}return i(n,e),n=r([o(2,m.IFileService),o(3,N.INotificationService),o(4,v.ITextFileService),o(5,w.IInstantiationService)],n)}(J);t.NewFileAction=Z;var ee=function(e){function n(i,n,r,o,s,a){var c=e.call(this,"explorer.newFolder",t.NEW_FOLDER_LABEL,i,!1,a.createInstance(re,n),null,r,o,s)||this;return c.class="explorer-action new-folder",c._updateEnablement(),c}return i(n,e),n=r([o(2,m.IFileService),o(3,N.INotificationService),o(4,v.ITextFileService),o(5,w.IInstantiationService)],n)}(J);t.NewFolderAction=ee;var te=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorService=n,r}return i(t,e),t.prototype.run=function(){return this.editorService.openEditor({options:{pinned:!0}})},t.ID="workbench.action.files.newUntitledFile",t.LABEL=n.localize("newUntitledFile","New Untitled File"),t=r([o(2,B.IEditorService)],t)}(h.Action)
;t.GlobalNewUntitledFileAction=te;var ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validateFileName=function(t,i){return this.element instanceof S.NewStatPlaceholder?G(t,i):e.prototype.validateFileName.call(this,t,i)},t}(Y);t.BaseCreateAction=ie;var ne=function(e){function t(i,n,r,o,s){var a=e.call(this,t.ID,t.LABEL,i,n,o,s)||this;return a.editorService=r,a._updateEnablement(),a}return i(t,e),t.prototype.runAction=function(e){var t=this,i=this.element.parent.resource;return this.fileService.createFile(u.joinPath(i,e)).then(function(e){return t.editorService.openEditor({resource:e.resource,options:{pinned:!0}})},function(i){t.onErrorWithRetry(i,function(){return t.runAction(e)})})},t.ID="workbench.files.action.createFileFromExplorer",t.LABEL=n.localize("createNewFile","New File"),t=r([o(1,m.IFileService),o(2,B.IEditorService),o(3,N.INotificationService),o(4,v.ITextFileService)],t)}(ie),re=function(e){function t(i,n,r,o){
var s=e.call(this,t.ID,t.LABEL,null,n,r,o)||this;return s._updateEnablement(),s}return i(t,e),t.prototype.runAction=function(e){var t=this,i=this.element.parent.resource;return this.fileService.createFolder(u.joinPath(i,e)).then(null,function(i){t.onErrorWithRetry(i,function(){return t.runAction(e)})})},t.ID="workbench.files.action.createFolderFromExplorer",t.LABEL=n.localize("createNewFolder","New Folder"),t=r([o(1,m.IFileService),o(2,N.INotificationService),o(3,v.ITextFileService)],t)}(ie),oe=function(e){function s(i,n,r,o,s,a,c,u){var d=e.call(this,"moveFileToTrash",t.MOVE_FILE_TO_TRASH_LABEL,o,s,c)||this;return d.tree=i,d.elements=n,d.useTrash=r,d.dialogService=a,d.configurationService=u,d.tree=i,d.useTrash=r&&n.every(function(e){return!l.isUNC(e.resource.fsPath)}),d._updateEnablement(),d}return i(s,e),s.prototype._isEnabled=function(){return e.prototype._isEnabled.call(this)&&this.elements&&this.elements.every(function(e){return!e.isReadonly})},s.prototype.run=function(){var e=this
;this.tree&&this.tree.clearHighlight();var t;t=this.useTrash?a.isWindows?n.localize("deleteButtonLabelRecycleBin","&&Move to Recycle Bin"):n.localize({key:"deleteButtonLabelTrash",comment:["&& denotes a mnemonic"]},"&&Move to Trash"):n.localize({key:"deleteButtonLabel",comment:["&& denotes a mnemonic"]},"&&Delete");var i=u.distinctParents(this.elements,function(e){return e.resource}),r=Promise.resolve(!0),o=this.textFileService.getDirty().filter(function(e){return i.some(function(t){return u.isEqualOrParent(e,t.resource,!a.isLinux)})});if(o.length){var c=void 0
;c=i.length>1?n.localize("dirtyMessageFilesDelete","You are deleting files with unsaved changes. Do you want to continue?"):i[0].isDirectory?1===o.length?n.localize("dirtyMessageFolderOneDelete","You are deleting a folder with unsaved changes in 1 file. Do you want to continue?"):n.localize("dirtyMessageFolderDelete","You are deleting a folder with unsaved changes in {0} files. Do you want to continue?",o.length):n.localize("dirtyMessageFileDelete","You are deleting a file with unsaved changes. Do you want to continue?"),r=this.dialogService.confirm({message:c,type:"warning",detail:n.localize("dirtyWarning","Your changes will be lost if you don't save them."),primaryButton:t}).then(function(t){return!!t.confirmed&&(e.skipConfirm=!0,e.textFileService.revertAll(o).then(function(){return!0}))})}return r.then(function(r){if(!r)return null;var o;if(e.skipConfirm||e.useTrash&&!1===e.configurationService.getValue(s.CONFIRM_DELETE_SETTING_KEY))o=Promise.resolve({confirmed:!0});else if(e.useTrash){
c=e.getMoveToTrashMessage(i);o=e.dialogService.confirm({message:c,detail:a.isWindows?n.localize("undoBin","You can restore from the Recycle Bin."):n.localize("undoTrash","You can restore from the Trash."),primaryButton:t,checkbox:{label:n.localize("doNotAskAgain","Do not ask me again")},type:"question"})}else{var c=e.getDeleteMessage(i);o=e.dialogService.confirm({message:c,detail:n.localize("irreversible","This action is irreversible!"),primaryButton:t,type:"warning"})}return o.then(function(t){var r=Promise.resolve(void 0);return t.confirmed&&!0===t.checkboxChecked&&(r=e.configurationService.updateValue(s.CONFIRM_DELETE_SETTING_KEY,!1,1)),r.then(function(){if(!t.confirmed)return Promise.resolve(null);return Promise.all(i.map(function(t){return e.fileService.del(t.resource,{useTrash:e.useTrash,recursive:!0})})).then(function(){i[0].parent&&e.tree.setFocus(i[0].parent)},function(t){var i,r,o
;return e.useTrash?(i=a.isWindows?n.localize("binFailed","Failed to delete using the Recycle Bin. Do you want to permanently delete instead?"):n.localize("trashFailed","Failed to delete using the Trash. Do you want to permanently delete instead?"),r=n.localize("irreversible","This action is irreversible!"),o=n.localize({key:"deletePermanentlyButtonLabel",comment:["&& denotes a mnemonic"]},"&&Delete Permanently")):(i=d.toErrorMessage(t,!1),o=n.localize({key:"retryButtonLabel",comment:["&& denotes a mnemonic"]},"&&Retry")),e.dialogService.confirm({message:i,detail:r,type:"warning",primaryButton:o}).then(function(t){return e.tree.domFocus(),t.confirmed?(e.useTrash&&(e.useTrash=!1),e.skipConfirm=!0,e.run()):Promise.resolve(void 0)})})})})})},s.prototype.getMoveToTrashMessage=function(e){
return this.containsBothDirectoryAndFile(e)?F.getConfirmMessage(n.localize("confirmMoveTrashMessageFilesAndDirectories","Are you sure you want to delete the following {0} files/directories and their contents?",e.length),e.map(function(e){return e.resource})):e.length>1?e[0].isDirectory?F.getConfirmMessage(n.localize("confirmMoveTrashMessageMultipleDirectories","Are you sure you want to delete the following {0} directories and their contents?",e.length),e.map(function(e){return e.resource})):F.getConfirmMessage(n.localize("confirmMoveTrashMessageMultiple","Are you sure you want to delete the following {0} files?",e.length),e.map(function(e){return e.resource})):e[0].isDirectory?n.localize("confirmMoveTrashMessageFolder","Are you sure you want to delete '{0}' and its contents?",e[0].name):n.localize("confirmMoveTrashMessageFile","Are you sure you want to delete '{0}'?",e[0].name)},s.prototype.getDeleteMessage=function(e){
return this.containsBothDirectoryAndFile(e)?F.getConfirmMessage(n.localize("confirmDeleteMessageFilesAndDirectories","Are you sure you want to permanently delete the following {0} files/directories and their contents?",e.length),e.map(function(e){return e.resource})):e.length>1?e[0].isDirectory?F.getConfirmMessage(n.localize("confirmDeleteMessageMultipleDirectories","Are you sure you want to permanently delete the following {0} directories and their contents?",e.length),e.map(function(e){return e.resource})):F.getConfirmMessage(n.localize("confirmDeleteMessageMultiple","Are you sure you want to permanently delete the following {0} files?",e.length),e.map(function(e){return e.resource})):e[0].isDirectory?n.localize("confirmDeleteMessageFolder","Are you sure you want to permanently delete '{0}' and its contents?",e[0].name):n.localize("confirmDeleteMessageFile","Are you sure you want to permanently delete '{0}'?",e[0].name)},s.prototype.containsBothDirectoryAndFile=function(e){var t=e.filter(function(e){
return e.isDirectory}),i=e.filter(function(e){return!e.isDirectory});return t.length>0&&i.length>0},s.CONFIRM_DELETE_SETTING_KEY="explorer.confirmDelete",s=r([o(3,m.IFileService),o(4,N.INotificationService),o(5,F.IDialogService),o(6,v.ITextFileService),o(7,T.IConfigurationService)],s)}($),se=function(e){function t(t,i,r,o,s,a,c,l){var u=e.call(this,"workbench.files.action.addFile",n.localize("addFiles","Add Files"),o,c,l)||this;return u.editorService=s,u.dialogService=a,u.tree=t,u.element=i,r&&(u.class=r),u._updateEnablement(),u}return i(t,e),t.prototype.run=function(e){var t=this;return Promise.resolve(null).then(function(){if(e&&e.length>0){var i;if(t.element)i=t.element;else{var r=t.tree.getInput();i=t.tree.getFocus()||(r instanceof S.Model?r.roots[0]:r)}return i.isDirectory||(i=i.parent),t.fileService.resolveFile(i.resource).then(function(r){var o=new Set;r.children.forEach(function(e){o.add(a.isLinux?e.name:e.name.toLowerCase())});var s=Promise.resolve({confirmed:!0});if(e.some(function(e){
return o.has(u.hasToIgnoreCase(e)?u.basename(e).toLowerCase():u.basename(e))})){var l={message:n.localize("confirmOverwrite","A file or folder with the same name already exists in the destination folder. Do you want to replace it?"),detail:n.localize("irreversible","This action is irreversible!"),primaryButton:n.localize({key:"replaceButtonLabel",comment:["&& denotes a mnemonic"]},"&&Replace"),type:"warning"};s=t.dialogService.confirm(l)}return s.then(function(n){if(n.confirmed){var r=[];return e.forEach(function(n){r.push(function(){var r=n,o=u.joinPath(i.resource,u.basename(r)),s=Promise.resolve(null);return t.textFileService.isDirty(o)&&(s=t.textFileService.revertAll([o],{soft:!0})),s.then(function(){var n=u.joinPath(i.resource,u.basename(r));return t.fileService.copyFile(r,n,!0).then(function(i){1===e.length&&t.editorService.openEditor({resource:i.resource,options:{pinned:!0}})},function(e){return t.onError(e)})})})}),c.sequence(r)}})})}}).then(function(){t.tree.clearHighlight()},function(e){t.onError(e),
t.tree.clearHighlight()})},t=r([o(3,m.IFileService),o(4,B.IEditorService),o(5,F.IDialogService),o(6,N.INotificationService),o(7,v.ITextFileService)],t)}($);t.AddFilesAction=se;var ae=function(e){function n(i,n,r,o,s,a,c){var l=e.call(this,"filesExplorer.copy",t.COPY_FILE_LABEL,r,o,s)||this;return l.elements=n,l.clipboardService=c,l.tree=i,l._updateEnablement(),l}return i(n,e),n.prototype.run=function(){return this.clipboardService.writeResources(this.elements.map(function(e){return e.resource})),this.tree&&this.tree.clearHighlight(),this.tree.domFocus(),Promise.resolve(null)},n=r([o(2,m.IFileService),o(3,N.INotificationService),o(4,v.ITextFileService),o(5,P.IContextKeyService),o(6,R.IClipboardService)],n)}($),ce=function(e){function s(i,n,r,o,a,c){var l=e.call(this,s.ID,t.PASTE_FILE_LABEL,r,o,a)||this;if(l.editorService=c,l.tree=i,l.element=n,!l.element){var u=l.tree.getInput();l.element=u instanceof S.Model?u.roots[0]:u}return l._updateEnablement(),l}return i(s,e),s.prototype.run=function(e){var t=this
;if(this.element.resource.toString()!==e.toString()&&u.isEqualOrParent(this.element.resource,e,!a.isLinux))throw new Error(n.localize("fileIsAncestor","File to paste is an ancestor of the destination folder"));return this.fileService.resolveFile(e).then(function(i){t.tree&&t.tree.clearHighlight();var n,r=V(n=t.element.resource.toString()===e.toString()?t.element.parent:t.element.isDirectory?t.element:t.element.parent,{resource:e,isDirectory:i.isDirectory});return t.fileService.copyFile(e,r).then(function(e){if(!e.isDirectory)return t.editorService.openEditor({resource:e.resource,options:{pinned:!0}})},function(e){return t.onError(e)}).then(function(){t.tree.domFocus()})},function(e){t.onError(new Error(n.localize("fileDeleted","File to paste was deleted or moved meanwhile")))})},s.ID="filesExplorer.paste",s=r([o(2,m.IFileService),o(3,N.INotificationService),o(4,v.ITextFileService),o(5,B.IEditorService)],s)}($),le=function(e){function t(t,i,r,o,s,a,c){
var l=e.call(this,"workbench.files.action.duplicateFile",n.localize("duplicateFile","Duplicate"),o,a,c)||this;return l.editorService=s,l.tree=t,l.element=i,l.target=r&&r.isDirectory?r:i.parent,l._updateEnablement(),l}return i(t,e),t.prototype.run=function(){var e=this;this.tree&&this.tree.clearHighlight();return this.fileService.copyFile(this.element.resource,V(this.target,{resource:this.element.resource,isDirectory:this.element.isDirectory})).then(function(t){if(!t.isDirectory)return e.editorService.openEditor({resource:t.resource,options:{pinned:!0}})},function(t){return e.onError(t)})},t=r([o(3,m.IFileService),o(4,B.IEditorService),o(5,N.INotificationService),o(6,v.ITextFileService)],t)}($);t.DuplicateFileAction=le,t.incrementFileName=z;var ue=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.quickOpenService=n,s.editorService=r,s.notificationService=o,s}return i(t,e),t.prototype.run=function(){var e=this,t=this.editorService.activeEditor,i=t?t.getResource():void 0;if(i){
var r=this.editorService.overrideOpenEditor(function(t,n,o){r.dispose();var s=t.getResource();if(s)return{override:e.editorService.openEditor({leftResource:i,rightResource:s}).then(function(){})}});this.quickOpenService.show("",{autoFocus:{autoFocusSecondEntry:!0}}).then(function(){r.dispose()})}else this.notificationService.info(n.localize("openFileToCompare","Open a file first to compare it with another file."));return Promise.resolve(!0)},t.ID="workbench.files.action.compareFileWith",t.LABEL=n.localize("globalCompareFile","Compare Active File With..."),t=r([o(2,_.IQuickOpenService),o(3,B.IEditorService),o(4,N.INotificationService)],t)}(h.Action);t.GlobalCompareResourcesAction=ue;var de=function(e){function t(t,i){return e.call(this,"workbench.files.action.refreshFilesExplorer",n.localize("refresh","Refresh"),i,!0,function(e){return t.refresh()})||this}return i(t,e),t}(h.Action);t.RefreshViewExplorerAction=de;var pe=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.configurationService=n,r
}return i(t,e),t.prototype.run=function(){var e=this.configurationService.inspect("files.autoSave"),t=e.user;s.isUndefinedOrNull(t)&&(t=e.default);var i;return i=[m.AutoSaveConfiguration.AFTER_DELAY,m.AutoSaveConfiguration.ON_FOCUS_CHANGE,m.AutoSaveConfiguration.ON_WINDOW_CHANGE].some(function(e){return e===t})?m.AutoSaveConfiguration.OFF:m.AutoSaveConfiguration.AFTER_DELAY,this.configurationService.updateValue("files.autoSave",i,1)},t.ID="workbench.action.toggleAutoSave",t.LABEL=n.localize("toggleAutoSave","Toggle Auto Save"),t=r([o(2,T.IConfigurationService)],t)}(h.Action);t.ToggleAutoSaveAction=pe;var he=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,s)||this;return a.textFileService=n,a.untitledEditorService=r,a.commandService=o,a.toDispose=[],a.lastIsDirty=a.textFileService.isDirty(),a.enabled=a.lastIsDirty,a.registerListeners(),a}return i(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.textFileService.models.onModelsDirty(function(t){
return e.updateEnablement(!0)})),this.toDispose.push(this.textFileService.models.onModelsSaved(function(t){return e.updateEnablement(!1)})),this.toDispose.push(this.textFileService.models.onModelsReverted(function(t){return e.updateEnablement(!1)})),this.toDispose.push(this.textFileService.models.onModelsSaveError(function(t){return e.updateEnablement(!0)})),this.includeUntitled()&&this.toDispose.push(this.untitledEditorService.onDidChangeDirty(function(t){return e.updateEnablement(e.untitledEditorService.isDirty(t))}))},t.prototype.updateEnablement=function(e){this.lastIsDirty!==e&&(this.enabled=this.textFileService.isDirty(),this.lastIsDirty=this.enabled)},t.prototype.run=function(e){var t=this;return this.doRun(e).then(function(){return!0},function(e){return t.onError(e),null})},t.prototype.dispose=function(){this.toDispose=f.dispose(this.toDispose),e.prototype.dispose.call(this)},t=r([o(2,v.ITextFileService),o(3,b.IUntitledEditorService),o(4,k.ICommandService),o(5,N.INotificationService)],t)}(q)
;t.BaseSaveAllAction=he;var fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"class",{get:function(){return"explorer-action save-all"},enumerable:!0,configurable:!0}),t.prototype.doRun=function(e){return this.commandService.executeCommand(x.SAVE_ALL_COMMAND_ID)},t.prototype.includeUntitled=function(){return!0},t.ID="workbench.action.files.saveAll",t.LABEL=x.SAVE_ALL_LABEL,t}(he);t.SaveAllAction=fe;var ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"class",{get:function(){return"explorer-action save-all"},enumerable:!0,configurable:!0}),t.prototype.doRun=function(e){return this.commandService.executeCommand(x.SAVE_ALL_IN_GROUP_COMMAND_ID,{},e)},t.prototype.includeUntitled=function(){return!0},t.ID="workbench.files.action.saveAllInGroup",t.LABEL=n.localize("saveAllInGroup","Save All in Group"),t}(he);t.SaveAllInGroupAction=ge;var ve=function(e){function t(t,i,n){
var r=e.call(this,t,i,"action-close-all-files")||this;return r.commandService=n,r}return i(t,e),t.prototype.run=function(e){return this.commandService.executeCommand(W.CLOSE_EDITORS_AND_GROUP_COMMAND_ID,{},e)},t.ID="workbench.files.action.closeGroup",t.LABEL=n.localize("closeGroup","Close Group"),t=r([o(2,k.ICommandService)],t)}(h.Action);t.CloseGroupAction=ve;var me=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.viewletService=n,r}return i(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(g.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();t&&(t.setExpanded(!0),t.getViewer().domFocus())})},t.ID="workbench.files.action.focusFilesExplorer",t.LABEL=n.localize("focusFilesExplorer","Focus on Files Explorer"),t=r([o(2,C.IViewletService)],t)}(h.Action);t.FocusFilesExplorer=me;var ye=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.editorService=n,s.notificationService=r,s.commandService=o,s}return i(t,e),t.prototype.run=function(){
var e=y.toResource(this.editorService.activeEditor,{supportSideBySide:!0});return e?this.commandService.executeCommand(x.REVEAL_IN_EXPLORER_COMMAND_ID,e):this.notificationService.info(n.localize("openFileToShow","Open a file first to show it in the explorer")),Promise.resolve(!0)},t.ID="workbench.files.action.showActiveFileInExplorer",t.LABEL=n.localize("showInExplorer","Reveal Active File in Side Bar"),t=r([o(2,B.IEditorService),o(3,N.INotificationService),o(4,k.ICommandService)],t)}(h.Action);t.ShowActiveFileInExplorer=ye;var Se=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.viewletService=n,r}return i(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(g.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();if(t){var i=t.getViewer();if(i){var n=new E.CollapseAction(i,!0,null);n.run(),n.dispose()}}})},t.ID="workbench.files.action.collapseExplorerFolders",t.LABEL=n.localize("collapseExplorerFolders","Collapse Folders in Explorer"),t=r([o(2,C.IViewletService)],t)
}(h.Action);t.CollapseExplorerView=Se;var be=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.viewletService=n,r}return i(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(g.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();t&&t.refresh()})},t.ID="workbench.files.action.refreshFilesExplorer",t.LABEL=n.localize("refreshExplorer","Refresh Explorer"),t=r([o(2,C.IViewletService)],t)}(h.Action);t.RefreshExplorerView=be;var Ee=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.editorService=n,s.windowService=r,s.notificationService=o,s}return i(t,e),t.prototype.run=function(){var e=y.toResource(this.editorService.activeEditor,{supportSideBySide:!0,filter:L.Schemas.file});return e?this.windowService.openWindow([e],{forceNewWindow:!0,forceOpenWorkspaceAsFile:!0}):this.notificationService.info(n.localize("openFileToShowInNewWindow","Open a file first to open in new window")),Promise.resolve(!0)},
t.ID="workbench.action.files.showOpenedFileInNewWindow",t.LABEL=n.localize("openFileInNewWindow","Open Active File in New Window"),t=r([o(2,B.IEditorService),o(3,I.IWindowService),o(4,N.INotificationService)],t)}(h.Action);t.ShowOpenedFileInNewWindow=Ee,t.validateFileName=G,t.getWellFormedFileName=H;var _e=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i)||this;return a.editorService=n,a.instantiationService=r,a.textModelService=o,a.fileService=s,a.enabled=!0,a}return i(t,e),t.prototype.run=function(){var e=this,i=y.toResource(this.editorService.activeEditor,{supportSideBySide:!0});if(i&&(this.fileService.canHandleResource(i)||i.scheme===L.Schemas.untitled)){if(!this.registrationDisposal){var r=this.instantiationService.createInstance(Ce);this.registrationDisposal=this.textModelService.registerTextModelContentProvider(t.SCHEME,r)}var o=u.basename(i),s=n.localize("clipboardComparisonLabel","Clipboard  {0}",o),a=function(){e.registrationDisposal=f.dispose(e.registrationDisposal)}
;return c.always(this.editorService.openEditor({leftResource:i.with({scheme:t.SCHEME}),rightResource:i,label:s}),a)}return Promise.resolve(!0)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.registrationDisposal=f.dispose(this.registrationDisposal)},t.ID="workbench.files.action.compareWithClipboard",t.LABEL=n.localize("compareWithClipboard","Compare Active File with Clipboard"),t.SCHEME="clipboardCompare",t=r([o(2,B.IEditorService),o(3,w.IInstantiationService),o(4,D.ITextModelService),o(5,m.IFileService)],t)}(h.Action);t.CompareWithClipboardAction=_e;var Ce=function(){function e(e,t,i){this.clipboardService=e,this.modeService=t,this.modelService=i}return e.prototype.provideTextContent=function(e){var t=this.modelService.createModel(this.clipboardService.readText(),this.modeService.create("text/plain"),e);return Promise.resolve(t)},e=r([o(0,R.IClipboardService),o(1,A.IModeService),o(2,O.IModelService)],e)}();k.CommandsRegistry.registerCommand({id:t.NEW_FILE_COMMAND_ID,handler:function(e){
return j(e,Z)}}),k.CommandsRegistry.registerCommand({id:t.NEW_FOLDER_COMMAND_ID,handler:function(e){return j(e,ee)}}),t.renameHandler=function(e){var t=e.get(w.IInstantiationService),i=e.get(M.IListService),n=U(i.lastFocusedList,e.get(C.IViewletService));return t.createInstance(Q,i.lastFocusedList,n.stat).run(n)},t.moveFileToTrashHandler=function(e){var t=e.get(w.IInstantiationService),i=e.get(M.IListService),n=U(i.lastFocusedList,e.get(C.IViewletService)),r=n.selection.length>1?n.selection:[n.stat];return t.createInstance(oe,i.lastFocusedList,r,!0).run()},t.deleteFileHandler=function(e){var t=e.get(w.IInstantiationService),i=e.get(M.IListService),n=U(i.lastFocusedList,e.get(C.IViewletService)),r=n.selection.length>1?n.selection:[n.stat];return t.createInstance(oe,i.lastFocusedList,r,!1).run()},t.copyFileHandler=function(e){var t=e.get(w.IInstantiationService),i=e.get(M.IListService),n=U(i.lastFocusedList,e.get(C.IViewletService)),r=n.selection.length>1?n.selection:[n.stat]
;return t.createInstance(ae,i.lastFocusedList,r).run()},t.pasteFileHandler=function(e){var t=e.get(w.IInstantiationService),i=e.get(M.IListService),n=e.get(R.IClipboardService),r=U(i.lastFocusedList,e.get(C.IViewletService));return Promise.all(u.distinctParents(n.readResources(),function(e){return e}).map(function(e){return t.createInstance(ce,i.lastFocusedList,r.stat).run(e)}))}}),define(e[348],t([1,0,2,84,33,14,6,31,4,3,140,58,44,136,116,11,66,142,38,180,80,25,135,28,26,48,5,10]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A){"use strict";function O(){for(;P.length>0;)P.pop().close()}Object.defineProperty(t,"__esModule",{value:!0}),t.CONFLICT_RESOLUTION_CONTEXT="saveConflictResolutionContext",t.CONFLICT_RESOLUTION_SCHEME="conflictResolution";var k=n.localize("userGuide","Use the actions in the editor tool bar to either undo your changes or overwrite the content on disk with your changes."),M=function(e){function c(i,n,r,o,s,a,c){var l=e.call(this)||this;l.notificationService=i,
l.textFileService=n,l.editorService=o,l.instantiationService=a,l.storageService=c,l.messages=new g.ResourceMap,l.conflictResolutionContext=new y.RawContextKey(t.CONFLICT_RESOLUTION_CONTEXT,!1).bindTo(r);var u=l._register(a.createInstance(S.FileOnDiskContentProvider));return l._register(s.registerTextModelContentProvider(t.CONFLICT_RESOLUTION_SCHEME,u)),h.TextFileEditorModel.setSaveErrorHandler(l),l.registerListeners(),l}return i(c,e),c.prototype.registerListeners=function(){var e=this;this._register(this.textFileService.models.onModelSaved(function(t){return e.onFileSavedOrReverted(t.resource)})),this._register(this.textFileService.models.onModelReverted(function(t){return e.onFileSavedOrReverted(t.resource)})),this._register(this.editorService.onDidActiveEditorChange(function(){return e.onActiveEditorChanged()}))},c.prototype.onActiveEditorChanged=function(){var e,i=!1,n=this.editorService.activeEditor
;if(n instanceof v.DiffEditorInput&&n.originalInput instanceof m.ResourceEditorInput&&n.modifiedInput instanceof b.FileEditorInput){var r=n.originalInput.getResource();r&&r.scheme===t.CONFLICT_RESOLUTION_SCHEME&&(i=!0,e=n.modifiedInput.getResource())}this.conflictResolutionContext.set(i),this.activeConflictResolutionResource=e},c.prototype.onFileSavedOrReverted=function(e){var t=this.messages.get(e);t&&(t.close(),this.messages.delete(e))},c.prototype.onSaveError=function(e,t){var i,r=e,o=t.getResource(),c={primary:[],secondary:[]};if(4===r.fileOperationResult)if(this.activeConflictResolutionResource&&this.activeConflictResolutionResource.toString()===t.getResource().toString()){if(this.storageService.getBoolean("learnMoreDirtyWriteError",0))return;i=k,c.primary.push(this.instantiationService.createInstance(L)),c.secondary.push(this.instantiationService.createInstance(F))
}else i=n.localize("staleSaveError","Failed to save '{0}': The content on disk is newer. Please compare your version with the one on disk.",a.basename(o.fsPath)),c.primary.push(this.instantiationService.createInstance(N,t));else{var l=6===r.fileOperationResult,u=l&&r.options&&r.options.overwriteReadonly,d=7===r.fileOperationResult;d||u?c.primary.push(this.instantiationService.createInstance(B,t,u)):l?c.primary.push(this.instantiationService.createInstance(W,t)):c.primary.push(this.instantiationService.createInstance(D.ExecuteCommandAction,_.SAVE_FILE_COMMAND_ID,n.localize("retry","Retry"))),c.primary.push(this.instantiationService.createInstance(D.ExecuteCommandAction,_.SAVE_FILE_AS_COMMAND_ID,_.SAVE_FILE_AS_LABEL)),c.primary.push(this.instantiationService.createInstance(D.ExecuteCommandAction,_.REVERT_FILE_COMMAND_ID,n.localize("discard","Discard"))),
i=l?u?n.localize("readonlySaveErrorAdmin","Failed to save '{0}': File is write protected. Select 'Overwrite as Admin' to retry as administrator.",a.basename(o.fsPath)):n.localize("readonlySaveError","Failed to save '{0}': File is write protected. Select 'Overwrite' to attempt to remove protection.",a.basename(o.fsPath)):d?n.localize("permissionDeniedSaveError","Failed to save '{0}': Insufficient permissions. Select 'Retry as Admin' to retry as administrator.",a.basename(o.fsPath)):n.localize("genericSaveError","Failed to save '{0}': {1}",a.basename(o.fsPath),s.toErrorMessage(e,!1))}var h=this.notificationService.notify({severity:w.Severity.Error,message:i,actions:c});R.once(h.onDidClose)(function(){return p.dispose.apply(void 0,c.primary.concat(c.secondary))}),this.messages.set(t.getResource(),h)},c.prototype.dispose=function(){e.prototype.dispose.call(this),this.messages.clear()},
c=r([o(0,w.INotificationService),o(1,u.ITextFileService),o(2,y.IContextKeyService),o(3,A.IEditorService),o(4,f.ITextModelService),o(5,d.IInstantiationService),o(6,x.IStorageService)],c)}(p.Disposable);t.SaveErrorHandler=M;var P=[],L=function(e){function t(t){var i=e.call(this,"workbench.files.action.resolveConflictLearnMore",n.localize("learnMore","Learn More"))||this;return i.openerService=t,i}return i(t,e),t.prototype.run=function(){return this.openerService.open(l.URI.parse("https://go.microsoft.com/fwlink/?linkid=868264"))},t=r([o(0,I.IOpenerService)],t)}(c.Action),F=function(e){function t(t){var i=e.call(this,"workbench.files.action.resolveConflictLearnMoreDoNotShowAgain",n.localize("dontShowAgain","Don't Show Again"))||this;return i.storageService=t,i}return i(t,e),t.prototype.run=function(e){return this.storageService.store("learnMoreDirtyWriteError",!0,0),e.dispose(),Promise.resolve(void 0)},t=r([o(0,x.IStorageService)],t)}(c.Action),N=function(e){function s(t,i,r,o,s,a){
var c=e.call(this,"workbench.files.action.resolveConflict",n.localize("compareChanges","Compare"))||this;return c.model=t,c.editorService=i,c.notificationService=r,c.instantiationService=o,c.storageService=s,c.environmentService=a,c}return i(s,e),s.prototype.run=function(){var e=this;if(!this.model.isDisposed()){var i=this.model.getResource(),r=a.basename(i.fsPath),o=n.localize("saveConflictDiffLabel","{0} (on disk)  {1} (in {2}) - Resolve save conflict",r,r,this.environmentService.appNameLong);return this.editorService.openEditor({leftResource:l.URI.from({scheme:t.CONFLICT_RESOLUTION_SCHEME,path:i.fsPath}),rightResource:i,label:o,options:{pinned:!0}}).then(function(){if(!e.storageService.getBoolean("learnMoreDirtyWriteError",0)){var t={primary:[],secondary:[]};t.primary.push(e.instantiationService.createInstance(L)),t.secondary.push(e.instantiationService.createInstance(F));var i=e.notificationService.notify({severity:w.Severity.Info,message:k,actions:t});R.once(i.onDidClose)(function(){
return p.dispose.apply(void 0,t.primary.concat(t.secondary))}),P.push(i)}})}return Promise.resolve(!0)},s=r([o(1,A.IEditorService),o(2,w.INotificationService),o(3,d.IInstantiationService),o(4,x.IStorageService),o(5,T.IEnvironmentService)],s)}(c.Action),B=function(e){function t(t,i){var r=e.call(this,"workbench.files.action.saveElevated",i?n.localize("overwriteElevated","Overwrite as Admin..."):n.localize("saveElevated","Retry as Admin..."))||this;return r.model=t,r.triedToMakeWriteable=i,r}return i(t,e),t.prototype.run=function(){return this.model.isDisposed()||this.model.save({writeElevated:!0,overwriteReadonly:this.triedToMakeWriteable}),Promise.resolve(!0)},t}(c.Action),W=function(e){function t(t){var i=e.call(this,"workbench.files.action.overwrite",n.localize("overwrite","Overwrite"))||this;return i.model=t,i}return i(t,e),t.prototype.run=function(){return this.model.isDisposed()||this.model.save({overwriteReadonly:!0}),Promise.resolve(!0)},t}(c.Action);t.acceptLocalChangesCommand=function(e,t){
var i=e.get(A.IEditorService),n=e.get(f.ITextModelService),r=e.get(E.IModelService),o=i.activeControl,s=o.input,a=o.group;n.createModelReference(t).then(function(e){var t=e.object,n=t.createSnapshot();return O(),t.revert().then(function(){return r.updateModel(t.textEditorModel,C.createTextBufferFactoryFromSnapshot(n)),t.save().then(function(){return i.openEditor({resource:t.getResource()},a).then(function(){a.closeEditor(s),s.dispose(),e.dispose()})})})})},t.revertLocalChangesCommand=function(e,t){var i=e.get(A.IEditorService),n=e.get(f.ITextModelService),r=i.activeControl,o=r.input,s=r.group;n.createModelReference(t).then(function(e){var t=e.object;return O(),t.revert().then(function(){return i.openEditor({resource:t.getResource()},s).then(function(){s.closeEditor(o),o.dispose(),e.dispose()})})})}}),define(e[340],t([1,0,2,18,20,8,125,4,225,50,12,43,37,21,9,169,86,27,57]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C=function(e){
function t(t,i,r,o,a,c,l){var u=e.call(this,n({},t,{ariaHeaderLabel:s.localize("explorerSection","Files Explorer Section")}),o,a,l)||this;return u.themeService=i,u.instantiationService=r,u.contextService=c,u.contextService.onDidChangeWorkbenchState(function(){return u.setLabels()}),u}return i(t,e),t.prototype.renderHeader=function(e){var t=document.createElement("div");l.addClass(t,"title"),e.appendChild(t),this.titleElement=document.createElement("span"),this.titleElement.textContent=name,t.appendChild(this.titleElement)},t.prototype.renderBody=function(e){var t=this;l.addClass(e,"explorer-empty-view");var i=document.createElement("div");l.addClass(i,"section"),e.appendChild(i),this.messageElement=document.createElement("p"),i.appendChild(this.messageElement),this.button=new u.Button(i),h.attachButtonStyler(this.button,this.themeService),this.disposables.push(this.button.onDidClick(function(){
var e=3===t.contextService.getWorkbenchState()?p.AddRootFolderAction:c.isMacintosh?p.OpenFileFolderAction:p.OpenFolderAction,i=t.instantiationService.createInstance(e,e.ID,e.LABEL);t.actionRunner.run(i).then(function(){i.dispose()},function(e){i.dispose(),a.onUnexpectedError(e)})})),this.disposables.push(new b.DragAndDropObserver(e,{onDrop:function(i){e.style.backgroundColor=t.themeService.getTheme().getColor(_.SIDE_BAR_BACKGROUND).toString();t.instantiationService.createInstance(b.ResourcesDropHandler,{allowWorkspaceOpen:!0}).handleDrop(i,function(){},function(e){})},onDragEnter:function(i){e.style.backgroundColor=t.themeService.getTheme().getColor(E.listDropBackground).toString()},onDragEnd:function(){e.style.backgroundColor=t.themeService.getTheme().getColor(_.SIDE_BAR_BACKGROUND).toString()},onDragLeave:function(){e.style.backgroundColor=t.themeService.getTheme().getColor(_.SIDE_BAR_BACKGROUND).toString()},onDragOver:function(e){e.dataTransfer.dropEffect="copy"}})),this.setLabels()},
t.prototype.setLabels=function(){3===this.contextService.getWorkbenchState()?(this.messageElement.textContent=s.localize("noWorkspaceHelp","You have not yet added a folder to the workspace."),this.button&&(this.button.label=s.localize("addFolder","Add Folder")),this.titleElement.textContent=t.NAME):(this.messageElement.textContent=s.localize("noFolderHelp","You have not yet opened a folder."),this.button&&(this.button.label=s.localize("openFolder","Open Folder")),this.titleElement.textContent=this.title)},t.prototype.layoutBody=function(e){},t.prototype.setVisible=function(e){return Promise.resolve(null)},t.prototype.focusBody=function(){this.button&&this.button.element.focus()},t.prototype.reveal=function(e,t){return Promise.resolve(null)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.ID="workbench.explorer.emptyView",t.NAME=s.localize("noWorkspace","No Folder Opened"),
t=r([o(1,f.IThemeService),o(2,d.IInstantiationService),o(3,g.IKeybindingService),o(4,v.IContextMenuService),o(5,m.IWorkspaceContextService),o(6,y.IConfigurationService)],t)}(S.ViewletPanel);t.EmptyView=C}),define(e[198],t([1,0,2,39,8,65,6,571,33,24,18,14,190,159,20,152,102,3,31,16,176,572,573,118,49,21,9,11,37,4,76,30,26,50,12,42,122,86,59,99,150,32,22,85,25,10,130]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W,V,z,G,K,H,U,j,q,$,Q){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var Y=function(){function e(e,t,i,n){this.progressService=e,this.notificationService=t,this.fileService=i,this.partService=n}return e.prototype.getId=function(e,t){return t instanceof x.Model?"model":t.root.resource.toString()+":"+t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof x.Model||t instanceof x.ExplorerItem&&(t.isDirectory||t.isRoot)},e.prototype.getChildren=function(e,t){var i=this;if(t instanceof x.Model)return Promise.resolve(t.roots)
;if(t.isDirectoryResolved)return Promise.resolve(t.getChildrenArray());var n=this.fileService.resolveFile(t.resource,{resolveSingleChildDescendants:!0}).then(function(e){var i=x.ExplorerItem.create(e,t.root).getChildrenArray();return i&&i.forEach(function(e){t.addChild(e)}),t.isDirectoryResolved=!0,t.getChildrenArray()},function(e){return t instanceof x.ExplorerItem&&t.isRoot||i.notificationService.error(e),[]});return this.progressService.showWhile(n,this.partService.isCreated()?800:3200),n},e.prototype.getParent=function(e,t){return t?e.getInput()===t?Promise.resolve(null):t instanceof x.ExplorerItem&&t.parent?Promise.resolve(t.parent):Promise.resolve(null):Promise.resolve(null)},e=r([o(0,M.IProgressService),o(1,q.INotificationService),o(2,_.IFileService),o(3,D.IPartService)],e)}();t.FileDataSource=Y;var X=function(){function e(){this.editableStats=new Map}return e.prototype.getEditableData=function(e){return this.editableStats.get(e)},e.prototype.setEditable=function(e,t){t&&this.editableStats.set(e,t)},
e.prototype.clearEditable=function(e){this.editableStats.delete(e)},e}();t.FileViewletState=X;var J=function(e){function t(t){var i=e.call(this)||this;return i.viewletState=t,i}return i(t,e),t.prototype.run=function(t,i){return e.prototype.run.call(this,t,{viewletState:this.viewletState})},t}(f.ActionRunner);t.ActionRunner=J;var Z=function(){function e(e,t,i,n,r,o){var s=this;this.contextViewService=t,this.instantiationService=i,this.themeService=n,this.configurationService=r,this.contextService=o,this.state=e,this.config=this.configurationService.getValue(),this.configListener=this.configurationService.onDidChangeConfiguration(function(e){e.affectsConfiguration("explorer")&&(s.config=s.configurationService.getValue())})}return e.prototype.dispose=function(){this.configListener.dispose()},e.prototype.getHeight=function(t,i){return e.ITEM_HEIGHT},e.prototype.getTemplateId=function(t,i){return e.FILE_TEMPLATE_ID},e.prototype.disposeTemplate=function(e,t,i){i.elementDisposable.dispose(),i.label.dispose()},
e.prototype.renderTemplate=function(e,t,i){return{elementDisposable:b.Disposable.None,label:this.instantiationService.createInstance(S.FileLabel,i,void 0),container:i}},e.prototype.renderElement=function(e,t,i,n){n.elementDisposable.dispose();var r=this.state.getEditableData(t);if(r)n.label.element.style.display="none",this.renderInputBox(n.container,e,t,r),n.elementDisposable=b.Disposable.None;else{n.label.element.style.display="flex";var o=["explorer-item"];n.label.setFile(t.resource,{hidePath:!0,fileKind:t.isRoot?_.FileKind.ROOT_FOLDER:t.isDirectory?_.FileKind.FOLDER:_.FileKind.FILE,extraClasses:o,fileDecorations:this.config.explorer.decorations}),n.elementDisposable=n.label.onDidRender(function(){e.updateWidth(t)})}},e.prototype.renderInputBox=function(e,t,i,r){var o=this,s=this.instantiationService.createInstance(S.FileLabel,e,void 0),l={hidePath:!0,hideLabel:!0,
fileKind:i.isRoot?_.FileKind.ROOT_FOLDER:i.isDirectory||i instanceof x.NewStatPlaceholder&&i.isDirectoryPlaceholder()?_.FileKind.FOLDER:_.FileKind.FILE,extraClasses:["explorer-item","explorer-item-edited"]},h=i.name?p.dirname(i.resource):i.resource,f=i.name||"";s.setFile(p.joinPath(h,f||" "),l);var g=new v.InputBox(s.element,this.contextViewService,{validationOptions:{validation:r.validator},ariaLabel:n.localize("fileInputAriaLabel","Type file name. Press Enter to confirm or Escape to cancel.")}),m=F.attachInputBoxStyler(g,this.themeService);g.onDidChange(function(e){s.setFile(p.joinPath(h,e||" "),l)});var y=f.lastIndexOf(".");g.value=f,g.select({start:0,end:y>0&&!i.isDirectory?y:f.length}),g.focus();var E=u.once(function(i,n){t.clearHighlight(),s.element.style.display="none",i&&g.value&&r.action.run({value:g.value}),setTimeout(function(){n||t.domFocus(),b.dispose(C),e.removeChild(s.element)},0)}),C=[g,a.addStandardDisposableListener(g.inputElement,a.EventType.KEY_DOWN,function(e){
e.equals(3)?g.validate()&&E(!0,!1):e.equals(9)&&E(!1,!1)}),a.addStandardDisposableListener(g.inputElement,a.EventType.KEY_UP,function(e){var t=c.relative(i.root.resource.path,i.parent.resource.path),n="";3===o.contextService.getWorkbenchState()&&(n=d.basename(i.root.resource.path)),o.showInputMessage(g,t,n,r.action.id)}),a.addDisposableListener(g.inputElement,a.EventType.BLUR,function(){E(g.isInputValid(),!0)}),s,m]},e.prototype.showInputMessage=function(e,t,i,r){if(void 0===i&&(i=""),e.validate()){var o=e.value;if(o&&/.[\\/]./.test(o)){var s=c.normalize(c.join(i,t,o)),a=(s=U.rtrim(s,d.nativeSep)).lastIndexOf(d.nativeSep),l=s.substring(a+1),u=s.substring(0,a),p=void 0;switch(r){case"workbench.files.action.createFileFromExplorer":p=n.localize("createFileFromExplorerInfoMessage","Create file **{0}** in **{1}**",l,u);break;case"workbench.files.action.renameFile":p=n.localize("renameFileFromExplorerInfoMessage","Move and rename to **{0}**",s);break;case"workbench.files.action.createFolderFromExplorer":default:
p=n.localize("createFolderFromExplorerInfoMessage","Create folder **{0}** in **{1}**",l,u)}e.showMessage({type:1,content:p,formatContent:!0})}else o&&/^\s|\s$/.test(o)?e.showMessage({content:n.localize("whitespace","Leading or trailing whitespace detected"),formatContent:!0,type:2}):e.hideMessage()}},e.ITEM_HEIGHT=22,e.FILE_TEMPLATE_ID="file",e=r([o(1,O.IContextViewService),o(2,k.IInstantiationService),o(3,N.IThemeService),o(4,R.IConfigurationService),o(5,T.IWorkspaceContextService)],e)}();t.FileRenderer=Z;var ee=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t.name},e}();t.FileAccessibilityProvider=ee;var te=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this,{clickBehavior:1},a)||this;return c.editorService=t,c.contextMenuService=i,c.telemetryService=n,c.menuService=r,c.clipboardService=s,c.fileCopiedContextKey=C.FileCopiedContext.bindTo(o),c.toDispose=[],c}return i(t,e),t.prototype.onLeftClick=function(e,t,i,n){void 0===n&&(n="mouse");var r={origin:n
},o="mouse"===n&&2===i.detail;if(e.getHighlight())return i.preventDefault(),i.stopPropagation(),e.clearHighlight(r),!1;if(t instanceof x.Model)return e.clearFocus(r),e.clearSelection(r),!1;if(i&&i.browserEvent&&"mousedown"===i.browserEvent.type||i.preventDefault(),i.stopPropagation(),e.domFocus(),t instanceof x.NewStatPlaceholder)return!0;if(e.useAltAsMultipleSelectionModifier&&i.altKey||!e.useAltAsMultipleSelectionModifier&&(i.ctrlKey||i.metaKey)){var s=e.getSelection();this.previousSelectionRangeStop=void 0,s.indexOf(t)>=0?e.setSelection(s.filter(function(e){return e!==t})):(e.setSelection(s.concat(t)),e.setFocus(t,r))}else if(i.shiftKey){var a=e.getFocus();a&&(this.previousSelectionRangeStop&&e.deselectRange(t,this.previousSelectionRangeStop),e.selectRange(a,t,r),this.previousSelectionRangeStop=t)}else{(o||this.openOnSingleClick||this.isClickOnTwistie(i))&&(e.toggleExpansion(t,i.altKey),this.previousSelectionRangeStop=void 0);var c=!o;if(e.setFocus(t,r),o&&i.preventDefault(),e.setSelection([t],r),
!t.isDirectory&&(o||this.openOnSingleClick)){var l=!1;i&&(l=e.useAltAsMultipleSelectionModifier?i.ctrlKey||i.metaKey:i.altKey),this.openEditor(t,{preserveFocus:c,sideBySide:l,pinned:o})}}return!0},t.prototype.onMouseMiddleClick=function(e,t,i){var n=!1;return i&&(n=e.useAltAsMultipleSelectionModifier?i.ctrlKey||i.metaKey:i.altKey),t instanceof x.ExplorerItem&&!t.isDirectory&&this.openEditor(t,{preserveFocus:!0,sideBySide:n,pinned:!0}),!0},t.prototype.onContextMenu=function(e,t,i){var n=this;if(i.target&&i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!1;i.preventDefault(),i.stopPropagation(),e.setFocus(t),this.fileCopiedContextKey.set(this.clipboardService.hasResources()),this.contributedContextMenu||(this.contributedContextMenu=this.menuService.createMenu(10,e.contextKeyService),this.toDispose.push(this.contributedContextMenu));var r={x:i.posx,y:i.posy},o=e.getSelection();return this.contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){var e=[]
;return Q.fillInContextMenuActions(n.contributedContextMenu,{arg:t instanceof x.ExplorerItem?t.resource:{},shouldForwardArgs:!0},e,n.contextMenuService),e},onHide:function(t){t&&e.domFocus()},getActionsContext:function(){return o&&o.indexOf(t)>=0?o.map(function(e){return e.resource}):t instanceof x.ExplorerItem?[t.resource]:[]}}),!0},t.prototype.openEditor=function(e,t){e&&!e.isDirectory&&(this.telemetryService.publicLog("workbenchActionExecuted",{id:"workbench.files.openFile",from:"explorer"}),this.editorService.openEditor({resource:e.resource,options:t},t.sideBySide?$.SIDE_GROUP:$.ACTIVE_GROUP))},t.prototype.dispose=function(){this.toDispose=b.dispose(this.toDispose)},t=r([o(0,$.IEditorService),o(1,O.IContextMenuService),o(2,P.ITelemetryService),o(3,L.IMenuService),o(4,A.IContextKeyService),o(5,G.IClipboardService),o(6,R.IConfigurationService)],t)}(z.WorkbenchTreeController);t.FileController=te;var ie=function(){function e(e,t){this.configurationService=e,this.contextService=t,this.toDispose=[],
this.updateSortOrder(),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidChangeConfiguration(function(t){return e.updateSortOrder()}))},e.prototype.updateSortOrder=function(){this.sortOrder=this.configurationService.getValue("explorer.sortOrder")||"default"},e.prototype.compare=function(e,t,i){if(t.isRoot)return i.isRoot?this.contextService.getWorkspaceFolder(t.resource).index-this.contextService.getWorkspaceFolder(i.resource).index:-1;if(i.isRoot)return 1;switch(this.sortOrder){case"type":if(t.isDirectory&&!i.isDirectory)return-1;if(i.isDirectory&&!t.isDirectory)return 1;if(t.isDirectory&&i.isDirectory)return g.compareFileNames(t.name,i.name);break;case"filesFirst":if(t.isDirectory&&!i.isDirectory)return 1;if(i.isDirectory&&!t.isDirectory)return-1;break;case"mixed":break;default:if(t.isDirectory&&!i.isDirectory)return-1;if(i.isDirectory&&!t.isDirectory)return 1}if(t instanceof x.NewStatPlaceholder)return-1
;if(i instanceof x.NewStatPlaceholder)return 1;switch(this.sortOrder){case"type":return g.compareFileExtensions(t.name,i.name);case"modified":return t.mtime!==i.mtime?t.mtime<i.mtime?1:-1:g.compareFileNames(t.name,i.name);default:return g.compareFileNames(t.name,i.name)}},e.prototype.dispose=function(){this.toDispose=b.dispose(this.toDispose)},e=r([o(0,R.IConfigurationService),o(1,T.IWorkspaceContextService)],e)}();t.FileSorter=ie;var ne=function(){function e(e,t){this.contextService=e,this.configurationService=t,this.hiddenExpressionPerRoot=new Map,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.workspaceFolderChangeListener=this.contextService.onDidChangeWorkspaceFolders(function(){return e.updateConfiguration()})},e.prototype.updateConfiguration=function(){var e=this,t=!1;return this.contextService.getWorkspace().folders.forEach(function(i){var n=e.configurationService.getValue({resource:i.uri}),r=n&&n.files&&n.files.exclude||Object.create(null);if(!t){
var o=e.hiddenExpressionPerRoot.get(i.uri.toString());t=!o||!s.equals(o.original,r)}var a=s.deepClone(r);e.hiddenExpressionPerRoot.set(i.uri.toString(),{original:a,parsed:y.parse(a)})}),t},e.prototype.isVisible=function(e,t){return this.doIsVisible(t)},e.prototype.doIsVisible=function(e){if(e instanceof x.NewStatPlaceholder||e.isRoot)return!0;var t=this.hiddenExpressionPerRoot.get(e.root.resource.toString());return!t||!t.parsed(d.normalize(c.relative(e.root.resource.path,e.resource.path),!0),e.name,function(t){return!!e.parent.getChild(t)})},e.prototype.dispose=function(){this.workspaceFolderChangeListener=b.dispose(this.workspaceFolderChangeListener)},e=r([o(0,T.IWorkspaceContextService),o(1,R.IConfigurationService)],e)}();t.FileFilter=ne;var re=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this,function(e){return u.statToResource(e)},s)||this;return u.notificationService=t,u.dialogService=i,u.contextService=n,u.fileService=r,u.configurationService=o,u.textFileService=a,u.windowService=c,
u.workspaceEditingService=l,u.toDispose=[],u.updateDropEnablement(),u.registerListeners(),u}return i(t,e),t.prototype.statToResource=function(e){return e.isDirectory?l.URI.from({scheme:"folder",path:e.resource.path}):e.resource},t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidChangeConfiguration(function(t){return e.updateDropEnablement()}))},t.prototype.updateDropEnablement=function(){this.dropEnabled=this.configurationService.getValue("explorer.enableDragAndDrop")},t.prototype.onDragStart=function(e,t,i){var n=t.getData();if(n&&n.length){n.forEach(function(t){t.isDirectory&&e.isExpanded(t)&&e.collapse(t,!1)}),this.instantiationService.invokeFunction(V.fillResourceDataTransfers,n,i);var r=n.filter(function(e){return!e.isDirectory&&e.resource.scheme===H.Schemas.file}).map(function(e){return e.resource.fsPath});r.length&&i.dataTransfer.setData(V.CodeDataTransfers.FILES,JSON.stringify(r))}},t.prototype.onDragOver=function(e,t,i,n){
if(!this.dropEnabled)return w.DRAG_OVER_REJECT;var r=n&&(n.ctrlKey&&!m.isMacintosh||n.altKey&&m.isMacintosh),o=t instanceof I.DesktopDragAndDropData;if(o){for(var s=n.dataTransfer.types,a=[],c=0;c<s.length;c++)a.push(s[c].toLowerCase());if(-1===a.indexOf(K.DataTransfers.FILES.toLowerCase())&&-1===a.indexOf(V.CodeDataTransfers.FILES.toLowerCase()))return w.DRAG_OVER_REJECT}else{if(t instanceof I.ExternalElementsDragAndDropData)return w.DRAG_OVER_REJECT;var l=t.getData();if(i instanceof x.Model)return l[0].isRoot?w.DRAG_OVER_ACCEPT_BUBBLE_DOWN(!1):w.DRAG_OVER_REJECT;if(!Array.isArray(l))return w.DRAG_OVER_REJECT;if(l.some(function(e){return e instanceof x.NewStatPlaceholder||(!(!(e.isRoot&&i instanceof x.ExplorerItem)||i.isRoot)||(e.resource.toString()===i.resource.toString()||!(e.isRoot&&i instanceof x.ExplorerItem&&i.isRoot)&&(!r&&p.dirname(e.resource).toString()===i.resource.toString()||!!p.isEqualOrParent(i.resource,e.resource,!m.isLinux))))}))return w.DRAG_OVER_REJECT}
return i instanceof x.Model?3===this.contextService.getWorkbenchState()?w.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY(!1):w.DRAG_OVER_REJECT:i.isDirectory?i.isReadonly?w.DRAG_OVER_REJECT:o||r?w.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY(!0):w.DRAG_OVER_ACCEPT_BUBBLE_DOWN(!0):this.contextService.getWorkspace().folders.every(function(e){return e.uri.toString()!==i.resource.toString()})?o||r?w.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY:w.DRAG_OVER_ACCEPT_BUBBLE_UP:w.DRAG_OVER_REJECT},t.prototype.drop=function(e,t,i,n){t instanceof I.DesktopDragAndDropData?this.handleExternalDrop(e,t,i,n):this.handleExplorerDrop(e,t,i,n)},t.prototype.handleExternalDrop=function(e,t,i,r){var o=this,s=V.extractResources(r.browserEvent,!0);return this.fileService.resolveFiles(s).then(function(t){o.windowService.focusWindow();var r=t.filter(function(e){return e.success&&e.stat.isDirectory}).map(function(e){return{uri:e.stat.resource}});if(r.length>0){var a=Promise.resolve({confirmed:!0})
;return 3!==o.contextService.getWorkbenchState()&&(a=o.dialogService.confirm({message:r.length>1?n.localize("dropFolders","Do you want to add the folders to the workspace?"):n.localize("dropFolder","Do you want to add the folder to the workspace?"),type:"question",primaryButton:r.length>1?n.localize("addFolders","&&Add Folders"):n.localize("addFolder","&&Add Folder")})),a.then(function(e){if(e.confirmed)return o.workspaceEditingService.addFolders(r)})}if(i instanceof x.ExplorerItem&&!i.isReadonly){return o.instantiationService.createInstance(C.AddFilesAction,e,i,null).run(s.map(function(e){return e.resource}))}})},t.prototype.handleExplorerDrop=function(e,i,r,o){var s=this,a=p.distinctParents(i.getData(),function(e){return e.resource}),c=o.ctrlKey&&!m.isMacintosh||o.altKey&&m.isMacintosh;return(!c&&this.configurationService.getValue(t.CONFIRM_DND_SETTING_KEY)?this.dialogService.confirm({message:a.length>1&&a.every(function(e){return e.isRoot
})?n.localize("confirmRootsMove","Are you sure you want to change the order of multiple root folders in your workspace?"):a.length>1?j.getConfirmMessage(n.localize("confirmMultiMove","Are you sure you want to move the following {0} files?",a.length),a.map(function(e){return e.resource})):a[0].isRoot?n.localize("confirmRootMove","Are you sure you want to change the order of root folder '{0}' in your workspace?",a[0].name):n.localize("confirmMove","Are you sure you want to move '{0}'?",a[0].name),checkbox:{label:n.localize("doNotAskAgain","Do not ask me again")},type:"question",primaryButton:n.localize({key:"moveButtonLabel",comment:["&& denotes a mnemonic"]},"&&Move")}):Promise.resolve({confirmed:!0})).then(function(i){var n=Promise.resolve(void 0);return i.confirmed&&!0===i.checkboxChecked&&(n=s.configurationService.updateValue(t.CONFIRM_DND_SETTING_KEY,!1,1)),n.then(function(){if(i.confirmed){var t=s.doHandleRootDrop(a.filter(function(e){return e.isRoot}),r);return Promise.all(a.filter(function(e){
return!e.isRoot}).map(function(t){return s.doHandleExplorerDrop(e,t,r,c)}).concat(t)).then(function(){})}return Promise.resolve(void 0)})})},t.prototype.doHandleRootDrop=function(e,t){if(0===e.length)return Promise.resolve(void 0);for(var i,n=this.contextService.getWorkspace().folders,r=[],o=[],s=function(s){var a={uri:n[s].uri};t instanceof x.ExplorerItem&&n[s].uri.toString()===t.resource.toString()&&(i=r.length),e.every(function(e){return e.resource.toString()!==n[s].uri.toString()})?r.push(a):o.push(a)},a=0;a<n.length;a++)s(a);return t instanceof x.Model&&(i=r.length),r.splice.apply(r,[i,0].concat(o)),this.workspaceEditingService.updateFolders(0,r.length,r)},t.prototype.doHandleExplorerDrop=function(e,t,i,r){var o=this;return i instanceof x.ExplorerItem?e.expand(i).then(function(){if(!i.isReadonly){if(r)return o.instantiationService.createInstance(C.DuplicateFileAction,e,t,i).run();var s=p.joinPath(i.resource,t.name);return o.textFileService.move(t.resource,s).then(null,function(e){
if(5===e.fileOperationResult){var i={message:n.localize("confirmOverwriteMessage","'{0}' already exists in the destination folder. Do you want to replace it?",t.name),detail:n.localize("irreversible","This action is irreversible!"),primaryButton:n.localize({key:"replaceButtonLabel",comment:["&& denotes a mnemonic"]},"&&Replace"),type:"warning"};return o.dialogService.confirm(i).then(function(e){if(e.confirmed)return o.textFileService.move(t.resource,s,!0).then(null,function(e){return o.notificationService.error(e)})})}o.notificationService.error(e)})}},h.onUnexpectedError):Promise.resolve(void 0)},t.CONFIRM_DND_SETTING_KEY="explorer.confirmDragAndDrop",t=r([o(0,q.INotificationService),o(1,j.IDialogService),o(2,T.IWorkspaceContextService),o(3,_.IFileService),o(4,R.IConfigurationService),o(5,k.IInstantiationService),o(6,E.ITextFileService),o(7,B.IWindowService),o(8,W.IWorkspaceEditingService)],t)}(V.SimpleFileResourceDragAndDrop);t.FileDragAndDrop=re}),
define(e[327],t([1,0,2,15,6,230,13,33,24,164,66,16,176,198,17,136,8,87,279,118,49,522,21,9,43,4,76,37,11,163,231,20,146,150,32,25,10,55]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W,V,z){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var G=function(e){function t(i,r,o,a,c,l,d,p,h,v,m,y,S,b){var E=e.call(this,n({},i,{ariaHeaderLabel:s.localize("explorerSection","Files Explorer Section")}),v,o,y)||this;return E.notificationService=r,E.instantiationService=a,E.contextService=c,E.progressService=l,E.editorService=d,E.fileService=p,E.partService=h,E.labelService=b,E.id=t.ID,E.viewState=i.viewletState,E.fileViewletState=i.fileViewletState,E.autoReveal=!0,E.explorerRefreshDelayer=new u.ThrottledDelayer(t.EXPLORER_FILE_CHANGES_REFRESH_DELAY),E.resourceContext=a.createInstance(M.ResourceContextKey),E.folderContext=f.ExplorerFolderContext.bindTo(m),E.readonlyContext=f.ExplorerResourceReadonlyContext.bindTo(m),E.rootContext=f.ExplorerRootContext.bindTo(m),
E.fileEventsFilter=a.createInstance(P.ResourceGlobMatcher,function(e){return E.getFileEventsExcludes(e)},function(e){return e.affectsConfiguration(g.FILES_EXCLUDE_CONFIG)}),E.decorationProvider=new I.ExplorerDecorationsProvider(E.model,c),S.registerDecorationsProvider(E.decorationProvider),E.disposables.push(E.decorationProvider),E.disposables.push(E.resourceContext),E}return i(t,e),t.prototype.getFileEventsExcludes=function(e){var t=e?{resource:e}:void 0,i=this.configurationService.getValue(t);return i&&i.files&&i.files.exclude||Object.create(null)},t.prototype.renderHeader=function(t){var i=this;e.prototype.renderHeader.call(this,t),this.dragHandler=new N.DelayedDragHandler(t,function(){return i.setExpanded(!0)});var n=t.querySelector(".title"),r=function(){var e=i.contextService.getWorkspace().folders.map(function(e){return e.name}).join();n.textContent=i.name,n.title=e};this.disposables.push(this.contextService.onDidChangeWorkspaceName(r)),
this.disposables.push(this.labelService.onDidRegisterFormatter(r)),r()},Object.defineProperty(t.prototype,"name",{get:function(){return this.labelService.getWorkspaceLabel(this.contextService.getWorkspace())},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.name},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.render=function(){var i=this;e.prototype.render.call(this);var n=this.configurationService.getValue();this.onConfigurationUpdated(n);var r=[];this.viewState[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]&&(r=this.viewState[t.MEMENTO_EXPANDED_FOLDER_RESOURCES].map(function(e){return c.URI.parse(e)})),this.doRefresh(r).then(function(){i.disposables.push(i.editorService.onDidActiveEditorChange(function(){return i.revealActiveFile()})),i.disposables.push(i.configurationService.onDidChangeConfiguration(function(e){return i.onConfigurationUpdated(i.configurationService.getValue(),e)})),i.revealActiveFile()})},
t.prototype.renderBody=function(e){var t=this;this.treeContainer=b.append(e,b.$(".explorer-folders-view")),this.tree=this.createViewer(this.treeContainer),this.toolbar&&this.toolbar.setActions(this.getActions(),this.getSecondaryActions())(),this.disposables.push(this.contextService.onDidChangeWorkspaceFolders(function(e){return t.refreshFromEvent(e.added)})),this.disposables.push(this.contextService.onDidChangeWorkbenchState(function(e){return t.refreshFromEvent()})),this.disposables.push(this.fileService.onDidChangeFileSystemProviderRegistrations(function(){return t.refreshFromEvent()})),this.disposables.push(this.labelService.onDidRegisterFormatter(function(){t._onDidChangeTitleArea.fire(),t.refreshFromEvent()}))},t.prototype.layoutBody=function(t){this.treeContainer&&(this.treeContainer.style.height=t+"px"),e.prototype.layoutBody.call(this,t)},t.prototype.getActions=function(){var e=[];return e.push(this.instantiationService.createInstance(v.NewFileAction,this.getViewer(),null)),
e.push(this.instantiationService.createInstance(v.NewFolderAction,this.getViewer(),null)),e.push(this.instantiationService.createInstance(v.RefreshViewExplorerAction,this,"explorer-action refresh-explorer")),e.push(this.instantiationService.createInstance(E.CollapseAction,this.getViewer(),!0,"explorer-action collapse-explorer")),e},t.prototype.revealActiveFile=function(){if(this.autoReveal){var e=!0,i=!1,n=this.getActiveFile();if(n&&(this.viewState[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=n.toString(),this.isVisible()&&!this.isDisposed&&this.contextService.isInsideWorkspace(n))){this.hasSingleSelection(n)||this.select(n),e=!1}var r=this.editorService.activeEditor;r&&!y.toResource(r,{supportSideBySide:!0,filter:B.Schemas.untitled})||(this.viewState[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=void 0,i=!0),e&&this.explorerViewer.clearSelection(),i&&this.explorerViewer.clearFocus()}},t.prototype.onConfigurationUpdated=function(e,t){if(!this.isDisposed){this.autoReveal=e&&e.explorer&&e.explorer.autoReveal;var i=!1
;this.filter&&(i=this.filter.updateConfiguration());var n=e&&e.explorer&&e.explorer.sortOrder||"default";this.sortOrder!==n&&(this.sortOrder=n,i=!0),t&&!i&&(i=t.affectsConfiguration("explorer.decorations.colors")||t.affectsConfiguration("explorer.decorations.badges")),t&&i&&this.doRefresh()}},t.prototype.focus=function(){e.prototype.focus.call(this);var t=!1;if(this.explorerViewer){if(this.autoReveal){var i=this.explorerViewer.getSelection();i.length>0&&this.reveal(i[0],.5)}this.explorerViewer.domFocus(),t=!0}this.getActiveFile()||this.openFocusedElement(t)},t.prototype.setVisible=function(i){var n=this;if(e.prototype.setVisible.call(this,i),i){var r=a.TPromise.as(null);if(this.shouldRefresh&&(r=this.doRefresh(),this.shouldRefresh=!1),!this.autoReveal)return;var o=this.getActiveFile();if(o)return void r.then(function(){n.select(o)});if(!this.partService.isCreated())return;var s=void 0;if(this.viewState[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]&&(s=c.URI.parse(this.viewState[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE])),
s&&this.isCreated&&this.model.findClosest(s))return void this.editorService.openEditor({resource:s,options:{revealIfVisible:!0}});r.then(function(){n.openFocusedElement()})}},t.prototype.openFocusedElement=function(e){var t=this.explorerViewer.getFocus();t&&!t.isDirectory&&this.editorService.openEditor({resource:t.resource,options:{preserveFocus:e,revealIfVisible:!0}})},t.prototype.getActiveFile=function(){var e=this.editorService.activeEditor;return e instanceof S.DiffEditorInput?null:y.toResource(e,{supportSideBySide:!0})},Object.defineProperty(t.prototype,"isCreated",{get:function(){return!(!this.explorerViewer||!this.explorerViewer.getInput())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e=this.instantiationService.createInstance(C.Model);return this.disposables.push(e),e},enumerable:!0,configurable:!0}),t.prototype.createViewer=function(e){
var t=this,i=this.instantiationService.createInstance(m.FileDataSource),n=this.instantiationService.createInstance(m.FileRenderer,this.fileViewletState),r=this.instantiationService.createInstance(m.FileController);this.disposables.push(r);var o=this.instantiationService.createInstance(m.FileSorter);this.disposables.push(o),this.filter=this.instantiationService.createInstance(m.FileFilter),this.disposables.push(this.filter);var a=this.instantiationService.createInstance(m.FileDragAndDrop),c=this.instantiationService.createInstance(m.FileAccessibilityProvider);return this.explorerViewer=this.instantiationService.createInstance(_.FileIconThemableWorkbenchTree,e,{dataSource:i,renderer:n,controller:r,sorter:o,filter:this.filter,dnd:a,accessibilityProvider:c},{autoExpandSingleChildren:!0,ariaLabel:s.localize("treeAriaLabel","Files Explorer")}),f.FilesExplorerFocusedContext.bindTo(this.explorerViewer.contextKeyService),f.ExplorerFocusedContext.bindTo(this.explorerViewer.contextKeyService),
this.disposables.push(this.fileService.onAfterOperation(function(e){return t.onFileOperation(e)})),this.disposables.push(this.fileService.onFileChanges(function(e){return t.onFileChanges(e)})),this.disposables.push(this.explorerViewer.onDidChangeFocus(function(e){var i=2===t.contextService.getWorkbenchState(),n=e.focus?e.focus.resource:i?t.contextService.getWorkspace().folders[0].uri:void 0;t.resourceContext.set(n),t.folderContext.set(i&&!e.focus||e.focus&&e.focus.isDirectory),t.readonlyContext.set(e.focus&&e.focus.isReadonly),t.rootContext.set(!e.focus||e.focus&&e.focus.isRoot)})),this.disposables.push(this.explorerViewer.onDidChangeSelection(function(e){if(e&&e.payload&&"keyboard"===e.payload.origin){var i=t.tree.getSelection();Array.isArray(i)&&i[0]instanceof C.ExplorerItem&&(i[0].isDirectory&&t.explorerViewer.toggleExpansion(i[0]),r.openEditor(i[0],{pinned:!1,sideBySide:!1,preserveFocus:!1}))}})),this.explorerViewer},t.prototype.getViewer=function(){return this.tree},
t.prototype.getOptimalWidth=function(){var e=this.explorerViewer.getHTMLElement(),t=[].slice.call(e.querySelectorAll(".explorer-item .label-name"));return b.getLargestChildWidth(e,t)},t.prototype.onFileOperation=function(e){var t=this;if(this.isCreated)if(0===e.operation||3===e.operation){var i=e.target,n=p.dirname(i.resource),r=this.model.findAll(n);r.length&&r.forEach(function(e){(e.isDirectoryResolved?Promise.resolve(null):t.fileService.resolveFile(e.resource)).then(function(n){if(n){var r=C.ExplorerItem.create(n,e.root);C.ExplorerItem.mergeLocalWithDisk(r,e)}var o=C.ExplorerItem.create(i,e.root);e.removeChild(o),e.addChild(o),t.explorerViewer.refresh(e).then(function(){return t.reveal(o,.5).then(function(){t.explorerViewer.setFocus(o)})})})})}else if(2===e.operation){var o=e.resource,s=e.target,a=p.dirname(o),c=p.dirname(s.resource),l=!1,u=this.explorerViewer.getFocus();u&&u.resource&&u.resource.toString()===o.toString()&&(l=!0);var d=!1;if(a&&c&&a.toString()===c.toString()){
(f=this.model.findAll(o)).forEach(function(e){d=t.explorerViewer.isExpanded(e),e.rename(s),t.explorerViewer.refresh(e.parent).then(function(){l&&t.explorerViewer.setFocus(e),d&&t.explorerViewer.expand(e)})})}else if(a&&c){var h=this.model.findAll(c),f=this.model.findAll(o);h.length&&f.length&&f.forEach(function(e,i){var n=e.parent;e.move(h[i],function(e){t.explorerViewer.refresh(n).then(e)},function(){t.explorerViewer.refresh(h[i],!0).then(function(){return t.explorerViewer.expand(h[i])})})})}}else if(1===e.operation){(f=this.model.findAll(e.resource)).forEach(function(e){if(e.parent){var i=e.parent;i.removeChild(e);var n=t.explorerViewer.isDOMFocused();t.explorerViewer.refresh(i).then(function(){n&&t.explorerViewer.domFocus()})}})}},t.prototype.onFileChanges=function(e){var i=this;setTimeout(function(){var n=i.viewState[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE];n&&e.contains(c.URI.parse(n),2)&&(i.viewState[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=null)}),setTimeout(function(){
!i.shouldRefresh&&i.shouldRefreshFromEvent(e)&&i.refreshFromEvent()},t.EXPLORER_FILE_CHANGES_REACT_DELAY)},t.prototype.shouldRefreshFromEvent=function(e){if(!this.isCreated)return!1;var t=(e=this.filterToViewRelevantEvents(e)).getAdded();if(t.length)for(var i={},n=0;n<t.length;n++){var r=t[n],o=p.dirname(r.resource);if(!i[o.toString()]){var s=this.model.findClosest(o);if(s&&s.isDirectoryResolved&&!this.model.findClosest(r.resource))return!0;s&&s.isDirectoryResolved||(i[o.toString()]=!0)}}var a=e.getDeleted();if(a.length)for(u=0;u<a.length;u++){var c=a[u];if(this.model.findClosest(c.resource))return!0}if(this.sortOrder===f.SortOrderConfiguration.MODIFIED)for(var l=e.getUpdated(),u=0;u<l.length;u++){var d=l[u];if(this.model.findClosest(d.resource))return!0}return!1},t.prototype.filterToViewRelevantEvents=function(e){var t=this;return new g.FileChangesEvent(e.changes.filter(function(e){
return(0!==e.type||t.sortOrder===f.SortOrderConfiguration.MODIFIED)&&(!!t.contextService.isInsideWorkspace(e.resource)&&!t.fileEventsFilter.matches(e.resource))}))},t.prototype.refreshFromEvent=function(e){var t=this;void 0===e&&(e=[]),this.isVisible()&&!this.isDisposed?this.explorerRefreshDelayer.trigger(function(){return t.explorerViewer.getHighlight()?Promise.resolve(null):t.doRefresh(e.map(function(e){return e.uri})).then(function(){if(1===e.length)return t.reveal(t.model.findClosest(e[0].uri),.5)})}):this.shouldRefresh=!0},t.prototype.refresh=function(){var e=this;if(!this.explorerViewer||this.explorerViewer.getHighlight())return Promise.resolve(null);this.explorerViewer.domFocus();var t;if(this.autoReveal&&!(t=this.getActiveFile())){var i=this.explorerViewer.getSelection();i&&1===i.length&&(t=i[0].resource)}return this.doRefresh().then(function(){return t?e.select(t,!0):Promise.resolve(null)})},t.prototype.doRefresh=function(e){var t=this;void 0===e&&(e=[]);var i=this.model.roots.map(function(e){return{
root:e,resource:e.resource,options:{resolveTo:[]}}});if(this.isCreated)i.forEach(function(e){t.getResolvedDirectories(e.root,e.options.resolveTo)});else{var n=this.getActiveFile();if(n){var r=this.contextService.getWorkspaceFolder(n);if(r){i.filter(function(e){return e.root.resource.toString()===r.uri.toString()}).pop().options.resolveTo.push(n)}}e.forEach(function(e){var n=t.contextService.getWorkspaceFolder(e);if(n){i.filter(function(e){return e.resource.toString()===n.uri.toString()}).pop().options.resolveTo.push(e)}})}var o=this.resolveRoots(i,e).then(function(e){return t.decorationProvider.changed(i.map(function(e){return e.root.resource})),e});return this.progressService.showWhile(o,this.partService.isCreated()?800:1200),o},t.prototype.resolveRoots=function(e,t){var i=this,n=2===this.contextService.getWorkbenchState()?this.model.roots[0]:this.model;n!==this.explorerViewer.getInput()&&l.mark("willResolveExplorer");var r=function(e,t){return n===i.model.roots[0]&&(n=i.model),C.ExplorerItem.create({
resource:e,name:d.basename(e.fsPath),mtime:0,etag:void 0,isDirectory:!0},t,void 0,!0)},o=function(e,t){return e===i.model&&t.every(function(e){return e&&!e.isRoot})&&(t=i.model.roots.concat(t)),i.explorerViewer.setInput(e).then(function(){return i.explorerViewer.expandAll(t)}).then(function(){return l.mark("didResolveExplorer")})};if(e.every(function(e){return"file"===e.root.resource.scheme}))return this.fileService.resolveFiles(e).then(function(s){s.map(function(t,i){return t.success&&t.stat.isDirectory?C.ExplorerItem.create(t.stat,e[i].root,e[i].options.resolveTo):r(e[i].resource,e[i].root)}).forEach(function(e,t){t<i.model.roots.length&&C.ExplorerItem.mergeLocalWithDisk(e,i.model.roots[t])});var a=i.explorerViewer.getExpandedElements().concat(t.map(function(e){return i.model.findClosest(e)}));return n===i.explorerViewer.getInput()?i.explorerViewer.refresh().then(function(){return i.explorerViewer.expandAll(a)}):o(n,a)});var s,a=[],c=new u.Delayer(100);return Promise.all(e.map(function(e,l){
return i.fileService.resolveFile(e.resource,e.options).then(function(t){return t.isDirectory?C.ExplorerItem.create(t,e.root,e.options.resolveTo):r(e.resource,e.root)},function(){return r(e.resource,e.root)}).then(function(e){l<i.model.roots.length&&C.ExplorerItem.mergeLocalWithDisk(e,i.model.roots[l]);var r=i.explorerViewer.getExpandedElements().concat(t.map(function(e){return i.model.findClosest(e)}));return n===i.explorerViewer.getInput()?(a=a.concat(r),c.isTriggered()||(s=c.trigger(function(){return i.explorerViewer.refresh().then(function(){return i.explorerViewer.expandAll(a)}).then(function(){return a=[]})})),s):o(n,a)})}))},t.prototype.getResolvedDirectories=function(e,t){var i=this;if(e.isDirectoryResolved){if(!e.isRoot){for(var n=t.length-1;n>=0;n--){var r=t[n];p.isEqualOrParent(e.resource,r,!L.isLinux)&&t.splice(n)}t.push(e.resource)}e.getChildrenArray().forEach(function(e){i.getResolvedDirectories(e,t)})}},t.prototype.select=function(e,t){var i=this;if(void 0===t&&(t=this.autoReveal),
!e)return Promise.resolve(null);var n=this.hasSingleSelection(e);if(n)return t?this.reveal(n,.5):Promise.resolve(null);if(!this.isCreated)return Promise.resolve(null);var r=this.model.findClosest(e);if(r)return this.doSelect(r,t);var o={resolveTo:[e]},s=this.contextService.getWorkspaceFolder(e),a=s?s.uri:this.model.roots[0].resource;return this.fileService.resolveFile(a,o).then(function(n){var r=i.model.roots.filter(function(e){return e.resource.toString()===a.toString()}).pop(),s=C.ExplorerItem.create(n,r,o.resolveTo);return C.ExplorerItem.mergeLocalWithDisk(s,r),i.explorerViewer.refresh(r).then(function(){return i.doSelect(r.find(e),t)})},function(e){i.notificationService.error(e)})},t.prototype.hasSingleSelection=function(e){var t=this.explorerViewer.getSelection();return 1===t.length&&t[0].resource.toString()===e.toString()?t[0]:void 0},t.prototype.doSelect=function(e,t){var i=this;if(!e)return Promise.resolve(null);if(!this.filter.isVisible(this.tree,e)&&!(e=e.parent))return Promise.resolve(null)
;return(t?this.reveal(e,.5):Promise.resolve(null)).then(function(){e.isDirectory||i.explorerViewer.setSelection([e]),i.explorerViewer.setFocus(e)})},t.prototype.reveal=function(e,t){return this.tree?this.tree.reveal(e,t):Promise.resolve(null)},t.prototype.saveState=function(){if(this.isCreated){var i=this.explorerViewer.getExpandedElements().filter(function(e){return e instanceof C.ExplorerItem}).map(function(e){return e.resource.toString()});i.length?this.viewState[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]=i:delete this.viewState[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]}this.viewState[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]||delete this.viewState[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE],e.prototype.saveState.call(this)},t.prototype.dispose=function(){this.isDisposed=!0,this.dragHandler&&this.dragHandler.dispose(),e.prototype.dispose.call(this)},t.ID="workbench.explorer.fileView",t.EXPLORER_FILE_CHANGES_REACT_DELAY=500,t.EXPLORER_FILE_CHANGES_REFRESH_DELAY=100,
t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE="explorer.memento.lastActiveFileResource",t.MEMENTO_EXPANDED_FOLDER_RESOURCES="explorer.memento.expandedFolderResources",r([h.memoize],t.prototype,"model",null),t=r([o(1,W.INotificationService),o(2,O.IContextMenuService),o(3,R.IInstantiationService),o(4,x.IWorkspaceContextService),o(5,A.IProgressService),o(6,V.IEditorService),o(7,g.IFileService),o(8,w.IPartService),o(9,T.IKeybindingService),o(10,k.IContextKeyService),o(11,D.IConfigurationService),o(12,F.IDecorationsService),o(13,z.ILabelService)],t)}(_.TreeViewsViewletPanel);t.ExplorerView=G}),define(e[318],t([1,0,2,13,14,8,37,4,41,9,43,176,66,31,118,56,188,393,11,50,12,27,59,102,53,30,10,3,130,26,180,163,86,169]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N){"use strict";function B(e){var t={openEditor:F.CodeDataTransfers.EDITORS.toLowerCase(),externalFile:"Files",codeFile:F.CodeDataTransfers.FILES.toLowerCase()}
;return-1!==e.dataTransfer.types.indexOf(t.openEditor)||-1!==e.dataTransfer.types.indexOf(t.externalFile)||-1!==e.dataTransfer.types.indexOf(t.codeFile)}Object.defineProperty(t,"__esModule",{value:!0});var W=l.$,V=function(e){function t(t,i,r,o,c,l,u,d,p,h,f,g,v){var m=e.call(this,n({},t,{ariaHeaderLabel:s.localize({key:"openEditosrSection",comment:["Open is an adjective"]},"Open Editors Section")}),d,r,u)||this;return m.instantiationService=i,m.textFileService=o,m.editorService=c,m.editorGroupService=l,m.untitledEditorService=p,m.contextKeyService=h,m.themeService=f,m.telemetryService=g,m.menuService=v,m.structuralRefreshDelay=0,m.listRefreshScheduler=new a.RunOnceScheduler(function(){var e=m.list.length;m.list.splice(0,m.list.length,m.elements),m.focusActiveEditor(),e!==m.list.length&&m.updateSize(),m.needsRefresh=!1},m.structuralRefreshDelay),m.registerUpdateEvents(),m.disposables.push(m.configurationService.onDidChangeConfiguration(function(e){return m.onConfigurationChange(e)})),
m.disposables.push(m.untitledEditorService.onDidChangeDirty(function(){return m.updateDirtyIndicator()})),m.disposables.push(m.textFileService.models.onModelsDirty(function(){return m.updateDirtyIndicator()})),m.disposables.push(m.textFileService.models.onModelsSaved(function(){return m.updateDirtyIndicator()})),m.disposables.push(m.textFileService.models.onModelsSaveError(function(){return m.updateDirtyIndicator()})),m.disposables.push(m.textFileService.models.onModelsReverted(function(){return m.updateDirtyIndicator()})),m}return i(t,e),t.prototype.registerUpdateEvents=function(){var e=this,t=function(){e.isVisible()&&e.list&&e.isExpanded()?e.listRefreshScheduler.schedule(e.structuralRefreshDelay):e.needsRefresh=!0},i=new Map,n=function(t){i.set(t.id,t.onDidGroupChange(function(i){if(!e.listRefreshScheduler.isScheduled())if(e.isVisible()&&e.list&&e.isExpanded()){var n=e.getIndex(t,i.editor);switch(i.kind){case 1:e.showGroups&&e.list.splice(n,1,[t]);break;case 0:case 5:e.focusActiveEditor();break;case 8:
case 6:case 7:e.list.splice(n,1,[new y.OpenEditor(i.editor,t)]);break;case 2:e.list.splice(n,0,[new y.OpenEditor(i.editor,t)]),setTimeout(function(){return e.updateSize()},e.structuralRefreshDelay);break;case 3:var r=e.getIndex(t,void 0)+i.editorIndex+(e.showGroups?1:0);e.list.splice(r,1),e.updateSize();break;case 4:e.listRefreshScheduler.schedule()}}else e.needsRefresh=!0})),e.disposables.push(i.get(t.id))};this.editorGroupService.groups.forEach(function(e){return n(e)}),this.disposables.push(this.editorGroupService.onDidAddGroup(function(e){n(e),t()})),this.disposables.push(this.editorGroupService.onDidMoveGroup(function(){return t()})),this.disposables.push(this.editorGroupService.onDidRemoveGroup(function(e){O.dispose(i.get(e.id)),t()}))},t.prototype.renderHeaderTitle=function(t){var i=this;e.prototype.renderHeaderTitle.call(this,t,this.title);var n=l.append(t,W(".count"));this.dirtyCountElement=l.append(n,W(".monaco-count-badge")),this.disposables.push(C.attachStylerCallback(this.themeService,{
badgeBackground:I.badgeBackground,badgeForeground:I.badgeForeground,contrastBorder:I.contrastBorder},function(e){var t=e.badgeBackground?e.badgeBackground.toString():null,n=e.badgeForeground?e.badgeForeground.toString():null,r=e.contrastBorder?e.contrastBorder.toString():null;i.dirtyCountElement.style.backgroundColor=t,i.dirtyCountElement.style.color=n,i.dirtyCountElement.style.borderWidth=r?"1px":null,i.dirtyCountElement.style.borderStyle=r?"solid":null,i.dirtyCountElement.style.borderColor=r})),this.updateDirtyIndicator()},t.prototype.renderBody=function(e){var t=this;l.addClass(e,"explorer-open-editors"),l.addClass(e,"show-file-icons");var i=new G;this.list&&this.list.dispose(),this.list=this.instantiationService.createInstance(x.WorkbenchList,e,i,[new K(this.keybindingService,this.instantiationService,this.editorGroupService),new H(function(){var e=t.list.getSelectedElements(),i=t.list.getFocusedElements();return i.length&&e.indexOf(i[0])>=0?e:i
},this.instantiationService,this.keybindingService,this.configurationService,this.editorGroupService)],{identityProvider:function(e){return e instanceof y.OpenEditor?e.getId():e.id.toString()},selectOnMouseDown:!1}),this.disposables.push(this.list),this.contributedContextMenu=this.menuService.createMenu(26,this.list.contextKeyService),this.disposables.push(this.contributedContextMenu),this.updateSize(),v.OpenEditorsFocusedContext.bindTo(this.list.contextKeyService),v.ExplorerFocusedContext.bindTo(this.list.contextKeyService),this.resourceContext=this.instantiationService.createInstance(L.ResourceContextKey),this.disposables.push(this.resourceContext),this.groupFocusedContext=P.OpenEditorsGroupContext.bindTo(this.contextKeyService),this.dirtyEditorFocusedContext=P.DirtyEditorContext.bindTo(this.contextKeyService),this.disposables.push(this.list.onContextMenu(function(e){return t.onListContextMenu(e)})),this.list.onFocusChange(function(e){t.resourceContext.reset(),t.groupFocusedContext.reset(),
t.dirtyEditorFocusedContext.reset();var i=e.elements.length?e.elements[0]:void 0;i instanceof y.OpenEditor?(t.dirtyEditorFocusedContext.set(t.textFileService.isDirty(i.getResource())),t.resourceContext.set(i.getResource())):i&&t.groupFocusedContext.set(!0)}),this.disposables.push(this.list.onMouseMiddleClick(function(e){e&&e.element instanceof y.OpenEditor&&e.element.group.closeEditor(e.element.editor)})),this.disposables.push(this.list.onOpen(function(e){var i=e.browserEvent,n=!1,r=!1,o=!1;i instanceof MouseEvent&&(r=1===i.detail,o=2===i.detail,n=t.list.useAltAsMultipleSelectionModifier?i.ctrlKey||i.metaKey:i.altKey);var s=t.list.getFocusedElements(),a=s.length?s[0]:void 0;a instanceof y.OpenEditor?t.openEditor(a,{preserveFocus:r,pinned:o,sideBySide:n}):t.editorGroupService.activateGroup(a)})),this.listRefreshScheduler.schedule(0)},t.prototype.getActions=function(){
return[this.instantiationService.createInstance(E.ToggleEditorLayoutAction,E.ToggleEditorLayoutAction.ID,E.ToggleEditorLayoutAction.LABEL),this.instantiationService.createInstance(g.SaveAllAction,g.SaveAllAction.ID,g.SaveAllAction.LABEL),this.instantiationService.createInstance(b.CloseAllEditorsAction,b.CloseAllEditorsAction.ID,b.CloseAllEditorsAction.LABEL)]},t.prototype.setExpanded=function(t){e.prototype.setExpanded.call(this,t),this.updateListVisibility(t),t&&this.needsRefresh&&this.listRefreshScheduler.schedule(0)},t.prototype.setVisible=function(t){e.prototype.setVisible.call(this,t),this.updateListVisibility(t&&this.isExpanded()),t&&this.needsRefresh&&this.listRefreshScheduler.schedule(0)},t.prototype.focus=function(){e.prototype.focus.call(this),this.list.domFocus()},t.prototype.getList=function(){return this.list},t.prototype.layoutBody=function(e){this.list&&this.list.layout(e)},t.prototype.updateListVisibility=function(e){
this.list&&(e?l.show(this.list.getHTMLElement()):l.hide(this.list.getHTMLElement()))},Object.defineProperty(t.prototype,"showGroups",{get:function(){return this.editorGroupService.groups.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){var e=this,t=[];return this.editorGroupService.getGroups(2).forEach(function(i){e.showGroups&&t.push(i),t.push.apply(t,i.editors.map(function(e){return new y.OpenEditor(e,i)}))}),t},enumerable:!0,configurable:!0}),t.prototype.getIndex=function(e,t){var i=t?e.getIndexOfEditor(t):0;if(!this.showGroups)return i;for(var n=0,r=this.editorGroupService.getGroups(2);n<r.length;n++){var o=r[n];if(o.id===e.id)return i+(t?1:0);i+=o.count+1}return-1},t.prototype.openEditor=function(e,t){var i=this;if(e){this.telemetryService.publicLog("workbenchActionExecuted",{id:"workbench.files.openFile",from:"openEditors"});var n=t.sideBySide&&t.preserveFocus;n||this.editorGroupService.activateGroup(e.groupId),
this.editorService.openEditor(e.editor,t,t.sideBySide?A.SIDE_GROUP:A.ACTIVE_GROUP).then(function(e){n||i.editorGroupService.activateGroup(e.group)})}},t.prototype.onListContextMenu=function(e){var t=this,i=e.element;this.contextMenuService.showContextMenu({getAnchor:function(){return e.anchor},getActions:function(){var e=[];return k.fillInContextMenuActions(t.contributedContextMenu,{shouldForwardArgs:!0,arg:i instanceof y.OpenEditor?i.editor.getResource():{}},e,t.contextMenuService),e},getActionsContext:function(){return i instanceof y.OpenEditor?{groupId:i.groupId,editorIndex:i.editorIndex}:{groupId:i.id}}})},t.prototype.focusActiveEditor=function(){if(this.list.length&&this.editorGroupService.activeGroup){var e=this.getIndex(this.editorGroupService.activeGroup,this.editorGroupService.activeGroup.activeEditor);this.list.setFocus([e]),this.list.setSelection([e]),this.list.reveal(e)}else this.list.setFocus([]),this.list.setSelection([])},t.prototype.onConfigurationChange=function(e){
e.affectsConfiguration("explorer.openEditors")&&this.updateSize(),e.affectsConfiguration("explorer.decorations")&&this.listRefreshScheduler.schedule()},t.prototype.updateSize=function(){this.minimumBodySize=this.getMinExpandedBodySize(),this.maximumBodySize=this.getMaxExpandedBodySize()},t.prototype.updateDirtyIndicator=function(){var e=1!==this.textFileService.getAutoSaveMode()?this.textFileService.getDirty().length:this.untitledEditorService.getDirty().length;0===e?l.addClass(this.dirtyCountElement,"hidden"):(this.dirtyCountElement.textContent=s.localize("dirtyCounter","{0} unsaved",e),l.removeClass(this.dirtyCountElement,"hidden"))},Object.defineProperty(t.prototype,"elementCount",{get:function(){return this.editorGroupService.groups.map(function(e){return e.count}).reduce(function(e,t){return e+t},this.showGroups?this.editorGroupService.groups.length:0)},enumerable:!0,configurable:!0}),t.prototype.getMaxExpandedBodySize=function(){return this.elementCount*G.ITEM_HEIGHT},
t.prototype.getMinExpandedBodySize=function(){var e=this.configurationService.getValue("explorer.openEditors.visible");return"number"!=typeof e&&(e=t.DEFAULT_VISIBLE_OPEN_EDITORS),this.computeMinExpandedBodySize(e)},t.prototype.computeMinExpandedBodySize=function(e){void 0===e&&(e=t.DEFAULT_VISIBLE_OPEN_EDITORS);return Math.min(Math.max(e,1),this.elementCount)*G.ITEM_HEIGHT},t.prototype.setStructuralRefreshDelay=function(e){this.structuralRefreshDelay=e},t.prototype.getOptimalWidth=function(){var e=this.list.getHTMLElement(),t=[].slice.call(e.querySelectorAll(".open-editor > a"));return l.getLargestChildWidth(e,t)},t.DEFAULT_VISIBLE_OPEN_EDITORS=9,t.ID="workbench.explorer.openEditorsView",t.NAME=s.localize({key:"openEditors",comment:["Open is an adjective"]},"Open Editors"),
t=r([o(1,d.IInstantiationService),o(2,u.IContextMenuService),o(3,m.ITextFileService),o(4,A.IEditorService),o(5,p.IEditorGroupsService),o(6,h.IConfigurationService),o(7,f.IKeybindingService),o(8,S.IUntitledEditorService),o(9,_.IContextKeyService),o(10,w.IThemeService),o(11,R.ITelemetryService),o(12,M.IMenuService)],t)}(N.ViewletPanel);t.OpenEditorsView=V;var z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.run=function(t,i){return e.prototype.run.call(this,t,{groupId:this.editor.groupId,editorIndex:this.editor.editorIndex})},t}(c.ActionRunner),G=function(){function e(){}return e.prototype.getHeight=function(t){return e.ITEM_HEIGHT},e.prototype.getTemplateId=function(e){return e instanceof y.OpenEditor?H.ID:K.ID},e.ITEM_HEIGHT=22,e}(),K=function(){function e(e,t,i){this.keybindingService=e,this.instantiationService=t,this.editorGroupService=i,this.transfer=F.LocalSelectionTransfer.getInstance()}return Object.defineProperty(e.prototype,"templateId",{
get:function(){return e.ID},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this,i=Object.create(null);i.root=l.append(e,W(".editor-group")),i.name=l.append(i.root,W("span.name")),i.actionBar=new T.ActionBar(e);var n=this.instantiationService.createInstance(g.SaveAllInGroupAction,g.SaveAllInGroupAction.ID,g.SaveAllInGroupAction.LABEL),r=this.keybindingService.lookupKeybinding(n.id);i.actionBar.push(n,{icon:!0,label:!1,keybinding:r?r.getLabel():void 0});var o=this.instantiationService.createInstance(g.CloseGroupAction,g.CloseGroupAction.ID,g.CloseGroupAction.LABEL),s=this.keybindingService.lookupKeybinding(o.id);return i.actionBar.push(o,{icon:!0,label:!1,keybinding:s?s.getLabel():void 0}),i.toDispose=[],i.toDispose.push(l.addDisposableListener(e,l.EventType.DRAG_OVER,function(t){B(t)&&l.addClass(e,"focused")})),i.toDispose.push(l.addDisposableListener(e,l.EventType.DRAG_LEAVE,function(){l.removeClass(e,"focused")})),
i.toDispose.push(l.addDisposableListener(e,l.EventType.DROP,function(n){if(l.removeClass(e,"focused"),t.transfer.hasData(y.OpenEditor.prototype))t.transfer.getData(y.OpenEditor.prototype).forEach(function(e){return e.group.moveEditor(e.editor,i.editorGroup,{preserveFocus:!0})}),t.editorGroupService.activateGroup(i.editorGroup);else{t.instantiationService.createInstance(F.ResourcesDropHandler,{allowWorkspaceOpen:!1}).handleDrop(n,function(){return i.editorGroup},function(){return i.editorGroup.focus()})}})),i},e.prototype.renderElement=function(e,t,i){i.editorGroup=e,i.name.textContent=e.label,i.actionBar.context={groupId:e.id}},e.prototype.disposeElement=function(){},e.prototype.disposeTemplate=function(e){e.actionBar.dispose(),O.dispose(e.toDispose)},e.ID="editorgroup",e}(),H=function(){function e(e,t,i,n,r){this.getSelectedElements=e,this.instantiationService=t,this.keybindingService=i,this.configurationService=n,this.editorGroupService=r,this.transfer=F.LocalSelectionTransfer.getInstance()}
return Object.defineProperty(e.prototype,"templateId",{get:function(){return e.ID},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this,i=Object.create(null);i.container=e,i.actionRunner=new z,i.actionBar=new T.ActionBar(e,{actionRunner:i.actionRunner}),e.draggable=!0;var n=this.instantiationService.createInstance(b.CloseEditorAction,b.CloseEditorAction.ID,b.CloseEditorAction.LABEL),r=this.keybindingService.lookupKeybinding(n.id);return i.actionBar.push(n,{icon:!0,label:!1,keybinding:r?r.getLabel():void 0}),i.root=this.instantiationService.createInstance(D.EditorLabel,e,void 0),i.toDispose=[],i.toDispose.push(l.addDisposableListener(e,l.EventType.DRAG_START,function(e){var n=t.getSelectedElements().filter(function(e){return e instanceof y.OpenEditor&&!!e.getResource()}),r=document.createElement("div");e.dataTransfer.effectAllowed="copyMove",r.className="monaco-tree-drag-image",r.textContent=1===n.length?i.openEditor.editor.getName():String(n.length),document.body.appendChild(r),
e.dataTransfer.setDragImage(r,-10,-10),setTimeout(function(){return document.body.removeChild(r)},0),t.transfer.setData(n,y.OpenEditor.prototype),i.openEditor&&i.openEditor.editor&&t.instantiationService.invokeFunction(F.fillResourceDataTransfers,n.map(function(e){return e.getResource()}),e)})),i.toDispose.push(l.addDisposableListener(e,l.EventType.DRAG_OVER,function(t){B(t)&&l.addClass(e,"focused")})),i.toDispose.push(l.addDisposableListener(e,l.EventType.DRAG_LEAVE,function(){l.removeClass(e,"focused")})),i.toDispose.push(l.addDisposableListener(e,l.EventType.DROP,function(n){l.removeClass(e,"focused");var r=i.openEditor.group.getIndexOfEditor(i.openEditor.editor);if(t.transfer.hasData(y.OpenEditor.prototype))t.transfer.getData(y.OpenEditor.prototype).forEach(function(e,t){return e.group.moveEditor(e.editor,i.openEditor.group,{index:r+t,preserveFocus:!0})}),t.editorGroupService.activateGroup(i.openEditor.group);else{t.instantiationService.createInstance(F.ResourcesDropHandler,{allowWorkspaceOpen:!1
}).handleDrop(n,function(){return i.openEditor.group},function(){return i.openEditor.group.focus()},r)}})),i.toDispose.push(l.addDisposableListener(e,l.EventType.DRAG_END,function(){t.transfer.clearData(y.OpenEditor.prototype)})),i},e.prototype.renderElement=function(e,t,i){i.openEditor=e,i.actionRunner.editor=e,e.isDirty()?l.addClass(i.container,"dirty"):l.removeClass(i.container,"dirty"),i.root.setEditor(e.editor,{italic:e.isPreview(),extraClasses:["open-editor"],fileDecorations:this.configurationService.getValue().explorer.decorations})},e.prototype.disposeElement=function(){},e.prototype.disposeTemplate=function(e){e.actionBar.dispose(),e.root.dispose(),e.actionRunner.dispose(),O.dispose(e.toDispose)},e.ID="openeditor",e}()}),define(e[314],t([1,0,2,8,66,279,9,198,327,340,318,28,4,45,21,30,257,11,12,109,37,3,49,275,41,10,69,325]),function(e,t,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var O=function(e){function t(t,i,n){
var r=e.call(this)||this;return r.workspaceContextService=t,r.configurationService=i,r.registerViews(),r.openEditorsVisibleContextKey=c.OpenEditorsVisibleContext.bindTo(n),r.updateOpenEditorsVisibility(),r._register(t.onDidChangeWorkbenchState(function(){return r.registerViews()})),r._register(t.onDidChangeWorkspaceFolders(function(){return r.registerViews()})),r._register(r.configurationService.onDidChangeConfiguration(function(e){return r.onConfigurationUpdated(e)})),r}return i(t,e),t.prototype.registerViews=function(){var e=C.ViewsRegistry.getViews(c.VIEW_CONTAINER),t=[],i=[],n=this.createOpenEditorsViewDescriptor(),r=e.some(function(e){return e.id===n.id}),o=this.createExplorerViewDescriptor(),s=e.some(function(e){return e.id===o.id}),a=this.createEmptyViewDescriptor(),l=e.some(function(e){return e.id===a.id});r||t.push(n),1===this.workspaceContextService.getWorkbenchState()||0===this.workspaceContextService.getWorkspace().folders.length?(s&&i.push(o.id),l||t.push(a)):(l&&i.push(a.id),s||t.push(o)),
t.length&&C.ViewsRegistry.registerViews(t),i.length&&C.ViewsRegistry.deregisterViews(i,c.VIEW_CONTAINER)},t.prototype.createOpenEditorsViewDescriptor=function(){return{id:f.OpenEditorsView.ID,name:f.OpenEditorsView.NAME,container:c.VIEW_CONTAINER,ctor:f.OpenEditorsView,order:0,when:c.OpenEditorsVisibleCondition,canToggleVisibility:!0,focusCommand:{id:"workbench.files.action.focusOpenEditorsView",keybindings:{primary:A.KeyChord(2089,35)}}}},t.prototype.createEmptyViewDescriptor=function(){return{id:h.EmptyView.ID,name:h.EmptyView.NAME,container:c.VIEW_CONTAINER,ctor:h.EmptyView,order:1,canToggleVisibility:!1}},t.prototype.createExplorerViewDescriptor=function(){return{id:p.ExplorerView.ID,name:s.localize("folders","Folders"),container:c.VIEW_CONTAINER,ctor:p.ExplorerView,order:1,canToggleVisibility:!1}},t.prototype.onConfigurationUpdated=function(e){e.affectsConfiguration("explorer.openEditors.visible")&&this.updateOpenEditorsVisibility()},t.prototype.updateOpenEditorsVisibility=function(){
this.openEditorsVisibleContextKey.set(1===this.workspaceContextService.getWorkbenchState()||0!==this.configurationService.getValue("explorer.openEditors.visible"))},t=r([o(0,y.IWorkspaceContextService),o(1,u.IConfigurationService),o(2,E.IContextKeyService)],t)}(I.Disposable);t.ExplorerViewletViewsContribution=O;var k=function(e){function t(i,n,r,o,s,a,l,u,p,h,f,g){var v=e.call(this,c.VIEWLET_ID,t.EXPLORER_VIEWS_STATE,!0,l,i,n,o,u,h,f,g,r)||this;return v.contextService=r,v.storageService=o,v.editorService=s,v.editorGroupService=a,v.instantiationService=u,v.fileViewletState=new d.FileViewletState,v.viewletVisibleContextKey=c.ExplorerViewletVisibleContext.bindTo(p),v._register(v.contextService.onDidChangeWorkspaceName(function(e){return v.updateTitleArea()})),v}return i(t,e),t.prototype.create=function(t){e.prototype.create.call(this,t),a.addClass(t,"explorer-viewlet")},t.prototype.createView=function(t,i){var r=this;if(t.id===p.ExplorerView.ID){
var o=this.instantiationService.createInstance(D.DelegatingEditorService);o.setEditorOpenHandler(function(e,t,i){var n=r.getOpenEditorsView();if(n){var o=0,s=!!r.configurationService.getValue().workbench.editor.enablePreview,a=r.editorGroupService.activeGroup;s&&e===a&&!a.previewEditor&&(o=250),n.setStructuralRefreshDelay(o)}var c=function(e){var t=r.getOpenEditorsView();return t&&t.setStructuralRefreshDelay(0),e};return r.editorService.openEditor(t,i,e).then(c,c)});return this.instantiationService.createChild(new b.ServiceCollection([R.IEditorService,o])).createInstance(p.ExplorerView,n({},i,{fileViewletState:this.fileViewletState}))}return e.prototype.createView.call(this,t,i)},t.prototype.getExplorerView=function(){return this.getView(p.ExplorerView.ID)},t.prototype.getOpenEditorsView=function(){return this.getView(f.OpenEditorsView.ID)},t.prototype.getEmptyView=function(){return this.getView(h.EmptyView.ID)},t.prototype.setVisible=function(t){this.viewletVisibleContextKey.set(t),
e.prototype.setVisible.call(this,t)},t.prototype.getActionRunner=function(){return this.actionRunner||(this.actionRunner=new d.ActionRunner(this.fileViewletState)),this.actionRunner},t.prototype.getViewletState=function(){return this.fileViewletState},t.prototype.focus=function(){var t=this.getExplorerView();t&&t.isExpanded()?t.focus():e.prototype.focus.call(this)},t.EXPLORER_VIEWS_STATE="workbench.explorer.views.state",t=r([o(0,x.IPartService),o(1,S.ITelemetryService),o(2,y.IWorkspaceContextService),o(3,g.IStorageService),o(4,R.IEditorService),o(5,T.IEditorGroupsService),o(6,u.IConfigurationService),o(7,v.IInstantiationService),o(8,E.IContextKeyService),o(9,_.IThemeService),o(10,w.IContextMenuService),o(11,m.IExtensionService)],t)}(l.ViewContainerViewlet);t.ExplorerViewlet=k}),define(e[308],t([1,0,6,87,2,26,7,75,47,108,17,16,66,473,348,142,544,472,121,51,20,533,314,103,201,10,41,55,33,49]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});var M=function(e){function t(t,i,n,r,o){return e.call(this,t,i,g.VIEWLET_ID,n,r,o)||this}return i(t,e),t.ID=g.VIEWLET_ID,t.LABEL=a.localize("showExplorerViewlet","Show Explorer"),t=r([o(2,_.IViewletService),o(3,R.IEditorGroupsService),o(4,k.IPartService)],t)}(s.ShowViewletAction);t.OpenExplorerViewletAction=M;var P=function(){function e(e){e.registerFormatter("file://",{uri:{label:"${authority}${path}",separator:O.nativeSep,tildify:!C.isWindows,normalizeDriveLetter:C.isWindows,authorityPrefix:O.nativeSep+O.nativeSep},workspace:{suffix:""}})}return e=r([o(0,A.ILabelService)],e)}();l.Registry.as(s.Extensions.Viewlets).registerViewlet(new s.ViewletDescriptor(I.ExplorerViewlet,g.VIEWLET_ID,a.localize("explore","Explorer"),"explore",0)),l.Registry.as(s.Extensions.Viewlets).setDefaultViewletId(g.VIEWLET_ID);l.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(M,M.ID,M.LABEL,{primary:3107
}),"View: Show Explorer",a.localize("view","View")),l.Registry.as(x.Extensions.Editors).registerEditor(new x.EditorDescriptor(S.TextFileEditor,S.TextFileEditor.ID,a.localize("textFileEditor","Text File Editor")),[new E.SyncDescriptor(y.FileEditorInput)]),l.Registry.as(x.Extensions.Editors).registerEditor(new x.EditorDescriptor(b.BinaryFileEditor,b.BinaryFileEditor.ID,a.localize("binaryFileEditor","Binary File Editor")),[new E.SyncDescriptor(y.FileEditorInput),new E.SyncDescriptor(D.DataUriEditorInput)]),l.Registry.as(h.Extensions.EditorInputFactories).registerFileInputFactory({createFileInput:function(e,t,i){return i.createInstance(y.FileEditorInput,e,t)},isFileInput:function(e){return e instanceof y.FileEditorInput}});var L=function(){function e(){}return e.prototype.serialize=function(e){var t=e,i=t.getResource(),n={resource:i.toString(),resourceJSON:i.toJSON(),encoding:t.getEncoding()};return JSON.stringify(n)},e.prototype.deserialize=function(e,t){return e.invokeFunction(function(e){
var i=JSON.parse(t),r=i.resourceJSON?n.URI.revive(i.resourceJSON):n.URI.parse(i.resource),o=i.encoding;return e.get(T.IEditorService).createInput({resource:r,encoding:o,forceFile:!0})})},e}();l.Registry.as(h.Extensions.EditorInputFactories).registerEditorInputFactory(g.FILE_EDITOR_INPUT_ID,L),l.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(I.ExplorerViewletViewsContribution,1),l.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(v.FileEditorTracker,1),l.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(m.SaveErrorHandler,1),l.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(w.DirtyFilesTracker,1),l.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(P,1);var F=l.Registry.as(u.Extensions.Configuration);F.registerConfiguration({id:"files",order:9,title:a.localize("filesConfigurationTitle","Files"),type:"object",properties:{"files.exclude":{type:"object",
markdownDescription:a.localize("exclude","Configure glob patterns for excluding files and folders. For example, the files explorer decides which files and folders to show or hide based on this setting. Read more about glob patterns [here](https://code.visualstudio.com/docs/editor/codebasics#_advanced-search-options)."),default:{"**/.git":!0,"**/.svn":!0,"**/.hg":!0,"**/CVS":!0,"**/.DS_Store":!0},scope:3,additionalProperties:{anyOf:[{type:"boolean",description:a.localize("files.exclude.boolean","The glob pattern to match file paths against. Set to true or false to enable or disable the pattern.")},{type:"object",properties:{when:{type:"string",pattern:"\\w*\\$\\(basename\\)\\w*",default:"$(basename).ext",description:a.localize("files.exclude.when","Additional check on the siblings of a matching file. Use $(basename) as variable for the matching file name.")}}}]}},"files.associations":{type:"object",
markdownDescription:a.localize("associations",'Configure file associations to languages (e.g. `"*.extension": "html"`). These have precedence over the default associations of the languages installed.')},"files.encoding":{type:"string",overridable:!0,enum:Object.keys(f.SUPPORTED_ENCODINGS),default:"utf8",description:a.localize("encoding","The default character set encoding to use when reading and writing files. This setting can also be configured per language."),scope:3,enumDescriptions:Object.keys(f.SUPPORTED_ENCODINGS).map(function(e){return f.SUPPORTED_ENCODINGS[e].labelLong})},"files.autoGuessEncoding":{type:"boolean",overridable:!0,default:!1,description:a.localize("autoGuessEncoding","When enabled, the editor will attempt to guess the character set encoding when opening files. This setting can also be configured per language."),scope:3},"files.eol":{type:"string",enum:["\n","\r\n","auto"],
enumDescriptions:[a.localize("eol.LF","LF"),a.localize("eol.CRLF","CRLF"),a.localize("eol.auto","Uses operating system specific end of line character.")],default:"auto",description:a.localize("eol","The default end of line character."),scope:3},"files.enableTrash":{type:"boolean",default:!0,description:a.localize("useTrash","Moves files/folders to the OS trash (recycle bin on Windows) when deleting. Disabling this will delete files/folders permanently.")},"files.trimTrailingWhitespace":{type:"boolean",default:!1,description:a.localize("trimTrailingWhitespace","When enabled, will trim trailing whitespace when saving a file."),overridable:!0,scope:3},"files.insertFinalNewline":{type:"boolean",default:!1,description:a.localize("insertFinalNewline","When enabled, insert a final new line at the end of the file when saving it."),overridable:!0,scope:3},"files.trimFinalNewlines":{type:"boolean",default:!1,
description:a.localize("trimFinalNewlines","When enabled, will trim all new lines after the final new line at the end of the file when saving it."),overridable:!0,scope:3},"files.autoSave":{type:"string",enum:[f.AutoSaveConfiguration.OFF,f.AutoSaveConfiguration.AFTER_DELAY,f.AutoSaveConfiguration.ON_FOCUS_CHANGE,f.AutoSaveConfiguration.ON_WINDOW_CHANGE],markdownEnumDescriptions:[a.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"files.autoSave.off"},"A dirty file is never automatically saved."),a.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"files.autoSave.afterDelay"},"A dirty file is automatically saved after the configured `#files.autoSaveDelay#`."),a.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"files.autoSave.onFocusChange"
},"A dirty file is automatically saved when the editor loses focus."),a.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"files.autoSave.onWindowChange"},"A dirty file is automatically saved when the window loses focus.")],default:f.AutoSaveConfiguration.OFF,markdownDescription:a.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"autoSave"},"Controls auto save of dirty files. Read more about autosave [here](https://code.visualstudio.com/docs/editor/codebasics#_save-auto-save).",f.AutoSaveConfiguration.OFF,f.AutoSaveConfiguration.AFTER_DELAY,f.AutoSaveConfiguration.ON_FOCUS_CHANGE,f.AutoSaveConfiguration.ON_WINDOW_CHANGE,f.AutoSaveConfiguration.AFTER_DELAY)},"files.autoSaveDelay":{type:"number",default:1e3,markdownDescription:a.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],
key:"autoSaveDelay"},"Controls the delay in ms after which a dirty file is saved automatically. Only applies when `#files.autoSave#` is set to `{0}`.",f.AutoSaveConfiguration.AFTER_DELAY)},"files.watcherExclude":{type:"object",default:C.isWindows?{"**/.git/objects/**":!0,"**/.git/subtree-cache/**":!0,"**/node_modules/*/**":!0}:{"**/.git/objects/**":!0,"**/.git/subtree-cache/**":!0,"**/node_modules/**":!0},description:a.localize("watcherExclude","Configure glob patterns of file paths to exclude from file watching. Patterns must match on absolute paths (i.e. prefix with ** or the full path to match properly). Changing this setting requires a restart. When you experience Code consuming lots of cpu time on startup, you can exclude large folders to reduce the initial load."),scope:3},"files.hotExit":{type:"string",enum:[f.HotExitConfiguration.OFF,f.HotExitConfiguration.ON_EXIT,f.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE],default:f.HotExitConfiguration.ON_EXIT,
markdownEnumDescriptions:[a.localize("hotExit.off","Disable hot exit."),a.localize("hotExit.onExit","Hot exit will be triggered when the last window is closed on Windows/Linux or when the `workbench.action.quit` command is triggered (command palette, keybinding, menu). All windows with backups will be restored upon next launch."),a.localize("hotExit.onExitAndWindowClose","Hot exit will be triggered when the last window is closed on Windows/Linux or when the `workbench.action.quit` command is triggered (command palette, keybinding, menu), and also for any window with a folder opened regardless of whether it's the last window. All windows without folders opened will be restored upon next launch. To restore folder windows as they were before shutdown set `#window.restoreWindows#` to `all`.")],
description:a.localize("hotExit","Controls whether unsaved files are remembered between sessions, allowing the save prompt when exiting the editor to be skipped.",f.HotExitConfiguration.ON_EXIT,f.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE)},"files.useExperimentalFileWatcher":{type:"boolean",default:!1,description:a.localize("useExperimentalFileWatcher","Use the new experimental file watcher.")},"files.defaultLanguage":{type:"string",description:a.localize("defaultLanguage","The default language mode that is assigned to new files.")},"files.maxMemoryForLargeFilesMB":{type:"number",default:4096,markdownDescription:a.localize("maxMemoryForLargeFilesMB","Controls the memory available to VS Code after restart when trying to open large files. Same effect as specifying `--max-memory=NEWSIZE` on the command line.")}}}),F.registerConfiguration({id:"editor",order:5,title:a.localize("editorConfigurationTitle","Editor"),type:"object",properties:{"editor.formatOnSave":{type:"boolean",default:!0,
description:a.localize("formatOnSave","Format a file on save. A formatter must be available, the file must not be auto-saved, and editor must not be shutting down."),overridable:!0,scope:3},"editor.formatOnSaveTimeout":{type:"number",default:750,description:a.localize("formatOnSaveTimeout","Timeout in milliseconds after which the formatting that is run on file save is cancelled."),overridable:!0,scope:3}}}),F.registerConfiguration({id:"explorer",order:10,title:a.localize("explorerConfigurationTitle","File Explorer"),type:"object",properties:{"explorer.openEditors.visible":{type:"number",description:a.localize({key:"openEditorsVisible",comment:["Open is an adjective"]},"Number of editors shown in the Open Editors pane."),default:9},"explorer.autoReveal":{type:"boolean",description:a.localize("autoReveal","Controls whether the explorer should automatically reveal and select files when opening them."),default:!0},"explorer.enableDragAndDrop":{type:"boolean",
description:a.localize("enableDragAndDrop","Controls whether the explorer should allow to move files and folders via drag and drop."),default:!0},"explorer.confirmDragAndDrop":{type:"boolean",description:a.localize("confirmDragAndDrop","Controls whether the explorer should ask for confirmation to move files and folders via drag and drop."),default:!0},"explorer.confirmDelete":{type:"boolean",description:a.localize("confirmDelete","Controls whether the explorer should ask for confirmation when deleting a file via the trash."),default:!0},"explorer.sortOrder":{type:"string",enum:[g.SortOrderConfiguration.DEFAULT,g.SortOrderConfiguration.MIXED,g.SortOrderConfiguration.FILES_FIRST,g.SortOrderConfiguration.TYPE,g.SortOrderConfiguration.MODIFIED],default:g.SortOrderConfiguration.DEFAULT,
enumDescriptions:[a.localize("sortOrder.default","Files and folders are sorted by their names, in alphabetical order. Folders are displayed before files."),a.localize("sortOrder.mixed","Files and folders are sorted by their names, in alphabetical order. Files are interwoven with folders."),a.localize("sortOrder.filesFirst","Files and folders are sorted by their names, in alphabetical order. Files are displayed before folders."),a.localize("sortOrder.type","Files and folders are sorted by their extensions, in alphabetical order. Folders are displayed before files."),a.localize("sortOrder.modified","Files and folders are sorted by last modified date, in descending order. Folders are displayed before files.")],description:a.localize("sortOrder","Controls sorting order of files and folders in the explorer.")},"explorer.decorations.colors":{type:"boolean",description:a.localize("explorer.decorations.colors","Controls whether file decorations should use colors."),default:!0},"explorer.decorations.badges":{
type:"boolean",description:a.localize("explorer.decorations.badges","Controls whether file decorations should use badges."),default:!0}}}),c.MenuRegistry.appendMenuItem(25,{group:"3_views",command:{id:g.VIEWLET_ID,title:a.localize({key:"miViewExplorer",comment:["&& denotes a mnemonic"]},"&&Explorer")},order:1})}),define(e[298],t([1,0,14,3,6,113,38,36,2,34,61,21,226,60]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openRawDefaultSettings()},t.ID="workbench.action.openRawDefaultSettings",t.LABEL=d.localize("openRawDefaultSettings","Open Raw Default Settings"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenRawDefaultSettingsAction=m;var y=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){
return this.preferencesService.openSettings(!1)},t.ID="workbench.action.openSettings2",t.LABEL=d.localize("openSettings2","Open Settings (UI)"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenSettings2Action=y;var S=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openSettings()},t.ID="workbench.action.openSettings",t.LABEL=d.localize("openSettings","Open Settings"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenSettingsAction=S;var b=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openSettings(!0)},t.ID="workbench.action.openSettingsJson",t.LABEL=d.localize("openSettingsJson","Open Settings (JSON)"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenSettingsJsonAction=b;var E=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}
return i(t,e),t.prototype.run=function(e){return this.preferencesService.openGlobalSettings()},t.ID="workbench.action.openGlobalSettings",t.LABEL=d.localize("openGlobalSettings","Open User Settings"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenGlobalSettingsAction=E;var _=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openGlobalKeybindingSettings(!1)},t.ID="workbench.action.openGlobalKeybindings",t.LABEL=d.localize("openGlobalKeybindings","Open Keyboard Shortcuts"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenGlobalKeybindingsAction=_;var C=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openGlobalKeybindingSettings(!0)},t.ID="workbench.action.openGlobalKeybindingsFile",t.LABEL=d.localize("openGlobalKeybindingsFile","Open Keyboard Shortcuts File"),
t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenGlobalKeybindingsFileAction=C;var w=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openDefaultKeybindingsFile()},t.ID="workbench.action.openDefaultKeybindingsFile",t.LABEL=d.localize("openDefaultKeybindingsFile","Open Default Keyboard Shortcuts File"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenDefaultKeybindingsFileAction=w;var I=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.preferencesService=n,o.workspaceContextService=r,o.disposables=[],o.update(),o.workspaceContextService.onDidChangeWorkbenchState(function(){return o.update()},o,o.disposables),o}return i(t,e),t.prototype.update=function(){this.enabled=1!==this.workspaceContextService.getWorkbenchState()},t.prototype.run=function(e){return this.preferencesService.openWorkspaceSettings()},t.prototype.dispose=function(){
this.disposables=s.dispose(this.disposables),e.prototype.dispose.call(this)},t.ID="workbench.action.openWorkspaceSettings",t.LABEL=d.localize("openWorkspaceSettings","Open Workspace Settings"),t=r([o(2,v.IPreferencesService),o(3,f.IWorkspaceContextService)],t)}(n.Action);t.OpenWorkspaceSettingsAction=I,t.OPEN_FOLDER_SETTINGS_COMMAND="_workbench.action.openFolderSettings",t.OPEN_FOLDER_SETTINGS_LABEL=d.localize("openFolderSettings","Open Folder Settings");var x=function(e){function n(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.workspaceContextService=n,s.preferencesService=r,s.commandService=o,s.disposables=[],s.update(),s.workspaceContextService.onDidChangeWorkbenchState(function(){return s.update()},s,s.disposables),s.workspaceContextService.onDidChangeWorkspaceFolders(function(){return s.update()},s,s.disposables),s}return i(n,e),n.prototype.update=function(){this.enabled=3===this.workspaceContextService.getWorkbenchState()&&this.workspaceContextService.getWorkspace().folders.length>0},
n.prototype.run=function(){var e=this;return this.commandService.executeCommand(g.PICK_WORKSPACE_FOLDER_COMMAND_ID).then(function(t){return t?e.preferencesService.openFolderSettings(t.uri):null})},n.prototype.dispose=function(){this.disposables=s.dispose(this.disposables),e.prototype.dispose.call(this)},n.ID="workbench.action.openFolderSettings",n.LABEL=t.OPEN_FOLDER_SETTINGS_LABEL,n=r([o(2,f.IWorkspaceContextService),o(3,v.IPreferencesService),o(4,p.ICommandService)],n)}(n.Action);t.OpenFolderSettingsAction=x;var D=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i)||this;return a.modelService=n,a.modeService=r,a.quickInputService=o,a.preferencesService=s,a}return i(t,e),t.prototype.run=function(){var e=this,t=this.modeService.getRegisteredLanguageNames().sort().map(function(t,i){var n,r=d.localize("languageDescriptionConfigured","({0})",e.modeService.getModeIdForLanguageName(t.toLowerCase())),o=e.modeService.getExtensions(t);if(o&&o.length)n=a.URI.file(o[0]);else{var s=e.modeService.getFilenames(t)
;s&&s.length&&(n=a.URI.file(s[0]))}return{label:t,iconClasses:c.getIconClasses(e.modelService,e.modeService,n),description:r}});return this.quickInputService.pick(t,{placeHolder:d.localize("pickLanguage","Select Language")}).then(function(t){if(t){var i=e.modeService.getModeIdForLanguageName(t.label.toLowerCase());return e.preferencesService.configureSettingsForLanguage(i)}})},t.ID="workbench.action.configureLanguageBasedSettings",t.LABEL=d.localize("configureLanguageBasedSettings","Configure Language Specific Settings..."),t=r([o(2,l.IModelService),o(3,u.IModeService),o(4,h.IQuickInputService),o(5,v.IPreferencesService)],t)}(n.Action);t.ConfigureLanguageBasedSettingsAction=D}),define(e[288],t([1,0,69,6,67,229,2,26,34,11,121,95,4,74,7,103,47,108,17,486,298,474,107,440,227,441,10,60,242,335]),function(e,t,n,r,o,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),p.registerSingleton(C.IPreferencesSearchService,I.PreferencesSearchService),
g.Registry.as(v.Extensions.Editors).registerEditor(new v.EditorDescriptor(_.PreferencesEditor,_.PreferencesEditor.ID,a.localize("defaultPreferencesEditor","Default Preferences Editor")),[new d.SyncDescriptor(R.PreferencesEditorInput)]),g.Registry.as(v.Extensions.Editors).registerEditor(new v.EditorDescriptor(x.SettingsEditor2,x.SettingsEditor2.ID,a.localize("settingsEditor2","Settings Editor 2")),[new d.SyncDescriptor(R.SettingsEditor2Input)]),g.Registry.as(v.Extensions.Editors).registerEditor(new v.EditorDescriptor(b.KeybindingsEditor,b.KeybindingsEditor.ID,a.localize("keybindingsEditor","Keybindings Editor")),[new d.SyncDescriptor(R.KeybindingsEditorInput)]);var A=function(){function e(){}return e.prototype.serialize=function(e){var t=e;if(t.details&&t.master){var i=g.Registry.as(S.Extensions.EditorInputFactories),n=i.getEditorInputFactory(t.details.getTypeId()),r=i.getEditorInputFactory(t.master.getTypeId());if(n&&r){var o=n.serialize(t.details),s=r.serialize(t.master);if(o&&s)return JSON.stringify({
name:t.getName(),description:t.getDescription(),detailsSerialized:o,masterSerialized:s,detailsTypeId:t.details.getTypeId(),masterTypeId:t.master.getTypeId()})}}return null},e.prototype.deserialize=function(e,t){var i=JSON.parse(t),n=g.Registry.as(S.Extensions.EditorInputFactories),r=n.getEditorInputFactory(i.detailsTypeId),o=n.getEditorInputFactory(i.masterTypeId);if(r&&o){var s=r.deserialize(e,i.detailsSerialized),a=o.deserialize(e,i.masterSerialized);if(s&&a)return new R.PreferencesEditorInput(i.name,i.description,s,a)}return null},e}(),O=function(){function e(){}return e.prototype.serialize=function(e){var t=e;return JSON.stringify({name:t.getName(),typeId:t.getTypeId()})},e.prototype.deserialize=function(e,t){return e.createInstance(R.KeybindingsEditorInput)},e}(),k=function(){function e(){}return e.prototype.serialize=function(e){return JSON.stringify({})},e.prototype.deserialize=function(e,t){return e.createInstance(R.SettingsEditor2Input)},e}(),M=function(){function e(){}
return e.prototype.serialize=function(e){var t={resource:e.getResource().toString()};return JSON.stringify(t)},e.prototype.deserialize=function(e,t){var i=JSON.parse(t);return e.createInstance(R.DefaultPreferencesEditorInput,r.URI.parse(i.resource))},e}();g.Registry.as(S.Extensions.EditorInputFactories).registerEditorInputFactory(R.PreferencesEditorInput.ID,A),g.Registry.as(S.Extensions.EditorInputFactories).registerEditorInputFactory(R.DefaultPreferencesEditorInput.ID,M),g.Registry.as(S.Extensions.EditorInputFactories).registerEditorInputFactory(R.KeybindingsEditorInput.ID,O),g.Registry.as(S.Extensions.EditorInputFactories).registerEditorInputFactory(R.SettingsEditor2Input.ID,k);var P=a.localize("preferences","Preferences"),L=g.Registry.as(m.Extensions.WorkbenchActions);L.registerWorkbenchAction(new c.SyncActionDescriptor(E.OpenRawDefaultSettingsAction,E.OpenRawDefaultSettingsAction.ID,E.OpenRawDefaultSettingsAction.LABEL),"Preferences: Open Raw Default Settings",P),
L.registerWorkbenchAction(new c.SyncActionDescriptor(E.OpenSettingsAction,E.OpenSettingsAction.ID,E.OpenSettingsAction.LABEL,{primary:2130}),"Preferences: Open Settings",P),L.registerWorkbenchAction(new c.SyncActionDescriptor(E.OpenSettingsJsonAction,E.OpenSettingsJsonAction.ID,E.OpenSettingsJsonAction.LABEL),"Preferences: Open Settings (JSON)",P),L.registerWorkbenchAction(new c.SyncActionDescriptor(E.OpenSettings2Action,E.OpenSettings2Action.ID,E.OpenSettings2Action.LABEL),"Preferences: Open Settings (UI)",P),L.registerWorkbenchAction(new c.SyncActionDescriptor(E.OpenGlobalSettingsAction,E.OpenGlobalSettingsAction.ID,E.OpenGlobalSettingsAction.LABEL),"Preferences: Open User Settings",P),L.registerWorkbenchAction(new c.SyncActionDescriptor(E.OpenGlobalKeybindingsAction,E.OpenGlobalKeybindingsAction.ID,E.OpenGlobalKeybindingsAction.LABEL,{primary:n.KeyChord(2089,2097)}),"Preferences: Open Keyboard Shortcuts",P),
L.registerWorkbenchAction(new c.SyncActionDescriptor(E.OpenDefaultKeybindingsFileAction,E.OpenDefaultKeybindingsFileAction.ID,E.OpenDefaultKeybindingsFileAction.LABEL),"Preferences: Open Default Keyboard Shortcuts File",P),L.registerWorkbenchAction(new c.SyncActionDescriptor(E.OpenGlobalKeybindingsFileAction,E.OpenGlobalKeybindingsFileAction.ID,E.OpenGlobalKeybindingsFileAction.LABEL,{primary:0}),"Preferences: Open Keyboard Shortcuts File",P),L.registerWorkbenchAction(new c.SyncActionDescriptor(E.ConfigureLanguageBasedSettingsAction,E.ConfigureLanguageBasedSettingsAction.ID,E.ConfigureLanguageBasedSettingsAction.LABEL),"Preferences: Configure Language Specific Settings...",P),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.KEYBINDINGS_EDITOR_COMMAND_DEFINE,weight:200,when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR,C.CONTEXT_KEYBINDING_FOCUS),primary:n.KeyChord(2089,2089),handler:function(e,t){var i=e.get(D.IEditorService).activeControl
;i&&i instanceof b.KeybindingsEditor&&i.defineKeybinding(i.activeKeybindingEntry)}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.KEYBINDINGS_EDITOR_COMMAND_REMOVE,weight:200,when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR,C.CONTEXT_KEYBINDING_FOCUS),primary:20,mac:{primary:n.KeyChord(2089,2049)},handler:function(e,t){var i=e.get(D.IEditorService).activeControl;i&&i instanceof b.KeybindingsEditor&&i.removeKeybinding(i.activeKeybindingEntry)}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.KEYBINDINGS_EDITOR_COMMAND_RESET,weight:200,when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR,C.CONTEXT_KEYBINDING_FOCUS),primary:0,handler:function(e,t){var i=e.get(D.IEditorService).activeControl;i&&i instanceof b.KeybindingsEditor&&i.resetKeybinding(i.activeKeybindingEntry)}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.KEYBINDINGS_EDITOR_COMMAND_SEARCH,weight:200,
when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR,C.CONTEXT_KEYBINDINGS_SEARCH_FOCUS.toNegated()),primary:2084,handler:function(e,t){var i=e.get(D.IEditorService).activeControl;i&&i instanceof b.KeybindingsEditor&&i.focusSearch()}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS,weight:200,when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR,C.CONTEXT_KEYBINDINGS_SEARCH_FOCUS),primary:553,mac:{primary:2601},handler:function(e,t){var i=e.get(D.IEditorService).activeControl;i&&i instanceof b.KeybindingsEditor&&i.recordSearchKeys()}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE,weight:200,when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR),primary:558,mac:{primary:2606},handler:function(e,t){var i=e.get(D.IEditorService).activeControl;i&&i instanceof b.KeybindingsEditor&&i.toggleSortByPrecedence()}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({
id:C.KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR,weight:200,when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR,C.CONTEXT_KEYBINDING_FOCUS),primary:0,handler:function(e,t){var i=e.get(D.IEditorService).activeControl;i&&i.showSimilarKeybindings(i.activeKeybindingEntry)}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.KEYBINDINGS_EDITOR_COMMAND_COPY,weight:200,when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR,C.CONTEXT_KEYBINDING_FOCUS),primary:2081,handler:function(e,t){var i=e.get(D.IEditorService).activeControl;i&&i.copyKeybinding(i.activeKeybindingEntry)}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND,weight:200,when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR,C.CONTEXT_KEYBINDING_FOCUS),primary:0,handler:function(e,t){var i=e.get(D.IEditorService).activeControl;i&&i.copyKeybindingCommand(i.activeKeybindingEntry)}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.KEYBINDINGS_EDITOR_COMMAND_FOCUS_KEYBINDINGS,
weight:200,when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR,C.CONTEXT_KEYBINDINGS_SEARCH_FOCUS),primary:18,handler:function(e,t){var i=e.get(D.IEditorService).activeControl;i&&i.focusKeybindings()}}),g.Registry.as(y.Extensions.Workbench).registerWorkbenchContribution(w.PreferencesContribution,1),l.CommandsRegistry.registerCommand(E.OPEN_FOLDER_SETTINGS_COMMAND,function(e,t){return e.get(T.IPreferencesService).openFolderSettings(t)}),l.CommandsRegistry.registerCommand(E.OpenFolderSettingsAction.ID,function(e){e.get(h.IInstantiationService).createInstance(E.OpenFolderSettingsAction,E.OpenFolderSettingsAction.ID,E.OpenFolderSettingsAction.LABEL).run()}),c.MenuRegistry.appendMenuItem(0,{command:{id:E.OpenFolderSettingsAction.ID,title:{value:P+": "+E.OpenFolderSettingsAction.LABEL,original:"Preferences: Open Folder Settings"}},when:new u.RawContextKey("workbenchState","").isEqualTo("workspace")}),l.CommandsRegistry.registerCommand(E.OpenWorkspaceSettingsAction.ID,function(e){
e.get(h.IInstantiationService).createInstance(E.OpenWorkspaceSettingsAction,E.OpenWorkspaceSettingsAction.ID,E.OpenWorkspaceSettingsAction.LABEL).run()}),c.MenuRegistry.appendMenuItem(0,{command:{id:E.OpenWorkspaceSettingsAction.ID,title:{value:P+": "+E.OpenWorkspaceSettingsAction.LABEL,original:"Preferences: Open Workspace Settings"}},when:new u.RawContextKey("workbenchState","").notEqualsTo("empty")}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS,weight:200,when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR,C.CONTEXT_KEYBINDINGS_SEARCH_FOCUS),primary:9,handler:function(e,t){var i=e.get(D.IEditorService).activeControl;i&&i.clearSearchResults()}}),l.CommandsRegistry.registerCommand(E.OpenGlobalKeybindingsFileAction.ID,function(e){e.get(h.IInstantiationService).createInstance(E.OpenGlobalKeybindingsFileAction,E.OpenGlobalKeybindingsFileAction.ID,E.OpenGlobalKeybindingsFileAction.LABEL).run()}),c.MenuRegistry.appendMenuItem(7,{command:{
id:E.OpenGlobalKeybindingsFileAction.ID,title:E.OpenGlobalKeybindingsFileAction.LABEL,iconLocation:{light:r.URI.parse(e.toUrl("vs/workbench/parts/preferences/electron-browser/media/edit-json.svg")),dark:r.URI.parse(e.toUrl("vs/workbench/parts/preferences/electron-browser/media/edit-json-inverse.svg"))}},when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR),group:"navigation"}),l.CommandsRegistry.registerCommand(C.KEYBINDINGS_EDITOR_SHOW_DEFAULT_KEYBINDINGS,function(e){var t=e.get(D.IEditorService).activeControl;t&&t.search("@source:default")}),c.MenuRegistry.appendMenuItem(7,{command:{id:C.KEYBINDINGS_EDITOR_SHOW_DEFAULT_KEYBINDINGS,title:a.localize("showDefaultKeybindings","Show Default Keybindings")},when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR),group:"1_keyboard_preferences_actions"}),l.CommandsRegistry.registerCommand(C.KEYBINDINGS_EDITOR_SHOW_USER_KEYBINDINGS,function(e){var t=e.get(D.IEditorService).activeControl;t&&t.search("@source:user")}),c.MenuRegistry.appendMenuItem(7,{command:{
id:C.KEYBINDINGS_EDITOR_SHOW_USER_KEYBINDINGS,title:a.localize("showUserKeybindings","Show User Keybindings")},when:u.ContextKeyExpr.and(C.CONTEXT_KEYBINDINGS_EDITOR),group:"1_keyboard_preferences_actions"});var F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getPreferencesEditor=function(e){var t=e.get(D.IEditorService).activeControl;return t instanceof _.PreferencesEditor||t instanceof x.SettingsEditor2?t:null},t}(o.Command);new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i&&i.focusSearch()},t}(F))({id:C.SETTINGS_EDITOR_COMMAND_SEARCH,precondition:u.ContextKeyExpr.and(C.CONTEXT_SETTINGS_EDITOR),kbOpts:{primary:2084,weight:100}}).register();new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i&&i.clearSearchResults()},t}(F))({
id:C.SETTINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS,precondition:C.CONTEXT_SETTINGS_SEARCH_FOCUS,kbOpts:{primary:9,weight:100}}).register();var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i instanceof _.PreferencesEditor?i.focusSettingsFileEditor():i.focusSettings()},t}(F);new N({id:C.SETTINGS_EDITOR_COMMAND_FOCUS_FILE,precondition:u.ContextKeyExpr.and(C.CONTEXT_SETTINGS_SEARCH_FOCUS,s.Context.Visible.toNegated()),kbOpts:{primary:18,weight:100}}).register();new N({id:C.SETTINGS_EDITOR_COMMAND_FOCUS_SETTINGS_FROM_SEARCH,precondition:u.ContextKeyExpr.and(C.CONTEXT_SETTINGS_SEARCH_FOCUS,s.Context.Visible.toNegated()),kbOpts:{primary:18,weight:200}}).register();new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i instanceof _.PreferencesEditor&&i.focusNextResult()},t}(F))({
id:C.SETTINGS_EDITOR_COMMAND_FOCUS_NEXT_SETTING,precondition:C.CONTEXT_SETTINGS_SEARCH_FOCUS,kbOpts:{primary:3,weight:100}}).register();new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i instanceof _.PreferencesEditor&&i.focusPreviousResult()},t}(F))({id:C.SETTINGS_EDITOR_COMMAND_FOCUS_PREVIOUS_SETTING,precondition:C.CONTEXT_SETTINGS_SEARCH_FOCUS,kbOpts:{primary:1027,weight:100}}).register();new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i instanceof _.PreferencesEditor&&i.editFocusedPreference()},t}(F))({id:C.SETTINGS_EDITOR_COMMAND_EDIT_FOCUSED_SETTING,precondition:C.CONTEXT_SETTINGS_SEARCH_FOCUS,kbOpts:{primary:2132,weight:100}}).register();new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){
var i=this.getPreferencesEditor(e);i instanceof x.SettingsEditor2&&i.focusSettings()},t}(F))({id:C.SETTINGS_EDITOR_COMMAND_FOCUS_SETTINGS_LIST,precondition:u.ContextKeyExpr.and(C.CONTEXT_SETTINGS_EDITOR,C.CONTEXT_TOC_ROW_FOCUS),kbOpts:{primary:3,weight:200}}).register();new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i instanceof x.SettingsEditor2&&i.showContextMenu()},t}(F))({id:C.SETTINGS_EDITOR_COMMAND_SHOW_CONTEXT_MENU,precondition:u.ContextKeyExpr.and(C.CONTEXT_SETTINGS_EDITOR),kbOpts:{primary:1091,weight:200}}).register(),l.CommandsRegistry.registerCommand(C.SETTINGS_EDITOR_COMMAND_SWITCH_TO_JSON,function(e){var t=e.get(D.IEditorService).activeControl;return t instanceof x.SettingsEditor2?t.switchToSettingsFile():Promise.resolve(null)}),l.CommandsRegistry.registerCommand(C.SETTINGS_EDITOR_COMMAND_FILTER_MODIFIED,function(e){var t=e.get(D.IEditorService).activeControl
;t instanceof x.SettingsEditor2&&t.focusSearch("@"+C.MODIFIED_SETTING_TAG)}),l.CommandsRegistry.registerCommand(C.SETTINGS_EDITOR_COMMAND_FILTER_ONLINE,function(e){var t=e.get(D.IEditorService).activeControl;t instanceof x.SettingsEditor2&&t.focusSearch("@tag:usesOnlineServices")}),c.MenuRegistry.appendMenuItem(19,{group:"1_settings",command:{id:E.OpenSettingsAction.ID,title:a.localize({key:"miOpenSettings",comment:["&& denotes a mnemonic"]},"&&Settings")},order:1}),c.MenuRegistry.appendMenuItem(19,{group:"2_keybindings",command:{id:E.OpenGlobalKeybindingsAction.ID,title:a.localize({key:"miOpenKeymap",comment:["&& denotes a mnemonic"]},"&&Keyboard Shortcuts")},order:1}),c.MenuRegistry.appendMenuItem(7,{command:{id:C.SETTINGS_EDITOR_COMMAND_SWITCH_TO_JSON,title:a.localize("openSettingsJson","Open Settings (JSON)"),iconLocation:{dark:r.URI.parse(e.toUrl("vs/workbench/parts/preferences/electron-browser/media/edit-json-inverse.svg")),
light:r.URI.parse(e.toUrl("vs/workbench/parts/preferences/electron-browser/media/edit-json.svg"))}},group:"navigation",order:1,when:u.ContextKeyExpr.and(C.CONTEXT_SETTINGS_EDITOR,C.CONTEXT_SETTINGS_JSON_EDITOR.toNegated())}),c.MenuRegistry.appendMenuItem(7,{command:{id:C.SETTINGS_EDITOR_COMMAND_FILTER_MODIFIED,title:a.localize("filterModifiedLabel","Show modified settings")},group:"1_filter",order:1,when:u.ContextKeyExpr.and(C.CONTEXT_SETTINGS_EDITOR,C.CONTEXT_SETTINGS_JSON_EDITOR.toNegated())}),c.MenuRegistry.appendMenuItem(7,{command:{id:C.SETTINGS_EDITOR_COMMAND_FILTER_ONLINE,title:a.localize("filterOnlineServicesLabel","Show settings for online services")},group:"1_filter",order:2,when:u.ContextKeyExpr.and(C.CONTEXT_SETTINGS_EDITOR,C.CONTEXT_SETTINGS_JSON_EDITOR.toNegated())})}),
define(e[540],t([1,0,128,8,72,435,13,18,5,3,33,20,22,63,2,9,11,37,85,16,4,59,25,76,71,28,30,27,12,21,225,86,87,282,151,528,266,167,182,139,138,126,10,41,49,60,56,341]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W,V,z,G,K,H,U,j,q,$,Q){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var Y=s.$,X=function(e){function t(t,i,n,r,o,c,u,p,h,f,g,v,m,y,S,b,E,_,C,w){var I=e.call(this,D.VIEW_ID,g,t,i,_,p)||this;return I.fileService=n,I.editorService=r,I.progressService=o,I.notificationService=c,I.dialogService=u,I.contextViewService=h,I.instantiationService=f,I.contextService=v,I.searchWorkbenchService=m,I.contextKeyService=y,I.replaceService=S,I.untitledEditorService=b,I.preferencesService=E,I.themeService=_,I.searchHistoryService=C,I.editorGroupsService=w,I.actions=[],I.messageDisposables=[],I.addClickEvents=function(e,t){I.messageDisposables.push(s.addDisposableListener(e,s.EventType.CLICK,t)),
I.messageDisposables.push(s.addDisposableListener(e,s.EventType.KEY_DOWN,function(e){var i=new a.StandardKeyboardEvent(e),n=!0;i.equals(10)||i.equals(3)?t(e):n=!1,n&&(i.preventDefault(),i.stopPropagation())}))},I.onOpenSettings=function(e){s.EventHelper.stop(e,!1),I.openSettings(".exclude")},I.onLearnMore=function(e){s.EventHelper.stop(e,!1),window.open("https://go.microsoft.com/fwlink/?linkid=853977")},I.viewletVisible=V.SearchViewVisibleKey.bindTo(y),I.viewletFocused=V.SearchViewFocusedKey.bindTo(y),I.inputBoxFocused=V.InputBoxFocusedKey.bindTo(I.contextKeyService),I.inputPatternIncludesFocused=V.PatternIncludesFocusedKey.bindTo(I.contextKeyService),I.inputPatternExclusionsFocused=V.PatternExcludesFocusedKey.bindTo(I.contextKeyService),I.firstMatchFocused=V.FirstMatchFocusKey.bindTo(y),I.fileMatchOrMatchFocused=V.FileMatchOrMatchFocusKey.bindTo(y),I.fileMatchOrFolderMatchFocus=V.FileMatchOrFolderMatchFocusKey.bindTo(y),I.fileMatchFocused=V.FileFocusKey.bindTo(y),
I.folderMatchFocused=V.FolderFocusKey.bindTo(y),I.matchFocused=V.MatchFocusKey.bindTo(I.contextKeyService),I.hasSearchResultsKey=V.HasSearchResults.bindTo(I.contextKeyService),I.queryBuilder=I.instantiationService.createInstance(z.QueryBuilder),I.viewletState=I.getMemento(1),I._register(I.fileService.onFileChanges(function(e){return I.onFilesChanged(e)})),I._register(I.untitledEditorService.onDidChangeDirty(function(e){return I.onUntitledDidChangeDirty(e)})),I._register(I.contextService.onDidChangeWorkbenchState(function(){return I.onDidChangeWorkbenchState()})),I._register(I.searchHistoryService.onDidClearHistory(function(){return I.clearHistory()})),I.selectCurrentMatchEmitter=I._register(new d.Emitter),I._register(d.debounceEvent(I.selectCurrentMatchEmitter.event,function(e,t){return t},100,!0)(function(){return I.selectCurrentMatch()})),I.delayedRefresh=I._register(new l.Delayer(250)),I}return i(t,e),t.prototype.onDidChangeWorkbenchState=function(){
1!==this.contextService.getWorkbenchState()&&this.searchWithoutFolderMessageElement&&s.hide(this.searchWithoutFolderMessageElement)},t.prototype.create=function(t){var i=this;e.prototype.create.call(this,t),this.viewModel=this._register(this.searchWorkbenchService.searchModel),s.addClass(t,"search-view"),this.searchWidgetsContainerElement=s.append(t,Y(".search-widgets-container")),this.createSearchWidget(this.searchWidgetsContainerElement);var n=this.searchHistoryService.load(),r=this.viewletState["query.filePatterns"]||"",o=this.viewletState["query.folderExclusions"]||"",c=n.exclude||[],l=this.viewletState["query.folderIncludes"]||"",u=n.include||[],d=this.viewletState["query.queryDetailsExpanded"]||"",p="boolean"!=typeof this.viewletState["query.useExcludesAndIgnoreFiles"]||this.viewletState["query.useExcludesAndIgnoreFiles"];this.queryDetails=s.append(this.searchWidgetsContainerElement,Y(".query-details")),this.toggleQueryDetailsButton=s.append(this.queryDetails,Y(".more",{tabindex:0,role:"button",
title:m.localize("moreSearch","Toggle Search Details")})),this._register(s.addDisposableListener(this.toggleQueryDetailsButton,s.EventType.CLICK,function(e){s.EventHelper.stop(e),i.toggleQueryDetails(!i.isScreenReaderOptimized())})),this._register(s.addDisposableListener(this.toggleQueryDetailsButton,s.EventType.KEY_UP,function(e){var t=new a.StandardKeyboardEvent(e);(t.equals(3)||t.equals(10))&&(s.EventHelper.stop(e),i.toggleQueryDetails(!1))})),this._register(s.addDisposableListener(this.toggleQueryDetailsButton,s.EventType.KEY_DOWN,function(e){new a.StandardKeyboardEvent(e).equals(1026)&&(i.searchWidget.isReplaceActive()?i.searchWidget.focusReplaceAllAction():i.searchWidget.focusRegexAction(),s.EventHelper.stop(e))}));var h=s.append(this.queryDetails,Y(".file-types.includes")),f=m.localize("searchScope.includes","files to include");s.append(h,Y("h4",void 0,f)),this.inputPatternIncludes=this._register(this.instantiationService.createInstance(F.PatternInputWidget,h,this.contextViewService,{
ariaLabel:m.localize("label.includes","Search Include Patterns"),history:u})),this.inputPatternIncludes.setValue(l),this.inputPatternIncludes.onSubmit(function(){return i.onQueryChanged(!0)}),this.inputPatternIncludes.onCancel(function(){return i.viewModel.cancelSearch()}),this.trackInputBox(this.inputPatternIncludes.inputFocusTracker,this.inputPatternIncludesFocused);var g=s.append(this.queryDetails,Y(".file-types.excludes")),v=m.localize("searchScope.excludes","files to exclude");s.append(g,Y("h4",void 0,v)),this.inputPatternExcludes=this._register(this.instantiationService.createInstance(F.ExcludePatternInputWidget,g,this.contextViewService,{ariaLabel:m.localize("label.excludes","Search Exclude Patterns"),history:c})),this.inputPatternExcludes.setValue(o),this.inputPatternExcludes.setUseExcludesAndIgnoreFiles(p),this.inputPatternExcludes.onSubmit(function(){return i.onQueryChanged(!0)}),this.inputPatternExcludes.onCancel(function(){return i.viewModel.cancelSearch()}),
this.trackInputBox(this.inputPatternExcludes.inputFocusTracker,this.inputPatternExclusionsFocused),this.messagesElement=s.append(t,Y(".messages")),1===this.contextService.getWorkbenchState()&&this.showSearchWithoutFolderMessage(),this.createSearchResultsView(t),this.actions=[this.instantiationService.createInstance(N.RefreshAction,N.RefreshAction.ID,N.RefreshAction.LABEL),this.instantiationService.createInstance(N.CollapseDeepestExpandedLevelAction,N.CollapseDeepestExpandedLevelAction.ID,N.CollapseDeepestExpandedLevelAction.LABEL),this.instantiationService.createInstance(N.ClearSearchResultsAction,N.ClearSearchResultsAction.ID,N.ClearSearchResultsAction.LABEL)],""===r&&""===o&&""===l&&""===d&&p||this.toggleQueryDetails(!0,!0,!0),this._register(this.viewModel.searchResult.onChange(function(e){return i.onSearchResultsChanged(e)})),this._register(this.onDidFocus(function(){return i.viewletFocused.set(!0)})),this._register(this.onDidBlur(function(){return i.viewletFocused.set(!1)}))},
Object.defineProperty(t.prototype,"searchAndReplaceWidget",{get:function(){return this.searchWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchIncludePattern",{get:function(){return this.inputPatternIncludes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchExcludePattern",{get:function(){return this.inputPatternExcludes},enumerable:!0,configurable:!0}),t.prototype.updateActions=function(){for(var e=0,t=this.actions;e<t.length;e++){t[e].update()}},t.prototype.isScreenReaderOptimized=function(){var e=2===n.getAccessibilitySupport(),t=this.configurationService.getValue("editor").accessibilitySupport;return"on"===t||"auto"===t&&e},t.prototype.createSearchWidget=function(e){
var t=this,i=this.viewletState["query.contentPattern"]||"",n=!0===this.viewletState["query.regex"],r=!0===this.viewletState["query.wholeWords"],o=!0===this.viewletState["query.caseSensitive"],s=this.searchHistoryService.load(),a=s.search||this.viewletState["query.searchHistory"]||[],c=s.replace||this.viewletState["query.replaceHistory"]||[],l="boolean"!=typeof this.viewletState["view.showReplace"]||this.viewletState["view.showReplace"];this.searchWidget=this._register(this.instantiationService.createInstance(W.SearchWidget,e,{value:i,isRegex:n,isCaseSensitive:o,isWholeWords:r,searchHistory:a,replaceHistory:c})),l&&this.searchWidget.toggleReplace(!0),this._register(this.searchWidget.onSearchSubmit(function(){return t.onQueryChanged()})),this._register(this.searchWidget.onSearchCancel(function(){return t.cancelSearch()})),this._register(this.searchWidget.searchInput.onDidOptionChange(function(){return t.onQueryChanged(!0)})),this._register(this.searchWidget.onReplaceToggled(function(){
return t.onReplaceToggled()})),this._register(this.searchWidget.onReplaceStateChange(function(e){t.viewModel.replaceActive=e,t.tree.refresh()})),this._register(this.searchWidget.onReplaceValueChanged(function(e){t.viewModel.replaceString=t.searchWidget.getReplaceValue(),t.delayedRefresh.trigger(function(){return t.tree.refresh()})})),this._register(this.searchWidget.onBlur(function(){t.toggleQueryDetailsButton.focus()})),this._register(this.searchWidget.onReplaceAll(function(){return t.replaceAll()})),this.trackInputBox(this.searchWidget.searchInputFocusTracker),this.trackInputBox(this.searchWidget.replaceInputFocusTracker)},t.prototype.trackInputBox=function(e,t){var i=this;this._register(e.onDidFocus(function(){i.inputBoxFocused.set(!0),t&&t.set(!0)})),this._register(e.onDidBlur(function(){i.inputBoxFocused.set(i.searchWidget.searchInputHasFocus()||i.searchWidget.replaceInputHasFocus()||i.inputPatternIncludes.inputHasFocus()||i.inputPatternExcludes.inputHasFocus()),t&&t.set(!1)}))},
t.prototype.onReplaceToggled=function(){this.layout(this.size)},t.prototype.onSearchResultsChanged=function(e){return this.isVisible()?this.refreshAndUpdateCount(e):(this.changedWhileHidden=!0,Promise.resolve(null))},t.prototype.refreshAndUpdateCount=function(e){var t=this;return this.refreshTree(e).then(function(){t.searchWidget.setReplaceAllActionState(!t.viewModel.searchResult.isEmpty()),t.updateSearchResultCount(t.viewModel.searchResult.query.userDisabledExcludesAndIgnoreFiles)})},t.prototype.refreshTree=function(e){return!e||e.added||e.removed?this.tree.refresh(this.viewModel.searchResult):1===e.elements.length?this.tree.refresh(e.elements[0]):this.tree.refresh(e.elements)},t.prototype.replaceAll=function(){var e=this;if(0!==this.viewModel.searchResult.count()){var t=this.progressService.show(100),i=this.viewModel.searchResult.count(),n=this.viewModel.searchResult.fileCount(),r=this.searchWidget.getReplaceValue()||"",o=this.buildAfterReplaceAllMessage(i,n,r),a={
title:m.localize("replaceAll.confirmation.title","Replace All"),message:this.buildReplaceAllConfirmationMessage(i,n,r),primaryButton:m.localize("replaceAll.confirm.button","&&Replace"),type:"question"};this.dialogService.confirm(a).then(function(i){i.confirmed&&(e.searchWidget.setReplaceAllActionState(!1),e.viewModel.searchResult.replaceAll(t).then(function(){t.done();var i=e.clearMessage();s.append(i,Y("p",void 0,o))},function(i){t.done(),u.isPromiseCanceledError(i),e.notificationService.error(i)}))})}},t.prototype.buildAfterReplaceAllMessage=function(e,t,i){
return 1===e?1===t?i?m.localize("replaceAll.occurrence.file.message","Replaced {0} occurrence across {1} file with '{2}'.",e,t,i):m.localize("removeAll.occurrence.file.message","Replaced {0} occurrence across {1} file'.",e,t):i?m.localize("replaceAll.occurrence.files.message","Replaced {0} occurrence across {1} files with '{2}'.",e,t,i):m.localize("removeAll.occurrence.files.message","Replaced {0} occurrence across {1} files.",e,t):1===t?i?m.localize("replaceAll.occurrences.file.message","Replaced {0} occurrences across {1} file with '{2}'.",e,t,i):m.localize("removeAll.occurrences.file.message","Replaced {0} occurrences across {1} file'.",e,t):i?m.localize("replaceAll.occurrences.files.message","Replaced {0} occurrences across {1} files with '{2}'.",e,t,i):m.localize("removeAll.occurrences.files.message","Replaced {0} occurrences across {1} files.",e,t)},t.prototype.buildReplaceAllConfirmationMessage=function(e,t,i){
return 1===e?1===t?i?m.localize("removeAll.occurrence.file.confirmation.message","Replace {0} occurrence across {1} file with '{2}'?",e,t,i):m.localize("replaceAll.occurrence.file.confirmation.message","Replace {0} occurrence across {1} file'?",e,t):i?m.localize("removeAll.occurrence.files.confirmation.message","Replace {0} occurrence across {1} files with '{2}'?",e,t,i):m.localize("replaceAll.occurrence.files.confirmation.message","Replace {0} occurrence across {1} files?",e,t):1===t?i?m.localize("removeAll.occurrences.file.confirmation.message","Replace {0} occurrences across {1} file with '{2}'?",e,t,i):m.localize("replaceAll.occurrences.file.confirmation.message","Replace {0} occurrences across {1} file'?",e,t):i?m.localize("removeAll.occurrences.files.confirmation.message","Replace {0} occurrences across {1} files with '{2}'?",e,t,i):m.localize("replaceAll.occurrences.files.confirmation.message","Replace {0} occurrences across {1} files?",e,t)},t.prototype.clearMessage=function(){
return this.searchWithoutFolderMessageElement=void 0,s.clearNode(this.messagesElement),s.show(this.messagesElement),p.dispose(this.messageDisposables),this.messageDisposables=[],s.append(this.messagesElement,Y(".message"))},t.prototype.createSearchResultsView=function(e){var t=this;this.resultsElement=s.append(e,Y(".results.show-file-icons"));var i=this._register(this.instantiationService.createInstance(B.SearchDataSource)),n=this._register(this.instantiationService.createInstance(B.SearchRenderer,this)),r=this.instantiationService.createInstance(P.SimpleFileResourceDragAndDrop,function(e){return e instanceof H.FileMatch?e.resource():void 0});this.tree=this._register(this.instantiationService.createInstance(w.WorkbenchTree,this.resultsElement,{dataSource:i,renderer:n,sorter:new B.SearchSorter,filter:new B.SearchFilter,controller:this.instantiationService.createInstance(B.SearchTreeController),accessibilityProvider:this.instantiationService.createInstance(B.SearchAccessibilityProvider),dnd:r},{
ariaLabel:m.localize("treeAriaLabel","Search Results"),showLoading:!1})),this.tree.setInput(this.viewModel.searchResult);var o=this._register(new w.TreeResourceNavigator(this.tree,{openOnFocus:!0}));this._register(d.debounceEvent(o.openResource,function(e,t){return t},75,!0)(function(e){if(e.element instanceof H.Match){var i=e.element;t.currentSelectedFileMatch&&t.currentSelectedFileMatch.setSelectedMatch(null),t.currentSelectedFileMatch=i.parent(),t.currentSelectedFileMatch.setSelectedMatch(i),e.payload&&e.payload.preventEditorOpen||t.onFocus(i,e.editorOptions.preserveFocus,e.sideBySide,e.editorOptions.pinned)}})),this._register(d.anyEvent(this.tree.onDidFocus,this.tree.onDidChangeFocus)(function(){if(t.tree.isDOMFocused()){var e=t.tree.getFocus();t.firstMatchFocused.set(t.tree.getNavigator().first()===e),t.fileMatchOrMatchFocused.set(!!e),t.fileMatchFocused.set(e instanceof H.FileMatch),t.folderMatchFocused.set(e instanceof H.FolderMatch),t.matchFocused.set(e instanceof H.Match),
t.fileMatchOrFolderMatchFocus.set(e instanceof H.FileMatch||e instanceof H.FolderMatch)}})),this._register(this.tree.onDidBlur(function(e){t.firstMatchFocused.reset(),t.fileMatchOrMatchFocused.reset(),t.fileMatchFocused.reset(),t.folderMatchFocused.reset(),t.matchFocused.reset(),t.fileMatchOrFolderMatchFocus.reset()}))},t.prototype.selectCurrentMatch=function(){var e=this.tree.getFocus();this.tree.setSelection([e],{focusEditor:!0})},t.prototype.selectNextMatch=function(){var e=this.tree.getSelection()[0];e instanceof H.FileMatch&&(this.tree.isExpanded(e)||this.tree.expand(e));var t=this.tree.getNavigator(e,!1),i=t.next();for(i||(i=(t=this.tree.getNavigator(this.tree.getInput(),!0)).first());!(i instanceof H.Match);)this.tree.isExpanded(i)||this.tree.expand(i),i=t.next();if(i){var n={preventEditorOpen:!0};this.tree.setFocus(i,n),this.tree.setSelection([i],n),this.tree.reveal(i),this.selectCurrentMatchEmitter.fire()}},t.prototype.selectPreviousMatch=function(){
var e=this.tree.getSelection()[0],t=this.tree.getNavigator(e,!1),i=t.previous();if(!(i instanceof H.Match)){if(!(i=t.previous())){i=(t=this.tree.getNavigator(this.tree.getInput(),!0)).last(),this.tree.expand(i);for(var n=void 0;n=t.next();)i=n}i instanceof H.Match||(t.next(),this.tree.expand(i),i=t.previous())}if(i){var r={preventEditorOpen:!0};this.tree.setFocus(i,r),this.tree.setSelection([i],r),this.tree.reveal(i),this.selectCurrentMatchEmitter.fire()}},t.prototype.setVisible=function(t){if(this.viewletVisible.set(t),t?(this.changedWhileHidden&&(this.refreshAndUpdateCount(),this.changedWhileHidden=!1),e.prototype.setVisible.call(this,t),this.tree.onVisible()):(this.tree.onHidden(),e.prototype.setVisible.call(this,t)),this.viewModel&&this.viewModel.searchResult.toggleHighlights(t),t&&!this.editorService.activeEditor){var i=this.tree.getFocus();i&&this.onFocus(i,!0)}},t.prototype.moveFocusToResults=function(){this.tree.domFocus()},t.prototype.focus=function(){e.prototype.focus.call(this)
;var t=this.updateTextFromSelection();this.searchWidget.focus(void 0,void 0,t)},t.prototype.updateTextFromSelection=function(e){void 0===e&&(e=!0);var t=!1;if(this.configurationService.getValue("editor").find.seedSearchStringFromSelection){var i=this.getSearchTextFromEditor(e);i&&(this.searchWidget.searchInput.getRegex()&&(i=g.escapeRegExpCharacters(i)),this.searchWidget.searchInput.setValue(i),t=!0)}return t},t.prototype.focusNextInputBox=function(){if(this.searchWidget.searchInputHasFocus())this.searchWidget.isReplaceShown()?this.searchWidget.focus(!0,!0):this.moveFocusFromSearchOrReplace();else{if(!this.searchWidget.replaceInputHasFocus())return this.inputPatternIncludes.inputHasFocus()?(this.inputPatternExcludes.focus(),void this.inputPatternExcludes.select()):void(this.inputPatternExcludes.inputHasFocus()&&this.selectTreeIfNotSelected());this.moveFocusFromSearchOrReplace()}},t.prototype.moveFocusFromSearchOrReplace=function(){
this.showsFileTypes()?this.toggleQueryDetails(!0,this.showsFileTypes()):this.selectTreeIfNotSelected()},t.prototype.focusPreviousInputBox=function(){if(!this.searchWidget.searchInputHasFocus())if(this.searchWidget.replaceInputHasFocus())this.searchWidget.focus(!0);else{if(!this.inputPatternIncludes.inputHasFocus())return this.inputPatternExcludes.inputHasFocus()?(this.inputPatternIncludes.focus(),void this.inputPatternIncludes.select()):void(this.tree.isDOMFocused()&&this.moveFocusFromResults());this.searchWidget.focus(!0,!0)}},t.prototype.moveFocusFromResults=function(){this.showsFileTypes()?this.toggleQueryDetails(!0,!0,!1,!0):this.searchWidget.focus(!0,!0)},t.prototype.reLayout=function(){if(!this.isDisposed){this.size.width>=t.WIDE_VIEW_SIZE?s.addClass(this.getContainer(),t.WIDE_CLASS_NAME):s.removeClass(this.getContainer(),t.WIDE_CLASS_NAME),this.searchWidget.setWidth(this.size.width-28),this.inputPatternExcludes.setWidth(this.size.width-28),this.inputPatternIncludes.setWidth(this.size.width-28)
;var e="none"===this.messagesElement.style.display?0:s.getTotalHeight(this.messagesElement),i=this.size.height-e-s.getTotalHeight(this.searchWidgetsContainerElement);this.resultsElement.style.height=i+"px",this.tree.layout(i)}},t.prototype.layout=function(e){this.size=e,this.reLayout()},t.prototype.getControl=function(){return this.tree},t.prototype.isSearchSubmitted=function(){return this.searchSubmitted},t.prototype.isSearching=function(){return this.searching},t.prototype.hasSearchResults=function(){return!this.viewModel.searchResult.isEmpty()},t.prototype.clearSearchResults=function(){this.viewModel.searchResult.clear(),this.showEmptyStage(),1===this.contextService.getWorkbenchState()&&this.showSearchWithoutFolderMessage(),this.searchWidget.clear(),this.viewModel.cancelSearch()},t.prototype.cancelSearch=function(){return!!this.viewModel.cancelSearch()&&(this.searchWidget.focus(),!0)},t.prototype.selectTreeIfNotSelected=function(){if(this.tree.getInput()){this.tree.domFocus()
;0===this.tree.getSelection().length&&this.tree.focusNext()}},t.prototype.getSearchTextFromEditor=function(e){if(!this.editorService.activeEditor)return null;if(s.isAncestor(document.activeElement,this.getContainer()))return null;var t=this.editorService.activeTextEditorWidget;if(v.isDiffEditor(t)&&(t=t.getOriginalEditor().hasTextFocus()?t.getOriginalEditor():t.getModifiedEditor()),!v.isCodeEditor(t))return null;var i=t.getSelection();if(!i)return null;if(i.isEmpty()&&!this.searchWidget.searchInput.getValue()&&e){var n=t.getModel().getWordAtPosition(i.getStartPosition());if(n)return n.word}if(!i.isEmpty()&&i.startLineNumber===i.endLineNumber){var r=t.getModel().getLineContent(i.startLineNumber);return r=r.substring(i.startColumn-1,i.endColumn-1)}return null},t.prototype.showsFileTypes=function(){return s.hasClass(this.queryDetails,"more")},t.prototype.toggleCaseSensitive=function(){this.searchWidget.searchInput.setCaseSensitive(!this.searchWidget.searchInput.getCaseSensitive()),this.onQueryChanged(!0)},
t.prototype.toggleWholeWords=function(){this.searchWidget.searchInput.setWholeWords(!this.searchWidget.searchInput.getWholeWords()),this.onQueryChanged(!0)},t.prototype.toggleRegex=function(){this.searchWidget.searchInput.setRegex(!this.searchWidget.searchInput.getRegex()),this.onQueryChanged(!0)},t.prototype.toggleQueryDetails=function(e,t,i,n){void 0===e&&(e=!0);t=void 0===t?!s.hasClass(this.queryDetails,"more"):Boolean(t),this.viewletState["query.queryDetailsExpanded"]=t,i=Boolean(i),t?(this.toggleQueryDetailsButton.setAttribute("aria-expanded","true"),s.addClass(this.queryDetails,"more"),e&&(n?(this.inputPatternExcludes.focus(),this.inputPatternExcludes.select()):(this.inputPatternIncludes.focus(),this.inputPatternIncludes.select()))):(this.toggleQueryDetailsButton.setAttribute("aria-expanded","false"),s.removeClass(this.queryDetails,"more"),e&&this.searchWidget.focus()),!i&&this.size&&this.layout(this.size)},t.prototype.searchInFolders=function(e,t){var i=this,n=[],r=this.contextService.getWorkspace()
;if(e&&e.forEach(function(e){var o;if(2===i.contextService.getWorkbenchState())(o=h.normalize(t(r.folders[0].uri.fsPath,e.fsPath)))&&"."!==o&&(o="./"+o);else{var s=i.contextService.getWorkspaceFolder(e);if(s){var a=s.name;if(1===r.folders.filter(function(e){return e.name===a}).length){var c=h.normalize(t(s.uri.fsPath,e.fsPath));o="."===c?"./"+s.name:"./"+s.name+"/"+c}else o=e.fsPath}}o&&n.push(o)}),!n.length||n.some(function(e){return"."===e}))return this.inputPatternIncludes.setValue(""),void this.searchWidget.focus();this.showsFileTypes()||this.toggleQueryDetails(!0,!0),this.inputPatternIncludes.setValue(n.join(", ")),this.searchWidget.focus(!1)},t.prototype.onQueryChanged=function(e){
var i=this,n=this.searchWidget.searchInput.getRegex(),r=this.searchWidget.searchInput.getWholeWords(),o=this.searchWidget.searchInput.getCaseSensitive(),s=this.searchWidget.searchInput.getValue(),a=this.inputPatternExcludes.getValue().trim(),c=this.inputPatternIncludes.getValue().trim(),l=this.inputPatternExcludes.useExcludesAndIgnoreFiles();if(0!==s.length){if(n){var u=void 0;try{u=new RegExp(s)}catch(e){return}if(g.regExpLeadsToEndlessLoop(u))return}var d,p={pattern:s,isRegExp:n,isCaseSensitive:o,isWordMatch:r,isSmartCase:this.configurationService.getValue().search.smartCase},h=this.inputPatternExcludes.getValue(),f=this.inputPatternIncludes.getValue(),v=p.isRegExp?1e4:250,m={_reason:"searchView",extraFileResources:K.getOutOfWorkspaceEditorResources(this.editorService,this.contextService),maxResults:t.MAX_TEXT_RESULTS,disregardIgnoreFiles:!l,disregardExcludeSettings:!l,excludePattern:h,includePattern:f,previewOptions:{matchLines:1,charsPerLine:v}},y=this.contextService.getWorkspace().folders,S=function(e){
i.searchWidget.searchInput.showMessage({content:e.message,type:3}),i.viewModel.searchResult.clear()};try{d=this.queryBuilder.text(p,y.map(function(e){return e.uri}),m)}catch(e){return void S(e)}this.validateQuery(d).then(function(){i.onQueryTriggered(d,m,a,c),e||i.searchWidget.focus(!1)},S)}},t.prototype.validateQuery=function(e){var t=this,i=e.folderQueries.map(function(e){return t.fileService.existsFile(e.folder)});return Promise.resolve(i).then(function(t){var i=e.folderQueries.filter(function(e,i){return t[i]});if(e.folderQueries.length&&!i.length){var n=e.folderQueries[0].folder.fsPath,r=m.localize("searchPathNotFoundError","Search path not found: {0}",n);return Promise.reject(new Error(r))}e.folderQueries=i})},t.prototype.onQueryTriggered=function(e,t,i,n){var r=this;this.inputPatternExcludes.onSearchSubmit(),this.inputPatternIncludes.onSearchSubmit(),this.viewModel.cancelSearch();var o=0,a=e.useRipgrep?this.progressService.show(!0):this.progressService.show(1e3)
;this.searchWidget.searchInput.clearMessage(),this.searching=!0,setTimeout(function(){r.searching&&r.changeActionAtPosition(0,r.instantiationService.createInstance(N.CancelSearchAction,N.CancelSearchAction.ID,N.CancelSearchAction.LABEL))},2e3),this.showEmptyStage();var l=function(t){r.searching=!1,r.changeActionAtPosition(0,r.instantiationService.createInstance(N.RefreshAction,N.RefreshAction.ID,N.RefreshAction.LABEL)),t&&!e.useRipgrep?(a.worked(1e3-o),setTimeout(function(){return a.done()},200)):a.done(),r.onSearchResultsChanged().then(function(){if(1===r.viewModel.searchResult.count()){var e=r.viewModel.searchResult.matches()[0];if(e.count()<50)return r.tree.expand(e)}return null}),r.viewModel.replaceString=r.searchWidget.getReplaceValue();var l=!r.viewModel.searchResult.isEmpty();if(r.searchSubmitted=!0,r.updateActions(),t&&t.limitHit&&r.searchWidget.searchInput.showMessage({
content:m.localize("searchMaxResultsWarning","The result set only contains a subset of all matches. Please be more specific in your search to narrow down the results."),type:2}),l)r.viewModel.searchResult.toggleHighlights(r.isVisible()),c.status(m.localize("ariaSearchResultsStatus","Search returned {0} results in {1} files",r.viewModel.searchResult.count(),r.viewModel.searchResult.fileCount()));else{var u=!!i,d=!!n,p=void 0;p=t?d&&u?m.localize("noResultsIncludesExcludes","No results found in '{0}' excluding '{1}' - ",n,i):d?m.localize("noResultsIncludes","No results found in '{0}' - ",n):u?m.localize("noResultsExcludes","No results found excluding '{0}' - ",i):m.localize("noResultsFound","No results found. Review your settings for configured exclusions and ignore files - "):m.localize("searchCanceled","Search was canceled before any results could be found - "),c.status(p),r.tree.onHidden(),s.hide(r.resultsElement);var h=r.clearMessage(),f=s.append(h,Y("p",void 0,p));if(t)if(d||u){
v=s.append(f,Y("a.pointer.prominent",{tabindex:0},m.localize("rerunSearchInAll.message","Search again in all files")));r.messageDisposables.push(s.addDisposableListener(v,s.EventType.CLICK,function(e){s.EventHelper.stop(e,!1),r.inputPatternExcludes.setValue(""),r.inputPatternIncludes.setValue(""),r.onQueryChanged()}))}else{var g=s.append(f,Y("a.pointer.prominent",{tabindex:0},m.localize("openSettings.message","Open Settings")));r.addClickEvents(g,r.onOpenSettings)}else{var v=s.append(f,Y("a.pointer.prominent",void 0,m.localize("rerunSearch.message","Search again")));r.messageDisposables.push(s.addDisposableListener(v,s.EventType.CLICK,function(e){s.EventHelper.stop(e,!1),r.onQueryChanged()}))}if(t){s.append(f,Y("span",void 0," - "));var y=s.append(f,Y("a.pointer.prominent",{tabindex:0},m.localize("openSettings.learnMore","Learn More")));r.addClickEvents(y,r.onLearnMore)}1===r.contextService.getWorkbenchState()&&r.showSearchWithoutFolderMessage()}},d=0,p=0,h=0,f=setInterval(function(){if(r.searching){
if(!e.useRipgrep){var i=!0;if(d>0&&p>0){var n=Math.round(p/d*1e3);n>o&&(a.worked(n-o),o=n,i=!1)}if(i&&o<900){var s=Math.round((900-o)/900*12)||1;o+=s,a.worked(s)}}var c=r.viewModel.searchResult.fileCount();h!==c&&(h=c,r.tree.refresh(),r.updateSearchResultCount(t.disregardExcludeSettings)),c>0&&r.updateActions()}else window.clearInterval(f)},100);this.searchWidget.setReplaceAllActionState(!1),this.viewModel.search(e,function(e){e.total&&(d=e.total),e.worked&&(p=e.worked)}).then(l,function(e){u.isPromiseCanceledError(e)?l(null):(r.searching=!1,r.changeActionAtPosition(0,r.instantiationService.createInstance(N.RefreshAction,N.RefreshAction.ID,N.RefreshAction.LABEL)),a.done(),r.searchWidget.searchInput.showMessage({content:e.message,type:3}),r.viewModel.searchResult.clear(),
e.code!==D.SearchErrorCode.unknownEncoding||r.configurationService.getValue("search.useLegacySearch")?e.code!==D.SearchErrorCode.regexParseError||r.configurationService.getValue("search.usePCRE2")||r.notificationService.prompt(I.Severity.Info,m.localize("rgRegexError",'You can enable "search.usePCRE2" to enable some extra regex features like lookbehind and backreferences.'),[{label:m.localize("otherEncodingWarning.openSettingsLabel","Open Settings"),run:function(){return r.openSettings("search.usePCRE2")}}]):r.notificationService.prompt(I.Severity.Info,m.localize("otherEncodingWarning",'You can enable "search.useLegacySearch" to search non-standard file encodings.'),[{label:m.localize("otherEncodingWarning.openSettingsLabel","Open Settings"),run:function(){return r.openSettings("search.useLegacySearch")}}]))})},t.prototype.openSettings=function(e){var t={query:e}
;return 1!==this.contextService.getWorkbenchState()?this.preferencesService.openWorkspaceSettings(void 0,t):this.preferencesService.openGlobalSettings(void 0,t)},t.prototype.updateSearchResultCount=function(e){var t=this.viewModel.searchResult.fileCount();this.hasSearchResultsKey.set(t>0);var i="none"===this.messagesElement.style.display;if(t>0){var n=this.clearMessage(),r=this.buildResultCountMessage(this.viewModel.searchResult.count(),t);e&&(r+=m.localize("useIgnoresAndExcludesDisabled"," - exclude settings and ignore files are disabled")),s.append(n,Y("p",void 0,r)),i&&this.reLayout()}else i||s.hide(this.messagesElement)},t.prototype.buildResultCountMessage=function(e,t){return 1===e&&1===t?m.localize("search.file.result","{0} result in {1} file",e,t):1===e?m.localize("search.files.result","{0} result in {1} files",e,t):1===t?m.localize("search.file.results","{0} results in {1} file",e,t):m.localize("search.files.results","{0} results in {1} files",e,t)},
t.prototype.showSearchWithoutFolderMessage=function(){var e=this;this.searchWithoutFolderMessageElement=this.clearMessage();var t=s.append(this.searchWithoutFolderMessageElement,Y("p",void 0,m.localize("searchWithoutFolder","You have not yet opened a folder. Only open files are currently searched - "))),i=s.append(t,Y("a.pointer.prominent",{tabindex:0},m.localize("openFolder","Open Folder")));this.messageDisposables.push(s.addDisposableListener(i,s.EventType.CLICK,function(t){s.EventHelper.stop(t,!1);var i=f.isMacintosh?M.OpenFileFolderAction:M.OpenFolderAction,n=e.instantiationService.createInstance(i,i.ID,i.LABEL);e.actionRunner.run(n).then(function(){n.dispose()},function(e){n.dispose(),u.onUnexpectedError(e)})}))},t.prototype.showEmptyStage=function(){this.searchSubmitted=!1,this.updateActions(),s.hide(this.messagesElement),s.show(this.resultsElement),this.tree.onVisible(),this.currentSelectedFileMatch=null},t.prototype.onFocus=function(e,t,i,n){
if(!(e instanceof H.Match))return this.viewModel.searchResult.rangeHighlightDecorations.removeHighlightRange(),Promise.resolve(!0);return this.configurationService.getValue().search.useReplacePreview&&this.viewModel.isReplaceActive()&&this.viewModel.replaceString?this.replaceService.openReplacePreview(e,t,i,n):this.open(e,t,i,n)},t.prototype.open=function(e,t,i,n){var r=this,o=this.getSelectionFrom(e),s=e instanceof H.Match?e.parent().resource():e.resource();return this.editorService.openEditor({resource:s,options:{preserveFocus:t,pinned:n,selection:o,revealIfVisible:!0}},i?U.SIDE_GROUP:U.ACTIVE_GROUP).then(function(i){return i&&e instanceof H.Match&&t?r.viewModel.searchResult.rangeHighlightDecorations.highlightRange(i.getControl().getModel(),e.range()):r.viewModel.searchResult.rangeHighlightDecorations.removeHighlightRange(),i?r.editorGroupsService.activateGroup(i.group):Promise.resolve(null)},u.onUnexpectedError)},t.prototype.getSelectionFrom=function(e){var t=null;if(e instanceof H.Match&&(t=e),
e instanceof H.FileMatch&&e.count()>0&&(t=e.matches()[e.matches().length-1]),t){var i=t.range();if(this.viewModel.isReplaceActive()&&this.viewModel.replaceString){var n=t.replaceString;return{startLineNumber:i.startLineNumber,startColumn:i.startColumn,endLineNumber:i.startLineNumber,endColumn:i.startColumn+n.length}}return i}},t.prototype.onUntitledDidChangeDirty=function(e){if(this.viewModel&&!this.untitledEditorService.isDirty(e))for(var t=this.viewModel.searchResult.matches(),i=0,n=t.length;i<n;i++)e.toString()===t[i].resource().toString()&&this.viewModel.searchResult.remove(t[i])},t.prototype.onFilesChanged=function(e){if(this.viewModel)for(var t=this.viewModel.searchResult.matches(),i=0,n=t.length;i<n;i++)e.contains(t[i].resource(),2)&&this.viewModel.searchResult.remove(t[i])},t.prototype.getActions=function(){return this.actions},t.prototype.changeActionAtPosition=function(e,t){this.actions.splice(e,1,t),this.updateTitleArea()},t.prototype.clearHistory=function(){this.searchWidget.clearHistory(),
this.inputPatternExcludes.clearHistory(),this.inputPatternIncludes.clearHistory()},t.prototype.saveState=function(){var t=this.searchWidget.searchInput.getRegex(),i=this.searchWidget.searchInput.getWholeWords(),n=this.searchWidget.searchInput.getCaseSensitive(),r=this.searchWidget.searchInput.getValue(),o=this.inputPatternExcludes.getValue().trim(),s=this.inputPatternIncludes.getValue().trim(),a=this.inputPatternExcludes.useExcludesAndIgnoreFiles();this.viewletState["query.contentPattern"]=r,this.viewletState["query.regex"]=t,this.viewletState["query.wholeWords"]=i,this.viewletState["query.caseSensitive"]=n,this.viewletState["query.folderExclusions"]=o,this.viewletState["query.folderIncludes"]=s,this.viewletState["query.useExcludesAndIgnoreFiles"]=a;var c=this.searchAndReplaceWidget.isReplaceShown();this.viewletState["view.showReplace"]=c;var l=Object.create(null),u=this.searchWidget.getSearchHistory();u&&u.length&&(l.search=u);var d=this.searchWidget.getReplaceHistory();d&&d.length&&(l.replace=d)
;var p=this.inputPatternExcludes.getHistory();p&&p.length&&(l.exclude=p);var h=this.inputPatternIncludes.getHistory();h&&h.length&&(l.include=h),this.searchHistoryService.save(l),e.prototype.saveState.call(this)},t.prototype.dispose=function(){this.isDisposed=!0,e.prototype.dispose.call(this)},t.MAX_TEXT_RESULTS=1e4,t.WIDE_CLASS_NAME="wide",t.WIDE_VIEW_SIZE=1e3,t=r([o(0,q.IPartService),o(1,R.ITelemetryService),o(2,_.IFileService),o(3,U.IEditorService),o(4,x.IProgressService),o(5,I.INotificationService),o(6,E.IDialogService),o(7,T.IStorageService),o(8,b.IContextViewService),o(9,C.IInstantiationService),o(10,y.IConfigurationService),o(11,k.IWorkspaceContextService),o(12,H.ISearchWorkbenchService),o(13,S.IContextKeyService),o(14,G.IReplaceService),o(15,Q.IUntitledEditorService),o(16,$.IPreferencesService),o(17,O.IThemeService),o(18,D.ISearchHistoryService),o(19,j.IEditorGroupsService)],t)}(L.Viewlet);t.SearchView=X,O.registerThemingParticipant(function(e,t){var i=e.getColor(A.editorFindMatchHighlight)
;i&&t.addRule(".monaco-workbench .search-view .findInFileMatch { background-color: "+i+"; }");var n=e.getColor(A.diffInserted);n&&t.addRule(".monaco-workbench .search-view .replaceMatch { background-color: "+n+"; }");var r=e.getColor(A.diffRemoved);r&&t.addRule(".monaco-workbench .search-view .replace.findInFileMatch { background-color: "+r+"; }");var o=e.getColor(A.diffInsertedOutline);o&&t.addRule(".monaco-workbench .search-view .replaceMatch:not(:empty) { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+o+"; }");var s=e.getColor(A.diffRemovedOutline);s&&t.addRule(".monaco-workbench .search-view .replace.findInFileMatch { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+s+"; }");var a=e.getColor(A.editorFindMatchHighlightBorder);a&&t.addRule(".monaco-workbench .search-view .findInFileMatch { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+a+"; }");var c=e.getColor(A.listActiveSelectionForeground)
;c&&t.addRule(".monaco-workbench .search-view .monaco-tree.focused .monaco-tree-row.focused.selected:not(.highlighted) .action-label:focus { outline-color: "+c+" }")})}),define(e[514],t([1,0,7,95,87,75,2,14,39,20,66,26,47,64,74,4,54,83,476,51,167,481,266,11,508,126,34,540,110,199,503,67,138,18,59,65,24,163,16,19,202,32,251,93,151,71,108,527,9,10,344]),function(e,t,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W,V,z,G,K,H,U,j,q,$,Q,Y,X,J){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s.registerSingleton(T.ISearchWorkbenchService,T.SearchWorkbenchService,!0),w.registerContributions(),I.registerContributions();var Z=l.localize("search","Search");m.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.search.toggleQueryDetails",weight:200,when:C.SearchViewVisibleKey,primary:3112,handler:function(e){var t=q.getSearchView(e.get(_.IViewletService),e.get(j.IPanelService));t&&t.toggleQueryDetails()}}),m.KeybindingsRegistry.registerCommandAndKeybindingRule({
id:C.FocusSearchFromResults,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,C.FirstMatchFocusKey),primary:2064,handler:function(e,t){q.getSearchView(e.get(_.IViewletService),e.get(j.IPanelService)).focusPreviousInputBox()}}),m.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.OpenMatchToSide,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,C.FileMatchOrMatchFocusKey),primary:2051,mac:{primary:259},handler:function(e,t){var i=q.getSearchView(e.get(_.IViewletService),e.get(j.IPanelService)),n=i.getControl();i.open(n.getFocus(),!1,!0,!0)}}),m.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.CancelActionId,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,N.WorkbenchListFocusContextKey),primary:9,handler:function(e,t){q.getSearchView(e.get(_.IViewletService),e.get(j.IPanelService)).cancelSearch()}}),m.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.RemoveActionId,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,C.FileMatchOrMatchFocusKey),
primary:20,mac:{primary:2049},handler:function(e,t){var i=q.getSearchView(e.get(_.IViewletService),e.get(j.IPanelService)),n=i.getControl();e.get(y.IInstantiationService).createInstance(q.RemoveAction,n,n.getFocus(),i).run()}}),m.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.ReplaceActionId,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,C.ReplaceActiveKey,C.MatchFocusKey),primary:3094,handler:function(e,t){var i=q.getSearchView(e.get(_.IViewletService),e.get(j.IPanelService)),n=i.getControl();e.get(y.IInstantiationService).createInstance(q.ReplaceAction,n,n.getFocus(),i).run()}}),m.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.ReplaceAllInFileActionId,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,C.ReplaceActiveKey,C.FileFocusKey),primary:3094,secondary:[3075],handler:function(e,t){var i=q.getSearchView(e.get(_.IViewletService),e.get(j.IPanelService)),n=i.getControl();e.get(y.IInstantiationService).createInstance(q.ReplaceAllAction,n,n.getFocus(),i).run()}
}),m.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.ReplaceAllInFolderActionId,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,C.ReplaceActiveKey,C.FolderFocusKey),primary:3094,secondary:[3075],handler:function(e,t){var i=q.getSearchView(e.get(_.IViewletService),e.get(j.IPanelService)).getControl();e.get(y.IInstantiationService).createInstance(q.ReplaceAllInFolderAction,i,i.getFocus()).run()}}),m.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.CloseReplaceWidgetActionId,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,C.ReplaceInputBoxFocusedKey),primary:9,handler:function(e,t){e.get(y.IInstantiationService).createInstance(q.CloseReplaceAction,C.CloseReplaceWidgetActionId,"").run()}}),m.KeybindingsRegistry.registerCommandAndKeybindingRule({id:q.FocusNextInputAction.ID,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,C.InputBoxFocusedKey),primary:2066,handler:function(e,t){
e.get(y.IInstantiationService).createInstance(q.FocusNextInputAction,q.FocusNextInputAction.ID,"").run()}}),m.KeybindingsRegistry.registerCommandAndKeybindingRule({id:q.FocusPreviousInputAction.ID,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,C.InputBoxFocusedKey,C.SearchInputBoxFocusedKey.toNegated()),primary:2064,handler:function(e,t){e.get(y.IInstantiationService).createInstance(q.FocusPreviousInputAction,q.FocusPreviousInputAction.ID,"").run()}}),f.MenuRegistry.appendMenuItem(33,{command:{id:C.ReplaceActionId,title:q.ReplaceAction.LABEL},when:x.ContextKeyExpr.and(C.ReplaceActiveKey,C.MatchFocusKey),group:"search",order:1}),f.MenuRegistry.appendMenuItem(33,{command:{id:C.ReplaceAllInFolderActionId,title:q.ReplaceAllInFolderAction.LABEL},when:x.ContextKeyExpr.and(C.ReplaceActiveKey,C.FolderFocusKey),group:"search",order:1}),f.MenuRegistry.appendMenuItem(33,{command:{id:C.ReplaceAllInFileActionId,title:q.ReplaceAllAction.LABEL},when:x.ContextKeyExpr.and(C.ReplaceActiveKey,C.FileFocusKey),
group:"search",order:1}),f.MenuRegistry.appendMenuItem(33,{command:{id:C.RemoveActionId,title:q.RemoveAction.LABEL},when:C.FileMatchOrMatchFocusKey,group:"search",order:2}),m.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.CopyMatchCommandId,weight:200,when:C.FileMatchOrMatchFocusKey,primary:2081,handler:q.copyMatchCommand}),f.MenuRegistry.appendMenuItem(33,{command:{id:C.CopyMatchCommandId,title:l.localize("copyMatchLabel","Copy")},when:C.FileMatchOrMatchFocusKey,group:"search_2",order:1}),m.KeybindingsRegistry.registerCommandAndKeybindingRule({id:C.CopyPathCommandId,weight:200,when:C.FileMatchOrFolderMatchFocusKey,primary:2593,win:{primary:1569},handler:q.copyPathCommand}),f.MenuRegistry.appendMenuItem(33,{command:{id:C.CopyPathCommandId,title:l.localize("copyPathLabel","Copy Path")},when:C.FileMatchOrFolderMatchFocusKey,group:"search_2",order:2}),f.MenuRegistry.appendMenuItem(33,{command:{id:C.CopyAllCommandId,title:l.localize("copyAllLabel","Copy All")},when:C.HasSearchResults,group:"search_2",
order:3}),R.CommandsRegistry.registerCommand({id:C.CopyAllCommandId,handler:q.copyAllCommand}),R.CommandsRegistry.registerCommand({id:C.ClearSearchHistoryCommandId,handler:q.clearHistoryCommand});var ee=l.localize("clearSearchHistoryLabel","Clear Search History"),te={id:C.ClearSearchHistoryCommandId,title:ee,category:Z};f.MenuRegistry.addCommand(te),R.CommandsRegistry.registerCommand({id:C.ToggleSearchViewPositionCommandId,handler:function(e){var t=e.get(X.IConfigurationService),i="sidebar"===t.getValue("search").location?"panel":"sidebar";t.updateValue("search.location",i)}});var ie=l.localize("toggleSearchViewPositionLabel","Toggle Search View Position"),ne={id:C.ToggleSearchViewPositionCommandId,title:ie,category:Z};f.MenuRegistry.addCommand(ne),f.MenuRegistry.appendMenuItem(33,{command:ne,when:C.SearchViewVisibleKey,group:"search_9",order:1}),R.CommandsRegistry.registerCommand({id:C.FocusSearchListCommandID,handler:q.focusSearchListCommand})
;var re=l.localize("focusSearchListCommandLabel","Focus List"),oe={id:C.FocusSearchListCommandID,title:re,category:Z};f.MenuRegistry.addCommand(oe);R.CommandsRegistry.registerCommand({id:"filesExplorer.findInFolder",handler:function(e,t){var i=e.get(N.IListService),n=e.get(_.IViewletService),r=e.get(j.IPanelService),o=e.get(z.IFileService),s=K.getMultiSelectedResources(t,i,e.get(J.IEditorService));return q.openSearchView(n,r,!0).then(function(e){if(s&&s.length)return o.resolveFiles(s.map(function(e){return{resource:e}})).then(function(t){var i=[];t.forEach(function(e){e.success&&i.push(e.stat.isDirectory?e.stat.resource:W.dirname(e.stat.resource))}),e.searchInFolders(G.distinct(i,function(e){return e.toString()}),function(e,t){return B.relative(e,t)})})})}}),R.CommandsRegistry.registerCommand({id:q.ClearSearchResultsAction.ID,handler:function(e,t){e.get(y.IInstantiationService).createInstance(q.ClearSearchResultsAction,q.ClearSearchResultsAction.ID,"").run()}}),R.CommandsRegistry.registerCommand({
id:q.RefreshAction.ID,handler:function(e,t){e.get(y.IInstantiationService).createInstance(q.RefreshAction,q.RefreshAction.ID,"").run()}});R.CommandsRegistry.registerCommand({id:"filesExplorer.findInWorkspace",handler:function(e){return q.openSearchView(e.get(_.IViewletService),e.get(j.IPanelService),!0).then(function(e){e.searchInFolders(null,function(e,t){return B.relative(e,t)})})}}),f.MenuRegistry.appendMenuItem(10,{group:"4_search",order:10,command:{id:"filesExplorer.findInFolder",title:l.localize("findInFolder","Find in Folder...")},when:x.ContextKeyExpr.and(h.ExplorerFolderContext,V.ResourceContextKey.Scheme.isEqualTo(H.Schemas.file))}),f.MenuRegistry.appendMenuItem(10,{group:"4_search",order:10,command:{id:"filesExplorer.findInWorkspace",title:l.localize("findInWorkspace","Find in Workspace...")},when:x.ContextKeyExpr.and(h.ExplorerRootContext,h.ExplorerFolderContext.toNegated())});var se=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.quickOpenService=n,o.editorService=r,
o.enabled=!!o.quickOpenService,o}return i(t,e),t.prototype.run=function(e){var i=t.ALL_SYMBOLS_PREFIX,n=void 0,r=this.editorService.getFocusedCodeEditor(),o=r&&E.getSelectionSearchString(r);return o&&(i+=o,n={start:1,end:o.length+1}),this.quickOpenService.show(i,{inputSelection:n}),Promise.resolve(null)},t.ID="workbench.action.showAllSymbols",t.LABEL=l.localize("showTriggerActions","Go to Symbol in Workspace..."),t.ALL_SYMBOLS_PREFIX="#",t=r([o(2,S.IQuickOpenService),o(3,b.ICodeEditorService)],t)}(u.Action);n.Registry.as(a.Extensions.Viewlets).registerViewlet(new a.ViewletDescriptor(A.SearchView,$.VIEW_ID,l.localize("name","Search"),"search",1)),n.Registry.as(U.Extensions.Panels).registerPanel(new U.PanelDescriptor(A.SearchView,$.VIEW_ID,l.localize("name","Search"),"search",10)),n.Registry.as(Q.Extensions.Workbench).registerWorkbenchContribution(Y.SearchViewLocationUpdater,2);var ae=n.Registry.as(g.Extensions.WorkbenchActions)
;ae.registerWorkbenchAction(new f.SyncActionDescriptor(q.OpenSearchViewletAction,$.VIEW_ID,q.OpenSearchViewletAction.LABEL,{primary:3108},C.SearchViewVisibleKey.toNegated()),"View: Show Search",l.localize("view","View")),ae.registerWorkbenchAction(new f.SyncActionDescriptor(q.FindInFilesAction,C.FindInFilesActionId,l.localize("findInFiles","Find in Files"),{primary:3108}),"Find in Files",Z),f.MenuRegistry.appendMenuItem(13,{group:"4_find_global",command:{id:C.FindInFilesActionId,title:l.localize({key:"miFindInFiles",comment:["&& denotes a mnemonic"]},"Find &&in Files")},order:1}),ae.registerWorkbenchAction(new f.SyncActionDescriptor(q.FocusNextSearchResultAction,q.FocusNextSearchResultAction.ID,q.FocusNextSearchResultAction.LABEL,{primary:62},x.ContextKeyExpr.and(C.HasSearchResults)),"Focus Next Search Result",Z),ae.registerWorkbenchAction(new f.SyncActionDescriptor(q.FocusPreviousSearchResultAction,q.FocusPreviousSearchResultAction.ID,q.FocusPreviousSearchResultAction.LABEL,{primary:1086
},x.ContextKeyExpr.and(C.HasSearchResults)),"Focus Previous Search Result",Z),ae.registerWorkbenchAction(new f.SyncActionDescriptor(q.ReplaceInFilesAction,q.ReplaceInFilesAction.ID,q.ReplaceInFilesAction.LABEL,{primary:3110}),"Replace in Files",Z),f.MenuRegistry.appendMenuItem(13,{group:"4_find_global",command:{id:q.ReplaceInFilesAction.ID,title:l.localize({key:"miReplaceInFiles",comment:["&& denotes a mnemonic"]},"Replace &&in Files")},order:2}),m.KeybindingsRegistry.registerCommandAndKeybindingRule(d.assign({id:C.ToggleCaseSensitiveCommandId,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,C.SearchViewFocusedKey,C.FileMatchOrFolderMatchFocusKey.toNegated()),handler:q.toggleCaseSensitiveCommand},D.ToggleCaseSensitiveKeybinding)),m.KeybindingsRegistry.registerCommandAndKeybindingRule(d.assign({id:C.ToggleWholeWordCommandId,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,C.SearchViewFocusedKey),handler:q.toggleWholeWordCommand},D.ToggleWholeWordKeybinding)),
m.KeybindingsRegistry.registerCommandAndKeybindingRule(d.assign({id:C.ToggleRegexCommandId,weight:200,when:x.ContextKeyExpr.and(C.SearchViewVisibleKey,C.SearchViewFocusedKey),handler:q.toggleRegexCommand},D.ToggleRegexKeybinding)),ae.registerWorkbenchAction(new f.SyncActionDescriptor(q.CollapseDeepestExpandedLevelAction,q.CollapseDeepestExpandedLevelAction.ID,q.CollapseDeepestExpandedLevelAction.LABEL),"Search: Collapse All",Z),ae.registerWorkbenchAction(new f.SyncActionDescriptor(se,se.ID,se.LABEL,{primary:2098}),"Go to Symbol in Workspace..."),ae.registerWorkbenchAction(new f.SyncActionDescriptor(q.RefreshAction,q.RefreshAction.ID,q.RefreshAction.LABEL),"Search: Refresh",Z),ae.registerWorkbenchAction(new f.SyncActionDescriptor(q.ClearSearchResultsAction,q.ClearSearchResultsAction.ID,q.ClearSearchResultsAction.LABEL),"Search: Clear",Z),
n.Registry.as(v.Extensions.Quickopen).registerDefaultQuickOpenHandler(new v.QuickOpenHandlerDescriptor(M.OpenAnythingHandler,M.OpenAnythingHandler.ID,"",O.defaultQuickOpenContextKey,l.localize("openAnythingHandlerDescription","Go to File"))),n.Registry.as(v.Extensions.Quickopen).registerQuickOpenHandler(new v.QuickOpenHandlerDescriptor(k.OpenSymbolHandler,k.OpenSymbolHandler.ID,se.ALL_SYMBOLS_PREFIX,"inWorkspaceSymbolsPicker",[{prefix:se.ALL_SYMBOLS_PREFIX,needsEditor:!1,description:l.localize("openSymbolDescriptionNormal","Go to Symbol in Workspace")}]));n.Registry.as(c.Extensions.Configuration).registerConfiguration({id:"search",order:13,title:l.localize("searchConfigurationTitle","Search"),type:"object",properties:{"search.exclude":{type:"object",
markdownDescription:l.localize("exclude","Configure glob patterns for excluding files and folders in searches. Inherits all glob patterns from the `#files.exclude#` setting. Read more about glob patterns [here](https://code.visualstudio.com/docs/editor/codebasics#_advanced-search-options)."),default:{"**/node_modules":!0,"**/bower_components":!0},additionalProperties:{anyOf:[{type:"boolean",description:l.localize("exclude.boolean","The glob pattern to match file paths against. Set to true or false to enable or disable the pattern.")},{type:"object",properties:{when:{type:"string",pattern:"\\w*\\$\\(basename\\)\\w*",default:"$(basename).ext",description:l.localize("exclude.when","Additional check on the siblings of a matching file. Use $(basename) as variable for the matching file name.")}}}]},scope:3},"search.useRipgrep":{type:"boolean",description:l.localize("useRipgrep",'This setting is deprecated and now falls back on "search.usePCRE2".'),
deprecationMessage:l.localize("useRipgrepDeprecated",'Deprecated. Consider "search.usePCRE2" for advanced regex feature support.'),default:!0},"search.useLegacySearch":{type:"boolean",description:l.localize("useLegacySearch","Controls whether to use the deprecated legacy mode for text and file search. It supports some text encodings that are not supported by the standard ripgrep-based search."),default:!1},"search.useIgnoreFiles":{type:"boolean",markdownDescription:l.localize("useIgnoreFiles","Controls whether to use `.gitignore` and `.ignore` files when searching for files."),default:!0,scope:3},"search.useGlobalIgnoreFiles":{type:"boolean",markdownDescription:l.localize("useGlobalIgnoreFiles","Controls whether to use global `.gitignore` and `.ignore` files when searching for files."),default:!1,scope:3},"search.quickOpen.includeSymbols":{type:"boolean",description:l.localize("search.quickOpen.includeSymbols","Whether to include results from a global symbol search in the file results for Quick Open."),
default:!1},"search.quickOpen.includeHistory":{type:"boolean",description:l.localize("search.quickOpen.includeHistory","Whether to include results from recently opened files in the file results for Quick Open."),default:!0},"search.followSymlinks":{type:"boolean",description:l.localize("search.followSymlinks","Controls whether to follow symlinks while searching."),default:!0},"search.smartCase":{type:"boolean",description:l.localize("search.smartCase","Search case-insensitively if the pattern is all lowercase, otherwise, search case-sensitively."),default:!1},"search.globalFindClipboard":{type:"boolean",default:!1,description:l.localize("search.globalFindClipboard","Controls whether the search view should read or modify the shared find clipboard on macOS."),included:p.isMacintosh},"search.location":{type:"string",enum:["sidebar","panel"],default:"sidebar",
description:l.localize("search.location","Controls whether the search will be shown as a view in the sidebar or as a panel in the panel area for more horizontal space.")},"search.collapseResults":{type:"string",enum:["auto","alwaysCollapse","alwaysExpand"],enumDescriptions:["Files with less than 10 results are expanded. Others are collapsed.","",""],default:"auto",description:l.localize("search.collapseAllResults","Controls whether the search results will be collapsed or expanded.")},"search.useReplacePreview":{type:"boolean",default:!0,description:l.localize("search.useReplacePreview","Controls whether to open Replace Preview when selecting or replacing a match.")},"search.showLineNumbers":{type:"boolean",default:!1,description:l.localize("search.showLineNumbers","Controls whether to show line numbers for search results.")},"searchRipgrep.enable":{type:"boolean",default:!1,deprecationMessage:l.localize("search.searchRipgrepEnableDeprecated",'Deprecated. Use "search.runInExtensionHost" instead'),
description:l.localize("search.searchRipgrepEnable","Whether to run search in the extension host")},"search.runInExtensionHost":{type:"boolean",default:!1,description:l.localize("search.runInExtensionHost","Whether to run search in the extension host. Requires a restart to take effect.")},"search.usePCRE2":{type:"boolean",default:!1,description:l.localize("search.usePCRE2","Whether to use the PCRE2 regex engine in text search. This enables using some advanced regex features like lookbehind and backreferences. However, not all PCRE2 features are supported - only features that are also supported by JavaScript.")}}}),P.registerLanguageCommand("_executeWorkspaceSymbolProvider",function(e,t){var i=t.query;if("string"!=typeof i)throw F.illegalArgument();return L.getWorkspaceSymbols(i)}),f.MenuRegistry.appendMenuItem(25,{group:"3_views",command:{id:$.VIEW_ID,title:l.localize({key:"miViewSearch",comment:["&& denotes a mnemonic"]},"&&Search")},order:2}),f.MenuRegistry.appendMenuItem(15,{group:"z_go_to",command:{
id:"workbench.action.showAllSymbols",title:l.localize({key:"miGotoSymbolInWorkspace",comment:["&& denotes a mnemonic"]},"Go to Symbol in &&Workspace...")},order:3})}),define(e[471],t([1,0,462,546,218,428,514,518,288,308,470,507,346,413,194,345,455,224,221,478,484,485,487,499,512,115,228,299,293,416,124,422,394,411,256]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define(e[465],t([1,0,6,2,15,21,42,149,94,28,75,7,45,101,418,34,19,20,24,25,65,48,165]),function(e,t,i,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var I=function(){function e(e,t,i,n,r,o,s,a,c,l){this.jsonEditingService=e,this.contextService=t,this.windowService=i,this.workspaceConfigurationService=n,this.storageService=r,this.extensionService=o,this.backupFileService=s,this.notificationService=a,this.commandService=c,this.environmentService=l}return e.prototype.updateFolders=function(e,t,i,n){var r=this.contextService.getWorkspace().folders,o=[]
;"number"==typeof t&&(o=r.slice(e,e+t).map(function(e){return e.uri}));var a=o.length>0,c=Array.isArray(i)&&i.length>0;return c||a?c&&!a?this.doAddFolders(i,e,n):a&&!c?this.removeFolders(o):this.includesSingleFolderWorkspace(o)?this.createAndEnterWorkspace(i):3!==this.contextService.getWorkbenchState()?this.doAddFolders(i,e,n):this.doUpdateFolders(i,o,e,n):s.TPromise.as(void 0)},e.prototype.doUpdateFolders=function(e,t,i,n){var r=this;return void 0===n&&(n=!1),this.contextService.updateFolders(e,t,i).then(function(){return null},function(e){return n?s.TPromise.wrapError(e):r.handleWorkspaceConfigurationEditingError(e)})},e.prototype.addFolders=function(e,t){return void 0===t&&(t=!1),this.doAddFolders(e,void 0,t)},e.prototype.doAddFolders=function(e,t,i){var n=this;void 0===i&&(i=!1);var r=this.contextService.getWorkbenchState();if(3!==r){var o=this.contextService.getWorkspace().folders.map(function(e){return{uri:e.uri}});return o.splice.apply(o,["number"==typeof t?t:o.length,0].concat(e)),
o=y.distinct(o,function(e){return S.isLinux?e.uri.toString():e.uri.toString().toLowerCase()}),1===r&&0===o.length||2===r&&1===o.length?s.TPromise.as(void 0):this.createAndEnterWorkspace(o)}return this.contextService.addFolders(e,t).then(function(){return null},function(e){return i?s.TPromise.wrapError(e):n.handleWorkspaceConfigurationEditingError(e)})},e.prototype.removeFolders=function(e,t){var i=this;return void 0===t&&(t=!1),this.includesSingleFolderWorkspace(e)?this.createAndEnterWorkspace([]):this.contextService.removeFolders(e).then(function(){return null},function(e){return t?s.TPromise.wrapError(e):i.handleWorkspaceConfigurationEditingError(e)})},e.prototype.includesSingleFolderWorkspace=function(e){if(2===this.contextService.getWorkbenchState()){var t=this.contextService.getWorkspace().folders[0];return e.some(function(e){return b.isEqual(e,t.uri)})}return!1},e.prototype.enterWorkspace=function(e){var t=this;return this.doEnterWorkspace(function(){return t.windowService.enterWorkspace(e)})},
e.prototype.createAndEnterWorkspace=function(e,t){var i=this;return this.doEnterWorkspace(function(){return i.windowService.createAndEnterWorkspace(e,t)})},e.prototype.saveAndEnterWorkspace=function(e){var t=this;return this.doEnterWorkspace(function(){return t.windowService.saveAndEnterWorkspace(e)})},e.prototype.handleWorkspaceConfigurationEditingError=function(e){switch(e.code){case 1:return this.onInvalidWorkspaceConfigurationFileError(),s.TPromise.as(void 0);case 0:return this.onWorkspaceConfigurationFileDirtyError(),s.TPromise.as(void 0)}return this.notificationService.error(e.message),s.TPromise.as(void 0)},e.prototype.onInvalidWorkspaceConfigurationFileError=function(){var e=n.localize("errorInvalidTaskConfiguration","Unable to write into workspace configuration file. Please open the file to correct errors/warnings in it and try again.");this.askToOpenWorkspaceConfigurationFile(e)},e.prototype.onWorkspaceConfigurationFileDirtyError=function(){
var e=n.localize("errorWorkspaceConfigurationFileDirty","Unable to write into workspace configuration file because the file is dirty. Please save it and try again.");this.askToOpenWorkspaceConfigurationFile(e)},e.prototype.askToOpenWorkspaceConfigurationFile=function(e){var t=this;this.notificationService.prompt(E.Severity.Error,e,[{label:n.localize("openWorkspaceConfigurationFile","Open Workspace Configuration"),run:function(){return t.commandService.executeCommand("workbench.action.openWorkspaceConfigFile")}}])},e.prototype.doEnterWorkspace=function(e){var t=this;this.extensionService.stopExtensionHost();var i=!1,n=function(){t.extensionService.startExtensionHost(),i=!0};return e().then(function(e){return e?t.migrate(e.workspace).then(function(){t.backupFileService instanceof v.BackupFileService&&t.backupFileService.initialize(e.backupPath);return t.contextService.initialize(e.workspace,n)}):s.TPromise.as(void 0)}).then(null,function(e){return i||n(),s.TPromise.wrapError(e)})},
e.prototype.migrate=function(e){var t=this;return this.migrateStorage(e).then(function(){if(2===t.contextService.getWorkbenchState())return t.migrateWorkspaceSettings(e)})},e.prototype.migrateStorage=function(e){var t=this,i=_.join(this.environmentService.workspaceStorageHome,e.id);return w.mkdirp(i).then(function(){return t.storageService.storage.migrate(i)})},e.prototype.migrateWorkspaceSettings=function(e){return this.doCopyWorkspaceSettings(e,function(e){return 2===e.scope})},e.prototype.copyWorkspaceSettings=function(e){return this.doCopyWorkspaceSettings(e)},e.prototype.doCopyWorkspaceSettings=function(e,t){for(var n=h.Registry.as(p.Extensions.Configuration).getConfigurationProperties(),r={},o=0,s=this.workspaceConfigurationService.keys().workspace;o<s.length;o++){var a=s[o];if(n[a]){if(t&&!t(n[a]))continue;r[a]=this.workspaceConfigurationService.inspect(a).workspace}}return this.jsonEditingService.write(i.URI.file(e.configPath),{key:"settings",value:r},!0)},
e=r([o(0,l.IJSONEditingService),o(1,a.IWorkspaceContextService),o(2,c.IWindowService),o(3,u.IWorkspaceConfigurationService),o(4,d.IStorageService),o(5,f.IExtensionService),o(6,g.IBackupFileService),o(7,E.INotificationService),o(8,m.ICommandService),o(9,C.IEnvironmentService)],e)}();t.WorkspaceEditingService=I}),define(e[301],t([1,0,2,8,62,18,5,24,29,585,79,289,587,36,16,68,25,45,449,89,588]),function(e,t,i,n,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C=function(){function e(){this._onDidEncounterLanguage=new c.Emitter,this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._scopeNameToLanguageRegistration=Object.create(null),this._encounteredLanguages=[]}return e.prototype.register=function(e,t,i,n){if(this._scopeNameToLanguageRegistration[e]){var r=this._scopeNameToLanguageRegistration[e]
;l.isEqual(r.grammarLocation,t)||console.warn("Overwriting grammar scope name to file mapping for scope "+e+".\nOld grammar file: "+r.grammarLocation.toString()+".\nNew grammar file: "+t.toString())}this._scopeNameToLanguageRegistration[e]=new w(e,t,i,n)},e.prototype.getLanguageRegistration=function(e){return this._scopeNameToLanguageRegistration[e]||null},e.prototype.getGrammarLocation=function(e){var t=this.getLanguageRegistration(e);return t?t.grammarLocation:null},e.prototype.onEncounteredLanguage=function(e){this._encounteredLanguages[e]||(this._encounteredLanguages[e]=!0,this._onDidEncounterLanguage.fire(e))},e}();t.TMScopeRegistry=C;var w=function(){return function(e,t,i,n){if(this.scopeName=e,this.grammarLocation=t,this.embeddedLanguages=Object.create(null),i)for(var r=0,o=(a=Object.keys(i)).length;r<o;r++){var s=i[c=a[r]];"string"==typeof s&&(this.embeddedLanguages[c]=s)}if(this.tokenTypes=Object.create(null),n)for(var a=Object.keys(n),r=0,o=a.length;r<o;r++){var c=a[r];switch(n[c]){case"string":
this.tokenTypes[c]=_.StandardTokenType.String;break;case"other":this.tokenTypes[c]=_.StandardTokenType.Other;break;case"comment":this.tokenTypes[c]=_.StandardTokenType.Comment}}}}();t.TMLanguageRegistration=w;var I=function(){function t(e,t,i,r,o,a){var c=this;this._styleElement=n.createStyleSheet(),this._styleElement.className="vscode-tokens-styles",this._modeService=e,this._themeService=t,this._fileService=i,this._logService=o,this._scopeRegistry=new C,this.onDidEncounterLanguage=this._scopeRegistry.onDidEncounterLanguage,this._injections={},this._injectedEmbeddedLanguages={},this._languageToScope=new Map,this._notificationService=r,this._grammarRegistry=null,b.grammarsExtPoint.setHandler(function(e){for(var t=0;t<e.length;t++)for(var i=e[t].value,n=0;n<i.length;n++)c._handleGrammarExtensionPointUser(e[t].description.extensionLocation,i[n],e[t].collector)});for(var l=this._themeService.getColorTheme(),u=s.Color.transparent,d=s.Color.transparent,h=0,f=l.tokenColors.length;h<f;h++){var g=l.tokenColors[h]
;!g.scope&&g.settings&&(g.settings.foreground&&(u=s.Color.fromHex(g.settings.foreground)),g.settings.background&&(d=s.Color.fromHex(g.settings.background)))}p.TokenizationRegistry.setColorMap([null,u,d]),this._modeService.onDidCreateMode(function(e){var t=e.getId();a.whenInstalledExtensionsRegistered().then(function(){c._languageToScope.has(t)&&c.registerDefinition(t)})})}return t.prototype._getOrCreateGrammarRegistry=function(){var t=this;return this._grammarRegistry||(this._grammarRegistry=new Promise(function(t,i){e(["vscode-textmate"],t,i)}).then(function(e){var i=e.Registry,n=e.INITIAL,r=e.parseRawGrammar,o=new i({loadGrammar:function(e){var i=t._scopeRegistry.getGrammarLocation(e);return i?t._fileService.resolveContent(i,{encoding:"utf8"}).then(function(e){return r(e.value,i.path)},function(n){return console.log("Unable to load and parse grammar for scope "+e+" from "+i,n),t._logService.error("Unable to load and parse grammar for scope "+e+" from "+i,n),null
}):(console.log("No grammar found for scope "+e),t._logService.trace("No grammar found for scope "+e),null)},getInjections:function(e){for(var i=e.split("."),n=[],r=1;r<=i.length;r++){var o=i.slice(0,r).join(".");n=n.concat(t._injections[o])}return n}});return t._updateTheme(o),t._themeService.onDidColorThemeChange(function(e){return t._updateTheme(o)}),[o,n]})),this._grammarRegistry},t._toColorMap=function(e){for(var t=[null],i=1,n=e.length;i<n;i++)t[i]=s.Color.fromHex(e[i]);return t},t.prototype._updateTheme=function(e){var i=this._themeService.getColorTheme();if(this.compareTokenRules(i.tokenColors)){e.setTheme({name:i.label,settings:i.tokenColors});var n=t._toColorMap(e.getColorMap()),r=f.generateTokensCSSForColorMap(n);this._styleElement.innerHTML=r,p.TokenizationRegistry.setColorMap(n)}},t.prototype.compareTokenRules=function(e){var t=this._currentTokenColors;if(this._currentTokenColors=e,!e||!t||e.length!==t.length)return!0;for(var i=e.length-1;i>=0;i--){var n=e[i],r=t[i];if(n.scope!==r.scope)return!0
;var o=n.settings,s=r.settings;if(o&&s){if(o.fontStyle!==s.fontStyle||o.foreground!==s.foreground||o.background!==s.background)return!0}else if(!o||!s)return!0}return!1},t.prototype._handleGrammarExtensionPointUser=function(e,t,n){if(!t.language||"string"==typeof t.language&&this._modeService.isRegisteredMode(t.language))if(t.scopeName&&"string"==typeof t.scopeName)if(t.path&&"string"==typeof t.path)if(!t.injectTo||Array.isArray(t.injectTo)&&!t.injectTo.some(function(e){return"string"!=typeof e}))if(!t.embeddedLanguages||u.isObject(t.embeddedLanguages))if(!t.tokenTypes||u.isObject(t.tokenTypes)){var r=l.joinPath(e,t.path);if(l.isEqualOrParent(r,e)||n.warn(i.localize("invalid.path.1","Expected `contributes.{0}.path` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.",b.grammarsExtPoint.name,r.path,e.path)),this._scopeRegistry.register(t.scopeName,r,t.embeddedLanguages,t.tokenTypes),t.injectTo){for(var o=0,s=t.injectTo;o<s.length;o++){
var a=s[o],c=this._injections[a];c||(this._injections[a]=c=[]),c.push(t.scopeName)}if(t.embeddedLanguages)for(var d=0,p=t.injectTo;d<p.length;d++){var a=p[d],h=this._injectedEmbeddedLanguages[a];h||(this._injectedEmbeddedLanguages[a]=h=[]),h.push(t.embeddedLanguages)}}var f=t.language;f&&this._languageToScope.set(f,t.scopeName)
}else n.error(i.localize("invalid.tokenTypes","Invalid value in `contributes.{0}.tokenTypes`. Must be an object map from scope name to token type. Provided value: {1}",b.grammarsExtPoint.name,JSON.stringify(t.tokenTypes)));else n.error(i.localize("invalid.embeddedLanguages","Invalid value in `contributes.{0}.embeddedLanguages`. Must be an object map from scope name to language. Provided value: {1}",b.grammarsExtPoint.name,JSON.stringify(t.embeddedLanguages)));else n.error(i.localize("invalid.injectTo","Invalid value in `contributes.{0}.injectTo`. Must be an array of language scope names. Provided value: {1}",b.grammarsExtPoint.name,JSON.stringify(t.injectTo)));else n.error(i.localize("invalid.path.0","Expected string in `contributes.{0}.path`. Provided value: {1}",b.grammarsExtPoint.name,String(t.path)));else n.error(i.localize("invalid.scopeName","Expected string in `contributes.{0}.scopeName`. Provided value: {1}",b.grammarsExtPoint.name,String(t.scopeName)));else n.error(i.localize("invalid.language","Unknown language in `contributes.{0}.language`. Provided value: {1}",b.grammarsExtPoint.name,String(t.language)))
},t.prototype._resolveEmbeddedLanguages=function(e){for(var t=Object.keys(e),i=Object.create(null),n=0,r=t.length;n<r;n++){var o=t[n],s=e[o],a=this._modeService.getLanguageIdentifier(s);a&&(i[o]=a.id)}return i},t.prototype.createGrammar=function(e){return this._createGrammar(e).then(function(e){return e.grammar})},t.prototype._createGrammar=function(e){var t=this._languageToScope.get(e),n=this._scopeRegistry.getLanguageRegistration(t);if(!n)return Promise.reject(new Error(i.localize("no-tm-grammar","No TM Grammar registered for this language.")));var r=this._resolveEmbeddedLanguages(n.embeddedLanguages),o=this._injectedEmbeddedLanguages[t];if(o)for(var s=0,a=o.map(this._resolveEmbeddedLanguages.bind(this));s<a.length;s++)for(var c=a[s],l=0,u=Object.keys(c);l<u.length;l++){var d=u[l];r[d]=c[d]}var p=this._modeService.getLanguageIdentifier(e).id,h=Object.keys(r).length>0;return this._getOrCreateGrammarRegistry().then(function(e){var i=e[0],o=e[1];return i.loadGrammarWithConfiguration(t,p,{embeddedLanguages:r,
tokenTypes:n.tokenTypes}).then(function(e){return{languageId:p,grammar:e,initialState:o,containsEmbeddedLanguages:h}})})},t.prototype.registerDefinition=function(e){var t=this,i=this._createGrammar(e).then(function(e){return new x(t._scopeRegistry,e.languageId,e.grammar,e.initialState,e.containsEmbeddedLanguages,t._notificationService)},function(e){return a.onUnexpectedError(e),null});p.TokenizationRegistry.registerPromise(e,i)},t=r([o(0,g.IModeService),o(1,E.IWorkbenchThemeService),o(2,v.IFileService),o(3,y.INotificationService),o(4,m.ILogService),o(5,S.IExtensionService)],t)}();t.TextMateService=I;var x=function(){function e(e,t,i,n,r,o){this.notificationService=o,this._scopeRegistry=e,this._languageId=t,this._grammar=i,this._initialState=n,this._containsEmbeddedLanguages=r,this._seenLanguages=[]}return e.prototype.getInitialState=function(){return this._initialState},e.prototype.tokenize=function(e,t,i){throw new Error("Not supported!")},e.prototype.tokenize2=function(e,t,n){if(0!==n)throw console.log(n),
new Error("Unexpected: offsetDelta should be 0.");if(e.length>=2e4)return this._tokenizationWarningAlreadyShown||(this._tokenizationWarningAlreadyShown=!0,this.notificationService.warn(i.localize("too many characters","Tokenization is skipped for lines longer than 20k characters for performance reasons."))),console.log("Line ("+e.substr(0,15)+"...): longer than 20k characters, tokenization skipped."),h.nullTokenize2(this._languageId,e,t,n);var r=this._grammar.tokenizeLine2(e,t);if(this._containsEmbeddedLanguages)for(var o=this._seenLanguages,s=r.tokens,a=0,c=s.length>>>1;a<c;a++){var l=s[1+(a<<1)],u=p.TokenMetadata.getLanguageId(l);o[u]||(o[u]=!0,this._scopeRegistry.onEncounteredLanguage(u))}var f;return f=t.equals(r.ruleStack)?t:r.ruleStack,new d.TokenizationResult2(r.tokens,f)},e=r([o(5,y.INotificationService)],e)}()}),
define(e[367],t([1,0,28,83,85,55,41,49,145,16,10,42,31,45,92,56,114,101,146,60,149,58,178,71,51,236,124,76,132,271,93,61,179,386,275,408,590,357,107,227,99,450,259,70,547,7,108,154,95,448,429,111,488,436,310,356,447,390,483,313,121,389,504,509,534,320,305,437,287,475,457,412,535,536,513,339,316,445,461,232,252,54,467,48,404,43,100,256,466,539,25,446,378,326,468,214,237,460,168,304,203,122,465,34,343,246,301,511,36,183,89,112,482]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T,R,A,O,k,M,P,L,F,N,B,W,V,z,G,K,H,U,j,q,$,Q,Y,X,J,Z,ee,te,ie,ne,re,oe,se,ae,ce,le,ue,de,pe,he,fe,ge,ve,me,ye,Se,be,Ee,_e,Ce,we,Ie,xe,De,Te,Re,Ae,Oe,ke,Me,Pe,Le,Fe,Ne,Be,We,Ve,ze,Ge,Ke,He,Ue,je,qe,$e,Qe,Ye,Xe,Je,Ze,et,tt,it,nt,rt){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadCodesandboxServices=function(e,t,ot){e.set(ke.ICodeSandboxService,ot.codesandboxService(t)||t.createInstance(Me.CodeSandboxService)),e.set(Re.IEnvironmentService,t.createInstance(Te.CodeSandboxEnvironmentService)),
e.set(Ge.ICrashReporterService,t.createInstance(Ke.CodeSandboxCrashReporterService));var st=t.createInstance(Ne.CodeSandboxNotificationService);e.set(Fe.INotificationService,st);var at=e.get(Oe.IKeybindingService);at&&at.dispose();var ct=t.createInstance(Ae.CodeSandboxKeybindingService,window);e.set(Oe.IKeybindingService,ct),e.set(Qe.ICommandService,new se.SyncDescriptor(Ye.CommandService)),e.set(F.IRequestService,new se.SyncDescriptor(N.CodeSandboxRequestService)),e.set(V.IClipboardService,new se.SyncDescriptor(z.CodeSandboxClipboardService)),e.set(o.ILabelService,new se.SyncDescriptor(o.LabelService)),e.set(T.IActivityService,new se.SyncDescriptor(Z.CodeSandboxActivityService)),e.set(R.IOutputService,new se.SyncDescriptor(ee.CodeSandboxOutputService)),e.set(A.IPanelService,new se.SyncDescriptor(te.CodeSandboxPanelService)),e.set(x.IBreadcrumbsService,new se.SyncDescriptor(x.BreadcrumbsService)),e.set(I.IBroadcastService,new se.SyncDescriptor(ie.CodeSandboxBroadcastService,[1])),
e.set(_.IWorkspacesService,new se.SyncDescriptor(ne.CodeSandboxWorkspacesService)),e.set(b.IJSONEditingService,new se.SyncDescriptor(re.JSONEditingService)),e.set(y.IDecorationsService,new se.SyncDescriptor(oe.FileDecorationsService)),e.set(m.IBackupFileService,new se.SyncDescriptor(he.CodeSandboxBackupService));var lt=t.createInstance(H.CodeSandboxLifecycleService);e.set(K.ILifecycleService,lt);var ut=t.createInstance(ae.CodeSandboxFileService);e.set(l.IFileService,ut),e.set(d.IWindowsService,new se.SyncDescriptor(M.CodeSandboxWindowsService)),e.set(d.IWindowService,new se.SyncDescriptor(pe.WindowService,[1,{}])),e.set(f.IExtensionGalleryService,new se.SyncDescriptor(ce.CodeSandboxExtensionGalleryService)),e.set(r.IFileDialogService,new se.SyncDescriptor(le.CodeSandboxFileDialogService)),e.set(f.IExtensionManagementService,new se.SyncDescriptor(ue.CodeSandboxExtensionManagementService)),e.set(f.IExtensionEnablementService,new se.SyncDescriptor(de.ExtensionEnablementService))
;var dt=t.createInstance(ze.ExtensionService);e.set(h.IExtensionService,dt),e.set(v.IHashService,new se.SyncDescriptor(fe.CodeSandboxHashService)),e.set(s.IEditorGroupsService,new se.SyncDescriptor(ge.EditorPart,["codesandbox-editor",!1])),e.set(i.IStorageService,new Be.CodeSandboxStorageService);var pt=t.createInstance(Ze.WorkbenchThemeService,document.body);e.set(it.IWorkbenchThemeService,pt),pt.acquireFileService(ut),e.set(a.IPartService,new se.SyncDescriptor(me.CodeSandboxWorkbench)),window.sidebarPart=t.createInstance(Pe.SidebarPart,"codesandbox-sidebar"),e.set(w.IViewletService,new se.SyncDescriptor(ve.ViewletService,[window.sidebarPart])),e.set(q.IStatusbarService,new se.SyncDescriptor(We.StatusbarPart,["codesandbox-statusbar"])),window.activitybarPart=t.createInstance(Le.ActivitybarPart,"codesandbox-activitybar"),e.set(g.IUntitledEditorService,new se.SyncDescriptor(g.UntitledEditorService)),e.set(u.IEditorService,new se.SyncDescriptor(P.EditorService)),
e.set(C.ISearchService,new se.SyncDescriptor(be.CodeSandboxSearchService)),e.set(c.IHistoryService,new se.SyncDescriptor(Y.HistoryService)),e.set(p.ITextFileService,new se.SyncDescriptor(ye.TextFileService)),e.set(E.ITextModelService,new se.SyncDescriptor(Se.TextModelResolverService)),e.set(n.ICodeEditorService,t.createInstance(Ee.CodeEditorService)),e.set(L.ICodeSandboxEditorConnectorService,t.createInstance(_e.CodeSandboxEditorConnectorService)),e.set(B.IPreferencesSearchService,new se.SyncDescriptor(W.PreferencesSearchService)),e.set(S.IPreferencesService,new se.SyncDescriptor(Ce.PreferencesService)),e.set(G.IKeybindingEditingService,new se.SyncDescriptor(G.KeybindingsEditingService)),e.set(D.IProgressService2,new se.SyncDescriptor(we.ProgressService2)),e.set(De.IQuickOpenService,t.createInstance(xe.QuickOpenController)),e.set(O.IQuickInputService,new se.SyncDescriptor(Ie.QuickInputService)),e.set(He.IURLService,new se.SyncDescriptor(Ue.URLService)),
e.set(je.IExtensionUrlHandler,new se.SyncDescriptor(je.ExtensionUrlHandler)),e.set(k.IHeapService,new se.SyncDescriptor(k.HeapService)),e.set(qe.IWorkspaceEditingService,new se.SyncDescriptor($e.WorkspaceEditingService)),e.set(Xe.ITextMateService,new se.SyncDescriptor(Je.TextMateService)),e.set(et.IModeService,new se.SyncDescriptor(tt.WorkbenchModeServiceImpl)),e.set(C.ISearchHistoryService,new se.SyncDescriptor(Q.SearchHistoryService)),e.set(nt.IBulkEditService,new se.SyncDescriptor(rt.BulkEditService)),e.set(Ve.CodeSandboxConfigurationUIService,ot.codesandboxConfigurationUIService(t)),U.Registry.as(j.Extensions.Workbench).start(t,lt),U.Registry.as(X.Extensions.Actionbar).setInstantiationService(t),t.createInstance(J.SaveParticipant);for(var ht=0,ft=$.getServices();ht<ft.length;ht++){var gt=ft[ht];e.set(gt.id,gt.descriptor)}}}),
define(e[458],t([1,0,328,592,593,594,595,135,596,597,79,598,456,34,37,4,43,11,83,177,58,289,599,600,170,156,25,9,367,601]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h,f,g,v,m,y,S,b,E,_,C,w,I,x,D,T){"use strict";function R(e,t,i){J=new r.DynamicStandaloneServices(e,t),t&&T.loadCodesandboxServices(J,J.get(g.IInstantiationService),t);var n=null;J.has(b.ITextModelService)||(n=new l.SimpleEditorModelResolverService,J.set(b.ITextModelService,n)),J.has(a.IOpenerService)||J.set(a.IOpenerService,new s.OpenerService(J.get(y.ICodeEditorService),J.get(h.ICommandService)));var o=i(J);return n&&n.setEditor(o),o}function A(e,t,i,r){return R(e,i,r||function(i){return new n.StandaloneEditor(e,t,i,i.get(g.IInstantiationService),i.get(y.ICodeEditorService),i.get(h.ICommandService),i.get(m.IContextKeyService),i.get(v.IKeybindingService),i.get(f.IContextViewService),i.get(_.IStandaloneThemeService),i.get(x.INotificationService),i.get(D.IConfigurationService))})}function O(e){
return r.StaticServices.codeEditorService.get().onCodeEditorAdd(function(t){e(t)})}function k(e,t,i){return R(e,i,function(i){return new n.StandaloneDiffEditor(e,t,i,i.get(g.IInstantiationService),i.get(m.IContextKeyService),i.get(v.IKeybindingService),i.get(f.IContextViewService),i.get(S.IEditorWorkerService),i.get(y.ICodeEditorService),i.get(_.IStandaloneThemeService),i.get(x.INotificationService),i.get(D.IConfigurationService))})}function M(e,t){return new p.DiffNavigator(e,t)}function P(e,t,i){return r.StaticServices.modelService.get().createModel(e,t,i)}function L(e,t,i){if(e=e||"",!t){var n=i?i.path:null,o=e.indexOf("\n"),s=e;return-1!==o&&(s=e.substring(0,o)),P(e,r.StaticServices.modeService.get().getOrCreateModeByFilepathOrFirstLine(n,s),i)}return P(e,r.StaticServices.modeService.get().getOrCreateMode(t),i)}function F(e,t){r.StaticServices.modelService.get().setMode(e,r.StaticServices.modeService.get().getOrCreateMode(t))}function N(e,t,i){e&&r.StaticServices.markerService.get().changeOne(t,e.uri,i)}
function B(e){return r.StaticServices.markerService.get().read(e)}function W(e){return J.get(b.ITextModelService).createModelReference(e)}function V(e){return r.StaticServices.modelService.get().getModel(e)}function z(){return r.StaticServices.modelService.get().getModels()}function G(e){return r.StaticServices.modelService.get().onModelAdded(e)}function K(e){return r.StaticServices.modelService.get().onModelRemoved(e)}function H(e){return r.StaticServices.modelService.get().onModelModeChanged(function(t){e({model:t.model,oldLanguage:t.oldModeId})})}function U(e){return d.createWebWorker(r.StaticServices.modelService.get(),e)}function j(e,t){return c.Colorizer.colorizeElement(r.StaticServices.standaloneThemeService.get(),r.StaticServices.modeService.get(),e,t)}function q(e,t,i){return c.Colorizer.colorize(r.StaticServices.modeService.get(),e,t,i)}function $(e,t,i){return void 0===i&&(i=4),c.Colorizer.colorizeModelLine(e,t,i)}function Q(e,t){r.StaticServices.modeService.get().getOrCreateMode(t)
;for(var i=function(e){var t=u.TokenizationRegistry.get(e);return t||{getInitialState:function(){return E.NULL_STATE},tokenize:function(t,i,n){return E.nullTokenize(e,t,i,n)},tokenize2:void 0}}(t),n=e.split(/\r\n|\r|\n/),o=[],s=i.getInitialState(),a=0,c=n.length;a<c;a++){var l=n[a],d=i.tokenize(l,s,0);o[a]=d.tokens,s=d.endState}return o}function Y(e,t){r.StaticServices.standaloneThemeService.get().defineTheme(e,t)}function X(e){r.StaticServices.standaloneThemeService.get().setTheme(e)}Object.defineProperty(t,"__esModule",{value:!0});var J=null;t.create=A,t.onDidCreateEditor=O,t.createDiffEditor=k,t.createDiffNavigator=M,t.createModel=L,t.setModelLanguage=F,t.setModelMarkers=N,t.getModelMarkers=B,t.resolveModel=W,t.getModel=V,t.getModels=z,t.onDidCreateModel=G,t.onWillDisposeModel=K,t.onDidChangeModelLanguage=H,t.createWebWorker=U,t.colorizeElement=j,t.colorize=q,t.colorizeModelLine=$,t.tokenize=Q,t.defineTheme=Y,t.setTheme=X;var Z;!function(e){e[e.Smooth=0]="Smooth",e[e.Immediate=1]="Immediate"}(Z||(Z={}))
;var ee;!function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative",e[e.Interval=3]="Interval",e[e.Custom=4]="Custom"}(ee||(ee={})),t.createMonacoEditorAPI=function(){return{create:A,onDidCreateEditor:O,createDiffEditor:k,createDiffNavigator:M,createModel:L,setModelLanguage:F,setModelMarkers:N,getModelMarkers:B,getModels:z,getModel:V,resolveModel:W,onDidCreateModel:G,onWillDisposeModel:K,onDidChangeModelLanguage:H,createWebWorker:U,colorizeElement:j,colorize:q,colorizeModelLine:$,tokenize:Q,defineTheme:Y,setTheme:X,ScrollbarVisibility:o.ScrollbarVisibility,WrappingIndent:o.WrappingIndent,OverviewRulerLane:o.OverviewRulerLane,EndOfLinePreference:o.EndOfLinePreference,DefaultEndOfLine:o.DefaultEndOfLine,EndOfLineSequence:o.EndOfLineSequence,TrackedRangeStickiness:o.TrackedRangeStickiness,CursorChangeReason:o.CursorChangeReason,MouseTargetType:o.MouseTargetType,TextEditorCursorStyle:o.TextEditorCursorStyle,TextEditorCursorBlinkingStyle:o.TextEditorCursorBlinkingStyle,
ContentWidgetPositionPreference:o.ContentWidgetPositionPreference,OverlayWidgetPositionPreference:o.OverlayWidgetPositionPreference,RenderMinimap:o.RenderMinimap,ScrollType:o.ScrollType,RenderLineNumbersType:o.RenderLineNumbersType,InternalEditorOptions:w.InternalEditorOptions,BareFontInfo:C.BareFontInfo,FontInfo:C.FontInfo,TextModelResolvedOptions:I.TextModelResolvedOptions,FindMatch:I.FindMatch,EditorType:i.EditorType}}}),define(e[415],t([1,0,603,458,604,170,605]),function(e,t,i,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=self;void 0===a.Promise&&(a.Promise=s.PolyfillPromise),o.EDITOR_DEFAULTS.wrappingIndent=0,o.EDITOR_DEFAULTS.viewInfo.glyphMargin=!1,o.EDITOR_DEFAULTS.autoIndent=!1;var c=a.monaco||i.createMonacoBaseAPI();c.editor=n.createMonacoEditorAPI(),c.languages=c.languages||r.createMonacoLanguagesAPI(),t.CancellationTokenSource=c.CancellationTokenSource,t.Emitter=c.Emitter,t.KeyCode=c.KeyCode,t.KeyMod=c.KeyMod,t.Position=c.Position,t.Range=c.Range,
t.Selection=c.Selection,t.SelectionDirection=c.SelectionDirection,t.MarkerSeverity=c.MarkerSeverity,t.MarkerTag=c.MarkerTag,t.Promise=c.Promise,t.Uri=c.Uri,t.Token=c.Token,t.editor=c.editor,t.languages=c.languages,a.monaco=c,void 0!==a.require&&"function"==typeof a.require.config&&a.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(e[606],t([1,0,415,607,608,609,610,471]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i)})}).call(this);
//# sourceMappingURL=../../../min-maps/vs/editor/codesandbox.editor.main.js.map